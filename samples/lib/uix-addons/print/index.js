!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("UIExtension")):"function"==typeof define&&define.amd?define(["UIExtension"],t):"object"==typeof exports?exports.PrintUIXAddon=t(require("UIExtension")):e.PrintUIXAddon=t(e.UIExtension)}(self,(function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(t,n){t.exports=e},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=navigator.userAgent.toLowerCase(),o=/opera|opr/.test(i),a=/msie/.test(i),s=/trident/.test(i),l=/\sapplewebkit\//.test(i),p=/chrome/.test(i),u=/safari/.test(i),d=/firefox/.test(i),c=/edg\//.test(i),f=t.isIE=(s||a)&&!o&&"msSaveBlob"in navigator,m=(t.isIE10=f&&(!!(r=i.match(/msie ([\d\.]+)/))&&10===parseInt(r[1])),t.isIEAtLeast11=!a&&s&&!o),g=t.isEdge=i.indexOf("edge")>-1,v=t.isOpera=o,h=t.isWebkit=l,b=t.isChromiumEdge=!v&&p&&!!window.chrome&&c,_=t.isChrome=!v&&p&&!!window.chrome&&!c,y=t.isSafari=!/huawei/.test(i)&&!v&&u&&!p,E=t.isGecko="Gecko"==navigator.product&&!h&&!v,O=t.isFirefox=!_&&!v&&!y&&d,w=t.isMaxthon=/maxthon/.test(i),D=t.isQuirksMode="BackCompact"==document.CompactMode,P=t.isQQ=/tencenttraveler/.test(i)||/qqbrowser/.test(i),C=t.isWeChat=/wechat/.test(i),I=t.isSougou=/metasr/.test(i)||/sogou/.test(i),A=t.isBaidu=/baidubrowser/.test(i),T=t.isUC=/ucbrowser/.test(i),N=t.isLiebao=/liebao/.test(i),x=t.isMiuiBrowser=/miuibrowser/.test(i),M=t.isHuaweiBrowser=/huaweibrowser/.test(i)||/huaweialp/.test(i),k=t.is360=function(){if(P||T||I||x||N||w)return!1;if(-1===i.indexOf("chrome"))return!1;var e=function(e,t){var n=navigator.mimeTypes;for(var r in n)if(n[r][e]==t)return!0;return!1}("type","application/vnd.chromium.remoting-viewer");return!window.chrome||e}();t.isIE8=!!document.documentMode&&document.documentMode<8,t.isIE8Compact=8==document.documentMode,t.isIE9Compact=9==document.documentMode,t.isIE10Compact=10==document.documentMode,t.BROWSER_DETECTION={ie:f,ieAtLeast11:m,edge:g,"chromium-edge":b,opera:v,webkit:h,chrome:_,safari:y,gecko:E,firefox:O,maxthon:w,quirksMode:D,"quirks-mode":D,qq:P,wechat:C,sougou:I,baidu:A,liebao:N,uc:T,miui:x,huawei:M,360:k}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,o=t.isTouchDevice=(i=" -webkit- -moz- -o- -ms- ".split(" "),!!("ontouchstart"in window||navigator.maxTouchPoints||window.DocumentTouch&&document instanceof DocumentTouch)||(r=["(",i.join("touch-enabled),("),"heartz",")"].join(""),!!window.matchMedia&&window.matchMedia(r).matches)),a=navigator.userAgent.toLowerCase(),s=t.isMac=/macintosh|mac os x/.test(a),l=t.isIOS=/ipad|iphone|ipod/.test(a),p=t.isIPHONE=/iphone/.test(a),u=t.isIPAD=/ipad/.test(a),d=t.isIPOD=/ipod/.test(a),c=t.isAndroid=/android/.test(a),f=t.isBlackBerry=/blackberry/.test(a),m=t.isWebOS=/webos/.test(a),g=t.isKindle=/silk|kindle/.test(a),v=t.isAliAppBrowser=/aliapp/.test(a),h=t.isTablet=!v&&/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(a),b=t.isMobile=!h&&(/mobile/.test(a)||l||c||f||m||g),_=t.isDesktop=!(b||h||c||p||u||d||g||m),y=t.isMiPad=/(MI(.*|\s*)PAD).*/i.test(a),E=t.isXiaomi=!y&&/MI(\s+|\d+?|HM|xiaomi).*/i.test(a),O=t.isHuawei=/HUAWEI/i.test(navigator.userAgent),w=t.isLinux=/Linux/i.test(a),D=t.isWindows=!w&&/Windows(\s+NT)?/i.test(a),P=t.isMacOS=/MacIntosh|(mac os)/i.test(a);t.DEVICE_DETACTION={mac:s,ios:l,iphone:p,ipad:u,ipod:d,android:c,blackberry:f,webos:m,kindle:g,tablet:h,mobile:b,desktop:_,xiaomi:E,huawei:O,touch:o,linux:w,windows:D,macos:P}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),i=p(n(4)),o=p(n(5)),a=p(n(8)),s=p(n(12)),l=n(1);function p(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}}(e,t))}var f=r.Controller,m=function(e){function t(){return u(this,t),d(this,e.apply(this,arguments))}return c(t,e),t.getName=function(){return"print"},t.getLoader=function(){return i.default},t.initOnLoad=function(){var e=r.modular.module("print",[]);e.registerController(o.default),e.registerPreConfiguredComponent("contextmenu-item-print",{template:'<contextmenu-item name="fv--contextmenu-item-print" @controller="print:ShowPrintDialogController" shortcut="Ctrl + P">print:button-tooltip.title</contextmenu-item>'}),e.registerPreConfiguredComponent("print-button",{template:'<xbutton @tooltip name="print-button" icon-class="fv__icon-toolbar-print" @controller="print:ShowPrintDialogController">print:button-tooltip.title</xbutton>',config:[{target:"print-button",tooltip:{title:"print:button-tooltip.title"}}]});var t=function(e){function t(){return u(this,t),d(this,e.apply(this,arguments))}return c(t,e),t.prototype.mounted=function(){var e=this.component.findClosestComponent((function(e){return"print-dialog"===e.name}));this.printDialogController=e.controller},t}(f);e.registerFragment("print-dialog",{template:(0,a.default)(),config:[{target:"print-dialog",callback:s.default},{target:"fv--print-hide-header-footer",callback:function(e){function t(){return u(this,t),d(this,e.apply(this,arguments))}return c(t,e),t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this),this.component.setValue(this.printDialogController.hideHeaderFooter),this.component.on("change",(function(){t.printDialogController.hideHeaderFooter=t.component.getValue()}))},t}(t)}]})},t.prototype.init=function(e){this.pdfUI=e},t.prototype.fragments=function(){return[]},t.prototype.receiveAction=function(e,t){var n=this;switch(e){case"showPrintDialog":return this.pdfUI.activeElement(null),this.pdfUI.getPDFViewer().then((function(e){return n.pdfUI.getComponentByName("print-dialog").then((function(t){if(!t)return Promise.reject(new Error("print-dialog cannot be found, Please confirm this component has been defined in layout-template."));var n=t.getComponentByName("fv--print-header-footer-container");l.isChrome||l.isFirefox||l.isChromiumEdge?(n.show(),t.element.querySelector("[name=fv--print-hide-header-footer]").checked=e.getPrintSetting("showHeaderFooter")):n.hide();t.getComponentByName("print-dropdown-quality").setValue(e.getPrintSetting("quality")),t.open(document.body)}))}))}},t}(r.UIXAddon);t.default=m},function(e,t){e.exports=null},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0));n(6);var o=n(7),a=n(2),s=n(1);function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}}(e,t))}var p=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n))}return l(t,e),t.getName=function(){return"ShowPrintDialogController"},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this);this.getPDFUI().getKeyboardEventBinder(i.UIConsts.PDFUI_BINDER).then((function(e){try{e.registerKeybinding("print-command",a.isMac?"Meta+P":"Ctrl+P")}catch(e){return}t.addDestroyHook(e.before("print-command",(function(e){e.preventDefault(),t.component.isLocked||t.handle()})))}))},t.prototype.handle=function(){var e=this;(0,o.supportedPrint)()?(this.getPDFUI().activeElement(null),this.getPDFUI().getPDFViewer().then((function(t){var n=e.getComponentByName("print-dialog"),r=n.getComponentByName("fv--print-header-footer-container");s.isChrome||s.isFirefox||s.isChromiumEdge?(r.show(),n.element.querySelector("[name=fv--print-hide-header-footer]").checked=t.getPrintSetting("showHeaderFooter")):r.hide();n.element.querySelector(".fv__ui-quality-alert").style.display="none",n.getComponentByName("print-dropdown-quality").setValue(t.getPrintSetting("quality")),n.open(document.body)}))):this.getPDFUI().alert("print:dialog.unsupported.message","print:dialog.unsupported.title")},r(t,null,[{key:"permission",get:function(){return 4}}]),t}(i.Controller);t.default=p},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportedPrint=function(){return!r.isMobile||i.isChrome||i.isSafari};var r=n(2),i=n(1)},function(e,t,n){n(9);e.exports=function(e){"use strict";e=e||{};return'<layer name="print-dialog" class="fv__ui-print-layer center" append-to="body" @draggable>\r\n    <layer-header title="print:dialog.printDialog.title"></layer-header>\r\n    <div class="fv__ui-print-dialog" @stop-drag>\r\n        <div class="fv__ui-print-dialog-body">\r\n            <div class="fv__ui-print-item" name="range-item">\r\n                <div class="fv__ui-print-item-title" data-i18n="print:dialog.printDialog.range"></div>\r\n                <div class="fv__ui-print-range">\r\n                    <label><input name="print-range" type="radio" value="all"/><span data-i18n="print:dialog.printDialog.all"></span></label>\r\n                </div>\r\n                <div class="fv__ui-print-range">\r\n                    <label><input name="print-range" type="radio" value="current"/><span data-i18n="print:dialog.printDialog.current"></span></label>\r\n                </div>\r\n                <div class="fv__ui-print-range fv__ui-force-hide">\r\n                    <label>\r\n                        <input name="print-range" type="radio" value="fromTo"/>\r\n                        <span data-i18n="print:dialog.printDialog.from"></span>\r\n                        <input class="print-common-input" type="number" min="1" name="range-from"/>\r\n                        <span data-i18n="print:dialog.printDialog.to"></span>\r\n                        <input class="print-common-input" type="number" name="range-to"/>\r\n                    </label>\r\n                </div>\r\n                <div class="fv__ui-print-range">\r\n                    <label><input name="print-range" type="radio" value="assign"/><span data-i18n="print:dialog.printDialog.assign"></span><input class="print-common-input" type="text" name="range-assign"/><span>1,2,5-8</span></label>\r\n                </div>\r\n            </div>\r\n            <div class="fv__ui-print-item">\r\n                <div class="fv__ui-print-item-title" data-i18n="print:dialog.printDialog.comments"></div>\r\n                <div class="fv__ui-print-comments">\r\n                    <label><input name="print-comments" type="checkbox" value=""/><span data-i18n="print:dialog.printDialog.printComments"></span></label>\r\n                </div>\r\n            </div>\r\n            <div class="fv__ui-print-item">\r\n                <div class="fv__ui-print-item-title" data-i18n="print:dialog.printDialog.moreOptions"></div>\r\n                <div class="fv__ui-print-more-options" name="fv--print-page-size-container">\r\n                    <div class="fv__ui-print-item-title-sub" data-i18n="print:dialog.printDialog.quality"></div>\r\n                    <slider class="fv__print-quality" unit=\'%\' max="1000" min="100" step="1" value="100"\r\n                            name="print-dropdown-quality" @stop-drag></slider>\r\n                </div>\r\n                <div class="fv__ui-quality-alert" data-i18n="print:dialog.printDialog.alert"></div>\r\n                <div  name="fv--print-header-footer-container" class="fv__ui-print-more-options">\r\n                    <label>\r\n                        <input name="fv--print-hide-header-footer" type="checkbox">\r\n                        <span data-i18n="print:dialog.printDialog.headerAndFooter"></span>\r\n                    </label>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="fv__ui-print-dialog-footer">\r\n            <div class="fv__ui-print-dialog-btns">\r\n                <button class="fv__ui-print-btn fv__ui-print-dialog-cancel" data-i18n="print:dialog.cancel" name="print-dialog-close-btn"></button>\r\n                <button class="fv__ui-print-btn fv__ui-print-dialog-ok" data-i18n="print:dialog.ok" name="print-dialog-ok-btn"></button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</layer>','<layer name="print-dialog" class="fv__ui-print-layer center" append-to="body" @draggable>\r\n    <layer-header title="print:dialog.printDialog.title"></layer-header>\r\n    <div class="fv__ui-print-dialog" @stop-drag>\r\n        <div class="fv__ui-print-dialog-body">\r\n            <div class="fv__ui-print-item" name="range-item">\r\n                <div class="fv__ui-print-item-title" data-i18n="print:dialog.printDialog.range"></div>\r\n                <div class="fv__ui-print-range">\r\n                    <label><input name="print-range" type="radio" value="all"/><span data-i18n="print:dialog.printDialog.all"></span></label>\r\n                </div>\r\n                <div class="fv__ui-print-range">\r\n                    <label><input name="print-range" type="radio" value="current"/><span data-i18n="print:dialog.printDialog.current"></span></label>\r\n                </div>\r\n                <div class="fv__ui-print-range fv__ui-force-hide">\r\n                    <label>\r\n                        <input name="print-range" type="radio" value="fromTo"/>\r\n                        <span data-i18n="print:dialog.printDialog.from"></span>\r\n                        <input class="print-common-input" type="number" min="1" name="range-from"/>\r\n                        <span data-i18n="print:dialog.printDialog.to"></span>\r\n                        <input class="print-common-input" type="number" name="range-to"/>\r\n                    </label>\r\n                </div>\r\n                <div class="fv__ui-print-range">\r\n                    <label><input name="print-range" type="radio" value="assign"/><span data-i18n="print:dialog.printDialog.assign"></span><input class="print-common-input" type="text" name="range-assign"/><span>1,2,5-8</span></label>\r\n                </div>\r\n            </div>\r\n            <div class="fv__ui-print-item">\r\n                <div class="fv__ui-print-item-title" data-i18n="print:dialog.printDialog.comments"></div>\r\n                <div class="fv__ui-print-comments">\r\n                    <label><input name="print-comments" type="checkbox" value=""/><span data-i18n="print:dialog.printDialog.printComments"></span></label>\r\n                </div>\r\n            </div>\r\n            <div class="fv__ui-print-item">\r\n                <div class="fv__ui-print-item-title" data-i18n="print:dialog.printDialog.moreOptions"></div>\r\n                <div class="fv__ui-print-more-options" name="fv--print-page-size-container">\r\n                    <div class="fv__ui-print-item-title-sub" data-i18n="print:dialog.printDialog.quality"></div>\r\n                    <slider class="fv__print-quality" unit=\'%\' max="1000" min="100" step="1" value="100"\r\n                            name="print-dropdown-quality" @stop-drag></slider>\r\n                </div>\r\n                <div class="fv__ui-quality-alert" data-i18n="print:dialog.printDialog.alert"></div>\r\n                <div  name="fv--print-header-footer-container" class="fv__ui-print-more-options">\r\n                    <label>\r\n                        <input name="fv--print-hide-header-footer" type="checkbox">\r\n                        <span data-i18n="print:dialog.printDialog.headerAndFooter"></span>\r\n                    </label>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="fv__ui-print-dialog-footer">\r\n            <div class="fv__ui-print-dialog-btns">\r\n                <button class="fv__ui-print-btn fv__ui-print-dialog-cancel" data-i18n="print:dialog.cancel" name="print-dialog-close-btn"></button>\r\n                <button class="fv__ui-print-btn fv__ui-print-dialog-ok" data-i18n="print:dialog.ok" name="print-dialog-ok-btn"></button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</layer>'}},function(e,t,n){"use strict";e.exports=n(10)},function(e,t,n){"use strict";(function(t){
/*! art-template@runtime | https://github.com/aui/art-template */
var n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{},r=Object.create(n),i=/["&'<>]/;r.$escape=function(e){return function(e){var t=""+e,n=i.exec(t);if(!n)return e;var r="",o=void 0,a=void 0,s=void 0;for(o=n.index,a=0;o<t.length;o++){switch(t.charCodeAt(o)){case 34:s="&#34;";break;case 38:s="&#38;";break;case 39:s="&#39;";break;case 60:s="&#60;";break;case 62:s="&#62;";break;default:continue}a!==o&&(r+=t.substring(a,o)),a=o+1,r+=s}return a!==o?r+t.substring(a,o):r}(function e(t){"string"!=typeof t&&(t=null==t?"":"function"==typeof t?e(t.call(t)):JSON.stringify(t));return t}(e))},r.$each=function(e,t){if(Array.isArray(e))for(var n=0,r=e.length;n<r;n++)t(e[n],n);else for(var i in e)t(e[i],i)},e.exports=r}).call(this,n(11))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),o=n(13);function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}}(e,t))}var s=i.PDFViewCtrl.Deps.jQuery,l=(i.PDFViewCtrl.Events,function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.startIndex=0,r.endIndex=0,r.pageCount=0,r.fromToArray=[],r}return a(t,e),t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this),this.$closeBtn=s(this.component.getComponentByName("print-dialog-close-btn").element),this.$okBtn=s(this.component.getComponentByName("print-dialog-ok-btn").element),this.$range=s(this.component.getComponentByName("range-item").element),this.$rangeFrom=s(this.component.getComponentByName("range-from").element),this.$rangeTo=s(this.component.getComponentByName("range-to").element),this.$rangeAssign=s(this.component.getComponentByName("range-assign").element),this.$printComments=s(this.component.getComponentByName("print-comments").element),this.component.on(o.COMPONENT_EVENTS.SHOWN,(function(){t.getPDFUI().getPDFViewer().then((function(e){t.hideHeaderFooter=e.getPrintSetting("hideHeaderFooter"),t.pageSize=e.getPrintSetting("pageSize")})),t.getPDFUI().getCurrentPDFDoc().then((function(e){t.pageCount=e.getPageCount()}))})),this.component.on(o.COMPONENT_EVENTS.HIDDEN,(function(){[t.$rangeFrom,t.$rangeTo,t.$rangeAssign].forEach((function(e){return e.removeClass("fv__print-error")}))})),this._bindEvent()},t.prototype._bindEvent=function(){var e=this,t=this,n=this.getPDFUI();this.$range.find("[value='current']").prop({checked:"checked"}),a(),l(),p(),this.$closeBtn.on("click",(function(){e.component.hide()}));var i=this.$range.find("[name='print-range']");i.on("change",(function(t){var n=t.target.value;switch(p(),n){case"fromTo":e.$rangeFrom.prop({disabled:!1}),e.$rangeTo.prop({disabled:!1}),l();break;case"assign":e.$rangeAssign.prop({disabled:!1}),a();break;default:l(),a()}})),this.$rangeFrom.on("input",(function(n){var r=n.target.value;r>t.pageCount?e.$rangeFrom.val(t.pageCount):r>t.$rangeTo.val()&&t.$rangeTo.val(r)})),this.$rangeTo.on("input",(function(n){n.target.value>t.pageCount&&e.$rangeTo.val(t.pageCount)})),this.$okBtn.on("click",(function(){n.getPDFDocRender().then((function(n){var i={fromToArray:[]},o=i.rangeType=e.$range.find("[name='print-range']:checked").val();switch(o){case"all":i.startIndex=0,i.endIndex=t.pageCount-1;break;case"current":i.startIndex=n.getCurrentPageIndex(),i.endIndex=i.startIndex;break;case"fromTo":if(i.startIndex=t.$rangeFrom.val()-1,i.endIndex=t.$rangeTo.val()-1,i.startIndex<0||i.startIndex>t.pageCount-1)return void e.showError(t.$rangeFrom);if(i.endIndex<0||i.endIndex>t.pageCount-1)return void e.showError(t.$rangeTo);break;default:var a=t.$rangeAssign.val();if(new RegExp(/[^\d\-,]/).test(a))return void e.showError(t.$rangeAssign);for(var s=a.split(","),l=0;l<s.length;l++){var p=s[l];if(p.indexOf("-")>-1){var u=p.split("-"),d=r(u,3),c=d[0],f=d[1];if(d[2]||""===f)return void e.showError(t.$rangeAssign);var m=Math.min(+c,+f),g=Math.max(+c,+f);if(m<1||g>t.pageCount)return void e.showError(t.$rangeAssign);i.fromToArray.push([m,g])}else{if(p<1||p>t.pageCount)return void e.showError(t.$rangeAssign);i.fromToArray.push([+p,+p])}}}var v=e.$printComments.prop("checked");i.printType=v?["page","annot"]:["page"];var h=0;if("assign"===o)for(var b=0;b<i.fromToArray.length;b++){h+=i.fromToArray[b][1]-i.fromToArray[b][0]+1}else h=i.endIndex-i.startIndex+1;i.total=h;var _=e.component.getComponentByName("print-dropdown-quality").getValue();i.quality=_,i.hideHeaderFooter=!e.component.element.querySelector("[name=fv--print-hide-header-footer]").checked,e.component.hide(),e.getPDFUI().printPDFDocument(i)}))}));var o=this.component.getComponentByName("print-dropdown-quality");function a(){t.$rangeFrom.prop({disabled:!0}),t.$rangeTo.prop({disabled:!0})}function l(){t.$rangeAssign.prop({disabled:!0})}function p(){s(".fv__print-error").removeClass("fv__print-error")}o.on("change",(function(t){var n=s(e.component.element).find(".fv__ui-quality-alert");o.getValue()>500?n.show():n.hide()})),this.addDestroyHook((function(){i.off("change"),e.$rangeFrom.off("input"),e.$rangeTo.off("input"),e.$okBtn.off("click")}))},t.prototype.showError=function(e){e.addClass("fv__print-error")},t}(i.Controller));t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ORIENTATION_VERTICAL="vertical",t.ORIENTATION_HORIZONTAL="horizontal",t.ROOT_MODULE_NAME="",t.WEBPDF_VIEWER_COMPONENT_NAME="pdf-viewer",t.NAMESPACE_SEPERATOR=":",t.PDFUI_BINDER="pdfui-event-binder",t.MODAL_LAYER_BINDER="pdfui-default-modal-binder",t.KEY_MAP_OPEN_SIDEBAR="pdfui-open-sidebar",t.KEY_MAP_CLOSE_SIDEBAR="pdfui-close-sidebar",t.KEY_MAP_OPEN_QUICK_SEARCH="pdfui-open-quick-search",t.KEY_MAP_EXIT_TO_HAND_STATE="pdfui-exit-to-hand-state",t.KEY_MAP_EXIT_LAYER="pdfui-exit-modal-layer",t.KEY_MAP_COPY_ANNOT="pdfui-copy-annot",t.MODULE_LICENSE_INFO="module-license-info",t.COMPONENT_BROADCAST_LOCALIZE="localize",t.FRAGMENT_ACTION={BEFORE:"before",AFTER:"after",APPEND:"append",PREPEND:"prepend",INSERT:"insert",FILL:"fill",REPLACE:"replace",EXT:"ext",REMOVE:"remove"},t.FRAGMENT_SELECT_HANDLER={THROW_ERROR_IF_NOT_FOUND:"throw",LOG_MESSAGE_IF_NOT_FOUND:"warn",IGNORE_IF_NOT_FOUND:"ignore"},t.COMPONENT_EVENTS={DISABLE:"disable",ENABLE:"enable",ACTIVE:"active",DEACTIVE:"deactive",SHOWN:"shown",HIDDEN:"hidden",DESTROYED:"destroyed",REMOVED:"removed",CHILD_INSERTED:"child_inserted",INSERTED:"inserted",MOUNTED:"mounted",CLOSED:"closed",EXPAND:"expand",BEFORE_EXPAND:"before_expand",RESIZESTART:"resizestart",RESIZE:"resize",COLLAPSE:"collapse"},t.KEY_MAP_ADD_BOOKMARK="pdfui-add-bookmark",t.LOAD_ADDON_DYNAMIC_DISPATCHER="pdfui-load-addon-dynamic-dispatcher",t.LOAD_ADDON_DYNAMIC_COMPLETE="pdfui-load-addon-dynamic-complete"}]).default}));