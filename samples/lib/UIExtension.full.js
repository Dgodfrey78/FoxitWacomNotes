!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.UIExtension=t():e.UIExtension=t()}(self,(function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=605)}([function(e,t,n){var o=n(23),r=n(87),i=n(68),a=n(69),s=n(88),c=function(e,t,n){var u,l,f,p,d=e&c.F,h=e&c.G,g=e&c.S,m=e&c.P,v=e&c.B,y=h?o:g?o[t]||(o[t]={}):(o[t]||{}).prototype,b=h?r:r[t]||(r[t]={}),w=b.prototype||(b.prototype={});for(u in h&&(n=t),n)f=((l=!d&&y&&void 0!==y[u])?y:n)[u],p=v&&l?s(f,o):m&&"function"==typeof f?s(Function.call,f):f,y&&a(y,u,f,e&c.U),b[u]!=f&&i(b,u,p),m&&w[u]!=f&&(w[u]=f)};o.core=r,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(19),i=(o=r)&&o.__esModule?o:{default:o};t.default=Object.assign({jrLicenseSuccess:"jr-license-success",srLicenseSuccess:"sr-license-success",beforeOpenFile:"before-open-file",openingFile:"opening-file",beforeLoadPDFDoc:"before-load-pdf-document",startConvert:"start-convert",finishConvert:"finish-convert",openFileSuccess:"open-file-success",openFileFailed:"open-file-failed",willCloseDocument:"will-close-document",renderFileSuccess:"render-file-success",renderFileFailed:"render-file-error",beforeRenderPage:"before-render-page",renderPageSuccess:"render-page-success",beforeZoomTo:"before-zoom-to",zoomToSuccess:"zoom-to-success",zoomToFailed:"zoom-to-failed",startChangeViewMode:"start-change-view-mode",changeViewModeSuccess:"change-view-mode-success",changeViewModeFailed:"change-view-mode-failed",pagesLayoutRedrawBegin:"pages-layout-redraw-begin",pageLayoutRedraw:"page-layout-redraw",pagesLayoutRedrawEnd:"pages-layout-redraw-end",copyTextSuccess:"copy-text-success",copyTextFailed:"copy-text-failed",tapPage:"tap-page",tapAnnotation:"tap-annotation",pressPage:"press-page",pressAnnotation:"press-annotation",pressText:"press-text",rightClickPage:"right-click-page",rightClickAnnotation:"right-click-annotation",doubleTapPage:"double-tap-page",doubleTapAnnotation:"double-tap-annotation",activeAnnotationBefore:"active-annotation-before",activeAnnotation:"active-annotation",activeAnnotationAfter:"active-annotation-after",panActiveAnnotation:"pan-active-annotation",doubleTapActiveAnnotation:"double-tap-active-annotation",contextMenuActiveAnnotation:"contextmenu-action-annotation",unActiveAnnotation:"unactive-annotation",updateActiveAnnotation:"update-action-annotation",updateActionAnnotation:"update-action-annotation",removeActiveAnnotationBefore:"remove-action-annotation-before",removeActionAnnotationBefore:"remove-action-annotation-before",removeActiveAnnotationSuccess:"remove-action-annotation-success",removeActionAnnotationSuccess:"remove-action-annotation-success",removeActiveAnnotationFailed:"remove-action-annotation-failed",removeActionAnnotationFailed:"remove-action-annotation-failed",switchStateHandler:"switch-state-handler",deactiveStateHandler:"deactive-state-handler",redactAnnotRendered:"redact-annot-rendered",redactAnnotAllApplyed:"applyed-all-redaction",redactAnnotApplyed:"applyed-redaction",pageNumberChange:"page-number-change",beforeDocumentRotation:"before-document-rotation",afterDocumentRotation:"after-document-rotation",snapModeChanged:"snap-mode-changed",createPageAreaRenderer:"create-page-area-renderer",destroyPageAreaRenderer:"destroy-page-area-renderer",startUpdatePageAreaRenderer:"start-update-page-area-renderer",createSnapshotArea:"create-snapshot-area",updateSnapshotArea:"update-snapshot-area",stabilizedSnapshotArea:"stabilized-snapshot-area",switchPageAreaRenderer:"switch-page-area-renderer",fitWidthResizeViewport:"fit-width-resize-viewport",signatureFieldMouseLButtonDown:"signature-field-Lbutton-down",signatureFieldMouseLButtonUp:"signature-field-LButton-up",signatureFieldMouseEnter:"signature-field-mouse-enter",signatureFieldMouseExit:"signature-field-mouse-exit",visiblePagesRenderCompleted:"completed-render-visible-pages",marqueeZoomIn:"marquee-zoom-in",marqueeZoomOut:"marquee-zoom-out",inkSignAdded:"inkSign-added",inkSignDeleted:"inkSign-deleted",pageMoved:"page-moved",pageRemoved:"page-removed",pageAdded:"page-added",customDataAdd:"custom-data-add",customDataImported:"custom-data-imported",customDataRemoved:"custom-data-removed",customDataUpdated:"custom-data-updated",distanceAnnotCreationStart:"distance-creation-start",updateDistanceAnnot:"update-distance-annot",distanceAnnotCreationEnd:"distance-creation-end",distanceAnnotCreationCancel:"distance-creation-cancel",addEditImage:"add-edit-image",InkImageSelected:"ink-image-selected",checkTheSearch:"check-the-search",activeElementChanged:"active-element-changed",cancelCreatingDistance:"cancel-creating-measurement",completeCreatingDistance:"complete-creating-measurement",eraserSuccess:"eraser-success",addAnnotSuccess:"add-annot-success",cancelAddAnnot:"cancel-add-annot",globalAnnotFlagChanged:"global-annot-flag-changed",toolbarTabsClicked:"toolbar-tabs-clicked",disableScroll:"disable-scroll",enableScroll:"enable-scroll",updateScrollableStatus:"update-scrollable-status",selectText:"select-text",changeEnableJS:"change-enable-js",toggleEngineSr2JrSuccess:"toggle-engine-sr-to-jr-success",iconInited:"iconInited",iconAdded:"iconAdded",iconRemoved:"iconRemoved",annotationPermissionChanged:"annotation-premission-changed",startScrollingPage:"pdfui-start-scrolling-page",scrollingPage:"pdfui-scrolling-page",endScrollingPage:"pdfui-end-scrolling-page",designerAssistantStatusChanged:"form-designer-assistant-status-changed",mouseEnter:"mouse-enter",mouseLeave:"mouse-leave",setFromFieldHighlight:"set_form_field_highlight",AddFontMaps:"set_font_map"},i.default)},function(e,t,n){"use strict";e.exports=n(824)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=d(n(40)),i=d(n(13)),a=d(n(419)),s=d(n(56)),c=d(n(9)),u=n(210),l=d(n(420)),f=n(882),p=n(279);function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var g=["window","document","top","setTimeout","setInterval","Function","eval","self","globalThis","global"],m=["location","screen"],v=window.Function,y=new v("return ({__proto__: null}) instanceof Object;")();function b(e,t){for(var n=[t],o=e,r=t;o;){var i=o.__proto__;if(i===Object.prototype||i===o||null==i)break;r+=".__proto__",n.push(r),o=i}return n.reduce((function(e,t){return"with("+t+"){\n            "+e+"\n        };"}),"{block-place}")}var w,_=(w=0,function(e){return e+"_"+(w++).toString(16)});function P(e,t){if(t[e])return t[e];var n,o=(0,f.splitExpression)(e),r=(n=o,Array.isArray(n)?n:Array.from(n)),i=r[0],a=r.slice(1),s=_("_self"),c=_("_sandbox"),u=_("_tempValue"),p=("return (function("+u+") {\n            "+u+" = "+u+" || {};\n            with("+u+") {\n                with("+s+".methods) {\n                    return (function(){\n                        'use strict';\n                        return {code};\n                    }).call(this)\n                }\n            }\n        }).bind("+c+");").replace(/[\r\n]/g,"").replace("{code}",i),d=void 0;if(y){var h=_("_createDynamicWithBlock"),g=_("_Fn"),m=p.replace(/(?!\\)'/g,"\\'");d=new v(h,g,s,"\n                var "+c+" = "+s+"._sandbox();\n                var dynamicCode = "+h+"("+c+", '"+c+"')\n                                    .replace('{block-place}', '"+m+"');\n                return new "+g+"('"+c+"','"+s+"', dynamicCode).call(null, "+c+", "+s+")\n            ").bind(null,b,v)}else d=new v(s,"\n                var "+c+" = "+s+"._sandbox();\n                with("+c+") {\n                    "+p+"\n                }\n            ");if(a.length>0){var w=new l.default(a);return t[e]=function(e){var t=d.call(this,e);return function(){for(var n=void 0,o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];switch(r.length){case 0:n=t.call(this);break;case 1:n=t.call(this,r[0]);break;case 2:n=t.call(this,r[0],r[1]);break;case 3:n=t.call(this,r[0],r[1],r[2]);break;default:n=t.apply(this,r)}return{value:n,transformed:w.transform(n,e)}}}}return t[e]=function(e){var t=d.call(this,e);return function(){for(var e=void 0,n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];switch(o.length){case 0:e=t.call(this);break;case 1:e=t.call(this,o[0]);break;case 2:e=t.call(this,o[0],o[1]);break;case 3:e=t.call(this,o[0],o[1],o[2]);break;default:e=t.apply(this,o)}return{value:e,transformed:e}}}}var O=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return o.component=n,o.data=Object.assign({},n.$options.$initData||{}),o.methods={},o.$$sources={},o.$$code={},o.addDestroyHook((function(){var e=o.$$sources;for(var t in e){e[t].destroy()}o.$$sources={},o.$$code={}})),o.root=n.getRoot(),o.freeze(!1),o.$$watches=[],n.parent&&o.setParentScope(n.parent.controller),o}return h(t,e),t.extend=function(e,t){return(0,u.createClass)(e,this,t)},t.getName=function(){(0,s.default)()},t.isFake=function(){return!1},t.services=function(){},o(t,null,[{key:"permission",get:function(){return 4294967295}}]),t.prototype.initServices=function(e){var t=this.constructor.services();t&&(0,p.initService)(e,this.component,t,this)},t.prototype.getComponentByName=function(e){return this.component.getRoot().getComponentByName(e)},t.prototype.eval=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=e.trim();var n=this.compileCode(e),o=n.call(this,t);return o.transformed},t.prototype.watch=function(e,t){var n=this,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("function"!=typeof t)throw new TypeError("Illigal argument: callback must be a function");var r=new Error,i=this.compileCode(e),a=function(){try{return i()}catch(t){c.default.getLogger(n.constructor.getName()).warn("excute expression error",e,t,r)}},s=void 0,u=void 0,l=void 0,f=function(){if(!n.isFreezed()){var e=a();if(e){var r=e.value,i=e.transformed,c=s,f=u,p=l;if(s=r,l=i,o){var d=JSON.stringify(r);u=d,d!==f&&t(i,p)}else(r!==c||Array.isArray(r)&&Array.isArray(c)&&r.length!==c.length)&&t(i,p)}}};return f.$expression=e,this.$$watches.push(f),function(){var e=n.$$watches.indexOf(f);e>-1&&n.$$watches.splice(e,1)}},t.prototype.digest=function(){this.isFreezed()||this.$$watches.forEach((function(e){return e()}))},t.prototype.applyAll=function(){var e=this;this.digest(),this.component.isContainer()&&this.component.$container.each((function(t){t.controller!==e.component.controller&&t.controller.applyAll()}))},t.prototype.compileCode=function(e){return P(e,this.$$code).call(this,this)},t.prototype._sandbox=function(){var e=this;function t(){}t.prototype=this.data;var n=new t;return g.forEach((function(t){Object.defineProperty(n,t,{get:function(){if(t in e.data)return e.data[t];c.default.getLogger(e.constructor.getName()).warn('Accessing insecure field is not allowed: "'+t+'"!')}})})),m.forEach((function(e){return o(e,window[e])})),o("$controller",this),o("$this",this),o("$rootComponent",this.root),o("$root",this.root.controller.data),o("$component",this.component),o("$data",this.data),o("$pdfui",this.pdfUI),o("$$",(function(t){return e.getComponentByName(t)})),n;function o(e,t){return Object.defineProperty(n,e,{get:function(){return t}})}},t.prototype.setTimeout=function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){var n=this;if("function"!=typeof e)throw new TypeError("Illegal argument: callback is not a function");var o=setTimeout((function(){try{e()}finally{n.digest()}}),t);return function(){return clearTimeout(o)}})),t.prototype.setInterval=function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){var n=this;if("function"!=typeof e)throw new TypeError("Illegal argument: callback is not a function");var o=setInterval((function(){try{e()}finally{n.digest()}}),t);return function(){return clearInterval(o)}})),t.prototype.getDataSource=function(e){e=e.trim();var t=this.$$sources[e];if(t)return t;var n=e.split("."),o="",r=n.slice(0,n.length-1).reduce((function(e,t){if(null==e)throw new Error("cannot access "+t+" from '"+e+"': "+o+" ");return o=o?o+"."+t:t,e[t]}),this.data),i=n[n.length-1];return this.$$sources[e]=new a.default(r,i)},t.prototype.setParentScope=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.$parent!==e||t)if(this.$parent=e,e){if(this.data.isPrototypeOf(e.data)||this.data===e.data)return;this.data=n(this.data,e.data),this.methods=n(this.methods,e.methods),this.data.$parent=e.data}else this.data=n(this.data,Object.prototype),this.methods=n(this.methods,Object.prototype),this.data.$parent=null;function n(e,t){return null==t&&(t=Object.prototype),Object.setPrototypeOf?(Object.setPrototypeOf(e,t),e):Object.create(t,Object.getOwnPropertyDescriptors(e))}},t.prototype.setPDFUIInstance=function(e){this.pdfUI=e,e&&this.initServices(e)},t.prototype.getPDFUI=function(){return this.pdfUI},t.prototype.prelink=function(){(0,r.default)()},t.prototype.postlink=function(){(0,r.default)()},t.prototype.mounted=function(){var e=this;this.digest(),this.addDestroyHook(this.getPDFUI().addViewerEventListener("open-file-success",(function(t){return e.changePeimission(t)}))),this.addDestroyHook(this.getPDFUI().addViewerEventListener("permission-changed",(function(t){return e.changePeimission(t)})))},t.prototype.changePeimission=function(e){var t=this;this.getPDFUI().getPDFDocRender().then((function(e){return e.getUserPermission().getValue()})).then((function(e){e&t.constructor.permission?t.component.lock&&t.component.unlock():t.component.lock&&t.component.lock()}))},t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.handle=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];(0,r.default)(t)},t.prototype.uninstall=function(){this.destroy()},t.prototype.freeze=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.data.$$freezed=e},t.prototype.isFreezed=function(){return this.data.$$freezed},t}(i.default);t.default=O},function(e,t,n){var o;
/*!
 * jQuery JavaScript Library v3.5.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2020-05-04T22:49Z
 */!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,(function(n,r){"use strict";var i=[],a=Object.getPrototypeOf,s=i.slice,c=i.flat?function(e){return i.flat.call(e)}:function(e){return i.concat.apply([],e)},u=i.push,l=i.indexOf,f={},p=f.toString,d=f.hasOwnProperty,h=d.toString,g=h.call(Object),m={},v=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},y=function(e){return null!=e&&e===e.window},b=n.document,w={type:!0,src:!0,nonce:!0,noModule:!0};function _(e,t,n){var o,r,i=(n=n||b).createElement("script");if(i.text=e,t)for(o in w)(r=t[o]||t.getAttribute&&t.getAttribute(o))&&i.setAttribute(o,r);n.head.appendChild(i).parentNode.removeChild(i)}function P(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?f[p.call(e)]||"object":typeof e}var O=function(e,t){return new O.fn.init(e,t)};function E(e){var t=!!e&&"length"in e&&e.length,n=P(e);return!v(e)&&!y(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}O.fn=O.prototype={jquery:"3.5.1",constructor:O,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=O.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return O.each(this,e)},map:function(e){return this.pushStack(O.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(O.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(O.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:i.sort,splice:i.splice},O.extend=O.fn.extend=function(){var e,t,n,o,r,i,a=arguments[0]||{},s=1,c=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||v(a)||(a={}),s===c&&(a=this,s--);s<c;s++)if(null!=(e=arguments[s]))for(t in e)o=e[t],"__proto__"!==t&&a!==o&&(u&&o&&(O.isPlainObject(o)||(r=Array.isArray(o)))?(n=a[t],i=r&&!Array.isArray(n)?[]:r||O.isPlainObject(n)?n:{},r=!1,a[t]=O.extend(u,i,o)):void 0!==o&&(a[t]=o));return a},O.extend({expando:"jQuery"+("3.5.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==p.call(e))&&(!(t=a(e))||"function"==typeof(n=d.call(t,"constructor")&&t.constructor)&&h.call(n)===g)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){_(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,o=0;if(E(e))for(n=e.length;o<n&&!1!==t.call(e[o],o,e[o]);o++);else for(o in e)if(!1===t.call(e[o],o,e[o]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(E(Object(e))?O.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:l.call(t,e,n)},merge:function(e,t){for(var n=+t.length,o=0,r=e.length;o<n;o++)e[r++]=t[o];return e.length=r,e},grep:function(e,t,n){for(var o=[],r=0,i=e.length,a=!n;r<i;r++)!t(e[r],r)!==a&&o.push(e[r]);return o},map:function(e,t,n){var o,r,i=0,a=[];if(E(e))for(o=e.length;i<o;i++)null!=(r=t(e[i],i,n))&&a.push(r);else for(i in e)null!=(r=t(e[i],i,n))&&a.push(r);return c(a)},guid:1,support:m}),"function"==typeof Symbol&&(O.fn[Symbol.iterator]=i[Symbol.iterator]),O.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){f["[object "+t+"]"]=t.toLowerCase()}));var x=
/*!
 * Sizzle CSS Selector Engine v2.3.5
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2020-03-14
 */
function(e){var t,n,o,r,i,a,s,c,u,l,f,p,d,h,g,m,v,y,b,w="sizzle"+1*new Date,_=e.document,P=0,O=0,E=ce(),x=ce(),C=ce(),A=ce(),S=function(e,t){return e===t&&(f=!0),0},D={}.hasOwnProperty,T=[],I=T.pop,R=T.push,M=T.push,j=T.slice,k=function(e,t){for(var n=0,o=e.length;n<o;n++)if(e[n]===t)return n;return-1},N="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",F="[\\x20\\t\\r\\n\\f]",L="(?:\\\\[\\da-fA-F]{1,6}"+F+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",V="\\["+F+"*("+L+")(?:"+F+"*([*^$|!~]?=)"+F+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+L+"))|)"+F+"*\\]",B=":("+L+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+V+")*)|.*)\\)|)",U=new RegExp(F+"+","g"),H=new RegExp("^"+F+"+|((?:^|[^\\\\])(?:\\\\.)*)"+F+"+$","g"),$=new RegExp("^"+F+"*,"+F+"*"),W=new RegExp("^"+F+"*([>+~]|"+F+")"+F+"*"),q=new RegExp(F+"|>"),z=new RegExp(B),G=new RegExp("^"+L+"$"),Y={ID:new RegExp("^#("+L+")"),CLASS:new RegExp("^\\.("+L+")"),TAG:new RegExp("^("+L+"|[*])"),ATTR:new RegExp("^"+V),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+F+"*(even|odd|(([+-]|)(\\d*)n|)"+F+"*(?:([+-]|)"+F+"*(\\d+)|))"+F+"*\\)|)","i"),bool:new RegExp("^(?:"+N+")$","i"),needsContext:new RegExp("^"+F+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+F+"*((?:-\\d)?\\d*)"+F+"*\\)|)(?=[^-]|$)","i")},K=/HTML$/i,X=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+F+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},oe=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,re=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ie=function(){p()},ae=we((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{M.apply(T=j.call(_.childNodes),_.childNodes),T[_.childNodes.length].nodeType}catch(e){M={apply:T.length?function(e,t){R.apply(e,j.call(t))}:function(e,t){for(var n=e.length,o=0;e[n++]=t[o++];);e.length=n-1}}}function se(e,t,o,r){var i,s,u,l,f,h,v,y=t&&t.ownerDocument,_=t?t.nodeType:9;if(o=o||[],"string"!=typeof e||!e||1!==_&&9!==_&&11!==_)return o;if(!r&&(p(t),t=t||d,g)){if(11!==_&&(f=Q.exec(e)))if(i=f[1]){if(9===_){if(!(u=t.getElementById(i)))return o;if(u.id===i)return o.push(u),o}else if(y&&(u=y.getElementById(i))&&b(t,u)&&u.id===i)return o.push(u),o}else{if(f[2])return M.apply(o,t.getElementsByTagName(e)),o;if((i=f[3])&&n.getElementsByClassName&&t.getElementsByClassName)return M.apply(o,t.getElementsByClassName(i)),o}if(n.qsa&&!A[e+" "]&&(!m||!m.test(e))&&(1!==_||"object"!==t.nodeName.toLowerCase())){if(v=e,y=t,1===_&&(q.test(e)||W.test(e))){for((y=ee.test(e)&&ve(t.parentNode)||t)===t&&n.scope||((l=t.getAttribute("id"))?l=l.replace(oe,re):t.setAttribute("id",l=w)),s=(h=a(e)).length;s--;)h[s]=(l?"#"+l:":scope")+" "+be(h[s]);v=h.join(",")}try{return M.apply(o,y.querySelectorAll(v)),o}catch(t){A(e,!0)}finally{l===w&&t.removeAttribute("id")}}}return c(e.replace(H,"$1"),t,o,r)}function ce(){var e=[];return function t(n,r){return e.push(n+" ")>o.cacheLength&&delete t[e.shift()],t[n+" "]=r}}function ue(e){return e[w]=!0,e}function le(e){var t=d.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function fe(e,t){for(var n=e.split("|"),r=n.length;r--;)o.attrHandle[n[r]]=t}function pe(e,t){var n=t&&e,o=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(o)return o;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function de(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function he(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function ge(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ae(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function me(e){return ue((function(t){return t=+t,ue((function(n,o){for(var r,i=e([],n.length,t),a=i.length;a--;)n[r=i[a]]&&(n[r]=!(o[r]=n[r]))}))}))}function ve(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=se.support={},i=se.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!K.test(t||n&&n.nodeName||"HTML")},p=se.setDocument=function(e){var t,r,a=e?e.ownerDocument||e:_;return a!=d&&9===a.nodeType&&a.documentElement?(h=(d=a).documentElement,g=!i(d),_!=d&&(r=d.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",ie,!1):r.attachEvent&&r.attachEvent("onunload",ie)),n.scope=le((function(e){return h.appendChild(e).appendChild(d.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length})),n.attributes=le((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=le((function(e){return e.appendChild(d.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=Z.test(d.getElementsByClassName),n.getById=le((function(e){return h.appendChild(e).id=w,!d.getElementsByName||!d.getElementsByName(w).length})),n.getById?(o.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},o.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n=t.getElementById(e);return n?[n]:[]}}):(o.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},o.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n,o,r,i=t.getElementById(e);if(i){if((n=i.getAttributeNode("id"))&&n.value===e)return[i];for(r=t.getElementsByName(e),o=0;i=r[o++];)if((n=i.getAttributeNode("id"))&&n.value===e)return[i]}return[]}}),o.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,o=[],r=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[r++];)1===n.nodeType&&o.push(n);return o}return i},o.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&g)return t.getElementsByClassName(e)},v=[],m=[],(n.qsa=Z.test(d.querySelectorAll))&&(le((function(e){var t;h.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+F+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+F+"*(?:value|"+N+")"),e.querySelectorAll("[id~="+w+"-]").length||m.push("~="),(t=d.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||m.push("\\["+F+"*name"+F+"*="+F+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||m.push(".#.+[+~]"),e.querySelectorAll("\\\f"),m.push("[\\r\\n\\f]")})),le((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=d.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+F+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),h.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")}))),(n.matchesSelector=Z.test(y=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&le((function(e){n.disconnectedMatch=y.call(e,"*"),y.call(e,"[s!='']:x"),v.push("!=",B)})),m=m.length&&new RegExp(m.join("|")),v=v.length&&new RegExp(v.join("|")),t=Z.test(h.compareDocumentPosition),b=t||Z.test(h.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,o=t&&t.parentNode;return e===o||!(!o||1!==o.nodeType||!(n.contains?n.contains(o):e.compareDocumentPosition&&16&e.compareDocumentPosition(o)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},S=t?function(e,t){if(e===t)return f=!0,0;var o=!e.compareDocumentPosition-!t.compareDocumentPosition;return o||(1&(o=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===o?e==d||e.ownerDocument==_&&b(_,e)?-1:t==d||t.ownerDocument==_&&b(_,t)?1:l?k(l,e)-k(l,t):0:4&o?-1:1)}:function(e,t){if(e===t)return f=!0,0;var n,o=0,r=e.parentNode,i=t.parentNode,a=[e],s=[t];if(!r||!i)return e==d?-1:t==d?1:r?-1:i?1:l?k(l,e)-k(l,t):0;if(r===i)return pe(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[o]===s[o];)o++;return o?pe(a[o],s[o]):a[o]==_?-1:s[o]==_?1:0},d):d},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(p(e),n.matchesSelector&&g&&!A[t+" "]&&(!v||!v.test(t))&&(!m||!m.test(t)))try{var o=y.call(e,t);if(o||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return o}catch(e){A(t,!0)}return se(t,d,null,[e]).length>0},se.contains=function(e,t){return(e.ownerDocument||e)!=d&&p(e),b(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=d&&p(e);var r=o.attrHandle[t.toLowerCase()],i=r&&D.call(o.attrHandle,t.toLowerCase())?r(e,t,!g):void 0;return void 0!==i?i:n.attributes||!g?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},se.escape=function(e){return(e+"").replace(oe,re)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,o=[],r=0,i=0;if(f=!n.detectDuplicates,l=!n.sortStable&&e.slice(0),e.sort(S),f){for(;t=e[i++];)t===e[i]&&(r=o.push(i));for(;r--;)e.splice(o[r],1)}return l=null,e},r=se.getText=function(e){var t,n="",o=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=r(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[o++];)n+=r(t);return n},(o=se.selectors={cacheLength:50,createPseudo:ue,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Y.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&z.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=E[e+" "];return t||(t=new RegExp("(^|"+F+")"+e+"("+F+"|$)"))&&E(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(o){var r=se.attr(o,e);return null==r?"!="===t:!t||(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&r.indexOf(n)>-1:"$="===t?n&&r.slice(-n.length)===n:"~="===t?(" "+r.replace(U," ")+" ").indexOf(n)>-1:"|="===t&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,o,r){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===o&&0===r?function(e){return!!e.parentNode}:function(t,n,c){var u,l,f,p,d,h,g=i!==a?"nextSibling":"previousSibling",m=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!c&&!s,b=!1;if(m){if(i){for(;g;){for(p=t;p=p[g];)if(s?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?m.firstChild:m.lastChild],a&&y){for(b=(d=(u=(l=(f=(p=m)[w]||(p[w]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]||[])[0]===P&&u[1])&&u[2],p=d&&m.childNodes[d];p=++d&&p&&p[g]||(b=d=0)||h.pop();)if(1===p.nodeType&&++b&&p===t){l[e]=[P,d,b];break}}else if(y&&(b=d=(u=(l=(f=(p=t)[w]||(p[w]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]||[])[0]===P&&u[1]),!1===b)for(;(p=++d&&p&&p[g]||(b=d=0)||h.pop())&&((s?p.nodeName.toLowerCase()!==v:1!==p.nodeType)||!++b||(y&&((l=(f=p[w]||(p[w]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]=[P,b]),p!==t)););return(b-=r)===o||b%o==0&&b/o>=0}}},PSEUDO:function(e,t){var n,r=o.pseudos[e]||o.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return r[w]?r(t):r.length>1?(n=[e,e,"",t],o.setFilters.hasOwnProperty(e.toLowerCase())?ue((function(e,n){for(var o,i=r(e,t),a=i.length;a--;)e[o=k(e,i[a])]=!(n[o]=i[a])})):function(e){return r(e,0,n)}):r}},pseudos:{not:ue((function(e){var t=[],n=[],o=s(e.replace(H,"$1"));return o[w]?ue((function(e,t,n,r){for(var i,a=o(e,null,r,[]),s=e.length;s--;)(i=a[s])&&(e[s]=!(t[s]=i))})):function(e,r,i){return t[0]=e,o(t,null,i,n),t[0]=null,!n.pop()}})),has:ue((function(e){return function(t){return se(e,t).length>0}})),contains:ue((function(e){return e=e.replace(te,ne),function(t){return(t.textContent||r(t)).indexOf(e)>-1}})),lang:ue((function(e){return G.test(e||"")||se.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!o.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return X.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:me((function(){return[0]})),last:me((function(e,t){return[t-1]})),eq:me((function(e,t,n){return[n<0?n+t:n]})),even:me((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:me((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:me((function(e,t,n){for(var o=n<0?n+t:n>t?t:n;--o>=0;)e.push(o);return e})),gt:me((function(e,t,n){for(var o=n<0?n+t:n;++o<t;)e.push(o);return e}))}}).pseudos.nth=o.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})o.pseudos[t]=de(t);for(t in{submit:!0,reset:!0})o.pseudos[t]=he(t);function ye(){}function be(e){for(var t=0,n=e.length,o="";t<n;t++)o+=e[t].value;return o}function we(e,t,n){var o=t.dir,r=t.next,i=r||o,a=n&&"parentNode"===i,s=O++;return t.first?function(t,n,r){for(;t=t[o];)if(1===t.nodeType||a)return e(t,n,r);return!1}:function(t,n,c){var u,l,f,p=[P,s];if(c){for(;t=t[o];)if((1===t.nodeType||a)&&e(t,n,c))return!0}else for(;t=t[o];)if(1===t.nodeType||a)if(l=(f=t[w]||(t[w]={}))[t.uniqueID]||(f[t.uniqueID]={}),r&&r===t.nodeName.toLowerCase())t=t[o]||t;else{if((u=l[i])&&u[0]===P&&u[1]===s)return p[2]=u[2];if(l[i]=p,p[2]=e(t,n,c))return!0}return!1}}function _e(e){return e.length>1?function(t,n,o){for(var r=e.length;r--;)if(!e[r](t,n,o))return!1;return!0}:e[0]}function Pe(e,t,n,o,r){for(var i,a=[],s=0,c=e.length,u=null!=t;s<c;s++)(i=e[s])&&(n&&!n(i,o,r)||(a.push(i),u&&t.push(s)));return a}function Oe(e,t,n,o,r,i){return o&&!o[w]&&(o=Oe(o)),r&&!r[w]&&(r=Oe(r,i)),ue((function(i,a,s,c){var u,l,f,p=[],d=[],h=a.length,g=i||function(e,t,n){for(var o=0,r=t.length;o<r;o++)se(e,t[o],n);return n}(t||"*",s.nodeType?[s]:s,[]),m=!e||!i&&t?g:Pe(g,p,e,s,c),v=n?r||(i?e:h||o)?[]:a:m;if(n&&n(m,v,s,c),o)for(u=Pe(v,d),o(u,[],s,c),l=u.length;l--;)(f=u[l])&&(v[d[l]]=!(m[d[l]]=f));if(i){if(r||e){if(r){for(u=[],l=v.length;l--;)(f=v[l])&&u.push(m[l]=f);r(null,v=[],u,c)}for(l=v.length;l--;)(f=v[l])&&(u=r?k(i,f):p[l])>-1&&(i[u]=!(a[u]=f))}}else v=Pe(v===a?v.splice(h,v.length):v),r?r(null,a,v,c):M.apply(a,v)}))}function Ee(e){for(var t,n,r,i=e.length,a=o.relative[e[0].type],s=a||o.relative[" "],c=a?1:0,l=we((function(e){return e===t}),s,!0),f=we((function(e){return k(t,e)>-1}),s,!0),p=[function(e,n,o){var r=!a&&(o||n!==u)||((t=n).nodeType?l(e,n,o):f(e,n,o));return t=null,r}];c<i;c++)if(n=o.relative[e[c].type])p=[we(_e(p),n)];else{if((n=o.filter[e[c].type].apply(null,e[c].matches))[w]){for(r=++c;r<i&&!o.relative[e[r].type];r++);return Oe(c>1&&_e(p),c>1&&be(e.slice(0,c-1).concat({value:" "===e[c-2].type?"*":""})).replace(H,"$1"),n,c<r&&Ee(e.slice(c,r)),r<i&&Ee(e=e.slice(r)),r<i&&be(e))}p.push(n)}return _e(p)}return ye.prototype=o.filters=o.pseudos,o.setFilters=new ye,a=se.tokenize=function(e,t){var n,r,i,a,s,c,u,l=x[e+" "];if(l)return t?0:l.slice(0);for(s=e,c=[],u=o.preFilter;s;){for(a in n&&!(r=$.exec(s))||(r&&(s=s.slice(r[0].length)||s),c.push(i=[])),n=!1,(r=W.exec(s))&&(n=r.shift(),i.push({value:n,type:r[0].replace(H," ")}),s=s.slice(n.length)),o.filter)!(r=Y[a].exec(s))||u[a]&&!(r=u[a](r))||(n=r.shift(),i.push({value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}return t?s.length:s?se.error(e):x(e,c).slice(0)},s=se.compile=function(e,t){var n,r=[],i=[],s=C[e+" "];if(!s){for(t||(t=a(e)),n=t.length;n--;)(s=Ee(t[n]))[w]?r.push(s):i.push(s);(s=C(e,function(e,t){var n=t.length>0,r=e.length>0,i=function(i,a,s,c,l){var f,h,m,v=0,y="0",b=i&&[],w=[],_=u,O=i||r&&o.find.TAG("*",l),E=P+=null==_?1:Math.random()||.1,x=O.length;for(l&&(u=a==d||a||l);y!==x&&null!=(f=O[y]);y++){if(r&&f){for(h=0,a||f.ownerDocument==d||(p(f),s=!g);m=e[h++];)if(m(f,a||d,s)){c.push(f);break}l&&(P=E)}n&&((f=!m&&f)&&v--,i&&b.push(f))}if(v+=y,n&&y!==v){for(h=0;m=t[h++];)m(b,w,a,s);if(i){if(v>0)for(;y--;)b[y]||w[y]||(w[y]=I.call(c));w=Pe(w)}M.apply(c,w),l&&!i&&w.length>0&&v+t.length>1&&se.uniqueSort(c)}return l&&(P=E,u=_),b};return n?ue(i):i}(i,r))).selector=e}return s},c=se.select=function(e,t,n,r){var i,c,u,l,f,p="function"==typeof e&&e,d=!r&&a(e=p.selector||e);if(n=n||[],1===d.length){if((c=d[0]=d[0].slice(0)).length>2&&"ID"===(u=c[0]).type&&9===t.nodeType&&g&&o.relative[c[1].type]){if(!(t=(o.find.ID(u.matches[0].replace(te,ne),t)||[])[0]))return n;p&&(t=t.parentNode),e=e.slice(c.shift().value.length)}for(i=Y.needsContext.test(e)?0:c.length;i--&&(u=c[i],!o.relative[l=u.type]);)if((f=o.find[l])&&(r=f(u.matches[0].replace(te,ne),ee.test(c[0].type)&&ve(t.parentNode)||t))){if(c.splice(i,1),!(e=r.length&&be(c)))return M.apply(n,r),n;break}}return(p||s(e,d))(r,t,!g,n,!t||ee.test(e)&&ve(t.parentNode)||t),n},n.sortStable=w.split("").sort(S).join("")===w,n.detectDuplicates=!!f,p(),n.sortDetached=le((function(e){return 1&e.compareDocumentPosition(d.createElement("fieldset"))})),le((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||fe("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&le((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||fe("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),le((function(e){return null==e.getAttribute("disabled")}))||fe(N,(function(e,t,n){var o;if(!n)return!0===e[t]?t.toLowerCase():(o=e.getAttributeNode(t))&&o.specified?o.value:null})),se}(n);O.find=x,O.expr=x.selectors,O.expr[":"]=O.expr.pseudos,O.uniqueSort=O.unique=x.uniqueSort,O.text=x.getText,O.isXMLDoc=x.isXML,O.contains=x.contains,O.escapeSelector=x.escape;var C=function(e,t,n){for(var o=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&O(e).is(n))break;o.push(e)}return o},A=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},S=O.expr.match.needsContext;function D(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var T=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function I(e,t,n){return v(t)?O.grep(e,(function(e,o){return!!t.call(e,o,e)!==n})):t.nodeType?O.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?O.grep(e,(function(e){return l.call(t,e)>-1!==n})):O.filter(t,e,n)}O.filter=function(e,t,n){var o=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===o.nodeType?O.find.matchesSelector(o,e)?[o]:[]:O.find.matches(e,O.grep(t,(function(e){return 1===e.nodeType})))},O.fn.extend({find:function(e){var t,n,o=this.length,r=this;if("string"!=typeof e)return this.pushStack(O(e).filter((function(){for(t=0;t<o;t++)if(O.contains(r[t],this))return!0})));for(n=this.pushStack([]),t=0;t<o;t++)O.find(e,r[t],n);return o>1?O.uniqueSort(n):n},filter:function(e){return this.pushStack(I(this,e||[],!1))},not:function(e){return this.pushStack(I(this,e||[],!0))},is:function(e){return!!I(this,"string"==typeof e&&S.test(e)?O(e):e||[],!1).length}});var R,M=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(O.fn.init=function(e,t,n){var o,r;if(!e)return this;if(n=n||R,"string"==typeof e){if(!(o="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:M.exec(e))||!o[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(o[1]){if(t=t instanceof O?t[0]:t,O.merge(this,O.parseHTML(o[1],t&&t.nodeType?t.ownerDocument||t:b,!0)),T.test(o[1])&&O.isPlainObject(t))for(o in t)v(this[o])?this[o](t[o]):this.attr(o,t[o]);return this}return(r=b.getElementById(o[2]))&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):v(e)?void 0!==n.ready?n.ready(e):e(O):O.makeArray(e,this)}).prototype=O.fn,R=O(b);var j=/^(?:parents|prev(?:Until|All))/,k={children:!0,contents:!0,next:!0,prev:!0};function N(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}O.fn.extend({has:function(e){var t=O(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(O.contains(this,t[e]))return!0}))},closest:function(e,t){var n,o=0,r=this.length,i=[],a="string"!=typeof e&&O(e);if(!S.test(e))for(;o<r;o++)for(n=this[o];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&O.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(i.length>1?O.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?l.call(O(e),this[0]):l.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(O.uniqueSort(O.merge(this.get(),O(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),O.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return C(e,"parentNode")},parentsUntil:function(e,t,n){return C(e,"parentNode",n)},next:function(e){return N(e,"nextSibling")},prev:function(e){return N(e,"previousSibling")},nextAll:function(e){return C(e,"nextSibling")},prevAll:function(e){return C(e,"previousSibling")},nextUntil:function(e,t,n){return C(e,"nextSibling",n)},prevUntil:function(e,t,n){return C(e,"previousSibling",n)},siblings:function(e){return A((e.parentNode||{}).firstChild,e)},children:function(e){return A(e.firstChild)},contents:function(e){return null!=e.contentDocument&&a(e.contentDocument)?e.contentDocument:(D(e,"template")&&(e=e.content||e),O.merge([],e.childNodes))}},(function(e,t){O.fn[e]=function(n,o){var r=O.map(this,t,n);return"Until"!==e.slice(-5)&&(o=n),o&&"string"==typeof o&&(r=O.filter(o,r)),this.length>1&&(k[e]||O.uniqueSort(r),j.test(e)&&r.reverse()),this.pushStack(r)}}));var F=/[^\x20\t\r\n\f]+/g;function L(e){return e}function V(e){throw e}function B(e,t,n,o){var r;try{e&&v(r=e.promise)?r.call(e).done(t).fail(n):e&&v(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(o))}catch(e){n.apply(void 0,[e])}}O.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return O.each(e.match(F)||[],(function(e,n){t[n]=!0})),t}(e):O.extend({},e);var t,n,o,r,i=[],a=[],s=-1,c=function(){for(r=r||e.once,o=t=!0;a.length;s=-1)for(n=a.shift();++s<i.length;)!1===i[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=i.length,n=!1);e.memory||(n=!1),t=!1,r&&(i=n?[]:"")},u={add:function(){return i&&(n&&!t&&(s=i.length-1,a.push(n)),function t(n){O.each(n,(function(n,o){v(o)?e.unique&&u.has(o)||i.push(o):o&&o.length&&"string"!==P(o)&&t(o)}))}(arguments),n&&!t&&c()),this},remove:function(){return O.each(arguments,(function(e,t){for(var n;(n=O.inArray(t,i,n))>-1;)i.splice(n,1),n<=s&&s--})),this},has:function(e){return e?O.inArray(e,i)>-1:i.length>0},empty:function(){return i&&(i=[]),this},disable:function(){return r=a=[],i=n="",this},disabled:function(){return!i},lock:function(){return r=a=[],n||t||(i=n=""),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||c()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!o}};return u},O.extend({Deferred:function(e){var t=[["notify","progress",O.Callbacks("memory"),O.Callbacks("memory"),2],["resolve","done",O.Callbacks("once memory"),O.Callbacks("once memory"),0,"resolved"],["reject","fail",O.Callbacks("once memory"),O.Callbacks("once memory"),1,"rejected"]],o="pending",r={state:function(){return o},always:function(){return i.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return O.Deferred((function(n){O.each(t,(function(t,o){var r=v(e[o[4]])&&e[o[4]];i[o[1]]((function(){var e=r&&r.apply(this,arguments);e&&v(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this,r?[e]:arguments)}))})),e=null})).promise()},then:function(e,o,r){var i=0;function a(e,t,o,r){return function(){var s=this,c=arguments,u=function(){var n,u;if(!(e<i)){if((n=o.apply(s,c))===t.promise())throw new TypeError("Thenable self-resolution");u=n&&("object"==typeof n||"function"==typeof n)&&n.then,v(u)?r?u.call(n,a(i,t,L,r),a(i,t,V,r)):(i++,u.call(n,a(i,t,L,r),a(i,t,V,r),a(i,t,L,t.notifyWith))):(o!==L&&(s=void 0,c=[n]),(r||t.resolveWith)(s,c))}},l=r?u:function(){try{u()}catch(n){O.Deferred.exceptionHook&&O.Deferred.exceptionHook(n,l.stackTrace),e+1>=i&&(o!==V&&(s=void 0,c=[n]),t.rejectWith(s,c))}};e?l():(O.Deferred.getStackHook&&(l.stackTrace=O.Deferred.getStackHook()),n.setTimeout(l))}}return O.Deferred((function(n){t[0][3].add(a(0,n,v(r)?r:L,n.notifyWith)),t[1][3].add(a(0,n,v(e)?e:L)),t[2][3].add(a(0,n,v(o)?o:V))})).promise()},promise:function(e){return null!=e?O.extend(e,r):r}},i={};return O.each(t,(function(e,n){var a=n[2],s=n[5];r[n[1]]=a.add,s&&a.add((function(){o=s}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),a.add(n[3].fire),i[n[0]]=function(){return i[n[0]+"With"](this===i?void 0:this,arguments),this},i[n[0]+"With"]=a.fireWith})),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=arguments.length,n=t,o=Array(n),r=s.call(arguments),i=O.Deferred(),a=function(e){return function(n){o[e]=this,r[e]=arguments.length>1?s.call(arguments):n,--t||i.resolveWith(o,r)}};if(t<=1&&(B(e,i.done(a(n)).resolve,i.reject,!t),"pending"===i.state()||v(r[n]&&r[n].then)))return i.then();for(;n--;)B(r[n],a(n),i.reject);return i.promise()}});var U=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;O.Deferred.exceptionHook=function(e,t){n.console&&n.console.warn&&e&&U.test(e.name)&&n.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},O.readyException=function(e){n.setTimeout((function(){throw e}))};var H=O.Deferred();function $(){b.removeEventListener("DOMContentLoaded",$),n.removeEventListener("load",$),O.ready()}O.fn.ready=function(e){return H.then(e).catch((function(e){O.readyException(e)})),this},O.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--O.readyWait:O.isReady)||(O.isReady=!0,!0!==e&&--O.readyWait>0||H.resolveWith(b,[O]))}}),O.ready.then=H.then,"complete"===b.readyState||"loading"!==b.readyState&&!b.documentElement.doScroll?n.setTimeout(O.ready):(b.addEventListener("DOMContentLoaded",$),n.addEventListener("load",$));var W=function(e,t,n,o,r,i,a){var s=0,c=e.length,u=null==n;if("object"===P(n))for(s in r=!0,n)W(e,t,s,n[s],!0,i,a);else if(void 0!==o&&(r=!0,v(o)||(a=!0),u&&(a?(t.call(e,o),t=null):(u=t,t=function(e,t,n){return u.call(O(e),n)})),t))for(;s<c;s++)t(e[s],n,a?o:o.call(e[s],s,t(e[s],n)));return r?e:u?t.call(e):c?t(e[0],n):i},q=/^-ms-/,z=/-([a-z])/g;function G(e,t){return t.toUpperCase()}function Y(e){return e.replace(q,"ms-").replace(z,G)}var K=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function X(){this.expando=O.expando+X.uid++}X.uid=1,X.prototype={cache:function(e){var t=e[this.expando];return t||(t={},K(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var o,r=this.cache(e);if("string"==typeof t)r[Y(t)]=n;else for(o in t)r[Y(o)]=t[o];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][Y(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,o=e[this.expando];if(void 0!==o){if(void 0!==t){n=(t=Array.isArray(t)?t.map(Y):(t=Y(t))in o?[t]:t.match(F)||[]).length;for(;n--;)delete o[t[n]]}(void 0===t||O.isEmptyObject(o))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!O.isEmptyObject(t)}};var J=new X,Z=new X,Q=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ee=/[A-Z]/g;function te(e,t,n){var o;if(void 0===n&&1===e.nodeType)if(o="data-"+t.replace(ee,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(o))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Q.test(e)?JSON.parse(e):e)}(n)}catch(e){}Z.set(e,t,n)}else n=void 0;return n}O.extend({hasData:function(e){return Z.hasData(e)||J.hasData(e)},data:function(e,t,n){return Z.access(e,t,n)},removeData:function(e,t){Z.remove(e,t)},_data:function(e,t,n){return J.access(e,t,n)},_removeData:function(e,t){J.remove(e,t)}}),O.fn.extend({data:function(e,t){var n,o,r,i=this[0],a=i&&i.attributes;if(void 0===e){if(this.length&&(r=Z.get(i),1===i.nodeType&&!J.get(i,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(o=a[n].name).indexOf("data-")&&(o=Y(o.slice(5)),te(i,o,r[o]));J.set(i,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each((function(){Z.set(this,e)})):W(this,(function(t){var n;if(i&&void 0===t)return void 0!==(n=Z.get(i,e))||void 0!==(n=te(i,e))?n:void 0;this.each((function(){Z.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){Z.remove(this,e)}))}}),O.extend({queue:function(e,t,n){var o;if(e)return t=(t||"fx")+"queue",o=J.get(e,t),n&&(!o||Array.isArray(n)?o=J.access(e,t,O.makeArray(n)):o.push(n)),o||[]},dequeue:function(e,t){t=t||"fx";var n=O.queue(e,t),o=n.length,r=n.shift(),i=O._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),o--),r&&("fx"===t&&n.unshift("inprogress"),delete i.stop,r.call(e,(function(){O.dequeue(e,t)}),i)),!o&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return J.get(e,n)||J.access(e,n,{empty:O.Callbacks("once memory").add((function(){J.remove(e,[t+"queue",n])}))})}}),O.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?O.queue(this[0],e):void 0===t?this:this.each((function(){var n=O.queue(this,e,t);O._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&O.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){O.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,o=1,r=O.Deferred(),i=this,a=this.length,s=function(){--o||r.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=J.get(i[a],e+"queueHooks"))&&n.empty&&(o++,n.empty.add(s));return s(),r.promise(t)}});var ne=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,oe=new RegExp("^(?:([+-])=|)("+ne+")([a-z%]*)$","i"),re=["Top","Right","Bottom","Left"],ie=b.documentElement,ae=function(e){return O.contains(e.ownerDocument,e)},se={composed:!0};ie.getRootNode&&(ae=function(e){return O.contains(e.ownerDocument,e)||e.getRootNode(se)===e.ownerDocument});var ce=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ae(e)&&"none"===O.css(e,"display")};function ue(e,t,n,o){var r,i,a=20,s=o?function(){return o.cur()}:function(){return O.css(e,t,"")},c=s(),u=n&&n[3]||(O.cssNumber[t]?"":"px"),l=e.nodeType&&(O.cssNumber[t]||"px"!==u&&+c)&&oe.exec(O.css(e,t));if(l&&l[3]!==u){for(c/=2,u=u||l[3],l=+c||1;a--;)O.style(e,t,l+u),(1-i)*(1-(i=s()/c||.5))<=0&&(a=0),l/=i;l*=2,O.style(e,t,l+u),n=n||[]}return n&&(l=+l||+c||0,r=n[1]?l+(n[1]+1)*n[2]:+n[2],o&&(o.unit=u,o.start=l,o.end=r)),r}var le={};function fe(e){var t,n=e.ownerDocument,o=e.nodeName,r=le[o];return r||(t=n.body.appendChild(n.createElement(o)),r=O.css(t,"display"),t.parentNode.removeChild(t),"none"===r&&(r="block"),le[o]=r,r)}function pe(e,t){for(var n,o,r=[],i=0,a=e.length;i<a;i++)(o=e[i]).style&&(n=o.style.display,t?("none"===n&&(r[i]=J.get(o,"display")||null,r[i]||(o.style.display="")),""===o.style.display&&ce(o)&&(r[i]=fe(o))):"none"!==n&&(r[i]="none",J.set(o,"display",n)));for(i=0;i<a;i++)null!=r[i]&&(e[i].style.display=r[i]);return e}O.fn.extend({show:function(){return pe(this,!0)},hide:function(){return pe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){ce(this)?O(this).show():O(this).hide()}))}});var de,he,ge=/^(?:checkbox|radio)$/i,me=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ve=/^$|^module$|\/(?:java|ecma)script/i;de=b.createDocumentFragment().appendChild(b.createElement("div")),(he=b.createElement("input")).setAttribute("type","radio"),he.setAttribute("checked","checked"),he.setAttribute("name","t"),de.appendChild(he),m.checkClone=de.cloneNode(!0).cloneNode(!0).lastChild.checked,de.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!de.cloneNode(!0).lastChild.defaultValue,de.innerHTML="<option></option>",m.option=!!de.lastChild;var ye={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function be(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&D(e,t)?O.merge([e],n):n}function we(e,t){for(var n=0,o=e.length;n<o;n++)J.set(e[n],"globalEval",!t||J.get(t[n],"globalEval"))}ye.tbody=ye.tfoot=ye.colgroup=ye.caption=ye.thead,ye.th=ye.td,m.option||(ye.optgroup=ye.option=[1,"<select multiple='multiple'>","</select>"]);var _e=/<|&#?\w+;/;function Pe(e,t,n,o,r){for(var i,a,s,c,u,l,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((i=e[d])||0===i)if("object"===P(i))O.merge(p,i.nodeType?[i]:i);else if(_e.test(i)){for(a=a||f.appendChild(t.createElement("div")),s=(me.exec(i)||["",""])[1].toLowerCase(),c=ye[s]||ye._default,a.innerHTML=c[1]+O.htmlPrefilter(i)+c[2],l=c[0];l--;)a=a.lastChild;O.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(i));for(f.textContent="",d=0;i=p[d++];)if(o&&O.inArray(i,o)>-1)r&&r.push(i);else if(u=ae(i),a=be(f.appendChild(i),"script"),u&&we(a),n)for(l=0;i=a[l++];)ve.test(i.type||"")&&n.push(i);return f}var Oe=/^key/,Ee=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,xe=/^([^.]*)(?:\.(.+)|)/;function Ce(){return!0}function Ae(){return!1}function Se(e,t){return e===function(){try{return b.activeElement}catch(e){}}()==("focus"===t)}function De(e,t,n,o,r,i){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(o=o||n,n=void 0),t)De(e,s,n,o,t[s],i);return e}if(null==o&&null==r?(r=n,o=n=void 0):null==r&&("string"==typeof n?(r=o,o=void 0):(r=o,o=n,n=void 0)),!1===r)r=Ae;else if(!r)return e;return 1===i&&(a=r,(r=function(e){return O().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=O.guid++)),e.each((function(){O.event.add(this,t,r,o,n)}))}function Te(e,t,n){n?(J.set(e,t,!1),O.event.add(e,t,{namespace:!1,handler:function(e){var o,r,i=J.get(this,t);if(1&e.isTrigger&&this[t]){if(i.length)(O.event.special[t]||{}).delegateType&&e.stopPropagation();else if(i=s.call(arguments),J.set(this,t,i),o=n(this,t),this[t](),i!==(r=J.get(this,t))||o?J.set(this,t,!1):r={},i!==r)return e.stopImmediatePropagation(),e.preventDefault(),r.value}else i.length&&(J.set(this,t,{value:O.event.trigger(O.extend(i[0],O.Event.prototype),i.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===J.get(e,t)&&O.event.add(e,t,Ce)}O.event={global:{},add:function(e,t,n,o,r){var i,a,s,c,u,l,f,p,d,h,g,m=J.get(e);if(K(e))for(n.handler&&(n=(i=n).handler,r=i.selector),r&&O.find.matchesSelector(ie,r),n.guid||(n.guid=O.guid++),(c=m.events)||(c=m.events=Object.create(null)),(a=m.handle)||(a=m.handle=function(t){return void 0!==O&&O.event.triggered!==t.type?O.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(F)||[""]).length;u--;)d=g=(s=xe.exec(t[u])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=O.event.special[d]||{},d=(r?f.delegateType:f.bindType)||d,f=O.event.special[d]||{},l=O.extend({type:d,origType:g,data:o,handler:n,guid:n.guid,selector:r,needsContext:r&&O.expr.match.needsContext.test(r),namespace:h.join(".")},i),(p=c[d])||((p=c[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(e,o,h,a)||e.addEventListener&&e.addEventListener(d,a)),f.add&&(f.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),r?p.splice(p.delegateCount++,0,l):p.push(l),O.event.global[d]=!0)},remove:function(e,t,n,o,r){var i,a,s,c,u,l,f,p,d,h,g,m=J.hasData(e)&&J.get(e);if(m&&(c=m.events)){for(u=(t=(t||"").match(F)||[""]).length;u--;)if(d=g=(s=xe.exec(t[u])||[])[1],h=(s[2]||"").split(".").sort(),d){for(f=O.event.special[d]||{},p=c[d=(o?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=i=p.length;i--;)l=p[i],!r&&g!==l.origType||n&&n.guid!==l.guid||s&&!s.test(l.namespace)||o&&o!==l.selector&&("**"!==o||!l.selector)||(p.splice(i,1),l.selector&&p.delegateCount--,f.remove&&f.remove.call(e,l));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,m.handle)||O.removeEvent(e,d,m.handle),delete c[d])}else for(d in c)O.event.remove(e,d+t[u],n,o,!0);O.isEmptyObject(c)&&J.remove(e,"handle events")}},dispatch:function(e){var t,n,o,r,i,a,s=new Array(arguments.length),c=O.event.fix(e),u=(J.get(this,"events")||Object.create(null))[c.type]||[],l=O.event.special[c.type]||{};for(s[0]=c,t=1;t<arguments.length;t++)s[t]=arguments[t];if(c.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,c)){for(a=O.event.handlers.call(this,c,u),t=0;(r=a[t++])&&!c.isPropagationStopped();)for(c.currentTarget=r.elem,n=0;(i=r.handlers[n++])&&!c.isImmediatePropagationStopped();)c.rnamespace&&!1!==i.namespace&&!c.rnamespace.test(i.namespace)||(c.handleObj=i,c.data=i.data,void 0!==(o=((O.event.special[i.origType]||{}).handle||i.handler).apply(r.elem,s))&&!1===(c.result=o)&&(c.preventDefault(),c.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,c),c.result}},handlers:function(e,t){var n,o,r,i,a,s=[],c=t.delegateCount,u=e.target;if(c&&u.nodeType&&!("click"===e.type&&e.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(i=[],a={},n=0;n<c;n++)void 0===a[r=(o=t[n]).selector+" "]&&(a[r]=o.needsContext?O(r,this).index(u)>-1:O.find(r,this,null,[u]).length),a[r]&&i.push(o);i.length&&s.push({elem:u,handlers:i})}return u=this,c<t.length&&s.push({elem:u,handlers:t.slice(c)}),s},addProp:function(e,t){Object.defineProperty(O.Event.prototype,e,{enumerable:!0,configurable:!0,get:v(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[O.expando]?e:new O.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return ge.test(t.type)&&t.click&&D(t,"input")&&Te(t,"click",Ce),!1},trigger:function(e){var t=this||e;return ge.test(t.type)&&t.click&&D(t,"input")&&Te(t,"click"),!0},_default:function(e){var t=e.target;return ge.test(t.type)&&t.click&&D(t,"input")&&J.get(t,"click")||D(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},O.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},O.Event=function(e,t){if(!(this instanceof O.Event))return new O.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ce:Ae,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&O.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[O.expando]=!0},O.Event.prototype={constructor:O.Event,isDefaultPrevented:Ae,isPropagationStopped:Ae,isImmediatePropagationStopped:Ae,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ce,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ce,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ce,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},O.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Oe.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Ee.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},O.event.addProp),O.each({focus:"focusin",blur:"focusout"},(function(e,t){O.event.special[e]={setup:function(){return Te(this,e,Se),!1},trigger:function(){return Te(this,e),!0},delegateType:t}})),O.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){O.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,o=this,r=e.relatedTarget,i=e.handleObj;return r&&(r===o||O.contains(o,r))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}})),O.fn.extend({on:function(e,t,n,o){return De(this,e,t,n,o)},one:function(e,t,n,o){return De(this,e,t,n,o,1)},off:function(e,t,n){var o,r;if(e&&e.preventDefault&&e.handleObj)return o=e.handleObj,O(e.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Ae),this.each((function(){O.event.remove(this,e,n,t)}))}});var Ie=/<script|<style|<link/i,Re=/checked\s*(?:[^=]|=\s*.checked.)/i,Me=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function je(e,t){return D(e,"table")&&D(11!==t.nodeType?t:t.firstChild,"tr")&&O(e).children("tbody")[0]||e}function ke(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Ne(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Fe(e,t){var n,o,r,i,a,s;if(1===t.nodeType){if(J.hasData(e)&&(s=J.get(e).events))for(r in J.remove(t,"handle events"),s)for(n=0,o=s[r].length;n<o;n++)O.event.add(t,r,s[r][n]);Z.hasData(e)&&(i=Z.access(e),a=O.extend({},i),Z.set(t,a))}}function Le(e,t){var n=t.nodeName.toLowerCase();"input"===n&&ge.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Ve(e,t,n,o){t=c(t);var r,i,a,s,u,l,f=0,p=e.length,d=p-1,h=t[0],g=v(h);if(g||p>1&&"string"==typeof h&&!m.checkClone&&Re.test(h))return e.each((function(r){var i=e.eq(r);g&&(t[0]=h.call(this,r,i.html())),Ve(i,t,n,o)}));if(p&&(i=(r=Pe(t,e[0].ownerDocument,!1,e,o)).firstChild,1===r.childNodes.length&&(r=i),i||o)){for(s=(a=O.map(be(r,"script"),ke)).length;f<p;f++)u=r,f!==d&&(u=O.clone(u,!0,!0),s&&O.merge(a,be(u,"script"))),n.call(e[f],u,f);if(s)for(l=a[a.length-1].ownerDocument,O.map(a,Ne),f=0;f<s;f++)u=a[f],ve.test(u.type||"")&&!J.access(u,"globalEval")&&O.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?O._evalUrl&&!u.noModule&&O._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},l):_(u.textContent.replace(Me,""),u,l))}return e}function Be(e,t,n){for(var o,r=t?O.filter(t,e):e,i=0;null!=(o=r[i]);i++)n||1!==o.nodeType||O.cleanData(be(o)),o.parentNode&&(n&&ae(o)&&we(be(o,"script")),o.parentNode.removeChild(o));return e}O.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var o,r,i,a,s=e.cloneNode(!0),c=ae(e);if(!(m.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||O.isXMLDoc(e)))for(a=be(s),o=0,r=(i=be(e)).length;o<r;o++)Le(i[o],a[o]);if(t)if(n)for(i=i||be(e),a=a||be(s),o=0,r=i.length;o<r;o++)Fe(i[o],a[o]);else Fe(e,s);return(a=be(s,"script")).length>0&&we(a,!c&&be(e,"script")),s},cleanData:function(e){for(var t,n,o,r=O.event.special,i=0;void 0!==(n=e[i]);i++)if(K(n)){if(t=n[J.expando]){if(t.events)for(o in t.events)r[o]?O.event.remove(n,o):O.removeEvent(n,o,t.handle);n[J.expando]=void 0}n[Z.expando]&&(n[Z.expando]=void 0)}}}),O.fn.extend({detach:function(e){return Be(this,e,!0)},remove:function(e){return Be(this,e)},text:function(e){return W(this,(function(e){return void 0===e?O.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Ve(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||je(this,e).appendChild(e)}))},prepend:function(){return Ve(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=je(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Ve(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Ve(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(O.cleanData(be(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return O.clone(this,e,t)}))},html:function(e){return W(this,(function(e){var t=this[0]||{},n=0,o=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ie.test(e)&&!ye[(me.exec(e)||["",""])[1].toLowerCase()]){e=O.htmlPrefilter(e);try{for(;n<o;n++)1===(t=this[n]||{}).nodeType&&(O.cleanData(be(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Ve(this,arguments,(function(t){var n=this.parentNode;O.inArray(this,e)<0&&(O.cleanData(be(this)),n&&n.replaceChild(t,this))}),e)}}),O.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){O.fn[e]=function(e){for(var n,o=[],r=O(e),i=r.length-1,a=0;a<=i;a++)n=a===i?this:this.clone(!0),O(r[a])[t](n),u.apply(o,n.get());return this.pushStack(o)}}));var Ue=new RegExp("^("+ne+")(?!px)[a-z%]+$","i"),He=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=n),t.getComputedStyle(e)},$e=function(e,t,n){var o,r,i={};for(r in t)i[r]=e.style[r],e.style[r]=t[r];for(r in o=n.call(e),t)e.style[r]=i[r];return o},We=new RegExp(re.join("|"),"i");function qe(e,t,n){var o,r,i,a,s=e.style;return(n=n||He(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||ae(e)||(a=O.style(e,t)),!m.pixelBoxStyles()&&Ue.test(a)&&We.test(t)&&(o=s.width,r=s.minWidth,i=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=o,s.minWidth=r,s.maxWidth=i)),void 0!==a?a+"":a}function ze(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ie.appendChild(u).appendChild(l);var e=n.getComputedStyle(l);o="1%"!==e.top,c=12===t(e.marginLeft),l.style.right="60%",a=36===t(e.right),r=36===t(e.width),l.style.position="absolute",i=12===t(l.offsetWidth/3),ie.removeChild(u),l=null}}function t(e){return Math.round(parseFloat(e))}var o,r,i,a,s,c,u=b.createElement("div"),l=b.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===l.style.backgroundClip,O.extend(m,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),o},reliableMarginLeft:function(){return e(),c},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,o,r;return null==s&&(e=b.createElement("table"),t=b.createElement("tr"),o=b.createElement("div"),e.style.cssText="position:absolute;left:-11111px",t.style.height="1px",o.style.height="9px",ie.appendChild(e).appendChild(t).appendChild(o),r=n.getComputedStyle(t),s=parseInt(r.height)>3,ie.removeChild(e)),s}}))}();var Ge=["Webkit","Moz","ms"],Ye=b.createElement("div").style,Ke={};function Xe(e){var t=O.cssProps[e]||Ke[e];return t||(e in Ye?e:Ke[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Ge.length;n--;)if((e=Ge[n]+t)in Ye)return e}(e)||e)}var Je=/^(none|table(?!-c[ea]).+)/,Ze=/^--/,Qe={position:"absolute",visibility:"hidden",display:"block"},et={letterSpacing:"0",fontWeight:"400"};function tt(e,t,n){var o=oe.exec(t);return o?Math.max(0,o[2]-(n||0))+(o[3]||"px"):t}function nt(e,t,n,o,r,i){var a="width"===t?1:0,s=0,c=0;if(n===(o?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(c+=O.css(e,n+re[a],!0,r)),o?("content"===n&&(c-=O.css(e,"padding"+re[a],!0,r)),"margin"!==n&&(c-=O.css(e,"border"+re[a]+"Width",!0,r))):(c+=O.css(e,"padding"+re[a],!0,r),"padding"!==n?c+=O.css(e,"border"+re[a]+"Width",!0,r):s+=O.css(e,"border"+re[a]+"Width",!0,r));return!o&&i>=0&&(c+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-i-c-s-.5))||0),c}function ot(e,t,n){var o=He(e),r=(!m.boxSizingReliable()||n)&&"border-box"===O.css(e,"boxSizing",!1,o),i=r,a=qe(e,t,o),s="offset"+t[0].toUpperCase()+t.slice(1);if(Ue.test(a)){if(!n)return a;a="auto"}return(!m.boxSizingReliable()&&r||!m.reliableTrDimensions()&&D(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===O.css(e,"display",!1,o))&&e.getClientRects().length&&(r="border-box"===O.css(e,"boxSizing",!1,o),(i=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+nt(e,t,n||(r?"border":"content"),i,o,a)+"px"}function rt(e,t,n,o,r){return new rt.prototype.init(e,t,n,o,r)}O.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=qe(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,o){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,i,a,s=Y(t),c=Ze.test(t),u=e.style;if(c||(t=Xe(s)),a=O.cssHooks[t]||O.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(r=a.get(e,!1,o))?r:u[t];"string"===(i=typeof n)&&(r=oe.exec(n))&&r[1]&&(n=ue(e,t,r),i="number"),null!=n&&n==n&&("number"!==i||c||(n+=r&&r[3]||(O.cssNumber[s]?"":"px")),m.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,o))||(c?u.setProperty(t,n):u[t]=n))}},css:function(e,t,n,o){var r,i,a,s=Y(t);return Ze.test(t)||(t=Xe(s)),(a=O.cssHooks[t]||O.cssHooks[s])&&"get"in a&&(r=a.get(e,!0,n)),void 0===r&&(r=qe(e,t,o)),"normal"===r&&t in et&&(r=et[t]),""===n||n?(i=parseFloat(r),!0===n||isFinite(i)?i||0:r):r}}),O.each(["height","width"],(function(e,t){O.cssHooks[t]={get:function(e,n,o){if(n)return!Je.test(O.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ot(e,t,o):$e(e,Qe,(function(){return ot(e,t,o)}))},set:function(e,n,o){var r,i=He(e),a=!m.scrollboxSize()&&"absolute"===i.position,s=(a||o)&&"border-box"===O.css(e,"boxSizing",!1,i),c=o?nt(e,t,o,s,i):0;return s&&a&&(c-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(i[t])-nt(e,t,"border",!1,i)-.5)),c&&(r=oe.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=O.css(e,t)),tt(0,n,c)}}})),O.cssHooks.marginLeft=ze(m.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(qe(e,"marginLeft"))||e.getBoundingClientRect().left-$e(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),O.each({margin:"",padding:"",border:"Width"},(function(e,t){O.cssHooks[e+t]={expand:function(n){for(var o=0,r={},i="string"==typeof n?n.split(" "):[n];o<4;o++)r[e+re[o]+t]=i[o]||i[o-2]||i[0];return r}},"margin"!==e&&(O.cssHooks[e+t].set=tt)})),O.fn.extend({css:function(e,t){return W(this,(function(e,t,n){var o,r,i={},a=0;if(Array.isArray(t)){for(o=He(e),r=t.length;a<r;a++)i[t[a]]=O.css(e,t[a],!1,o);return i}return void 0!==n?O.style(e,t,n):O.css(e,t)}),e,t,arguments.length>1)}}),O.Tween=rt,rt.prototype={constructor:rt,init:function(e,t,n,o,r,i){this.elem=e,this.prop=n,this.easing=r||O.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=o,this.unit=i||(O.cssNumber[n]?"":"px")},cur:function(){var e=rt.propHooks[this.prop];return e&&e.get?e.get(this):rt.propHooks._default.get(this)},run:function(e){var t,n=rt.propHooks[this.prop];return this.options.duration?this.pos=t=O.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):rt.propHooks._default.set(this),this}},rt.prototype.init.prototype=rt.prototype,rt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=O.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){O.fx.step[e.prop]?O.fx.step[e.prop](e):1!==e.elem.nodeType||!O.cssHooks[e.prop]&&null==e.elem.style[Xe(e.prop)]?e.elem[e.prop]=e.now:O.style(e.elem,e.prop,e.now+e.unit)}}},rt.propHooks.scrollTop=rt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},O.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},O.fx=rt.prototype.init,O.fx.step={};var it,at,st=/^(?:toggle|show|hide)$/,ct=/queueHooks$/;function ut(){at&&(!1===b.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(ut):n.setTimeout(ut,O.fx.interval),O.fx.tick())}function lt(){return n.setTimeout((function(){it=void 0})),it=Date.now()}function ft(e,t){var n,o=0,r={height:e};for(t=t?1:0;o<4;o+=2-t)r["margin"+(n=re[o])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function pt(e,t,n){for(var o,r=(dt.tweeners[t]||[]).concat(dt.tweeners["*"]),i=0,a=r.length;i<a;i++)if(o=r[i].call(n,t,e))return o}function dt(e,t,n){var o,r,i=0,a=dt.prefilters.length,s=O.Deferred().always((function(){delete c.elem})),c=function(){if(r)return!1;for(var t=it||lt(),n=Math.max(0,u.startTime+u.duration-t),o=1-(n/u.duration||0),i=0,a=u.tweens.length;i<a;i++)u.tweens[i].run(o);return s.notifyWith(e,[u,o,n]),o<1&&a?n:(a||s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:O.extend({},t),opts:O.extend(!0,{specialEasing:{},easing:O.easing._default},n),originalProperties:t,originalOptions:n,startTime:it||lt(),duration:n.duration,tweens:[],createTween:function(t,n){var o=O.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(o),o},stop:function(t){var n=0,o=t?u.tweens.length:0;if(r)return this;for(r=!0;n<o;n++)u.tweens[n].run(1);return t?(s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u,t])):s.rejectWith(e,[u,t]),this}}),l=u.props;for(!function(e,t){var n,o,r,i,a;for(n in e)if(r=t[o=Y(n)],i=e[n],Array.isArray(i)&&(r=i[1],i=e[n]=i[0]),n!==o&&(e[o]=i,delete e[n]),(a=O.cssHooks[o])&&"expand"in a)for(n in i=a.expand(i),delete e[o],i)n in e||(e[n]=i[n],t[n]=r);else t[o]=r}(l,u.opts.specialEasing);i<a;i++)if(o=dt.prefilters[i].call(u,e,l,u.opts))return v(o.stop)&&(O._queueHooks(u.elem,u.opts.queue).stop=o.stop.bind(o)),o;return O.map(l,pt,u),v(u.opts.start)&&u.opts.start.call(e,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),O.fx.timer(O.extend(c,{elem:e,anim:u,queue:u.opts.queue})),u}O.Animation=O.extend(dt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ue(n.elem,e,oe.exec(t),n),n}]},tweener:function(e,t){v(e)?(t=e,e=["*"]):e=e.match(F);for(var n,o=0,r=e.length;o<r;o++)n=e[o],dt.tweeners[n]=dt.tweeners[n]||[],dt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var o,r,i,a,s,c,u,l,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&ce(e),m=J.get(e,"fxshow");for(o in n.queue||(null==(a=O._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always((function(){p.always((function(){a.unqueued--,O.queue(e,"fx").length||a.empty.fire()}))}))),t)if(r=t[o],st.test(r)){if(delete t[o],i=i||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!m||void 0===m[o])continue;g=!0}d[o]=m&&m[o]||O.style(e,o)}if((c=!O.isEmptyObject(t))||!O.isEmptyObject(d))for(o in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(u=m&&m.display)&&(u=J.get(e,"display")),"none"===(l=O.css(e,"display"))&&(u?l=u:(pe([e],!0),u=e.style.display||u,l=O.css(e,"display"),pe([e]))),("inline"===l||"inline-block"===l&&null!=u)&&"none"===O.css(e,"float")&&(c||(p.done((function(){h.display=u})),null==u&&(l=h.display,u="none"===l?"":l)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always((function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}))),c=!1,d)c||(m?"hidden"in m&&(g=m.hidden):m=J.access(e,"fxshow",{display:u}),i&&(m.hidden=!g),g&&pe([e],!0),p.done((function(){for(o in g||pe([e]),J.remove(e,"fxshow"),d)O.style(e,o,d[o])}))),c=pt(g?m[o]:0,o,p),o in m||(m[o]=c.start,g&&(c.end=c.start,c.start=0))}],prefilter:function(e,t){t?dt.prefilters.unshift(e):dt.prefilters.push(e)}}),O.speed=function(e,t,n){var o=e&&"object"==typeof e?O.extend({},e):{complete:n||!n&&t||v(e)&&e,duration:e,easing:n&&t||t&&!v(t)&&t};return O.fx.off?o.duration=0:"number"!=typeof o.duration&&(o.duration in O.fx.speeds?o.duration=O.fx.speeds[o.duration]:o.duration=O.fx.speeds._default),null!=o.queue&&!0!==o.queue||(o.queue="fx"),o.old=o.complete,o.complete=function(){v(o.old)&&o.old.call(this),o.queue&&O.dequeue(this,o.queue)},o},O.fn.extend({fadeTo:function(e,t,n,o){return this.filter(ce).css("opacity",0).show().end().animate({opacity:t},e,n,o)},animate:function(e,t,n,o){var r=O.isEmptyObject(e),i=O.speed(t,n,o),a=function(){var t=dt(this,O.extend({},e),i);(r||J.get(this,"finish"))&&t.stop(!0)};return a.finish=a,r||!1===i.queue?this.each(a):this.queue(i.queue,a)},stop:function(e,t,n){var o=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,r=null!=e&&e+"queueHooks",i=O.timers,a=J.get(this);if(r)a[r]&&a[r].stop&&o(a[r]);else for(r in a)a[r]&&a[r].stop&&ct.test(r)&&o(a[r]);for(r=i.length;r--;)i[r].elem!==this||null!=e&&i[r].queue!==e||(i[r].anim.stop(n),t=!1,i.splice(r,1));!t&&n||O.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=J.get(this),o=n[e+"queue"],r=n[e+"queueHooks"],i=O.timers,a=o?o.length:0;for(n.finish=!0,O.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<a;t++)o[t]&&o[t].finish&&o[t].finish.call(this);delete n.finish}))}}),O.each(["toggle","show","hide"],(function(e,t){var n=O.fn[t];O.fn[t]=function(e,o,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ft(t,!0),e,o,r)}})),O.each({slideDown:ft("show"),slideUp:ft("hide"),slideToggle:ft("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){O.fn[e]=function(e,n,o){return this.animate(t,e,n,o)}})),O.timers=[],O.fx.tick=function(){var e,t=0,n=O.timers;for(it=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||O.fx.stop(),it=void 0},O.fx.timer=function(e){O.timers.push(e),O.fx.start()},O.fx.interval=13,O.fx.start=function(){at||(at=!0,ut())},O.fx.stop=function(){at=null},O.fx.speeds={slow:600,fast:200,_default:400},O.fn.delay=function(e,t){return e=O.fx&&O.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,o){var r=n.setTimeout(t,e);o.stop=function(){n.clearTimeout(r)}}))},function(){var e=b.createElement("input"),t=b.createElement("select").appendChild(b.createElement("option"));e.type="checkbox",m.checkOn=""!==e.value,m.optSelected=t.selected,(e=b.createElement("input")).value="t",e.type="radio",m.radioValue="t"===e.value}();var ht,gt=O.expr.attrHandle;O.fn.extend({attr:function(e,t){return W(this,O.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){O.removeAttr(this,e)}))}}),O.extend({attr:function(e,t,n){var o,r,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===e.getAttribute?O.prop(e,t,n):(1===i&&O.isXMLDoc(e)||(r=O.attrHooks[t.toLowerCase()]||(O.expr.match.bool.test(t)?ht:void 0)),void 0!==n?null===n?void O.removeAttr(e,t):r&&"set"in r&&void 0!==(o=r.set(e,n,t))?o:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(o=r.get(e,t))?o:null==(o=O.find.attr(e,t))?void 0:o)},attrHooks:{type:{set:function(e,t){if(!m.radioValue&&"radio"===t&&D(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,o=0,r=t&&t.match(F);if(r&&1===e.nodeType)for(;n=r[o++];)e.removeAttribute(n)}}),ht={set:function(e,t,n){return!1===t?O.removeAttr(e,n):e.setAttribute(n,n),n}},O.each(O.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=gt[t]||O.find.attr;gt[t]=function(e,t,o){var r,i,a=t.toLowerCase();return o||(i=gt[a],gt[a]=r,r=null!=n(e,t,o)?a:null,gt[a]=i),r}}));var mt=/^(?:input|select|textarea|button)$/i,vt=/^(?:a|area)$/i;function yt(e){return(e.match(F)||[]).join(" ")}function bt(e){return e.getAttribute&&e.getAttribute("class")||""}function wt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(F)||[]}O.fn.extend({prop:function(e,t){return W(this,O.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[O.propFix[e]||e]}))}}),O.extend({prop:function(e,t,n){var o,r,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&O.isXMLDoc(e)||(t=O.propFix[t]||t,r=O.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(o=r.set(e,n,t))?o:e[t]=n:r&&"get"in r&&null!==(o=r.get(e,t))?o:e[t]},propHooks:{tabIndex:{get:function(e){var t=O.find.attr(e,"tabindex");return t?parseInt(t,10):mt.test(e.nodeName)||vt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(O.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),O.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){O.propFix[this.toLowerCase()]=this})),O.fn.extend({addClass:function(e){var t,n,o,r,i,a,s,c=0;if(v(e))return this.each((function(t){O(this).addClass(e.call(this,t,bt(this)))}));if((t=wt(e)).length)for(;n=this[c++];)if(r=bt(n),o=1===n.nodeType&&" "+yt(r)+" "){for(a=0;i=t[a++];)o.indexOf(" "+i+" ")<0&&(o+=i+" ");r!==(s=yt(o))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,o,r,i,a,s,c=0;if(v(e))return this.each((function(t){O(this).removeClass(e.call(this,t,bt(this)))}));if(!arguments.length)return this.attr("class","");if((t=wt(e)).length)for(;n=this[c++];)if(r=bt(n),o=1===n.nodeType&&" "+yt(r)+" "){for(a=0;i=t[a++];)for(;o.indexOf(" "+i+" ")>-1;)o=o.replace(" "+i+" "," ");r!==(s=yt(o))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,o="string"===n||Array.isArray(e);return"boolean"==typeof t&&o?t?this.addClass(e):this.removeClass(e):v(e)?this.each((function(n){O(this).toggleClass(e.call(this,n,bt(this),t),t)})):this.each((function(){var t,r,i,a;if(o)for(r=0,i=O(this),a=wt(e);t=a[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||((t=bt(this))&&J.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":J.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,o=0;for(t=" "+e+" ";n=this[o++];)if(1===n.nodeType&&(" "+yt(bt(n))+" ").indexOf(t)>-1)return!0;return!1}});var _t=/\r/g;O.fn.extend({val:function(e){var t,n,o,r=this[0];return arguments.length?(o=v(e),this.each((function(n){var r;1===this.nodeType&&(null==(r=o?e.call(this,n,O(this).val()):e)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=O.map(r,(function(e){return null==e?"":e+""}))),(t=O.valHooks[this.type]||O.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))}))):r?(t=O.valHooks[r.type]||O.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(_t,""):null==n?"":n:void 0}}),O.extend({valHooks:{option:{get:function(e){var t=O.find.attr(e,"value");return null!=t?t:yt(O.text(e))}},select:{get:function(e){var t,n,o,r=e.options,i=e.selectedIndex,a="select-one"===e.type,s=a?null:[],c=a?i+1:r.length;for(o=i<0?c:a?i:0;o<c;o++)if(((n=r[o]).selected||o===i)&&!n.disabled&&(!n.parentNode.disabled||!D(n.parentNode,"optgroup"))){if(t=O(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,o,r=e.options,i=O.makeArray(t),a=r.length;a--;)((o=r[a]).selected=O.inArray(O.valHooks.option.get(o),i)>-1)&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),O.each(["radio","checkbox"],(function(){O.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=O.inArray(O(e).val(),t)>-1}},m.checkOn||(O.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),m.focusin="onfocusin"in n;var Pt=/^(?:focusinfocus|focusoutblur)$/,Ot=function(e){e.stopPropagation()};O.extend(O.event,{trigger:function(e,t,o,r){var i,a,s,c,u,l,f,p,h=[o||b],g=d.call(e,"type")?e.type:e,m=d.call(e,"namespace")?e.namespace.split("."):[];if(a=p=s=o=o||b,3!==o.nodeType&&8!==o.nodeType&&!Pt.test(g+O.event.triggered)&&(g.indexOf(".")>-1&&(m=g.split("."),g=m.shift(),m.sort()),u=g.indexOf(":")<0&&"on"+g,(e=e[O.expando]?e:new O.Event(g,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=m.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=o),t=null==t?[e]:O.makeArray(t,[e]),f=O.event.special[g]||{},r||!f.trigger||!1!==f.trigger.apply(o,t))){if(!r&&!f.noBubble&&!y(o)){for(c=f.delegateType||g,Pt.test(c+g)||(a=a.parentNode);a;a=a.parentNode)h.push(a),s=a;s===(o.ownerDocument||b)&&h.push(s.defaultView||s.parentWindow||n)}for(i=0;(a=h[i++])&&!e.isPropagationStopped();)p=a,e.type=i>1?c:f.bindType||g,(l=(J.get(a,"events")||Object.create(null))[e.type]&&J.get(a,"handle"))&&l.apply(a,t),(l=u&&a[u])&&l.apply&&K(a)&&(e.result=l.apply(a,t),!1===e.result&&e.preventDefault());return e.type=g,r||e.isDefaultPrevented()||f._default&&!1!==f._default.apply(h.pop(),t)||!K(o)||u&&v(o[g])&&!y(o)&&((s=o[u])&&(o[u]=null),O.event.triggered=g,e.isPropagationStopped()&&p.addEventListener(g,Ot),o[g](),e.isPropagationStopped()&&p.removeEventListener(g,Ot),O.event.triggered=void 0,s&&(o[u]=s)),e.result}},simulate:function(e,t,n){var o=O.extend(new O.Event,n,{type:e,isSimulated:!0});O.event.trigger(o,null,t)}}),O.fn.extend({trigger:function(e,t){return this.each((function(){O.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return O.event.trigger(e,t,n,!0)}}),m.focusin||O.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){O.event.simulate(t,e.target,O.event.fix(e))};O.event.special[t]={setup:function(){var o=this.ownerDocument||this.document||this,r=J.access(o,t);r||o.addEventListener(e,n,!0),J.access(o,t,(r||0)+1)},teardown:function(){var o=this.ownerDocument||this.document||this,r=J.access(o,t)-1;r?J.access(o,t,r):(o.removeEventListener(e,n,!0),J.remove(o,t))}}}));var Et=n.location,xt={guid:Date.now()},Ct=/\?/;O.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new n.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||O.error("Invalid XML: "+e),t};var At=/\[\]$/,St=/\r?\n/g,Dt=/^(?:submit|button|image|reset|file)$/i,Tt=/^(?:input|select|textarea|keygen)/i;function It(e,t,n,o){var r;if(Array.isArray(t))O.each(t,(function(t,r){n||At.test(e)?o(e,r):It(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,o)}));else if(n||"object"!==P(t))o(e,t);else for(r in t)It(e+"["+r+"]",t[r],n,o)}O.param=function(e,t){var n,o=[],r=function(e,t){var n=v(t)?t():t;o[o.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!O.isPlainObject(e))O.each(e,(function(){r(this.name,this.value)}));else for(n in e)It(n,e[n],t,r);return o.join("&")},O.fn.extend({serialize:function(){return O.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=O.prop(this,"elements");return e?O.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!O(this).is(":disabled")&&Tt.test(this.nodeName)&&!Dt.test(e)&&(this.checked||!ge.test(e))})).map((function(e,t){var n=O(this).val();return null==n?null:Array.isArray(n)?O.map(n,(function(e){return{name:t.name,value:e.replace(St,"\r\n")}})):{name:t.name,value:n.replace(St,"\r\n")}})).get()}});var Rt=/%20/g,Mt=/#.*$/,jt=/([?&])_=[^&]*/,kt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Nt=/^(?:GET|HEAD)$/,Ft=/^\/\//,Lt={},Vt={},Bt="*/".concat("*"),Ut=b.createElement("a");function Ht(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var o,r=0,i=t.toLowerCase().match(F)||[];if(v(n))for(;o=i[r++];)"+"===o[0]?(o=o.slice(1)||"*",(e[o]=e[o]||[]).unshift(n)):(e[o]=e[o]||[]).push(n)}}function $t(e,t,n,o){var r={},i=e===Vt;function a(s){var c;return r[s]=!0,O.each(e[s]||[],(function(e,s){var u=s(t,n,o);return"string"!=typeof u||i||r[u]?i?!(c=u):void 0:(t.dataTypes.unshift(u),a(u),!1)})),c}return a(t.dataTypes[0])||!r["*"]&&a("*")}function Wt(e,t){var n,o,r=O.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:o||(o={}))[n]=t[n]);return o&&O.extend(!0,e,o),e}Ut.href=Et.href,O.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Et.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Et.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Bt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":O.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Wt(Wt(e,O.ajaxSettings),t):Wt(O.ajaxSettings,e)},ajaxPrefilter:Ht(Lt),ajaxTransport:Ht(Vt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var o,r,i,a,s,c,u,l,f,p,d=O.ajaxSetup({},t),h=d.context||d,g=d.context&&(h.nodeType||h.jquery)?O(h):O.event,m=O.Deferred(),v=O.Callbacks("once memory"),y=d.statusCode||{},w={},_={},P="canceled",E={readyState:0,getResponseHeader:function(e){var t;if(u){if(!a)for(a={};t=kt.exec(i);)a[t[1].toLowerCase()+" "]=(a[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=a[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return u?i:null},setRequestHeader:function(e,t){return null==u&&(e=_[e.toLowerCase()]=_[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==u&&(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)E.always(e[E.status]);else for(t in e)y[t]=[y[t],e[t]];return this},abort:function(e){var t=e||P;return o&&o.abort(t),x(0,t),this}};if(m.promise(E),d.url=((e||d.url||Et.href)+"").replace(Ft,Et.protocol+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(F)||[""],null==d.crossDomain){c=b.createElement("a");try{c.href=d.url,c.href=c.href,d.crossDomain=Ut.protocol+"//"+Ut.host!=c.protocol+"//"+c.host}catch(e){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=O.param(d.data,d.traditional)),$t(Lt,d,t,E),u)return E;for(f in(l=O.event&&d.global)&&0==O.active++&&O.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Nt.test(d.type),r=d.url.replace(Mt,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(Rt,"+")):(p=d.url.slice(r.length),d.data&&(d.processData||"string"==typeof d.data)&&(r+=(Ct.test(r)?"&":"?")+d.data,delete d.data),!1===d.cache&&(r=r.replace(jt,"$1"),p=(Ct.test(r)?"&":"?")+"_="+xt.guid+++p),d.url=r+p),d.ifModified&&(O.lastModified[r]&&E.setRequestHeader("If-Modified-Since",O.lastModified[r]),O.etag[r]&&E.setRequestHeader("If-None-Match",O.etag[r])),(d.data&&d.hasContent&&!1!==d.contentType||t.contentType)&&E.setRequestHeader("Content-Type",d.contentType),E.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Bt+"; q=0.01":""):d.accepts["*"]),d.headers)E.setRequestHeader(f,d.headers[f]);if(d.beforeSend&&(!1===d.beforeSend.call(h,E,d)||u))return E.abort();if(P="abort",v.add(d.complete),E.done(d.success),E.fail(d.error),o=$t(Vt,d,t,E)){if(E.readyState=1,l&&g.trigger("ajaxSend",[E,d]),u)return E;d.async&&d.timeout>0&&(s=n.setTimeout((function(){E.abort("timeout")}),d.timeout));try{u=!1,o.send(w,x)}catch(e){if(u)throw e;x(-1,e)}}else x(-1,"No Transport");function x(e,t,a,c){var f,p,b,w,_,P=t;u||(u=!0,s&&n.clearTimeout(s),o=void 0,i=c||"",E.readyState=e>0?4:0,f=e>=200&&e<300||304===e,a&&(w=function(e,t,n){for(var o,r,i,a,s=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),void 0===o&&(o=e.mimeType||t.getResponseHeader("Content-Type"));if(o)for(r in s)if(s[r]&&s[r].test(o)){c.unshift(r);break}if(c[0]in n)i=c[0];else{for(r in n){if(!c[0]||e.converters[r+" "+c[0]]){i=r;break}a||(a=r)}i=i||a}if(i)return i!==c[0]&&c.unshift(i),n[i]}(d,E,a)),!f&&O.inArray("script",d.dataTypes)>-1&&(d.converters["text script"]=function(){}),w=function(e,t,n,o){var r,i,a,s,c,u={},l=e.dataTypes.slice();if(l[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(i=l.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!c&&o&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),c=i,i=l.shift())if("*"===i)i=c;else if("*"!==c&&c!==i){if(!(a=u[c+" "+i]||u["* "+i]))for(r in u)if((s=r.split(" "))[1]===i&&(a=u[c+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[r]:!0!==u[r]&&(i=s[0],l.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+c+" to "+i}}}return{state:"success",data:t}}(d,w,E,f),f?(d.ifModified&&((_=E.getResponseHeader("Last-Modified"))&&(O.lastModified[r]=_),(_=E.getResponseHeader("etag"))&&(O.etag[r]=_)),204===e||"HEAD"===d.type?P="nocontent":304===e?P="notmodified":(P=w.state,p=w.data,f=!(b=w.error))):(b=P,!e&&P||(P="error",e<0&&(e=0))),E.status=e,E.statusText=(t||P)+"",f?m.resolveWith(h,[p,P,E]):m.rejectWith(h,[E,P,b]),E.statusCode(y),y=void 0,l&&g.trigger(f?"ajaxSuccess":"ajaxError",[E,d,f?p:b]),v.fireWith(h,[E,P]),l&&(g.trigger("ajaxComplete",[E,d]),--O.active||O.event.trigger("ajaxStop")))}return E},getJSON:function(e,t,n){return O.get(e,t,n,"json")},getScript:function(e,t){return O.get(e,void 0,t,"script")}}),O.each(["get","post"],(function(e,t){O[t]=function(e,n,o,r){return v(n)&&(r=r||o,o=n,n=void 0),O.ajax(O.extend({url:e,type:t,dataType:r,data:n,success:o},O.isPlainObject(e)&&e))}})),O.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),O._evalUrl=function(e,t,n){return O.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){O.globalEval(e,t,n)}})},O.fn.extend({wrapAll:function(e){var t;return this[0]&&(v(e)&&(e=e.call(this[0])),t=O(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return v(e)?this.each((function(t){O(this).wrapInner(e.call(this,t))})):this.each((function(){var t=O(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=v(e);return this.each((function(n){O(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){O(this).replaceWith(this.childNodes)})),this}}),O.expr.pseudos.hidden=function(e){return!O.expr.pseudos.visible(e)},O.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},O.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(e){}};var qt={0:200,1223:204},zt=O.ajaxSettings.xhr();m.cors=!!zt&&"withCredentials"in zt,m.ajax=zt=!!zt,O.ajaxTransport((function(e){var t,o;if(m.cors||zt&&!e.crossDomain)return{send:function(r,i){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];for(a in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)s.setRequestHeader(a,r[a]);t=function(e){return function(){t&&(t=o=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?i(0,"error"):i(s.status,s.statusText):i(qt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),o=s.onerror=s.ontimeout=t("error"),void 0!==s.onabort?s.onabort=o:s.onreadystatechange=function(){4===s.readyState&&n.setTimeout((function(){t&&o()}))},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}})),O.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),O.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return O.globalEval(e),e}}}),O.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),O.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(o,r){t=O("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),b.head.appendChild(t[0])},abort:function(){n&&n()}}}));var Gt,Yt=[],Kt=/(=)\?(?=&|$)|\?\?/;O.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Yt.pop()||O.expando+"_"+xt.guid++;return this[e]=!0,e}}),O.ajaxPrefilter("json jsonp",(function(e,t,o){var r,i,a,s=!1!==e.jsonp&&(Kt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Kt.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=v(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Kt,"$1"+r):!1!==e.jsonp&&(e.url+=(Ct.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return a||O.error(r+" was not called"),a[0]},e.dataTypes[0]="json",i=n[r],n[r]=function(){a=arguments},o.always((function(){void 0===i?O(n).removeProp(r):n[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,Yt.push(r)),a&&v(i)&&i(a[0]),a=i=void 0})),"script"})),m.createHTMLDocument=((Gt=b.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Gt.childNodes.length),O.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(m.createHTMLDocument?((o=(t=b.implementation.createHTMLDocument("")).createElement("base")).href=b.location.href,t.head.appendChild(o)):t=b),i=!n&&[],(r=T.exec(e))?[t.createElement(r[1])]:(r=Pe([e],t,i),i&&i.length&&O(i).remove(),O.merge([],r.childNodes)));var o,r,i},O.fn.load=function(e,t,n){var o,r,i,a=this,s=e.indexOf(" ");return s>-1&&(o=yt(e.slice(s)),e=e.slice(0,s)),v(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),a.length>0&&O.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done((function(e){i=arguments,a.html(o?O("<div>").append(O.parseHTML(e)).find(o):e)})).always(n&&function(e,t){a.each((function(){n.apply(this,i||[e.responseText,t,e])}))}),this},O.expr.pseudos.animated=function(e){return O.grep(O.timers,(function(t){return e===t.elem})).length},O.offset={setOffset:function(e,t,n){var o,r,i,a,s,c,u=O.css(e,"position"),l=O(e),f={};"static"===u&&(e.style.position="relative"),s=l.offset(),i=O.css(e,"top"),c=O.css(e,"left"),("absolute"===u||"fixed"===u)&&(i+c).indexOf("auto")>-1?(a=(o=l.position()).top,r=o.left):(a=parseFloat(i)||0,r=parseFloat(c)||0),v(t)&&(t=t.call(e,n,O.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+r),"using"in t?t.using.call(e,f):("number"==typeof f.top&&(f.top+="px"),"number"==typeof f.left&&(f.left+="px"),l.css(f))}},O.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){O.offset.setOffset(this,e,t)}));var t,n,o=this[0];return o?o.getClientRects().length?(t=o.getBoundingClientRect(),n=o.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,o=this[0],r={top:0,left:0};if("fixed"===O.css(o,"position"))t=o.getBoundingClientRect();else{for(t=this.offset(),n=o.ownerDocument,e=o.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===O.css(e,"position");)e=e.parentNode;e&&e!==o&&1===e.nodeType&&((r=O(e).offset()).top+=O.css(e,"borderTopWidth",!0),r.left+=O.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-O.css(o,"marginTop",!0),left:t.left-r.left-O.css(o,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===O.css(e,"position");)e=e.offsetParent;return e||ie}))}}),O.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;O.fn[e]=function(o){return W(this,(function(e,o,r){var i;if(y(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===r)return i?i[t]:e[o];i?i.scrollTo(n?i.pageXOffset:r,n?r:i.pageYOffset):e[o]=r}),e,o,arguments.length)}})),O.each(["top","left"],(function(e,t){O.cssHooks[t]=ze(m.pixelPosition,(function(e,n){if(n)return n=qe(e,t),Ue.test(n)?O(e).position()[t]+"px":n}))})),O.each({Height:"height",Width:"width"},(function(e,t){O.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,o){O.fn[o]=function(r,i){var a=arguments.length&&(n||"boolean"!=typeof r),s=n||(!0===r||!0===i?"margin":"border");return W(this,(function(t,n,r){var i;return y(t)?0===o.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?O.css(t,n,s):O.style(t,n,r,s)}),t,a?r:void 0,a)}}))})),O.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){O.fn[t]=function(e){return this.on(t,e)}})),O.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,o){return this.on(t,e,n,o)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),O.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){O.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}));var Xt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;O.proxy=function(e,t){var n,o,r;if("string"==typeof t&&(n=e[t],t=e,e=n),v(e))return o=s.call(arguments,2),(r=function(){return e.apply(t||this,o.concat(s.call(arguments)))}).guid=e.guid=e.guid||O.guid++,r},O.holdReady=function(e){e?O.readyWait++:O.ready(!0)},O.isArray=Array.isArray,O.parseJSON=JSON.parse,O.nodeName=D,O.isFunction=v,O.isWindow=y,O.camelCase=Y,O.type=P,O.now=Date.now,O.isNumeric=function(e){var t=O.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},O.trim=function(e){return null==e?"":(e+"").replace(Xt,"")},void 0===(o=function(){return O}.apply(t,[]))||(e.exports=o);var Jt=n.jQuery,Zt=n.$;return O.noConflict=function(e){return n.$===O&&(n.$=Zt),e&&n.jQuery===O&&(n.jQuery=Jt),O},void 0===r&&(n.jQuery=n.$=O),O}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readAloud=t.CombindForms=t.FakeCircleAnnotation=t.FakeSquareAnnotation=t.DivScrollWrap=t.CustomScrollWrap=t.PDF=t.Log=t.UserPermission=t.shared=t.STATE_HANDLER_NAMES=t.SnapshotServer=t.SoundComponent=t.StrikeOutTextEditComponent=t.ScreenComponent=t.FreeTextBoxComponent=t.FreeTextCalloutComponent=t.FreeTextTypeWritterComponent=t.PolygonCloudAnnotComponent=t.InkComponent=t.StampComponent=t.FreeTextComponent=t.SquareComponent=t.CaretComponent=t.FileAttachmentComponent=t.NoteComponent=t.CircleComponent=t.LinkAnnotComponent=t.PolygonComponent=t.PolyLineComponent=t.LineComponent=t.SquigglyComponent=t.UnderlineComponent=t.StrikeOutComponent=t.HighlightComponent=t.TextMarkupAnnotComponent=t.MarkupAnnotComponent=t.AnnotComponent=t.PageCustomRender=t.PDFPageRendering=t.DocCustomRender=t.PDFDocRendering=t.PDFViewerRendering=t.ScrollWrap=t.RetryPasswordComponent=t.IContextMenu=t.Matrix=t.ViewerEvents=t.Events=t.stateHandler=t.IStateHandler=t.viewMode=t.IViewMode=t.PDFViewer=t.Consts=t.BrowserInfo=t.DeviceInfo=t.vendors=t.Deps=t.AnnotationAuthorityManager=t.PropertiesControl=t.CalloutShape=t.ShapeControl=t.TileJREngineApRenderer=t.LocalCanvasApRenderer=t.AnnotationApRenderer=t.ActivationGroup=t.collab=t.viewerui=t.ui=t.constants=void 0;var o=it(n(232)),r=it(n(285)),i=it(n(139)),a=it(n(102)),s=rt(n(24)),c=it(n(1)),u=it(n(151)),l=it(n(428)),f=it(n(284)),p=it(n(397)),d=it(n(411)),h=it(n(412)),g=it(n(400)),m=it(n(402)),v=it(n(82)),y=it(n(74)),b=it(n(157)),w=it(n(433)),_=it(n(286)),P=it(n(434)),O=it(n(435)),E=it(n(215)),x=it(n(288)),C=it(n(291)),A=it(n(437)),S=it(n(438)),D=it(n(439)),T=it(n(440)),I=it(n(441)),R=it(n(294)),M=it(n(296)),j=it(n(442)),k=it(n(443)),N=it(n(444)),F=it(n(295)),L=it(n(445)),V=it(n(447)),B=it(n(451)),U=it(n(452)),H=it(n(453)),$=it(n(462)),W=it(n(64)),q=it(n(417)),z=it(n(177)),G=it(n(124)),Y=it(n(413)),K=rt(n(7)),X=rt(n(24)),J=rt(n(14)),Z=rt(n(34)),Q=rt(n(52)),ee=rt(n(103)),te=n(63),ne=rt(te),oe=rt(n(138)),re=n(276),ie=it(n(9)),ae=rt(n(475)),se=rt(n(204)),ce=it(n(116)),ue=it(n(233)),le=it(n(43)),fe=it(n(61)),pe=it(n(4)),de=n(109),he=n(18),ge=it(n(144)),me=n(12),ve=it(n(446)),ye=it(n(112)),be=n(182),we=it(n(1113)),_e=it(n(32)),Pe=it(n(209)),Oe=it(n(180)),Ee=it(n(208)),xe=n(39),Ce=it(n(19)),Ae=it(n(38)),Se=it(n(405)),De=it(n(1114)),Te=rt(n(22)),Ie=it(n(1115)),Re=n(476),Me=n(477);n(478),n(480);var je=n(210),ke=it(n(160)),Ne=it(n(146)),Fe=it(n(301)),Le=it(n(165)),Ve=it(n(219)),Be=n(481),Ue=n(36),He=it(n(469)),$e=it(n(92)),We=it(n(213)),qe=it(n(178)),ze=it(n(137)),Ge=it(n(1122)),Ye=n(15),Ke=n(86),Xe=it(n(470)),Je=n(77),Ze=it(n(188)),Qe=n(183),et=it(n(21)),tt=n(28),nt=rt(n(1123)),ot=it(n(13));function rt(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function it(e){return e&&e.__esModule?e:{default:e}}var at=c.default,st=ue.default,ct={Hammer:le.default,EventEmitter:fe.default,jQuery:pe.default},ut=ct,lt={browser:Q,units:ne,download:ee,createClass:je.createClass,DebounceAsyncTaskExecutor:he.DebounceAsyncTaskExecutor,ThrottleAsyncTaskExecutor:Be.ThrottleAsyncTaskExecutor,QueuedAsyncTaskExecutor:Ue.QueuedAsyncTaskExecutor,areaSelections:ae,activation:se,keyboardStatus:ce.default,getUnitByName:te.getUnitByName,getClientX:de.getClientX,getClientY:de.getClientY,DebouncePromiseQueue:he.DebouncePromiseQueue,extendOptions:ge.default,convertFromNumberToHex:me.convertFromNumberToHex,convertFromNumberToRGBA:me.convertFromNumberToRGBA,colorConvertor:me.colorConvertor,standardColorAsARGBNumber:me.standardColorAsARGBNumber,CalloutPointsReviser:ve.default,createDeferred:et.default,Store:tt.Store,Disposable:ot.default},ft={LEVELS:oe,setLogLevel:re.setLogLevel,LoggerFactory:ie.default},pt={getDevicePagePoint:ye.default,deltaDeviceRect:be.deltaDeviceRect,appendSelectMark:be.appendSelectMark,removeSelectMark:be.removeSelectMark,getBoundingPoint:be.getBoundingPoint},dt={IStateHandler:i.default,HandStateHandler:a.default,StateHandlerConsts:s,StateHandlerUtils:pt},ht={IViewMode:r.default},gt={IFloatingTooltip:ke.default,IViewerUI:Ne.default,IContextMenu:G.default,TinyViewerUI:Fe.default,TinyFloatingTooltip:Le.default,TextSelectionTool:Ve.default},mt=gt,vt={constant:Object.assign({Cipher_Type:we.default,User_Permissions:_e.default,DataEvents:Ce.default,AnnotUpdatedType:Ae.default},Te),actions:De.default,common:{FileSpec:ze.default},annots:{constant:{Annot_Flags:Pe.default,Annot_Type:Oe.default,Annot_Unit_Type:Ee.default,MARKUP_ANNOTATION_STATE:K.MARKUP_ANNOTATION_STATE},AnnotFlag:Ze.default},form:{constant:{Field_Flag:xe.FieldFlag,Field_Type:xe.FieldType}},HeaderFooter:He.default,DataEvents:Ce.default,Error_Code:Se.default,Matrix:u.default},yt={ViewerEvents:at,STATE_HANDLER_NAMES:X,ANNOTATION_PERMISSION:Ke.ANNOTATION_PERMISSION,OPEN_FILE_TYPE:Je.OPEN_FILE_TYPE,SNAP_MODE:Qe.SNAP_MODE},bt={COLLABORATION_ACTION:Ye.COLLABORATION_ACTION,WebSocketCommunicator:Ge.default},wt=se.ActivationGroup;t.constants=yt,t.ui=gt,t.viewerui=mt,t.collab=bt,t.ActivationGroup=wt,t.AnnotationApRenderer=We.default,t.LocalCanvasApRenderer=$e.default,t.TileJREngineApRenderer=qe.default,t.ShapeControl=W.default,t.CalloutShape=q.default,t.PropertiesControl=z.default,t.AnnotationAuthorityManager=Xe.default,t.Deps=ct,t.vendors=ut,t.DeviceInfo=J,t.BrowserInfo=Z,t.Consts=K,t.PDFViewer=o.default,t.IViewMode=r.default,t.viewMode=ht,t.IStateHandler=i.default,t.stateHandler=dt,t.Events=c.default,t.ViewerEvents=at,t.Matrix=u.default,t.IContextMenu=G.default,t.RetryPasswordComponent=l.default,t.ScrollWrap=f.default,t.PDFViewerRendering=p.default,t.PDFDocRendering=d.default,t.DocCustomRender=h.default,t.PDFPageRendering=g.default,t.PageCustomRender=m.default,t.AnnotComponent=v.default,t.MarkupAnnotComponent=y.default,t.TextMarkupAnnotComponent=b.default,t.HighlightComponent=w.default,t.StrikeOutComponent=_.default,t.UnderlineComponent=P.default,t.SquigglyComponent=O.default,t.LineComponent=E.default,t.PolyLineComponent=x.default,t.PolygonComponent=C.default,t.LinkAnnotComponent=A.default,t.CircleComponent=S.default,t.NoteComponent=D.default,t.FileAttachmentComponent=T.default,t.CaretComponent=I.default,t.SquareComponent=R.default,t.FreeTextComponent=M.default,t.StampComponent=j.default,t.InkComponent=k.default,t.PolygonCloudAnnotComponent=N.default,t.FreeTextTypeWritterComponent=F.default,t.FreeTextCalloutComponent=L.default,t.FreeTextBoxComponent=V.default,t.ScreenComponent=B.default,t.StrikeOutTextEditComponent=U.default,t.SoundComponent=H.default,t.SnapshotServer=$.default,t.STATE_HANDLER_NAMES=X,t.shared=lt,t.UserPermission=Y.default,t.Log=ft,t.PDF=vt,t.CustomScrollWrap=ue.default,t.DivScrollWrap=st,t.FakeSquareAnnotation=Re.FakeSquareAnnotation,t.FakeCircleAnnotation=Me.FakeCircleAnnotation,t.CombindForms=Ie.default,t.readAloud=nt,window.PDF=vt},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(175)),r=n(8),i=s(n(9)),a=n(28);function s(e){return e&&e.__esModule?e:{default:e}}var c=i.default.getLogger("modular");t.default=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.modules=new a.Store,this.modules.dispatch(r.ROOT_MODULE_NAME,new o.default(r.ROOT_MODULE_NAME,[]))}return e.prototype.module=function(e,t){var n=this;if(Array.isArray(t)){if(this.modules.has(e))throw new Error('Duplicated Modular name: "'+e+'", it must be unique.');t=t.map((function(e,t){if("string"==typeof e)return n._module(e);if(e instanceof o.default)return e;throw new Error("Unexpected module type at position: "+t)}));var r=this.root();t.indexOf(-1===r)&&t.push(r);var i=new o.default(e,t);return this.modules.dispatch(e,i),i}return this._module(e)},e.prototype.root=function(){return this.modules.getCurrentValue(r.ROOT_MODULE_NAME)},e.prototype._module=function(e){var t=this.modules.getCurrentValue(e);if(!t)throw new Error("No module found: '"+e+"'");return t},e.prototype._nostrictModule=function(e){var t=this.modules.getCurrentValue(e);return t||c.warn("module not found: "+e+", using root module instead."),t||this.root()},e}())},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(833);Object.defineProperty(t,"MARKUP_ANNOTATION_STATE",{enumerable:!0,get:function(){return(e=o,e&&e.__esModule?e:{default:e}).default;var e}});t.BORDER_STYLE={SOLID:0,DASHED:1,UNDERLINE:2,BEVELED:3,INSET:4,CLOUDY:5},t.POINT_TYPE={MOVE_TO:1,LINE_TO:2,LINE_TO_CLOSE_FIGURE:3,BEZIER_TO:4,BEZIER_TO_CLOSE_FIGURE:5},t.Intents={LINE_ARROW:"LineArrow",LINE_DIMENSION:"LineDimension",POLYGON_CLOUD:"PolygonCloud",POLYGON_DIMENSION:"PolygonDimension",POLYLINE_DIMENSION:"PolyLineDimension",CIRCLE_DIMENSION:"CircleDimension",FREETEXT_TYPEWRITER:"FreeTextTypewriter",FREETEXT_CALLOUT:"FreeTextCallout",STRIKEOUT_TEXTEDIT:"StrikeOutTextEdit"};var r=t.LineEndingName={0:"None",1:"Square",2:"Circle",3:"Diamond",4:"OpenArrow",5:"ClosedArrow",6:"Butt",7:"ROpenArrow",8:"RClosedArrow",9:"Slash"};t.LineEndingStyle=Object.keys(r).reduce((function(e,t){return e[r[t]]=Number(t),e}),{}),t.LINE_CAPTION_POSITION={POS_INLINE:0,POS_TOP:1},t.AnnotFlagsName={0:"invisible",1:"hidden",2:"print",3:"nozoom",4:"norotate",5:"noview",6:"readonly",7:"locked",8:"togglenoview"},t.PDFDocPermission={PrintLowQuality:4,ModifyDocument:8,Extract:16,AnnotForm:32,FillForm:256,ExtractAccess:512,Assemble:1024,PrintHighQuality:2048},t.MeasureType={MeasureTypeX:0,MeasureTypeY:1,MeasureTypeD:2,MeasureTypeA:3,MeasureTypeT:4,MeasureTypeS:5},t.STORE_NAMES={SELECTION_INFO:"viewer--store-selection-info"},t.CREATING_MEASUREMENT_CONTEXTMENU="creating-measurement-contextmenu",t.HIGHLIGHTING_MODE={NONE:0,INVERT:1,OUTLINE:2,PUSH:3,TOGGLE:4},t.RESOLVED_PROMISE_VOID=Promise.resolve(),t.DISTANCE_TOLERANCE=2,t.POINT_TOLERANCE=.01,t.POS_TYPE={FIRST:0,LAST:1,AFTER:2,BEFORE:3},t.STANDARD_HTML_ELEMENTS=["html","a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"],t.EMPTY_STR="",t.DB_PREFIX="FoxitPDFSDKForWeb_",t.SET_FORM_CREATION_CONTINUOUSLY="set_form_creation_continuously",t.HIDE_FORM_FIELD_PROPERTY_BOX="hideFormFieldPropertyBox",t.HIDE_FORM_FIELD_SIMPLE_PROPERTY_BOX="hideFormFieldSimplePropertyBox",t.MEASUREMENT_INFO="measurementInfo"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ORIENTATION_VERTICAL="vertical",t.ORIENTATION_HORIZONTAL="horizontal",t.ROOT_MODULE_NAME="",t.WEBPDF_VIEWER_COMPONENT_NAME="pdf-viewer",t.NAMESPACE_SEPERATOR=":",t.PDFUI_BINDER="pdfui-event-binder",t.MODAL_LAYER_BINDER="pdfui-default-modal-binder",t.KEY_MAP_OPEN_SIDEBAR="pdfui-open-sidebar",t.KEY_MAP_CLOSE_SIDEBAR="pdfui-close-sidebar",t.KEY_MAP_OPEN_QUICK_SEARCH="pdfui-open-quick-search",t.KEY_MAP_EXIT_TO_HAND_STATE="pdfui-exit-to-hand-state",t.KEY_MAP_EXIT_LAYER="pdfui-exit-modal-layer",t.KEY_MAP_COPY_ANNOT="pdfui-copy-annot",t.MODULE_LICENSE_INFO="module-license-info",t.COMPONENT_BROADCAST_LOCALIZE="localize",t.FRAGMENT_ACTION={BEFORE:"before",AFTER:"after",APPEND:"append",PREPEND:"prepend",INSERT:"insert",FILL:"fill",REPLACE:"replace",EXT:"ext",REMOVE:"remove"},t.FRAGMENT_SELECT_HANDLER={THROW_ERROR_IF_NOT_FOUND:"throw",LOG_MESSAGE_IF_NOT_FOUND:"warn",IGNORE_IF_NOT_FOUND:"ignore"},t.COMPONENT_EVENTS={DISABLE:"disable",ENABLE:"enable",ACTIVE:"active",DEACTIVE:"deactive",SHOWN:"shown",HIDDEN:"hidden",DESTROYED:"destroyed",REMOVED:"removed",CHILD_INSERTED:"child_inserted",INSERTED:"inserted",MOUNTED:"mounted",CLOSED:"closed",EXPAND:"expand",BEFORE_EXPAND:"before_expand",RESIZESTART:"resizestart",RESIZE:"resize",COLLAPSE:"collapse"},t.KEY_MAP_ADD_BOOKMARK="pdfui-add-bookmark",t.LOAD_ADDON_DYNAMIC_DISPATCHER="pdfui-load-addon-dynamic-dispatcher",t.LOAD_ADDON_DYNAMIC_COMPLETE="pdfui-load-addon-dynamic-complete"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(276)),r=f(n(845)),i=n(138),a=f(n(846)),s=f(n(410)),c=f(n(847)),u=f(n(848)),l=f(n(277));function f(e){return e&&e.__esModule?e:{default:e}}var p={},d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.toggleLogger=function(e){o.logOff="boolean"==typeof e?e:!o.logOff},e.getLogger=function(e){return p[e]=p[e]||this.createLogger(e)},e.createLogger=function(e){var t,n=void 0,f=void 0;switch(o.logLayout){case"complex":n=new c.default;break;case"simple":default:n=new r.default}switch(o.logLevel){case"debug":f=i.LEVEL_DEBUG;break;case"info":f=i.LEVEL_INFO;break;case"warn":f=i.LEVEL_WARN;break;case"error":default:f=i.LEVEL_ERROR}return t=o.logAppenders.map((function(e){switch(e){case"console":return new s.default;case"websocket":return new WebsocketAppender}})).filter((function(e){return e instanceof l.default})),new a.default(new u.default(t),n,e,f)},e}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(1),i=(o=r)&&o.__esModule?o:{default:o};function a(){}a.prototype=i.default,t.default=Object.assign(new a,{addTextMarkupSuccess:"add-text-markup-success",fullscreenchange:"fullscreenchange",appendCommentListGroup:"apppend-commentlist-group",destroyCommentListGroup:"destroy-commentlist-group",appendCommentListComment:"append-commentlist-comment",appendCommentListReply:"append-commentlist-reply",destroyCommentListComment:"destroy-commentlist-comment",destroyCommentListReply:"destroy-commentlist-reply",InkImageSelected:"ink-image-selected",applicationDestroyed:"uiextension-destroyed",addReplySuccess:"add-reply-success",deleteReplySuccess:"delete-reply-success",addActionSuccess:"add-action-success",addContentSuccess:"add-content-success",markRedactionSuccess:"mark-redaction-success",addReviewStateSuccess:"add-review-state-success",addMarkedStateSuccess:"add-marked-state-success",addonLoaded:"pdfui-init-process-addon-loaded",initializationCompleted:"pdfui-intialization-completed",commentGroupAnnotationsUpdated:"pdfui-comment-group-annotations-updated",bookmarkSelected:"bookmark-selected",stampSelectedChange:"stampSelectedChange"})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(13)),r=s(n(56)),i=s(n(40)),a=(s(n(3)),s(n(17)),n(279));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var f=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.module,r=n.localizer,i=n.node,a=n.parentComponent,s=n.attrValue,l=n.subName,f=n.attrName;c(this,t);var p=u(this,e.call(this));return p.node=i,p.module=o,p.localizer=r,p.parentComponent=a,p.subName=l,p.attrValue=s,p.attrName=f,p.isParser=!1,p.order=1,p.directiveName=p.constructor.getName(),p}return l(t,e),t.getName=function(){(0,r.default)()},t.services=function(){return{}},t.isParser=function(){return!1},t.isFake=function(){return!1},t.prototype.findClosestDirective=function(e,t){var n=this.parentComponent;if("string"==typeof t)for(;n;){if(!!n.directive.findDirective(t))return;var o=n.directive.findDirective(e);if(o)return o;n=n.parent}else for(;n;){var r=n.directive.findDirective(e);if(r)return r;n=n.parent}},t.prototype.processComponentOptions=function(e){},t.prototype.parseComponent=function(){},t.prototype.init=function(e){this.component=e,this.controller=e.controller,this.directiveOption=e.$options[this.directiveName]||{};var t=this.constructor.services();t&&(0,a.initService)(e.getPDFUI(),e,t,this)},t.prototype.emit=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this,o=this.component.parent;o&&o.directive.receiveEmit(n,e,t)},t.prototype.receiveEmit=function(e,t,n){},t.prototype.broadcast=function(e,t){this.component.isContainer()&&this.component.children().forEach((function(n){n.directive.receiveBroadcast(e,t)}))},t.prototype.receiveBroadcast=function(e,t){},t.prototype.beforeComponentRender=function(){(0,i.default)()},t.prototype.afterComponentRender=function(){(0,i.default)()},t.prototype.componentPrelink=function(){(0,i.default)()},t.prototype.componentPostlink=function(){(0,i.default)()},t.prototype.componentMounted=function(){(0,i.default)()},t.prototype.componentDestroyed=function(){this.destroy()},t}(o.default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.convertFromNumberToHex=function(e){if("number"!=typeof e)throw new TypeError("Unexpected color value:"+e);if(e<0)return-1;var t=e.toString(16),n=6;e>16777215&&(n=8);for(;t.length<n;)t="0"+t;return"#"+t},t.convertFromNumberToRGBA=function(e){var t=void 0;e<16777216?t=255:(t=e/r&255,e&=16777215);return{r:e>>16&255,g:e>>8&255,b:255&e,a:t}},t.colorConvertor=i,t.standardColorAsARGBNumber=function(e){if(e<=16777215)return 4278190080+e;if(e>16777215)return e;if("string"==typeof e){if((e=e.replace("#","").trim()).match(/^[0-9A-F]{8}$/i))return parseInt(e,16);if(e.match(/^[0-9A-F]{6}$/i))return 4278190080+parseInt(e,16);if(e.match(/^rgb\(\d{1,3}(,\d{1,3}){2}\)$/i)){var t=e.split(/\D+/).map((function(e){return parseInt(e)})),n=o(t,4),r=n[1],i=n[2],a=n[3];return 4278190080+(r<<16)+(i<<8)+a}if(e.match(/^rgba\(\d{1,3}(,\d{1,3}){3}\)$/i)){var s=e.split(/\D+/).map((function(e){return parseInt(e)})),c=o(s,5),u=c[1],l=c[2],f=c[3],p=c[4];return Math.floor(4278190080*p)+(u<<16)+(l<<8)+f}}throw new Error('incorrect color format: "'+e+'"')},t.convertFromNumberToJSColor=function(e){return["RGB",((16711680&e)>>16)/255,((65280&e)>>8)/255,(255&e)/255]},t.getTransparentOrColor=function(e){var t=void 0;t=0===e?"transparent":i(16777215&e,"#");return t};var r=Math.pow(2,24);function i(e){var t,n,o,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"HTML",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a="",s=void 0;switch("number"==typeof e&&(e=["int",e]),e[0]){case"int":t=(16711680&e[1])>>16,n=(65280&e[1])>>8,o=255&e[1];break;case"T":t=0,n=0,o=0,i=0;break;case"G":t=n=o=255*e[1];break;case"RGB":t=255*e[1],n=255*e[2],o=255*e[3];break;case"CMYK":t=(1-e[4])*(1-e[1])*255,n=(1-e[4])*(1-e[2])*255,o=(1-e[4])*(1-e[3])*255;break;case"r":t=+(s=e.match(/rgba?\((\d*),\s*(\d*),\s*(\d*),?\s*([\.0-9]*)?\)/))[1],n=+s[2],o=+s[3];var c=s[4];void 0!==c&&(i=+c);break;case"#":var u=4==e.length?/#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])$/:/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/;s=e.match(u),t=parseInt(s[1],16),n=parseInt(s[2],16),o=parseInt(s[3],16);break;default:throw new Error("Unsupported color format")}switch(r){case"HTML":a=t===n&&n===o&&-1===o?"transparent":"rgba("+parseInt(t)+","+parseInt(n)+","+parseInt(o)+","+i+")";break;case"RGB":a=["RGB",t/255,n/255,o/255];break;case"#":a+=t<16?"#0"+t.toString(16):"#"+t.toString(16),a+=n<16?"0"+n.toString(16):n.toString(16),a+=o<16?"0"+o.toString(16):o.toString(16);break;case"int":a=0,a|=(i*=255)<<24,a|=t<<16,a|=n<<8,a|=o,a>>>=0}return a}},function(e,t,n){"use strict";function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.destroyHooks=[],this.isDestroyed=!1}return e.prototype.addDestroyHook=function(){for(var t,n=this,r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return(t=this.destroyHooks).push.apply(t,o(i.filter((function(t){if("function"!=typeof t&&!(t instanceof e))throw new Error("[Illegal Argument] Invalid destroy hook:"+t+", It's not a function!");return!0})))),function(){i.forEach((function(e){var t=n.destroyHooks.indexOf(e);t>-1&&n.destroyHooks.splice(t,1)}))}},e.prototype.destroy=function(){this.destroyHooks.forEach((function(t){"function"==typeof t?t():t instanceof e&&t.destroy()})),this.destroyHooks=[],this.isDestroyed=!0},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i=t.isTouchDevice=(r=" -webkit- -moz- -o- -ms- ".split(" "),!!("ontouchstart"in window||navigator.maxTouchPoints||window.DocumentTouch&&document instanceof DocumentTouch)||(o=["(",r.join("touch-enabled),("),"heartz",")"].join(""),!!window.matchMedia&&window.matchMedia(o).matches)),a=navigator.userAgent.toLowerCase(),s=t.isMac=/macintosh|mac os x/.test(a),c=t.isIOS=/ipad|iphone|ipod/.test(a),u=t.isIPHONE=/iphone/.test(a),l=t.isIPAD=/ipad/.test(a),f=t.isIPOD=/ipod/.test(a),p=t.isAndroid=/android/.test(a),d=t.isBlackBerry=/blackberry/.test(a),h=t.isWebOS=/webos/.test(a),g=t.isKindle=/silk|kindle/.test(a),m=t.isAliAppBrowser=/aliapp/.test(a),v=t.isTablet=!m&&/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(a),y=t.isMobile=!v&&(/mobile/.test(a)||c||p||d||h||g),b=t.isDesktop=!(y||v||p||u||l||f||g||h),w=t.isMiPad=/(MI(.*|\s*)PAD).*/i.test(a),_=t.isXiaomi=!w&&/MI(\s+|\d+?|HM|xiaomi).*/i.test(a),P=t.isHuawei=/HUAWEI/i.test(navigator.userAgent),O=t.isLinux=/Linux/i.test(a),E=t.isWindows=!O&&/Windows(\s+NT)?/i.test(a),x=t.isMacOS=/MacIntosh|(mac os)/i.test(a);t.DEVICE_DETACTION={mac:s,ios:c,iphone:u,ipad:l,ipod:f,android:p,blackberry:d,webos:h,kindle:g,tablet:v,mobile:y,desktop:b,xiaomi:_,huawei:P,touch:i,linux:O,windows:E,macos:x}},function(e,t,n){"use strict";var o;n.r(t),n.d(t,"COLLABORATION_ACTION",(function(){return o})),function(e){e.CREATE_ANNOT="create-annots",e.REMOVE_ANNOT="remove-annots",e.UPDATE_ANNOT="update-annots",e.ADD_REPLY="add-reply",e.REMOVE_REPLY="remove-reply",e.ADD_REVIEW_STATE="add-review-state",e.ADD_MARKED_STATE="add-marked-state",e.UPDATE_ANNOT_CONTENT="update-comment-content",e.PPO_REMOVE_PAGE="ppo-remove-page",e.PPO_INSERT_PAGE="ppo-insert-page",e.PPO_ROTATE_PAGE="ppo-rotate-page",e.PPO_MOVE_PAGE="ppo-move-page",e.MOVE_ANNOTS_BETWEEN_PAGES="move-annotations-between-pages",e.IMPORT_ANNOTATIONS_FILE="import-annotations-file"}(o||(o={}))},function(e,t,n){var o=n(29);e.exports=function(e){if(!o(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LockType=t.ComponentLifecycle=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=v(n(61)),a=v(n(56)),s=v(n(421)),c=v(n(422));n(423);var u=v(n(9)),l=n(8),f=v(n(862)),p=v(n(424)),d=v(n(866)),h=v(n(280)),g=(v(n(283)),n(210)),m=n(279);function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var b=0;function w(e){return e+"-"+(b++).toString(36)}var _=function(e){function t(n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));a.$options=n,a.context=n.context,a.lockType=O.none,a.parser=n.parser,a.module=o,a.localizer=r,a.viewConfig=n.viewConfig,a.cls=n.cls,a.nodeName=a.viewConfig.nodeName;var s=a.viewConfig.attrs;if(a.name=s.name||n.name||w("component_name"),a.id=w("component"),a.attrs=s,a.tempAttrs=s,a.node=n.viewConfig.vnode,a.parent=n.parentComponent,a.texts=[],a.isMounted=!1,a.element=a.createDOMElement(),a.directive=new d.default(a),a.subject$=new i.default,a.lifecycleStates=Object.keys(P).reduce((function(e,t){return e[t]=!1,e}),{}),n.events)for(var c in n.events){var u=n.events[c];"function"==typeof u&&a.on(c,u)}return a._disableReason={},a.setController(f.default.newControllerInstance(n,a)),n.controllerAlias&&(a.controller.data[n.controllerAlias]=a.controller),a.constructor.getMetadataResolver().resolve(a),a.element.getComponent=function(){return a},a.addDestroyHook((function(){delete a.element.getComponent})),a.addDestroyHook(a.context.pool.addComponent(a)),a.init(),a}return y(t,e),t.getName=function(){(0,a.default)()},t.extend=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.getName=function(){return e},(0,g.createClass)(t,this,n)},t.preprocess=function(e){},t.getMetadata=function(){return{deprecated:!1,options:{disabled:{type:"boolean",defaultValue:!1},visible:{type:"boolean",field:"isVisible",defaultValue:!0},canBeDisabled:{type:"boolean",defaultValue:!0},active:{type:"boolean",field:"isActive",defaultValue:!1}}}},t.getMetadataResolver=function(){return this.$metadata||(this.$metadata=new p.default(this)),this.$metadata},t.isFake=function(){return!1},t.handleParseError=function(){},t.services=function(){},t.prototype.init=function(){},t.prototype.setDirective=function(e){this.directive=e},t.prototype.getDirectiveByName=function(e){return this.directive&&this.directive.getDirective(e)},t.prototype.setController=function(e){this.controller&&this.controller.uninstall(),this.controller=e},t.prototype.setPDFUIInstance=function(e){this.pdfUI=e,this.controller.setPDFUIInstance(e),this.initServices(e)},t.prototype.initServices=function(e){var t=this.constructor.services();t&&(0,m.initService)(e,this,t,this)},t.prototype.getPDFUI=function(){return this.pdfUI},t.prototype.resetDataScope=function(){var e=this.parent?this.parent.controller:void 0;this.controller.setParentScope(e),this.controller.digest()},t.prototype.getRoot=function(){return!this.__root__||this.parent&&this.__root__!==this.parent.__root__?this.__root__=this.parent?this.parent.getRoot():this:this.__root__},t.prototype.nextSiblings=function(){if(this.parent){var e=this.parent.indexOf(this),t=this.parent.childAt(e+1);return t&&t.isIgnorable()?t.nextSiblings():t}},t.prototype.previousSiblings=function(){if(this.parent){var e=this.parent.indexOf(this),t=this.parent.childAt(e-1);return t&&t.isIgnorable()?t.previousSiblings():t}},t.prototype.brothers=function(){return this.parent?this.parent.children():[this]},t.prototype.createDOMElement=function(){return document.createElement("span")},t.prototype.appendSlot=function(e,t){var n=this.getSlotContainer(e);if(!n)throw new Error("slot not exists: "+e);t.children().forEach((function(e){n.appendChild(e.element)}))},t.prototype.getSlotContainer=function(e){return this.element.querySelector("[slot="+JSON.stringify(e)+"]")||this.element.querySelector('[slot=""]')},t.prototype.on=function(e,t){var n=this;return this.subject$.on(e,t),function(){n.subject$&&n.subject$.off(e,t)}},t.prototype.once=function(e,t){var n=this;return this.subject$.once(e,t),function(){n.subject$&&n.subject$.off(e,t)}},t.prototype.off=function(e,t){this.subject$.off(e,t)},t.prototype.trigger=function(e){for(var t,n=arguments.length,o=Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];(t=this.subject$).emit.apply(t,[e].concat(o))},t.prototype.broadcast=function(e,t){},t.prototype.receiveBroadcast=function(e,t){this.texts.forEach((function(n){n.receiveBroadcast(e,t)}))},t.prototype.prerender=function(){if(this.attrs)for(var e in this.attrs)"@"!==e[0]&&this.setAttribute(e,this.attrs[e]);if("string"==typeof this.cls)this.element.classList.add(this.cls.split(" "));else if(Array.isArray(this.cls)){var t;(t=this.element.classList).add.apply(t,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(this.cls))}this.setAttribute("component-name",this.name),this.setAttribute("component-type",this.nodeName)},t.prototype.render=function(){this.acceptText()&&(this.textElement=this.renderText()),this.context.store.dispatch("comp-lcu",P.render),this.lifecycleStates[P.render]=!0},t.prototype.mounted=function(){this.isMounted||(this.dispatchLifecycleChange(P.mounted),this.isMounted=!0,this.element.dataset&&(this.element.dataset.webpdf_component=this.id),this.texts.forEach((function(e){return e.mounted()})),this.trigger(l.COMPONENT_EVENTS.MOUNTED),this.directive.componentMounted(),this.controller.mounted(),this.controller.digest())},t.prototype.triggerHandler=function(){(0,s.default)()},t.prototype.lock=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O.available;if(!this.isDestroyed){switch(this.lockType!=O.none&&this.lockType!=e&&this.unlock(),e){case O.visibility:this.hide();break;case O.available:this.disable();break;default:return}this.lockType=e}},t.prototype.unlock=function(){if(this.isLocked&&!this.isDestroyed){var e=this.lockType;switch(this.lockType=O.none,e){case O.visibility:this.show();break;case O.available:this.enable()}}},t.prototype.disable=function(){return!this.canBeDisabled||this.disabled||(this.disabled=!0,this.doDisable(),this.trigger(l.COMPONENT_EVENTS.DISABLE)),this.disabled},t.prototype.enable=function(){return!this.disabled||(this.lockType===O.available?(u.default.getLogger(this.nodeName+"#enable()").info("Cannot enable this locked component!",this),!1):(this.disabled=!1,this.doEnable(),this.trigger(l.COMPONENT_EVENTS.ENABLE),!0))},t.prototype.active=function(){this.isDestroyed||this.disabled||this.isActive||(this.isActive=!0,this.doActive(),this.trigger(l.COMPONENT_EVENTS.ACTIVE))},t.prototype.deactive=function(){this.isActive&&!this.isDestroyed&&(this.isActive=!1,this.doDeactive(),this.trigger(l.COMPONENT_EVENTS.DEACTIVE))},t.prototype.show=function(){this.isVisible||this.isDestroyed||(this.lockType!==O.visibility?(this.isVisible=!0,this.doShown(),this.trigger(l.COMPONENT_EVENTS.SHOWN)):u.default.getLogger(this.nodeName+"#show()").warn("Cannot show this locked component!",this))},t.prototype.hide=function(){this.isVisible&&!this.isDestroyed&&(this.isVisible=!1,this.doHidden(),this.trigger(l.COMPONENT_EVENTS.HIDDEN))},t.prototype.addDestroyHook=function(){for(var t,n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];(t=e.prototype.addDestroyHook).call.apply(t,[this].concat(o))},t.prototype.destroy=function(){this.isDestroyed||(this.dispatchLifecycleChange(P.destroyed),this.texts.forEach((function(e){return e.destroy()})),this.texts=[],e.prototype.destroy.call(this),this.doDestroy(),this.controller.destroy(),this.directive.componentDestroyed(),this.trigger(l.COMPONENT_EVENTS.DESTROYED),this.subject$.removeAllListeners(),this.$options=null,this.parser=null,this.module=null,this.localizer=null,this.viewConfig=null,this.attrs=null,this.tempAttrs=null,this.node=null,this.parent=null,this.element=null,this.directive=null,this.subject$=null,this.__root__=null,this.pdfUI=null)},t.prototype.removeElement=function(){this.element&&this.element.remove()},t.prototype.remove=function(){var e=this.parent;this.parent=null,e&&e.removeChild(this),e||this.removeElement(),this.controller.freeze()},t.prototype.isIgnorable=function(){return!1},t.prototype.isContainer=function(){return!1},t.prototype.isNative=function(){return!1},t.prototype.before=function(e,t){if(this.parent&&this.parent.isContainer()){var n=this.index();this.parent.insert(e,n,t)}},t.prototype.after=function(e,t){if(this.parent&&this.parent.isContainer()){var n=this.parent.indexOf(this);this.parent.insert(e,n+1,t)}},t.prototype.index=function(){if(this.parent&&this.parent.isContainer())return this.parent.indexOf(this)},t.prototype.getComponentByName=function(e){if(this.name===e)return this},t.prototype.findChildren=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t&&e(this)?[this]:[]},t.prototype.getClosestComponentByName=function(e){return this.findClosestComponent((function(t){return t.name===e}))},t.prototype.getClosestComponentByType=function(e){return this.findClosestComponent((function(t){return t.nodeName===e}))},t.prototype.getClosestComponentByClass=function(e){return this.findClosestComponent((function(t){return t instanceof e}))},t.prototype.findClosestComponent=function(e){if("function"!=typeof e)throw new TypeError("callback must be a function, but actual: "+(void 0===e?"undefined":o(e)));for(var t=this;t;){if(e(t))return t;t=t.parent}},t.prototype.getAllComponentsByName=function(e){return this.name===e?[this]:[]},t.prototype.getAllComponentsByType=function(e){return this.constructor.getName()===e?[this]:[]},t.prototype.querySelectorAll=function(e){return h.default.parseSelectors(e).selectFrom([this])},t.prototype.querySelector=function(e){return this.querySelectorAll(e)[0]},t.prototype.doActive=function(){this.element.classList.add("active")},t.prototype.doDeactive=function(){this.element.classList.remove("active")},t.prototype.doDisable=function(){this.element.classList.add("disabled")},t.prototype.doEnable=function(){this.element.classList.remove("disabled")},t.prototype.doDestroy=function(){this.remove()},t.prototype.doHidden=function(){this.element.classList.add("fv__ui-hide")},t.prototype.doShown=function(){this.element.classList.remove("fv__ui-hide")},t.prototype.getConfig=function(e){return"string"==typeof filed?this.$options:this.$options[e]},t.prototype.addCSSClass=function(e){e&&this.element.classList.add(e)},t.prototype.removeCSSClass=function(e){e&&this.element.classList.remove(e)},t.prototype.attachEventToElement=function(e,t,n,o){var r=this;t.split(/[\s,;]+/).forEach((function(t){e.addEventListener(t,n,o),r.addDestroyHook((function(){e.removeEventListener(t,n,o)}))}))},t.prototype.setAttribute=function(e,t){this.element.setAttribute?this.element.setAttribute(e,t):this.element[e]=t},t.prototype.getAttribute=function(e){return this.element.getAttribute?this.element.getAttribute(e):this.element[e]},t.prototype.removeAttribute=function(e){this.element.removeAttribute(e)},t.prototype.getDomElement=function(){return this.element},t.prototype.localize=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.localizer;return this.element?(this.trigger("localize",e),e.localizeRecursive(this.element,{})):Promise.resolve()},t.prototype.prelink=function(){this.dispatchLifecycleChange(P.prelink),this.controller.prelink(),this.controller.digest()},t.prototype.postlink=function(){this.dispatchLifecycleChange(P.postlink),this.update(),this.controller.postlink(),this.controller.digest()},t.prototype.update=function(){this.updateDisableStatus(),this.updateVisiblityStatus()},t.prototype.updateActiveStatus=function(){var e=this.isActive,t=this.$options.active;"function"==typeof t&&(e=t.call(this)),!1===e?this.doDeactive():this.doActive()},t.prototype.updateVisiblityStatus=function(){var e=this.isVisible,t=this.$options.visible;"function"==typeof t&&(e=t.call(this)),!1===e?this.doHidden():this.doShown()},t.prototype.updateDisableStatus=function(){var e=this.disabled,t=this.$options.disabled;"function"==typeof t&&(e=t.call(this)),!1===e?this.doEnable():this.doDisable()},t.prototype.acceptText=function(){return!1},t.prototype.appendText=function(e){e.parent=this,this.texts.push(e)},t.prototype.renderText=function(){},t.prototype.removeText=function(e){var t=this.texts.indexOf(e);return t>-1&&(this.texts.splice(t,1),e.removeElement(),e.trigger(l.COMPONENT_EVENTS.REMOVED,this,e),!0)},t.prototype.setText=function(e){if(this.acceptText()){var t=this.pdfUI.parseTemplate("<text>"+e+"</text>",[]);this.text=void 0,this.texts=[t],this.renderText()}},t.prototype.sync=function(e,t){if(0===e.indexOf("attr.")){var n=e.substring("attr.".length);return this.setAttribute(n,t),!0}if(0===e.indexOf("prop."))return this[e.substring("prop.".length)]=t,!0;switch(e){case"disabled":this.syncDisableStatus(t);break;case"visible":this.syncVisibleStatus();break;case"canBeDisabled":this.syncCanBeDisabledStatus();break;case"active":this.syncActiveStatus();break;case"text":if(this.acceptText())return this.setText(t),!0;default:return!1}return!0},t.prototype.syncDisableStatus=function(e){e?this.disable():this.enable()},t.prototype.syncVisibleStatus=function(e){e?this.show():this.hide()},t.prototype.syncCanBeDisabledStatus=function(e){!e&&this.disabled&&this.enable(),this.canBeDisabled=e},t.prototype.syncActiveStatus=function(e){e?this.active():this.deactive()},t.prototype.getTooltipAnchor=function(){return this.element},t.prototype.isLifecycleReached=function(e){return!!this.lifecycleStates[e]},t.prototype.waitForComponentLifecycle=function(e,t){var n=this,o=this.getRoot();if(0===o.getAllComponentsByName(e).length&&0===o.node.querySelectorAll(e).length)throw new Error("Component not found in layout template: "+e);var r=this._getLifecycleDispatchKey(t);return new Promise((function(t){var i=n.context.store.subscribe(r,(function(){var n=o.querySelectorAll(e);t(n),i()}))}))},t.prototype.dispatchLifecycleChange=function(e){this.context.store.dispatch(this._getLifecycleDispatchKey(e),this),this.lifecycleStates[e]=!0},t.prototype._getLifecycleDispatchKey=function(e){return"comp-lcu-"+this.name+"-"+e},t.prototype.isDOMVisible=function(){switch(this.element.nodeType){case Node.CDATA_SECTION_NODE:case Node.TEXT_NODE:case Node.DOCUMENT_FRAGMENT_NODE:return this.parent&&this.parent.isDOMVisible();case Node.COMMENT_NODE:case Node.NOTATION_NODE:case Node.ATTRIBUTE_NODE:return!1;case Node.ELEMENT_NODE:return this.element.getClientRects().length>0;case Node.DOCUMENT_NODE:return!0}return!1},t.prototype.isAncestorOf=function(e){return e instanceof t&&e.isDescendantOf(this)},t.prototype.isDescendantOf=function(e){if(!(e instanceof t))return!1;for(var n=this.parent;n;){if(n===e)return!0;n=n.parent}return!1},t.prototype.getComponentsPool=function(){return this.context.pool},t.prototype.getRenderingElements=function(){return[this.element]},t.prototype.digest=function(){this.controller&&this.controller.digest()},t.prototype.watch=function(e,t){return this.controller&&this.controller.watch(e,t),function(){}},r(t,[{key:"isLocked",get:function(){return this.lockType!==O.none}}]),t}(c.default);t.default=_;var P=t.ComponentLifecycle={prelink:"prelink",postlink:"postlink",mounted:"mounted",destroyed:"destroyed",render:"render"},O=t.LockType={visibility:"visibility",available:"available",none:"none"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SerialEnhancePromise=t.SerialPromise=t.DebounceAsyncTaskExecutor=t.DebouncePromiseQueue=void 0;var o,r=n(21),i=(o=r)&&o.__esModule?o:{default:o},a=n(403),s=n(36);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=function(){},l=function(){function e(){c(this,e),this.queue=[],this.promise=Promise.resolve()}return e.prototype.push=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return this.queue.push([e,n]),new Promise((function(e,n){setTimeout((function(){return t.exec()}),o)}))},e.prototype.exec=function(){var e=this;if(!this.execIng){var t=this.queue.pop();if(t){this.execIng=!0;for(var n=0,o=this.queue.length;n<o;n++)this.queue[n][1]();return this.queue=[],Promise.resolve(t[0]()).catch((function(){try{return Promise.resolve(t[1]()).catch(u)}catch(e){}})).finally((function(){e.execIng=!1,setTimeout((function(){e.exec()}),30)}))}}},e.prototype.end=function(){this.queue=[]},e}(),f=function(){function e(){c(this,e),this.executor=new s.QueuedAsyncTaskExecutor}return e.prototype.serial=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.executor.cancel(),this.executor.waitForCurrentRunningTasks().then((function(){return e.executor.resume(),e.executor.execTasks(t.map((function(e){return{task:e}})))}))},e.prototype.push=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.executor.execTasks(t.map((function(e){return{task:e}})))},e.prototype.unshift=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.executor.insert(t.map((function(e){return{task:e}}))),this.executor.waitForCurrentRunningTasks()},e.prototype.concat=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.forEach((function(t){e.executor.exec(t)})),this.executor.waitForCurrentRunningTasks()},e.prototype.exec=function(){return this.executor.waitForCurrentRunningTasks()},e.prototype.end=function(){return this.executor.cancel(),this.executor.waitForCurrentRunningTasks()},e}(),p=function(){function e(){c(this,e),this.queue=[],this.continueExec=!0,this.deferred=(0,i.default)(),this.task=Promise.resolve()}return e.prototype.serial=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.queue=e,this.exec(),this.deferred.promise},e.prototype.push=function(){this.queue.push.apply(this.queue,arguments)},e.prototype.unshift=function(){this.queue.unshift.apply(this.queue,arguments)},e.prototype.concat=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.queue.concat(e)},e.prototype.exec=function(){var e=this;if(!this.execIng){this.execIng=!0;var t=this.queue.shift()||[u],n=t[0]();return this.execIngEnd=t[1]||u,Promise.resolve(n).finally((function(){return e.execIng=!1,e.queue.length?e.continueExec?void e.task.then((function(t){return e.exec()})):(e.queue=[],e.deferred.resolve(n)):e.deferred.resolve(n)})).catch(u),this.deferred.promise}},e.prototype.end=function(){if(this.execIng)try{Promise.resolve(this.execIngEnd()).catch(u)}catch(e){}return this.continueExec=!1,this.queue=[],this.deferred.promise},e}();t.DebouncePromiseQueue=l,t.DebounceAsyncTaskExecutor=a.DebounceAsyncTaskExecutor,t.SerialPromise=f,t.SerialEnhancePromise=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(152),r={annotationUpdated:"annotation-updated",annotationIDUpdated:"annotation-id-updated",annotationAppearanceUpdated:"annotation-appearance-updated",annotationReplyAdd:"annotation-reply-add",annotationReviewStateAnnotAdd:"annotation-review-state-annot-add",annotationMarkedStateAnnotAdd:"annotation-marked-state-annot-add",annotationStatesCleared:"annotation-states-cleared",annotationRemoved:"annotation-removed",annotationMovedPosition:"annotation-moved-position",annotationAdded:"annotation-add",annotationAdd:"annotation-add",moveAnnotsToPages:"moveAnnotsToPages",annotationImported:"annotation-imported",annotationImportedEx:"annotation-imported-ex",annotationLoaded:"annotation-loaded",actionUpdated:"action-updated",actionAdd:"action-add",actionRemove:"action-remove",layerVisibleChange:"layer-visible-change",bookmarkAdded:"bookmark-added",bookmarkUpdated:"bookmark-updated",bookmarkRemoved:"bookmark-removed",stateAnnotNameUpdated:"state-annot-name-updated",pageInfoChange:"page-info-change",pageRotationChange:"page-rotation-change",imageAdded:"image-added",watermarkAdded:"watermark-added",graphicsUpdated:"graphics-updated",permissionChanged:"permission-changed",docPasswordChanged:(0,o.identity)("doc-password-changed"),drmEncryptSuccess:"drm-encrypt-success",drmEncryptFailed:"drm-encrypt-failed",removePwdAndPerm:(0,o.identity)("remove-password-and-permission"),pageMoved:"page-moved",pageRemoved:"page-removed",pageAdded:"page-added",insertPages:"import-pages",importPages:"import-pages",applyRedaction:"apply-redaction",removeReviewState:"remove-review-state",removeMarkedState:"remove-marked-state",formValueChanged:"form-value-changed",metaDataChanged:"meta-data-changed",docModified:"doc-modified",flattened:"flattened",headerFooterUpdated:"headerFooterUpdated",headerFooterAdded:"headerFooterAdded",COChange:"COChange",pagesMoved:"pages-moved",pagesRemoved:"pages-removed",pagesRotated:"pages-rotated"};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=s(n(3)),i=s(n(1)),a=s(n(102));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var p=function(e){function t(n,o){u(this,t);var r=l(this,e.call(this,n));return"string"==typeof o?r.stateName=o:(r.ExpectedStateHandlerClass=o,r.stateName=o.getStateName()),r}return f(t,e),t.getName=function(){return"StatefulController"},t.ext=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"StatefulControllerImpl",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4294967295;return c({},t,function(r){function i(t){return u(this,i),l(this,r.call(this,t,e))}return f(i,r),i.getName=function(){return t},o(i,null,[{key:"permission",get:function(){return n}}]),i}(this))[t]},t.prototype.postlink=function(){var e=this,t=this.getPDFUI();this.ExpectedStateHandlerClass?this.registerPromise=this.getPDFUI().getStateHandlerManager().then((function(t){return t.register(e.ExpectedStateHandlerClass),t})):this.registerPromise=this.getPDFUI().getStateHandlerManager(),this.addDestroyHook(t.addViewerEventListener(i.default.deactiveStateHandler,(function(t){t.getStateName()===e.stateName&&(e.component.deactive(),e.stateOut())}))),this.addDestroyHook(t.addViewerEventListener(i.default.switchStateHandler,(function(t,n){t.getStateName()===e.stateName&&(e.component.active(),e.stateIn())}))),this.addDestroyHook(t.addViewerEventListener(i.default.openFileSuccess,(function(n){t.getStateHandlerManager().then((function(t){t.getCurrentStates().getStateName()!==e.stateName?(e.component.deactive(),e.stateOut()):(e.component.active(),e.stateIn())}))})))},t.prototype.handle=function(){var e=this;return this.registerPromise.then((function(t){t.getCurrentStates().getStateName()===e.stateName?t.switchTo(a.default.getStateName()):t.switchTo(e.stateName)}))},t.prototype.stateIn=function(){},t.prototype.stateOut=function(){},t}(r.default);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PosType=t.MK_Properties=t.Graphics_ObjectType=t.Graphics_FillMode=t.Font_CIDCharset=t.Font_Charset=t.Font_Styles=t.Font_StandardID=t.Text_Mode=t.Box_Type=t.Calc_Margin_Mode=t.Action_Trigger=t.Signature_Ap_Flags=t.Signature_State=t.Error_Code=t.Font_Descriptor_Flags=t.page_Number_Format=t.date_Format=t.Rendering_Usage=t.Rendering_Content=t.Range_Filter=t.Saving_Flag=t.Search_Flag=t.Rotation_Degree=t.Rotation=t.Standard_Font=t.Watermark_Flag=t.Position=t.Flatten_Option=t.File_Type=t.Relationship=t.Highlight_Mode=t.Action_Type=t.Point_Type=t.Alignment=t.Ending_Style=t.Note_Icon=t.FileAttachment_Icon=t.Border_Style=t.Font_Style=t.Additional_Permission=void 0;var o,r=n(405),i=(o=r)&&o.__esModule?o:{default:o};t.Additional_Permission={download:1},t.Font_Style={normal:0,italic:1,bold:2},t.Border_Style={solid:0,dashed:1,underline:2,beveled:3,inset:4,cloudy:5},t.FileAttachment_Icon={graph:"Graph",pushPin:"PushPin",paperclip:"Paperclip",tag:"Tag"},t.Note_Icon={Check:"Check",Circle:"Circle",Comment:"Comment",Cross:"Cross",Help:"Help",Insert:"Insert",Key:"Key",NewParagraph:"NewParagraph",Note:"Note",Paragraph:"Paragraph",RightArrow:"RightArrow",RightPointer:"RightPointer",Star:"Star",UpArrow:"UpArrow",UpLeftArrow:"UpLeftArrow"},t.Ending_Style={None:0,Square:1,Circle:2,Diamond:3,OpenArrow:4,ClosedArrow:5,Butt:6,ReverseOpenArrow:7,ReverseClosedArrow:8,Slash:9},t.Alignment={left:0,center:1,right:2},t.Point_Type={moveTo:1,lineTo:2,lineToCloseFigure:3,bezierTo:4,bezierToCloseFigure:5},t.Action_Type={goto:"TypeGoto",launch:"TypeLaunch",uri:"TypeURI",named:"TypeNamed",submitForm:"TypeSubmitForm",resetForm:"TypeResetForm",javaScript:"TypeJavaScript",importData:"TypeImportData",hide:"TypeHide"},t.Highlight_Mode={none:0,invert:1,outline:2,push:3,toggle:4},t.Relationship={firstChild:0,lastChild:1,previousSibling:2,nextSibling:3,firstSibling:4,lastSibling:5},t.File_Type={fdf:0,xfdf:1,xml:2,csv:3,txt:4},t.Flatten_Option={all:0,field:1,annot:2},t.Position={topLeft:"TopLeft",topCenter:"TopCenter",topRight:"TopRight",centerLeft:"CenterLeft",center:"Center",centerRight:"CenterRight",bottomLeft:"BottomLeft",bottomCenter:"BottomCenter",bottomRight:"BottomRight"},t.Watermark_Flag={asContent:0,asAnnot:1,onTop:2,unprintable:4,display:8},t.Standard_Font={courier:0,courierBold:1,courierBoldOblique:2,courierOblique:3,helvetica:4,helveticaBold:5,helveticaBoldOblique:6,helveticaOblique:7,timesRoman:8,timesBold:9,timesBoldItalic:10,timesItalic:11,symbol:12,zapfDingbats:13},t.Rotation={rotation0:0,rotation1:1,rotation2:2,rotation3:3},t.Rotation_Degree={rotation0:0,rotation90:90,rotation180:180,rotation270:270},t.Search_Flag={caseSensitive:1,wholeWord:2,consecutively:4},t.Saving_Flag={normal:0,incremental:1,noOriginal:2,XRefStream:8,linearized:4096,removeRedundantObjects:16},t.Range_Filter={all:0,even:1,odd:2},t.Rendering_Content={page:"page",annot:"annot"},t.Rendering_Usage={print:"print",view:"view"},t.date_Format={MSlashD:0,MSlashDSlashYY:1,MSlashDSlashYYYY:2,MMSlashDDSlashYY:3,MMSlashDDSlashYYYY:4,DSlashMSlashYY:5,DSlashMSlashYYYY:6,DDSlashMMSlashYY:7,DDSlashMMSlashYYYY:8,MMSlashYY:9,MMSlashYYYY:10,MDotDDotYY:11,MDotDDotYYYY:12,MMDotDDDotYY:13,MMDotDDDotYYYY:14,MMDotYY:15,DDotMDotYYYY:16,DDDotMMDotYY:17,DDDotMMDotYYYY:18,YYHyphenMMHyphenDD:19,YYYYHyphenMMHyphenDD:20},t.page_Number_Format={default:0,numberOfCount:1,numberSlashCount:2,pageNumber:3,pageNumberOfCount:4},t.Font_Descriptor_Flags={FixedPitch:1,Serif:2,Symbolic:4,Script:8,Nonsymbolic:32,Italic:64,AllCap:65536,SmallCap:131072,ForceBold:262144},t.Error_Code=i.default,t.Signature_State={verifyChange:128,verifyIncredible:256,verifyNoChange:1024,stateVerifyIssueUnknown:2048,verifyIssueValid:4096,verifyIssueUnknown:8192,verifyIssueRevoke:16384,verifyIssueExpire:32768,verifyIssueUncheck:65536,verifyIssueCurrent:131072,verifyTimestampNone:262144,verifyTimestampDoc:524288,verifyTimestampValid:1048576,verifyTimestampInvalid:2097152,verifyTimestampExpire:4194304,verifyTimestampIssueUnknown:8388608,verifyTimestampIssueValid:16777216,verifyTimestampTimeBefore:33554432,verifyChangeLegal:134217728,verifyChangeIllegal:268435456},t.Signature_Ap_Flags={showTagImage:1,showLabel:2,showReason:4,showDate:8,showDistinguishName:16,showLocation:32,showSigner:64,showBitmap:128,showText:256},t.Action_Trigger={click:-1,keyStroke:7,format:8,validate:9,calculate:10,mouseEnter:11,mouseExit:12,mouseDown:13,mouseUp:14,onFocus:15,onBlur:16},t.Calc_Margin_Mode={CalcContentsBox:0,CalcDetection:1},t.Box_Type={MediaBox:0,CropBox:1,TrimBox:2,ArtBox:3,BleedBox:4},t.Text_Mode={Fill:0,Stroke:1,FillStroke:2,Invisible:3,FillClip:4,StrokeClip:5,FillStrokeClip:6,Clip:7},t.Font_StandardID={Courier:0,CourierB:1,CourierBI:2,CourierI:3,Helvetica:4,HelveticaB:5,HelveticaBI:6,HelveticaI:7,Times:8,TimesB:9,TimesBI:10,TimesI:11,Symbol:12,ZapfDingbats:13},t.Font_Styles={FixedPitch:1,Serif:2,Symbolic:4,Script:8,NonSymbolic:32,Italic:64,AllCap:65536,SmallCap:131072,Bold:262144},t.Font_Charset={ANSI:0,Default:1,Symbol:2,Shift_JIS:128,Hangeul:129,GB2312:134,ChineseBig5:136,Thai:222,EastEurope:238,Russian:204,Greek:161,Turkish:162,Hebrew:177,Arabic:178,Baltic:186},t.Font_CIDCharset={Unknown:0,GB1:1,CNS1:2,JAPAN1:3,KOREA1:4,UNICODE:5},t.Graphics_FillMode={None:0,Alternate:1,Winding:2},t.Graphics_ObjectType={All:0,Text:1,Path:2,Image:3,Shading:4,FormXObject:5},t.MK_Properties={borderColor:"borderColor",fillColor:"fillColor",normalCaption:"normalCaption",downCaption:"downCaption",rolloverCaption:"rolloverCaption"},t.PosType={first:0,last:1,after:2,before:3}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.StateNameFieldTypeMap=t.StateNameAnnotTypeMap=t.STATE_HANDLER_CREATE_RADIO_BUTTON=t.STATE_HANDLER_CREATE_FIELD_PUSH_BUTTON=t.STATE_HANDLER_CREATE_FIELD_SIGNATURE=t.STATE_HANDLER_CREATE_FIELD_TEXT=t.STATE_HANDLER_SNAPSHOT_TOOL=t.STATE_HANDLER_CREATE_FREETEXT_BOX=t.STATE_HANDLER_CREATE_FREETEXT_CALLOUT=t.STATE_HANDLER_CREATE_FREETEXT_TYPEWRITER=t.STATE_HANDLER_SELECT_ANNOTATION=t.STATE_HANDLER_SELECT_TEXT_IMAGE=t.STATE_HANDLER_SELECT_TEXT_ANNOTATION=t.STATE_HANDLER_LOUPE=t.STATE_HANDLER_ERASER=t.STATE_HANDLER_MARQUEE=t.STATE_HANDLER_CREATE_UNDERLINE=t.STATE_HANDLER_CREATE_TEXT=t.STATE_HANDLER_CREATE_STRIKE_OUT=t.STATE_HANDLER_CREATE_STAMP=t.STATE_HANDLER_CREATE_SQUIGGLY=t.STATE_HANDLER_CREATE_SQUARE=t.STATE_HANDLER_CREATE_REPLACE=t.STATE_HANDLER_CREATE_POLYLINE=t.STATE_HANDLER_CREATE_POLYGON=t.STATE_HANDLER_CREATE_POLYGON_CLOUD=t.STATE_HANDLER_CREATE_PENCIL=t.STATE_HANDLER_CREATE_CIRCLE_AREA=t.STATE_HANDLER_CREATE_AREA=t.STATE_HANDLER_CREATE_PERIMETER=t.STATE_HANDLER_CREATE_DISTANCE=t.STATE_HANDLER_CREATE_LINE=t.STATE_HANDLER_CREATE_LINK=t.STATE_HANDLER_CREATE_EDIT_IMAGE=t.STATE_HANDLER_CREATE_IMAGE=t.STATE_HANDLER_CREATE_HIGHLIGHT=t.STATE_HANDLER_CREATE_FILE_ATTACHMENT=t.STATE_HANDLER_CREATE_CIRCLE=t.STATE_HANDLER_CREATE_CREATE_AREA_HIGHLIGHT=t.STATE_HANDLER_CREATE_ARROW=t.STATE_HANDLER_CREATE_CARET=t.STATE_HANDLER_CHECK_THE_SEARCH=t.STATE_HANDLER_HAND=void 0;var r=n(39);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.STATE_HANDLER_HAND="hand",t.STATE_HANDLER_CHECK_THE_SEARCH="checkTheSearch";var a=t.STATE_HANDLER_CREATE_CARET="createCaret",s=t.STATE_HANDLER_CREATE_ARROW="createArrow",c=t.STATE_HANDLER_CREATE_CREATE_AREA_HIGHLIGHT="createAreaHighlight",u=t.STATE_HANDLER_CREATE_CIRCLE="createCircle",l=t.STATE_HANDLER_CREATE_FILE_ATTACHMENT="createFileAttachment",f=t.STATE_HANDLER_CREATE_HIGHLIGHT="createHighlight",p=t.STATE_HANDLER_CREATE_IMAGE="createImage",d=(t.STATE_HANDLER_CREATE_EDIT_IMAGE="createEditImage",t.STATE_HANDLER_CREATE_LINK="createLink"),h=t.STATE_HANDLER_CREATE_LINE="createLine",g=t.STATE_HANDLER_CREATE_DISTANCE="createDistance",m=t.STATE_HANDLER_CREATE_PERIMETER="createPerimeter",v=t.STATE_HANDLER_CREATE_AREA="createArea",y=t.STATE_HANDLER_CREATE_CIRCLE_AREA="createCircleArea",b=t.STATE_HANDLER_CREATE_PENCIL="createPencil",w=t.STATE_HANDLER_CREATE_POLYGON_CLOUD="createPolygonCloud",_=t.STATE_HANDLER_CREATE_POLYGON="createPolygon",P=t.STATE_HANDLER_CREATE_POLYLINE="createPolyline",O=t.STATE_HANDLER_CREATE_REPLACE="createReplace",E=t.STATE_HANDLER_CREATE_SQUARE="createSquare",x=t.STATE_HANDLER_CREATE_SQUIGGLY="createSquiggly",C=t.STATE_HANDLER_CREATE_STAMP="createStamp",A=t.STATE_HANDLER_CREATE_STRIKE_OUT="createStrikeOut",S=t.STATE_HANDLER_CREATE_TEXT="createText",D=t.STATE_HANDLER_CREATE_UNDERLINE="createUnderline",T=(t.STATE_HANDLER_MARQUEE="marquee",t.STATE_HANDLER_ERASER="eraser",t.STATE_HANDLER_LOUPE="loupe",t.STATE_HANDLER_SELECT_TEXT_ANNOTATION="select-text-annotation",t.STATE_HANDLER_SELECT_TEXT_IMAGE="select-text-image",t.STATE_HANDLER_SELECT_ANNOTATION="select-annotation",t.STATE_HANDLER_CREATE_FREETEXT_TYPEWRITER="CreateFreeTextTypewriterHandler"),I=t.STATE_HANDLER_CREATE_FREETEXT_CALLOUT="createFreeTextCallout",R=t.STATE_HANDLER_CREATE_FREETEXT_BOX="createFreeTextBox",M=(t.STATE_HANDLER_SNAPSHOT_TOOL="snapshot-tool",t.STATE_HANDLER_CREATE_FIELD_TEXT="CreateTextFieldHandler",t.STATE_HANDLER_CREATE_FIELD_SIGNATURE="CreateSignatureFieldHandler",t.STATE_HANDLER_CREATE_FIELD_PUSH_BUTTON="CreatePushButtonFieldHandler",t.STATE_HANDLER_CREATE_RADIO_BUTTON="CreateRadioButtonStateHandler",i(o={},S,"text"),i(o,f,"highlight"),i(o,A,"strikeout"),i(o,D,"underline"),i(o,x,"squiggly"),i(o,O,"strikeout"),i(o,a,"caret"),i(o,T,"freetext"),i(o,I,"freetext"),i(o,R,"freetext"),i(o,E,"square"),i(o,u,"circle"),i(o,h,"line"),i(o,s,"line"),i(o,_,"polygon"),i(o,P,"polyline"),i(o,w,"polygon"),i(o,c,"highlight"),i(o,b,"ink"),i(o,C,"stamp"),i(o,g,"line"),i(o,m,"polyline"),i(o,v,"polygon"),i(o,y,"circle"),i(o,l,"fileattachment"),i(o,p,"screen"),i(o,d,"link"),i(o,"create-multi-media-state","screen"),i(o,"create-redaction-text-state","redact"),i(o,"create-redaction-state","redact"),o),j={CreatePushButtonStateHandler:r.FieldType.PushButton,CreateCheckBoxStateHandler:r.FieldType.CheckBox,CreateRadioButtonStateHandler:r.FieldType.RadioButton,CreateComboBoxStateHandler:r.FieldType.ComboBox,CreateListBoxStateHandler:r.FieldType.ListBox,CreateTextStateHandler:r.FieldType.Text,CreateSignStateHandler:r.FieldType.Sign,CreateDateStateHandler:r.FieldType.Text,CreateImageStateHandler:r.FieldType.PushButton};t.StateNameAnnotTypeMap=M,t.StateNameFieldTypeMap=j},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});s(n(17));var o=s(n(489)),r=s(n(6)),i=s(n(488)),a=(s(n(45)),s(n(283)),s(n(308)),s(n(1189)));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}n(472),s(n(175)).default.prototype.component=function(e,t){var n=function(n){function o(){return c(this,o),u(this,n.apply(this,arguments))}return l(o,n),o.getName=function(){return e},o.prototype.mounted=function(){n.prototype.mounted.call(this),"function"==typeof t.mounted&&t.mounted.call(this)},o}(f.createSuperClass({template:t.template})),o=Object.assign({},t);delete o.template,delete o.mounted,Object.assign(n.prototype,o),this.registerComponent(n)};var f=function(){function e(){c(this,e)}return e.createSuperClass=function(e){var t=e.templateParser,n=void 0===t?new o.default:t,s=e.template,f=e.fragments,p=void 0===f?[]:f,d=e.body,h=e.ComponentClass;if(!h){var g=n.parseRoot(s);h=r.default.module(g.namespace).getComponentClass(g.nodeName)||i.default}return function(e){function t(){return c(this,t),u(this,e.apply(this,arguments))}return l(t,e),t.preprocess=function(e,t){var o=e.vnode,r=n.parse(s,!0);t.parseFragments(p,r);var i=new a.default(r,o);e.appendVNode(i)},t.prototype.rerenderChildren=function(){e.prototype.rerenderChildren.call(this),this.bodyComponent&&this.bodyComponent!==this&&this.bodyComponent.rerenderChildren()},t.prototype.getRenderableChildren=function(){return this.bodyComponent===this?this.$container.children():this.$container.children().filter((function(e){return e.node.$$isOriginalChild}))},t.prototype.append=function(t){e.prototype.append.call(this,t),t.node.$$isOriginalChild||(this.bodyComponent||(this.bodyComponent=d&&this.querySelector(d)||this),this.bodyComponent.appendTemporaryComponent(t))},t}(h)},e}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=c(n(17)),r=c(n(1099)),i=c(n(118)),a=n(8),s=c(n(305));function c(e){return e&&e.__esModule?e:{default:e}}function u(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var f=function(e){function t(n,o,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,a));s.$container=new r.default,s.$temporaries=new r.default;var c=void 0,u=void 0;return u=(c=n.viewConfig?n.viewConfig.attrs.layout:n.layout)instanceof i.default?c:(c?s.module.getLayoutClass(c):void 0)||i.default,s.layout=new u(n.viewConfig||n.layoutOptions),s}return l(t,e),t.prototype.isContainer=function(){return!0},t.prototype.mounted=function(){e.prototype.mounted.call(this),this.$container.each((function(e){return!e.isMounted&&e.mounted()}))},t.prototype.broadcast=function(e,t){this.$container.each((function(n){n.receiveBroadcast(e,t)}))},t.prototype.receiveBroadcast=function(e,t){this.broadcast(e,t)},t.prototype.createDOMElement=function(){return document.createElement("div")},t.prototype.append=function(e,t){return this.insert(e,this.size(),t)},t.prototype.appendTemporaryComponent=function(e){var t=this;return this.$temporaries.append(e),this.rerenderChildren(),function(){return t.$temporaries.removeChild(e)}},t.prototype.prepend=function(e,t){return this.insert(e,0,t)},t.prototype.insert=function(e,t,n){"string"==typeof e?this.insertTemplate(e,t,n):e instanceof Node?this.insertTemplate("<native-dom></native-dom>",t,[{target:"!root",config:{nativeDOM:e}}].concat(n||[])):this.insertComponent(e,t)},t.prototype.insertComponent=function(e,t){if(e.parent&&e.parent!==this)throw new Error("Component must be removed from its parent to be inserted into other component!");-1===this.$container.indexOf(e)&&(this.$container.insert(e,t),e.parent=this,e.controller.freeze(!1),e.resetDataScope(),this.doInsert(e,t),this.trigger(a.COMPONENT_EVENTS.CHILD_INSERTED,e,t),e.trigger(a.COMPONENT_EVENTS.INSERTED))},t.prototype.insertTemplate=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=this.getPDFUI().parseTemplate(e,n);this.insertComponent(o,t),this.isMounted&&o.mounted(),o.localize()},t.prototype.insertAll=function(e,t){var n=this;e.forEach((function(e){if(e.parent!==n&&e.parent)throw new Error("Component must be removed from its parent to be inserted into other component!")})),this.$container.insertAll(e,t),e.forEach((function(e){e.parent=n,e.controller.freeze(!1),e.resetDataScope()})),this.doInsertAll(e,t),e.forEach((function(e){e.trigger(a.COMPONENT_EVENTS.INSERTED)}))},t.prototype.empty=function(){this.$container.each((function(e){return e.destroy()})),this.$container.empty(),this.rerenderChildren()},t.prototype.indexOf=function(e){return this.$container.indexOf(e)},t.prototype.children=function(){return this.$container.children().filter((function(e){return!e.isIgnorable()}))},t.prototype.size=function(){return this.$container.size()},t.prototype.first=function(){return this.childAt(0)},t.prototype.last=function(){return this.childAt(this.size()-1)},t.prototype.removeChild=function(e){this.$container.removeChild(e)&&(e.parent=null,e.controller.data!==this.controller.data&&e.controller.setParentScope(void 0),e.removeElement(),e.trigger(a.COMPONENT_EVENTS.REMOVED,this,e),this.rerenderChildren(),e.controller.freeze())},t.prototype.setLayout=function(e){this.layout=e,this.rerenderChildren()},t.prototype.doInsert=function(e,t){this.rerenderChildren()},t.prototype.doInsertAll=function(e,t){this.rerenderChildren()},t.prototype.rerenderChildren=function(){if(!this.isDestroyed){var e=this.getRenderableChildren().reduce((function(e,t){return e.concat(t.getRenderingElements())}),[]),t=this.$temporaries.children().reduce((function(e,t){return e.concat(t.getRenderingElements())}),[]),n=this.getContainerElement();this.diffRenderer(n,e.concat(t))}},t.prototype.getRenderableChildren=function(){return this.$container.children()},t.prototype.diffRenderer=function(e,t){this.isDestroyed||(0,s.default)(e,t)},t.prototype.localize=function(){var t=this;return e.prototype.localize.call(this).then((function(){t.broadcast(a.COMPONENT_BROADCAST_LOCALIZE)}))},t.prototype.getContainerElement=function(){return this.element},t.prototype.getComponentByName=function(e){return this.name===e?this:this.getComponentsPool().getComponentByName(e,this)},t.prototype.findChildren=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=[];return t&&e(this)&&n.push(this),this.$container.each((function(t){if(!t.isIgnorable()){var o=t.findChildren(e,!0);o.length>0&&n.push.apply(n,u(o))}})),n},t.prototype.getAllComponentsByName=function(e){var t=this.getComponentsPool().getComponentsByName(e,this);return this.name===e&&t.unshift(this),t},t.prototype.getAllComponentsByType=function(e){return this.findChildren((function(t){return t.constructor.getName()===e}))},t.prototype.childAt=function(e){return this.$container.childAt(e)},t.prototype.update=function(){e.prototype.update.call(this),this.$container.each((function(e){return e.update()}))},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.$container.each((function(e){return e.destroy()})),this.$temporaries=[]},t.prototype.doActive=function(){},t.prototype.doDeactive=function(){},t.prototype.doDisable=function(){this.$container.each((function(e){return e.disable()}))},t.prototype.doEnable=function(){this.$container.each((function(e){return e.enable()}))},t.prototype.updateDisableStatus=function(){},t.prototype.appendText=function(e){this.append(e)},t}(o.default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Store=void 0;var o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(30),a=(o=i)&&o.__esModule?o:{default:o};t.Store=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.__data={},this.subscribers={},this.reducers=[],this.isDestroyed=!1}return e.prototype.getCurrentValue=function(e){var t=this,n=this.__data[e];return this.reducers.reduce((function(n,o){return o.call(t,n,e)}),n)},e.prototype.forEach=function(e){if("function"!=typeof e)throw new Error((void 0===e?"undefined":r(e))+" is not a function!");for(var t in this.__data)e(this.getCurrentValue(t),t)},e.prototype.has=function(e){return e in this.__data},e.prototype.dispatch=function(e,t){var n=this;if(!this.isDestroyed){this.__data[e]=t;var o=this.subscribers[e]||[],r=this.getCurrentValue(e);o.slice(0).forEach((function(t){t.call(n,r,e)}))}},e.prototype.subscribe=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.default;if(!this.isDestroyed){var o=!1,r=this.subscribers[e]||(this.subscribers[e]=[]),i=function(){o||n.call(t,t.getCurrentValue(e),e)};r.push(i),e in this.__data&&Promise.resolve().then(i);var s=void 0;return function(){if(o)return s;o=!0;var e=r.indexOf(i);return s=e>-1&&r.splice(e,1).length>0}}},e.prototype.subscribeOnce=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.default,n=this.subscribe(e,(function(){return n(),t.apply(this,arguments)}));return n},e.prototype.takeWhile=function(e){var t=this;return new Promise((function(n){var o=t.subscribe(e,(function(e){try{o()}finally{n(e)}}))}))},e.prototype.reducer=function(e){var t=this;if(!this.isDestroyed)return"function"!=typeof e?a.default:(this.reducers.push(e),function(){var n=t.reducers.indexOf(e);return n>-1&&t.reducers.splice(n,1).length>0})},e.prototype.clear=function(){this.__data={}},e.prototype.destroy=function(){this.isDestroyed=!0,this.reducers.length=0,this.subscribers={},this.clear()},e}()},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){}},function(e,t,n){"use strict";var o=function(){function e(e){this.action=e}return e.prototype.accept=function(e){return Promise.resolve(e.action===this.action)},e}();t.a=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={print:4,modify:8,extract:16,annotForm:32,fillForm:256,extractAccess:512,assemble:1024,printHigh:2048}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRotatedRect=t.getSmartScale=t.getWHByMatrix=t.pxDPRpt=t.ptDPRpx=t.multiDPR=t.px2pt=t.pt2px=void 0;var o,r=n(52),i=(n(830),n(1752)),a=(o=i)&&o.__esModule?o:{default:o},s=n(85);var c=void 0;function u(e){return function(){if(!c){var e=(0,r.getDPI)();c=[e.x,e.y]}return c}()[e]}t.pt2px=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e*u(t)/72},t.px2pt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return 72*e/u(t)},t.multiDPR=function(e){return e*r.dpr},t.ptDPRpx=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return r.dpr*e*u(t)/72},t.pxDPRpt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e/r.dpr/u(t)*72},t.getWHByMatrix=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=new a.default(e,t,0).scale(n).rotateZ(o);return[Math.round(Math.abs(r.a)),Math.round(Math.abs(r.b))]},t.getSmartScale=function(e,t,n){return Math.min(Math.max(Math.ceil(4*e)/4,t),n)},t.getRotatedRect=function(e,t,n,o){switch((0,s.assertThat)((0,s.isValidRotationAngle)(o),"Illegal rotation value: "+o),o=(o%360+360)%360){case 0:return e;case 90:return{left:e.bottom,right:e.top,top:e.left,bottom:e.right};case 180:return{left:t-e.right,right:t-e.left,top:n-e.bottom,bottom:n-e.top};case 270:return{left:e.top,right:e.bottom,top:e.right,bottom:e.left}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=navigator.userAgent.toLowerCase(),i=/opera|opr/.test(r),a=/msie/.test(r),s=/trident/.test(r),c=/\sapplewebkit\//.test(r),u=/chrome/.test(r),l=/safari/.test(r),f=/firefox/.test(r),p=/edg\//.test(r),d=t.isIE=(s||a)&&!i&&"msSaveBlob"in navigator,h=(t.isIE10=d&&(!!(o=r.match(/msie ([\d\.]+)/))&&10===parseInt(o[1])),t.isIEAtLeast11=!a&&s&&!i),g=t.isEdge=r.indexOf("edge")>-1,m=t.isOpera=i,v=t.isWebkit=c,y=t.isChromiumEdge=!m&&u&&!!window.chrome&&p,b=t.isChrome=!m&&u&&!!window.chrome&&!p,w=t.isSafari=!/huawei/.test(r)&&!m&&l&&!u,_=t.isGecko="Gecko"==navigator.product&&!v&&!m,P=t.isFirefox=!b&&!m&&!w&&f,O=t.isMaxthon=/maxthon/.test(r),E=t.isQuirksMode="BackCompact"==document.CompactMode,x=t.isQQ=/tencenttraveler/.test(r)||/qqbrowser/.test(r),C=t.isWeChat=/wechat/.test(r),A=t.isSougou=/metasr/.test(r)||/sogou/.test(r),S=t.isBaidu=/baidubrowser/.test(r),D=t.isUC=/ucbrowser/.test(r),T=t.isLiebao=/liebao/.test(r),I=t.isMiuiBrowser=/miuibrowser/.test(r),R=t.isHuaweiBrowser=/huaweibrowser/.test(r)||/huaweialp/.test(r),M=t.is360=function(){if(x||D||A||I||T||O)return!1;if(-1===r.indexOf("chrome"))return!1;var e=function(e,t){var n=navigator.mimeTypes;for(var o in n)if(n[o][e]==t)return!0;return!1}("type","application/vnd.chromium.remoting-viewer");return!window.chrome||e}();t.isIE8=!!document.documentMode&&document.documentMode<8,t.isIE8Compact=8==document.documentMode,t.isIE9Compact=9==document.documentMode,t.isIE10Compact=10==document.documentMode,t.BROWSER_DETECTION={ie:d,ieAtLeast11:h,edge:g,"chromium-edge":y,opera:m,webkit:v,chrome:b,safari:w,gecko:_,firefox:P,maxthon:O,quirksMode:E,"quirks-mode":E,qq:x,wechat:C,sougou:A,baidu:S,liebao:T,uc:D,miui:I,huawei:R,360:M}},function(e,t,n){var o=n(167)("wks"),r=n(127),i=n(23).Symbol,a="function"==typeof i;(e.exports=function(e){return o[e]||(o[e]=a&&i[e]||(a?i:r)("Symbol."+e))}).store=o},function(e,t,n){"use strict";n.r(t),n.d(t,"ExecutionContext",(function(){return s})),n.d(t,"QueuedAsyncTaskExecutor",(function(){return c}));var o=n(21),r=n.n(o),i=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a},a=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e},s=function(){function e(e){this.task=e,this.cancelled=!1,this.defer=r()()}return e.prototype.cancel=function(){this.defer.resolve(),this.cancelled=!0},e.prototype.isCancelled=function(){return this.cancelled},Object.defineProperty(e.prototype,"promise",{get:function(){return this.defer.promise},enumerable:!1,configurable:!0}),e.prototype.reject=function(e){this.defer.reject(e)},e.prototype.resolve=function(e){this.defer.resolve(e)},e}(),c=function(){function e(){this.insertions=[],this.executions=[],this.isRunning=!1}return e.prototype.notifyExecute=function(){var e=this;if(!this.isRunning){this.isRunning=!0;var t=function(){var n,o=e.getAndPopNextExecution();if(o){var r=null===(n=e.executing)||void 0===n?void 0:n.promise,i=function(){if(e.executing=o,o.isCancelled())t();else{var n=o.task;Promise.resolve(n.task.apply(n.context,n.args||[])).then((function(e){o.resolve(e)}),(function(e){o.reject(e)})).finally((function(){t()}))}};r?r.finally(i):i()}else e.isRunning=!1};t()}},e.prototype.execTasks=function(e,t){var n,o;if(void 0===t&&(t=!1),0===e.length)return this.waitForCurrentRunningTasks();var r=e.map((function(e){return new s(e)}));return t?(n=this.executions).unshift.apply(n,a(r)):(o=this.executions).push.apply(o,a(r)),this.notifyExecute(),r[r.length-1].promise},e.prototype.execInverse=function(e,t,n){return void 0===t&&(t=1),this.exec(e,t,n,!0)},e.prototype.exec=function(e,t,n,o){void 0===t&&(t=1),void 0===o&&(o=!1);var r=("number"==typeof t?Array(t).fill(0).map((function(e,t){return[t]})):t).map((function(t){return{task:e,args:t,context:n}}));return this.execTasks(r,o)},e.prototype.insert=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var o=t.map((function(e){return"function"==typeof e?{task:e}:e})),r=o.map((function(e){return new s(e)}));return(e=this.insertions).push.apply(e,a(r)),this.notifyExecute(),Promise.all(r.map((function(e){return e.promise})))},e.prototype.resume=function(){},e.prototype.cancel=function(){var e;this.insertions.forEach((function(e){e.cancel()})),this.executions.forEach((function(e){e.cancel()})),null===(e=this.executing)||void 0===e||e.cancel()},e.prototype.waitForCurrentRunningTasks=function(){var e=this.insertions.concat(this.executions);return this.executing&&e.push(this.executing),Promise.all(e.map((function(e){return e.promise})))},e.prototype.getRunningTaskCount=function(){return this.executions.filter((function(e){return!e.isCancelled()})).length},e.prototype.getAndPopNextExecution=function(){var e;return this.insertions.length>0?(e=this.insertions[0],this.insertions.shift()):this.executions.length>0&&(e=this.executions[0],this.executions.shift()),e},e}()},function(e,t,n){var o=n(90),r=Math.min;e.exports=function(e){return e>0?r(o(e),9007199254740991):0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={contentUpdated:"content-updated",borderInfoUpdated:"borderInfo-updated",borderStyleUpdated:"borderStyle-updated",borderWidthUpdated:"borderWidth-updated",borderColorUpdated:"borderColor-updated",modifiedDateTimeUpdated:"modifiedDateTime-updated",uniqueIDUpdated:"uniqueID-updated",flagsUpdated:"flags-updated",rectUpdated:"rect-updated",innerRectUpdated:"innerRect-updated",iconNameUpdated:"iconName-updated",rotationUpdated:"rotation-updated",defaultAppearanceUpdated:"defaultAppearance-updated",calloutLineEndingStyleUpdated:"calloutLineEndingStyle-updated",calloutLinePointsUpdated:"calloutLinePoints-updated",fillColorUpdated:"fillColor-updated",textColorUpdated:"textColor-updated",alignmentUpdated:"alignment-updated",inkListUpdated:"inkList-updated",endPointUpdated:"endPoint-updated",startPointUpdated:"startPoint-updated",endingStyleUpdated:"endingStyle-updated",enableCaptionUpdated:"enableCaption-updated",styleFillColorUpdated:"styleFillColor-updated",leaderLineLengthUpdated:"leaderLineLength-updated",measureRatioUpdated:"measureRatio-updated",measureUnitUpdated:"measureUnit-updated",measureConversionFactorUpdated:"measureConversionFactor-updated",removeAction:"remove-action",actionDataUpdated:"actionData-updated",addAction:"add-action",highlightingModeUpdated:"highlightingMode-updated",subjectUpdated:"subject-updated",titleUpdated:"title-updated",createDateTimeUpdated:"createDateTime-updated",opacityUpdated:"opacity-updated",intentUpdated:"intent-updated",vertexesUpdated:"vertexes-updated",applyFillColorUpdated:"applyFillColor-updated",quadPointsUpdated:"quadPoints-updated",reviewStateUpdated:"review-state-updated",markedStateUpdated:"marked-state-updated",statesCleared:"state-cleared",replyAdded:"add-replies",addDictionary:"add-dictionary",formFieldValueUpdated:"form-field-value",formFieldsMaxLengthUpdated:"maxLength",formFieldItemsUpdated:"setItems",formFieldIconUpdated:"icon",formFieldInsertedItem:"insertItemAt",formFieldExportValueUpdated:"form-field-export-value",formFieldMKPropertyUpdated:"form-field-mk-property",formFieldAlternateName:"form-field-alternate-name",formFieldActionUpdated:"form-field-action"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={ReadOnly:1,Required:2,NoExport:4,Hidden:8,ButtonNoToggleToOff:16384,ButtonRadiosInUnison:33554432,TextMultiline:4096,TextPassword:8192,TextDoNotSpellCheck:4194304,TextDoNotScroll:8388608,TextComb:16777216,ComboEdit:262144,ChoiceMultiSelect:2097152,CommitOnSelChange:67108864,inUnison:function(e){return e&o.ButtonRadiosInUnison},isHidden:function(e){return e&o.Hidden},isReadOnly:function(e){return e&o.ReadOnly},isRequired:function(e){return e&o.Required},isNoExport:function(e){return e&o.NoExport},isMultiline:function(e){return e&o.TextMultiline},isPassword:function(e){return e&o.TextPassword},isComb:function(e){return e&o.TextComb},isNoSpellCheck:function(e){return e&o.TextDoNotSpellCheck},isNoScroll:function(e){return e&o.TextDoNotScroll},isComboEdit:function(e){return e&o.ComboEdit},isChoiceMultiSelect:function(e){return e&o.ChoiceMultiSelect}},r={FlagExclude:1,FlagIncludeNoValueFields:2,FlagExportFormat:4,FlagGetMethod:8,FlagWithCoordinates:16,FlagAsXFDF:32,FlagIncludeAppendSaves:64,FlagIncludeAnnotations:128,FlagSubmitAsPDF:256,FlagCanonicalFormat:512,FlagExclNonUserAnnots:1024,FlagExclFKey:2048,FlagEmbedForm:8192,isExclude:function(e){return e&r.FlagExclude},isIncludeNoValueFields:function(e){return e&r.FlagIncludeNoValueFields},isHTML:function(e){return e&r.FlagExportFormat},isGetMethod:function(e){return e&r.FlagGetMethod},isXFDF:function(e){return e&r.FlagAsXFDF},isPDF:function(e){return e&r.FlagSubmitAsPDF},getType:function(e){var t=r.isHTML(e);if(t)return"HTML";var n=r.isXFDF(e);if(n)return"XFDF";var o=r.isXFDF(e);return o?"PDF":t||n||o?void 0:"FDF"}},i={Unknown:0,PushButton:1,CheckBox:2,RadioButton:3,Text:6,ListBox:5,ComboBox:4,Sign:7,Barcode:8},a=o;t.FieldType=i,t.FieldFlag=a,t.FormActionFlags=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){}},function(e,t,n){e.exports=!n(25)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.KEY_MAP_SELECT_ALL_ANNOTATIONS="selectAllAnnotations",t.KEY_MAP_POLYLINE_DELETE_LAST_POINT="createPolyline_DeleteLastPoint",t.KEY_MAP_DOCUMENT_UNDO="undo",t.KEY_MAP_DOCUMENT_REDO="redo",t.KEY_MAP_ZOOM_IN="pageZoomIn",t.KEY_MAP_ZOOM_OUT="pageZoomOut",t.KEY_MAP_DELETE_ANNOTATION="delete-annotation",t.KEY_MAP_ESC_CREATING_DRAWING="cancel-creating-drawing-annot",t.KEY_MAP_UNACTIVE_ANNOTATION="unactive-annotation",t.KEY_MAP_UNFOCUS_FROM_EDITTING_TEXT_OBJECT="unfocus-from-editting-text-object",t.KEY_MAP_FIELD_TAB_NEXT="FIELD_TAB_ACTION",t.KEY_MAP_FIELD_TAB_PREVIOUS="FIELD_TAB_PREVIOUS_ACTION",t.KEY_MAP_FIELD_LEFT="FIELD_LEFT_ACTION",t.KEY_MAP_FIELD_RIGHT="FIELD_RIGHT_ACTION",t.KEY_MAP_FIELD_DOWN="FIELD_DOWN_ACTION",t.KEY_MAP_FIELD_UP="FIELD_UP_ACTION",t.KEY_MAP_FIELD_ENTER="FIELD_ENTER_ACTION",t.KEY_MAP_COPY_TEXT_IMAGE="copy-text-image",t.GLOBAL_BINDER="global-keyboard-event-binder",t.VIEWER_BINDER="pdf-viewer-keyboard-event-binder",t.ANNOTATION_PROPERTIES_BINDER="annotation-properties-keyboard-event-binder",t.ACTIVATION_ANNOTATION_BINDER="activation-annotation-keyboard-event-binder",t.DOCUMENT_PROPERTIES_BINDER="document-properties-keyboard-event-binder",t.FOCUS_ELEMENT_BINDER="focus-element-keyboard-event-binder",t.EDIT_TEXT_OBJECT_BINDER="focus-text-object-event-binder",t.ANNOTATION_CREATING_BINDER="create-annotation-keyboard-event-binder",t.SELECT_TEXT_IMAGE_BINDER="select-text-image-keyboard-event-binder",t.CUSTOM_COMMAND="custom-command",t.CUSTOM_BINDER="custom-keyboard-event-binder"},function(e,t,n){var o;
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */!function(r,i,a,s){"use strict";var c,u=["","webkit","Moz","MS","ms","o"],l=i.createElement("div"),f=Math.round,p=Math.abs,d=Date.now;function h(e,t,n){return setTimeout(_(e,n),t)}function g(e,t,n){return!!Array.isArray(e)&&(m(e,n[t],n),!0)}function m(e,t,n){var o;if(e)if(e.forEach)e.forEach(t,n);else if(void 0!==e.length)for(o=0;o<e.length;)t.call(n,e[o],o,e),o++;else for(o in e)e.hasOwnProperty(o)&&t.call(n,e[o],o,e)}function v(e,t,n){var o="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",i=r.console&&(r.console.warn||r.console.log);return i&&i.call(r.console,o,n),e.apply(this,arguments)}}c="function"!=typeof Object.assign?function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var o=arguments[n];if(null!=o)for(var r in o)o.hasOwnProperty(r)&&(t[r]=o[r])}return t}:Object.assign;var y=v((function(e,t,n){for(var o=Object.keys(t),r=0;r<o.length;)(!n||n&&void 0===e[o[r]])&&(e[o[r]]=t[o[r]]),r++;return e}),"extend","Use `assign`."),b=v((function(e,t){return y(e,t,!0)}),"merge","Use `assign`.");function w(e,t,n){var o,r=t.prototype;(o=e.prototype=Object.create(r)).constructor=e,o._super=r,n&&c(o,n)}function _(e,t){return function(){return e.apply(t,arguments)}}function P(e,t){return"function"==typeof e?e.apply(t&&t[0]||void 0,t):e}function O(e,t){return void 0===e?t:e}function E(e,t,n){m(S(t),(function(t){e.addEventListener(t,n,!1)}))}function x(e,t,n){m(S(t),(function(t){e.removeEventListener(t,n,!1)}))}function C(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function A(e,t){return e.indexOf(t)>-1}function S(e){return e.trim().split(/\s+/g)}function D(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var o=0;o<e.length;){if(n&&e[o][n]==t||!n&&e[o]===t)return o;o++}return-1}function T(e){return Array.prototype.slice.call(e,0)}function I(e,t,n){for(var o=[],r=[],i=0;i<e.length;){var a=t?e[i][t]:e[i];D(r,a)<0&&o.push(e[i]),r[i]=a,i++}return n&&(o=t?o.sort((function(e,n){return e[t]>n[t]})):o.sort()),o}function R(e,t){for(var n,o,r=t[0].toUpperCase()+t.slice(1),i=0;i<u.length;){if((o=(n=u[i])?n+r:t)in e)return o;i++}}var M=1;function j(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||r}var k="ontouchstart"in r,N=void 0!==R(r,"PointerEvent"),F=k&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),L=["x","y"],V=["clientX","clientY"];function B(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){P(e.options.enable,[e])&&n.handler(t)},this.init()}function U(e,t,n){var o=n.pointers.length,r=n.changedPointers.length,i=1&t&&o-r==0,a=12&t&&o-r==0;n.isFirst=!!i,n.isFinal=!!a,i&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,o=t.pointers,r=o.length;n.firstInput||(n.firstInput=H(t));r>1&&!n.firstMultiple?n.firstMultiple=H(t):1===r&&(n.firstMultiple=!1);var i=n.firstInput,a=n.firstMultiple,s=a?a.center:i.center,c=t.center=$(o);t.timeStamp=d(),t.deltaTime=t.timeStamp-i.timeStamp,t.angle=G(s,c),t.distance=z(s,c),function(e,t){var n=t.center,o=e.offsetDelta||{},r=e.prevDelta||{},i=e.prevInput||{};1!==t.eventType&&4!==i.eventType||(r=e.prevDelta={x:i.deltaX||0,y:i.deltaY||0},o=e.offsetDelta={x:n.x,y:n.y});t.deltaX=r.x+(n.x-o.x),t.deltaY=r.y+(n.y-o.y)}(n,t),t.offsetDirection=q(t.deltaX,t.deltaY);var u=W(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=u.x,t.overallVelocityY=u.y,t.overallVelocity=p(u.x)>p(u.y)?u.x:u.y,t.scale=a?(l=a.pointers,f=o,z(f[0],f[1],V)/z(l[0],l[1],V)):1,t.rotation=a?function(e,t){return G(t[1],t[0],V)+G(e[1],e[0],V)}(a.pointers,o):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,o,r,i,a=e.lastInterval||t,s=t.timeStamp-a.timeStamp;if(8!=t.eventType&&(s>25||void 0===a.velocity)){var c=t.deltaX-a.deltaX,u=t.deltaY-a.deltaY,l=W(s,c,u);o=l.x,r=l.y,n=p(l.x)>p(l.y)?l.x:l.y,i=q(c,u),e.lastInterval=t}else n=a.velocity,o=a.velocityX,r=a.velocityY,i=a.direction;t.velocity=n,t.velocityX=o,t.velocityY=r,t.direction=i}(n,t);var l,f;var h=e.element;C(t.srcEvent.target,h)&&(h=t.srcEvent.target);t.target=h}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function H(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:f(e.pointers[n].clientX),clientY:f(e.pointers[n].clientY)},n++;return{timeStamp:d(),pointers:t,center:$(t),deltaX:e.deltaX,deltaY:e.deltaY}}function $(e){var t=e.length;if(1===t)return{x:f(e[0].clientX),y:f(e[0].clientY)};for(var n=0,o=0,r=0;r<t;)n+=e[r].clientX,o+=e[r].clientY,r++;return{x:f(n/t),y:f(o/t)}}function W(e,t,n){return{x:t/e||0,y:n/e||0}}function q(e,t){return e===t?1:p(e)>=p(t)?e<0?2:4:t<0?8:16}function z(e,t,n){n||(n=L);var o=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return Math.sqrt(o*o+r*r)}function G(e,t,n){n||(n=L);var o=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return 180*Math.atan2(r,o)/Math.PI}B.prototype={handler:function(){},init:function(){this.evEl&&E(this.element,this.evEl,this.domHandler),this.evTarget&&E(this.target,this.evTarget,this.domHandler),this.evWin&&E(j(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&x(this.element,this.evEl,this.domHandler),this.evTarget&&x(this.target,this.evTarget,this.domHandler),this.evWin&&x(j(this.element),this.evWin,this.domHandler)}};var Y={mousedown:1,mousemove:2,mouseup:4};function K(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,B.apply(this,arguments)}w(K,B,{handler:function(e){var t=Y[e.type];1&t&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}});var X={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},J={2:"touch",3:"pen",4:"mouse",5:"kinect"},Z="pointerdown",Q="pointermove pointerup pointercancel";function ee(){this.evEl=Z,this.evWin=Q,B.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}r.MSPointerEvent&&!r.PointerEvent&&(Z="MSPointerDown",Q="MSPointerMove MSPointerUp MSPointerCancel"),w(ee,B,{handler:function(e){var t=this.store,n=!1,o=e.type.toLowerCase().replace("ms",""),r=X[o],i=J[e.pointerType]||e.pointerType,a="touch"==i,s=D(t,e.pointerId,"pointerId");1&r&&(0===e.button||a)?s<0&&(t.push(e),s=t.length-1):12&r&&(n=!0),s<0||(t[s]=e,this.callback(this.manager,r,{pointers:t,changedPointers:[e],pointerType:i,srcEvent:e}),n&&t.splice(s,1))}});var te={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function ne(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,B.apply(this,arguments)}function oe(e,t){var n=T(e.touches),o=T(e.changedTouches);return 12&t&&(n=I(n.concat(o),"identifier",!0)),[n,o]}w(ne,B,{handler:function(e){var t=te[e.type];if(1===t&&(this.started=!0),this.started){var n=oe.call(this,e,t);12&t&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}}});var re={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function ie(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},B.apply(this,arguments)}function ae(e,t){var n=T(e.touches),o=this.targetIds;if(3&t&&1===n.length)return o[n[0].identifier]=!0,[n,n];var r,i,a=T(e.changedTouches),s=[],c=this.target;if(i=n.filter((function(e){return C(e.target,c)})),1===t)for(r=0;r<i.length;)o[i[r].identifier]=!0,r++;for(r=0;r<a.length;)o[a[r].identifier]&&s.push(a[r]),12&t&&delete o[a[r].identifier],r++;return s.length?[I(i.concat(s),"identifier",!0),s]:void 0}w(ie,B,{handler:function(e){var t=re[e.type],n=ae.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}});function se(){B.apply(this,arguments);var e=_(this.handler,this);this.touch=new ie(this.manager,e),this.mouse=new K(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function ce(e,t){1&e?(this.primaryTouch=t.changedPointers[0].identifier,ue.call(this,t)):12&e&&ue.call(this,t)}function ue(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var o=this.lastTouches;setTimeout((function(){var e=o.indexOf(n);e>-1&&o.splice(e,1)}),2500)}}function le(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,o=0;o<this.lastTouches.length;o++){var r=this.lastTouches[o],i=Math.abs(t-r.x),a=Math.abs(n-r.y);if(i<=25&&a<=25)return!0}return!1}w(se,B,{handler:function(e,t,n){var o="touch"==n.pointerType,r="mouse"==n.pointerType;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(o)ce.call(this,t,n);else if(r&&le.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var fe=R(l.style,"touchAction"),pe=void 0!==fe,de=function(){if(!pe)return!1;var e={},t=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){e[n]=!t||r.CSS.supports("touch-action",n)})),e}();function he(e,t){this.manager=e,this.set(t)}he.prototype={set:function(e){"compute"==e&&(e=this.compute()),pe&&this.manager.element.style&&de[e]&&(this.manager.element.style[fe]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return m(this.manager.recognizers,(function(t){P(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(A(e,"none"))return"none";var t=A(e,"pan-x"),n=A(e,"pan-y");if(t&&n)return"none";if(t||n)return t?"pan-x":"pan-y";if(A(e,"manipulation"))return"manipulation";return"auto"}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var o=this.actions,r=A(o,"none")&&!de.none,i=A(o,"pan-y")&&!de["pan-y"],a=A(o,"pan-x")&&!de["pan-x"];if(r){var s=1===e.pointers.length,c=e.distance<2,u=e.deltaTime<250;if(s&&c&&u)return}if(!a||!i)return r||i&&6&n||a&&24&n?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};function ge(e){this.options=c({},this.defaults,e||{}),this.id=M++,this.manager=null,this.options.enable=O(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function me(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function ve(e){return 16==e?"down":8==e?"up":2==e?"left":4==e?"right":""}function ye(e,t){var n=t.manager;return n?n.get(e):e}function be(){ge.apply(this,arguments)}function we(){be.apply(this,arguments),this.pX=null,this.pY=null}function _e(){be.apply(this,arguments)}function Pe(){ge.apply(this,arguments),this._timer=null,this._input=null}function Oe(){be.apply(this,arguments)}function Ee(){be.apply(this,arguments)}function xe(){ge.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Ce(e,t){return(t=t||{}).recognizers=O(t.recognizers,Ce.defaults.preset),new Ae(e,t)}ge.prototype={defaults:{},set:function(e){return c(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(g(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=ye(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return g(e,"dropRecognizeWith",this)||(e=ye(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(g(e,"requireFailure",this))return this;var t=this.requireFail;return-1===D(t,e=ye(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(g(e,"dropRequireFailure",this))return this;e=ye(e,this);var t=D(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function o(n){t.manager.emit(n,e)}n<8&&o(t.options.event+me(n)),o(t.options.event),e.additionalEvent&&o(e.additionalEvent),n>=8&&o(t.options.event+me(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},recognize:function(e){var t=c({},e);if(!P(this.options.enable,[this,t]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},w(be,ge,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,o=6&t,r=this.attrTest(e);return o&&(8&n||!r)?16|t:o||r?4&n?8|t:2&t?4|t:2:32}}),w(we,be,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,t=[];return 6&e&&t.push("pan-y"),24&e&&t.push("pan-x"),t},directionTest:function(e){var t=this.options,n=!0,o=e.distance,r=e.direction,i=e.deltaX,a=e.deltaY;return r&t.direction||(6&t.direction?(r=0===i?1:i<0?2:4,n=i!=this.pX,o=Math.abs(e.deltaX)):(r=0===a?1:a<0?8:16,n=a!=this.pY,o=Math.abs(e.deltaY))),e.direction=r,n&&o>t.threshold&&r&t.direction},attrTest:function(e){return be.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=ve(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),w(_e,be,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),w(Pe,ge,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,o=e.distance<t.threshold,r=e.deltaTime>t.time;if(this._input=e,!o||!n||12&e.eventType&&!r)this.reset();else if(1&e.eventType)this.reset(),this._timer=h((function(){this.state=8,this.tryEmit()}),t.time,this);else if(4&e.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=d(),this.manager.emit(this.options.event,this._input)))}}),w(Oe,be,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),w(Ee,be,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return we.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return 30&n?t=e.overallVelocity:6&n?t=e.overallVelocityX:24&n&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&p(t)>this.options.velocity&&4&e.eventType},emit:function(e){var t=ve(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),w(xe,ge,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,o=e.distance<t.threshold,r=e.deltaTime<t.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(o&&r&&n){if(4!=e.eventType)return this.failTimeout();var i=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||z(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,a&&i?this.count+=1:this.count=1,this._input=e,0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=h((function(){this.state=8,this.tryEmit()}),t.interval,this),2):8}return 32},failTimeout:function(){return this._timer=h((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Ce.VERSION="2.0.7",Ce.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Oe,{enable:!1}],[_e,{enable:!1},["rotate"]],[Ee,{direction:6}],[we,{direction:6},["swipe"]],[xe],[xe,{event:"doubletap",taps:2},["tap"]],[Pe]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Ae(e,t){var n;this.options=c({},Ce.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new((n=this).options.inputClass||(N?ee:F?ie:k?se:K))(n,U),this.touchAction=new he(this,this.options.touchAction),Se(this,!0),m(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function Se(e,t){var n,o=e.element;o.style&&(m(e.options.cssProps,(function(r,i){n=R(o.style,i),t?(e.oldCssProps[n]=o.style[n],o.style[n]=r):o.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}Ae.prototype={set:function(e){return c(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var o=this.recognizers,r=t.curRecognizer;(!r||r&&8&r.state)&&(r=t.curRecognizer=null);for(var i=0;i<o.length;)n=o[i],2===t.stopped||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(e),!r&&14&n.state&&(r=t.curRecognizer=n),i++}},get:function(e){if(e instanceof ge)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(g(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(g(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=D(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(void 0!==e&&void 0!==t){var n=this.handlers;return m(S(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this}},off:function(e,t){if(void 0!==e){var n=this.handlers;return m(S(e),(function(e){t?n[e]&&n[e].splice(D(n[e],t),1):delete n[e]})),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=i.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var o=0;o<n.length;)n[o](t),o++}},destroy:function(){this.element&&Se(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},c(Ce,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Ae,Input:B,TouchAction:he,TouchInput:ie,MouseInput:K,PointerEventInput:ee,TouchMouseInput:se,SingleTouchInput:ne,Recognizer:ge,AttrRecognizer:be,Tap:xe,Pan:we,Swipe:Ee,Pinch:_e,Rotate:Oe,Press:Pe,on:E,off:x,each:m,merge:b,extend:y,assign:c,inherit:w,bindFn:_,prefixed:R}),(void 0!==r?r:"undefined"!=typeof self?self:{}).Hammer=Ce,void 0===(o=function(){return Ce}.call(t,n,t,e))||(e.exports=o)}(window,document)},function(e,t,n){"use strict";n.r(t),n.d(t,"PortfolioFileThumbType",(function(){return r})),n.d(t,"PortfolioFilePreviewer",(function(){return c}));var o,r,i=n(13),a=n.n(i),s=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});!function(e){e.ICON_CLASS="icon-class",e.IMAGE_URL="image-data-uri",e.CANVAS="canvas",e.NONE="none"}(r||(r={}));var c=function(e){function t(){var t=e.call(this)||this;return t._isVisible=!1,t.element=document.createElement("div"),t.element.classList.add("fv__viewer-portfolio-previewer"),t}return s(t,e),Object.defineProperty(t.prototype,"isVisible",{get:function(){return this._isVisible},enumerable:!1,configurable:!0}),t.prototype.getThumb=function(e,t){var n=t.fileName,o="fv__icon-portfolio-file",i=n?n.match(/.*\.(.+$)/):void 0,a=i?i[1]:void 0;return a&&(o=o+" fv__icon-portfolio-ext-"+a),Promise.resolve({type:r.ICON_CLASS,data:o})},t.prototype.toggleVisibility=function(e){void 0===e&&(e=!1),"boolean"!=typeof e?this.toggleVisibility(!this._isVisible):(this.element.classList.toggle("portfolio-hidden",!e),this._isVisible=e)},t}(a.a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(8),i=l(n(281)),a=l(n(6)),s=l(n(280)),c=l(n(9)),u=n(282);function l(e){return e&&e.__esModule?e:{default:e}}function f(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var g=c.default.getLogger("UIXNode"),m=Date.now();function v(e){return e+"-"+(m++).toString(36)}var y=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.namespace,a=void 0===o?r.ROOT_MODULE_NAME:o,s=n.nodeName,c=n.attrs,u=void 0===c?{}:c,l=n.text,f=n.template,h=void 0===f?"":f;p(this,t);var g=d(this,e.call(this,{namespace:a,type:i.default.NODE_TYPE_CONTAINER,text:l}));return u.name=u.name||v("node_name"),u=g.parseAttrs(u),g.$$options={namespace:a,nodeName:s,attrs:Object.assign({},u),text:l,template:h},g.nodeName=s,g.attrs=Object.assign({},u),g.name=u.name,g.children=[],g.template=h,g.directives=g.parseDirectiveAttrs(),g.isSenior=!1,g}return h(t,e),t.prototype.parseAttrs=function(e){var t={};for(var n in e){var o=e[n];if("@"!==n[0]&&o&&o.indexOf("@{")>-1){var r=(0,u.tokenize)(o);if(r.some((function(e){return e.type===u.TokenType.placeholder}))){t["@attr."+n]=r;continue}}t[n]=o}return t},t.prototype.setComponentOptions=function(t){e.prototype.setComponentOptions.call(this,t),t&&t.attrs&&Object.assign(this.attrs,t.attrs),this.directives=this.parseDirectiveAttrs()},t.prototype.appendComponentOptions=function(t){e.prototype.appendComponentOptions.call(this,t),t&&t.attrs&&Object.assign(this.attrs,t.attrs),this.directives=this.parseDirectiveAttrs()},t.prototype.clone=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=new t(this.$$options);return n.children=this.children.map((function(t){var o=e?t.clone(e):t;return o.parent=n,o})),n.parent=this.parent,n.setComponentOptions(this.componentOptions),n},t.prototype.parseDirectiveAttrs=function(){var e=[];for(var t in this.attrs)if("@"===t[0]){var n=this._parseDirectiveName(t.substring(1)),o=n.ns,r=n.directiveName,i=n.subName;e.push({attrName:t,ns:o,directiveName:r,subName:i,attrValue:this.attrs[t]})}return e},t.prototype._parseDirectiveName=function(e){var t=e.indexOf(r.NAMESPACE_SEPERATOR),n=t>-1?e.substring(0,t):r.ROOT_MODULE_NAME,o=e.substring(Math.max(0,t+1)),i=void 0,a=void 0,s=o.indexOf(".");return-1!==s?(i=o.substring(0,s),a=o.substring(s+1)):i=o,{ns:n,directiveName:i,subName:a}},t.prototype.size=function(){return this.children.length},t.prototype.findByName=function(e){return this.findChildren((function(t){return t.name===e}))},t.prototype.findChildren=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=[];return n&&e(this)&&o.push(this),this.children.reduce((function(n,o){if(!(o instanceof t))return n;var r=o.findChildren(e,!0);return r.length>0&&n.push.apply(n,f(r)),n}),o),o},t.prototype.first=function(){return this.children[0]},t.prototype.last=function(){return this.children[this.children.length-1]},t.prototype.brothers=function(){return this.parent?this.parent.children:[this]},t.prototype.querySelectorAll=function(e){return s.default.parseSelectors(e).selectFrom([this])},t.prototype.childAt=function(e){return this.children[e]},t.prototype.append=function(e){return this.insert(e,this.children.length)},t.prototype.prepend=function(e){return this.insert(e,0)},t.prototype.insert=function(e,t){if(t<0)throw new Error("index out of bounds: "+t);t=Math.min(this.children.length,t),e.parent=this,this.children.splice(t,0,e)},t.prototype.removeChild=function(e){var t=this.children.indexOf(e);return-1!==t&&(e.parent=null,this.children.splice(t,1)),this},t.prototype.index=function(){return this.parent?this.parent.children.indexOf(this):-1},t.prototype.clear=function(){return this.children.forEach((function(e){return e.remove()})),this},t.prototype.setAttribute=function(e,t){this.attrs[e]=t,"name"===e&&(this.name=t)},t.prototype.hasAttribute=function(e){return e in this.attrs},t.prototype.getAttribute=function(e){return this.attrs[e]},t.prototype.removeAttribute=function(e){delete this.attrs[e]},t.prototype.getComponentClass=function(){return this.module.name!==this.namespace&&(this.module=a.default._nostrictModule(this.namespace)),this.module.getComponentClass(this.nodeName)||a.default.root().getComponentClass("{native}")},t.prototype.toViewConfig=function(){return{nodeName:this.nodeName,attrs:this.attrs,textContent:this.text,vnode:this}},t.prototype.getParserDirectiveInstance=function(e,t){var n=this.directives.filter((function(e){var t=a.default._nostrictModule(e.ns);if(!t)return!1;var n=t.getDirectiveClass(e.directiveName);return n&&n.isParser()}));if(n.length>1){var o=n.map((function(e){return e.directiveName}));throw new Error("Conflict directive: "+o.join(" and ")+", both of them are parser directive")}var r=n[0];if(r){var i=a.default.module(r.ns),s=i.getDirectiveClass(r.directiveName),c=r.attrName;return new s({module:i,localizer:t,node:this,subName:r.subName,attrValue:r.attrValue,parentComponent:e,attrName:c})}},t.prototype.getDirectiveInstances=function(e,t){var n=this;return this.directives.map((function(o){var r=a.default._nostrictModule(o.ns);if(!r)return g.warn("directive module not found: "+o.ns),null;var i=r.getDirectiveClass(o.directiveName);if(!i)return g.warn("directive not found! module name: "+o.ns+", directive name: "+o.directiveName),null;if(i.isParser())return null;var s=o.attrName,c=o.subName,u=o.attrValue;return new i({module:r,localizer:t,node:n,subName:c,attrValue:u,parentComponent:e,attrName:s})})).filter((function(e){return!!e})).sort((function(e,t){return e.order===t.order?0:e.order>t.order?-1:1}))},o(t,[{key:"_isAsync",get:function(){return this.directives.some((function(e){return"require-modules"===e.directiveName||"async"===e.directiveName}))}}]),t}(i.default);t.default=y},function(e,t,n){var o=n(16),r=n(358),i=n(97),a=Object.defineProperty;t.f=n(41)?Object.defineProperty:function(e,t,n){if(o(e),t=i(t,!0),o(n),r)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){"use strict";n.r(t),n.d(t,"PortfolioLayoutMode",(function(){return r})),n.d(t,"PortfolioPreviewerSide",(function(){return i})),n.d(t,"PortfolioLayoutService",(function(){return h}));var o,r,i,a=n(13),s=n.n(a),c=n(28),u=n(49),l=n(350),f=n(48),p=n(55),d=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});!function(e){e.DEFAULT="portfolio",e.DETAIL="details",e.COVER="cover"}(r||(r={})),function(e){e.RIGHT="right",e.BOTTOM="bottom",e.OFF="off"}(i||(i={}));var h=function(e){function t(t){var n=e.call(this)||this;return n.pdfui=t,n.layoutStore=new c.Store,n.lastLayoutMode=r.DEFAULT,n}return d(t,e),t.scope=function(){return u.ServiceScope.SINGLETON},t.services=function(){return{portfolioService:p.PortfolioService,portfolioNodeService:f.default,componentsService:l.default}},t.prototype.serviceInjected=function(){var e,t=this;this.layoutStore.dispatch("layout-mode",r.DEFAULT),this.layoutStore.dispatch("previewer-side",i.RIGHT),this.layoutStore.dispatch("default_layout_mode","original"),this.pdfui.getAppearance().then((function(e){t.addDestroyHook(t.subscribeLayoutChange((function(n,o,i,a){t.portfolioService.isDocumentClosed()||(n===r.COVER?e.enableAll():(e.disableAll(),t.componentsService.enableAll())),t.layoutStore.dispatch("layout-changed",{newLayoutMode:n,currentPreviewerSide:o,previousLayoutMode:i,previousPreviewerSide:a})})),t.portfolioService.onDocumentTypeSwitch((function(n){if(t.layoutStore.dispatch("document_type",n===p.DOCUMENT_TYPE.PORTFOLIO),n===p.DOCUMENT_TYPE.PORTFOLIO){t.componentsService.enableAll();var o=t.layoutStore.getCurrentValue("default_layout_mode"),i=function(e){var n=t.portfolioNodeService.onInitKeyNameChange((function(o){if(o)var r=t.portfolioNodeService.onActiveNode((function(n){n&&(t.setLayoutMode(e),r&&r())}));else t.setLayoutMode(e);n&&n()}))};"original"===o?t.lastLayoutMode===r.COVER?i(t.lastLayoutMode):t.setLayoutMode(t.lastLayoutMode):o===r.COVER?i(r.COVER):t.setLayoutMode(o)}else n===p.DOCUMENT_TYPE.NORMAL?(e.enableAll(),t.componentsService.disableAll(),t.layoutStore.dispatch("layout-mode",r.COVER)):t.layoutStore.dispatch("layout-mode",r.COVER)})))}));var n=function(){clearTimeout(e),e=setTimeout((function(){t.triggerRedraw()}),1e3/60)};window.addEventListener("resize",n),this.addDestroyHook((function(){t.layoutStore.destroy(),window.removeEventListener("resize",n)}))},t.prototype.setDefaultLayoutMode=function(e){switch(e){case"original":case r.DEFAULT:case r.DETAIL:case r.COVER:this.layoutStore.dispatch("default_layout_mode",e)}},t.prototype.setLayoutMode=function(e){var t=this;(this.layoutStore.subscribeOnce("document_type",(function(n){n&&(t.lastLayoutMode=e)})),e===r.COVER)?this.portfolioNodeService.deactiveNode():this.getLayoutMode()===r.COVER&&this.portfolioNodeService.reactivateLast();this.layoutStore.dispatch("layout-mode",e),this.triggerRedraw()},t.prototype.setPreviewerSide=function(e){this.layoutStore.dispatch("previewer-side",e),this.triggerRedraw()},t.prototype.getLayoutMode=function(){return this.layoutStore.getCurrentValue("layout-mode")},t.prototype.getPreviewerSide=function(){return this.layoutStore.getCurrentValue("previewer-side")},t.prototype.onLayoutChange=function(e){return this.layoutStore.subscribe("layout-changed",(function(t){e(t.newLayoutMode,t.currentPreviewerSide,t.previousLayoutMode,t.previousPreviewerSide)}))},t.prototype.subscribeLayoutChange=function(e){var t=this,n=this.getLayoutMode(),o=this.getPreviewerSide(),r=function(){var r=t.getLayoutMode(),i=t.getPreviewerSide();e(r,i,n,o),n=r,o=i},i=this.layoutStore.subscribe("previewer-side",r),a=this.layoutStore.subscribe("layout-mode",r);return function(){i(),a()}},t.prototype.getDefaultLayout=function(){return this.layoutStore.getCurrentValue("default_layout_mode")},t.prototype.triggerRedraw=function(){var e=this.layoutStore.getCurrentValue("redraw")||0;this.layoutStore.dispatch("redraw",e+1)},t.prototype.onRedraw=function(e){return this.layoutStore.subscribe("redraw",(function(){e()}))},t.prototype.onDefaultLayoutChange=function(e){return this.layoutStore.subscribe("default_layout_mode",(function(t){e(t)}))},t}(s.a)},function(e,t,n){"use strict";n.r(t);var o,r=n(5),i=n(13),a=n.n(i),s=n(103),c=n(40),u=n.n(c),l=n(28),f=n(104),p=n(49),d=n(96),h=n(55),g=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),m=function(e){function t(t){var n=e.call(this)||this;return n.store=new l.Store,n.reactivateLast=u.a,n.addDestroyHook((function(){n.store.destroy()})),n.addDestroyHook(t.addViewerEventListener(r.Events.willCloseDocument,(function(){n.currentActiveNode&&n.deactiveNode(),n.reactivateLast=u.a}))),n.store.dispatch("activate",void 0),n}return g(t,e),t.scope=function(){return p.ServiceScope.SINGLETON},t.services=function(){return{dataService:d.PortfolioNodeDataService,portfolioService:h.PortfolioService}},t.prototype.serviceInjected=function(){var e=this;this.addDestroyHook(this.portfolioService.onGetPortfolioInfo((function(t){e.store.dispatch("init-key-name",t.initialFileSpecKeyName)})))},t.prototype.downloadFile=function(e){this.dataService.getFileBlob(e.handle).then((function(t){Object(s.download)(t,e.fileName)}))},t.prototype.openFolder=function(e){var t=this;this.dataService.switchToFolder(e.handle).then((function(e){e&&t.deactiveNode()}))},t.prototype.activeNode=function(e,t){this.currentActiveNode!==e&&(this.currentActiveNode&&this.currentActiveNode.deactive(),this.currentActiveNode=e,e.active(),this.store.dispatch("activate",t))},t.prototype.currentIsFile=function(){var e=this.getCurrentActivateNodeData();return!(!e||e.type!==f.PortfolioNodeType.file)},t.prototype.getCurrentActivateNodeData=function(){return this.store.getCurrentValue("activate")},t.prototype.deactiveNode=function(){var e=this;if(this.hasActiveNode()){var t=this.currentActiveNode,n=this.getCurrentActivateNodeData();t&&(t.deactive(),this.currentActiveNode=void 0,this.store.dispatch("activate",void 0)),this.reactivateLast=function(){e.reactivateLast=u.a,t&&n&&e.activeNode(t,n)}}},t.prototype.hasActiveNode=function(){return!!this.currentActiveNode},t.prototype.onActiveNode=function(e){return this.store.subscribe("activate",(function(t){e(t)}))},t.prototype.onInitKeyNameChange=function(e){return this.store.subscribe("init-key-name",(function(t){e(t)}))},t}(a.a);t.default=m},function(e,t,n){"use strict";var o;n.r(t),n.d(t,"ServiceScope",(function(){return o})),function(e){e.SINGLETON="SINGLETON",e.SHARED_SINGLETON="GLOBAL",e.MULTI_CASE="MULTI-CASE"}(o||(o={}))},function(e,t,n){"use strict";var o;n.d(t,"a",(function(){return o})),function(e){e.playing="playing",e.paused="paused",e.stopped="stopped"}(o||(o={}))},function(e,t,n){var o=n(98);e.exports=function(e){return Object(o(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var r=(navigator.appVersion.match(/iphone/gi),"undefined"!=typeof devicePixelRatio?devicePixelRatio:1);var i=void 0,a=void 0,s=void 0;function c(){return i||(i=function(){if("undefined"!=typeof screen&&screen.deviceXDPI)return{x:screen.deviceXDPI,y:screen.deviceYDPI};if("undefined"!=typeof document){var e=document.createElement("div");e.style.cssText="width:1in;height:1in;position:absolute;top:20in;border:none;padding:0;",document.body.appendChild(e);var t={x:parseInt(e.offsetWidth),y:parseInt(e.offsetHeight)};return e.parentNode.removeChild(e),t}return{x:96,y:96}}()),i}var u=void 0;t.getDPI=c,t.getPtPxRatio=function(){if(void 0===a){var e=c();a=e.x/72}return a},t.getPxPtRatio=function(){if(void 0===s){var e=c();s=72/e.x}return s},t.dpr=r,t.copyText=function(e){var t=u||((u=document.createElement("input")).type="text",u.style.opacity="0",u.style.top="-999px",u.style["z-index"]=-1,u.style.position="absolute",document.body.appendChild(u),u);t.value=e,t.select(),t.focus(),t.setSelectionRange(0,t.value.length);var n=document.execCommand("copy",!1,t.value);return t.blur(),n},t.eventPath=function(e){var t=e.composedPath&&e.composedPath()||e.path,n=e.target;return null!=t?t.indexOf(window)<0?t.concat(window):t:n===window?[window]:[n].concat(function e(t,n){n=n||[];var o=t.parentNode;return o?e(o,n.concat(o)):n}(n),window)},t.isIE10=function(){var e=navigator.userAgent.toLowerCase(),t=void 0;return!(!("ActiveXObject"in self)||!(t=e.match(/msie ([\d\.]+)/)))&&10===parseInt(t[1])},t.getCanvasPixelRatio=function(){if("object"!==("undefined"==typeof window?"undefined":o(window)))return 1;var e=window.devicePixelRatio||1,t=document.createElement("canvas").getContext("2d");return e/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)},t.isRunningInWorker=function(){return"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope},t.isRunningInBrowser=function(){return"undefined"!=typeof window}},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=t.RectDiffer=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;o(this,e),this.top=t,this.left=n,this.bottom=r,this.right=i},i=(t.Rect=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;o(this,e),this.top=t,this.left=n,this.bottom=r,this.right=i},t.Boundary=function e(t,n,r,i){o(this,e),this.top=t,this.left=n,this.bottom=bottom,this.right=right},function(){function e(t){o(this,e),this.offsetLeft=0,this.offsetTop=0,this.offsetRight=0,this.offsetBottom=0,this.target=t}return e.isOverlap=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=Math.max(e.left,t.left),r=Math[n?"min":"max"](e.top,t.top),i=Math[n?"max":"min"](e.bottom,t.bottom),a=Math.min(e.right,t.right);if(o<=a)if(n){if(r>=i)return(a-o)*(r-i)}else if(r<=i)return(a-o)*(i-r);return 0},e.isInRect=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e>=n.left&&e<=n.right)if(o){if(t>=n.bottom&&t<=n.top)return!0}else if(t<=n.bottom&&t>=n.top)return!0;return!1},e.rectInRect=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=e.left>=t.left&&e.right<=t.right;return!!o&&(n?e.top<=t.top&&e.bottom>=t.bottom:e.top>=t.top&&e.bottom<=t.bottom)},e.on=function(t){return new e(t)},e.subtract=function(e,t){return new r(e.top-t.top,e.left-t.left,e.bottom-t.bottom,e.right-t.right)},e.expandOffset=function(e,t){return new r(e.top-t.top,e.left-t.left,t.bottom-e.bottom,t.right-e.right)},e.copyTo=function(e,t){t.left=e.left,t.top=e.top,t.right=e.right,t.bottom=e.bottom},e.prototype.moveLeft=function(e){return this.offsetLeft+=e,this.offsetRight+=e,this},e.prototype.moveTop=function(e){return this.offsetTop+=e,this.offsetBottom+=e,this},e.prototype.move=function(e,t){return this.moveLeft(e).moveTop(t)},e.prototype.moveTo=function(e,t){return this.offsetLeft=this.offsetRight=this.target.left-e,this.offsetTop=this.offsetBottom=this.target.top-t,this},e.prototype.shrink=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t;return this.add(new r(e,t,-n,-o))},e.prototype.expand=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t;return this.add(new r(-e,-t,n,o))},e.prototype.zoom=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"center",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"center",o=this.target.right+this.offsetRight-(this.target.left+this.offsetLeft),i=this.target.bottom+this.offsetBottom-(this.target.top+this.offsetTop),a=o*e,s=i*e,c=a-o,u=s-i,l=0,f=0,p=0,d=0;switch(t){case"right":l=-c;break;case"center":l=-c/2,f=c/2;break;case"left":default:f=c}switch(n){case"bottom":p=-u;break;case"center":p=-u/2,d=u/2;break;case"top":default:d=u}return this.add(new r(p,l,d,f))},e.prototype.add=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.top,n=void 0===t?0:t,o=e.left,r=void 0===o?n:o,i=e.bottom,a=void 0===i?n:i,s=e.right,c=void 0===s?r:s;return this.offsetLeft+=r,this.offsetRight+=c,this.offsetBottom+=a,this.offsetTop+=n,this},e.prototype.extract=function(){var e=this.target.left+this.offsetLeft,t=this.target.right+this.offsetRight;return{left:e,top:this.target.top+this.offsetTop,right:t,bottom:this.target.bottom+this.offsetBottom}},e.prototype.boundary=function(){var e=this.target.left+this.offsetLeft,t=this.target.right+this.offsetRight,n=this.target.top+this.offsetTop;return{left:e,top:n,width:t-e,height:this.target.bottom+this.offsetBottom-n}},e.prototype.toPlainObject=function(){return{left:this.target.left,right:this.target.right,top:this.target.top,bottom:this.target.bottom}},e}());t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={},r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.property=function(e,t,n){var r=o;Object.getOwnPropertyDescriptor(e,"__lazy__")||Object.defineProperty(e,"__lazy__",{value:{},enumerable:!1,configurable:!1});var i=e.__lazy__[t]||{};e.__lazy__[t]=i,i.initialized=!1,Object.defineProperty(e,t,{get:function(){return r===o&&(r=n(),i.initialized=!0),r},enumerable:!0,configurable:!0})},e.isPropertyIntialized=function(e,t){var n=e.__lazy__;return!!(n&&n[t]&&n[t].initialized)},e}();t.default=r},function(e,t,n){"use strict";n.r(t),n.d(t,"DOCUMENT_TYPE",(function(){return r})),n.d(t,"PortfolioService",(function(){return p}));var o,r,i=n(1),a=n.n(i),s=n(13),c=n.n(s),u=n(28),l=n(49),f=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});!function(e){e.CLOSED="closed",e.PORTFOLIO="portfolio",e.NORMAL="normal"}(r||(r={}));var p=function(e){function t(t){var n=e.call(this)||this;return n.store=new u.Store,n.addDestroyHook((function(){n.store.destroy()}),t.addViewerEventListener(a.a.openFileSuccess,(function(e){n.store.dispatch("change",e.isPortfolio()?r.PORTFOLIO:r.NORMAL),e.isPortfolio()?e.getPDFPortfolio().getFolioFileInfo().then((function(e){n.store.dispatch("portfolio-file-info",e)})):n.store.dispatch("portfolio-file-info",null)})),t.addViewerEventListener(a.a.willCloseDocument,(function(){n.store.dispatch("change",r.CLOSED)}))),n.store.dispatch("change",r.CLOSED),n}return f(t,e),t.scope=function(){return l.ServiceScope.SINGLETON},t.prototype.isPortfolio=function(){return this.store.getCurrentValue("change")===r.PORTFOLIO},t.prototype.onDocumentTypeSwitch=function(e){return this.store.subscribe("change",e)},t.prototype.onGetPortfolioInfo=function(e){return this.store.subscribe("portfolio-file-info",(function(t){t&&e(t)}))},t.prototype.getDocumentType=function(){return this.store.getCurrentValue("change")},t.prototype.isDocumentClosed=function(){return this.getDocumentType()===r.CLOSED},t}(c.a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){throw new Error("Method not implemented"+(e?":"+e:""))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=new(n(36).QueuedAsyncTaskExecutor);t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("function"!=typeof e)return Promise.resolve();if(t)return Promise.resolve(e());var n=o.exec(e);return n.catch((function(e){return console.error(e)})),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={PDF_VIEWER_ALIVE:"PDF-VIEWER-ALIVE",PDF_DOCUMENT_CLOSING:"PDF-DOCUMENT-CLOSING",BROWSER_RELOAD:"BROWSER-RELOAD"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=c(n(71)),r=c(n(205)),i=c(n(19)),a=n(12),s=c(n(38));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o));return r.groupElements=[],r.replies=[],r.markedStates=[],r.reviewStates=[],r}return u(t,e),t.prototype.getFlags=function(){return-2&e.prototype.getFlags.call(this)},t.prototype.reviseSummary=function(e){var t=this,n=this.info,o=[],r=n.groupElementsSummary.map((function(t){return Promise.resolve(e(t.id))})),i=Promise.all(r).then((function(e){t.groupElements=e}));o.push(i);var a=n.groupHeaderSummary;a&&o.push(Promise.resolve(e(a.id)).then((function(e){t.groupHeader=e})));var s=n.repliesSummary.map((function(t){return Promise.resolve(e(t.id))})),c=Promise.all(s).then((function(e){t.replies=e}));o.push(c);var u=n.markedStatesSummary.map((function(t){return Promise.resolve(e(t.id))})),l=Promise.all(u).then((function(e){t.markedStates=e}));o.push(l);var f=n.reviewStatesSummary.map((function(t){return Promise.resolve(e(t.id))})),p=Promise.all(f).then((function(e){t.reviewStates=e}));o.push(p);var d=n.popupSummary;return d&&o.push(Promise.resolve(e(d.id)).then((function(e){t.popup=e}))),Promise.all(o).then((function(){return t.reviseSummaryIsOK=!0,t}))},t.prototype.getBitmap=function(e,t,n){var o=this.getPDFPage(),r=o.getPDFDoc();return this.page.doc.api.getAnnotBitmap(r.getId(),o.getId(),this.getId(),e,t,n)},t.prototype.getOpacity=function(){return this.info.opacity},t.prototype.setOpacity=function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc();return e=+e,this.page.doc.api.setAnnotOpacity(o.getId(),n.getId(),this.getId(),e).then((function(e){return n.getAnnotsByIdArray(e)})).then((function(e){return Promise.all(e.map((function(e){return e._update()})))})).then((function(e){return t.eventEmitter.emit(i.default.annotationUpdated,e,n,s.default.opacityUpdated),t.eventEmitter.emit(i.default.annotationAppearanceUpdated,e,n),e}))},t.prototype.getSubject=function(){return this.info.subject},t.prototype.setSubject=function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setSubject(o.getId(),n.getId(),this.getId(),e).then((function(){return t.update(s.default.subjectUpdated)}))},t.prototype.getTitle=function(){return this.info.title},t.prototype.setTitle=function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setTitle(o.getId(),n.getId(),this.getId(),e).then((function(){return t.update(s.default.titleUpdated)}))},t.prototype.isGrouped=function(){return this.info.isGrouped},t.prototype.isGroupHeader=function(){return this.info.isGroupHeader},t.prototype.getGroupElements=function(){return this.groupElements},t.prototype.getGroupHeader=function(){return this.groupHeader},t.prototype.getReplyCount=function(){return this.replies.length},t.prototype.getReply=function(e){return this.replies[e]},t.prototype.getReplies=function(){return this.replies},t.prototype.addReply=function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc(),r=this.getGroupHeader()||this;return this.page.doc.api.annotAddReply(o.getId(),n.getId(),this.getId(),e).then((function(e){r.info.repliesSummary.push({id:e.id,index:e.index});var o=t.page.doc.engine.annotManager.get(e,n);return n.addReplyAnnot(o)})).then((function(e){return r.replies.push(e),t.page.doc.engine.eventEmitter.emit(i.default.annotationReplyAdd,e,r),t.page.doc.engine.eventEmitter.emit(i.default.annotationUpdated,[t],n,s.default.replyAdded),e}))},t.prototype.removeRepliesByIdLocaly=function(e){if(!Array.isArray(e)||e.length<1||this.replies.length<1)return e||[];var t=e.slice(0);return this.replies=this.replies.filter((function(e){var n=t.indexOf(e.getId());return n>-1&&t.splice(n,1),-1==n})),t},t.prototype.getMarkedStateCount=function(){return this.markedStates.length},t.prototype.getMarkedState=function(e){return this.markedStates[e]},t.prototype.getMarkedStates=function(){return this.markedStates},t.prototype.getReviewStateCount=function(){return this.reviewStates.length},t.prototype.getReviewState=function(e){return this.reviewStates[e]},t.prototype.getReviewStates=function(){return this.reviewStates},t.prototype.addReviewState=function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.addAnnotReviewState(o.getId(),n.getId(),this.getId(),e).then((function(e){t.info.reviewStatesSummary.push({id:e.id,index:e.index});var o=t.page.doc.engine.annotManager.get(e,n);return n.addAddonAnnot(o)})).then((function(e){return t.reviewStates.push(e),t.page.doc.engine.eventEmitter.emit(i.default.annotationReviewStateAnnotAdd,e,t),t.page.doc.engine.eventEmitter.emit(i.default.annotationUpdated,[t],n,s.default.reviewStateUpdated),e}))},t.prototype.removeReviewState=function(){var e=this,t=this.page,n=this.getReviewStates(),o=n[n.length-1];return t.removeAnnot(o).then((function(){e.reviewStates.pop(),e.page.doc.engine.eventEmitter.emit(i.default.removeReviewState,e),e.page.doc.engine.eventEmitter.emit(i.default.annotationUpdated,[e],t,s.default.reviewStateUpdated)}))},t.prototype.addMarkedState=function(e){var t=this,n=arguments[1];this.checkModidyPerm();var o=this.getPDFPage(),r=o.getPDFDoc(),a=this.getGroupHeader()||this;return this.page.doc.api.addAnnotMarkedState(r.getId(),o.getId(),this.getId(),e).then((function(e){if(a.info.markedStatesSummary.length){var t=o.annotIdMap[e.id];return t.info=e,t}a.info.markedStatesSummary.push({id:e.id,index:e.index});var n=o.doc.engine.annotManager.get(e,o);return o.addAddonAnnot(n)})).then((function(e){return a.markedStates.push(e),t.page.doc.engine.eventEmitter.emit(i.default.annotationUpdated,[t],o,s.default.markedStateUpdated),t.page.doc.engine.eventEmitter.emit(i.default.annotationMarkedStateAnnotAdd,e,a,n),e}))},t.prototype.removeMarkedState=function(){var e=this;this.checkModidyPerm();var t=this.getPDFPage(),n=t.getPDFDoc(),o=this.getGroupHeader()||this,r=o.markedStates.pop();return r?(o.info.markedStatesSummary.pop(),t.removeAnnot(r).then((function(){n.engine.eventEmitter.emit(i.default.annotationUpdated,[e],t,s.default.markedStateUpdated),n.engine.eventEmitter.emit(i.default.removeMarkedState,e)}))):Promise.resolve()},t.prototype.removeAllStateAnnots=function(){var e=this;this.checkModidyPerm();var t=this.getPDFPage(),n=t.getPDFDoc(),o=this.getGroupHeader()||this;return this.page.doc.api.removeAllStateAnnots(n.getId(),t.getId(),this.getId()).then((function(n){return!!n&&(o.info.markedStatesSummary.forEach((function(e){var n=e.id;t.removeAddonAnnotById(n)})),o.info.reviewStatesSummary.forEach((function(e){var n=e.id;t.removeAddonAnnotById(n)})),o.info.markedStatesSummary=[],o.info.reviewStatesSummary=[],o.reviewStates=[],o.markedStates=[],e.page.doc.engine.eventEmitter.emit(i.default.annotationUpdated,[e],t,s.default.statesCleared),e.page.doc.engine.eventEmitter.emit(i.default.annotationStatesCleared,o),n)}))},t.prototype.getPopup=function(){return this.popup},t.prototype.getCreateDateTime=function(){var e=this.info.creationTimestamp;return e>0?new Date(e):new Date},t.prototype.setCreateDateTime=function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setCreateDateTime(o.getId(),n.getId(),this.getId(),e).then((function(){return t.update(s.default.createDateTimeUpdated)}))},t.prototype.getIntent=function(){return this.info.intent},t.prototype.setIntent=function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setAnnotIntent(o.getId(),n.getId(),this.getId(),e).then((function(e){return n.getAnnotsByIdArray(e)})).then((function(t){for(var n=0;n<t.length;n++)t[n].info.intent=e;return t})).then((function(e){return t.eventEmitter.emit(i.default.annotationUpdated,e,n,s.default.intentUpdated),t.eventEmitter.emit(i.default.annotationAppearanceUpdated,e,n),e}))},t.prototype.getFillColor=function(){return this.info.fillColor},t.prototype.setFillColor=function(e){var t=this;e=0===e?0:(0,a.colorConvertor)(e,"int");var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setAnnotFillColor(o.getId(),n.getId(),this.getId(),e).then((function(e){return e?t.update(s.default.fillColorUpdated).then((function(){return t.eventEmitter.emit(i.default.annotationAppearanceUpdated,[t],n),e})):e}))},t.prototype.update=function(e){var t=this,n=this.getGroupElements();0==n.length&&(n=[this]);for(var o=[],r=0,a=n.length;r<a;r++){var s=n[r];o[r]=s._update()}return Promise.all(o).then((function(n){return e&&t.eventEmitter.emit(i.default.annotationUpdated,n,t.getPDFPage(),e),n}))},t.prototype.exportToJSON=function(){var t=e.prototype.exportToJSON.call(this),n=this.info.opacity,o=(0,r.default)(new Date(this.info.creationTimestamp),"D:yyyyMMddhhmmssTZ","'"),i=this.info.intent,a=this.info.subject,s=this.info.title,c=this.info.IRT,u=this.info.RT;i=i&&i.length>0?{IT:i,intent:i}:{};var l=Object.assign({},t,{opacity:n,creationdate:o,subject:a,title:s},i);return c&&u&&(l.inreplyto=c,l.replyType=u.toLowerCase()),this.popup&&(l.popup=this.popup.exportToJSON()),this.info.rotation&&(l.rotation=360-this.info.rotation),l},t.prototype.setContent=function(e){var t=this;return this.checkModidyPerm(),(this.getGroupHeader()||this)._setContent(e).then((function(e){return t.getPDFPage().getAnnotsByIdArray([e])})).then((function(n){var o=n[0];return o&&(o.info.content=e,o.info.modifiedTimestamp=(new Date).getTime()),t.eventEmitter.emit(i.default.annotationUpdated,n,t.getPDFPage(),s.default.contentUpdated),n}))},t}(o.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(458);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=function(e){function t(n,o,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r))}return i(t,e),t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=a},function(e,t,n){"use strict";var o=Object.prototype.hasOwnProperty,r="~";function i(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,n,o,i){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new a(n,o||e,i),c=r?r+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],s]:e._events[c].push(s):(e._events[c]=s,e._eventsCount++),e}function c(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t]}function u(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(r=!1)),u.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)o.call(e,t)&&n.push(r?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},u.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var o=0,i=n.length,a=new Array(i);o<i;o++)a[o]=n[o].fn;return a},u.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},u.prototype.emit=function(e,t,n,o,i,a){var s=r?r+e:e;if(!this._events[s])return!1;var c,u,l=this._events[s],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,o),!0;case 5:return l.fn.call(l.context,t,n,o,i),!0;case 6:return l.fn.call(l.context,t,n,o,i,a),!0}for(u=1,c=new Array(f-1);u<f;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var p,d=l.length;for(u=0;u<d;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),f){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,t);break;case 3:l[u].fn.call(l[u].context,t,n);break;case 4:l[u].fn.call(l[u].context,t,n,o);break;default:if(!c)for(p=1,c=new Array(f-1);p<f;p++)c[p-1]=arguments[p];l[u].fn.apply(l[u].context,c)}}return!0},u.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},u.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},u.prototype.removeListener=function(e,t,n,o){var i=r?r+e:e;if(!this._events[i])return this;if(!t)return c(this,i),this;var a=this._events[i];if(a.fn)a.fn!==t||o&&!a.once||n&&a.context!==n||c(this,i);else{for(var s=0,u=[],l=a.length;s<l;s++)(a[s].fn!==t||o&&!a[s].once||n&&a[s].context!==n)&&u.push(a[s]);u.length?this._events[i]=1===u.length?u[0]:u:c(this,i)}return this},u.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&c(this,t)):(this._events=new i,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.PIXEL_VERTICAL=t.PIXEL_HORIZONTAL=t.PICA=t.MILLIMETER=t.CENTIMETER=t.METER=t.KILOMETER=t.YARD=t.FOOT=t.POINT=t.MILE=t.CUSTOM=t.INCH=void 0,t.getUnitByName=function(e){"in"===e&&(e="inch");return P[e]};var r,i=n(206),a=n(207),s=n(208),c=(r=s)&&r.__esModule?r:{default:r};function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=t.INCH=new i.Unit(1,c.default.inch),f=t.CUSTOM=new i.Unit(1,c.default.custom),p=t.MILE=new i.Unit(1/63360,c.default.mi),d=t.POINT=new i.Unit(72,c.default.pt),h=t.FOOT=new i.Unit(1/12,c.default.ft),g=t.YARD=new i.Unit(1/36,c.default.yd),m=t.KILOMETER=new i.Unit(.0254/1e3,c.default.km),v=t.METER=new i.Unit(.0254,c.default.m),y=t.CENTIMETER=new i.Unit(2.54,c.default.cm),b=t.MILLIMETER=new i.Unit(25.4,c.default.mm),w=t.PICA=new i.Unit(6,c.default.pica),_=t.PIXEL_HORIZONTAL=new i.PixelUnit(a.ORIENTATION_HORIZONTAL),P=(t.PIXEL_VERTICAL=new i.PixelUnit(a.ORIENTATION_VERTICAL),u(o={},l.name,l),u(o,f.name,f),u(o,p.name,p),u(o,d.name,d),u(o,h.name,h),u(o,g.name,g),u(o,m.name,m),u(o,v.name,v),u(o,y.name,y),u(o,b.name,b),u(o,w.name,w),u(o,_.name,_),o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=h(n(894)),i=h(n(40)),a=h(n(895)),s=n(43),c=n(179),u=h(n(116)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(152)),f=h(n(53)),p=h(n(9)),d=h(n(13));function h(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var y=l.T,b=p.default.getLogger("ShapeControl"),w={};function _(e){var t=Object.keys(e).sort().map((function(t){return e[t]?1:0})).join("");if(t in w)return w[t].cloneNode(!0);var n=(new DOMParser).parseFromString((0,r.default)(e),"text/html").body.firstChild;return w[t]=n,n.cloneNode(!0)}var P=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.emitter,r=n.prestart,a=void 0===r?i.default:r,s=n.start,c=void 0===s?i.default:s,u=n.update,l=void 0===u?i.default:u,f=n.interceptor,p=void 0===f?y:f,d=n.moving,h=void 0===d?i.default:d,v=n.end,b=void 0===v?i.default:v,w=n.afterEnd,P=void 0===w?i.default:w,O=n.rotate,E=void 0===O?i.default:O,x=n.beforeRotateStart,C=void 0===x?i.default:x,A=n.rotateStart,S=void 0===A?i.default:A,D=n.rotateEnd,T=void 0===D?i.default:D,I=n.afterRotateEnd,R=void 0===I?i.default:I,M=n.enableDiagonally,j=void 0!==M&&M,k=n.enableFrame,N=void 0===k||k,F=n.enableSizeBox,L=void 0!==F&&F,V=n.resizable,B=void 0===V||V,U=n.moveable,H=void 0===U||U,$=n.rotatable,W=void 0!==$&&$,q=n.previewer,z=void 0!==q&&q,G=n.enableUniform,Y=void 0!==G&&G,K=n.minUniformSize,X=void 0===K?15:K,J=n.annotRender,Z=void 0===J?null:J,Q=n.expansion,ee=void 0===Q?{left:1,top:1,right:1,bottom:1}:Q,te=n.degreeInitVisibility,ne=void 0===te||te,oe=n.resizeCompanions,re=void 0!==oe&&oe;g(this,t);var ie=m(this,e.call(this));return ie.ui=_({enableDiagonally:j,resizable:B,enableFrame:N,rotatable:W,moveable:H,previewer:z,enableSizeBox:L,degreeInitVisibility:ne}),ie.emitter=o,ie.onPrestart=a,ie.onStart=c,ie.onUpdate=l,ie.onMoving=h,ie.interceptor=p,ie.onEnd=b,ie.onAfterEnd=P,ie.onBeforeRotateStart=C,ie.onAfterRotateEnd=R,ie.rotate=E,ie.onRotateStart=S,ie.onRotateEnd=T,ie.enableUniform=Y,ie.minUniformSize=X,ie.rotatable=W,ie.moveable=H,ie.enablePreviewer=z,ie.isDisabled=!1,ie.isMoveDisabled=!1,ie.enableDiagonally=j,ie.enableFrame=N,ie.enableSizeBox=L,ie.resizable=B,ie.annotRender=Z,ie.rotateCursorStyle="fv__cursor-rotation",ie.rotateDegree=0,ie.isRotateStarted=!1,ie.expansion=ee,ie.resizeCompanions=re,ie.companions=[],ie.degreeInitVisibility=ne,ie.isActive=!1,ie}return v(t,e),o(t,null,[{key:"ACTION_RESIZE",get:function(){return"resize"}},{key:"ACTION_MOVE",get:function(){return"move"}}]),t.prototype.init=function(){if(!this._isInitted){this._isInitted=!0;var e=this.ui.querySelector(".fv__shape-control-previewer");this.rotatingRod=this.ui.querySelector(".fv__shape-rotate"),this.shapeSizeBox=this.ui.querySelector(".fv__shape-size"),this.context=e.getContext("2d"),this.companionMargin={left:0,right:0,top:0,bottom:0},this.rotateDegreeBox=this.ui.querySelector(".fv-shape-rotate-degree"),this.updateRotateDegreeBox(this.rotateDegree),this.bindEvents()}},t.prototype.companion=function(e){var t=this;if(e===this)return i.default;var n="function"==typeof e.getCompanionObject?e.getCompanionObject():void 0;return n?-1!==this.companions.indexOf(n)||n.companions.indexOf(this)>-1?i.default:(this.companions.push(n),this.updateMargin(),function(){var e=t.companions.indexOf(n);e>-1&&t.companions.splice(e,1)}):i.default},t.prototype.getCompanionObject=function(){return this},t.prototype.updateMargin=function(){if(0===this.companions.length)return this.setMargin(this.originMargin),void(this.companionMargin={left:0,right:0,top:0,bottom:0});var e=this.shape.getRect(),t=e.left,n=e.right,o=e.top,r=e.bottom;this.companions.forEach((function(e){var i=e.shape.getRect();t=Math.min(i.left,t),o=Math.min(i.top,o),n=Math.max(i.right,n),r=Math.max(i.bottom,r)}));var i=e.left-t,a=n-e.right,s=e.top-o,c=r-e.bottom;this.companionMargin={left:i,right:a,top:s,bottom:c},this.originMargin=this.shape.marginBox;var u={left:Math.max(this.companionMargin.left,this.originMargin.left),right:Math.max(this.companionMargin.right,this.originMargin.right),top:Math.max(this.companionMargin.top,this.originMargin.top),bottom:Math.max(this.companionMargin.bottom,this.originMargin.bottom)};this.setMargin(u)},t.prototype.clearCompanions=function(){this.companions.length=0,this.updateMargin()},t.prototype.getPreviewerContext=function(){return this.context},t.prototype.bindEvents=function(){var e=this,t=this.ui.querySelectorAll(".fv__shape-controller");Array.prototype.slice.call(t).forEach((function(t){return e._bindControllerEvents(t)})),this.moveable&&this._bindMoveAreaEvents(),this.rotatable&&this._bindRotateEvents()},t.prototype._bindControllerEvents=function(e){var n=this,o=new s.Manager(e);o.add(new s.Pan({direction:s.DIRECTION_ALL}));var r=void 0,i=void 0;o.on("panmove",(function(t){var o=t.deltaX,a=t.deltaY;if(!n.isDisabled){var s=o-r,c=a-i;r=o,i=a,n.resize(e.getAttribute("direction"),s,c),n._resizeSizeBox()}})),o.on("panstart",(function(t){var o=t.deltaX,a=t.deltaY;n.isDisabled||(r=o,i=a,n.start(),n.resizeCompanions||n.setMargin({left:0,right:0,top:0,bottom:0}),n.resize(e.getAttribute("direction"),o,a,!0))})),o.on("panend",(function(e){n.isDisabled||n.end(t.ACTION_RESIZE)})),o.on("pancancel",(function(e){n.isDisabled||n.cancel(t.ACTION_RESIZE)})),this.addDestroyHook((function(){o.destroy()}))},t.prototype._resizeSizeBox=function(){if(this.shapeSizeBox){var e=this.shape.getAdjustShape();e||(e=this.shape.shape);var t=parseInt(e.width),n=parseInt(e.height);this.shapeSizeBox.innerHTML=t<120?t+"px*"+n+"px":t<170?"W: "+t+"px, H: "+n+"px":"Width: "+t+"px, Height: "+n+"px",this.shapeSizeBox.style.top=n>100?"1px":"-22px"}},t.prototype._bindMoveAreaEvents=function(){var e=this,n=this.ui,o=new s.Manager(n.querySelector(".fv__shape-control-move-area"));o.add(new s.Pan({direction:s.DIRECTION_ALL}));var r=void 0,i=void 0;o.on("panstart",(function(t){var n=t.deltaX,o=t.deltaY,a=t.center,s=t.srcEvent;e.isDisabled||e.isMoveDisabled||(r=n,i=o,e.start(),e.trigger("movingstart",{deltaX:a.x+n,deltaY:a.y+o,srcEvent:s}),e.move(r,i,!0))})),o.on("panend",(function(n){e.trigger("movingend",n),e.isDisabled||e.isMoveDisabled||e.end(t.ACTION_MOVE)})),o.on("pancancel",(function(n){e.trigger("movingcancel"),e.isDisabled||e.isMoveDisabled||e.cancel(t.ACTION_MOVE)})),o.on("panmove",(function(t){var n=t.deltaX,o=t.deltaY,a=t.center,s=t.direction;if(!e.isDisabled&&!e.isMoveDisabled){var c=n-r,u=o-i;r=n,i=o;var l=e.ui.getBoundingClientRect(),f=l.left+l.width/2,p=l.top+l.height/2;a.x<f&&s&Hammer.DIRECTION_RIGHT&&(c=0),a.x>f&&s&Hammer.DIRECTION_LEFT&&(c=0),a.y<p&&s&Hammer.DIRECTION_DOWN&&(u=0),a.y>p&&s&Hammer.DIRECTION_UP&&(u=0),e.move(c,u)}})),this.addDestroyHook((function(){o.destroy()}))},t.prototype.disable=function(){this.isDisabled=!0,this.ui.classList.add("disable")},t.prototype.enable=function(){this.isDisabled=!1,this.ui.classList.remove("disable")},t.prototype.moveDisable=function(){this.moveable&&(this.isMoveDisabled=!0,this.ui.querySelector(".fv__shape-control-move-area").style.cursor="not-allowed")},t.prototype.moveEnable=function(){this.moveable&&(this.isMoveDisabled=!1,this.ui.querySelector(".fv__shape-control-move-area").style.cursor="")},t.prototype.start=function(){this.isDisabled||(this.doStart(),this.onPrestart(),this.companions.forEach((function(e){return e.doStart()})))},t.prototype.doStart=function(){this.ui.style.willChange="left, top, width, height",this.shape.process()},t.prototype.move=function(e,n){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this.isDisabled&&!this.isMoveDisabled){var r=this.shape.getAdjustRect();this.shape.adjustPosition(e,n);var i=this.getSnapRect(this.shape.getAdjustRect()),a=i.left-r.left,s=i.top-r.top;if(this.interceptor(this.shape.getAdjustShape())){var c=this.getShapeFromRect(i);this.shape.applyAdjustingToDom(this.ui,c),o&&this.onStart(c,this.context,t.ACTION_MOVE),this.onMoving(c,this.context,{offsetLeft:a,offsetTop:s}),this.companions.forEach((function(e){return e.move(a,s,o)}))}else this.shape.undo()}},t.prototype.resize=function(e,n,o){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!this.isDisabled){switch(e){case c.DIR_EAST:case c.DIR_WEST:case c.DIR_NORTH:case c.DIR_SOUTH:case c.DIR_NORTH_EAST:case c.DIR_NORTH_WEST:case c.DIR_SOUTH_EAST:case c.DIR_SOUTH_WEST:break;default:throw new Error("Incorrect direction: "+e)}if(this._resize(e,n,o),this.interceptor(this.shape.getAdjustShape())){var i=this.getShapeFromRect(this.getDirectionSnapRect(this.shape.getAdjustRect(),e));this.shape.applyAdjustingToDom(this.ui,i),this._updatePreviewer(),r&&this.onStart(i,this.context,t.ACTION_RESIZE),this.onUpdate(i,this.context,{offsetLeft:n,offsetTop:o,direction:e}),this.resizeCompanions&&this.companions.forEach((function(t){return t.resize(e,n,o,r)}))}else this.shape.undo()}},t.prototype.end=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!(this.isDisabled||"move"===e&&this.isMoveDisabled)){n=n==this.companions.length,this.ui.style.willChange="auto";var o=this.shape.getAdjustRect(),r=this.getShapeFromRect(e===t.ACTION_MOVE?this.getSnapRect(o):this.getDirectionSnapRect(o));this.onEnd(r,this.context,e,n),this.shape.end(),this.shape.applyToDom(this.ui,r),(e!=t.ACTION_RESIZE||this.resizeCompanions)&&this.companions.forEach((function(t,n){return t.end(e,n)})),this.onAfterEnd(e)}},t.prototype.cancel=function(e){this.isDisabled||(this.shape.cancel(),this.shape.applyToDom(this.ui),this.onEnd(this.shape.getShape(),this.context,e),this.companions.forEach((function(t){return t.cancel(e)})),this.onAfterEnd(e))},t.prototype.rotateStart=function(){var e=this.ui.getBoundingClientRect(),t={x:e.left+.5*e.width,y:e.top+.5*e.height};this.rotationOffsetCenter=t,this.onRotateStart(this.rotateDegree,this.shape,this.context),this.companions.forEach((function(e){e.isRotateStarted=!0,e.rotateStart()}))},t.prototype.rotating=function(e,t){if(this.isRotateStarted){var n=e-this.rotationOffsetCenter.x,o=t-this.rotationOffsetCenter.y,r=Math.atan2(o,n)/Math.PI*180+90;this.ui.style.transform="rotate("+r+"deg)",this.updateRotateDegreeBox(r);var i=this.rotatingDegree;this.rotatingDegree=r,this.rotate(r,i),this.companions.forEach((function(e){e.ui.style.transform="rotate("+r+"deg)",e.updateRotateDegreeBox(r);var t=e.rotatingDegree;e.rotatingDegree=r,e.rotate(r,t)}))}},t.prototype.rotateEnd=function(){var e=this;if(this.isRotateStarted){this.isRotateStarted=!1;var t=this.rotatingDegree-this.rotateDegree;this.rotateDegree=this.rotatingDegree,this.rotatingDegree=void 0,this.onRotateEnd(this.rotateDegree,t,this.shape,this.context).then((function(t){e.rotatingRod.style.transform="rotate("+t+"deg)"})),this.companions.forEach((function(e){e.rotateEnd()}))}},t.prototype.moveDirectly=function(e,t){if(!this.isDisabled){this.start();try{this.move(e,t,!0)}catch(e){throw this.cancel(),e}this.end()}},t.prototype.resizeDirectly=function(e,t,n){if(!this.isDisabled){this.start();try{this.resize(e,t,n,!0)}catch(e){throw this.cancel(),e}this.end()}},t.prototype._updatePreviewer=function(){if(this.enablePreviewer){var e=this.ui.querySelector(".fv__shape-control-previewer");e.setAttribute("width",this.ui.offsetWidth),e.setAttribute("height",this.ui.offsetHeight)}},t.prototype.hidePreviewer=function(){},t.prototype.showPreviewer=function(){},t.prototype.hide=function(){this.ui.style.display="none"},t.prototype.show=function(){this.ui.style.display="block"},t.prototype._resize=function(e,t,n){var o=this.ui,r=void 0;switch(r=this.enableUniform?a.default.ADJUST_MODE_UNIFORM:u.default.isShift?a.default.ADJUST_MODE_SQUARE:a.default.ADJUST_MODE_FREE,e){case c.DIR_NORTH:i(e,this.shape.adjustNorth(n,r));break;case c.DIR_SOUTH:i(e,this.shape.adjustSouth(n,r));break;case c.DIR_EAST:i(e,this.shape.adjustEast(t,r));break;case c.DIR_WEST:i(e,this.shape.adjustWest(t,r));break;case c.DIR_NORTH_WEST:i(e,this.shape.adjustNorthWest(t,n,r,this.minUniformSize));break;case c.DIR_NORTH_EAST:i(e,this.shape.adjustNorthEast(t,n,r,this.minUniformSize));break;case c.DIR_SOUTH_WEST:i(e,this.shape.adjustSouthWest(t,n,r,this.minUniformSize));break;case c.DIR_SOUTH_EAST:i(e,this.shape.adjustSouthEast(t,n,r,this.minUniformSize));break;default:throw new Error("Incorrect direction: "+e)}function i(e,t){if(e!==t){var n=o.querySelector("[direction="+t+"]"),r=o.querySelector("[direction="+e+"]");n.setAttribute("direction",e),r.setAttribute("direction",t)}}},t.prototype.active=function(e,t,n){this.init(),this._applyAnnotBoundary(t);var o=e instanceof Element?e:e.get(0);this.ui.parentElement!==o&&o.appendChild(this.ui),this.shape=new a.default({left:t.left,top:t.top,right:t.left+t.width,bottom:t.top+t.height,box:n,expansion:this.expansion}),this.originMargin=this.shape.marginBox,this._updatePreviewer(),this._resizeSizeBox(),this.updateRotateDegreeBox(this.rotateDegree),this.isActive=!0},t.prototype.updateRotateDegreeBox=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;(e=parseInt(e))>180&&(e-=360),e*=-1,this.rotateDegreeBox&&(this.rotateDegreeBox.innerHTML=e+"Â°",this.rotateDegreeBox.style.transform="rotate("+e+"deg)")},t.prototype.updateBoundary=function(e,t){Object.assign(this.shape.boundary,e),this._applyAnnotBoundary(this.shape.boundary),t&&this.updateBoundaryBox(t),this._updatePreviewer()},t.prototype.setMargin=function(e){e&&this.shape&&this.shape.setMargin(e)},t.prototype.updateBoundaryBox=function(e){this.shape.setBoundaryBox(e)},t.prototype.getCurrentShape=function(){return this.shape.getShape()},t.prototype.getAdjustingShape=function(){return this.shape.getAdjustShape()},t.prototype.getAdjustedOffset=function(){var e=this.getAdjustedRectDiff();return{offsetLeft:e.left,offsetTop:e.top}},t.prototype.getAdjustedRectDiff=function(){return f.default.subtract(this.shape.getAdjustRect(),this.shape.getRect())},t.prototype.deactive=function(){this.ui.parentNode&&this.ui.parentNode.removeChild(this.ui),this.isActive=!1},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.disable(),this.ui.parentNode&&this.ui.parentNode.removeChild(this.ui)},t.prototype._applyAnnotBoundary=function(e){var t=e.left,n=e.top,o=e.width,r=e.height,i=this.expansion;this.ui.style.cssText+="\n            width: "+(o+(i.left+i.right))+"px;\n            height: "+(r+(i.top+i.bottom))+"px;\n            left: "+(t-i.left)+"px;\n            top: "+(n-i.top)+"px;\n            "},t.prototype._bindRotateEvents=function(){var e=this,t=this.ui.querySelector(".fv-shape-rotate-handle"),n=function(t){e.isRotateStarted=!0,t.stopPropagation()};t.addEventListener("pointerstart",n),t.addEventListener("mousedown",n),t.addEventListener("touchstart",n);var o=new s.Manager(t);o.add(new s.Pan({direction:s.DIRECTION_ALL}));o.on("panstart",(function(t){e.isDisabled||(e.onBeforeRotateStart(),e.rotateStart())})),o.on("panend",(function(t){t.deltaX,t.deltaY;e.isDisabled||(e.rotateEnd(),e.onAfterRotateEnd())})),o.on("pancancel",(function(e){b.debug("rotate c")})),o.on("panmove",(function(t){t.deltaX,t.deltaY;var n=t.center;!e.isDisabled&&e.isRotateStarted&&e.rotating(n.x,n.y)}))},t.prototype.trigger=function(e,t){var n=this.emitter;n&&n.emit(e,t)},t.prototype.setSnapGrid=function(e){this.snapGrid=e},t.prototype.getSnapGrid=function(){return this.snapGrid},t.prototype.getSnapMaxRect=function(e){if(!e)return e;var t=this.getSnapGrid();if(!t)return e;var n=e.left,o=e.right,r=e.top,i=e.bottom,a=t.offsetLeft,s=t.offsetTop,c=t.subLineWidth,u=t.subLineHeight,l=t.maxWidth,f=t.maxHeight,p=(n-a)%c,d=(r-s)%u;return p<0&&(p+=a),o+=Math.abs((o-a)%c-c)%c,d<0&&(d+=s),i+=Math.abs((i-s)%u-u)%u,{left:n-=p,right:o=Math.min(l,o),top:r-=d,bottom:i=Math.min(f,i)}},t.prototype.getSnapRect=function(e){if(!e)return e;var t=this.getSnapGrid();if(!t)return e;var n=t.maxWidth,o=t.maxHeight,r=e.left,i=e.right,a=e.top,s=e.bottom;if(r<=0||a<=0||i>=n||s>=o)return e;var c=t.offsetLeft,u=t.offsetTop,l=t.subLineWidth,f=t.subLineHeight,p=(r-c)%l,d=Math.abs(p-l)%l,h=(i-c)%l,g=Math.abs(h-l)%l,m=(a-u)%f,v=Math.abs(m-f)%f,y=(s-u)%f,b=Math.abs(y-f)%f,w=Math.min(p,h),_=Math.min(d,g),P=Math.min(m,y),O=Math.min(v,b);return w<_?(r-=w,i-=w):(r+=_,i+=_),P<O?(a-=P,s-=P):(a+=O,s+=O),{left:r,right:i,top:a,bottom:s}},t.prototype.getDirectionSnapRect=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.lastDirection;if(this.lastDirection=t,!e)return e;var n=this.getSnapGrid();if(!n)return e;var o=n.offsetLeft,r=n.offsetTop,i=n.subLineWidth,a=n.subLineHeight,s=n.maxWidth,u=n.maxHeight,l=e.left,f=e.right,p=e.top,d=e.bottom;if(l<=0||p<=0||f>=s||d>=u)return e.left=Math.max(0,l),e.right=Math.min(s,f),e.top=Math.max(0,p),e.bottom=Math.min(u,d),e;var h=(l-o)%i,g=Math.abs((f-o)%i-i)%i,m=(p-r)%a,v=Math.abs((d-r)%a-a)%a;switch(t){case c.DIR_NORTH:p-=m;break;case c.DIR_SOUTH:d+=v;break;case c.DIR_EAST:f+=g;break;case c.DIR_WEST:l-=h;break;case c.DIR_NORTH_WEST:l-=h,p-=m;break;case c.DIR_NORTH_EAST:f+=g,p-=m;break;case c.DIR_SOUTH_WEST:l-=h,d+=v;break;case c.DIR_SOUTH_EAST:f+=g,d+=v;break;default:throw new Error("Incorrect direction: "+t)}return{left:l,right:f,top:p,bottom:d}},t.prototype.getShapeFromRect=function(e){if(e){var t=e.left,n=e.top;return{left:t,top:n,width:e.right-t,height:e.bottom-n}}},t}(d.default);t.default=P},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={OBJECT_URL:"object-url-creation"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(30));function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=function(e){function t(n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return i.pdfUI=n,i.$options=o,i.depends=r,i}return i(t,e),t.depends=function(){return[]},t.load=function(e){(0,o.default)()},t.prototype.construct=function(e,t){},t.prototype.link=function(){},t}(r(n(13)).default);t.default=a},function(e,t,n){"use strict";function o(e){var t=new FileReader;return new Promise((function(n,o){t.onload=function(){n(new Uint8Array(t.result))},t.onerror=function(e){return o(e)},t.readAsArrayBuffer(e)}))}function r(e,t){var n=new FileReader;return new Promise((function(o,r){n.onload=function(){o(n.result)},n.onerror=function(e){return r(e)},n.readAsText(e,t)}))}function i(e,t){for(var n=0;n<t.length;n++)if(e[n]===t.charCodeAt(n))return!0;return!1}function a(e,t){return r(e.slice(0,4)).then((function(e){return"%PDF"===e}))}function s(e){return"%PDF"===Array.from(e).slice(0,4).map((function(e){return String.fromCharCode(e)})).join("")}function c(e,t){return o(e.slice(0,35)).then((function(e){return p(e,t)?l():h(e,t)?f():d(e,t)}))}n.r(t),n.d(t,"matchFileHead",(function(){return i})),n.d(t,"isPDFFile",(function(){return a})),n.d(t,"isPDF",(function(){return s})),n.d(t,"isVideoFile",(function(){return c})),n.d(t,"supportsH264Video",(function(){return l})),n.d(t,"supportsOGGVideo",(function(){return f})),n.d(t,"isValidMP4",(function(){return p})),n.d(t,"isValidWebM",(function(){return d})),n.d(t,"isValidOGGVideo",(function(){return h})),n.d(t,"isTheoraCodec",(function(){return g})),n.d(t,"supportsMP3",(function(){return v})),n.d(t,"supportsOGGAudio",(function(){return y})),n.d(t,"isAudioFile",(function(){return b})),n.d(t,"isValidMP3",(function(){return w})),n.d(t,"isValidOGGAudio",(function(){return _})),n.d(t,"isVorbisCodec",(function(){return P})),n.d(t,"isImageFile",(function(){return O})),n.d(t,"isJPEG",(function(){return E})),n.d(t,"isPNG",(function(){return x})),n.d(t,"isGIF",(function(){return C})),n.d(t,"isBMP",(function(){return A})),n.d(t,"isSVG",(function(){return S})),n.d(t,"isFDF",(function(){return D})),n.d(t,"isXDP",(function(){return T})),n.d(t,"isPlainText",(function(){return R}));var u=document.createElement("video");function l(){return!!u.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"')}function f(){return!!u.canPlayType&&!!u.canPlayType('video/ogg; codecs="theora, vorbis"')}function p(e,t){return!!t.match(/\.mp4$/)}function d(e,t){return!!t.match(/\.webm$/)}function h(e,t){return 79===e[0]&&103===e[1]&&103===e[2]&&83===e[3]&&g(e)}function g(e){return 116===e[29]&&104===e[30]&&101===e[31]&&111===e[32]&&114===e[33]&&97===e[34]}var m=document.createElement("audio");function v(){return!!m.canPlayType("audio/mp3")}function y(){return!!m.canPlayType&&!!m.canPlayType('audio/ogg; codecs="vorbis"')}function b(e,t){return o(e.slice(0,35)).then((function(e){return w(e,t)?v():!!_(e,t)&&y()}))}function w(e,t){return!!t.match(/\.mp3$/)}function _(e,t){return 79===e[0]&&103===e[1]&&103===e[2]&&83===e[3]&&P(e)}function P(e){return 118===e[29]&&111===e[30]&&114===e[31]&&98===e[32]&&105===e[33]&&115===e[34]}function O(e,t){return o(e.slice(0,4)).then((function(e){return E(e)||x(e)||C(e)||A(e)||S(t)}))}function E(e){return 255===e[0]&&216===e[1]&&255===e[2]}function x(e){return 137===e[0]&&80===e[1]&&78===e[2]&&71==e[3]}function C(e){return 71===e[0]&&73===e[1]&&70===e[2]&&56===e[3]}function A(e){return 66===e[0]&&77===e[1]}function S(e){return/\.svg$/.test(e)}function D(e){return r(e.slice(0,4)).then((function(e){return"%FDF"===e}))}function T(e){return r(e.slice(0,4)).then((function(e){return"%XDP"===e}))}function I(e){return e>=0&&e<=6||e>=14&&e<=31}function R(e,t){return/\.xfdf/.test(t)?Promise.resolve(!1):D(e).then((function(t){return!t&&T(e).then((function(t){if(t)return!1;var n=e.size>1024?e.slice(0,1024):e;return"function"==typeof e.stream?function(e){var t=e.stream().getReader();return t.read().then((function e(n){if(n.done)return!0;for(var o=n.value,r=0;r<o.length;r++)if(I(o[r]))return!1;return t.read().then(e)}))}(n):function(e){var t=Math.ceil(e.size/512),n=function(e){for(var t=0;t<e.length;t++)if(I(e[t]))return!1;return!0};return Array(t).fill((function(e){return o(e).then(n)})).reduce((function(t,n,o){return t.then((function(t){if(t){var r=512*o,i=Math.min(r+512,e.size),a=e.slice(r,i);return n(a)}return!1}))}),Promise.resolve(!0))}(n)}))}))}},function(e,t,n){var o=n(46),r=n(126);e.exports=n(41)?function(e,t,n){return o.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var o=n(23),r=n(68),i=n(78),a=n(127)("src"),s=n(608),c=(""+s).split("toString");n(87).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var u="function"==typeof n;u&&(i(n,"name")||r(n,"name",t)),e[t]!==n&&(u&&(i(n,a)||r(n,a,e[t]?""+e[t]:c.join(String(t)))),e===o?e[t]=n:s?e[t]?e[t]=n:r(e,t,n):(delete e[t],r(e,t,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[a]||s.call(this)}))},function(e,t,n){var o=n(0),r=n(25),i=n(98),a=/"/g,s=function(e,t,n,o){var r=String(i(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(o).replace(a,"&quot;")+'"'),s+">"+r+"</"+t+">"};e.exports=function(e,t){var n={};n[e]=t(s),o(o.P+o.F*r((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})),"String",n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),r=l(n(205)),i=(l(n(268)),l(n(19))),a=n(12),s=l(n(834)),c=l(n(32)),u=l(n(38));function l(e){return e&&e.__esModule?e:{default:e}}var f=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._isEmpty=!t,this.info=t||{},this.page=n,this.api=n.api;var o=this.engine=n.engine;this.eventEmitter=o.eventEmitter,this.id=t.id}return e.prototype.destroy=function(){this.info=null,this.page=null,this.api=null,this.eventEmitter=null},e.prototype.checkModidyPerm=function(){if("widget"!=this.info.type){if(!this.page.doc.checkPermission(c.default.annotForm))throw new Error("Permission error")}else if(!this.page.doc.checkPermission(c.default.fillForm|c.default.annotForm))throw new Error("Permission error")},e.prototype.hasModifyPermission=function(){return"widget"==this.info.type?this.page.doc.checkPermission(c.default.fillForm|c.default.annotForm):this.page.doc.checkPermission(c.default.annotForm)},e.prototype.isEmpty=function(){return this._isEmpty},e.prototype.getInfo=function(){return this.info},e.prototype.getId=function(){return this.info.id},e.prototype.getUniqueID=function(){return this.getId()},e.prototype.setUniqueID=function(e){var t=this,n=this.getPDFPage(),o=n.getPDFDoc(),r=this.getId();return this.page.doc.api.setUniqueId(o.getId(),n.getId(),r,e).then((function(o){return o?(t.info.id=e,t.id=e,n.changeAnnotId(r,e),t.update(u.default.uniqueIDUpdated).then((function(){return t.eventEmitter.emit(i.default.annotationIDUpdated,e,r,t,n),o}))):o}))},e.prototype.getPDFPage=function(){return this.page},e.prototype.getPage=function(){return this.getPDFPage()},e.prototype.getType=function(){return this.info.type},e.prototype.getTitle=function(){return this.info.title},e.prototype.isMarkup=function(){return this.info.isMarkup},e.prototype.isDeleted=function(){return this.info.isDeleted},e.prototype.getRect=function(){var e=this.info.rect;return new s.default(e.left,e.bottom,e.right,e.top)},e.prototype._setRect=function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.info.rect=e;var o=this.getPDFPage(),r=o.getPDFDoc();return this.page.doc.api.setAnnotRect(r.getId(),o.getId(),this.getId(),e).then((function(e){return e&&n?t.update(u.default.rectUpdated).then((function(){return t.eventEmitter.emit(i.default.annotationAppearanceUpdated,[t],t.getPDFPage()),e})):e}))},e.prototype.setRect=function(e){var t=this;this.info.rect=e;var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setAnnotRect(o.getId(),n.getId(),this.getId(),e).then((function(e){return e?t.update(u.default.rectUpdated).then((function(e){return t.eventEmitter.emit(i.default.annotationAppearanceUpdated,[t],t.getPDFPage()),!0})):e}))},e.prototype.moveTo=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.left,o=t.top,r=t.action,a=Object.assign({},this.info.rect),s=a.right,c=a.bottom,l=n-a.left,f=o-a.top;this.info.rect={left:n,top:o,right:s+l,bottom:c+f};var p=this.getPDFPage(),d=p.getPDFDoc(),h=d.getId(),g=p.getId(),m=this.getId();return this.page.doc.api.moveAnnotTo(h,g,m,{left:n,top:o}).then((function(e){return p.getAnnotsByIdArray(e)})).then((function(t){return Promise.all(t.map((function(e){return e._update()}))).then((function(n){e.eventEmitter.emit(i.default.annotationUpdated,t,p,u.default.rectUpdated),"move"==r&&e.eventEmitter.emit(i.default.annotationMovedPosition,t,p,e)}))}))},e.prototype.getDeviceRect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.page.getDeviceRect(this.getRect(),e,t);if(16&this.info.flag){var o=this.page.getDevicePoint([this.info.rect.left,this.info.rect.top],e,t);return{left:o[0],top:o[1],right:o[0]+n.right-n.left,bottom:o[1]+n.bottom-n.top}}return n},e.prototype.getDeviceInnerRect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.page.getDeviceRect(this.getInnerRect(),e,t)},e.prototype.getContent=function(){return this.info.content},e.prototype.setContent=function(e){var t=this;return this.checkModidyPerm(),this._setContent(e).then((function(n){return t.info.content=e,t.eventEmitter.emit(i.default.annotationUpdated,[t],t.getPDFPage(),u.default.contentUpdated),t}))},e.prototype._setContent=function(e){var t=this.getPDFPage(),n=t.getPDFDoc();return this.page.doc.api.setAnnotContent(n.getId(),t.getId(),this.getId(),e)},e.prototype.getBorderColor=function(){return this.info.borderColor},e.prototype.setBorderColor=function(e){var t=this;this.checkModidyPerm(),isNaN(e)&&(e=(0,a.colorConvertor)(e,"int",1));var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setAnnotBorderColor(o.getId(),n.getId(),this.getId(),e).then((function(o){return o?(0===e&&(t.info.hasBorderColor=!1),t.update(u.default.borderColorUpdated).then((function(){t.isGrouped&&t.isGrouped()&&t.getGroupElements().map((function(e){e!=t&&t.eventEmitter.emit(i.default.annotationAppearanceUpdated,[e],n)}));return t.eventEmitter.emit(i.default.annotationAppearanceUpdated,[t],n),o}))):o}))},e.prototype.getBorderStyle=function(){return this.info.borderInfo.style},e.prototype.getBorderStyleWithParam=function(){var e=this.info.borderInfo,t=e.style,n=e.cloudIntensity,r=e.dashes,i=void 0;switch(t){case o.BORDER_STYLE.SOLID:i=[];break;case o.BORDER_STYLE.CLOUDY:i=n;break;case o.BORDER_STYLE.DASHED:i=r}return{style:t,param:i}},e.prototype.getBorderInfo=function(){return Object.assign({},this.info.borderInfo)},e.prototype.setBorderInfo=function(e){var t=this;this.checkModidyPerm();var n=this.getType();if(this.getQuadPoints||"caret"===n||"text"===n)return Promise.resolve();var o=JSON.parse(JSON.stringify(this.info.borderInfo||{}));e=this.info.borderInfo=Object.assign(o,e);var r=this.getPDFPage(),a=r.getPDFDoc();return 1===e.style&&0===e.dashes.length&&(e.dashes=[2,2]),5===e.style&&e.cloudIntensity>2&&(e.cloudIntensity=2),this.page.doc.api.setAnnotBorderInfo(a.getId(),r.getId(),this.getId(),e).then((function(e){if(5===t.info.borderInfo.style)return t._update()})).then((function(e){return t.eventEmitter.emit(i.default.annotationUpdated,[t],r,u.default.borderInfoUpdated),t.eventEmitter.emit(i.default.annotationAppearanceUpdated,[t],r),!0}))},e.prototype.setBorderStyle=function(e,t){var n=this,o=this.info.borderInfo;switch(o.style=e,e){case 1:o.dashes=t;break;case 5:o.cloudIntensity=t}var r=this.getPDFPage(),a=r.getPDFDoc();return this.page.doc.api.setAnnotBorderStyle(a.getId(),r.getId(),this.getId(),e,t).then((function(e){return r.getAnnotsByIdArray(e)})).then((function(e){for(var t=[],n=e.length;n--;)t.push(e[n]._update());return Promise.all(t)})).then((function(e){return n.eventEmitter.emit(i.default.annotationUpdated,e,r,u.default.borderStyleUpdated),n.eventEmitter.emit(i.default.annotationAppearanceUpdated,e,r),!0}))},e.prototype.getBorderDashes=function(){return Object.assign([],this.info.borderInfo.dashes)},e.prototype.getBorderWidth=function(){var e=this.info.borderInfo.width;return void 0===e?1:+e},e.prototype.setBorderWidth=function(e){var t=this,n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setAnnotBorderWidth(o.getId(),n.getId(),this.getId(),e).then((function(e){return t._update().then((function(t){return e}))})).then((function(e){return e&&(t.eventEmitter.emit(i.default.annotationUpdated,[t],n,u.default.borderWidthUpdated),t.eventEmitter.emit(i.default.annotationAppearanceUpdated,[t],n)),e}))},e.prototype.getCloudIntensity=function(){return this.info.borderInfo.cloudIntensity||0},e.prototype.reviseSummary=function(e){return Promise.resolve(this)},e.prototype.rectIsEmpty=function(){return this.info.rectIsEmpty},e.prototype.update=function(e){var t=this;return this._update().then((function(){return e&&t.eventEmitter.emit(i.default.annotationUpdated,[t],t.getPDFPage(),e),t}))},e.prototype._update=function(){var e=this,t=this.getPDFPage(),n=t.getPDFDoc();return this.page.doc.api.getAnnot(n.getId(),t.getId(),this.getId()).then((function(t){return e.updateInfo(t),e}))},e.prototype._updateMore=function(){},e.prototype.getFlags=function(){return this.info.flag},e.prototype.getIndex=function(){return this.info.index},e.prototype.setFlags=function(e,t){var n=this;this.checkModidyPerm(),this.info.flag=e;var o=this.getPDFPage(),r=o.getPDFDoc();return this.page.doc.api.setAnnotFlag(r.getId(),o.getId(),this.getId(),e).then((function(e){return e&&(t||(n.eventEmitter.emit(i.default.annotationUpdated,[n],o,u.default.flagsUpdated),n.eventEmitter.emit(i.default.annotationAppearanceUpdated,[n],o))),e}))},e.prototype.setFlagValue=function(e,t){return this.setFlags(e,t)},e.prototype.getModifiedDateTime=function(){var e=this.info.modifiedTimestamp;return e<0?null:new Date(e)},e.prototype.setModifiedDateTime=function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setModifiedDateTime(o.getId(),n.getId(),this.getId(),e).then((function(e){return t.update(u.default.modifiedDateTimeUpdated)}))},e.prototype.exportToJSON=function(){var e=(0,a.colorConvertor)(16777215&this.info.borderColor,"#"),t=this.info.flag,n=[];for(var i in o.AnnotFlagsName)t&1<<parseInt(i)&&n.push(o.AnnotFlagsName[i]);n=n.join(",");var s=(0,r.default)(new Date(this.info.modifiedTimestamp),"D:yyyyMMddhhmmssTZ","'"),c=this.info.id,u=this.page.getIndex(),l=this.info.rect,f=l.left+","+l.bottom+","+l.right+","+l.top,p=this.info.content,d=this.info.borderInfo,h=this.info.type,g=this.info.customEntries,m={type:h,color:e,flags:n,date:s,name:c,page:u,rect:f,contents:p,width:d.width,customEntries:g};switch(d.style){case o.BORDER_STYLE.SOLID:m.style="solid";break;case o.BORDER_STYLE.DASHED:m.style="dashed",m.dashPhase=d.dashPhase,m.dashes=d.dashes.join(",");break;case o.BORDER_STYLE.UNDERLINE:m.style="underline";break;case o.BORDER_STYLE.BEVELED:m.style="beveled";break;case o.BORDER_STYLE.INSET:m.style="inset";break;case o.BORDER_STYLE.CLOUDY:m.style="cloudy",m.intensity=d.cloudIntensity}return m},e.prototype.updateInfo=function(e){this._isEmpty=!e,this.info=e,this._updateMore(),this.action&&e.action&&(this.action.info=e.action)},e.prototype.getIntent=function(){return""},e.prototype.setCustomEntries=function(e,t){this.info.customEntries=this.info.customEntries||{},this.info.customEntries[e]=t},e.prototype.setDictionaryEntry=function(e,t){var n=this;return this._setDictionaryEntry(e,t).then((function(e){return e&&n.eventEmitter.emit(i.default.annotationUpdated,[n],n.getPDFPage(),u.default.addDictionary),e}))},e.prototype._setDictionaryEntry=function(e,t){var n=this,o=this.getPDFPage(),r=o.getPDFDoc();return this.page.doc.api.setDictionaryEntry(r.getId(),o.getId(),this.getId(),e,t).then((function(o){return o&&n.setCustomEntries(e,t),o}))},e.prototype.getDictionaryEntry=function(e){return this._getDictionaryEntry(e)},e.prototype._getDictionaryEntry=function(e){var t=this.getPDFPage(),n=t.getPDFDoc();return this.page.doc.api.getDictionaryEntry(n.getId(),t.getId(),this.getId(),e)},e.prototype.resetAppearanceStream=function(){var e=this.getPDFPage(),t=e.getPDFDoc();return this.page.doc.api.resetAppearanceStream(t.getId(),e.getId(),this.getId())},e}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(71)),r=a(n(19)),i=a(n(38));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=function(){function e(){s(this,e),this.init.apply(this,arguments)}return e.prototype.init=function(){if(1==arguments.length)this.info={type:arguments[0]};else{var e=Array.prototype.slice.call(arguments),t=e[0],n=e[1],o=e[2],r=(e[3],e[4]),i=e[5];this.info=t,this.factory=n,this.doc=o,this.host=i,this.eventEmitter=r}this.initSubAction()},e.prototype.checkInserted=function(){if(!this.doc.api)throw new Error("Please insert this action to a host first.")},e.prototype.initSubAction=function(){var e=this;this.subAction=[],this.info.subAction&&this.info.subAction.forEach((function(t){e.subAction.push(e.factory.createAction(t,e.doc,e.doc.api,e.eventEmitter,e.host))}))},e.prototype.appendSubAction=function(e){this.subAction.push(e),this.info.subAction=this.info.subAction||[],this.info.subAction.push(e.info)},e.prototype.getType=function(){return this.info.type},e.prototype.getSubActionCount=function(){return this.info.subAction.length||0},e.prototype.getSubAction=function(e){return this.subAction[e]},e.prototype.insertSubAction=function(t,n){var o=this;if(this.checkInserted(),"number"!=typeof t)throw new Error("param error. Only number is available.");return t=Math.max(0,Math.min(t,this.getSubActionCount())),n instanceof e&&(n=n.getType()),this.doc.api.insertSubAction(this.doc.getId(),this.info.objNumber,t,n).then((function(e){return o.updateAction(e),e}))},e.prototype.setSubAction=function(t,n){var o=this;if(this.checkInserted(),"number"!=typeof t)throw new Error("param error. Only number is available.");var r=this.getSubActionCount();if(0===r)throw new Error("Cannot be set without sub action.");return t=Math.max(0,Math.min(t,r-1)),n instanceof e&&(n=n.getType()),this.doc.api.setSubAction(this.doc.getId(),this.info.objNumber,t,n).then((function(e){return o.updateAction(e),e}))},e.prototype.removeAllSubActions=function(){var e=this;if(this.doc.api)return this.doc.api.removeAllSubActions(this.doc.getId(),this.info.objNumber).then((function(t){e.updateAction(t)}))},e.prototype.removeSubAction=function(e){var t=this;if(this.doc.api){if("number"!=typeof e)throw new Error("param error. Only number is available.");var n=this.getSubActionCount();if(0===n)throw new Error("Cannot be remove without sub action.");return e=Math.max(0,Math.min(e,n-1)),this.doc.api.removeSubAction(this.doc.getId(),this.info.objNumber,e).then((function(e){t.updateAction(e)}))}},e.prototype.setActionData=function(e){var t=this;return this.doc.api.setActionData(this.doc.getId(),this.info.objNumber,e).then((function(e){t.updateAction(e)}))},e.prototype.updateAction=function(e){Object.assign(this.info,e),this.initSubAction(),this.host&&(this.eventEmitter.emit(r.default.actionUpdated,this.host),this.host instanceof o.default&&this.eventEmitter.emit(r.default.annotationUpdated,[this.host],this.host.getPDFPage(),i.default.actionDataUpdated))},e.prototype.checkOutData=function(e){return!0},e.prototype.exportToJson=function(){return{type:this.getType()}},e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={PageOpened:0,PageClosed:1,DocWillClose:2,DocWillSave:3,DocSaved:4,DocWillPrint:5,DocPrinted:6,FieldKeyStroke:7,FieldWillFormat:8,FieldValueChanged:9,FieldRecalculateValue:10,AnnotCursorEnter:11,AnnotCursorExit:12,AnnotMouseButtonPressed:13,AnnotMouseButtonReleased:14,AnnotReceiveInputFocus:15,AnnotLoseInputFocus:16,AnnotPageOpened:17,AnnotPageClosed:18,AnnotPageVisible:19,AnnotPageInvisible:20}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=v(n(82)),r=v(n(40)),i=v(n(4)),a=(n(33),v(n(2))),s=n(212),c=v(n(173)),u=v(n(1)),l=v(n(177)),f=v(n(891)),p=v(n(430)),d=v(n(432)),h=n(12),g=v(n(178)),m=v(n(21));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var w=s.defaultAnnotComponentKey,_=(0,s.getCommonContextMenu)(".fv__pdf-page-annot-handler-rect"),P=void 0,O=function(e){function t(n,o,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r,i));s.name="markup",s.eUi=o,s.$ui.addClass("pdf-page-markup-annot-container"),s.$handler.addClass("pdf-page-markup-annot-handler-container"),s.apRenderer=s.generateApRenderer();var c=s.pdfViewer.i18n;return a.default.i18n=function(e){return c.t(e)},s.currentRenderDefer=(0,m.default)(),s.currentRenderDefer.isPending=!0,s}return b(t,e),t.getDefaultContextMenuConfig=function(){return _},t.setContextMenuConfig=function(e){P=e},t.prototype.isHTMLSimulate=function(e){return"canvas"===this.pdfViewer.config.annotRenderingMode[e||this.name]},t.prototype.generateApRenderer=function(){return new g.default(this)},t.prototype.getRenderPromise=function(){return this.currentRenderDefer.promise},t.prototype.getTileConfig=function(e,t){var n=this.pdfViewer,o=n.getSmartScale(e),r=n.config.tileSize,i=this.annot,a=i.getDeviceRect(1,t),s=i.getDeviceRect(o,t),c=s.right-s.left,u=s.bottom-s.top;return this.getAnnotFlag().checkNoZoom()&&(c=a.right-a.left,u=a.bottom-a.top),[Math.ceil(u/r),Math.ceil(c/r),c+=1,u+=1,r,o,e,t,a.left,a.top]},t.prototype.render=function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,r=this.annot,i=this.getAnnotFlag();return this.scale=n,this.rotate=o,this.currentRenderDefer.isPending||(this.currentRenderDefer=(0,m.default)()),i.checkNoView()||i.checkInvisible()||i.checkHidden()||r.isEmpty()||r.isDeleted()||r.rectIsEmpty()?(this.$ui.addClass("fv__markup-annot-invisible"),this.currentRenderDefer.resolve(),Promise.resolve()):(this.$ui.removeClass(["fv__annot-flags-nozoom","fv__markup-annot-invisible"]),this.apRenderer.render(n,o,this.visibleRect).then((function(){if(!t.isDestroyed){if(i.checkNoZoom()||"text"===r.getType()){t.$ui.addClass("fv__annot-flags-nozoom");var e,n;n=(e=t.annot.getRect()).top-e.bottom;var o=e.right-e.left;t.$ui.css({width:o+"px",height:n+"px"}).find(".fv__tiles-canvas").css({width:"auto",height:"auto"})}var a=r.getPopup();a&&a.getOpenStatus&&a.getOpenStatus()?t.showPopup():t.hidePopup()}})).finally((function(){t.currentRenderDefer.resolve(),e.prototype.afterRender.call(t)})))},t.prototype.afterRender=function(e){e.transformed&&this.isActive&&this.active()},t.prototype.redraw=function(e){if(this.activeRect(),e&&this.apRenderer)try{this.apRenderer.clearCache()}catch(e){}return this.render()},t.prototype.active=function(){e.prototype.active.call(this),this.$handler.addClass("active")},t.prototype.activeMore=function(e,t){},t.prototype.activeMoreItem=function(){},t.prototype.unActive=function(){var t=this;this.isActive&&(e.prototype.unActive.call(this),this.$handler.removeClass("active"),this.getGroupRenders().map((function(e){e.component!=t&&e.component.unActive()})))},t.prototype.unActiveMore=function(){},t.prototype.renderDestroy=function(){this.apRenderer.destry(),this.$handler.remove()},t.prototype.showReplyDialog=function(){var e=this;this.updateDeleteStatus(!0);var t=this.annot,n={},o=t.getGroupHeader()||t,r=n.content=o.getContent(),a=n.replies=[];this.iterationGetRepliesInfo(o,a);var s=a.length,u=(0,f.default)(n),l=(0,i.default)(u);this.$replyDialog=l;var h=l[0],g=l.find(".fv__btn-reply")[0],m=l.find(".reply-textarea")[0],v=!1;this.replyDisabled()?(l.find(".fv__btn-reply").addClass("fv__btn-replay-disabled"),l.find(".content-textarea").prop({disabled:!0}),l.find(".reply-textarea").prop({disabled:!0})):(l.find(".fv__btn-reply").removeClass("fv__btn-replay-disabled"),l.find(".content-textarea").prop({disabled:!1}),l.find(".reply-textarea").prop({disabled:!1})),l.on("click",".fv__btn-close",(function(){e.hideReplyDialog()})).on("change",".content-textarea",(function(t){var n=t.target,o=n.value;e.setContent(o).then((function(e){if(e)return r=o;n.value=r}))})).on("input",".reply-textarea",(function(e){g.disabled=!m.value})).on("click",".fv__btn-reply",(function(t){if(!e.replyDisabled()&&!v){g.disabled=!0,v=!0;var n=m.value;e.addReply(n).then((function(t){var n={content:t.getContent()},o=n.replies=[];e.iterationGetRepliesInfo(t,o),s?l.find(".fv__replies_list").first().append((0,d.default)(n)):l.find(".fv__dialog-replies-block").first().html((0,p.default)([n])),s=!0,m.value="",g.disabled=!0,v=!1}),(function(){g.disabled=!1}))}})),l.appendTo(document.body),c.default.registerDialog(h),h.showModal()},t.prototype.hideReplyDialog=function(){var e=this.$replyDialog;e&&(e[0].close(),e.remove(),this.$replyDialog=null),this.updateDeleteStatus(!1)},t.prototype.addReply=function(e){var t=this;return this.annot.addReply(e).then((function(e){return t.pdfViewer.eventEmitter.emit(u.default.updateActionAnnotation,t),e}))},t.prototype.showContextMenu=function(e,t){return!!this.contextMenu&&(this.contextMenu.setCurrentTarget(this),this.contextMenu.showAt(e,t))},t.prototype.hideContextMenu=function(){},t.prototype.getPropertyOptions=function(){var e=this.annot;return{color:(0,h.colorConvertor)(e.getBorderColor(),"#"),opacity:e.getOpacity(),borderStyle:!1,disabled:this.propertyDisabled()}},t.prototype.showPropertiesDialog=function(){this.$propertiesControl=new l.default(this),this.updateDeleteStatus(!0)},t.prototype.hidePropertiesDialog=function(){this.$propertiesControl&&this.$propertiesControl.close(),this.bindEvent(),this.updateDeleteStatus(!1)},t.prototype.updateRender=function(){return Promise.resolve()},t.prototype.setContent=function(e){var t=this;return this.annot.setContent(e).then((function(e){return e&&t.pdfViewer.eventEmitter.emit(u.default.updateActionAnnotation,t),e}))},t.prototype.setColor=function(e){var t=this;return this.annot.setBorderColor(e).then((function(e){return e?t.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(u.default.updateActionAnnotation,t),e})):e}))},t.prototype.setOpacity=function(e){var t=this;return e==this.annot.getOpacity()?Promise.resolve(!0):this.annot.setOpacity(e).then((function(e){return e?t.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(u.default.updateActionAnnotation,t),e})):e}))},t.prototype.destroy=function(){this.hidePopup(),this.hidePropertiesDialog(),this.unBindEvent(),this.$propertiesControl=null,this.hideReplyDialog(),this.contextMenu&&this.contextMenu.destroy(),this.blankHammar&&this.blankHammar.destroy(),this.pdfViewer.deactivateElement(this),this.unActiveMore(),e.prototype.destroy.call(this),this.apRenderer.destroy(),this.eUi&&this.eUi.removeEventListener("mouseenter",this.annotTooltipMouseover),this.eUi=null,this.tooltip=null},t.prototype.remove=function(){this.destroy()},t.prototype.iterationGetRepliesInfo=function(e,t){for(var n=e.getReplies(),o=0,r=n.length;o<r;o++){var i=n[o];if(!i.isDeleted()){var a={content:i.getContent(),replies:[]};this.iterationGetRepliesInfo(i,a.replies),t.push(a)}}},t.prototype.removeAnnot=function(){var e=this;return this.getAppPermission().then((function(t){return t.ignorable()&&e.deleteDisabled()?Promise.resolve():t.isDeletable()?e.doRemoveAnnot():void 0})).then((function(t){var n=e.pdfViewer.getCurrentActivatable();return n&&n.remove&&n.remove(e),t}))},t.prototype.doRemoveAnnot=function(){var e=this,t=this.pdfViewer,n=t.eventEmitter,o=this.annot;return Promise.resolve((t.customs.removeAnnotBefore||r.default)(this)).then((function(t){if(n.emit(u.default.removeActionAnnotationBefore,e),!1!==t)return o.getPDFPage().removeAnnot(o).then((function(t){if(t)return n.emit(u.default.removeActionAnnotationSuccess,e);n.emit(u.default.removeActionAnnotationFailed,e)}),(function(){n.emit(u.default.removeActionAnnotationFailed,e)}))}))},t.prototype.removeAnnotRender=function(){this.renderDestroy(),this.parent().remove()},t.prototype.willRedraw=function(){e.prototype.willRedraw.call(this),this.apRenderer.willRender(),(this.$rect=this.$rect||this.rectInit()).get(0).willChange="left, top, width, height"},t.prototype.afterRedraw=function(){e.prototype.afterRedraw.call(this),this.apRenderer.afterRender(),(this.$rect=this.$rect||this.rectInit()).get(0).willChange="auto"},t.prototype.activeRect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot,t=this.$rect=this.$rect||this.rectInit(),n=this.scale,o=this.rotate,r=e.getDeviceRect(n,o);t.css({left:r.left+"px",top:r.top+"px",width:r.right-r.left+"px",height:r.bottom-r.top+"px"})},t.prototype.rectInit=function(){var e=this.$handler,t=(0,i.default)(this.createRectDom());return e.append(t),this.contextMenuIsEnable()&&(this.contextMenu=this.pdfViewer.viewerUI.createContextMenu(this,e.get(0),this.getContextMenuConfig()),t.data(w,this)),t},t.prototype.rectSingleTap=function(){},t.prototype.rectDoubleTap=function(e){var t=this;this.getAppPermission().then((function(e){e.isEditable()&&t.showReplyDialog("comment")}))},t.prototype.createRectDom=function(){return(0,i.default)('<div class="fv__pdf-page-annot-handler-rect">')},t.prototype.doubleTapAnnot=function(){var e=this;this.getAppPermission().then((function(t){t.isEditable()&&e.showReplyDialog("comment")}))},t.prototype.getContextMenuConfig=function(){if(P)return P;var e=this.constructor.getDefaultContextMenuConfig();for(var t in e)switch(t){case"items":var n=e[t],o=this.pdfViewer.i18n;for(var r in n){var i=n[r];i.nameI18nKey&&(i.name=o.t(i.nameI18nKey))}}return e},t.prototype.getRelevanceRenders=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.parent("annotsRender"),n=this.annot.getGroupHeader()||this.annot,o=[],r=n.getPopup(),i=[],a=[],s=[];x(n,i),C(n,a),A(n,s),r&&o.push(r.getId()),o.push.apply(o,i),o.push.apply(o,a),o.push.apply(o,s);var c=n.isGrouped()?n.getGroupElements():[n];return o.push.apply(o,y(c.map((function(e){return e.getId()})))),e?o:o.map((function(e){return t.getAnnotRender(e)})).filter((function(e){return!!e}))},t.prototype.getGroupRenders=function(){var e=this.parent("annotsRender"),t=this.annot;return((t=t.getGroupHeader()||t).isGrouped()?t.getGroupElements():[t]).map((function(t){return e.getAnnotRender(t.getId())}))},t.prototype.getGroupRect=function(){var e=this.getGroupRenders();if(e.length>1){var t=e.map((function(e){return e.component.getRect()}));return{left:Math.min.apply(Math,y(t.map((function(e){return e.left})))),right:Math.max.apply(Math,y(t.map((function(e){return e.right})))),top:Math.min.apply(Math,y(t.map((function(e){return e.top})))),bottom:Math.max.apply(Math,y(t.map((function(e){return e.bottom}))))}}if(!e[0])return Object.assign({},{});var n=e[0].component.getRect();return Object.assign({},n)},t.prototype.showPopup=function(){},t.prototype.hidePopup=function(){},t.prototype.onDoubleTap=function(e){},t.prototype.invisibleRender=function(){this.apRenderer.invisibleRender()},t.prototype.getRenderingData=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,o=e.prototype.getRenderingData.call(this,t,n);return Object.assign(o,{opacity:this.annot.getOpacity(),tileConfig:this.getTileConfig(t,n)})},t.prototype.processShapeControlPermissionCtrl=function(e){var t=this,n=this.pdfViewer.getAnnotAuthorityManager();this.addDestroyHook(n.subscribe(this.annot,(function(n){if(!t.isDestroyed){!!t.groupMoveDisabled()||(n.ignorable()?t.moveDisabled():!n.isAdjustable())?e.disable():e.enable()}})))},t}(o.default);function E(e,t,n){var o=e[t](),r=o.length;if(!r)return n;for(var i=0;i<r;i++){var a=o[i];E(a,t,n),C(a,n),A(a,n),n.push(a.getId())}return n}function x(e,t){return E(e,"getReplies",t)}function C(e,t){return E(e,"getMarkedStates",t)}function A(e,t){return E(e,"getReviewStates",t)}t.default=O},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(223));n(1161);var r=n(14),i=(n(34),n(8),n(42),a(n(487)));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r));return i.backdrop=!1,i.modal=!1,i.focus=!1,i.appendTo=document.body,i.currentTarget=void 0,i}return s(t,e),t.getName=function(){return"contextmenu"},t.getMetadata=function(){return{options:{escape:{type:"string",defaultValue:"hide"},active:{type:"boolean",field:"isActive",defaultValue:!0}}}},t.prototype.render=function(){e.prototype.render.call(this),this.element.classList.add("fv__ui-contextmenu"),this.element.setAttribute("tabindex","-1")},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this);var n=function(e){for(var n=e.target;n;){if(n===t.element)return;n=n.parentElement}t.hide()},o="mousedown";r.isMobile&&(o="touchstart");var i={capture:!0};document.addEventListener(o,n,i);var a=function(e){27===e.keyCode&&t.isVisible&&"hide"===t.escape&&(t.hide(),e.preventDefault()),e.stopPropagation()};this.element.addEventListener("keyup",a),this.addDestroyHook((function(){document.removeEventListener(o,n,i),t.element.removeEventListener("keyup",a)}))},t.prototype.showAt=function(e,t){var n=this;if(!this.isActive)return!1;var o=function(){if(!n.isDestroyed){n.show();var o=n._limitPosition(e,t),r=o.left,i=o.top;n.element.style.cssText="\n                left: "+r+"px;\n                top: "+i+"px;\n            "}};return r.isIPAD||r.isIOS?setTimeout(o,100):o(),!0},t.prototype.doShown=function(){var t=this;e.prototype.doShown.call(this),this.element.focus(),"function"==typeof navigator.vibrate&&navigator.vibrate(20),setTimeout((function(){if(!t.isDestroyed){var e=0;t.children().forEach((function(t){t instanceof i.default?(0===e?t.hide():t.show(),e=0):t.isDOMVisible()&&e++}))}}))},t.prototype._limitPosition=function(e,t){var n=window.innerHeight,o=window.innerWidth,r=this.element.getBoundingClientRect(),i=t+r.height,a=e+r.width;return i>n&&(i=n,t=n-r.height),a>o&&(a=o,e=o-r.width),{left:e,top:t}},t.prototype.setCurrentTarget=function(e){this.currentTarget=e},t.prototype.getCurrentTarget=function(){return this.currentTarget},t.prototype.show=function(){this.isDestroyed||e.prototype.show.call(this,document.body)},t}(o.default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){if("string"!=typeof e)throw new Error("invalid url type: ("+(void 0===e?"undefined":r(e))+")!");return 0===(e=e.trim()).indexOf("file:")?new c(e):new s(e)}var s=function(){function e(t){i(this,e);var n=e.REGEX.exec(t);if(!n)throw new Error('Illegal argument: incorrect url: "'+t+'"');this.protocol=n[1],this.port=parseInt(n[5]),isNaN(this.port)&&(this.port=""),this.pathname=n[6]||"/",this.pathname=this.pathname.replace(/(\/|\\)+/g,"/"),this.dirname="/"===this.pathname[this.pathname.length-1]?this.pathname:l(this.pathname,".."),this.hostname=n[3]||"",this.host=this.hostname+(this.port?":"+this.port:""),this.query=n[7]||"",this.hash=n[8]||""}return e.isValid=function(t){return e.REGEX.test(t)},o(e,null,[{key:"REGEX",get:function(){return/^([a-z]+)\:\/\/(([\w\-\.]+)(\:(\d+))?(\/[^?#]*)?(\?[^#]*)?(#.*)?)$/}}]),e.prototype.join=function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];var r=l.apply(void 0,[this.dirname].concat(n));return new e(this.protocol+"://"+this.host+r+this.query+this.hash)},e.prototype.absolute=function(){return this.protocol+"://"+this.host+this.pathname+this.query+this.hash},e}(),c=function(){function e(t){i(this,e),this.protocol="file";var n=e.REGEX.exec(t);if(!n)throw new Error('Illegal argument: incorrect URL: "'+t+'"');this.path=(n[3]||"").replace(/[\\/]+/g,"/"),this.disk=n[2],this.disk||("/"===this.path[0]&&(this.path=this.path.slice(1)),this.disk=""),this.hash=n[5]||"",this.query=n[4]||""}return e.isValid=function(t){return e.REGEX.test(t)},o(e,null,[{key:"REGEX",get:function(){return/^(file:\/\/\/)([a-z]\:)?(.+?)(\?([^?#]*))?(#([^#]*))?$/i}}]),e.prototype.join=function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];var r=l.apply(void 0,[this.path].concat(n));return new e("file:///"+this.disk+r+this.query+this.hash)},e.prototype.absolute=function(){return"file:///"+this.disk+this.path+this.query+this.hash},e}();function u(e){return"/"===e[0]}function l(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t[0],r=void 0;if(o.match(/^\w+?:\/\//)){var i=/^(\w+?:\/\/[^\/]+)(\/?.*)/,a=o.match(i);r=a[1],t[0]=a[2]||"/"}var s=t.filter((function(e){return"string"==typeof e&&e.length>0})),c=s.map((function(e){return e.replace(/[\/\\]+/,"/").split("/").filter((function(e,t,n){return""!==e||0===t}))})).reduce((function(e,t){return t.forEach((function(t,n){switch(t){case".":break;case"..":e.pop();break;case"":e=[""];break;default:e.push(t)}})),e}),[]).join("/");return s.length>0&&(/[\/\\\\]/.test(s[0][0])||0===s[0].indexOf(".."))&&"/"!==c[0]&&(c="/"+c),r?r+c:c}function f(e){var t=u(e),n=e&&"/"===e[e.length-1];return(e=function(e,t){for(var n=[],o=0,r=e.length;o<r;o++){var i=e[o];i&&("."!==i?".."===i?n.length>0&&".."!==n[n.length-1]?n.pop():t&&n.push(".."):n.push(i):t&&0===n.length&&n.push(i))}return n}(e.split("/"),!t).join("/"))||u?(e&&n&&(e+="/"),(t?"/":"")+e):""}t.getCurrentPath=function(){var e=location.href.trim();return e.lastIndexOf("/")===e.length-1?location.href:a(location.href).join("../").absolute()},t.join=function(){for(var e="",t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];for(var r=0,i=n.length;r<i;r++){var a=n[r];a&&(e+=e?"/"+a:a)}return f(e)},t.isUrl=function(e){return s.isValid(e)||c.isValid(e)},t.urlJoin=function(e){for(var t,n=arguments.length,o=Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return(t=a(e)).join.apply(t,o).absolute()},t.resolvePath=l,t.mergePath=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return f(t.join("/").replace(/[\/\\]+/,"/"))}},function(e,t,n){"use strict";var o;n.r(t),n.d(t,"OPEN_FILE_TYPE",(function(){return o})),function(e){e.FROM_FILE="from-file",e.FROM_URL="from-url"}(o||(o={}))},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var o=n(168),r=n(98);e.exports=function(e){return o(r(e))}},function(e,t,n){var o=n(169),r=n(126),i=n(79),a=n(97),s=n(78),c=n(358),u=Object.getOwnPropertyDescriptor;t.f=n(41)?u:function(e,t){if(e=i(e),t=a(t,!0),c)try{return u(e,t)}catch(e){}if(s(e,t))return r(!o.f.call(e,t),e[t])}},function(e,t,n){var o=n(78),r=n(51),i=n(240)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=r(e),o(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=w(n(108)),a=w(n(4)),s=w(n(1)),c=n(42),u=w(n(30)),l=n(856),f=w(n(188)),p=n(33),d=n(14),h=n(8),g=n(15),m=n(204),v=n(34),y=w(n(857)),b=w(n(116));function w(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var P=function(e){function t(n,o,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,i));s.docRender=s.parent("pdfDocRender"),s.name="annot",s.eUi=o,s.element=o;var c=s.$ui=(0,a.default)(o);if(c.addClass("fv__pdf-page-annot-container").data(l.annotZIndexComponentKey,s),s.eHandler=r,(s.$handler=(0,a.default)(r)).addClass("fv__pdf-page-annot-handler-container"),s.$page=i.$page,s.annot=n,s.$$isUIVisible=!0,c.data("component",s),s.deleteStatus=0,s.annotsRender=i.parent("annotsRender"),s.eventHandlers=[],s.initPointerDownEvent(),s.mouseEnterAnnots=[],s.initMouseEvent(),d.isIOS){var u=function(e){return e.preventDefault()};o.addEventListener("touchstart",u),s.addDestroyHook((function(){o.removeEventListener("touchstart",u)}))}return s}return _(t,e),r(t,[{key:"id",get:function(){return this.annot?this.annot.getId():void 0}}]),t.prototype.getAppPermission=function(){return this.pdfViewer.getAnnotAuthorityManager().getPermission(this.annot)},t.prototype.initMouseEvent=function(){var e=this,t=this.pdfViewer.eventEmitter,n=this.getContainerElement();n.addEventListener("mouseenter",r),n.addEventListener("mouseleave",i),this.addDestroyHook((function(){n.removeEventListener("mouseenter",r),n.removeEventListener("mouseleave",i)}));var o=this;function r(e){o.mouseEnterAnnots=a(e),t.emit(s.default.mouseEnter,y.default.annotation,{annots:o.mouseEnterAnnots,e:e})}function i(e){t.emit(s.default.mouseLeave,y.default.annotation,{annots:o.mouseEnterAnnots,e:e})}var a=function(t){var n=e.annotsRender.getAnnotRenders(),o=Object.keys(n).map((function(e){return n[e]})),r=t.clientX,i=t.clientY,a=[];return o.forEach((function(t){if(!e.annotsRender._isFormWidget(t)){var n=t.component.$ui.get(0).getBoundingClientRect();r>=n.left&&r<=n.right&&i>=n.top&&i<=n.bottom&&a.push(t.annot)}})),a}},t.prototype.initPointerDownEvent=function(){var e=this,t=v.isIE10?"MSPointerDown":"pointerdown",n=v.isIE10?"MSPointerUp":"pointerup",o=function(e){},r=function(n){if(1===n.which&&!e.pdfViewer.isMultiSelectActive()){var o=e.getModel().getId(),r=function(){e.annotsRender.activeAnnot(o).then((function(){var o=e.eHandler.querySelector(".fv__shape-control-move-area");if(o){var r=void 0;v.isIE?((r=document.createEvent("MouseEvent")).initMouseEvent(t,n.bubbles,n.cancelable,n.view,n.detail,n.screenX,n.screenY,n.clientX,n.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.button,null),r.pointerId=n.pointerId):r=new PointerEvent("pointerdown",n),o.dispatchEvent(r)}}))};e.pdfViewer.activationManager.currentActivableIs(e)?r():e.annotsRender.unActiveAnnot().finally(r)}};this.eUi.addEventListener(t,r),window.addEventListener(n,o),this.addDestroyHook((function(){e.eUi.removeEventListener(t,r),window.removeEventListener(n,o)}))},t.prototype.getContainerElement=function(){return this.$ui.get(0)},t.prototype.getHandlerElement=function(){return this.$handler.get(0)},t.prototype.getModel=function(){return this.annot},t.prototype.tapAnnot=function(e){var t=this,n=this.getModel().getId();this.pdfViewer.isMultiSelectActive()&&this.pdfViewer.getAllActivatedElements().find((function(e){return e===t}))&&!b.default.isShiftDown?this.annotsRender.unActiveAnnot(n):this.annotsRender.activeAnnot(n)},t.prototype.getId=function(){return this.id},t.prototype.getIndex=function(){return this.annot.getIndex()},t.prototype.setId=function(e){var t=this;return this.annot.setUniqueID(e).then((function(){t.id=e}))},t.prototype.isHidden=function(){var e=new f.default(this.annot.getFlags());if(e.checkHidden()||e.checkInvisible())return!0;var t=this.pdfViewer.getAnnotManager().getAnnotFlag(this.annot);return!(!t.checkHidden()&&!t.checkNoView())},t.prototype._hideUI=function(){this.$ui.addClass("fv__ui-hide"),this.$handler.addClass("fv__ui-hide")},t.prototype._showUI=function(){this.$ui.removeClass("fv__ui-hide"),this.$handler.removeClass("fv__ui-hide")},t.prototype.hideUI=function(){return this.isUIVisible()?(this.isActive&&this.annotsRender.unActiveAnnot(this.annot),this.$$isUIVisible=!1,this._hideUI(),Promise.resolve(this.redraw())):Promise.resolve()},t.prototype.updateSize=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;this.scale=e,this.rotate=t;var n=void 0;if(n=this.annot.getDeviceRect(this.scale,this.rotate),8&this.annot.getFlags()){var o=this.annot.getRect();o.top-o.bottom,o.right-o.left}else n.bottom-n.top,n.right-n.left},t.prototype.showUI=function(){return this.isUIVisible()?Promise.resolve():(this.$$isUIVisible=!0,this._showUI(),Promise.resolve(this.redraw()))},t.prototype.isUIVisible=function(){return this.$$isUIVisible},t.prototype.render=function(e,t){this.scale=e,this.rotate=t},t.prototype.afterRender=function(){if(!this.isDestroyed){var e=this.annot.getType();v.isIE10||"text"===e||"fileattachment"===e||this.$ui.find("canvas").css({width:"inherit",height:"inherit"}),d.isDesktop&&(this.pdfViewer.config.showAnnotTooltip&&"widget"!==this.annot.getType()||this.pdfViewer.config.showFormFieldTooltip&&"widget"===this.annot.getType())&&(this.pdfViewer.customs.activeTooltip?this.pdfViewer.customs.activeTooltip(this.pdfViewer,this.annot):this.activeTooltip())}},t.prototype.add=function(e,t){return this.render(e,t)},t.prototype.redraw=function(){},t.prototype.willRedraw=function(){},t.prototype.afterRedraw=function(){},t.prototype.doActive=function(){var e=this;if(this.bindEvent(),!this.pdfViewer.activationManager.currentActivableIs(this)){var t=this.annot;if(t.isGrouped&&t.isGrouped()){var n=new m.ActivationGroup;t.groupElements.forEach((function(t){var o=e.pdfViewer.getAnnotRender(t.getPDFPage().getIndex(),t.getId()).component;n.add(o)})),this.pdfViewer.activeElement(n)}else this.pdfViewer.activeElement(this)}},t.prototype.doDeactive=function(){this.unBindEvent()},t.prototype.unActive=function(){e.prototype.unActive.call(this)},t.prototype.destroy=function(){this.isActive=!1,this.$ui&&this.$ui.remove(),this.$handler&&this.$handler.remove(),this.unBindEvent(),this.eventHandlers=[],e.prototype.destroy.call(this),this.annot=null,this.component=null,this.docRender=null,this.$ui=null,this.eHandler=null,this.$handler=null,this.$page=null,this.annotsRender=null},t.prototype.remove=function(){this.destroy()},t.prototype.showContextMenu=function(){},t.prototype.enableContextMenu=function(e){this._disabledContextMenu=!e},t.prototype.contextMenuIsEnable=function(){return!this._disabledContextMenu},t.prototype.zIndexDown=function(){this.$ui.addClass("fv__zindex-down"),this.zIndexDownFlag=!0},t.prototype.checkZIndexDown=function(){return!this.zIndexDownFlag},t.prototype.zIndexRecover=function(){this.$ui.removeClass("fv__zindex-down"),this.zIndexDownFlag=!1},t.prototype.moveTo=function(e,t,n){var r=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(!i)return this.$ui.css({left:e,top:t}),Promise.resolve(!0);var a=this.scale,c=this.rotate,u=this.getPDFPage(),l=this.annot.getDeviceRect(a,c),f=e-l.left,p=t-l.top;if(Math.abs(f)<1&&Math.abs(p)<1)return Promise.resolve();var d=u.reverseDeviceOffset([f,p],a,c),h=o(d,2),g=h[0],m=h[1],v=this.annot.getRect();return this.annot.moveTo({left:v.left+g,top:v.top+m,action:n}).then((function(e){return r.updateRender&&r.updateRender().then((function(){r.pdfViewer.eventEmitter.emit(s.default.updateActionAnnotation,r)}))}))},t.prototype.move=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=this.annot.getDeviceRect(this.scale,this.rotate);return this.moveTo(o.left+e,o.top+t,n)},t.prototype.moved=function(){var e=this.annot.getDeviceRect(this.scale,this.rotate);this.$ui.css({left:e.left+"px",top:e.top+"px"}),this.redraw()},t.prototype.movedByOther=function(e){},t.prototype.setRectInPDF=function(e,t){var n=this;return this.annot._setRect(e,t).then((function(e){return e?n.updateRender().then((function(){return t&&n.pdfViewer.eventEmitter.emit(s.default.updateActionAnnotation,n),e})):e}))},t.prototype.setRect=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.left,o=t.top,r=t.width,i=t.height;r=Math.max(.001,r),i=Math.max(.001,i);var a=this.scale,c=this.rotate,u=this.getPDFPage(),l=u.reverseDeviceRect({left:n,top:o,right:n+r,bottom:o+i},a,c);return this.annot.setRect(l).then((function(t){return t?e.updateRender().then((function(){return e.pdfViewer.eventEmitter.emit(s.default.updateActionAnnotation,e),t})):t}))},t.prototype.getRect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,n=this.getPDFPage(),o=this.annot.getRect();return n.getDeviceRect(o,e,t)},t.prototype.getBoundary=function(){var e=this.annot.getDeviceRect(this.scale,this.rotate),t=this.annot.getRect(),n=e.right-e.left,o=e.bottom-e.top;return 8&this.annot.getFlags()&&(n=t.right-t.left,o=t.top-t.bottom),{left:e.left,top:e.top,width:n,height:o}},t.prototype.getPosition=function(){var e=this.getPDFPage(),t=this.annot.getRect(),n=e.getDevicePoint([t.left,t.top],this.scale,this.rotate),r=o(n,2);return{left:r[0],top:r[1]}},t.prototype.getDimension=function(){var e=this.getPDFPage(),t=this.annot.getRect(),n=e.getDeviceRect(t,this.scale,this.rotate);return{width:n.right-n.left,height:n.bottom-n.top}},t.prototype.removeAnnot=function(){var e=this;return this.getAppPermission().then((function(t){if(t.ignorable()&&e.getAnnotFlag().checkLocked())throw new Error("The remove operation was rejected because it is locked!");if(t.isDeletable())return e.doRemoveAnnot()}))},t.prototype.doRemoveAnnot=function(){},t.prototype.deleteDisabled=function(){if(!(32&this.docRender.getUserPermission().getValue()))return!0;var e=this.getAnnotFlag();return e.checkLocked()||e.checkReadOnly()},t.prototype.replyDisabled=function(){return!(32&this.docRender.getUserPermission().getValue())||this.getAnnotFlag().checkReadOnly()},t.prototype.propertyDisabled=function(){if(!(32&this.docRender.getUserPermission().getValue()))return!0;var e=this.getAnnotFlag();return e.checkLocked()||e.checkReadOnly()},t.prototype.moveDisabled=function(){if(!(32&this.docRender.getUserPermission().getValue()))return!0;var e=this.getAnnotFlag();return e.checkLocked()||e.checkReadOnly()},t.prototype.readOnlyDisabled=function(){return!(32&this.docRender.getUserPermission().getValue())||this.getAnnotFlag().checkReadOnly()},t.prototype.bindEvent=function(){var e=this;this.__off__delete__event__&&this.__off__delete__event__(),this.__off__delete__event__=this.pdfViewer&&this.pdfViewer.getKeyboardEventBinder(c.ACTIVATION_ANNOTATION_BINDER).on(c.KEY_MAP_DELETE_ANNOTATION,(function(t){var n=function(){e.removeAnnot(),t.stopPropagation()},o=e.pdfViewer.getStore().getCurrentValue(h.MODULE_LICENSE_INFO),r=e.annot.getType(),i=!0;if("redact"==r&&(i=Object.keys(o).find((function(e){return e.startsWith(r)?o[e]:""._}))),i)if(function(e,t){var n=t.parentElement;for(;n;){if(n==e)return!0;n=n.parentElement}return!1}(t.native.target,e.$handler.get(0)))n();else{var a=t.native.target.tagName.toLowerCase();"input"===a||"textarea"===a||"div"===a&&"string"==typeof t.native.target.getAttribute("contenteditable")||n()}else e.pdfViewer.viewerUI.alert("dialog.error.noRedactionLicense")})),this.__off__esc__event__&&this.__off__esc__event__(),this.__off__esc__event__=this.pdfViewer&&this.pdfViewer.getKeyboardEventBinder(c.ACTIVATION_ANNOTATION_BINDER).on(c.KEY_MAP_UNACTIVE_ANNOTATION,(function(t){e.annotsRender.unActiveAnnot()}))},t.prototype.unBindEvent=function(){this.__off__delete__event__&&this.__off__delete__event__(),this.__off__delete__event__=u.default,this.__off__esc__event__&&this.__off__esc__event__(),this.__off__esc__event__=u.default},t.prototype.updateDeleteStatus=function(e){e?++this.deleteStatus:--this.deleteStatus,this.deleteStatus>0?this.unBindEvent():this.bindEvent()},t.prototype.getPDFAnnot=function(){return this.annot},t.prototype.getPDFPage=function(){return this.getPDFAnnot().getPDFPage()},t.prototype.getAnnotFlag=function(){return this.pdfViewer.annotManager.getAnnotFlag(this.annot)},t.prototype.groupMoveDisabled=function(){var e=!1;return this.annot&&this.annot.isGrouped&&this.annot.isGrouped()&&this.annot.groupElements.map((function(t){var n=t.getType();"strikeout"!==n&&"highlight"!==n&&"squiggly"!==n&&"underline"!==n||(e=!0)})),e},t.prototype.setVisibleRect=function(e){this.visibleRect=e},t.prototype.invisibleRender=function(){},t.prototype.clearCache=function(){},t.prototype.getRenderingData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;if(!this.annot)return null;var n=this.annot.getDeviceRect(e,this.rotate),o=this.getRect(),r=this.annot.page,i=this.pdfViewer.getSmartScale(e);return{annotInfo:this.annot.info,annotFlag:this.getAnnotFlag(),smartScale:i,rect:o,outerDeviceRect:n,innerDeviceRect:this.annot.getInnerRect?this.annot.getDeviceInnerRect(e,t):n,engineRenderingRect:r.getDeviceRect(o,i,t),scale:e,rotate:t,page:this.annot.page}},t.prototype.toImageURL=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return{x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top}},t=this.annot.page,n=this.pdfViewer.getSmartScale(this.scale),o=this.annot.getDeviceRect(1,this.rotate);return t.getAnnotBitmap(this.annot.id,(0,p.pt2px)(n),this.rotate,e(o,this,this.scale,this.rotate)).then((function(e){var t=e.width,n=e.height,o=e.buffer,r=(e.image,e.type,e.url),i=document.createElement("canvas");i.width=t,i.height=n;var a=i.getContext("2d");if(r)return new Promise((function(e){var t=new Image;t.onload=function(){a.drawImage(t,0,0),e(i.toDataURL())},t.src=r}));var s=new(Uint8ClampedArray||Uint8Array)(o),c=a.createImageData(t,n);return c.data.set(s),a.putImageData(c,0,0),i.toDataURL()}))},t.prototype.activeTooltip=function(){var e=this,t=this.annot.isGrouped&&this.annot.isGrouped()?this.annot.getGroupHeader():this.annot,n="widget"===this.annot.getType()?this.eHandler:this.eUi,o="",r=void 0,i=0,a=0,s=document.createElement("div");document.getElementsByClassName("fv_viewer-tooltip-container").length>0&&(o=document.getElementsByClassName("fv_viewer-tooltip-container")[0]);var c=function(e){var t=document.documentElement.clientHeight,n=o.getBoundingClientRect().width,r=o.getBoundingClientRect().height,i=e.clientX+10,a=e.clientY+10;return document.documentElement.clientWidth-e.clientX<n+10&&(i-=n+10),t-a<r&&(a=e.clientY-e.layerY-r),{x:i,y:a}},u=function(e){clearTimeout(r),o.classList.remove("tooltip-active"),o.classList.add("tooltip-unactive")},l=function(n){if("widget"===e.annot.getType()){var r=t.getField();if(!r.getAlternateName())return;document.getElementsByClassName("fv_viewer-tooltip-title")[0].innerHTML="",document.getElementsByClassName("fv_viewer-tooltip-content")[0].innerHTML=r.getAlternateName()}else document.getElementsByClassName("fv_viewer-tooltip-title")[0].innerHTML=e.annot.getTitle(),document.getElementsByClassName("fv_viewer-tooltip-content")[0].innerHTML=e.annot.getContent();var i,a;i=c(n).x,a=c(n).y,o.style.left=i+"px",o.style.top=a+"px",o.classList.remove("tooltip-unactive"),o.classList.add("tooltip-active")},f=function(e){var t=e.clientX,n=e.clientY;if(clearTimeout(r),Math.abs(t-i)>2&&Math.abs(n-a)>2)return i=t,a=n,void u();r=setTimeout((function(){i=t,a=n,l(e)}),500)};!function(){if(!(document.getElementsByClassName("fv_viewer-tooltip-container").length>0)){s.classList.add("fv_viewer-tooltip-container"),s.classList.add("tooltip-unactive");var e="";e+='<div class="fv_viewer-tooltip-title"> '+t.getTitle()+"</div>",e+='<div class="fv_viewer-tooltip-content"> '+t.getContent()+"</div>",s.innerHTML=e,document.getElementsByTagName("body")[0].appendChild(s),o=document.getElementsByClassName("fv_viewer-tooltip-container")[0]}}(),n.addEventListener("mousemove",f),n.addEventListener("mouseout",u),this.addDestroyHook((function(){n.removeEventListener("mousemove",f),n.removeEventListener("mouseout",u)}))},t.prototype.collaborate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.COLLABORATION_ACTION.UPDATE_ANNOT;switch(e){case g.COLLABORATION_ACTION.UPDATE_ANNOT:return this.pdfViewer.collaborate(e,{annots:[this.annot.exportToJSON()]})}},t.prototype.getPropertyOptions=function(){return{}},t.prototype.isFormControl=function(){return!1},t}(i.default);t.default=P},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t,this.y=n}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e.prototype.addp=function(t){return new e(this.x+t.x,this.y+t.y)},e.prototype.subtractp=function(t){return new e(this.x-t.x,this.y-t.y)},e.prototype.subtract=function(t,n){return new e(this.x-t,this.y-n)},e.prototype.move=function(t,n){var o=n.x-this.x,r=n.y-this.y,i=t/Math.sqrt(o*o+r*r);return new e(this.x+o*i,this.y+r*i)},e.prototype.rotate=function(t,n){var o=this.x-n.x,r=this.y-n.y,i=Math.sqrt(o*o+r*r),a=Math.atan2(r,o)-t,s=i*Math.cos(a),c=i*Math.sin(a);return new e(n.x+s,n.y+c)},e.prototype.distanceTo=function(e){var t=e.x-this.x,n=e.y-this.y;return Math.sqrt(t*t+n*n)},e.prototype.slope=function(e){var t=this._dot(e);return Math.acos(t/(this._disp()*e._disp()))},e.prototype._dot=function(e){return this.x*e.x+this.y*e.y},e.prototype._disp=function(){return Math.sqrt(this._dot(this))},e.prototype.equalTo=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return n=Math.abs(n),t instanceof e&&Math.abs(this.x-t.x)<=n&&Math.abs(this.y-t.y)<=n},e.prototype.clone=function(){return new e(this.x,this.y)},e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(220);Object.defineProperty(t,"ButtonComponent",{enumerable:!0,get:function(){return G(o).default}});var r=n(1102);Object.defineProperty(t,"PDFViewerComponent",{enumerable:!0,get:function(){return G(r).default}});var i=n(1104);Object.defineProperty(t,"WebPDFComponent",{enumerable:!0,get:function(){return G(i).default}});var a=n(474);Object.defineProperty(t,"GroupComponent",{enumerable:!0,get:function(){return G(a).default}});var s=n(1107);Object.defineProperty(t,"GroupListComponent",{enumerable:!0,get:function(){return G(s).default}});var c=n(1109);Object.defineProperty(t,"TabsComponent",{enumerable:!0,get:function(){return G(c).default}});var u=n(1111);Object.defineProperty(t,"TabItemComponent",{enumerable:!0,get:function(){return G(u).default}});var l=n(1124);Object.defineProperty(t,"SidebarComponent",{enumerable:!0,get:function(){return G(l).default}});var f=n(482);Object.defineProperty(t,"SidebarPanelComponent",{enumerable:!0,get:function(){return G(f).default}});var p=n(1127);Object.defineProperty(t,"FileSelectorComponent",{enumerable:!0,get:function(){return G(p).default}});var d=n(1128);Object.defineProperty(t,"ToolbarComponent",{enumerable:!0,get:function(){return G(d).default}});var h=n(307);Object.defineProperty(t,"TextComponent",{enumerable:!0,get:function(){return G(h).default}});var g=n(1130);Object.defineProperty(t,"PlaceholderTextComponent",{enumerable:!0,get:function(){return G(g).default}});var m=n(181);Object.defineProperty(t,"DropdownComponent",{enumerable:!0,get:function(){return G(m).default}});var v=n(473);Object.defineProperty(t,"DropdownItemComponent",{enumerable:!0,get:function(){return G(v).default}});var y=n(1131);Object.defineProperty(t,"DropdownButtonComponent",{enumerable:!0,get:function(){return G(y).default}});var b=n(484);Object.defineProperty(t,"AccordionComponent",{enumerable:!0,get:function(){return G(b).default}});var w=n(222);Object.defineProperty(t,"AccordionCardComponent",{enumerable:!0,get:function(){return G(w).default}});var _=n(485);Object.defineProperty(t,"ListBox",{enumerable:!0,get:function(){return G(_).default}});var P=n(1134);Object.defineProperty(t,"ListBoxItem",{enumerable:!0,get:function(){return G(P).default}});var O=n(1136);Object.defineProperty(t,"NumberComponent",{enumerable:!0,get:function(){return G(O).default}});var E=n(223);Object.defineProperty(t,"LayerComponent",{enumerable:!0,get:function(){return G(E).default}});var x=n(1139);Object.defineProperty(t,"LayerToolbarComponent",{enumerable:!0,get:function(){return G(x).default}});var C=n(1140);Object.defineProperty(t,"LayerViewComponent",{enumerable:!0,get:function(){return G(C).default}});var A=n(1141);Object.defineProperty(t,"TemplateComponent",{enumerable:!0,get:function(){return G(A).default}});var S=n(1142);Object.defineProperty(t,"CheckboxComponent",{enumerable:!0,get:function(){return G(S).default}});var D=n(1143);Object.defineProperty(t,"InputComponent",{enumerable:!0,get:function(){return G(D).default}});var T=n(1144);Object.defineProperty(t,"SliderComponent",{enumerable:!0,get:function(){return G(T).default}});var I=n(486);Object.defineProperty(t,"LayerHeaderComponent",{enumerable:!0,get:function(){return G(I).default}});var R=n(1148);Object.defineProperty(t,"SelectComponent",{enumerable:!0,get:function(){return G(R).default}});var M=n(1151);Object.defineProperty(t,"ColorPickerComponent",{enumerable:!0,get:function(){return G(M).default}});var j=n(1154);Object.defineProperty(t,"ColorSpectrumComponent",{enumerable:!0,get:function(){return G(j).default}});var k=n(483);Object.defineProperty(t,"SlotComponent",{enumerable:!0,get:function(){return G(k).default}});var N=n(1157);Object.defineProperty(t,"XSelectComponent",{enumerable:!0,get:function(){return G(N).default}});var F=n(75);Object.defineProperty(t,"ContextMenuComponent",{enumerable:!0,get:function(){return G(F).default}});var L=n(1162);Object.defineProperty(t,"ContextMenuItemComponent",{enumerable:!0,get:function(){return G(L).default}});var V=n(487);Object.defineProperty(t,"ContextMenuSeparatorComponent",{enumerable:!0,get:function(){return G(V).default}});var B=n(1163);Object.defineProperty(t,"TooltipLayerComponent",{enumerable:!0,get:function(){return G(B).default}});var U=n(1164);Object.defineProperty(t,"PaddleComponent",{enumerable:!0,get:function(){return G(U).default}});var H=n(1167);Object.defineProperty(t,"OptionGroupComponent",{enumerable:!0,get:function(){return G(H).default}});var $=n(1169);Object.defineProperty(t,"OptionComponent",{enumerable:!0,get:function(){return G($).default}});var W=n(1170);Object.defineProperty(t,"GTabItemComponent",{enumerable:!0,get:function(){return G(W).default}});var q=n(1172);Object.defineProperty(t,"HTMLCommentComponent",{enumerable:!0,get:function(){return G(q).default}});var z=n(1173);function G(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"NativeDOMComponent",{enumerable:!0,get:function(){return G(z).default}})},function(e,t,n){"use strict";function o(e,t){if(!e)throw new Error(t)}function r(e){return"number"==typeof e}function i(e){return r(e)&&Math.floor(e)===e}function a(e){return Math.pow(Math.floor(e),2)!==e}function s(e){return(e%360+360)%360%90==0}function c(e,t,n,o,r){return void 0===o&&(o=!1),void 0===r&&(r=!1),(o?e>=t:e>t)&&(r?e<=n:e<n)}function u(e,t,n){return void 0===n&&(n=.01),Math.abs(e-t)<n}function l(e,t,n){return void 0===n&&(n=.01),u(e.x,t.x)&&u(e.y,t.y)}function f(e){return null!=e}n.r(t),n.d(t,"assertThat",(function(){return o})),n.d(t,"isNumber",(function(){return r})),n.d(t,"isInteger",(function(){return i})),n.d(t,"isSquaredNumber",(function(){return a})),n.d(t,"isValidRotationAngle",(function(){return s})),n.d(t,"isNumberInRange",(function(){return c})),n.d(t,"isSamePoint",(function(){return l})),n.d(t,"isDefined",(function(){return f}))},function(e,t,n){"use strict";var o;n.r(t),n.d(t,"ANNOTATION_PERMISSION",(function(){return o})),function(e){e.fully="fully",e.playable="playable",e.adjustable="adjustable",e.deletable="deletable",e.modifiable="modifiable",e.attachmentDownloadable="attachmentDownloadable",e.redactionApplicable="redactionApplicable",e.replyable="replyable",e.editable="editable"}(o||(o={}))},function(e,t){var n=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=n)},function(e,t,n){var o=n(62);e.exports=function(e,t,n){if(o(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,o){return e.call(t,n,o)};case 3:return function(n,o,r){return e.call(t,n,o,r)}}return function(){return e.apply(t,arguments)}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){var n=Math.ceil,o=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?o:n)(e)}},function(e,t,n){"use strict";var o=n(25);e.exports=function(e,t){return!!e&&o((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(213),i=(o=r)&&o.__esModule?o:{default:o},a=n(63);function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n))}return s(t,e),t.prototype.prepare=function(){this.prepared||(this.canvas=document.createElement("canvas"),this.container=this.component.getContainerElement(),this.container.appendChild(this.canvas),e.prototype.prepare.call(this))},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.prepared&&this.canvas.remove()},t.prototype.doShow=function(){this.canvas.classList.remove("fv__ui-hide")},t.prototype.doHide=function(){this.canvas.classList.add("fv__ui-hide")},t.prototype.convertPointToPixel=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return a.POINT.convertTo(e,a.PIXEL_HORIZONTAL)*t},t.prototype.willRender=function(){this.canvas.style.willChange="left, top, width, height",this.container.style.willChange="left; top"},t.prototype.afterRender=function(){this.canvas.style.willChange="auto",this.container.style.willChange="auto"},t.prototype.render=function(e,t){this.prepared||this.prepare();var n=this.component.getRenderingData(e,t);if(!n)return Promise.resolve();var o=n.annotInfo,r=o.borderInfo||{},i=this.convertPointToPixel(r.width,e),a=this.component,s=(a.annot,a.pdfViewer,n.smartScale);!n.annotFlag.checkNoZoom()||(e=1);var c=n.rect,u=n.outerDeviceRect,l=n.innerDeviceRect;Object.assign(l,{width:l.right-l.left,height:l.bottom-l.top}),Object.assign(u,{width:u.right-u.left,height:u.bottom-u.top}),this.resetCanvasSize(u.width,u.height),this.container.style.cssText+="\n            left: "+c.left+"px;\n            top: "+c.top+"px;\n        ";var f=this.canvas.style;if(0===i&&0===o.borderColor&&!o.fillColor)return f.visibility="hidden",Promise.resolve();if(0===o.opacity)return f.visibility="hidden",Promise.resolve();f.visibility="unset";try{return Promise.resolve(this.doRender({outerRect:u,innerRect:l,deviceRect:c,scale:e,smartScale:s,rotate:t,renderingData:n}))}catch(e){return console.error(e),Promise.resolve()}},t.prototype.doRender=function(e){e.outerRect,e.innerRect,e.deviceRect,e.scale,e.rotate},t.prototype.resetCanvasSize=function(e,t){this.canvas.width=Math.ceil(e),this.canvas.height=Math.ceil(t),this.canvas.style.width=null,this.canvas.style.height=null},t.prototype.invisibleRender=function(){try{this.canvas.width=0}catch(e){}},t}(i.default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(13);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return r.action=n,r.annot=o,r.pdfViewer=o.pdfViewer,r.initSubAction(),r}return i(t,e),t.prototype.active=function(){this.subAction.forEach((function(e){e.active()}))},t.prototype.setSourceTarget=function(e,t){var n=this;this.source=e,this.target=t,this.action&&this.subAction.forEach((function(e){e.setSourceTarget(n.source,n.target)}))},t.prototype.initSubAction=function(){var e=this;this.subAction=[],this.action&&this.action.subAction.forEach((function(t){e.subAction.push(e.pdfViewer.actionManager.get(t,e.annot))}))},t.prototype.updateAction=function(e){this.action=e,this.initSubAction()},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.action=null,this.subAction.length=0,this.source=null,this.target=null},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(3);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this);var n=this.component.parent;this.component.parent.on("beforeshow",(function(){var e=n.getCurrentTarget();t.visibility(e)?t.component.show():t.component.hide();var o=t.usable(e);"boolean"==typeof o?o?t.component.enable():t.component.disable():o instanceof Promise&&o.then((function(e){e?t.component.enable():t.component.disable()}))}))},t.prototype.visibility=function(e){return!0},t.prototype.usable=function(e){return!0},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=m(n(82)),i=m(n(117)),a=n(33),s=n(39),c=m(n(73)),u=m(n(4)),l=m(n(2)),f=n(18),p=m(n(1)),d=n(42),h=m(n(30)),g=n(12);function m(e){return e&&e.__esModule?e:{default:e}}function v(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var w=function(e){function t(n,o,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=y(this,e.call(this,n,o,r,i));a.$input=null,a.$border=null,a.scale=1,a.rotate=0,r=a.$handler,a.name="pdfControlRender",o.classList.add("fv__pdf-form-control-container"),a.formRender=a.parent("pdfDocRender").getFormRender();var c=n.getField(),f=a.$foreground=(0,u.default)('<div class="fv__ui-form-foreground"></div>');if(!c)return y(a);var d=!a.checkInvisible()&&a.pdfViewer.highlightControlsUI()?"block":"none",h="";(a.checkReadOnly()||1==c.getType())&&(d="none",h+="form-field-readonly"),c&&s.FieldFlag.isRequired(c.getFlags())&&f.addClass("required"),f.addClass(h).css({display:d,position:"absolute",width:"100%",height:"100%",left:0,top:0}),a.normalBackgroundColorHandler(),r.addClass("fv__pdf-form-control-handler-container").append(f).attr("fieldName",c&&c.getName()).attr("tabindex",0),n.getMKProperty("fillColor")||r.css("background-blend-mode","multiply"),n.setRenderNotifier((function(e){return a.updateUI(e)})),a.checkInvisible()&&r.hide(),a.bindControlEvent();var g=a.pdfViewer.i18n;l.default.i18n=function(e){return g.t(e)};var m=function(e,t){if(n.getPDFPage()===e){var o=n.getId(),r=t.find((function(e){return e.info.id===o}));if(r&&r!==n){var i=n.render;r.setRenderNotifier(i),a.annot=r}}};return"select-annotation"===a.pdfViewer.getStateHandlerManager().getCurrentStates().getStateName()&&f.hide(),a.pdfViewer.eventEmitter.on(p.default.annotationLoaded,m),a.addDestroyHook((function(){a.pdfViewer.eventEmitter.off(p.default.annotationLoaded,m)})),a}return b(t,e),t.prototype.initPointerDownEvent=function(){},t.prototype.updateSize=function(){arguments.length>0&&void 0!==arguments[0]||this.scale,arguments.length>1&&void 0!==arguments[1]||this.rotate},t.prototype.shapeControlOnStart=function(){this.pdfViewer.config.highPerformance&&(this.editAreaDebouncePromise=new f.DebounceAsyncTaskExecutor(10))},t.prototype.shapeControlOnUpdate=function(e,t){var n=this;this.pdfViewer.config.highPerformance&&this.editAreaDebouncePromise.exec((function(){return n.setRect(e)})),this.$selectedContainer.add(this.$handler).add(this.$handler.find(".fv__tiles-col")).css(e)},t.prototype.shapeControlOnMoving=function(e,t){this.$selectedContainer.add(this.$handler).add(this.$handler.find(".fv__tiles-col")).css(e)},t.prototype.shapeControlOnEnd=function(e,t){var n=this;return(this.pdfViewer.config.highPerformance?this.editAreaDebouncePromise.waitForLastTask():Promise.resolve()).then((function(){return n.setRect(e).then((function(){return n.render(n.scale,n.rotate,!0)}))}))},t.prototype.updateRender=function(){return Promise.resolve()},t.prototype.generateUI=function(){},t.prototype._hideUI=function(){this.$ui.hide()},t.prototype._showUI=function(){this.$ui.show()},t.prototype.destroy=function(){this.$handler.off("mouseenter mouseleave mousedown focus blur"),this.rectHammer&&this.rectHammer.destroy(),this.$foreground.remove(),this.$foreground=null,this.annot.setRenderNotifier(null),this.formRender=null,e.prototype.destroy.call(this),this.tileCanvas=null},t.prototype.bindControlEvent=function(){var e=this,t=this.$handler,n=void 0;t.on("mouseenter",(function(t){return e.handleEvent(c.default.AnnotCursorEnter,t)})).on("mouseleave",(function(t){return e.handleEvent(c.default.AnnotCursorExit,t)})).on("mousedown",(function(t){return t&&t.stopPropagation(),n=t,e.handleEvent(c.default.AnnotMouseButtonPressed,t)})).on("focus",(function(t){(0,u.default)(t.target).hasClass("fv__pdf-form-control-handler-container")||e.handleEvent(c.default.AnnotReceiveInputFocus,t)})).on("blur",(function(t){(0,u.default)(t.target).hasClass("fv__pdf-form-control-handler-container")||e.handleEvent(c.default.AnnotLoseInputFocus,t)})).on("contextmenu",(function(t){return e.handleEvent("contextmenu",t)})).on("click",(function(t){e.pdfViewer.eventEmitter.emit("tap-field",e.annot)})),this.pdfViewer.addListenAnnotMouseEvent((function(t){var o=void 0;return n&&(o=e.handleEvent(c.default.AnnotMouseButtonReleased,t)),n=null,o}))},t.prototype.getTileConfig=function(e,t){var n=this.pdfViewer,o=n.getSmartScale(e),r=n.config.tileSize,i=this.annot,a=i.getDeviceRect(1,t),s=i.getDeviceRect(o,t),c=s.right-s.left,u=s.bottom-s.top;return[Math.ceil(u/r),Math.ceil(c/r),c,u,r,o,e,t,a.left,a.top,s]},t.prototype.updateForgroundAndHandler=function(e,t){var n=this.annot.getDeviceRect(e,t),o={width:n.right-n.left+.5|0,height:n.bottom-n.top+.5|0,left:n.left,top:n.top};return this.$handler.addClass("active").css(o),o},t.prototype.render=function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n||o||(n=this.annotsRender.scale,o=this.annotsRender.rotate),e.prototype.render.call(this,n,o,r);var s=this.annot;if(this.checkInvisible()||s.isEmpty()||s.isDeleted()||s.rectIsEmpty()||!s.getField())return this.checkInvisible()&&this.$handler.hide(),Promise.resolve();this.checkInvisible()||this.$handler.show();this.updateForgroundAndHandler(n,o);var c=this.getTileConfig(n,o),u=this.tileCanvas;return u||(u=this.tileCanvas=new i.default((function(e,t,n,o,r,i,c,u,l){return s.getPDFPage().getAnnotBitmap(s.getId(),(0,a.pt2px)(i),l,{x:c*i+t*r,y:u*i+e*r,width:n,height:o})}),this.$handler)),r&&u.clearCache(),(t=u).redraw.apply(t,v(c))},t.prototype.doubleTapAnnot=function(){},t.prototype.checkReadOnly=function(){var e=this.annot.getField();if(!e)return!0;if(7==e.getType()&&e.isSigned())return!1;var t=!1;return this.formRender.isReadOnly()&&(t=!0),(this.getAnnotFlag().checkReadOnly()||s.FieldFlag.isReadOnly(e.getFlags()))&&(t=!0),t},t.prototype.checkInvisible=function(){var e=this.getAnnotFlag();return!(!e.checkHidden()&&!e.checkNoView())},t.prototype.handleEvent=function(e,t){var n=this;if(0==t.button&&this.checkReadOnly())return e!=c.default.AnnotMouseButtonReleased&&e!=c.default.AnnotReceiveInputFocus||this.formRender.blurControl(),!0;var o=this.annot.getField();if(0==t.button){switch(e){case c.default.AnnotMouseButtonPressed:this.formRender.focusControl(this);break;case c.default.AnnotMouseButtonReleased:2!=o.getType()&&3!=o.getType()||(this.annot.switchAS(),this.formRender.calculate(o)),setTimeout((function(){var e=n.annot.getAction();n.formRender.execAction("Field",e,o,o)}),0)}this.performAction(e)}},t.prototype.updateUI=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=e.type,n=e.value,o=this.annot.getField(),r=this.$handler,i=this.$foreground,a=this.pdfViewer.getStateHandlerManager().getCurrentStates().getStateName();switch(t){case"readonly":n?(r.css("z-index",27),"select-annotation"===a?i.hide():i.show()):!this.pdfViewer.highlightControlsUI()||"select-annotation"===a||1==o.getType()||this.checkReadOnly()||this.checkInvisible()||(i.show(),r.css("z-index",29));break;case"required":var s=n?this.pdfViewer._runtimeColorOpacityRequired:this.pdfViewer._runtimeColorOpacity,c=n?this.pdfViewer._runtimeColorRequired:this.pdfViewer._runtimeColor,u=this.pdfViewer.getDisplayHighlightColor(c,s);n?i.addClass("required"):i.removeClass("required"),i.css({"background-color":u});break;case"hidden":if(n){if(r.hide(),6==o.getType())return;this.$input&&this.$input.css("visibility","hidden")}else{if(r.show(),6==o.getType())return;this.$input&&this.$input.css("visibility","visible")}return;case"focus":this.formRender.focusControl(this);break;case"display":var l=this.annot.getFlags();return void(2&l||32&l?r.hide():r.show());case"textColor":if(!this.$input)break;var f=this.$input.find("input[type=text]");f||(f=this.$input.find("textarea")),f.css("color",(0,g.colorConvertor)(n));break;case"textSize":if(!this.$input)break;(f=this.$input.find("input[type=text]"))||(f=this.$input.find("textarea")),n?f.css("font-size",2*n+"px"):this.autoFontSize(0);break;case"fillColor":n?this.$handler.css("background-blend-mode","unset"):this.$handler.css("background-blend-mode","multiply");break;case"orientation":if(!this.$input)break;var p=this.$input.find("input[type=text]");p||(p=this.$input.find("textarea"));var d=90*(n||0);p.css("transform","rotate("+d+"deg)"),this.updateSize(this.scale,this.rotate,!0)}this.updateUIMore({type:t,value:n})},t.prototype.updateUIMore=function(e){e.type,e.value;this.render(this.scale,this.rotate,!0)},t.prototype.focus=function(){var e=this,t=this.annot.getField();setTimeout((function(){e.$foreground.hide(),4!==t.getType()&&e.$handler.addClass("fv__control_focus")}),50);var n=this.annot.getAdditionalAction(c.default.AnnotReceiveInputFocus);n&&this.formRender.execAction("Field",n,null,t)},t.prototype.blur=function(){var e=this.annot.getField();1!=e.getType()&&!this.checkReadOnly()&&this.pdfViewer.highlightControlsUI()&&("select-annotation"===this.pdfViewer.getStateHandlerManager().getCurrentStates().getStateName()?this.$foreground.hide():this.$foreground.show());4!==e.getType()&&this.$handler.removeClass("fv__control_focus");var t=this.annot.getAdditionalAction(c.default.AnnotLoseInputFocus);return t&&this.formRender.execAction("Field",t,null,e,"Blur")},t.prototype.performAction=function(e,t){this.formRender.execAction("Field",this.annot.getAdditionalAction(e),null,this.annot.getField(),e,t)},t.prototype.autoFontSize=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.annot){var n=this.$textInput||this.$input,o=this.annot.getField();if(o){e||(e=o.getValue());var r=this.annot.getDefaultAppearance(),i=r?r.textSize:0,a=4*i/3*this.scale;if(!a&&!s.FieldFlag.isMultiline(o.getFlags())){a=.7*n.outerHeight();var c=(0,u.default)(".fwr-font-auto");0==c.length&&(c=(0,u.default)('<div class="fwr-font-auto" style="position: absolute;top:0;width: fit-content;opacity: 0;"></div>')).appendTo(this.pdfViewer.$ui),c.css("font-size",a+"px").text(e);for(var l=c.outerHeight(),f=n.parent().height();l>f&&a>11;)a--,c.css("font-size",a+"px"),l=c.outerHeight();for(var p=c.outerWidth(),d=n.parent().width();p>d-t&&a>11;)a--,c.css("font-size",a+"px"),p=c.outerWidth();n.css("font-size",a+"px")}}}},t.prototype.bindKeyboardEvent=function(){var e=this;this.__off__delete__event__&&this.__off__delete__event__(),this.__off__delete__event__=this.pdfViewer&&this.pdfViewer.getKeyboardEventBinder(d.ACTIVATION_ANNOTATION_BINDER).on(d.KEY_MAP_DELETE_ANNOTATION,(function(t){e.removeAnnot()})),this.__off__esc__event__&&this.__off__esc__event__(),this.__off__esc__event__=this.pdfViewer&&this.pdfViewer.getKeyboardEventBinder(d.ACTIVATION_ANNOTATION_BINDER).on(d.KEY_MAP_UNACTIVE_ANNOTATION,(function(t){e.unActiveEditing()})),this._undoSwitchKbBinder&&this._undoSwitchKbBinder(),this._undoSwitchKbBinder=this.pdfViewer.switchKeyboardEventBinder(d.ACTIVATION_ANNOTATION_BINDER)},t.prototype.unBindKeyboardEvent=function(){this._undoSwitchKbBinder&&this._undoSwitchKbBinder(),this.__off__delete__event__&&this.__off__delete__event__(),this.__off__delete__event__=h.default,this.__off__esc__event__&&this.__off__esc__event__(),this.__off__esc__event__=h.default},t.prototype.removeAnnot=function(){var e=this;return this.deleteDisabled()?Promise.resolve():(this.hideFormPropertiesDialog&&this.hideFormPropertiesDialog(),this.unBindKeyboardEvent(),this.pdfViewer.getPDFDocRender().getPDFDoc().loadPDFForm().then((function(t){return t.removeControl(e.annot.getField().getName(),e.annot.getObjNum()).then((function(e){return e}))})))},t.prototype._getShapeControllerBoundaryBox=function(){var e=this.getPDFPage(),t=(0,a.getWHByMatrix)(e.getPxWidth(),e.getPxHeight(),this.scale,this.rotate),n=o(t,2);return{left:0,top:0,right:n[0],bottom:n[1]}},t.prototype.normalBackgroundColorHandler=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e)this.$foreground.css({"background-color":"unset"});else{var t=this.annot.getField(),n=this.pdfViewer.getDisplayHighlightColor(this.pdfViewer._runtimeColor,this.pdfViewer._runtimeColorOpacity);t&&s.FieldFlag.isRequired(t.getFlags())&&(n=this.pdfViewer.getDisplayHighlightColor(this.pdfViewer._runtimeColorRequired,this.pdfViewer._runtimeColorOpacityRequired)),this.$foreground.css({"background-color":n})}},t.prototype.isFormControl=function(){return!0},t}(r.default);t.default=w},function(e,t,n){"use strict";n.r(t),n.d(t,"PortfolioNodeDataService",(function(){return m}));var o,r=n(13),i=n.n(r),a=n(49),s=n(55),c=n(235),u=n(28),l=n(1),f=n.n(l),p=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),d=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a},h=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(d(arguments[t]));return e},g=function(e){function t(){var t=e.call(this)||this;return t.store=new u.Store,t.addDestroyHook((function(){t.store.destroy()})),t.store.dispatch("change",[]),t}return p(t,e),t.prototype.clear=function(){this.store.dispatch("change",[])},t.prototype.put=function(e){var t=this.getCurrentNodes();t.push(e);var n=e.nodeData;this.store.dispatch("change",t),this.store.dispatch("node-"+n.handle,e)},t.prototype.putAll=function(e){var t=this,n=this.getCurrentNodes();n.push.apply(n,h(e)),this.store.dispatch("change",n),e.forEach((function(e){var n=e.nodeData;t.store.dispatch("node-"+n.handle,e)}))},t.prototype.getCurrentNodes=function(){return this.store.getCurrentValue("change")},t.prototype.getNode=function(e){return this.store.getCurrentValue("node-"+e)},t.prototype.getNodeStream=function(e){var t=this.getNode(e);if(t){if(t instanceof c.PortfolioFileNode){var n="node-blob-"+e,o=this.store.getCurrentValue(n);if(o)return o;var r=t.getFileStream();return this.store.dispatch(n,r),r}throw new Error("Incorrect node type")}},t.prototype.getNodeData=function(e){var t;return null===(t=this.getNode(e))||void 0===t?void 0:t.nodeData},t}(i.a),m=function(e){function t(t){var n=e.call(this)||this;return n.currentFolderPathStore=new u.Store,n.nodeCacheStore=new g,n.pdfui=t,n}return p(t,e),t.scope=function(){return a.ServiceScope.SINGLETON},t.services=function(){return{service:s.PortfolioService}},t.prototype.serviceInjected=function(){var e=this;this.addDestroyHook(this.pdfui.addViewerEventListener(f.a.willCloseDocument,(function(){e.dispatchPathChange({path:[],current:void 0,subNodes:[]}),e.nodeCacheStore.clear()})),this.service.onDocumentTypeSwitch((function(t){t!=s.DOCUMENT_TYPE.PORTFOLIO?e.currentPortfolio=void 0:e.currentPortfolio=e.pdfui.getCurrentPDFDoc().then((function(t){var n=t.getPDFPortfolio();return n.getFolioTreeRoot().then((function(t){return e.nodeCacheStore.put(t),e.reloadPath([t]),n}))}))})))},t.prototype.getFileBlob=function(e){var t=this.nodeCacheStore.getNodeStream(e);if(!t)throw new Error("Cannot obtains the portfolio node stream!");return t},t.prototype.onFileListChange=function(e){return this.currentFolderPathStore.subscribe("change",(function(t){var n=t.path,o=t.subNodes,r=n.map((function(e){return e.nodeData})),i=o.map((function(e){return e.nodeData}));e(r,i)}))},t.prototype.getPortfolioNodeData=function(e){return this.nodeCacheStore.getNodeData(e)},t.prototype.switchToFolder=function(e){var t=this;return this.currentPortfolio?this.currentPortfolio.then((function(){var n=(t.currentFolderPathStore.getCurrentValue("change")||{path:[]}).path,o=n.findIndex((function(t){return t.nodeData.handle===e}));if(-1===o){var r=n[n.length-1];return t.loadPortfolioSubNodes(r.nodeData.handle).then((function(o){var r=o.findIndex((function(t){return t.nodeData.handle===e}));if(-1===r)throw new Error("Illegal folder id");return n.push(o[r]),t.reloadPath(n),!0}))}return n=n.slice(0,o+1),t.reloadPath(n),!0})):Promise.resolve(!1)},t.prototype.reloadPath=function(e){var t=this,n=e[e.length-1];return this.loadPortfolioSubNodes(n.nodeData.handle).then((function(n){t.isDestroyed||e.length<1||t.dispatchPathChange({path:e,subNodes:n})}))},t.prototype.dispatchPathChange=function(e){this.currentFolderPathStore.dispatch("change",e)},t.prototype.loadPortfolioSubNodes=function(e){var t=this,n=this.nodeCacheStore.getNode(e);return n&&n instanceof c.PortfolioFolderNode?n.subNodes.length>0?Promise.resolve(n.subNodes):n.getSortedSubNodes().then((function(e){return e.forEach((function(e,t){e.nodeData.order=t})),t.nodeCacheStore.putAll(e),e})):Promise.reject(new Error("Folder not in cache: "+e))},t}(i.a)},function(e,t,n){var o=n(29);e.exports=function(e,t){if(!o(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!o(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!o(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!o(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var o=n(0),r=n(87),i=n(25);e.exports=function(e,t){var n=(r.Object||{})[e]||Object[e],a={};a[e]=t(n),o(o.S+o.F*i((function(){n(1)})),"Object",a)}},function(e,t,n){var o=n(88),r=n(168),i=n(51),a=n(37),s=n(256);e.exports=function(e,t){var n=1==e,c=2==e,u=3==e,l=4==e,f=6==e,p=5==e||f,d=t||s;return function(t,s,h){for(var g,m,v=i(t),y=r(v),b=o(s,h,3),w=a(y.length),_=0,P=n?d(t,w):c?d(t,0):void 0;w>_;_++)if((p||_ in y)&&(m=b(g=y[_],_,v),e))if(n)P[_]=m;else if(m)switch(e){case 3:return!0;case 5:return g;case 6:return _;case 2:P.push(g)}else if(l)return!1;return f?-1:u||l?l:P}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t}return e.prototype.selectFrom=function(e,t){return[]},e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=c(n(4)),r=c(n(43)),i=c(n(1)),a=c(n(139)),s=n(24);function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.cursorStyle="fv__cursor-grab",o}return u(t,e),t.getStateName=function(){return s.STATE_HANDLER_HAND},t.getDefaultContextMenuConfig=function(){return{selector:".fv__hand-state-contextmenu-container",items:{zoomin:{name:"zoomin",nameI18nKey:"viewer_:contextmenu.hand.zoomin",callback:function(e,t,n){this.data("hand-state").zoomIn()},visible:function(){return this.data("hand-state").allowZoomIn()}},zoomout:{name:"zoomout",nameI18nKey:"viewer_:contextmenu.hand.zoomout",callback:function(e,t,n){this.data("hand-state").zoomOut()},visible:function(){return this.data("hand-state").allowZoomOut()}}}}},t.prototype.pageHandler=function(e){var t=this;this.pageRender=e;var n=e;e.$ui.addClass("fv__annot-container-zindex-up fv__allow-modify-form-control");var a=n.$handler;a.addClass("fv__hand-state-handler"),a.addClass(this.cursorStyle);var s=a[0],c=e.pdfViewer.eventEmitter,u=this.hammer=new r.default.Manager(s,{recognizers:[[r.default.Pan,{direction:r.default.DIRECTION_ALL}]]});u.add(new r.default.Tap({event:"doubletap",taps:2})),u.add(new r.default.Tap({event:"singletap"})),u.add(new r.default.Press),u.get("doubletap").recognizeWith("singletap"),u.get("singletap").requireFailure("doubletap"),u.on("singletap",(function(t){var n=e.annotsRender;n?(n.unActiveAnnot(),c.emit(i.default.tapPage,t)):c.emit(i.default.tapPage,t)})),u.on("doubletap",(function(t){var n=e.annotsRender;n?(n.unActiveAnnot(),c.emit(i.default.doubleTapPage,t,e)):c.emit(i.default.doubleTapPage,t,e)})),u.on("press",(function(t){var n=e.annotsRender;n?(n.unActiveAnnot(),c.emit(i.default.pressPage,t)):c.emit(i.default.pressPage,t)})),a.on("mousedown",this.mousedown=function(e){a.removeClass(t.cursorStyle),t.cursorStyle="fv__cursor-grabbing",a.addClass(t.cursorStyle)}),a.on("mouseup",this.mouseup=function(n){if(a.removeClass(t.cursorStyle),t.cursorStyle="fv__cursor-grab",a.addClass(t.cursorStyle),3===n.which){var o=e.annotsRender;o?(o.unActiveAnnot(),c.emit(i.default.rightClickPage,n)):c.emit(i.default.rightClickPage,n)}});var l=(0,o.default)('<div class="fv__hand-state-contextmenu-container fv__contextmenu-container"></div>');a.append(l),l.data("hand-state",this)},t.prototype.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$ui.removeClass("fv__annot-container-zindex-up fv__allow-modify-form-control"),this.pageRender.$handler.off("mousedown",this.mousedown).off("mouseup",this.mouseup).removeClass("fv__hand-state-handler").removeClass(this.cursorStyle).find(".fv__hand-state-contextmenu-container").remove(),this.pageRender.annotsRender&&this.pageRender.annotsRender.unActiveAnnot(),this.pageRender.$handler.removeClass("fv__cursor-grabbing","fv__cursor-grab"),this._destroyTouchScrollEvent&&this._destroyTouchScrollEvent()},t.prototype.out=function(){this.destroyPageHandler(),this.destroyDocHandler(),this.pageRender=null},t.prototype.allowZoomIn=function(){var e=this.pageRender,t=e.pdfViewer;return e.getScale()<t.config.maxScale},t.prototype.zoomIn=function(){var e=this.pageRender,t=e.getScale();t=Math.ceil(4*t+1)/4,e.pdfViewer.zoomTo(t).catch((function(){}))},t.prototype.allowZoomOut=function(){var e=this.pageRender,t=e.pdfViewer;return e.getScale()>t.config.minScale},t.prototype.zoomOut=function(){var e=this.pageRender,t=e.getScale();t=Math.floor(4*t-1)/4,e.pdfViewer.zoomTo(t).catch((function(){}))},t.prototype.clockwiseRoataion=function(){this.pageRender.getPDFPage().then((function(e){var t=(e.getRotation()+1)%4;e.setRotation(t)}))},t.prototype.contrarotate=function(){this.pageRender.getPDFPage().then((function(e){var t=(e.getRotation()+3)%4;e.setRotation(t)}))},t}(a.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.download=function(e,t,n){if(r.isMobile&&i.isSafari){if(new RegExp(/\sversion\/(.*?)\s/i).test(navigator.userAgent.toLowerCase())&&Number(RegExp.$1)<13)return window.pdfviewer.viewerUI.alert("alert.browserNotSupportDownload")}void 0===n&&(n="application/octet-stream");var a=e instanceof Blob?e:new Blob(e,{type:n});(0,o.saveAs)(a,t)};var o=n(395),r=n(14),i=n(34)},function(e,t,n){"use strict";var o;n.r(t),n.d(t,"PortfolioNodeType",(function(){return o})),function(e){e[e.folder=1]="folder",e[e.file=0]="file"}(o||(o={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var o,r=n(188),i=n.n(r),a=n(144),s=n.n(a),c=n(7),u=n(1),l=n.n(u),f=n(33),p=function(){function e(e){this.pdfRect={left:0,right:0,top:0,bottom:0},this.deviceRect={left:0,right:0,top:0,bottom:0},this.annotationInfo=this.getDefaultAnnotInfo(),this.eContainer=document.createElement("div"),this.eContainer.classList.add("fv__viewer-fake-annot-container"),this.pdfViewer=e.pdfViewer,this.pageRender=e.pageRender,s()(this.annotationInfo,this.getDefaultAnnotConfig(),e.info),this.annotationInfo.type=this.getType(),this.page=e.pageRender.page,this.scale=e.pageRender.scale,this.rotate=e.pageRender.rotate,this.pageRender.$annotsContainer.append(this.eContainer)}return e.prototype.setRect=function(e){this.deviceRect=e;var t=Math.abs(e.right-e.left),n=Math.abs(e.bottom-e.top),o=Object(f.pt2px)(this.annotationInfo.borderInfo.width)*this.scale*2;if(t<o){var r=.5*(o-t)*(e.right-e.left>0?1:-1);e.right+=r,e.left-=r}if(n<o){r=.5*(o-n)*(e.bottom-e.top>0?1:-1);e.top-=r,e.bottom+=r}t=Math.abs(e.right-e.left),n=Math.abs(e.bottom-e.top);var i=this.pageRender.rotate;this.pdfRect=this.page.reverseDeviceRect(e,this.scale,i),this.eContainer.style.cssText+="\n            left: "+e.left+"px;\n            top: "+e.top+"px;\n            width: "+t+"px;\n            height: "+n+"px;\n        "},e.prototype.setContent=function(e){this.annotationInfo.contents=e},e.prototype.zoomTo=function(e){this.scale=e},e.prototype.draw=function(){this.renderer||(this.renderer=this.generateApRenderer(),this.renderer.prepare(),this.renderer.willRender()),this.renderer.render(this.scale,this.rotate)},e.prototype.getContainerElement=function(){return this.eContainer},e.prototype.getRenderingData=function(e,t){void 0===e&&(e=this.scale),void 0===t&&(t=this.rotate);var n=this.pdfViewer.getSmartScale(e),o=this.getDeviceRect(e,t),r=this.getOuterDeviceRect(e,t),a=this.getDeviceRect(n,t);return{annotInfo:this.annotationInfo,annotFlag:new i.a(this.annotationInfo.flags),smartScale:n,rect:r,outerDeviceRect:r,innerDeviceRect:o,engineRenderingRect:a,scale:e,rotate:t,page:this.page}},e.prototype.getDeviceRect=function(e,t){return this.page.getDeviceRect(this.pdfRect,e,t)},e.prototype.getOuterDeviceRect=function(e,t){return this.getDeviceRect(e,t)},e.prototype.apply=function(){var e,t=this;null===(e=this.renderer)||void 0===e||e.afterRender();var n=this.getCreationJSON();return n.rect=this.pdfRect,this.page.addAnnot(n).then((function(e){t.destroy();var n=e[0];return t.pageRender.annotsRender.activeAnnot(n.getId()),t.pdfViewer.eventEmitter.emit(l.a.addAnnotSuccess,n),e}))},e.prototype.destroy=function(){var e;null===(e=this.renderer)||void 0===e||e.destroy(),this.getContainerElement().remove()},e.prototype.getCreationJSON=function(){return this.annotationInfo},e.prototype.getDefaultAnnotInfo=function(){return{borderInfo:{width:2,style:c.BORDER_STYLE.SOLID},color:16711680,opacity:1,flags:4,date:new Date}},e.prototype.getDefaultAnnotConfig=function(){var e=this.pdfViewer.getDefaultAnnotConfig();return"function"==typeof e?e(this.getType(),this.getIntent()):{}},e.prototype.getIntent=function(){},e}(),d=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.getTileConfig=function(e,t){void 0===e&&(e=this.scale),void 0===t&&(t=this.rotate);var n=this.pdfViewer.getSmartScale(e),o=this.pdfViewer.config.tileSize,r=this.page.getDeviceRect(this.pdfRect,1,t),i=this.page.getDeviceRect(this.pdfRect,n,t),a=i.right-i.left,s=i.bottom-i.bottom;return[Math.ceil(s/o),Math.ceil(a/o),a,s,o,n,e,t,r.left,r.top]},t.prototype.getRenderingData=function(t,n){void 0===t&&(t=this.scale),void 0===n&&(n=this.rotate);var o=e.prototype.getRenderingData.call(this,t,n);return Object.assign(o,{opacity:this.annotationInfo.opacity,tileConfig:this.getTileConfig(t,n)})},t}(p)},function(e,t,n){"use strict";if(n(41)){var o=n(113),r=n(23),i=n(25),a=n(0),s=n(200),c=n(264),u=n(88),l=n(133),f=n(126),p=n(68),d=n(135),h=n(90),g=n(37),m=n(386),v=n(129),y=n(97),b=n(78),w=n(148),_=n(29),P=n(51),O=n(253),E=n(130),x=n(81),C=n(131).f,A=n(255),S=n(127),D=n(35),T=n(100),I=n(190),R=n(171),M=n(258),j=n(150),k=n(195),N=n(132),F=n(257),L=n(375),V=n(46),B=n(80),U=V.f,H=B.f,$=r.RangeError,W=r.TypeError,q=r.Uint8Array,z=Array.prototype,G=c.ArrayBuffer,Y=c.DataView,K=T(0),X=T(2),J=T(3),Z=T(4),Q=T(5),ee=T(6),te=I(!0),ne=I(!1),oe=M.values,re=M.keys,ie=M.entries,ae=z.lastIndexOf,se=z.reduce,ce=z.reduceRight,ue=z.join,le=z.sort,fe=z.slice,pe=z.toString,de=z.toLocaleString,he=D("iterator"),ge=D("toStringTag"),me=S("typed_constructor"),ve=S("def_constructor"),ye=s.CONSTR,be=s.TYPED,we=s.VIEW,_e=T(1,(function(e,t){return Ce(R(e,e[ve]),t)})),Pe=i((function(){return 1===new q(new Uint16Array([1]).buffer)[0]})),Oe=!!q&&!!q.prototype.set&&i((function(){new q(1).set({})})),Ee=function(e,t){var n=h(e);if(n<0||n%t)throw $("Wrong offset!");return n},xe=function(e){if(_(e)&&be in e)return e;throw W(e+" is not a typed array!")},Ce=function(e,t){if(!_(e)||!(me in e))throw W("It is not a typed array constructor!");return new e(t)},Ae=function(e,t){return Se(R(e,e[ve]),t)},Se=function(e,t){for(var n=0,o=t.length,r=Ce(e,o);o>n;)r[n]=t[n++];return r},De=function(e,t,n){U(e,t,{get:function(){return this._d[n]}})},Te=function(e){var t,n,o,r,i,a,s=P(e),c=arguments.length,l=c>1?arguments[1]:void 0,f=void 0!==l,p=A(s);if(null!=p&&!O(p)){for(a=p.call(s),o=[],t=0;!(i=a.next()).done;t++)o.push(i.value);s=o}for(f&&c>2&&(l=u(l,arguments[2],2)),t=0,n=g(s.length),r=Ce(this,n);n>t;t++)r[t]=f?l(s[t],t):s[t];return r},Ie=function(){for(var e=0,t=arguments.length,n=Ce(this,t);t>e;)n[e]=arguments[e++];return n},Re=!!q&&i((function(){de.call(new q(1))})),Me=function(){return de.apply(Re?fe.call(xe(this)):xe(this),arguments)},je={copyWithin:function(e,t){return L.call(xe(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return Z(xe(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return F.apply(xe(this),arguments)},filter:function(e){return Ae(this,X(xe(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return Q(xe(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return ee(xe(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){K(xe(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return ne(xe(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return te(xe(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return ue.apply(xe(this),arguments)},lastIndexOf:function(e){return ae.apply(xe(this),arguments)},map:function(e){return _e(xe(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return se.apply(xe(this),arguments)},reduceRight:function(e){return ce.apply(xe(this),arguments)},reverse:function(){for(var e,t=xe(this).length,n=Math.floor(t/2),o=0;o<n;)e=this[o],this[o++]=this[--t],this[t]=e;return this},some:function(e){return J(xe(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return le.call(xe(this),e)},subarray:function(e,t){var n=xe(this),o=n.length,r=v(e,o);return new(R(n,n[ve]))(n.buffer,n.byteOffset+r*n.BYTES_PER_ELEMENT,g((void 0===t?o:v(t,o))-r))}},ke=function(e,t){return Ae(this,fe.call(xe(this),e,t))},Ne=function(e){xe(this);var t=Ee(arguments[1],1),n=this.length,o=P(e),r=g(o.length),i=0;if(r+t>n)throw $("Wrong length!");for(;i<r;)this[t+i]=o[i++]},Fe={entries:function(){return ie.call(xe(this))},keys:function(){return re.call(xe(this))},values:function(){return oe.call(xe(this))}},Le=function(e,t){return _(e)&&e[be]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Ve=function(e,t){return Le(e,t=y(t,!0))?f(2,e[t]):H(e,t)},Be=function(e,t,n){return!(Le(e,t=y(t,!0))&&_(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?U(e,t,n):(e[t]=n.value,e)};ye||(B.f=Ve,V.f=Be),a(a.S+a.F*!ye,"Object",{getOwnPropertyDescriptor:Ve,defineProperty:Be}),i((function(){pe.call({})}))&&(pe=de=function(){return ue.call(this)});var Ue=d({},je);d(Ue,Fe),p(Ue,he,Fe.values),d(Ue,{slice:ke,set:Ne,constructor:function(){},toString:pe,toLocaleString:Me}),De(Ue,"buffer","b"),De(Ue,"byteOffset","o"),De(Ue,"byteLength","l"),De(Ue,"length","e"),U(Ue,ge,{get:function(){return this[be]}}),e.exports=function(e,t,n,c){var u=e+((c=!!c)?"Clamped":"")+"Array",f="get"+e,d="set"+e,h=r[u],v=h||{},y=h&&x(h),b=!h||!s.ABV,P={},O=h&&h.prototype,A=function(e,n){U(e,n,{get:function(){return function(e,n){var o=e._d;return o.v[f](n*t+o.o,Pe)}(this,n)},set:function(e){return function(e,n,o){var r=e._d;c&&(o=(o=Math.round(o))<0?0:o>255?255:255&o),r.v[d](n*t+r.o,o,Pe)}(this,n,e)},enumerable:!0})};b?(h=n((function(e,n,o,r){l(e,h,u,"_d");var i,a,s,c,f=0,d=0;if(_(n)){if(!(n instanceof G||"ArrayBuffer"==(c=w(n))||"SharedArrayBuffer"==c))return be in n?Se(h,n):Te.call(h,n);i=n,d=Ee(o,t);var v=n.byteLength;if(void 0===r){if(v%t)throw $("Wrong length!");if((a=v-d)<0)throw $("Wrong length!")}else if((a=g(r)*t)+d>v)throw $("Wrong length!");s=a/t}else s=m(n),i=new G(a=s*t);for(p(e,"_d",{b:i,o:d,l:a,e:s,v:new Y(i)});f<s;)A(e,f++)})),O=h.prototype=E(Ue),p(O,"constructor",h)):i((function(){h(1)}))&&i((function(){new h(-1)}))&&k((function(e){new h,new h(null),new h(1.5),new h(e)}),!0)||(h=n((function(e,n,o,r){var i;return l(e,h,u),_(n)?n instanceof G||"ArrayBuffer"==(i=w(n))||"SharedArrayBuffer"==i?void 0!==r?new v(n,Ee(o,t),r):void 0!==o?new v(n,Ee(o,t)):new v(n):be in n?Se(h,n):Te.call(h,n):new v(m(n))})),K(y!==Function.prototype?C(v).concat(C(y)):C(v),(function(e){e in h||p(h,e,v[e])})),h.prototype=O,o||(O.constructor=h));var S=O[he],D=!!S&&("values"==S.name||null==S.name),T=Fe.values;p(h,me,!0),p(O,be,u),p(O,we,!0),p(O,ve,h),(c?new h(1)[ge]==u:ge in O)||U(O,ge,{get:function(){return u}}),P[u]=h,a(a.G+a.W+a.F*(h!=v),P),a(a.S,u,{BYTES_PER_ELEMENT:t}),a(a.S+a.F*i((function(){v.of.call(h,1)})),u,{from:Te,of:Ie}),"BYTES_PER_ELEMENT"in O||p(O,"BYTES_PER_ELEMENT",t),a(a.P,u,je),N(u),a(a.P+a.F*Oe,u,{set:Ne}),a(a.P+a.F*!D,u,Fe),o||O.toString==pe||(O.toString=pe),a(a.P+a.F*i((function(){new h(1).slice()})),u,{slice:ke}),a(a.P+a.F*(i((function(){return[1,2].toLocaleString()!=new h([1,2]).toLocaleString()}))||!i((function(){O.toLocaleString.call([1,2])}))),u,{toLocaleString:Me}),j[u]=D?S:T,o||D||p(O,he,T)}}else e.exports=function(){}},function(e,t,n){var o=n(381),r=n(0),i=n(167)("metadata"),a=i.store||(i.store=new(n(384))),s=function(e,t,n){var r=a.get(e);if(!r){if(!n)return;a.set(e,r=new o)}var i=r.get(t);if(!i){if(!n)return;r.set(t,i=new o)}return i};e.exports={store:a,map:s,has:function(e,t,n){var o=s(t,n,!1);return void 0!==o&&o.has(e)},get:function(e,t,n){var o=s(t,n,!1);return void 0===o?void 0:o.get(e)},set:function(e,t,n,o){s(n,o,!0).set(e,t)},keys:function(e,t){var n=s(e,t,!1),o=[];return n&&n.forEach((function(e,t){o.push(t)})),o},key:function(e){return void 0===e||"symbol"==typeof e?e:String(e)},exp:function(e){r(r.S,"Reflect",e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(204),i=n(13),a=(o=i)&&o.__esModule?o:{default:o};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:null,pdfViewer:null};s(this,t);var o=c(this,e.call(this));return o.disposor=new a.default,o._parent=n,o._parentName=n.name,o.pdfViewer=n.pdfViewer,o.isDestroyed=!1,o}return u(t,e),t.prototype.addDestroyHook=function(){var e;(e=this.disposor).addDestroyHook.apply(e,arguments)},t.prototype.destroy=function(){this._parent=null,this.isDestroyed=!0,this.disposor.destroy()},t.prototype.parent=function(e){var t=this._parent;return e?t?e===this._parentName?t:t.parent(e):null:t},t.prototype.doActive=function(){},t.prototype.doDeactive=function(){},t}(r.Activatable);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getClientX=function(e){if("clientX"in e)return e.clientX;switch(e.type){case"touchstart":case"touchmove":return e.touches[0].clientX;case"touchend":case"touchcancel":return e.changedTouches[0].clientX}},t.getClientY=function(e){if("clientY"in e)return e.clientY;switch(e.type){case"touchstart":case"touchmove":return e.touches[0].clientY;case"touchend":case"touchcancel":return e.changedTouches[0].clientY}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return JSON.parse(JSON.stringify(e)).reduce((function(e,t){if(2===t.length){for(var n=[],o=t[0];o<t[1];o++)n.push(o);t=n}return e.concat(t)}),[])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildVertexesByPoints=t.buildRectByPoints=t.buildGesturesByArrays=t.default=void 0;var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=C(n(991)),i=C(n(992)),a=C(n(993)),s=C(n(994)),c=C(n(995)),u=C(n(996)),l=C(n(997)),f=C(n(998)),p=C(n(999)),d=C(n(1e3)),h=C(n(1001)),g=C(n(1002)),m=C(n(1003)),v=C(n(1004)),y=C(n(1005)),b=C(n(1006)),w=C(n(458)),_=n(12),P=n(297),O=n(7),E=C(n(4)),x=C(n(57));function C(e){return e&&e.__esModule?e:{default:e}}function A(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var S={line:l.default,circle:i.default,square:h.default,highlight:c.default,squiggly:g.default,underline:b.default,strikeout:v.default,freetext:s.default,caret:r.default,ink:u.default,stamp:m.default,polyline:f.default,polygon:p.default,text:y.default,fileattachment:a.default,sound:d.default},D=function(e){var t=[];return e.map((function(e){var n=e[0];if(Array.isArray(n))e.map((function(e,n){var o={};o.type=0===n?1:2,o.x=e[0],o.y=e[1],t.push(o)}));else for(var o=Math.floor(e.length/2),r=e,i=0;i<o;i++){var a=r.slice(2*i,2*i+2),s={};s.type=0===i?1:2,s.x=a[0],s.y=a[1],t.push(s)}})),t},T=function(e){for(var t=Math.floor(e.length/2),n=[],o=[],r=e,i=0;i<2*t;i++)[i]%2==0?o.push(r[i]):n.push(r[i]);return{left:Math.min.apply(Math,o),bottom:Math.min.apply(Math,n),right:Math.max.apply(Math,o),top:Math.max.apply(Math,n)}},I={getAnnotClass:function(e){var t=S[e];return t||w.default},getAnnots:function(e,t,n,o){var r=void 0;return r=t===P.ANFB_ShouldPrint?e.filter((function(e){return e.print})):t===P.ANFB_ShouldView?e.filter((function(e){return!e.noView})):t===P.ANFB_ShouldEdit?e.filter((function(e){return!e.readOnly})):[].concat(A(e)),n===P.ANSB_Author?r.sort((function(e,t){var n=e.author,o=t.author;return n.localeCompare(o)})):n===P.ANSB_ModDate&&r.sort((function(e,t){var n=e.modDate,o=t.modDate;if(null===n&&null===o)return 0;if(null!==n&&null===o)return 1;if(null===n&&null!==o)return-1;var r=n.getTime(),i=o.getTime();return r>i?1:r<i?-1:0})),n===P.ANSB_Type&&r.sort((function(e,t){var n=e.type,o=t.type;return n.localeCompare(o)})),o?r.reverse():r},getAnnot:function(e,t,n){var o=e.getType(),r=I.getAnnotClass(o);return r===w.default?null:new r(e,t,n)},addAnnot:function(e,t){var n=e.type=e.type.toLowerCase(),r=null;switch(n){case"line":r=I.buildLineJson(e);break;case"stamp":r=I.buildStampJson(e);break;case"fileattachment":case"text":r=I.buildIconShapeJson(e);break;case"freetext":r=I.buildFreeTextJson(e);break;case"circle":case"caret":case"square":r=I.buildSimpleShapeJson(e);break;case"polyline":case"polygon":case"ink":case"highlight":case"underline":case"strikeout":case"squiggly":r={type:e.type,date:new Date};break;case"sound":r=I.buildScreenShapeJson(e)}if(!r)return null;r=I.buildJsonKeyValue(e,r);var i=I.getAnnotClass(n);e.creationDate=r.date,e.modDate||(e.modDate=r.date);var a=new i(null,e);return(0,x.default)((function(){return t.currentPDFDoc.addAnnot(e.page,r).then((function(n){return[t.getPDFPageRender(e.page),n]})).then((function(e){var t=e[0];return t.isRendered?e:t.render().then((function(){return e}))})).then((function(t){var n=o(t,2),i=n[0],s=n[1][0],c=i.annotsRender.getAnnotRender(s.getId()).component,u=c.annot;u.info.author=r.author,I.doUpdatePropsAfterAdd(u,e,(function(t){t&&c.redraw(),e.open&&c.showReplyDialog("comment"),a.annot=u,c.isHidden()||c.parent("annotsRender").activeAnnot(c.getId())}))}))})),a},showFileDialog:function(e){return new Promise((function(t){(0,E.default)("#jsFileAttachment").length>0&&(0,E.default)("#jsFileAttachment").remove(),(0,E.default)("body").append('<input id="jsFileAttachment" type="file" style="display: none;"/>'),(0,E.default)("#jsFileAttachment").off("change").on("change",(function(n){var o=n.target.files[0];if(o){var r=new FileReader;r.readAsArrayBuffer(o),r.onload=function(){var n=new Uint8Array(r.result);e.contentType=o.type,e.buffer=n,e.fileName=o.name;var i=I.addAnnot(e);t(i)}}})),(0,E.default)("#jsFileAttachment").click()}))},doUpdatePropsAfterAdd:function(e,t,n){if("freetext"===t.type){if(t.textSize&&(t.textSize>=4||t.textSize<=144)){var o=e.getDefaultAppearance();return o.textSize=t.textSize,void e.setDefaultAppearance(o).then((function(e){n&&n(!0)}))}}else if("text"===t.type&&t.noteIcon)return void e.setIconName(t.noteIcon).then((function(e){n&&n(!0)}));n&&n()},buildRectByPoint:function(e){var t=e[0],n=e[1];return{left:t,bottom:n-20,right:t+20,top:n}},buildSimpleShapeJson:function(e){var t=T(e.rect),n=t.left,o=t.bottom,r=t.right,i=t.top;return{type:e.type,date:new Date,rect:{left:n,bottom:o,right:r,top:i}}},buildIconShapeJson:function(e){return{type:e.type,date:new Date,rect:I.buildRectByPoint(e.point)}},buildScreenShapeJson:function(e){var t=void 0;return t=e.point?I.buildRectByPoint(e.point):T(e.rect),{type:"screen",date:new Date,rect:t}},buildStampJson:function(e){var t=T(e.rect),n=t.left,o=t.bottom,r=t.right,i=(t.top,.3*(r-n));return{type:e.type,date:new Date,rect:{left:n,bottom:o,right:r,top:o+i}}},buildFreeTextJson:function(e){var t={type:e.type,date:new Date};"FreeTextCallout"===e.intent&&(t.intent=e.intent,e.callout&&(t.calloutLinePoints=AnnotManage.buildVertexesByPoints(e.callout)));var n=[].concat(A(e.rect));return t.calloutLinePoints&&n.push.apply(n,A(e.callout)),t.rect=T(n),t.innerRect=T(e.rect),t},buildLineJson:function(e){var t=e.points[0],n=e.points[1],o=t[0],r=t[1],i=n[0],a=n[1],s={type:"line",date:new Date,rect:{left:o,bottom:r,right:i,top:a},startStyle:O.LineEndingStyle.None,endStyle:O.LineEndingStyle.None};return e.arrowBegin&&(s.startStyle=O.LineEndingStyle[e.arrowBegin]),e.arrowEnd&&(s.endStyle=O.LineEndingStyle[e.arrowEnd]),s},buildFlags:function(e,t){return e.hidden?t.flags=2|t.flags:t.flags=-3&t.flags,e.print||void 0===e.print?t.flags=4|t.flags:t.flags=-5&t.flags,e.noView?t.flags=32|t.flags:t.flags=-33&t.flags,e.readOnly?t.flags=64|t.flags:t.flags=-65&t.flags,e.lock?t.flags=128|t.flags:t.flags=-129&t.flags,e.toggleNoView?t.flags=256|t.flags:t.flags=-257&t.flags,t},buildCoords:function(e,t){for(var n=Math.floor(e.quads.length/8),o=e.quads,r=[],i=0;i<n;i++){var a=o.slice(8*i,8*i+8),s=Math.min.apply(Math,[a[0],a[2],a[4],a[6]]),c=Math.max.apply(Math,[a[1],a[3],a[5],a[7]]),u=Math.max.apply(Math,[a[0],a[2],a[4],a[6]]),l=Math.min.apply(Math,[a[1],a[3],a[5],a[7]]);r.push({left:s,top:c,right:u,bottom:l,rotation:0})}return t.coords=r,t},calcRectByVertices:function(e){var t={},n=0,o=0,r=0,i=0;return e.map((function(e,t){var a=e.x,s=e.y;0===t?(n=a,o=a,r=s,i=s):(n=a<n?a:n,o=a>o?a:o,r=s<r?s:r,i=s>i?s:i)})),t.left=n,t.right=o,t.bottom=r,t.top=i,t},buildVertices:function(e,t){if(!e.vertices)return t;if("polygon"===e.type||"polyline"===e.type){for(var n=[],o=Math.floor(e.vertices.length/2),r=e.vertices,i=0;i<o;i++){var a=r.slice(2*i,2*i+2);n.push({x:a[0],y:a[1]})}t.vertexes=n,t.rect=I.calcRectByVertices(n)}return t},buildFillColor:function(e,t){return e.fillColor?("circle"!==e.type&&"square"!==e.type&&"line"!==e.type&&"polygon"!==e.type&&"polyline"!==e.type&&"freetext"!==e.type||(t["interior-color"]=(0,_.colorConvertor)(e.fillColor,"int",0),t.interiorColor=t["interior-color"]),t):t},buildGestures:function(e,t){if("ink"!==e.type||!e.gestures)return t;var n=D(e.gestures);return t.inkList=n,t.rect={left:0,right:0,top:0,bottom:0},t},buildStampAP:function(e,t){if("stamp"!==e.type||!e.AP)return t;var n=void 0;switch(e.AP.toLowerCase()){case"approved":n="Approved";break;case"confidential":n="Confidential";break;case"draft":n="Draft";break;case"expired":n="Expired";break;case"final":n="Final";break;default:n="Approved"}return t.icon=n,t.iconCategory="Static",t},buildJsonKeyValue:function(e,t){return e.strokeColor&&(t.color=(0,_.colorConvertor)(e.strokeColor,"int",0)),e.popupOpen&&"freetext"!==e.type&&"sound"!==e.type&&"fileattachment"!==e.type&&(t.open="yes"),e.contents&&(t.contents=e.contents),e.name&&(t.name=e.name),e.author&&(t.title=e.author),e.opacity&&(t.opacity=e.opacity),e.width&&(t.borderWidth=e.width),t=I.buildFlags(e,t),"highlight"!==e.type&&"strikeout"!==e.type&&"underline"!==e.type&&"squiggly"!==e.type||((t=I.buildCoords(e,t)).rect={left:0,right:0,top:0,bottom:0}),"fileattachment"===e.type?(e.buffer&&(t.buffer=e.buffer,t.fileName=e.fileName),e.attachIcon&&(t.icon=e.attachIcon)):"sound"===e.type&&e.buffer&&(t.multiBuffer=e.buffer,t.fileName=e.fileName,t.contentType=e.contentType),t=I.buildFillColor(e,t),t=I.buildGestures(e,t),t=I.buildStampAP(e,t),t=I.buildVertices(e,t)}};t.default=I,t.buildGesturesByArrays=D,t.buildRectByPoints=T,t.buildVertexesByPoints=function(e){for(var t=[],n=Math.floor(e.length/2),o=e,r=0;r<n;r++){var i=o.slice(2*r,2*r+2);t.push({x:i[0],y:i[1]})}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(109);t.default=function(e,t){var n=e.getBoundingClientRect(),r=t.srcEvent,i=(0,o.getClientX)(r),a=(0,o.getClientY)(r);return{x:i-n.left-t.deltaX,y:a-n.top-t.deltaY}}},function(e,t){e.exports=!1},function(e,t,n){var o=n(127)("meta"),r=n(29),i=n(78),a=n(46).f,s=0,c=Object.isExtensible||function(){return!0},u=!n(25)((function(){return c(Object.preventExtensions({}))})),l=function(e){a(e,o,{value:{i:"O"+ ++s,w:{}}})},f=e.exports={KEY:o,NEED:!1,fastKey:function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,o)){if(!c(e))return"F";if(!t)return"E";l(e)}return e[o].i},getWeak:function(e,t){if(!i(e,o)){if(!c(e))return!0;if(!t)return!1;l(e)}return e[o].w},onFreeze:function(e){return u&&f.NEED&&c(e)&&!i(e,o)&&l(e),e}}},function(e,t,n){var o=n(35)("unscopables"),r=Array.prototype;null==r[o]&&n(68)(r,o,{}),e.exports=function(e){r[o][e]=!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();t.default=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._ctrl=!1,this._shift=!1,this._win=!1,this._alt=!1,this._capsLock=!1,this._bindEvent()}return e.prototype._bindEvent=function(){var e=this;window.addEventListener("keydown",(function(t){e._ctrl=t.ctrlKey,e._shift=t.shiftKey,e._alt=t.altKey,e._win=t.metaKey,e._capsLock=t.getModifierState("CapsLock")}),!1),window.addEventListener("keyup",(function(t){e._shift=16!==t.keyCode&&e._shift,e._alt=18!==t.keyCode&&e._alt,e._ctrl=17!==t.keyCode&&e._ctrl,e._win=91!==t.keyCode&&e._win,e._capsLock=20!==t.keyCode&&e._capsLock}),!1),window.addEventListener("blur",(function(t){e._ctrl=!1,e._shift=!1,e._alt=!1,e._win=!1}),!0),window.addEventListener("mousemove",(function(t){e._ctrl=t.ctrlKey,e._shift=t.shiftKey,e._alt=t.altKey,e._win=t.metaKey,e._capsLock=t.getModifierState("CapsLock")}),{capture:!0}),window.addEventListener("wheel",(function(t){e._ctrl=t.ctrlKey,e._shift=t.shiftKey,e._alt=t.altKey,e._win=t.metaKey,e._capsLock=t.getModifierState("CapsLock")}),{capture:!0})},o(e,[{key:"isCtrl",get:function(){return this._ctrl}},{key:"isCtrlDown",get:function(){return this._ctrl}},{key:"isShift",get:function(){return this._shift}},{key:"isShiftDown",get:function(){return this._shift}},{key:"isWin",get:function(){return this._win}},{key:"isWinDown",get:function(){return this._win}},{key:"isAlt",get:function(){return this._alt}},{key:"isAltDown",get:function(){return this._alt}},{key:"isCapsLock",get:function(){return this._capsLock}}]),e}())},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=c(n(4)),i=n(18),a=(n(52),n(154)),s=c(n(21));function c(e){return e&&e.__esModule?e:{default:e}}var u="fv__hide",l=function(){},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return!e||e.right-e.left<=t||e.bottom-e.top<=t},p=function(e,t){return e.left>=t.left&&e.right<=t.right&&e.top>=t.top&&e.bottom<=t.bottom},d=function(e,t,n){if(!n&&e.left==t.left&&e.right==t.right&&e.top==t.top&&e.bottom==t.bottom)return[];var o={left:Math.max(e.left,t.left),bottom:Math.min(e.bottom,t.bottom),right:Math.min(e.right,t.right),top:Math.max(e.top,t.top)};if(o.left<o.right&&o.top<o.bottom){if(n)return o;if(p(t,e))return[];var r=void 0,i=void 0;o.left==t.left?(r={left:o.right,right:t.right,top:t.top,bottom:t.bottom},i=o.top==t.top?{left:o.left,right:o.right,top:o.bottom-1,bottom:t.bottom}:{left:o.left,right:o.right,top:t.top-1,bottom:e.top}):o.right==t.right&&(i={left:t.left,right:o.left,top:t.top,bottom:t.bottom},r=o.top==t.top?{left:o.left,right:o.right,top:o.bottom,bottom:t.bottom}:{left:o.left,right:o.right,top:t.top,bottom:o.top});var a=[];return f(i,1)||a.push(i),f(r,1)||a.push(r),0!=a.length||f(t)?a:[t]}return n?null:f(t)?[]:[t]},h=function(){function e(t,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isDestroyed=!1,this.cache={},this.getImageData=t,o&&(this.pageRender=o,this.api=o.page.api),this.tileTasks={};n=n?n.addClass("fv__tiles-container"):(0,r.default)('<div class="fv__tiles-container"><div class="fv__tiles-row fv__tiles-row-0" data-row="0"><div class="fv__tiles-col fv__tiles-col-0-0" data-col="0" data-index="0,0"><canvas class="fv__tiles-canvas fv__tiles-canvas-0-0" data-index="0,0"></canvas></div></div></div>'),this.$container=n,this.$cols=n.find(".fv__tiles-col"),this.$canvases=n.find(".fv__tiles-canvas");var i=n.find(".fv__tiles-row");this.rows=i.length,this.cols=i.eq(0).find(".fv__tiles-col").length,this.updateCanvasMore=function(){},this.updateCanvasContainer=l}return e.prototype.redraw=function(e,t,n,o,r,i,a,s){var c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,l=void 0;if(l=this.renderedRect){var f=this.getRealRect(i,a);if(l.left==f.left&&l.right==f.right&&l.top==f.top&&l.bottom==f.bottom&&this.scale==a&&this.rotate===s&&this.showWidth===n&&this.showHeight===o)return Promise.resolve()}return this.showWidth=n,this.showHeight=o,this.updateDom(e,t,n,o,r,i,a,s,c,u),this.lastRedrawParams=[e,t,n,o,r,i,a,s,c,u],this.getRectBitmap?(this.scale=a,this.rotate=s,this.clearProgressiveTask(),this.renderVisibleRect(i,a)):(this.scale=a,this.rotate=s,this.updateRenderCanvasSerial(e,t,n,o,r,i,a,s,c,u))},e.prototype.isRenderingDone=function(e,t){return e===this.scale&&t===this.$container.width()},e.prototype.updateDom=function(e,t,n,o,r,i,a,s){var c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0;if(0!=n){var f=this.$container,p="px",d={left:c*a+p,top:l*a+p},h=a/i;this.updateCanvasContainer=function(){f.css(d)},f.css(d);var g=!1;if(t>this.cols){for(var m=this.rows;m--;){for(var v=[],y=this.cols,b=t;y<b;y++)v.push('<div class="fv__tiles-col fv__tiles-col-'+[m,y].join("-")+'" data-col="'+y+'" data-index="'+[m,y].join(",")+'">'),v.push('<canvas width="0" class="fv__tiles-canvas fv__tiles-canvas-'+[m,y].join("-")+'" data-index="'+[m,y].join(",")+'"></canvas>'),v.push("</div>");f.find(".fv__tiles-row-"+m).append(v.join(""))}this.cols=t,g=!0}if(e>this.rows){for(var w=[],_=this.rows,P=e;_<P;_++){w.push('<div class="fv__tiles-row fv__tiles-row-'+_+'" data-row="'+_+'">');for(var O=0,E=this.cols;O<E;O++)w.push('<div class="fv__tiles-col fv__tiles-col-'+[_,O].join("-")+'" data-col="'+O+'" data-index="'+[_,O].join(",")+'">'),w.push('<canvas width="0" class="fv__tiles-canvas fv__tiles-canvas-'+[_,O].join("-")+'" data-index="'+[_,O].join(",")+'"></canvas>'),w.push("</div>");w.push("</div>")}f.append(w.join("")),this.rows=e,g=!0}g&&(this.$canvases=f.find(".fv__tiles-canvas"),this.$cols=f.find(".fv__tiles-col"));var x=this.rows,C=this.cols,A=r*h;A+=p;var S=parseInt(n%r+.5);S=S||r,S*=h;var D=parseInt(o%r+.5);D=D||r,D*=h,D+=p;for(var T=this.$cols,I=x;I--;){var R=I*C;if(I>=e)for(var M=C;M--;)T.eq(R+M).addClass(u);else if(I===e-1)for(var j=C;j--;)j>=t?T.eq(R+j).addClass(u):j===t-1?T.eq(R+j).removeClass(u).css({width:Math.floor(S),height:D}):T.eq(R+j).removeClass(u).css({width:A,height:D});else for(var k=C;k--;)k>=t?T.eq(R+k).addClass(u):k===t-1?T.eq(R+k).removeClass(u).css({width:Math.floor(S),height:A}):T.eq(R+k).removeClass(u).css({width:A,height:A})}}},e.prototype.updateRenderCanvasSerial=function(e,t,n,o,r,a,s,c){var u=this,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,f=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,p=this.renderContentImageSerial;if(p&&p.end().catch((function(){})),0==n)return this.updateCanvasContainer(),Promise.resolve();p=this.renderContentImageSerial=new i.SerialPromise;var d=[],h=r*s/a,g=r,m=parseInt(n%r+.5);m=m||r;var v=parseInt(o%r+.5);v=v||r;for(var y=l*s,b=f*s,w=this.visibleRect,_=0,P=e;_<P;_++)for(var O=0,E=t;O<E;O++){if(w){var x=20,C=w.left-x,A=w.right+x,S=w.top-x,D=w.bottom+x,T=y+O*h,I=T+h,R=b+_*h,M=R+h;if(!(I>C&&T<A&&M>S&&R<D)){var j=this.$canvases[t*_+O];j.width=0;continue}}var k=g,N=g;_===e-1&&(N=v),O===t-1&&(k=m),d.push(function(e,t,n,o,r,i){return function(){return u.isDestroyed?Promise.resolve():u.updateCanvas(e,t,n,o,r,i,s,c,l,f)}}(_,O,k,N,r,a))}return p.serial(d)},e.prototype.updateCanvas=function(e,t,n,o,r,i,a,s,c,u){return this.renderImageData(e,t,n,o,r,i,a,s,c,u)},e.prototype.renderImageData=function(e,t,n,r,i,a,s,c,u,l){var f=this;if(this.isDestroyed)return Promise.resolve();var p=[e,t,n,r,i,a,u,l,c].join("-"),d=this.cache,h=([p,"canvas"].join("-"),[p,"imageData"].join("-")),g=[p,"imageUrl"].join("-"),m=d[h];return(m?Promise.resolve(m):this.getImageData(e,t,n,r,i,a,u,l,c)).then((function(n){if(n){var o=n.width,r=n.height,c=n.buffer,p=n.image,m=n.type,v=n.url;d[h]={width:o,height:r,buffer:c,image:p,type:m,url:v};var y=f.$canvases[f.cols*e+t],b=y.getContext("2d");if(0==o||0==r)return y.width=0,[b,e,t,o,r,i,a,u,l];if(v)return new Promise((function(n,s){var c=d[g];if(c)return y.width=o,y.height=r,f.updateCanvasContainer(),b.drawImage(c,e*i,t*i),n([b,e,t,o,r,i,a,u,l]);var p=new Image;p.onload=function(){y.width=o,y.height=r,d[g]=p,f.updateCanvasContainer(),b.drawImage(p,e*i,t*i),n([b,e,t,o,r,i,a,u,l])},p.src=v}));if(p)return new Promise((function(n,s){var c=d[g];if(c)return y.width=o,y.height=r,f.updateCanvasContainer(),b.drawImage(c,0,0),n([b,e,t,o,r,i,a,u,l]);try{var h=new Image;h.onload=function(){y.width=o,y.height=r,d[g]=h,f.updateCanvasContainer(),b.drawImage(h,0,0),n([b,e,t,o,r,i,a,u,l])},h.src=URL.createObjectURL(p)}catch(e){console.log(e)}}));y.width=o,y.height=r;var w=new(Uint8ClampedArray||Uint8Array)(c),_=b.createImageData(o,r);_.data.set(w),f.updateCanvasContainer();var P=a/s;return f.$container.css({width:f.showWidth/P,height:f.showHeight/P}),b.putImageData(_,0,0),[y,b,e,t,o,r,i,a,u,l]}})).then((function(e){var t=o(e,7),n=(t[0],t[1]),r=t[2],i=t[3],a=t[4],s=t[5],c=t[6];f.updateCanvasMore(n,r,i,a,s,c)}))},e.prototype.hideContainer=function(){this.$container.hide(),this.invisibleRender()},e.prototype.showContainer=function(){var e=this.$container;if(!e.is(":visible")){e.show();var t=this.lastRedrawParams;t&&this.redraw.apply(this,t)}},e.prototype.setUpdateCanvasMore=function(e){this.updateCanvasMore=e},e.prototype.destroy=function(){this.offRender&&this.offRender(),this.isDestroyed=!0,delete this.getImageData,delete this.$cols,this.$canvases.each((function(e,t){t.width=0})),delete this.$canvases,this.$container.remove(),delete this.$container,this.clearCache()},e.prototype.setVisibleRect=function(e){this.visibleRect=e},e.prototype.clearCache=function(){var e=this.cache;for(var t in e)delete e[t];this.cache={},this.renderedRect=null,this.clearProgressiveTask()},e.prototype.clearProgressiveTask=function(){if(this.getRectBitmap){for(var e in this.tileTasks)this.api.cancleProgress(e);this.tileTasks={},this.api.off("idle",this.offRender),this.offRender=null}},e.prototype.invisibleRender=function(){this.$canvases.each((function(e,t){t.width=0})),this.clearCache()},e.prototype.invisibleCanvas=function(){},e.prototype.renderVisibleRect=function(e,t){var n=this;if(0===t)return Promise.resolve();if(this.api&&!this.offRender){var o=this.offRender=function(){for(var e in n.tileTasks)n.api.continueProgress(e).then(n.displayImage.bind(n))};this.api.on("idle",o)}var r=this.getRealRect(e,t),i=[r],s=this.renderedRect;if(s){var c=d(s,r);c.length&&(i=c)}return i.forEach((function(t){var o={x:t.left,y:t.top,width:t.right-t.left,height:t.bottom-t.top},r=""+Date.now()+(0,a.getSecureRandom)();n.tileTasks[r]=!0,n.getRectBitmap(o,e,r,n.rotate).then((function(e){if(e)return n.displayImage(e,o)}))})),Promise.resolve()},e.prototype.displayImage=function(e,t){var n=this,r=e.buffer,i=e.image,a=e.progressiveId,c=e.x,u=e.y,l=e.width,f=e.height;if(e.isEmpty||this.isDestroyed||!this.tileTasks[a])delete this.tileTasks[a];else{var h=o(this.lastRedrawParams,7),g=h[0],m=h[1],v=h[2],y=h[3],b=h[4],w=h[5],_=h[6],P=b,O=parseInt(u/P),E=parseInt((u+f)/P),x=parseInt(c/P),C=parseInt((c+l)/P);E>=g&&(E=g-1),C>=m&&(C=m-1);var A=this.$canvases[0].getContext("2d"),S=void 0,D=(0,s.default)();if(i){var T=new Image;T.onload=function(){S=function(e,t,n){e.drawImage(T,t,n)},D.resolve()},T.onerror=function(){D.reject()},T.src=URL.createObjectURL(i)}else{var I=new(Uint8ClampedArray||Uint8Array)(r),R=A.createImageData(l,f);R.data.set(I),S=function(e,t,n){e.putImageData(R,t,n)},D.resolve()}D.promise.then((function(){var t=parseInt(v%b+.5);0==t&&(t=b);var o=parseInt(y%b+.5);0==o&&(o=b);for(var r=O,i=x;r<=E;){for(i=x;i<=C;){var s=n.$canvases[n.cols*r+i],h=i==m-1?t:b,P=r==g-1?o:b;s.width!=h&&(s.width=h),s.height!=P&&(s.height=P);var A=s.getContext("2d"),D=c-i*b,T=u-r*b;S(A,D,T),n.updateCanvasMore(A,c,u,D,T,l,f,b),i+=1}r+=1}if(100==e.rate&&(delete n.tileTasks[a],0==Object.keys(n.tileTasks).length)){n.api.off("idle",n.offRender),n.offRender=null;var I={left:c,top:u,right:c+l,bottom:u+f};if(n.renderedRect)(n.renderedRect=function(e,t){if(p(t,e))return e;var n=d(e,t,!0);if(n){if(n.right-n.left==e.right-e.left){var o=Math.min(e.top,t.top),r=Math.max(e.bottom,t.bottom);return{left:e.left,right:e.right,top:o,bottom:r}}if(n.bottom-n.top==e.bottom-e.top)return{left:Math.min(e.left,t.left),right:Math.max(e.right,t.right),top:e.top,bottom:e.bottom}}}(n.renderedRect,I))||(n.renderedRect=n.getRealRect(w,_));else n.renderedRect=n.getRealRect(w,_);n.clearCanvas(b*_/w)}}))}},e.prototype.clearCanvas=function(e){for(var t=this.visibleRect,n=t.left,r=t.right,i=t.top,a=t.bottom,s=this.getVisibleRect(n,i,r-n,a-i,e),c=o(s,4),u=c[0],l=c[1],f=c[2],p=c[3],d=this.rows,h=this.cols,g=this.$canvases,m=0;m<d;m++)if(m<u||m>l)for(var v=0;v<h;v++)g[h*m+v].width=0;else for(var y=0;y<h;y++)(y<f||y>p)&&(g[h*m+y].width=0),y===f&&(y=p)},e.prototype.getVisibleRect=function(e,t,n,o,r){return[parseInt(t/r),parseInt((t+o)/r),parseInt(e/r),parseInt((e+n)/r)]},e.prototype.getRealRect=function(e,t){var n=this.visibleRect,o=t/e;return{left:parseInt(n.left/o),right:parseInt(n.right/o),top:parseInt(n.top/o),bottom:parseInt(n.bottom/o)}},e}();t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(422)),r=i(n(56));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=i(n(9)).default.getLogger("pdf-ui.Layout"),l=function(e){function t(){return a(this,t),s(this,e.apply(this,arguments))}return c(t,e),t.getName=function(){(0,r.default)()},t.prototype.insert=function(e,t,n){var o=t.children;n=Math.max(0,Math.min(n,o.length-1));var r=o.item(n);t.insertBefore(e,r)},t.prototype.render=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;e=e.slice(0);var r=t.children,i=r[n+o];i||(i=e.pop())&&t.appendChild(i);for(var a=n,s=a+o;a<s;a++){var c=r.item(a);if(c!==i){var l=e.indexOf(c);c&&-1==l&&t.removeChild(c)}}e.reduceRight((function(e,n){try{t.insertBefore(n,e)}catch(o){throw u.error(t,n,e),o}return n}),i)},t}(o.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(t){if(r(this,e),t instanceof Node)this.node=t;else switch(t){case e.TEXT_NODE:this.node=document.createTextNode();break;case e.FRAGMENT:this.node=document.createDocumentFragment();break;case e.COMMENT_NODE:this.node=document.createComment();break;default:this.node=document.createElement(t)}}return o(e,null,[{key:"TEXT_NODE",get:function(){return"$text"}},{key:"FRAGMENT_NODE",get:function(){return"$fragment"}},{key:"COMMENT_NODE",get:function(){return"$fragment"}}]),e.prototype.append=function(e){if(!(this.node instanceof HTMLElement))throw new TypeError("Unsupported operation: "+this.node);this.node.appendChild(e.node)},e.prototype.prepend=function(e){this.insertAt(0,e)},e.prototype.insertAt=function(e,t){if(!(this.node instanceof HTMLElement))throw new TypeError("Unsupported operation: "+this.node);var n=this.node.children,o=n.length;switch(e=Math.max(0,Math.min(o,e))){case 0:0===o?this.node.appendChild(t.node):this.node.insertBefore(t.node,this.node.firstElementChild);break;case o:this.node.appendChild(t.node);break;default:this.node.insertBefore(t.node,n.item(e))}},e.prototype.insertBefore=function(e){if(!e.node.parentElement)throw new Error('The "next" element has not been inserted into other element');var t=e.index();e.parent().insertAt(t,this)},e.prototype.insertAfter=function(e){if(!e.node.parentElement)throw new Error('The "previous" element has not been inserted into other element');var t=e.index();e.parent().insertAt(t+1,this)},e.prototype.index=function(){var e=-1;if(this.node.parentElement)for(var t=this.node.parentElement.firstElementChild;t;){if(e++,t===this.node)return e;t=t.nextSibling}return e},e.prototype.parent=function(){var t=this.node.parentElement;if(t)return new e(t)},e.prototype.remove=function(){this.node.parentElement&&this.node.parentElement.removeChild(this.node)},e}(),a=function(){function e(t,n){r(this,e),this.parentElement=new i(t),this.elements=n.map((function(e){return new i(e)})),this.mounted=this.elements.map((function(e){return!1}))}return e.prototype.replaceElement=function(e,t){var n=this.indexOf(e),o=this.mounted[n];o&&this.unmount(n),this.elements[n]=new i(t),o&&this.mount(n)},e.prototype.indexOf=function(e){for(var t=0,n=this.elements.length;t<n;t++)if(this.elements[t].node===e)return t;return-1},e.prototype.mount=function(e){if("number"!=typeof e&&-1===(e=this.indexOf(e)))throw new TypeError("Cannot mount this element: "+e);if(!(e<0||e>=this.elements.length||this.mounted[e])){for(var t=this.elements[e],n=e-1;n>=0;n--){if(this.mounted[n])return t.insertAfter(this.elements[n]),void(this.mounted[e]=!0)}for(var o=this.elements.length,r=e+1;r<o;r++){if(this.mounted[r])return t.insertBefore(this.elements[r]),void(this.mounted[e]=!0)}this.parentElement.append(t),this.mounted[e]=!0}},e.prototype.unmount=function(e){if(!(e<0||e>=this.elements.length)){var t=this.elements[e];this.mounted[e]=!1,t&&t.remove()}},e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(56),i=(o=r)&&o.__esModule?o:{default:o};var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.receive=function(e,t,n){(0,i.default)()},e.prototype.lost=function(e){},e}();t.default=a},function(t,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,i=o(17);function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var s=function(t){function n(e,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,t.call(this,e,o,r));return i.value=null,i.fieldName=i.fieldName||e.fieldName,i}return a(n,t),n.getMetadata=function(){return{options:{"field-name":{type:"string",field:"fieldName"}}}},n.prototype.getFieldName=function(){return this.fieldName},n.prototype.setFieldName=function(e){this.fieldName=e},n.prototype.getValue=function(){return this.value},n.prototype.setValue=function(e){this.value=e},n.prototype.focus=function(){this.element.focus()},n.prototype.addInputElementListener=function(e,t){var n=this;this.element.addEventListener(e,t),this.addDestroyHook((function(){n.element.removeEventListener(e,t)}))},n.prototype.render=function(){t.prototype.render.call(this),this.element.setAttribute("name",this.fieldName||this.name)},n.prototype.getForwardedEvents=function(){return["blur","change","focus","compositionstart","compositionupdate","compositionend","keyup","keydown","keypress"]},n.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this),this.getForwardedEvents().forEach((function(t){return e.addInputElementListener(t,e.createEventListener(t))}))},n.prototype.createEventListener=function(e){var t=this;return function(n){t.trigger(e,n,t.getDOMValue(),t.value)}},n.prototype.triggerChangeEvent=function(){var t=this.value,n=this.getDOMValue();this.setValue(n),this.controller.handle(n,t,e),this.trigger("change",n,t,e)},n.prototype.getDOMValue=function(){return this.element.value},n.prototype.resolveCompositionEvent=function(){var e=this,t=!1;this.addInputElementListener("compositionstart",(function(e){return t=!0})),this.addInputElementListener("compositionend",(function(e){return t=!1}));var n=this.getDOMValue();this.addInputElementListener("input",(function(o){if(!t){var r=e.getDOMValue();e.trigger("input",r,n,event.data,o),n=r,e.value=r}}))},n.prototype.sync=function(e,n){switch(e){case"value":this.setValue(n);break;default:return t.prototype.sync.call(this,e,n)}return!0},n}(((r=i)&&r.__esModule?r:{default:r}).default);n.default=s},function(e,t,n){"use strict";n.r(t);var o=function(){function e(){}return e.prototype.supportsReply=function(e){switch(e.getType()){case"freetext":case"widget":case"screen":return!1}return!0},e.prototype.supportsDownloadMedia=function(e){return"screen"===e.getType()&&e.info.isAudioVideo},e.prototype.supportsShowActions=function(e){var t=e.getType();return"link"===t||"screen"===t&&!e.info.isAudioVideo},e.prototype.supportsPlayAndPause=function(e){return"screen"===e.getType()&&e.info.isAudioVideo},e.prototype.supportsCopyText=function(e){switch(e.getType()){case"highlight":return!e.info.isArea;case"squiggly":case"underline":case"strikeout":return!0}return!1},e.prototype.supportsAlignment=function(e){var t=(e.getType()||"").toLowerCase();return-1===["strikeout","underline","caret","squiggly","highlight"].indexOf(t)},e.prototype.supportsRedact=function(e){return"redact"===e.getType()},e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=f(n(66)),r=f(n(340)),i=f(n(231)),a=n(8),s=f(n(9)),c=f(n(186)),u=(f(n(590)),f(n(187))),l=(n(14),n(5));n(24);function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var g=s.default.getLogger("PDFUI/ViewerInitializerPartial"),m=function(e){function t(){return p(this,t),d(this,e.apply(this,arguments))}return h(t,e),t.depends=function(){return[u.default,r.default,i.default,c.default]},t.prototype.construct=function(e,t,n,o,r,i,a){var s=this,c=t.viewerOptions,u=t.keymap;c.keymap=Object.assign(c.keymap||{},u||{}),this.pdfViewerFactory=e.viewerFactory;var f=this.pdfViewer=this.pdfViewerFactory.create(c,e,n);return f.eventEmitter.on(l.Events.openFileSuccess,(function(){var t=s.pdfViewer.getStateHandlerManager(),n=e.customs;t.switchTo(n.defaultStateHandler,n.handlerParams)})),e.pdfViewer=f,f},t.prototype.link=function(e,t,n,o,r){var i=this,s=o.appearance;this.pdfViewerFactory.localize();var c=t.getComponentByName(a.WEBPDF_VIEWER_COMPONENT_NAME);if(!c)throw new Error("<viewer/> not found in your template!");var u=this.pdfViewer;return u.init(this.pdfViewerFactory.element),u.viewerUI.setRootComponent(t),c.setPDFViewer(u),this.pdfViewerFactory.postConstructPDFViewer(this.pdfUI),c.addDestroyHook((function(){i.pdfViewerFactory.destroy()})),c.on("localize",(function(){i.pdfViewerFactory.localize()})),n.forEach((function(e){try{e.pdfViewerCreated(u,t)}catch(e){g.error("an error occurred when executing addon's method: ",e)}})),t.mounted(),n.forEach((function(e){try{e.afterMounted(t)}catch(e){g.error("an error occurred when executing addon's method: ",e)}})),s.afterMounted(t),u},t}(o.default);t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(56),i=(o=r)&&o.__esModule?o:{default:o};var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hiddenCallbacks=[],this.shownCallbacks=[],this.isDisabled=!1}return e.prototype.setCurrentTarget=function(e){this.currentTarget=e},e.prototype.getCurrentTarget=function(){return this.currentTarget},e.prototype.showAt=function(e,t){var n=this;this.shownCallbacks.forEach((function(e){return e.call(n)}))},e.prototype.disable=function(){this.isDisabled=!0},e.prototype.enable=function(){this.isDisabled=!1},e.prototype.destroy=function(){(0,i.default)()},e.prototype.onHidden=function(e){"function"==typeof e&&this.hiddenCallbacks.push(e)},e.prototype.onShown=function(e){"function"==typeof e&&this.shownCallbacks.push(e)},e}();t.default=a},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,o=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+o).toString(36))}},function(e,t,n){var o=n(360),r=n(241);e.exports=Object.keys||function(e){return o(e,r)}},function(e,t,n){var o=n(90),r=Math.max,i=Math.min;e.exports=function(e,t){return(e=o(e))<0?r(e+t,0):i(e,t)}},function(e,t,n){var o=n(16),r=n(361),i=n(241),a=n(240)("IE_PROTO"),s=function(){},c=function(){var e,t=n(238)("iframe"),o=i.length;for(t.style.display="none",n(242).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;o--;)delete c.prototype[i[o]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=o(e),n=new s,s.prototype=null,n[a]=e):n=c(),void 0===t?n:r(n,t)}},function(e,t,n){var o=n(360),r=n(241).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return o(e,r)}},function(e,t,n){"use strict";var o=n(23),r=n(46),i=n(41),a=n(35)("species");e.exports=function(e){var t=o[e];i&&t&&!t[a]&&r.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports=function(e,t,n,o){if(!(e instanceof t)||void 0!==o&&o in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var o=n(88),r=n(373),i=n(253),a=n(16),s=n(37),c=n(255),u={},l={};(t=e.exports=function(e,t,n,f,p){var d,h,g,m,v=p?function(){return e}:c(e),y=o(n,f,t?2:1),b=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(i(v)){for(d=s(e.length);d>b;b++)if((m=t?y(a(h=e[b])[0],h[1]):y(e[b]))===u||m===l)return m}else for(g=v.call(e);!(h=g.next()).done;)if((m=r(g,y,h.value,t))===u||m===l)return m}).BREAK=u,t.RETURN=l},function(e,t,n){var o=n(69);e.exports=function(e,t,n){for(var r in t)o(e,r,t[r],n);return e}},function(e,t,n){var o=n(29);e.exports=function(e,t){if(!o(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,e),this.fileSpec=t}return e.prototype.setFileName=function(e){this.fileSpec.fileName=e},e.prototype.getChecksum=function(){return this.fileSpec.checksum},e.prototype.getCreationDateTime=function(){return this.fileSpec.creationDateTime},e.prototype.getDescription=function(){return this.fileSpec.description},e.prototype.getDict=function(){return this.fileSpec.dict},e.prototype.getFileData=function(){return this.fileSpec.fileData},e.prototype.getFileName=function(){return this.fileSpec.fileName},e.prototype.getFileSize=function(){return this.fileSpec.fileSize},e.prototype.getModifiedDateTime=function(){return this.fileSpec.modifiedDateTime},e.prototype.getSubtype=function(){return this.fileSpec.subtype},e.prototype.isEmbedded=function(){return this.fileSpec.isEmbedded},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.LEVEL_DEBUG=0,t.LEVEL_INFO=2,t.LEVEL_WARN=4,t.LEVEL_ERROR=8},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(56),i=(o=r)&&o.__esModule?o:{default:o};var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pdfViewer=t}return e.getStateName=function(){(0,i.default)()},e.getKeyboardBinderName=function(){return null},e.setParams=function(e){},e.prototype.docHandler=function(e){var t=this.constructor.getKeyboardBinderName();t&&this.pdfViewer.switchKeyboardEventBinder(t)},e.prototype.destroyDocHandler=function(){},e.prototype.pageHandler=function(e){},e.prototype.destroyPageHandler=function(){},e.prototype.out=function(){this.pdfViewer.keyboard.activeDefaultBinder()},e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertSelectorResult=function(e,t,n){var o=e.onselect;o||(o=a.FRAGMENT_SELECT_HANDLER.THROW_ERROR_IF_NOT_FOUND);if("function"==typeof o)return void o(t,n,e);switch(o){case a.FRAGMENT_SELECT_HANDLER.THROW_ERROR_IF_NOT_FOUND:if(t.length<1)throw new Error('target component not found: "'+n+'"');break;case a.FRAGMENT_SELECT_HANDLER.LOG_MESSAGE_IF_NOT_FOUND:t.length<1&&s.warn("target component not found: "+n);break;case a.FRAGMENT_SELECT_HANDLER.IGNORE_IF_NOT_FOUND:}};var o,r=n(9),i=(o=r)&&o.__esModule?o:{default:o},a=n(8);var s=i.default.getLogger("FRAGMENT-ONSELECT")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FIELD_USER_SPACE_UNIT="userSpaceUnit",t.FIELD_USER_SPACE_SCALE="userSpaceScaleValue",t.FIELD_REAL_UNIT="realUnit",t.FIELD_REAL_SCALE="realScaleValue"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(84),r=s(n(10)),i=n(560),a=s(i);function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var f=function(e){function t(){return c(this,t),u(this,e.apply(this,arguments))}return l(t,e),t.getName=function(){return"sidebar-panel"},t.getMetadata=function(){return{options:{timeFormatter:{type:"function",required:!1,defaultValue:a.default},lazy:{type:"boolean",field:"isLazy",required:!1,defaultValue:!0},floatingTimeFormatter:{type:"function",required:!1,defaultValue:i.commentListFloatingTimeFormatter}}}},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this);var n=function(e){t.broadcast("scroll")};this.bodyElement.addEventListener("scroll",n),this.addDestroyHook((function(e){return t.bodyElement.removeEventListener("scroll",n)}));var o=this.getPDFUI();"function"!=typeof o.customShowReplyDialogHandler&&(o.customShowReplyDialogHandler=function(e,n,i){e.getPDFPage().getIndex();var a,s=void 0;a=e.annot,s="strikeout"===a.getType()&&a.isReplace&&a.isReplace()?e.annot.getGroupHeader().getId():e.getId(),t.active(),t.parent.isCollapsed()&&t.parent.expand();var c=e.annot.getType();if("string"!=typeof c||"freetext"!==c.toLowerCase()){var u=t.getComponentByName("commentlistEx"),l=void 0;if(u.controller.data.annotsGroup.find((function(e){e.type;var t=e.index,n=e.annots.find((function(e){return e.getId()===s}));return n&&(l=t),!!n})),void 0!==l){var f=u.findChildren((function(e){return!!e&&e.controller.data.annotsItem.index===l}),!1)[0];if(f){var p=f.children().filter((function(e){return e.controller.data.annot.getId()===s}))[0],d=function(t){f.active(),u.selectComponent(t);t.element.scrollIntoView({block:"nearest",behavior:"smooth",inline:"nearest"}),o.getPDFViewer().then((function(o){var r=o.getAnnotManager().getAnnotFlag(e.annot);if(r.checkReadOnly());else switch(n){case"reply":t.focusOnReplyEditor();break;case"comment":default:e.propertyDisabled()||r.checkLockedContents()||r.checkLocked()||u.editComponent(t)}}))};p?d(p):o.eventEmitter.on(r.default.appendCommentListComment,(function e(t,n){n.getId()===s&&(d(t),o.eventEmitter.off(r.default.appendCommentListComment,e))}))}}}else i()},this.addDestroyHook((function(){return o.customShowReplyDialogHandler=null})))},t}(o.SidebarPanelComponent);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(44);var o=a(n(17)),r=n(96),i=a(n(229));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}n(1651);var l=function(e){function t(){return s(this,t),c(this,e.apply(this,arguments))}return u(t,e),t.services=function(){return{dataService:r.PortfolioNodeDataService,previewerService:i.default}},t.prototype.createDOMElement=function(){return document.createElement(this.constructor.getName())},t.prototype.init=function(){e.prototype.init.call(this),this.stopRender=null,this.isRenderingPortfolio=!1},t.prototype.serviceInjected=function(){var e=this;this.addDestroyHook(this.previewerService.onPreviewerChange((function(t,n){t&&n?Promise.resolve(e.stopRenderPortfolioFile()).finally((function(){t&&e.supportsPreviewer(t,n)&&e.renderPortfolioFile(t,n)})):e.stopRenderPortfolioFile()})))},t.prototype.supportsPreviewer=function(e,t){return!1},t.prototype.renderPortfolioFile=function(e,t){var n=this;return this.isRenderingPortfolio=!0,this.removeCSSClass("fv__ui-portfolio-previewer-hidden"),this.dataService.getFileBlob(t.handle).then((function(o){if(n.isRenderingPortfolio){n.element.appendChild(e.element);var r=e.preview(o,t);n.stopRender=function(){return n.element.removeChild(e.element),r()}}}))},t.prototype.stopRenderPortfolioFile=function(){this.addCSSClass("fv__ui-portfolio-previewer-hidden"),this.isRenderingPortfolio=!1;var e=this.stopRender;if(this.stopRender=void 0,e)return e()},t}(o.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function e(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=!0;"boolean"==typeof t&&(s=t,t=r[0],r=r.slice(1));(null===t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t)&&(t={});return r.reduce((function(t,n){if(null==n)return t;for(var o in n){var r=t[o],i=n[o];if(t!==i){var c=void 0;if(s&&i&&(a(i)||(c=Array.isArray(i)))){var u=void 0;c?(c=!1,u=r&&Array.isArray(r)?r:[]):u=r&&a(r)?r:{},t[o]=e(s,u,i)}else void 0!==i&&(t[o]=i)}}return t}),t)};var r={"[object Array]":"array","[object Boolean]":"boolean","[object Date]":"date","[object Error]":"error","[object Function]":"function","[object Number]":"number","[object Object]":"object","[object RegExp]":"regexp","[object String]":"string"};function i(e,t){return null!=e&&{}.hasOwnProperty.call(e,t)}function a(e){if(!e||"object"!==function(e){if(null===e)return"null";switch(void 0===e?"undefined":o(e)){case"object":case"function":return r[Object.prototype.toString(e)]||"object"}return void 0===e?"undefined":o(e)}(e)||e.nodeType||null!=e&&e==e.window)return!1;if(e.constructor&&!i(e,"constructor")&&!i(e.constructor.prototype,"isPrototypeOf"))return!1;var t=void 0;for(t in e);return void 0===t||i(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=c(n(92)),r=n(7),i=c(n(83)),a=n(216),s=c(n(53));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var p=function(e){function t(){return u(this,t),l(this,e.apply(this,arguments))}return f(t,e),t.prototype.doPrepare=function(){e.prototype.doPrepare.call(this),this.canvas.classList.add("fv__viewer-render-square-canvas")},t.prototype.doRender=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.renderingData,o=n.annotInfo,i=o.borderInfo||{},a=this.convertPointToPixel(i.width||1,e.scale),s=this.canvas.getContext("2d");s.clearRect(0,0,this.canvas.width,this.canvas.height),s.save(),e.lineWidth=a,t&&(s.globalAlpha=o.opacity),0===a||!1===o.hasBorderColor?s.strokeStyle="transparent":s.strokeStyle=this.numberToRGBAString(o.color),s.lineWidth=a;try{switch(i.style){case r.BORDER_STYLE.BEVELED:case r.BORDER_STYLE.UNDERLINE:case r.BORDER_STYLE.SOLID:this.renderSolid(s,o,e);break;case r.BORDER_STYLE.DASHED:this.renderDashed(s,o,e);break;case r.BORDER_STYLE.CLOUDY:this.renderCloud(s,o,e)}var c=o.fillColor;c&&(s.fillStyle=this.numberToRGBAString(c),s.fill()),s.stroke()}finally{s.restore()}},t.prototype.shrinkRect=function(e,t){var n=s.default.on(e).shrink(t).extract();return Object.assign(n,{width:n.right-n.left,height:n.bottom-n.top})},t.prototype.renderCloud=function(e,t,n){t.fillColor;var o=t.borderInfo.cloudIntensity,r=this.shrinkRect(n.innerRect,0),s=this.shrinkRect(n.outerRect,0),c=r.width,u=r.height;new a.CloudyPathGenerator([new i.default(0,u),new i.default(c,u),new i.default(c,0),new i.default(0,0)],r,s).generate(32/3/o).render(e)},t.prototype.renderDashed=function(e,t,n){var o=this,r=t.borderInfo,i=r.dashes||[],a=r.dashPhase||0,s=n.scale;e.save(),e.setLineDash&&e.setLineDash(i.map((function(e){return o.convertPointToPixel(e,s)}))),e.lineDashOffset=this.convertPointToPixel(a,s),this.renderSolid(e,t,n)},t.prototype.renderSolid=function(e,t,n){var o=n.lineWidth,r=n.innerRect,i=n.outerRect,a=r.width,s=r.height,c=.5*o,u=r.left-i.left,l=r.top-i.top;e.beginPath(),e.rect(c+u,c+l,a-o,s-o),e.closePath()},t}(o.default);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(56));r(n(1031)),r(n(124));function r(e){return e&&e.__esModule?e:{default:e}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.prepare=function(e){this.pdfViewer=e},e.prototype.showReply=function(e){(0,o.default)()},e.prototype.showPropertiesInfo=function(e){(0,o.default)()},e.prototype.createContextMenu=function(e,t,n){(0,o.default)()},e.prototype.alert=function(e){},e.prototype.confirm=function(e){},e.prototype.prompt=function(e,t,n){},e.prototype.promptPassword=function(e,t,n){},e.prototype.createFreeTextTooltip=function(e){},e.prototype.createTextSelectionTooltip=function(e){},e.prototype.getPortfolioPreviewer=function(e){(0,o.default)()},e.prototype.destroy=function(){},e}();t.default=i},function(e,t,n){var o=n(46).f,r=n(78),i=n(35)("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,i)&&o(e,i,{configurable:!0,value:t})}},function(e,t,n){var o=n(89),r=n(35)("toStringTag"),i="Arguments"==o(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),r))?n:i?o(t):"Object"==(a=o(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){var o=n(0),r=n(98),i=n(25),a=n(244),s="["+a+"]",c=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),l=function(e,t,n){var r={},s=i((function(){return!!a[e]()||"âÂ"!="âÂ"[e]()})),c=r[e]=s?t(f):a[e];n&&(r[n]=c),o(o.P+o.F*s,"String",r)},f=l.trim=function(e,t){return e=String(r(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(u,"")),e};e.exports=l},function(e,t){e.exports={}},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(o(this,e),t instanceof e){var c=t;t=c.a,n=c.b,r=c.c,i=c.d,a=c.e,s=c.f}else if(t instanceof Array){var u=t;t=u[0],n=u[1],r=u[2],i=u[3],a=u[4],s=u[5]}this.a=t,this.b=n,this.c=r,this.d=i,this.e=a,this.f=s}return e.Concat2mt=function(t,n){return new e(t.a*n.a+t.b*n.c,t.a*n.b+t.b*n.d,t.c*n.a+t.d*n.c,t.c*n.b+t.d*n.d,t.e*n.a+t.f*n.c+n.e,t.e*n.b+t.f*n.d+n.f)},e.prototype.set=function(e,t,n,o,r,i){this.a=e,this.b=t,this.c=n,this.d=o,this.e=r,this.f=i},e.prototype.reset=function(){this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0},e.prototype.reverse=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,n=t.a*t.d-t.b*t.c;if(0==n)return t;var o=-n,r=t.d/n,i=t.b/o,a=t.c/o,s=t.a/n,c=(t.c*t.f-t.d*t.e)/n,u=(t.a*t.f-t.b*t.e)/o;return new e(r,i,a,s,c,u)},e.prototype.setReverse=function(e){var t=this.reverse(e);this.set(t.a,t.b,t.c,t.d,t.e,t.f)},e.prototype.rotate=function(t,n){var o=Math.cos(t),r=Math.sin(t),i=new e(o,r,-r,o,0,0),a=void 0;a=n?e.Concat2mt(i,this):e.Concat2mt(this,i),this.set(a.a,a.b,a.c,a.d,a.e,a.f)},e.prototype.rotateAt=function(e,t,n,o){this.translate(e,t,o),this.rotate(n,o),this.translate(-e,-t,o)},e.prototype.translate=function(e,t,n){n?(this.e+=e*this.a+t*this.c,this.f+=t*this.d+e*this.b):(this.e+=e,this.f+=t)},e.prototype.concat=function(t,n,o,r,i,a,s){var c=void 0;t instanceof e?(c=t,s=n):c=new e(t,n,o,r,i,a);var u=void 0;u=s?e.Concat2mt(c,this):e.Concat2mt(this,c),this.set(u.a,u.b,u.c,u.d,u.e,u.f)},e.prototype.is90Rotated=function(){var e=1e3*this.a;e<0&&(e*=-1);var t=1e3*this.d;t<0&&(t*=-1);var n=this.b;n<0&&(n*=-1);var o=this.c;return o<0&&(o*=-1),e<n&&t<o},e.prototype.isScaled=function(){var e=1e3*this.b;e<0&&(e*=-1);var t=1e3*this.c;t<0&&(t*=-1);var n=this.a;n<0&&(n*=-1);var o=this.d;return o<0&&(o*=-1),e<n&&t<o},e.prototype.getA=function(){return this.a},e.prototype.getB=function(){return this.b},e.prototype.getC=function(){return this.c},e.prototype.getD=function(){return this.d},e.prototype.getE=function(){return this.e},e.prototype.getF=function(){return this.f},e.prototype.scale=function(e,t,n){this.a*=e,this.d*=t,n?(this.b*=e,this.c*=t):(this.b*=t,this.c*=e,this.e*=e,this.f*=t)},e.prototype.transformXDistance=function(e){var t=this.a*e,n=this.b*e;return Math.sqrt(t*t+n*n)},e.prototype.transformYDistance=function(e){var t=this.c*e,n=this.d*e;return Math.sqrt(t*t+n*n)},e.prototype.transformDistance=function(e,t){var n=this.a*e+this.c*t,o=this.b*e+this.d*t;return Math.sqrt(n*n+o*o)},e.prototype.transformPoint=function(e,t){return[this.a*e+this.c*t+this.e,this.b*e+this.d*t+this.f]},e.prototype.transformRect=function(e,t,n,o){for(var r=[e,e,n,n],i=[t,o,t,o],a=void 0,s=0;s<4;s++)a=this.transformPoint(r[s],i[s]),r[s]=a[0],i[s]=a[1];for(var c=[r[0],r[0],i[0],i[0]],u=1;u<4;u++)c[0]>r[u]&&(c[0]=r[u]),c[1]<r[u]&&(c[1]=r[u]),c[2]>i[u]&&(c[2]=i[u]),c[3]<i[u]&&(c[3]=i[u]);return[c[0],c[2],c[1],c[3]]},e.prototype.getXUnit=function(){var e=this.a,t=this.b;return 0===t?Math.abs(e):0===e?Math.abs(t):Math.sqrt(e*e+t*t)},e.prototype.getYUnit=function(){var e=this.c,t=this.d;return 0===e?Math.abs(t):0===t?Math.abs(e):Math.sqrt(e*e+t*t)},e.prototype.getUnitRect=function(){return this.transformRect(0,0,1,1)},e.prototype.matchRect=function(e,t){var n=t[0]-t[2];this.a=Math.abs(n)<.001?1:(e[0]-e[2])/n,n=t[3]-t[1],this.d=Math.abs(n)<.001?1:(e[3]-e[1])/n,this.e=e[0]-t[0]*this.a,this.f=e[3]-t[3]*this.d,this.b=0,this.c=0},e.prototype.getAngle=function(){return Math.atan2(this.b,this.a)},e.prototype.toArray=function(){return[this.a,this.b,this.c,this.d,this.e,this.f]},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.T=function(){return!0},t.F=function(){return!1},t.identity=function(e){return e},t.prop=function(e,t){return t[e]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.attachContextMenuEvent=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(i||r.isMobile&&(o.isSafari||r.isXiaomi||o.isUC)||r.isIPAD&&o.isSafari){var a=null,s=void 0,c=0,u=!1,l=function(e){u=!1,s=void 0,clearTimeout(a),a=null,e.touches&&1!==e.touches.length||(c=0,s={x:e.touches[0].pageX,y:e.touches[0].pageY},a=setTimeout((function(){u||p(e)}),600))},f=function(e){if((!e.touches||1===e.touches.length)&&s){var t=e.touches[0],n=Math.pow(t.pageX-s.x,2)+Math.pow(t.pageY-s.y,2);(c=Math.max(c,n))>10&&(u=!0)}},p=function(n){if(s=null,n.changedTouches&&1===n.changedTouches.length){var o=n.changedTouches[0],r=new Event("contextmenu"),i=["target","currentTarget","clientX","clientY","pageX","pageY","offsetX","offsetY","path"].reduce((function(e,t){return e[t]={value:o[t]},e}),{});i.stopPropagation={value:function(){n.stopPropagation()}},i.preventDefault={value:function(){n.preventDefault()}};var c=Object.create(r,i);t.call(e,c),clearTimeout(a)}else clearTimeout(a)},d=function(){u=!1,clearTimeout(a)};return e.addEventListener("touchstart",l,n),document.addEventListener("touchend",d,!0),document.addEventListener("touchmove",f,!0),function(){e.removeEventListener("touchstart",l,n),document.removeEventListener("touchmove",f,!0),document.removeEventListener("touchend",d,!0)}}return e.addEventListener("contextmenu",t,n),function(){e.removeEventListener("contextmenu",t,n)}};var o=n(34),r=n(14)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSecureRandom=function(){if((0,r.isRunningInBrowser)()){if(window.crypto)return e=new Uint32Array(1),window.crypto.getRandomValues(e),e[0]/4294967296;if(window.msCrypto)return function(){var e=new Uint32Array(1);return window.msCrypto.getRandomValues(e),e[0]/4294967296}()}var e;return(0,o.prop)("random",Math)()};var o=n(152),r=n(52)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=g(n(285));n(884);var r=n(18),i=g(n(30)),a=g(n(1)),s=n(36),c=n(7),u=g(n(116)),l=n(156),f=n(34),p=n(14),d=g(n(404)),h=g(n(21));function g(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var v=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));o.currentPageIndex=0,o.scrollWrap=o.docRender.viewerRender.scrollWrap,o.lastScale=null,o.isZoomin=!1,o.fixedVerticalPosition=!1,o.currentPageOffset=0,o.rerenderViewExecutor=new r.DebounceAsyncTaskExecutor(100),o.rerenderPageExecutor=new r.DebounceAsyncTaskExecutor(10),o.scrollEventExecutor=new r.DebounceAsyncTaskExecutor(100),o.dragScrollbarEventExecutor=new s.QueuedAsyncTaskExecutor,o.mouseWheelExecutor=new s.QueuedAsyncTaskExecutor,o.jumpPageExecutor=new s.QueuedAsyncTaskExecutor,o.unbindScrollEvent=i.default,o.unbindMouseEvent=i.default,o.unbindWheelEvent=i.default,o.unbindKeyboardEvent=i.default,o.allowHandleScrollOnWheel=!1,o.isMouseDownOnScrollbar=!1,o.handledWheel=!1,o.instanceId=Math.random().toString(16),o.currentScrollDirection;var a=o.scrollWrap.getScrollHost();a===window&&(a=document.body);var c=function(e){var t=e.clientX,n=a.getBoundingClientRect(),r=getComputedStyle(a),i=(parseInt(r.borderLeftWidth)||0)+(parseInt(r.borderRightWidth)||0),s=a.offsetWidth,c=s-a.clientWidth-i;o.isMouseDownOnScrollbar=t>=s-c+n.left},u=function(e){o.scrollWrap.getScrollTop();o.isMouseDownOnScrollbar,o.isMouseDownOnScrollbar=!1};a.addEventListener("mousedown",c,{capture:!0}),window.addEventListener("mouseup",u,{capture:!0});var l=void 0,f=!1,d=!1,h=function(){var e=o.scrollWrap.getScrollTop(),t=o.computePageMetadata(o.currentPageIndex),n=t.scrollTop,r=t.pageHeight,i=t.visibleBoxHeight,a=n+r-i;if("down"===o.currentScrollDirection){if(e-.1*i>a)return void o.jumpToNextPage()}else if("up"===o.currentScrollDirection&&e+.1*i<n)return void o.jumpToPrevPage();e>a?o.scrollToPage(t,"left-bottom",!0):e<n&&o.scrollToPage(t,"left-top",!0)},g=function(e){clearTimeout(l),d=!0,l=setTimeout((function(){d=!1,o.handledWheel&&f&&(o.handledWheel=!1,h())}),66)},m=function(){f=!0,d||h()},v=function(){f=!1};return p.isMobile&&(a.addEventListener("scroll",g,{capture:!0}),a.addEventListener("touchend",m,{capture:!0}),a.addEventListener("touchstart",v,{capture:!0})),o.unbindMouseEvent=function(){a.removeEventListener("mousedown",c,{capture:!0}),window.removeEventListener("mouseup",u,{capture:!0}),a.removeEventListener("scroll",g,{capture:!0}),a.removeEventListener("touchend",m,{capture:!0}),a.removeEventListener("touchstart",v,{capture:!0})},o}return m(t,e),t.getName=function(){return"single-page-view-mode"},t.prototype.getPDFPageRender=function(e){return this.docRender.pagesRender.pageRenders[e]},t.prototype.into=function(t,n){arguments.length>2&&void 0!==arguments[2]||this.currentPageIndex;e.prototype.into.call(this,t,n),this.docContainer=t,this.pageDOMs=n,t.classList.add("fv__viewer-single-view-mode"),this.renderPageContainer(),this.bindScrollEvent(),this.bindWheelEvent(),this.bindKeyboardEvent()},t.prototype.out=function(){this.unbindScrollEvent(),this.unbindWheelEvent(),this.unbindMouseEvent(),this.unbindKeyboardEvent(),this.rerenderViewExecutor.cancel(),this.rerenderPageExecutor.cancel(),this.jumpPageExecutor.cancel(),this.scrollEventExecutor.cancel(),this.mouseWheelExecutor.cancel(),this.dragScrollbarEventExecutor.cancel(),this.resetCurrentPageDom(),this.enableScroll(),this.docContainer.classList.remove("fv__viewer-single-view-mode"),this.isMouseDownOnScrollbar=!1,this.docContainer.style.height=""},t.prototype.rebindScrollEvent=function(){this.bindScrollEvent()},t.prototype.keepPagePosition=function(){var e=this;if(this.fixedVerticalPosition){var t=this.currentPageIndex,n=this.pageDOMs[t],o=function(t){var o=e.scrollWrap.getScrollTop();n.style.cssText+="top: "+(t.pageOffset+o)+"px"};if(!this.isPageRendered(t))return this.computePageMetadataAsync(t).then(o);o(this.computePageMetadata(t))}},t.prototype.isValidCurrentPageIndex=function(){var e=this.docRender;if(!e)return!1;var t=e.pagesRender;if(!t)return!1;var n=t.pageRenders;if(!n)return!1;var o=this.currentPageIndex;return o>=0&&o<n.length},t.prototype.bindScrollEvent=function(){var e=this;this.unbindScrollEvent();var t=this.scrollWrap.getScrollTop();this.unbindScrollEvent=this.scrollWrap.addScrollEventListener((function(n){if((e.allowHandleScrollOnWheel||(e.allowHandleScrollOnWheel=!0,e.isMouseDownOnScrollbar))&&e.isValidCurrentPageIndex()){var o=e.keepPagePosition(),r=function(){var n=e.scrollWrap.getScrollTop(),o=t;return t=n,n>o?e.currentScrollDirection="down":n<o&&(e.currentScrollDirection="up"),e.scrollEventExecutor.exec((function(){return e.handleWheel(e.scrollWrap.getScrollTop(),e.currentScrollDirection)})),e.handleWheel(n,e.currentScrollDirection)};o instanceof Promise?o.then(r):r()}}))},t.prototype.bindWheelEvent=function(){var e=this;this.unbindWheelEvent();var t=function(t){if(!u.default.isCtrlDown){e.allowHandleScrollOnWheel=!1;var n=t.deltaY,o=void 0;if(n<0)o="up";else{if(!(n>0))return;o="down"}e.currentScrollDirection=o,e.fixedVerticalPosition?(t.preventDefault(),e.keepPagePosition(),e.mouseWheelExecutor.exec((function(){switch(o){case"down":return e.jumpToNextPage();case"up":return e.jumpToPrevPage()}return c.RESOLVED_PROMISE_VOID}))):u.default.isShiftDown||!f.isChrome&&!f.isChromiumEdge||(e.allowHandleScrollOnWheel=!0,e.scrollWrap.scrollBy(-t.wheelDeltaX,1.5*-t.wheelDeltaY,"smooth"),t.preventDefault())}},n=this.scrollWrap.getScrollHost();n.addEventListener("wheel",t,{passive:!1}),this.unbindWheelEvent=function(){n.removeEventListener("wheel",t,{passive:!1})}},t.prototype.bindKeyboardEvent=function(){var e=this;this.unbindKeyboardEvent();var t=function(t){var n=t.target;if(!(0,d.default)(n)){switch(t.keyCode){case l.KeyCodes.End:var o=e.docRender.getPDFDoc().getPageCount();return void e.jumpToPage(o-1);case l.KeyCodes.Home:return void e.jumpToPage(0);case l.KeyCodes.RightArrow:e.jumpToNextPage();break;case l.KeyCodes.LeftArrow:e.jumpToPrevPage()}var r=!0;if(e.fixedVerticalPosition)switch(t.keyCode){case l.KeyCodes.PageUp:case l.KeyCodes.UpArrow:e.jumpToPrevPage();break;case l.KeyCodes.PageDown:case l.KeyCodes.DownArrow:e.jumpToNextPage();break;default:r=!1}else{var i=e.computePageMetadata(e.currentPageIndex),a=i.pageHeight,s=i.visibleBoxHeight,c=i.scrollTop,u=e.scrollWrap.getScrollTop(),f=80;switch(t.keyCode){case l.KeyCodes.PageUp:f=s;case l.KeyCodes.UpArrow:if(u>c){var p=u-c;p=Math.min(f,p),e.scrollWrap.scrollBy(0,-p,"smooth")}else e.jumpToPrevPage();break;case l.KeyCodes.PageDown:f=s;case l.KeyCodes.DownArrow:if(u>=c+(a-s))e.jumpToNextPage();else if(u>=c){var h=a-(u-c)-s;h=Math.min(h,f),e.scrollWrap.scrollBy(0,h,"smooth")}break;default:r=!1}}r&&t.preventDefault()}};window.addEventListener("keydown",t,{passive:!1}),this.unbindKeyboardEvent=function(){window.removeEventListener("keydown",t,{passive:!1})}},t.prototype.handleWheel=function(e,t){if(this.fixedVerticalPosition){if(this.isMouseDownOnScrollbar){var n=this.computePageIndex(e);if(n!==this.currentPageIndex)return this.scrolledToPage(n,t)}}else if(this.isMouseDownOnScrollbar){if("up"===t)return this.handleDragUp(e);if("down"===t)return this.handleDragDown(e)}else{if("up"===t)return this.handleWheelUp(e);if("down"===t)return this.handleWheelDown(e)}return c.RESOLVED_PROMISE_VOID},t.prototype.handleWheelUp=function(e){this.handledWheel=!0;var t=this.computePageMetadata(this.currentPageIndex),n=t.scrollTop,o=t.visibleBoxHeight,r=t.pageIndex,i=this.pageDOMs[r];if(p.isMobile?e+.5*o<n:e<i.offsetTop){var a=this.getPrevPageIndex();return this.doJumpOnScroll(a)}},t.prototype.handleWheelDown=function(e){this.handledWheel=!0;var t=this.computePageMetadata(this.currentPageIndex),n=t.scrollTop,o=t.pageHeight,r=t.visibleBoxHeight,i=t.pageIndex;this.pageDOMs[i];if(p.isMobile?n+o-r<e-.5*r:n+o-r<e)return this.jumpToNextPage()},t.prototype.handleDragUp=function(e){var t=this.computePageMetadata(this.currentPageIndex),n=t.pageTop,o=t.visibleBoxHeight,r=this.pageDOMs[this.currentPageIndex],i=n-o;if(e>i&&e<n)r.style.cssText+="top: "+e+"px";else if(e<i){var a=this.computePageIndex(e);return this.scrolledToPage(a,"up")}return c.RESOLVED_PROMISE_VOID},t.prototype.handleDragDown=function(e){var t=this.computePageIndex(e);if(t!==this.currentPageIndex)return this.scrolledToPage(t,"down");var n=this.currentPageIndex,o=this.scrollWrap.getScrollTop(),r=this.computePageMetadata(n),i=r.scrollTop,a=r.pageHeight,s=r.visibleBoxHeight;if(o>i+a-s){var u=o+s-a;this.pageDOMs[n].style.cssText+="top: "+u+"px"}return c.RESOLVED_PROMISE_VOID},t.prototype.doJumpOnScroll=function(e){var t=this,n=function(n){var o=n.pageHeight-n.visibleBoxHeight;return t.jumpToPage(e,{y:o},!1).then((function(){t.docRender.getPDFPageRender(n.pageIndex).renderLayout()}))};return this.isPageRendered(e)?n(this.computePageMetadata(e)):this.computePageMetadataAsync(e).then(n)},t.prototype.jumpToPage=function(e,t){var n=this,o=this.docRender.getPDFDoc().getPageCount();if(!(e<o&&e>=0))throw new Error("Illegal page index value: "+e);return this.currentPageIndex=e,this.jumpPageExecutor.exec((function(){return n.unbindScrollEvent(),n.computePageMetadataAsync(e).then((function(o){var r=n.waitForScrollEnd();try{n.rerenderPage(o),n.scrollToPage(o,t),n.docRender.setCurrentPageIndex(e),n.renderPagePosition(o)}finally{return r.finally((function(){n.rebindScrollEvent()}))}}))}))},t.prototype.waitForScrollEnd=function(){var e=(0,h.default)(),t=void 0,n=this.scrollWrap.addScrollEventListener((function(){clearTimeout(t),t=setTimeout((function(){n(),e.resolve()}),10)}));return t=setTimeout((function(){n(),e.resolve()}),10),e.promise},t.prototype.jumpToNextPage=function(){var e=this.getNextPageIndex();return e===this.currentPageIndex?c.RESOLVED_PROMISE_VOID:this.jumpToPage(e)},t.prototype.jumpToPrevPage=function(){var e=this.getPrevPageIndex();return e===this.currentPageIndex?c.RESOLVED_PROMISE_VOID:this.jumpToPage(e,"left-bottom",!1)},t.prototype.formatPosition=function(e,t){var n=Math.max(0,e.pageHeight-e.visibleBoxHeight),o=Math.max(0,e.pageWidth-e.visibleBoxWidth);switch(t){case"left-bottom":return{y:n};case"left-top":return{};case"right-top":return{x:o};case"right-bottom":return{x:o,y:n}}return t},t.prototype.scrolledToPage=function(e,t){var n=this;this.currentPageIndex=e;var o=function(o){return n.rerenderPage(o,t),n.renderPagePosition(o,t),n.docRender.setCurrentPageIndex(e),n.rerenderPageExecutor.exec((function(){if(n.docRender){var t=n.docRender.getPDFPageRender(e);if(t)return t.render()}}))};return this.isPageRendered(e)?(o(this.computePageMetadata(e)),c.RESOLVED_PROMISE_VOID):this.computePageMetadataAsync(e).then(o)},t.prototype.resetCurrentPageDom=function(){this.currentPageOffset=0,this.pageDOMs[this.currentPageIndex].style.top=""},t.prototype.rerenderPage=function(e){var t=e.pageIndex,n=e.pageWidth,o=e.pageHeight,r=e.pageTop,i=e.visibleBoxHeight,s=e.visibleBoxWidth,c=this.docContainer;if(f.isIE)for(var u=c.childNodes,l=u.length-1;l>=0;l--)c.removeChild(u[l]);else c.innerHTML="";this.resetCurrentPageDom();var p=this.pageDOMs[t];this.pageDOMs[this.currentPageIndex].style.top="",c.appendChild(p),this.currentPageIndex=t;var d=n<=s,h=o<=i;this.fixedVerticalPosition=o<=i,p.style.cssText+="top: "+r+"px;",this.docRender.pdfViewer.eventEmitter.emit(a.default.updateScrollableStatus,{disableHorizontal:d,disableVertical:h})},t.prototype.renderPagePosition=function(e,t){var n=e.pageHeight,o=e.pageTop,r=e.scrollTop,i=e.visibleBoxHeight,a=this.pageDOMs[e.pageIndex];if(this.fixedVerticalPosition)this.keepPagePosition();else{a.style.cssText+="top: "+o+"px;";var s=this.scrollWrap.getScrollTop();if("down"===t){if(s>r+n-i){var c=s+i-n;a.style.cssText+="top: "+c+"px"}}else if("up"===t){s>o-i&&s<o&&(a.style.cssText+="top: "+s+"px")}else{var u=a.offsetTop;u>s?a.style.cssText+="top: "+s+"px":u+n<s+i&&(a.style.cssText+="top: "+(s+i-n)+"px")}}},t.prototype.scrollToPage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=e.visibleBoxHeight,r=e.visibleBoxWidth,i=e.pageHeight,a=e.pageWidth,s=e.scrollTop,c=e.pageTop,u=this.formatPosition(e,t),l=u.x,f=void 0===l?this.scrollWrap.getScrollLeft():l,p=u.y,d=void 0===p?0:p;i<=o&&(d=0),a<r&&(f=0);var h=f,g=void 0,m=void 0;m=i>=o?c+(i-o):s,g=Math.min(s+Math.max(0,d),m),this.scrollWrap.scrollTo(h,g,n?"smooth":"auto")},t.prototype.computePageMetadataAsync=function(e){var t=this;return this.isPageRendered(e)?Promise.resolve(this.computePageMetadata(e)):this.docRender.pagesRender.pageRenders[e].computePageSize().then((function(){var n=t.computePageMetadata(e);return t.docContainer.style.cssText+="height: "+n.containerHeight+"px",n}))},t.prototype.isPageRendered=function(e){var t=this.docRender.pagesRender.pageRenders[e].getShowHeight();return"number"==typeof t&&!isNaN(t)&&isFinite(t)},t.prototype.computePageMetadata=function(e){var t=this.docRender.pagesRender.pageRenders[e],n=this.scrollWrap.getHeight(),o=this.scrollWrap.getWidth(),r=t.getShowHeight(),i=t.getShowWidth(),a=this.computeScrollTop(e),s=this.computeContainerHeight(e,a),c=.5*Math.max(0,n-r);return{visibleBoxHeight:n,visibleBoxWidth:o,pageIndex:e,pageHeight:r,pageWidth:i,containerHeight:s,pageTop:a+c,scrollTop:a,pageOffset:c,occupiedHeight:Math.max(n,r)}},t.prototype.computeScrollTop=function(e){for(var t=this.scrollWrap.getHeight(),n=this.docRender.pagesRender.pageRenders,o=0,r=0,i=0;i<e;i++){var a=n[i].getShowHeight();("number"!=typeof a||isNaN(a))&&(a=i>0?r/i:t),r+=a,o+=Math.max(t,a)}return o},t.prototype.computePageIndex=function(e){for(var t=this.docRender.pagesRender.pageRenders,n=this.scrollWrap.getHeight(),o=0,r=0,i=0;i<t.length;i++){var a=t[i].getShowHeight();this.isPageRendered(i)||(a=i>0?r/i:n);var s=Math.max(a,n);if(o<=e&&e<o+s)return i;r+=a,o+=s}return-1},t.prototype.computeContainerHeight=function(e,t){for(var n=this.scrollWrap.getHeight(),o=this.docRender.pagesRender.pageRenders,r=t,i=e;i<o.length;i++){var a=o[i].getShowHeight();("number"!=typeof a||isNaN(a))&&(a=i>0?r/i:r),r+=Math.max(n,a)}return p.isMobile&&(r+=10),r},t.prototype.renderViewMode=function(e){var t=this;if(e.index===this.currentPageIndex){var n=this.computePageMetadata(e.index),o=e.getScale();null==this.lastScale?this.isZoomin=!1:this.isZoomin=this.lastScale<o,this.lastScale=o,this.rerenderPage(n),this.renderPagePosition(n)}this.rerenderViewExecutor.exec((function(){t.renderPageContainer()}))},t.prototype.renderPageContainer=function(){var e=this.computeContainerHeight(0,0);this.docContainer.style.cssText+="height: "+e+"px",this.keepPagePosition()},t.prototype.disableScroll=function(e){this.docRender.pdfViewer.eventEmitter.emit(a.default.disableScroll,e)},t.prototype.enableScroll=function(e){this.docRender.pdfViewer.eventEmitter.emit(a.default.enableScroll,e)},t.prototype.getFitWidth=function(e){return this.scrollWrap.getWidth()},t.prototype.getFitHeight=function(e){return this.scrollWrap.getHeight()},t.prototype.getVisibleIndexes=function(){return[this.currentPageIndex]},t.prototype.getCurrentPageIndex=function(){return this.currentPageIndex},t}(o.default);t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.KeyCodes={Unknown:0,Backspace:8,Tab:9,Enter:13,Shift:16,Ctrl:17,Alt:18,PauseBreak:19,CapsLock:20,Escape:27,Space:32,PageUp:33,PageDown:34,End:35,Home:36,LeftArrow:37,UpArrow:38,RightArrow:39,DownArrow:40,Insert:45,Delete:46,KEY_0:48,KEY_1:49,KEY_2:50,KEY_3:51,KEY_4:52,KEY_5:53,KEY_6:54,KEY_7:55,KEY_8:56,KEY_9:57,KEY_A:65,KEY_B:66,KEY_C:67,KEY_D:68,KEY_E:69,KEY_F:70,KEY_G:71,KEY_H:72,KEY_I:73,KEY_J:74,KEY_K:75,KEY_L:76,KEY_M:77,KEY_N:78,KEY_O:79,KEY_P:80,KEY_Q:81,KEY_R:82,KEY_S:83,KEY_T:84,KEY_U:85,KEY_V:86,KEY_W:87,KEY_X:88,KEY_Y:89,KEY_Z:90,Meta:91,ContextMenu:93,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,NumLock:144,ScrollLock:145,US_SEMICOLON:186,US_EQUAL:187,US_COMMA:188,US_MINUS:189,US_DOT:190,US_SLASH:191,US_BACKTICK:192,US_OPEN_SQUARE_BRACKET:219,US_BACKSLASH:220,US_CLOSE_SQUARE_BRACKET:221,US_QUOTE:222,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_ADD:107,NUMPAD_SEPARATOR:108,NUMPAD_SUBTRACT:109,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,KEY_IN_COMPOSITION:112,ABNT_C1:113,ABNT_C2:114}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=g(n(43)),i=g(n(74)),a=g(n(1)),s=n(18),c=n(33),u=g(n(4)),l=n(52),f=n(892),p=g(n(893)),d=g(n(64)),h=g(n(54));n(14);function g(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var v=(0,f.getDefaultConfig)(f.defaultAnnotComponentKey,".fv__pdf-page-annot-handler-rect"),y=(0,p.default)({direction:"left"}),b=(0,p.default)({direction:"right"}),w=function(e){function t(n,o,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r,i));return a.name="textmarkup",a.$ui.addClass("fv__pdf-page-textmarkup-annot-container"),a.$handler.addClass("fv__pdf-page-textmarkup-annot-handler-container"),a.annot.isArea()&&a.createShapeControl(),a}return m(t,e),t.getDefaultContextMenuConfig=function(){return v},t.prototype.createShapeControl=function(){var e=this;h.default.property(this,"shapeControl",(function(){var t={start:function(){return e.onStartUpdateShape()},update:function(t,n){return e.onShapeUpdating(t,n)},moving:function(t,n){return e.onShapeMoving(t,n)},end:function(t,n,o){return e.onShapeUpdateEnd(t,n,o)},enableDiagonally:!0};e.annot.isReplace()&&(t.moveable=!1),e.annot.isArea()&&(t.emitter=e.pdfViewer.eventEmitter);var n=new d.default(t);return e.processShapeControlPermissionCtrl(n),e.addDestroyHook((function(){n.destroy()})),n}))},t.prototype._applyShapeChange=function(){var e=this._getShapeControllerBoundaryBox();this.annot.isArea()&&!this.shapeControl&&this.createShapeControl(),this.shapeControl.active(this.$handler,this.getBoundary(),e)},t.prototype.active=function(){var t=this;e.prototype.active.call(this);var n=this.annot.isArea();this.$rect&&(this.$rect.remove(),this.$rect=null),this.getAppPermission().then((function(e){var o=!0;o=e.ignorable()?!t.moveDisabled():e.isAdjustable(),n?(t.activeRect(),t.$rect.addClass("active"),t._applyShapeChange(),t.boundaryRemove(),o?t.shapeControl.enable():t.shapeControl.disable()):(t.activeTextBoundary(),o?t.boundaryEnabled():t.boundaryDisabled())}))},t.prototype.unActive=function(){var t=this;e.prototype.unActive.call(this),this.annot.isArea()&&this.$rect&&this.$rect.removeClass("active"),this.annot.isGrouped()&&this.annot.groupElements.map((function(e){var n=t.pdfViewer.getAnnotRender(e.getPDFPage().getIndex(),e.getId()),o=n&&n.component;o&&o.isActive&&o.unActive&&o.unActive(),o&&o.deactive&&o.deactive()}))},t.prototype.afterRender=function(e){var t=e.transformed;(this.$ui.find("canvas").css({width:"",height:""}),t&&this.isActive)&&(this.annot.isArea()?(this.activeRect(),this._applyShapeChange()):this.activeTextBoundary())},t.prototype._getShapeControllerBoundaryBox=function(){var e=this.getPDFPage(),t=(0,c.getWHByMatrix)(e.getPxWidth(),e.getPxHeight(),this.scale,this.rotate),n=o(t,2);return{left:0,top:0,right:n[0],bottom:n[1]}},t.prototype.createRectDom=function(){return this.annot.isArea()?(!this.shapeControl&&this.createShapeControl(),this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui):e.prototype.createRectDom.call(this)},t.prototype.copyText=function(){var e=this.annot.getContinuousText(),t=(0,l.copyText)(e);return t?this.pdfViewer.eventEmitter.emit(a.default.copyTextSuccess,e):this.pdfViewer.eventEmitter.emit(a.default.copyTextFailed,e),t},t.prototype.getBoundaryCss_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.getCharQuadPoints_(e),o=this.getCssTransform_(e),r=(0,c.pt2px)(this.getQuadPointsHeight_(n))/l.dpr,i=this.getPDFPage(),a=this.scale,s=this.rotate,u=i.getDeviceMatrix(s);u.scale(a,a);var f=[Math.min,Math.max][t](n[0].x,n[1].x,n[2].x,n[3].x),p=[Math.max,Math.min][t](n[0].y,n[1].y,n[2].y,n[3].y),d=u.transformPoint(f,p);return{transform:o,height:r,left:d[0],top:d[1]}},t.prototype.getCssTransform_=function(e){return"rotate("+(90*(e.rotation+this.annot.getPDFPage().getRotation())+this.rotate)+"deg)"},t.prototype.getCharQuadPoints_=function(e){return(0,this.annot.engine.getUtils().getQuadPointsFromRect)(e,e.rotation)},t.prototype.getQuadPointsHeight_=function(e){return Math.sqrt(Math.pow(e[2].x-e[0].x,2)+Math.pow(e[2].y-e[0].y,2))},t.prototype.activeTextBoundary=function(){var e=this.annot,t=e.getStartCharInfo(),n=e.getEndCharInfo();if(t&&n){var o=this.$leftTextBoundary=this.$leftTextBoundary||this.leftTextBoundaryInit(),r=this.$rightTextBoundary=this.$rightTextBoundary||this.rightTextBoundaryInit(),i=this.getBoundaryCss_(t);o.css({height:i.height+"px",transform:i.transform,top:i.top+"px",left:i.left+"px"});var a=this.getBoundaryCss_(n,1);r.css({height:a.height+"px",transform:a.transform,top:a.top-a.height+"px",left:a.left+"px"})}this.activeRect(e)},t.prototype.leftTextBoundaryInit=function(){var e=this,t=this.$handler,n=(0,u.default)(y),i=n[0],l=new r.default(i);l.get("pan").set({direction:r.default.DIRECTION_ALL});var f=void 0,p=void 0,d=void 0,h=void 0,g=void 0;return l.on("panstart",(function(t){!1!==e.onLeftPanStart(t)&&(h=e.scale,g=e.rotate,f={left:parseFloat(n.css("left")),top:parseFloat(n.css("top")),height:parseFloat(n.css("height")),transform:n.css("transform")},d=f,e.textBoundaryStart())})),l.on("panmove",(function(t){if(!1!==e.onLeftPanMove(t)){var r=t.deltaX,i=t.deltaY;if(e.pdfViewer.config.highPerformance){var u=f.height;i+=u/2;var l=e.getPDFPage().reverseDevicePoint([f.left+r,f.top+i],h,g),m=e.annot,v=e.editDebouncePromise=e.editDebouncePromise||new s.DebouncePromiseQueue;v.push((function(){return e.getPDFPage().getCharInfoAtPoint(l,u/2/(0,c.pt2px)(h)).then((function(t){if(!t)return[!1];var n=t.charIndex,o=m.getEndCharIndex();if(n>o)return Promise.resolve([!1]);var r={left:(p=e.getBoundaryCss_(t)).left+"px",top:p.top+"px",height:p.height+"px",transform:p.transform};return Promise.all([m.updateQuadPointsByCharIndex(n,o),t,r])})).then((function(t){var r=o(t,3),i=r[0],s=r[1],c=r[2];if(i)return n.css(c),p&&(d=p),e.updateRender().then((function(){return e.pdfViewer.eventEmitter.emit(a.default.updateActionAnnotation,e),e.onLeftChangeSuccess(s)}));n.css({left:d.left+"px",top:d.top+"px",height:d.height+"px",transform:d.transform})}),(function(){n.css({left:d.left+"px",top:d.top+"px",height:d.height+"px",transform:d.transform})}))})),v.exec()}else n.css({left:d.left+r+"px",top:d.top+i+"px"})}})),l.on("panend",(function(t){if(!1!==e.onLeftPanEnd(t)){var r=t.deltaX,i=t.deltaY,u=f.height;i+=u/2;var l=e.getPDFPage().reverseDevicePoint([f.left+r,f.top+i],h,g),m=e.annot,v=e.editDebouncePromise=e.editDebouncePromise||new s.DebouncePromiseQueue;v.push((function(){return e.getPDFPage().getCharInfoAtPoint(l,u/2/(0,c.pt2px)(h)).then((function(t){if(!t)return[!1];var o=t.charIndex,r=m.getEndCharIndex();return o>r?Promise.resolve([!1]):(p=e.getBoundaryCss_(t),n.css({left:p.left+"px",top:p.top+"px",height:p.height+"px",transform:p.transform}),Promise.all([m.updateQuadPointsByCharIndex(o,r),t]))})).then((function(t){var r=o(t,2),i=r[0],s=r[1];if(i)return p&&(d=p),e.updateRender().then((function(){return e.pdfViewer.eventEmitter.emit(a.default.updateActionAnnotation,e),e.onLeftChangeSuccess(s)}));n.css({left:d.left+"px",top:d.top+"px",height:d.height+"px",transform:d.transform})}),(function(){n.css({left:d.left+"px",top:d.top+"px",height:d.height+"px",transform:d.transform})}))})),v.exec(),e.textBoundaryEnd()}})),this.leftHammer=l,t.append(n),this.addDestroyHook((function(){l.destroy()})),n},t.prototype.rightTextBoundaryInit=function(){var e=this,t=this.$handler,n=(0,u.default)(b),i=n[0],l=new r.default(i);l.get("pan").set({direction:r.default.DIRECTION_ALL});var f=void 0,p=void 0,d=void 0,h=void 0,g=void 0;return l.on("panstart",(function(t){!1!==e.onRightPanStart(t)&&(h=e.scale,g=e.rotate,f={left:parseFloat(n.css("left")),top:parseFloat(n.css("top")),height:parseFloat(n.css("height")),transform:n.css("transform")},d=f,e.textBoundaryStart())})),l.on("panmove",(function(t){if(!1!==e.onRightPanMove(t)){var r=t.deltaX,i=t.deltaY;if(e.pdfViewer.config.highPerformance)n.css({left:d.left+r+"px",top:d.top+i+"px"});else{var u=f.height;i+=u/2;var l=e.getPDFPage().reverseDevicePoint([f.left+r,f.top+u+i],h,g),m=e.annot,v=e.editDebouncePromise=e.editDebouncePromise||new s.DebouncePromiseQueue;v.push((function(){return e.getPDFPage().getCharInfoAtPoint(l,u/2/(0,c.pt2px)(h)).then((function(t){if(!t)return[!1];var o=m.getStartCharIndex(),r=t.charIndex;return o>r?Promise.resolve([!1]):(p=e.getBoundaryCss_(t,1),n.css({left:p.left+"px",top:p.top-p.height+"px",height:p.height+"px",transform:p.transform}),Promise.all([m.updateQuadPointsByCharIndex(o,r),t]))})).then((function(t){var r=o(t,2),i=r[0],s=r[1];if(i)return p&&(d=p),e.updateRender().then((function(){return e.pdfViewer.eventEmitter.emit(a.default.updateActionAnnotation,e),e.onRightChangeSuccess(s)}));n.css({left:d.left+"px",top:d.top-p.height+"px",height:d.height+"px",transform:p.transform})}),(function(){n.css({left:d.left+"px",top:d.top-p.height+"px",height:d.height+"px",transform:p.transform})}))})),v.exec()}}})),l.on("panend",(function(t){if(!1!==e.onRightPanEnd(t)){var r=t.deltaX,i=t.deltaY,u=f.height;i-=u/2;var l=e.getPDFPage().reverseDevicePoint([f.left+r,f.top+u+i],h,g),m=e.annot,v=e.editDebouncePromise=e.editDebouncePromise||new s.DebouncePromiseQueue;v.push((function(){return e.getPDFPage().getCharInfoAtPoint(l,u/2/(0,c.pt2px)(h)).then((function(t){if(!t)return[!1];var o=m.getStartCharIndex(),r=t.charIndex;return o>r?Promise.resolve([!1]):(p=e.getBoundaryCss_(t,1),n.css({left:p.left+"px",top:p.top-p.height+"px",height:p.height+"px",transform:p.transform}),Promise.all([m.updateQuadPointsByCharIndex(o,r),t]))})).then((function(t){var r=o(t,2),i=r[0],s=r[1];if(i)return p&&(d=p),e.updateRender().then((function(){return e.pdfViewer.eventEmitter.emit(a.default.updateActionAnnotation,e),e.onRightChangeSuccess(s)}));n.css({left:d.left+"px",top:d.top+"px",height:d.height+"px",transform:d.transform})}),(function(){n.css({left:d.left+"px",top:d.top+"px",height:d.height+"px",transform:d.transform})}))})),v.exec(),e.textBoundaryEnd()}})),this.rightHammer=l,t.append(n),this.addDestroyHook((function(){l.destroy()})),n},t.prototype.textBoundaryStart=function(){},t.prototype.textBoundaryEnd=function(){},t.prototype.boundaryDisabled=function(){this.toggleBoundary(!1)},t.prototype.boundaryEnabled=function(){this.toggleBoundary(!0)},t.prototype.toggleBoundary=function(e){this.$leftTextBoundary.toggleClass("ban",!e),this.$rightTextBoundary.toggleClass("ban",!e),this.leftHammer.get("pan").set({enable:e}),this.rightHammer.get("pan").set({enable:e})},t.prototype.onStartUpdateShape=function(){this.pdfViewer.config.highPerformance&&this.annot.isArea()&&(this.editAreaDebouncePromise=new s.DebounceAsyncTaskExecutor(10))},t.prototype.onShapeUpdating=function(e,t){var n=this;this.pdfViewer.config.highPerformance&&this.annot.isArea()&&this.editAreaDebouncePromise.exec((function(){return n.setRect(e)}))},t.prototype.onShapeMoving=function(e,t){},t.prototype.onShapeUpdateEnd=function(e,t,n){var o=this;return this.editAreaDebouncePromise?this.editAreaDebouncePromise.waitForLastTask().then((function(){return o.setRect(e).then((function(e){"move"==n&&o.pdfViewer.eventEmitter.emit(a.default.annotationMovedPosition,[o.annot],o.getPDFPage(),o.annot)}))})):this.setRect(e).then((function(e){"move"==n&&o.pdfViewer.eventEmitter.emit(a.default.annotationMovedPosition,[o.annot],o.getPDFPage(),o.annot)}))},t.prototype.onLeftPanStart=function(e){},t.prototype.onLeftPanMove=function(e){},t.prototype.onLeftChangeSuccess=function(){},t.prototype.onLeftPanEnd=function(e){},t.prototype.onRightPanStart=function(e){},t.prototype.onRightPanMove=function(e){},t.prototype.onRightChangeSuccess=function(){return Promise.resolve()},t.prototype.onRightPanEnd=function(e){},t.prototype.getRenderingData=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,o=e.prototype.getRenderingData.call(this,t,n);return Object.assign(o,{quadPoints:this.annot.getQuadPoints()})},t.prototype.boundaryRemove=function(){this.$leftTextBoundary&&(this.$leftTextBoundary.remove(),this.$leftTextBoundary=null,this.leftHammer.destroy(),this.leftHammer=null),this.$rightTextBoundary&&(this.$rightTextBoundary.remove(),this.$rightTextBoundary=null,this.rightHammer.destroy(),this.rightHammer=null)},t}(i.default);t.default=w},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(n(19)),r=n(52),i=u(n(32)),a=u(n(151)),s=n(33),c=n(22);function u(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.page=n,this.doc=n.doc,this.engine=o,this.info=t}return e.prototype.destroy=function(){this.page=null,this.doc=null,this.engine=null,this.info=null},e.prototype.getId=function(){return this.info.id},e.prototype.getPDFPage=function(){return this.page},e.prototype.getBitmap=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.getPDFPage();return n.doc.api.getGraphicsObjectBitmap(n.getPDFDoc().getId(),n.getId(),this.getId(),e*(0,r.getPtPxRatio)(),t)},e.prototype.getRect=function(){return this.info.rect},e.prototype.setRect=function(e){var t=this;if(!this.doc.checkPermission(i.default.modify))throw new Error("Permission error");var n=this.getPDFPage();this.info.rect=e;var r=arguments[1];return n.doc.api.setGraphicsObjectRect(n.getPDFDoc().getId(),n.getId(),this.getId(),e).then((function(e){t.info=e,r&&t.doc.engine.eventEmitter.emit(o.default.graphicsUpdated,n)}))},e.prototype.setMatrix=function(e){var t=this;if(!this.doc.checkPermission(i.default.modify))throw new Error("Permission error");var n=this.getPDFPage();return this.info.matrix=e,n.doc.api.setGraphicsObjectMatrix(n.getPDFDoc().getId(),n.getId(),this.getId(),e).then((function(e){t.info=e,t.doc.engine.eventEmitter.emit(o.default.graphicsUpdated,n)}))},e.prototype.getMatrix=function(){var e=this.info.matrix;return new a.default(e.a,e.b,e.c,e.d,e.e,e.f)},e.prototype.getDeviceMatrix=function(){var e=this.getMatrix();e.translate(0,-this.getPDFPage().getHeight());var t=(0,s.pt2px)(1);return e.scale(t,-t),e},e.prototype.getType=function(){return this.info.type},e.prototype.getBorderDashes=function(){return f(this.getType()),this.info.graphState.dashes},e.prototype.getBorderStyle=function(){return f(this.getType()),this.info.graphState.dashes.length>0?1:0},e.prototype.setBorderStyle=function(e,t){var n=this;if(!this.doc.checkPermission(i.default.modify))throw new Error("Permission error");f(this.getType());var r=this.getPDFPage();return this.info.graphState.dashes=t,r.doc.api.setGraphicsObjectBorderStyle(r.getPDFDoc().getId(),r.getId(),this.getId(),e,t).then((function(e){n.info=e,n.doc.engine.eventEmitter.emit(o.default.graphicsUpdated,r)}))},e.prototype.getBorderWidth=function(){return f(this.getType()),this.info.graphState.lineWidth},e.prototype.setBorderWidth=function(e){var t=this;if(f(this.getType()),!this.doc.checkPermission(i.default.modify))throw new Error("Permission error");var n=this.getPDFPage();return this.info.graphState.lineWidth=e,n.doc.api.setGraphicsObjectBorderWidth(n.getPDFDoc().getId(),n.getId(),this.getId(),e).then((function(e){t.info=e,t.doc.engine.eventEmitter.emit(o.default.graphicsUpdated,n)}))},e.prototype.getBorderColor=function(){return f(this.getType()),(4278190080|this.info.strokeColor)>>>0},e.prototype.setBorderColor=function(e){var t=this;if(f(this.getType()),!this.doc.checkPermission(i.default.modify))throw new Error("Permission error");var n=this.getPDFPage();return n.doc.api.setGraphicsObjectBorderColor(n.getPDFDoc().getId(),n.getId(),this.getId(),e).then((function(e){t.info=e||t.info,t.doc.engine.eventEmitter.emit(o.default.graphicsUpdated,n)}))},e.prototype.getFillColor=function(){return f(this.getType()),(4278190080|this.info.fillColor)>>>0},e.prototype.setFillColor=function(e){var t=this;if(!this.doc.checkPermission(i.default.modify))throw new Error("Permission error");f(this.getType());var n=this.getPDFPage();return n.doc.api.setGraphicsObjectFillColor(n.getPDFDoc().getId(),n.getId(),this.getId(),e).then((function(e){t.info=e,t.doc.engine.eventEmitter.emit(o.default.graphicsUpdated,n)}))},e.prototype.getOpacity=function(){return((4278190080&this.info.strokeColor)>>>0)/4278190080},e.prototype.setOpacity=function(e){var t=this;if(!this.doc.checkPermission(i.default.modify))throw new Error("Permission error");var n=this.getPDFPage();return n.doc.api.setGraphicsObjectOpacity(n.getPDFDoc().getId(),n.getId(),this.getId(),e).then((function(e){t.info=e,t.doc.engine.eventEmitter.emit(o.default.graphicsUpdated,n)}))},e.prototype.remove=function(){if(!this.doc.checkPermission(i.default.modify))throw new Error("Permission error");return this.getPDFPage().removeGraphicsObject(this)},e.prototype.moveToPosition=function(e,t){var n=this;if(!this.doc.checkPermission(i.default.modify))throw new Error("Permission error");var r=this.getPDFPage();if(-1===Object.values(c.PosType).findIndex((function(t){return t==e})))throw new Error("Type error");var a=null;return e!=c.PosType.first&&e!=c.PosType.last&&(a=t.getId()),r.doc.api.moveGraphicsObjectByPosition(r.getPDFDoc().getId(),r.getId(),this.getId(),e,a).then((function(e){n.doc.engine.eventEmitter.emit(o.default.graphicsUpdated,r)}))},e}();t.default=l;var f=function(e){if(1!=e&&2!=e&&5!=e)throw new Error("only text, path object are supported")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(59)),r=s(n(19)),i=s(n(32)),a=s(n(38));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=function(e){function t(n,o){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o))}return c(t,e),t.prototype.getQuadPoints=function(){return this.info.quadPoints||[]},t.prototype.isReplace=function(){return!1},t.prototype.getDeviceQuadPoints=function(){for(var e=this.getPDFPage(),t=(e.getHeight(),e.getWidth()),n=this.getQuadPoints(),o=[],r=n.length;r--;){var i=n[r];o[r]=[{x:i[0].x,y:t-i[0].y},{x:i[1].x,y:t-i[1].y},{x:i[2].x,y:t-i[2].y},{x:i[3].x,y:t-i[3].y}]}return o},t.prototype.getStartCharIndex=function(){return this.info.startCharIndex},t.prototype.getStartCharInfo=function(){return this.info.startCharInfo},t.prototype.getEndCharIndex=function(){return this.info.endCharIndex},t.prototype.getEndCharInfo=function(){return this.info.endCharInfo},t.prototype.getText=function(){if(!this.page.doc.checkPermission(i.default.extract||i.default.extractAccess))throw new Error("Permission error");return this.info.text||""},t.prototype.getContinuousText=function(){if(!this.page.doc.checkPermission(i.default.extract||i.default.extractAccess))throw new Error("Permission error");return this.info.text||""},t.prototype.updateQuadPointsByCharIndex=function(e,t){var n=this;this.checkModidyPerm();var o=this.getPDFPage(),i=o.getPDFDoc();return this.page.doc.api.updateAnnotQuadPointsByCharIndex(i.getId(),o.getId(),this.getId(),e,t).then((function(e){if(e)return n.update(a.default.quadPointsUpdated).then((function(t){return n.eventEmitter.emit(r.default.annotationAppearanceUpdated,t,n.getPDFPage()),e}))}))},t.prototype.isArea=function(){return this.info.isArea},t.prototype.exportToJSON=function(){for(var t=e.prototype.exportToJSON.call(this),n=this.getQuadPoints(),o="",r=0;r<n.length;r++){var i=n[r];o+=i[0].x+","+i[0].y+",",o+=i[1].x+","+i[1].y+",",o+=i[2].x+","+i[2].y+",",o+=i[3].x+","+i[3].y+","}return o=o.substr(0,o.length-1),Object.assign({},t,{coords:o})},t}(o.default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(61));function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=function(e){function t(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return i.pdfViewer=n,i.pageRender=r,i.isDisabled=!1,i.eventEmitter=new o.default,i}return i(t,e),t.prototype.on=function(e,t){var n=this;return this.eventEmitter.on(e,t),function(){return n.eventEmitter.off(e,t)}},t.prototype.showAt=function(e,t,n,o){this.eventEmitter.emit("show")},t.prototype.hide=function(){this.eventEmitter.emit("hide")},t.prototype.disable=function(){this.isDisabled=!0},t.prototype.enable=function(){this.isDisabled=!1},t.prototype.destroy=function(){this.eventEmitter.emit("destroy"),e.prototype.destroy.call(this)},t}(r(n(13)).default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DISPATCH_STORE_ANNOTATION_DISPLAYING="fv--annotation-displaying",t.DISPATCH_STORE_NEW_ANNOTATIONS="fv--search-add-new-annotation"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});l(n(163));var o=l(n(489)),r=l(n(1678)),i=(l(n(10)),n(14)),a=l(n(13)),s=n(210),c=n(34),u=l(n(1750));function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var p=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return o.pdfUI=n,o}return f(t,e),t.extend=function(e,t){return(0,s.createClass)(e,this,t)},t.prototype.getTemplateParser=function(){return new o.default},t.prototype.getLayoutTemplate=function(){return(0,r.default)()},t.prototype.getDefaultFragments=function(){return[]},t.prototype.processAddon=function(e){},t.prototype.beforeMounted=function(e){var t=this;this.root=e,this.addDestroyHook((function(){t.root=null})),i.isTablet?document.documentElement.classList.add("fv__ui-tablet"):i.isMobile?document.documentElement.classList.add("fv__ui-mobile"):i.isDesktop&&document.documentElement.classList.add("fv__ui-desktop"),i.isTouchDevice&&document.documentElement.classList.add("fv__ui-touch-device"),Object.keys(c.BROWSER_DETECTION).forEach((function(e){/^[a-z\-]+$/.test(e)&&(c.BROWSER_DETECTION[e]&&document.documentElement.classList.add("fv__ui-browser-"+e))}));var n=this.pdfUI.getServiceInstance(u.default,e);this.addDestroyHook(n.onHighContrastChange((function(e){document.documentElement.classList.toggle("fv__ui-high-contrast",e)})))},t.prototype.afterMounted=function(e){},t.prototype.disableAll=function(){this.root&&this.root.disable()},t.prototype.enableAll=function(){this.root&&this.root.enable()},t}(a.default);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UIXAddonI18nBackend=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=a(n(56)),i=a(n(1677));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=a(n(9)).default.getLogger("UIXAddon"),u=[],l=(t.UIXAddonI18nBackend=function(){function e(){s(this,e)}return e.prototype.init=function(e,t,n){var o=n.fallbackLng;Array.isArray(o)?this.fallbackLng=o[0]:"string"==typeof o&&(this.fallbackLng=o)},e.prototype.read=function(e,t,n){var o=u.find((function(e){return e.getI18NNamespace()===t}));if(o){var r=o.i18nInfo.sources;if(!r[e]){var i=this.fallbackLng;return i=e in r?e:this.fallbackLng||Object.keys(r)[0],r[e]=r[i],void n(null,r[i])}}n(null,null)},o(e,null,[{key:"type",get:function(){return"backend"}}]),e}(),function(){function e(){s(this,e),this.clazz=this.constructor}return e.extend=function(e,t){var n=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,function(){function t(){s(this,t)}return t.getName=function(){return e},t}());return Object.assign(n[e].prototype,t),n[e]},e.getName=function(){(0,r.default)()},e.getLoader=function(){var e={ns:this.getName()};return{loadI18N:function(){return Promise.resolve({})},loadAddonInfo:function(){return Promise.resolve(e)}}},e.load=function(e,t){var n=this,o=t.library||this.name;window[o]||(o in window?c.warn("The addon's variable name '"+o+"' is allready exists globally!",this):window[o]=this),this.addonInfo=t;var r=(this.getLoader()||new i.default(e)).loadI18N(t).then((function(e){n.i18nInfo=e}));return Promise.all([r]).then((function(e){u.push(n)}))},e.getLibraryName=function(){if(!this.addonInfo)throw new Error("Addon is not loaded!");return this.addonInfo.library||this.name},e.getI18NNamespace=function(){return this.i18nInfo.ns||this.getName()},e.init=function(){this.initOnLoad()},e.initOnLoad=function(){},e.prototype.init=function(e){},e.prototype.fragments=function(){return[]},e.prototype.getI18NResources=function(){return this.clazz.i18nInfo.sources},e.prototype.beforeMounted=function(e){},e.prototype.pdfViewerCreated=function(e){},e.prototype.afterMounted=function(e){},e.prototype.destroy=function(){},e.prototype.receiveAction=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e.prototype.hasOwnProperty(t)&&"function"==typeof this[t])return this[t].apply(this,n)},e}());t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return[e||"",o,r++].join("_")};var o="unique_"+Date.now(),r=0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(160)),r=a(n(1032)),i=(n(7),n(52),a(n(1)),a(n(219)));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=[{iconClass:"fv__icon-popup-copy",name:"copy_selected_text"},{iconClass:"fv__icon-toolbar-text-highlight",name:"create-text-highlight"},{iconClass:"fv__icon-toolbar-strikeout",name:"create-strikeout"},{iconClass:"fv__icon-toolbar-underline",name:"create-underline"}],u=(0,r.default)({actions:c}),l=(new DOMParser).parseFromString(u,"text/html").body.firstElementChild,f=function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o));return r.selectionTool=new i.default(n,o),r.init(),r}return s(t,e),t.prototype.init=function(){var e=this;this.dom=l.cloneNode(!0),this.pageRender.$ui.get(0).appendChild(this.dom),this.dom.addEventListener("click",(function(t){if(!t.target.classList.contains("disabled")){var n=t.target.getAttribute("action");n&&e[n]&&e[n]().then((function(){e.hide()}))}}))},t.prototype.copy_selected_text=function(){return this.selectionTool.copy()},t.prototype["create-text-highlight"]=function(){return this.selectionTool.createTextHighlight()},t.prototype["create-strikeout"]=function(){return this.selectionTool.createStrikeout()},t.prototype["create-underline"]=function(){return this.selectionTool.createUnderline()},t.prototype.showAt=function(t,n){var o=this;e.prototype.showAt.call(this,t,n),this.dom.style.cssText+="\n            left: "+t+"px;\n            top: "+n+"px;\n        ",Promise.resolve(this.pageRender.docRender.getUserPermission().getValue()).then((function(e){32&e?o.dom.querySelector("div>div:not(.fv__icon-popup-copy)").classList.remove("disabled"):o.dom.querySelector("div>div:not(.fv__icon-popup-copy)").classList.add("disabled"),16&e?o.dom.querySelector("div>div.fv__icon-popup-copy").classList.remove("disabled"):o.dom.querySelector("div>div.fv__icon-popup-copy").classList.add("disabled"),o.dom.classList.add("fv__active")}))},t.prototype.hide=function(){e.prototype.hide.call(this),this.dom.classList.remove("fv__active")},t.prototype.destroy=function(){this.dom.remove(),this.selectionTool.destroy()},t}(o.default);t.default=f},function(e,t,n){"use strict";n.r(t);var o,r,i,a=n(86),s=function(){function e(e,t){void 0===t&&(t=!1),this.permissions=e,this.noPermission=t}return e.fully=function(){return o||(o=new e([a.ANNOTATION_PERMISSION.fully])),o},e.ignorable=function(){return r||(r=new e([])),r},e.none=function(){return i||(i=new e([],!0)),i},e.prototype.has=function(e){return!this.noPermission&&(0===this.permissions.length||(this.permissions.indexOf(a.ANNOTATION_PERMISSION.fully)>-1||this.permissions.indexOf(e)>-1))},e.prototype.ignorable=function(){return!this.noPermission&&0===this.permissions.length},e.prototype.isModifiable=function(){return this.has(a.ANNOTATION_PERMISSION.modifiable)},e.prototype.isPlayable=function(){return this.has(a.ANNOTATION_PERMISSION.playable)},e.prototype.isAdjustable=function(){return this.has(a.ANNOTATION_PERMISSION.adjustable)},e.prototype.isEditable=function(){return this.has(a.ANNOTATION_PERMISSION.editable)},e.prototype.isDeletable=function(){return this.has(a.ANNOTATION_PERMISSION.deletable)},e.prototype.isAttachmentDownloadable=function(){return this.has(a.ANNOTATION_PERMISSION.attachmentDownloadable)},e.prototype.isRedactionApplicable=function(){return this.has(a.ANNOTATION_PERMISSION.redactionApplicable)},e.prototype.isReplyable=function(){return this.has(a.ANNOTATION_PERMISSION.replyable)},e.prototype.equalsTo=function(t){if(!(t&&t instanceof e))return!1;var n=this.permissions,o=t.permissions;return n.length===o.length&&(this.noPermission===t.noPermission&&!n.some((function(e){return-1===o.indexOf(e)})))},e}();t.default=s},function(e,t,n){var o=n(87),r=n(23),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:o.version,mode:n(113)?"pure":"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var o=n(89);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==o(e)?e.split(""):Object(e)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){"use strict";var o=n(16);e.exports=function(){var e=o(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){var o=n(16),r=n(62),i=n(35)("species");e.exports=function(e,t){var n,a=o(e).constructor;return void 0===a||null==(n=o(a)[i])?t:r(n)}},function(e,t,n){var o,r,i;r=[n(4)],void 0===(i="function"==typeof(o=function(e){"use strict";var t;e.support.htmlMenuitem="HTMLMenuItemElement"in window,e.support.htmlCommand="HTMLCommandElement"in window,e.support.eventSelectstart="onselectstart"in document.documentElement,e.ui&&e.widget||(e.cleanData=(t=e.cleanData,function(n){var o,r,i;for(i=0;null!=n[i];i++){r=n[i];try{(o=e._data(r,"events"))&&o.remove&&e(r).triggerHandler("remove")}catch(e){}}t(n)}));var n=null,o=!1,r=e(window),i=0,a={},s={},c={},u={selector:null,appendTo:null,trigger:"right",autoHide:!1,delay:200,reposition:!0,hideOnSecondTrigger:!1,selectableSubMenu:!1,classNames:{hover:"context-menu-hover",disabled:"context-menu-disabled",visible:"context-menu-visible",notSelectable:"context-menu-not-selectable",icon:"context-menu-icon",iconEdit:"context-menu-icon-edit",iconCut:"context-menu-icon-cut",iconCopy:"context-menu-icon-copy",iconPaste:"context-menu-icon-paste",iconDelete:"context-menu-icon-delete",iconAdd:"context-menu-icon-add",iconQuit:"context-menu-icon-quit",iconLoadingClass:"context-menu-icon-loading"},determinePosition:function(t){if(e.ui&&e.ui.position)t.css("display","block").position({my:"center top",at:"center bottom",of:this,offset:"0 5",collision:"fit"}).css("display","none");else{var n=this.offset();n.top+=this.outerHeight(),n.left+=this.outerWidth()/2-t.outerWidth()/2,t.css(n)}},position:function(e,t,n){var o;if(t||n){if("maintain"===t&&"maintain"===n)o=e.$menu.position();else{var i=e.$menu.offsetParent().offset();o={top:n-i.top,left:t-i.left}}var a=r.scrollTop()+r.height(),s=r.scrollLeft()+r.width(),c=e.$menu.outerHeight(),u=e.$menu.outerWidth();o.top+c>a&&(o.top-=c),o.top<0&&(o.top=0),o.left+u>s&&(o.left-=u),o.left<0&&(o.left=0),e.$menu.css(o)}else e.determinePosition.call(this,e.$menu)},positionSubmenu:function(t){if(void 0!==t)if(e.ui&&e.ui.position)t.css("display","block").position({my:"left top-5",at:"right top",of:this,collision:"flipfit fit"}).css("display","");else{var n={top:-9,left:this.outerWidth()-5};t.css(n)}},zIndex:1,animation:{duration:50,show:"slideDown",hide:"slideUp"},events:{preShow:e.noop,show:e.noop,hide:e.noop,activated:e.noop},callback:null,items:{}},l={timer:null,pageX:null,pageY:null},f={abortevent:function(e){e.preventDefault(),e.stopImmediatePropagation()},contextmenu:function(t){var o=e(this);if(!1!==t.data.events.preShow(o,t)&&("right"===t.data.trigger&&(t.preventDefault(),t.stopImmediatePropagation()),!("right"!==t.data.trigger&&"demand"!==t.data.trigger&&t.originalEvent||!(void 0===t.mouseButton||!t.data||"left"===t.data.trigger&&0===t.mouseButton||"right"===t.data.trigger&&2===t.mouseButton)||o.hasClass("context-menu-active")||o.hasClass("context-menu-disabled")))){if(n=o,t.data.build){var r=t.data.build(n,t);if(!1===r)return;if(t.data=e.extend(!0,{},u,t.data,r||{}),!t.data.items||e.isEmptyObject(t.data.items))throw window.console&&(console.error||console.log).call(console,"No items specified to show in contextMenu"),new Error("No Items specified");t.data.$trigger=n,p.create(t.data)}p.show.call(o,t.data,t.pageX,t.pageY)}},click:function(t){t.preventDefault(),t.stopImmediatePropagation(),e(this).trigger(e.Event("contextmenu",{data:t.data,pageX:t.pageX,pageY:t.pageY}))},mousedown:function(t){var o=e(this);n&&n.length&&!n.is(o)&&n.data("contextMenu").$menu.trigger("contextmenu:hide"),2===t.button&&(n=o.data("contextMenuActive",!0))},mouseup:function(t){var o=e(this);o.data("contextMenuActive")&&n&&n.length&&n.is(o)&&!o.hasClass("context-menu-disabled")&&(t.preventDefault(),t.stopImmediatePropagation(),n=o,o.trigger(e.Event("contextmenu",{data:t.data,pageX:t.pageX,pageY:t.pageY}))),o.removeData("contextMenuActive")},mouseenter:function(t){var o=e(this),r=e(t.relatedTarget),i=e(document);r.is(".context-menu-list")||r.closest(".context-menu-list").length||n&&n.length||(l.pageX=t.pageX,l.pageY=t.pageY,l.data=t.data,i.on("mousemove.contextMenuShow",f.mousemove),l.timer=setTimeout((function(){l.timer=null,i.off("mousemove.contextMenuShow"),n=o,o.trigger(e.Event("contextmenu",{data:l.data,pageX:l.pageX,pageY:l.pageY}))}),t.data.delay))},mousemove:function(e){l.pageX=e.pageX,l.pageY=e.pageY},mouseleave:function(t){var n=e(t.relatedTarget);if(!n.is(".context-menu-list")&&!n.closest(".context-menu-list").length){try{clearTimeout(l.timer)}catch(t){}l.timer=null}},layerClick:function(t){var n,o,i=e(this).data("contextMenuRoot"),a=t.button,s=t.pageX,c=t.pageY,u=void 0===s;t.preventDefault(),setTimeout((function(){if(u)null!=i&&null!==i.$menu&&void 0!==i.$menu&&i.$menu.trigger("contextmenu:hide");else{var l,f="left"===i.trigger&&0===a||"right"===i.trigger&&2===a;if(document.elementFromPoint&&i.$layer){if(i.$layer.hide(),null!==(n=document.elementFromPoint(s-r.scrollLeft(),c-r.scrollTop()))&&n.isContentEditable){var p=document.createRange(),d=window.getSelection();p.selectNode(n),p.collapse(!0),d.removeAllRanges(),d.addRange(p)}e(n).trigger(t),i.$layer.show()}if(i.hideOnSecondTrigger&&f&&null!==i.$menu&&void 0!==i.$menu)i.$menu.trigger("contextmenu:hide");else{if(i.reposition&&f)if(document.elementFromPoint){if(i.$trigger.is(n))return void i.position.call(i.$trigger,i,s,c)}else if(o=i.$trigger.offset(),l=e(window),o.top+=l.scrollTop(),o.top<=t.pageY&&(o.left+=l.scrollLeft(),o.left<=t.pageX&&(o.bottom=o.top+i.$trigger.outerHeight(),o.bottom>=t.pageY&&(o.right=o.left+i.$trigger.outerWidth(),o.right>=t.pageX))))return void i.position.call(i.$trigger,i,s,c);n&&f&&i.$trigger.one("contextmenu:hidden",(function(){e(n).contextMenu({x:s,y:c,button:a})})),null!=i&&null!==i.$menu&&void 0!==i.$menu&&i.$menu.trigger("contextmenu:hide")}}}),50)},keyStop:function(e,t){t.isInput||e.preventDefault(),e.stopPropagation()},key:function(e){var t={};n&&(t=n.data("contextMenu")||{}),void 0===t.zIndex&&(t.zIndex=0);var o=0,r=function(e){""!==e.style.zIndex?o=e.style.zIndex:null!==e.offsetParent&&void 0!==e.offsetParent?r(e.offsetParent):null!==e.parentElement&&void 0!==e.parentElement&&r(e.parentElement)};if(r(e.target),!(t.$menu&&parseInt(o,10)>parseInt(t.$menu.css("zIndex"),10))){switch(e.keyCode){case 9:case 38:if(f.keyStop(e,t),t.isInput){if(9===e.keyCode&&e.shiftKey)return e.preventDefault(),t.$selected&&t.$selected.find("input, textarea, select").blur(),void(null!==t.$menu&&void 0!==t.$menu&&t.$menu.trigger("prevcommand"));if(38===e.keyCode&&"checkbox"===t.$selected.find("input, textarea, select").prop("type"))return void e.preventDefault()}else if(9!==e.keyCode||e.shiftKey)return void(null!==t.$menu&&void 0!==t.$menu&&t.$menu.trigger("prevcommand"));break;case 40:if(f.keyStop(e,t),!t.isInput)return void(null!==t.$menu&&void 0!==t.$menu&&t.$menu.trigger("nextcommand"));if(9===e.keyCode)return e.preventDefault(),t.$selected&&t.$selected.find("input, textarea, select").blur(),void(null!==t.$menu&&void 0!==t.$menu&&t.$menu.trigger("nextcommand"));if(40===e.keyCode&&"checkbox"===t.$selected.find("input, textarea, select").prop("type"))return void e.preventDefault();break;case 37:if(f.keyStop(e,t),t.isInput||!t.$selected||!t.$selected.length)break;if(!t.$selected.parent().hasClass("context-menu-root")){var i=t.$selected.parent().parent();return t.$selected.trigger("contextmenu:blur"),void(t.$selected=i)}break;case 39:if(f.keyStop(e,t),t.isInput||!t.$selected||!t.$selected.length)break;var a=t.$selected.data("contextMenu")||{};if(a.$menu&&t.$selected.hasClass("context-menu-submenu"))return t.$selected=null,a.$selected=null,void a.$menu.trigger("nextcommand");break;case 35:case 36:return t.$selected&&t.$selected.find("input, textarea, select").length?void 0:((t.$selected&&t.$selected.parent()||t.$menu).children(":not(."+t.classNames.disabled+", ."+t.classNames.notSelectable+")")[36===e.keyCode?"first":"last"]().trigger("contextmenu:focus"),void e.preventDefault());case 13:if(f.keyStop(e,t),t.isInput){if(t.$selected&&!t.$selected.is("textarea, select"))return void e.preventDefault();break}return void(void 0!==t.$selected&&null!==t.$selected&&t.$selected.trigger("mouseup"));case 32:case 33:case 34:return void f.keyStop(e,t);case 27:return f.keyStop(e,t),void(null!==t.$menu&&void 0!==t.$menu&&t.$menu.trigger("contextmenu:hide"));default:var s=String.fromCharCode(e.keyCode).toUpperCase();if(t.accesskeys&&t.accesskeys[s])return void t.accesskeys[s].$node.trigger(t.accesskeys[s].$menu?"contextmenu:focus":"mouseup")}e.stopPropagation(),void 0!==t.$selected&&null!==t.$selected&&t.$selected.trigger(e)}},prevItem:function(t){t.stopPropagation();var n=e(this).data("contextMenu")||{},o=e(this).data("contextMenuRoot")||{};if(n.$selected){var r=n.$selected;(n=n.$selected.parent().data("contextMenu")||{}).$selected=r}for(var i=n.$menu.children(),a=n.$selected&&n.$selected.prev().length?n.$selected.prev():i.last(),s=a;a.hasClass(o.classNames.disabled)||a.hasClass(o.classNames.notSelectable)||a.is(":hidden");)if((a=a.prev().length?a.prev():i.last()).is(s))return;n.$selected&&f.itemMouseleave.call(n.$selected.get(0),t),f.itemMouseenter.call(a.get(0),t);var c=a.find("input, textarea, select");c.length&&c.focus()},nextItem:function(t){t.stopPropagation();var n=e(this).data("contextMenu")||{},o=e(this).data("contextMenuRoot")||{};if(n.$selected){var r=n.$selected;(n=n.$selected.parent().data("contextMenu")||{}).$selected=r}for(var i=n.$menu.children(),a=n.$selected&&n.$selected.next().length?n.$selected.next():i.first(),s=a;a.hasClass(o.classNames.disabled)||a.hasClass(o.classNames.notSelectable)||a.is(":hidden");)if((a=a.next().length?a.next():i.first()).is(s))return;n.$selected&&f.itemMouseleave.call(n.$selected.get(0),t),f.itemMouseenter.call(a.get(0),t);var c=a.find("input, textarea, select");c.length&&c.focus()},focusInput:function(){var t=e(this).closest(".context-menu-item"),n=t.data(),o=n.contextMenu,r=n.contextMenuRoot;r.$selected=o.$selected=t,r.isInput=o.isInput=!0},blurInput:function(){var t=e(this).closest(".context-menu-item").data(),n=t.contextMenu;t.contextMenuRoot.isInput=n.isInput=!1},menuMouseenter:function(){e(this).data().contextMenuRoot.hovering=!0},menuMouseleave:function(t){var n=e(this).data().contextMenuRoot;n.$layer&&n.$layer.is(t.relatedTarget)&&(n.hovering=!1)},itemMouseenter:function(t){var n=e(this),o=n.data(),r=o.contextMenu,i=o.contextMenuRoot;i.hovering=!0,t&&i.$layer&&i.$layer.is(t.relatedTarget)&&(t.preventDefault(),t.stopImmediatePropagation()),(r.$menu?r:i).$menu.children("."+i.classNames.hover).trigger("contextmenu:blur").children(".hover").trigger("contextmenu:blur"),n.hasClass(i.classNames.disabled)||n.hasClass(i.classNames.notSelectable)?r.$selected=null:n.trigger("contextmenu:focus")},itemMouseleave:function(t){var n=e(this),o=n.data(),r=o.contextMenu,i=o.contextMenuRoot;if(i!==r&&i.$layer&&i.$layer.is(t.relatedTarget))return void 0!==i.$selected&&null!==i.$selected&&i.$selected.trigger("contextmenu:blur"),t.preventDefault(),t.stopImmediatePropagation(),void(i.$selected=r.$selected=r.$node);r&&r.$menu&&r.$menu.hasClass("context-menu-visible")||n.trigger("contextmenu:blur")},itemClick:function(t){var n,o=e(this),r=o.data(),i=r.contextMenu,a=r.contextMenuRoot,s=r.contextMenuKey;if(!(!i.items[s]||o.is("."+a.classNames.disabled+", .context-menu-separator, ."+a.classNames.notSelectable)||o.is(".context-menu-submenu")&&!1===a.selectableSubMenu)){if(t.preventDefault(),t.stopImmediatePropagation(),e.isFunction(i.callbacks[s])&&Object.prototype.hasOwnProperty.call(i.callbacks,s))n=i.callbacks[s];else{if(!e.isFunction(a.callback))return;n=a.callback}!1!==n.call(a.$trigger,s,a,t)?a.$menu.trigger("contextmenu:hide"):a.$menu.parent().length&&p.update.call(a.$trigger,a)}},inputClick:function(e){e.stopImmediatePropagation()},hideMenu:function(t,n){var o=e(this).data("contextMenuRoot");p.hide.call(o.$trigger,o,n&&n.force)},focusItem:function(t){t.stopPropagation();var n=e(this),o=n.data(),r=o.contextMenu,i=o.contextMenuRoot;n.hasClass(i.classNames.disabled)||n.hasClass(i.classNames.notSelectable)||(n.addClass([i.classNames.hover,i.classNames.visible].join(" ")).parent().find(".context-menu-item").not(n).removeClass(i.classNames.visible).filter("."+i.classNames.hover).trigger("contextmenu:blur"),r.$selected=i.$selected=n,r&&r.$node&&r.$node.hasClass("context-menu-submenu")&&r.$node.addClass(i.classNames.hover),r.$node&&i.positionSubmenu.call(r.$node,r.$menu))},blurItem:function(t){t.stopPropagation();var n=e(this),o=n.data(),r=o.contextMenu,i=o.contextMenuRoot;r.autoHide&&n.removeClass(i.classNames.visible),n.removeClass(i.classNames.hover),r.$selected=null}},p={show:function(t,o,r){var i=e(this),a={};if(e("#context-menu-layer").trigger("mousedown"),t.$trigger=i,!1!==t.events.show.call(i,t))if(!1!==p.update.call(i,t)){if(t.position.call(i,t,o,r),t.zIndex){var s=t.zIndex;"function"==typeof t.zIndex&&(s=t.zIndex.call(i,t)),a.zIndex=function(e){for(var t=0,n=e;t=Math.max(t,parseInt(n.css("z-index"),10)||0),(n=n.parent())&&n.length&&!("html body".indexOf(n.prop("nodeName").toLowerCase())>-1););return t}(i)+s}p.layer.call(t.$menu,t,a.zIndex),t.$menu.find("ul").css("zIndex",a.zIndex+1),t.$menu.css(a)[t.animation.show](t.animation.duration,(function(){i.trigger("contextmenu:visible"),p.activated(t),t.events.activated(t)})),i.data("contextMenu",t).addClass("context-menu-active"),e(document).off("keydown.contextMenu").on("keydown.contextMenu",f.key),t.autoHide&&e(document).on("mousemove.contextMenuAutoHide",(function(e){var n=i.offset();n.right=n.left+i.outerWidth(),n.bottom=n.top+i.outerHeight(),!t.$layer||t.hovering||e.pageX>=n.left&&e.pageX<=n.right&&e.pageY>=n.top&&e.pageY<=n.bottom||setTimeout((function(){t.hovering||null===t.$menu||void 0===t.$menu||t.$menu.trigger("contextmenu:hide")}),50)}))}else n=null;else n=null},hide:function(t,o){var r=e(this);if(t||(t=r.data("contextMenu")||{}),o||!t.events||!1!==t.events.hide.call(r,t)){if(r.removeData("contextMenu").removeClass("context-menu-active"),t.$layer){setTimeout((i=t.$layer,function(){i.remove()}),10);try{delete t.$layer}catch(e){t.$layer=null}}var i;n=null,t.$menu.find("."+t.classNames.hover).trigger("contextmenu:blur"),t.$selected=null,t.$menu.find("."+t.classNames.visible).removeClass(t.classNames.visible),e(document).off(".contextMenuAutoHide").off("keydown.contextMenu"),t.$menu&&t.$menu[t.animation.hide](t.animation.duration,(function(){t.build&&(t.$menu.remove(),e.each(t,(function(e){switch(e){case"ns":case"selector":case"build":case"trigger":return!0;default:t[e]=void 0;try{delete t[e]}catch(e){}return!0}}))),setTimeout((function(){r.trigger("contextmenu:hidden")}),10)}))}},create:function(t,n){function o(t){var n=e("<span></span>");if(t._accesskey)t._beforeAccesskey&&n.append(document.createTextNode(t._beforeAccesskey)),e("<span></span>").addClass("context-menu-accesskey").text(t._accesskey).appendTo(n),t._afterAccesskey&&n.append(document.createTextNode(t._afterAccesskey));else if(t.isHtmlName){if(void 0!==t.accesskey)throw new Error("accesskeys are not compatible with HTML names and cannot be used together in the same item");n.html(t.name)}else n.text(t.name);return n}void 0===n&&(n=t),t.$menu=e('<ul class="context-menu-list"></ul>').addClass(t.className||"").data({contextMenu:t,contextMenuRoot:n}),t.dataAttr&&e.each(t.dataAttr,(function(e,n){t.$menu.attr("data-"+t.key,n)})),e.each(["callbacks","commands","inputs"],(function(e,o){t[o]={},n[o]||(n[o]={})})),n.accesskeys||(n.accesskeys={}),e.each(t.items,(function(r,i){var a=e('<li class="context-menu-item"></li>').addClass(i.className||""),s=null,u=null;if(a.on("click",e.noop),"string"!=typeof i&&"cm_separator"!==i.type||(i={type:"cm_seperator"}),i.$node=a.data({contextMenu:t,contextMenuRoot:n,contextMenuKey:r}),void 0!==i.accesskey)for(var l,d=function(e){for(var t,n=e.split(/\s+/),o=[],r=0;t=n[r];r++)t=t.charAt(0).toUpperCase(),o.push(t);return o}(i.accesskey),h=0;l=d[h];h++)if(!n.accesskeys[l]){n.accesskeys[l]=i;var g=i.name.match(new RegExp("^(.*?)("+l+")(.*)$","i"));g&&(i._beforeAccesskey=g[1],i._accesskey=g[2],i._afterAccesskey=g[3]);break}if(i.type&&c[i.type])c[i.type].call(a,i,t,n),e.each([t,n],(function(n,o){o.commands[r]=i,!e.isFunction(i.callback)||void 0!==o.callbacks[r]&&void 0!==t.type||(o.callbacks[r]=i.callback)}));else{switch("cm_seperator"===i.type?a.addClass("context-menu-separator "+n.classNames.notSelectable):"html"===i.type?a.addClass("context-menu-html "+n.classNames.notSelectable):"sub"!==i.type&&i.type?(s=e("<label></label>").appendTo(a),o(i).appendTo(s),a.addClass("context-menu-input"),t.hasTypes=!0,e.each([t,n],(function(e,t){t.commands[r]=i,t.inputs[r]=i}))):i.items&&(i.type="sub"),i.type){case"cm_seperator":break;case"text":u=e('<input type="text" value="1" name="" />').attr("name","context-menu-input-"+r).val(i.value||"").appendTo(s);break;case"textarea":u=e('<textarea name=""></textarea>').attr("name","context-menu-input-"+r).val(i.value||"").appendTo(s),i.height&&u.height(i.height);break;case"checkbox":u=e('<input type="checkbox" value="1" name="" />').attr("name","context-menu-input-"+r).val(i.value||"").prop("checked",!!i.selected).prependTo(s);break;case"radio":u=e('<input type="radio" value="1" name="" />').attr("name","context-menu-input-"+i.radio).val(i.value||"").prop("checked",!!i.selected).prependTo(s);break;case"select":u=e('<select name=""></select>').attr("name","context-menu-input-"+r).appendTo(s),i.options&&(e.each(i.options,(function(t,n){e("<option></option>").val(t).text(n).appendTo(u)})),u.val(i.selected));break;case"sub":o(i).appendTo(a),i.appendTo=i.$node,a.data("contextMenu",i).addClass("context-menu-submenu"),i.callback=null,"function"==typeof i.items.then?p.processPromises(i,n,i.items):p.create(i,n);break;case"html":e(i.html).appendTo(a);break;default:e.each([t,n],(function(n,o){o.commands[r]=i,!e.isFunction(i.callback)||void 0!==o.callbacks[r]&&void 0!==t.type||(o.callbacks[r]=i.callback)})),o(i).appendTo(a)}i.type&&"sub"!==i.type&&"html"!==i.type&&"cm_seperator"!==i.type&&(u.on("focus",f.focusInput).on("blur",f.blurInput),i.events&&u.on(i.events,t)),i.icon&&(e.isFunction(i.icon)?i._icon=i.icon.call(this,this,a,r,i):"string"!=typeof i.icon||"fab "!==i.icon.substring(0,4)&&"fas "!==i.icon.substring(0,4)&&"fad "!==i.icon.substring(0,4)&&"far "!==i.icon.substring(0,4)&&"fal "!==i.icon.substring(0,4)?"string"==typeof i.icon&&"fa-"===i.icon.substring(0,3)?i._icon=n.classNames.icon+" "+n.classNames.icon+"--fa fa "+i.icon:i._icon=n.classNames.icon+" "+n.classNames.icon+"-"+i.icon:(a.addClass(n.classNames.icon+" "+n.classNames.icon+"--fa5"),i._icon=e('<i class="'+i.icon+'"></i>')),"string"==typeof i._icon?a.addClass(i._icon):a.prepend(i._icon))}i.$input=u,i.$label=s,a.appendTo(t.$menu),!t.hasTypes&&e.support.eventSelectstart&&a.on("selectstart.disableTextSelect",f.abortevent)})),t.$node||t.$menu.css("display","none").addClass("context-menu-root"),t.$menu.appendTo(t.appendTo||document.body)},resize:function(t,n){var o;t.css({position:"absolute",display:"block"}),t.data("width",(o=t.get(0)).getBoundingClientRect?Math.ceil(o.getBoundingClientRect().width):t.outerWidth()+1),t.css({position:"static",minWidth:"0px",maxWidth:"100000px"}),t.find("> li > ul").each((function(){p.resize(e(this),!0)})),n||t.find("ul").addBack().css({position:"",display:"",minWidth:"",maxWidth:""}).outerWidth((function(){return e(this).data("width")}))},update:function(t,n){var o=this;void 0===n&&(n=t,p.resize(t.$menu));var r=!1;return t.$menu.children().each((function(){var i,a=e(this),s=a.data("contextMenuKey"),c=t.items[s],u=e.isFunction(c.disabled)&&c.disabled.call(o,s,n)||!0===c.disabled;if((i=e.isFunction(c.visible)?c.visible.call(o,s,n):void 0===c.visible||!0===c.visible)&&(r=!0),a[i?"show":"hide"](),a[u?"addClass":"removeClass"](n.classNames.disabled),e.isFunction(c.icon)){a.removeClass(c._icon);var l=c.icon.call(this,o,a,s,c);"string"==typeof l?a.addClass(l):a.prepend(l)}if(c.type)switch(a.find("input, select, textarea").prop("disabled",u),c.type){case"text":case"textarea":c.$input.val(c.value||"");break;case"checkbox":case"radio":c.$input.val(c.value||"").prop("checked",!!c.selected);break;case"select":c.$input.val((0===c.selected?"0":c.selected)||"")}c.$menu&&p.update.call(o,c,n)&&(r=!0)})),r},layer:function(t,n){var o=t.$layer=e('<div id="context-menu-layer"></div>').css({height:r.height(),width:r.width(),display:"block",position:"fixed","z-index":n,top:0,left:0,opacity:0,filter:"alpha(opacity=0)","background-color":"#000"}).data("contextMenuRoot",t).insertBefore(this).on("contextmenu",f.abortevent).on("mousedown",f.layerClick);return void 0===document.body.style.maxWidth&&o.css({position:"absolute",height:e(document).height()}),o},processPromises:function(e,t,n){function o(e,t,n){void 0===n?(n={error:{name:"No items and no error item",icon:"context-menu-icon context-menu-icon-quit"}},window.console&&(console.error||console.log).call(console,'When you reject a promise, provide an "items" object, equal to normal sub-menu items')):"string"==typeof n&&(n={error:{name:n}}),r(e,t,n)}function r(e,t,n){void 0!==t.$menu&&t.$menu.is(":visible")&&(e.$node.removeClass(t.classNames.iconLoadingClass),e.items=n,p.create(e,t,!0),p.update(e,t),t.positionSubmenu.call(e.$node,e.$menu))}e.$node.addClass(t.classNames.iconLoadingClass),n.then(function(e,t,n){void 0===n&&o(void 0),r(e,t,n)}.bind(this,e,t),o.bind(this,e,t))},activated:function(t){var n=t.$menu,o=n.offset(),r=e(window).height(),i=e(window).scrollTop(),a=n.height();a>r?n.css({height:r+"px","overflow-x":"hidden","overflow-y":"auto",top:i+"px"}):(o.top<i||o.top+a>i+r)&&n.css({top:i+"px"})}};function d(t){return t.id&&e('label[for="'+t.id+'"]').val()||t.name}e.fn.contextMenu=function(t){var n=this,o=t;if(this.length>0)if(void 0===t)this.first().trigger("contextmenu");else if(void 0!==t.x&&void 0!==t.y)this.first().trigger(e.Event("contextmenu",{pageX:t.x,pageY:t.y,mouseButton:t.button}));else if("hide"===t){var r=this.first().data("contextMenu")?this.first().data("contextMenu").$menu:null;r&&r.trigger("contextmenu:hide")}else"destroy"===t?e.contextMenu("destroy",{context:this}):e.isPlainObject(t)?(t.context=this,e.contextMenu("create",t)):t?this.removeClass("context-menu-disabled"):t||this.addClass("context-menu-disabled");else e.each(s,(function(){this.selector===n.selector&&(o.data=this,e.extend(o.data,{trigger:"demand"}))})),f.contextmenu.call(o.target,o);return this},e.contextMenu=function(t,n){"string"!=typeof t&&(n=t,t="create"),"string"==typeof n?n={selector:n}:void 0===n&&(n={});var r=e.extend(!0,{},u,n||{}),c=e(document),l=c,d=!1;switch(r.context&&r.context.length?(l=e(r.context).first(),r.context=l.get(0),d=!e(r.context).is(document)):r.context=document,t){case"update":if(d)p.update(l);else for(var h in s)s.hasOwnProperty(h)&&p.update(s[h]);break;case"create":if(!r.selector)throw new Error("No selector specified");if(r.selector.match(/.context-menu-(list|item|input)($|\s)/))throw new Error('Cannot bind to selector "'+r.selector+'" as it contains a reserved className');if(!r.build&&(!r.items||e.isEmptyObject(r.items)))throw new Error("No Items specified");if(i++,r.ns=".contextMenu"+i,d||(a[r.selector]=r.ns),s[r.ns]=r,r.trigger||(r.trigger="right"),!o){var g="click"===r.itemClickEvent?"click.contextMenu":"mouseup.contextMenu",m={"contextmenu:focus.contextMenu":f.focusItem,"contextmenu:blur.contextMenu":f.blurItem,"contextmenu.contextMenu":f.abortevent,"mouseenter.contextMenu":f.itemMouseenter,"mouseleave.contextMenu":f.itemMouseleave};m[g]=f.itemClick,c.on({"contextmenu:hide.contextMenu":f.hideMenu,"prevcommand.contextMenu":f.prevItem,"nextcommand.contextMenu":f.nextItem,"contextmenu.contextMenu":f.abortevent,"mouseenter.contextMenu":f.menuMouseenter,"mouseleave.contextMenu":f.menuMouseleave},".context-menu-list").on("mouseup.contextMenu",".context-menu-input",f.inputClick).on(m,".context-menu-item"),o=!0}switch(l.on("contextmenu"+r.ns,r.selector,r,f.contextmenu),d&&l.on("remove"+r.ns,(function(){e(this).contextMenu("destroy")})),r.trigger){case"hover":l.on("mouseenter"+r.ns,r.selector,r,f.mouseenter).on("mouseleave"+r.ns,r.selector,r,f.mouseleave);break;case"left":l.on("click"+r.ns,r.selector,r,f.click);break;case"touchstart":l.on("touchstart"+r.ns,r.selector,r,f.click)}r.build||p.create(r);break;case"destroy":var v;if(d){var y=r.context;e.each(s,(function(t,n){if(!n)return!0;if(!e(y).is(n.selector))return!0;(v=e(".context-menu-list").filter(":visible")).length&&v.data().contextMenuRoot.$trigger.is(e(n.context).find(n.selector))&&v.trigger("contextmenu:hide",{force:!0});try{s[n.ns].$menu&&s[n.ns].$menu.remove(),delete s[n.ns]}catch(e){s[n.ns]=null}return e(n.context).off(n.ns),!0}))}else if(r.selector){if(a[r.selector]){(v=e(".context-menu-list").filter(":visible")).length&&v.data().contextMenuRoot.$trigger.is(r.selector)&&v.trigger("contextmenu:hide",{force:!0});try{s[a[r.selector]].$menu&&s[a[r.selector]].$menu.remove(),delete s[a[r.selector]]}catch(e){s[a[r.selector]]=null}c.off(a[r.selector])}}else c.off(".contextMenu .contextMenuAutoHide"),e.each(s,(function(t,n){e(n.context).off(n.ns)})),a={},s={},i=0,o=!1,e("#context-menu-layer, .context-menu-list").remove();break;case"html5":(!e.support.htmlCommand&&!e.support.htmlMenuitem||"boolean"==typeof n&&n)&&e('menu[type="context"]').each((function(){this.id&&e.contextMenu({selector:"[contextmenu="+this.id+"]",items:e.contextMenu.fromMenu(this)})})).css("display","none");break;default:throw new Error('Unknown operation "'+t+'"')}return this},e.contextMenu.setInputValues=function(t,n){void 0===n&&(n={}),e.each(t.inputs,(function(e,t){switch(t.type){case"text":case"textarea":t.value=n[e]||"";break;case"checkbox":t.selected=!!n[e];break;case"radio":t.selected=(n[t.radio]||"")===t.value;break;case"select":t.selected=n[e]||""}}))},e.contextMenu.getInputValues=function(t,n){return void 0===n&&(n={}),e.each(t.inputs,(function(e,t){switch(t.type){case"text":case"textarea":case"select":n[e]=t.$input.val();break;case"checkbox":n[e]=t.$input.prop("checked");break;case"radio":t.$input.prop("checked")&&(n[t.radio]=t.value)}})),n},e.contextMenu.fromMenu=function(t){var n={};return function t(n,o,r){return r||(r=0),o.each((function(){var o,i,a=e(this),s=this,c=this.nodeName.toLowerCase();switch("label"===c&&a.find("input, textarea, select").length&&(o=a.text(),c=(s=(a=a.children().first()).get(0)).nodeName.toLowerCase()),c){case"menu":i={name:a.attr("label"),items:{}},r=t(i.items,a.children(),r);break;case"a":case"button":i={name:a.text(),disabled:!!a.attr("disabled"),callback:function(){a.get(0).click()}};break;case"menuitem":case"command":switch(a.attr("type")){case void 0:case"command":case"menuitem":i={name:a.attr("label"),disabled:!!a.attr("disabled"),icon:a.attr("icon"),callback:function(){a.get(0).click()}};break;case"checkbox":i={type:"checkbox",disabled:!!a.attr("disabled"),name:a.attr("label"),selected:!!a.attr("checked")};break;case"radio":i={type:"radio",disabled:!!a.attr("disabled"),name:a.attr("label"),radio:a.attr("radiogroup"),value:a.attr("id"),selected:!!a.attr("checked")};break;default:i=void 0}break;case"hr":i="-------";break;case"input":switch(a.attr("type")){case"text":i={type:"text",name:o||d(s),disabled:!!a.attr("disabled"),value:a.val()};break;case"checkbox":i={type:"checkbox",name:o||d(s),disabled:!!a.attr("disabled"),selected:!!a.attr("checked")};break;case"radio":i={type:"radio",name:o||d(s),disabled:!!a.attr("disabled"),radio:!!a.attr("name"),value:a.val(),selected:!!a.attr("checked")};break;default:i=void 0}break;case"select":i={type:"select",name:o||d(s),disabled:!!a.attr("disabled"),selected:a.val(),options:{}},a.children().each((function(){i.options[this.value]=e(this).text()}));break;case"textarea":i={type:"textarea",name:o||d(s),disabled:!!a.attr("disabled"),value:a.val()};break;case"label":break;default:i={type:"html",html:a.clone(!0)}}i&&(r++,n["key"+r]=i)})),r}(n,e(t).children()),n},e.contextMenu.defaults=u,e.contextMenu.types=c,e.contextMenu.handle=f,e.contextMenu.op=p,e.contextMenu.menus=s})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o;!function(){var r=window.CustomEvent;function i(e){for(;e;){if("dialog"===e.localName)return e;e=e.parentElement}return null}function a(e){e&&e.blur&&e!==document.body&&e.blur()}function s(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1}function c(e){return!(!e||!e.hasAttribute("method"))&&"dialog"===e.getAttribute("method").toLowerCase()}function u(e){if(this.dialog_=e,this.replacedStyleTop_=!1,this.openAsModal_=!1,e.hasAttribute("role")||e.setAttribute("role","dialog"),e.show=this.show.bind(this),e.showModal=this.showModal.bind(this),e.close=this.close.bind(this),"returnValue"in e||(e.returnValue=""),"MutationObserver"in window){new MutationObserver(this.maybeHideModal.bind(this)).observe(e,{attributes:!0,attributeFilter:["open"]})}else{var t,n=!1,o=function(){n?this.downgradeModal():this.maybeHideModal(),n=!1}.bind(this),r=function(r){if(r.target===e){var i="DOMNodeRemoved";n|=r.type.substr(0,i.length)===i,window.clearTimeout(t),t=window.setTimeout(o,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach((function(t){e.addEventListener(t,r)}))}Object.defineProperty(e,"open",{set:this.setOpen.bind(this),get:e.hasAttribute.bind(e,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}r&&"object"!=typeof r||((r=function(e,t){t=t||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!!t.bubbles,!!t.cancelable,t.detail||null),n}).prototype=window.Event.prototype),u.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),l.dm.removeDialog(this))},setOpen:function(e){e?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(e){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var t=document.createElement("div");this.dialog_.insertBefore(t,this.dialog_.firstChild),t.tabIndex=-1,t.focus(),this.dialog_.removeChild(t)}var n=document.createEvent("MouseEvents");n.initMouseEvent(e.type,e.bubbles,e.cancelable,window,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),this.dialog_.dispatchEvent(n),e.stopPropagation()},focus_:function(){var e=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!e&&this.dialog_.tabIndex>=0&&(e=this.dialog_),!e){var t=["button","input","keygen","select","textarea"].map((function(e){return e+":not([disabled])"}));t.push('[tabindex]:not([disabled]):not([tabindex=""])'),e=this.dialog_.querySelector(t.join(", "))}a(document.activeElement),e&&e.focus()},updateZIndex:function(e,t){if(e<t)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=e,this.backdrop_.style.zIndex=t},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!l.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");(function(e){for(;e&&e!==document.body;){var t=window.getComputedStyle(e),n=function(e,n){return!(void 0===t[e]||t[e]===n)};if(t.opacity<1||n("zIndex","auto")||n("transform","none")||n("mixBlendMode","normal")||n("filter","none")||n("perspective","none")||"isolate"===t.isolation||"fixed"===t.position||"touch"===t.webkitOverflowScrolling)return!0;e=e.parentElement}return!1})(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,l.needsCentering(this.dialog_)?(l.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(e){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),void 0!==e&&(this.dialog_.returnValue=e);var t=new r("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(t)}};var l={reposition:function(e){var t=document.body.scrollTop||document.documentElement.scrollTop,n=t+(window.innerHeight-e.offsetHeight)/2;e.style.top=Math.max(t,n)+"px"},isInlinePositionSetByStylesheet:function(e){for(var t=0;t<document.styleSheets.length;++t){var n=document.styleSheets[t],o=null;try{o=n.cssRules}catch(e){}if(o)for(var r=0;r<o.length;++r){var i=o[r],a=null;try{a=document.querySelectorAll(i.selectorText)}catch(e){}if(a&&s(a,e)){var c=i.style.getPropertyValue("top"),u=i.style.getPropertyValue("bottom");if(c&&"auto"!==c||u&&"auto"!==u)return!0}}}return!1},needsCentering:function(e){return"absolute"===window.getComputedStyle(e).position&&(!("auto"!==e.style.top&&""!==e.style.top||"auto"!==e.style.bottom&&""!==e.style.bottom)&&!l.isInlinePositionSetByStylesheet(e))},forceRegisterDialog:function(e){if((window.HTMLDialogElement||e.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",e),"dialog"!==e.localName)throw new Error("Failed to register dialog: The element is not a dialog.");new u(e)},registerDialog:function(e){e.showModal||l.forceRegisterDialog(e)},DialogManager:function(){this.pendingDialogStack=[];var e=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",function(t){this.forwardTab_=void 0,t.stopPropagation(),e([])}.bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver((function(t){var n=[];t.forEach((function(e){for(var t,o=0;t=e.removedNodes[o];++o)t instanceof Element&&("dialog"===t.localName&&n.push(t),n=n.concat(t.querySelectorAll("dialog")))})),n.length&&e(n)})))}};if(l.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},l.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},l.DialogManager.prototype.updateStacking=function(){for(var e,t=this.zIndexHigh_,n=0;e=this.pendingDialogStack[n];++n)e.updateZIndex(--t,--t),0===n&&(this.overlay.style.zIndex=--t);var o=this.pendingDialogStack[0];o?(o.dialog.parentNode||document.body).appendChild(this.overlay):this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},l.DialogManager.prototype.containedByTopDialog_=function(e){for(;e=i(e);){for(var t,n=0;t=this.pendingDialogStack[n];++n)if(t.dialog===e)return 0===n;e=e.parentElement}return!1},l.DialogManager.prototype.handleFocus_=function(e){if(!this.containedByTopDialog_(e.target)&&(e.preventDefault(),e.stopPropagation(),a(e.target),void 0!==this.forwardTab_)){var t=this.pendingDialogStack[0];return t.dialog.compareDocumentPosition(e.target)&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?t.focus_():document.documentElement.focus()),!1}},l.DialogManager.prototype.handleKey_=function(e){if(this.forwardTab_=void 0,27===e.keyCode){e.preventDefault(),e.stopPropagation();var t=new r("cancel",{bubbles:!1,cancelable:!0}),n=this.pendingDialogStack[0];n&&n.dialog.dispatchEvent(t)&&n.dialog.close()}else 9===e.keyCode&&(this.forwardTab_=!e.shiftKey)},l.DialogManager.prototype.checkDOM_=function(e){this.pendingDialogStack.slice().forEach((function(t){-1!==e.indexOf(t.dialog)?t.downgradeModal():t.maybeHideModal()}))},l.DialogManager.prototype.pushDialog=function(e){var t=(this.zIndexHigh_-this.zIndexLow_)/2-1;return!(this.pendingDialogStack.length>=t)&&(1===this.pendingDialogStack.unshift(e)&&this.blockDocument(),this.updateStacking(),!0)},l.DialogManager.prototype.removeDialog=function(e){var t=this.pendingDialogStack.indexOf(e);-1!==t&&(this.pendingDialogStack.splice(t,1),0===this.pendingDialogStack.length&&this.unblockDocument(),this.updateStacking())},l.dm=new l.DialogManager,l.formSubmitter=null,l.useValue=null,void 0===window.HTMLDialogElement){var f=document.createElement("form");if(f.setAttribute("method","dialog"),"dialog"!==f.method){var p=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(p){var d=p.get;p.get=function(){return c(this)?"dialog":d.call(this)};var h=p.set;p.set=function(e){return"string"==typeof e&&"dialog"===e.toLowerCase()?this.setAttribute("method",e):h.call(this,e)},Object.defineProperty(HTMLFormElement.prototype,"method",p)}}document.addEventListener("click",(function(e){if(l.formSubmitter=null,l.useValue=null,!e.defaultPrevented){var t=e.target;if(t&&c(t.form)){if(!("submit"===t.type&&["button","input"].indexOf(t.localName)>-1)){if("input"!==t.localName||"image"!==t.type)return;l.useValue=e.offsetX+","+e.offsetY}i(t)&&(l.formSubmitter=t)}}}),!1);var g=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(){if(!c(this))return g.call(this);var e=i(this);e&&e.close()},document.addEventListener("submit",(function(e){var t=e.target;if(c(t)){e.preventDefault();var n=i(t);if(n){var o=l.formSubmitter;o&&o.form===t?n.close(l.useValue||o.value):n.close(),l.formSubmitter=null}}}),!0)}l.forceRegisterDialog=l.forceRegisterDialog,l.registerDialog=l.registerDialog,"amd"in n(817)?void 0===(o=function(){return l}.call(t,n,t,e))||(e.exports=o):"object"==typeof e.exports?e.exports=l:window.dialogPolyfill=l}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(72)),r=(i(n(71)),i(n(19)),n(22));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=function(e){function t(n,o,i,c,u,l){if(a(this,t),0==arguments.length){var f=s(this,e.call(this,r.Action_Type.javaScript));return s(f)}return(f=s(this,e.call(this,n,o,i,c,u,l))).info.script&&(f.info.javascript=f.info.script),s(f)}return c(t,e),t.prototype.getScript=function(){return this.info.javascript},t.prototype.checkOutData=function(e){return e&&e.javascript},t.prototype.setScript=function(e){var t=this;return this.doc?this.doc.api.setActionScript(this.doc.getId(),this.info.objNumber,e).then((function(e){return t.updateAction(e),e})):(this.info.javascript=e,Promise.resolve())},t.prototype.exportToJson=function(){var t=e.prototype.exportToJson.call(this);return Object.assign(t,{script:this.getScript()})},t}(o.default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(861)),r=n(8);i(n(56));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t,this.depends=n||[],this.registry=new o.default(this)}return e.prototype.registerPreConfiguredComponent=function(e,t){return this.registry.registerPreConfiguredComponent(e,t),this},e.prototype.getPreConfiguredComponent=function(e){return this.registry.getPreConfiguredComponent(e,component)},e.prototype.registerFragment=function(e,t){this.registry.registerFragment(e,t)},e.prototype.getFragment=function(e){return this.registry.getFragment(e)},e.prototype.getComponentClass=function(e){return this.registry.getComponentClass(e)},e.prototype.getComponentDefAsync=function(e){return this.registry.getComponentDefAsync(e)},e.prototype.getLayoutClass=function(e){return this.registry.getLayoutClass(e)},e.prototype.getDirectiveClass=function(e){return this.registry.getDirectiveClass(e)},e.prototype.getControllerClass=function(e){return this.registry.getControllerClass(e)},e.prototype.registerComponent=function(e){return this.registry.registerComponent(e),this},e.prototype.registerVueComponent=function(e,t){var o=n(427).default;this.registry.registerComponent(o.extend(t,e))},e.prototype.registerController=function(e){return this.registry.registerController(e),this},e.prototype.controller=function(e,t){return this.registry.controller(e,t),this},e.prototype.getRegistry=function(){return this.registry},e.prototype.getPipe=function(e){return this.registry.getPipe(e)},e.prototype.pipe=function(e,t){this.registry.registerPipe(e,t)},e.prototype.resolveName=function(e){return this.name===r.ROOT_MODULE_NAME||this.name.length<1?e:""+this.name+r.NAMESPACE_SEPERATOR+e},e.prototype.service=function(e,t){return this.registry.service(e,t)},e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(211),i=(o=r)&&o.__esModule?o:{default:o};function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=function(){function e(){c(this,e)}return e.isSubClassOf=function(e,t){return"function"==typeof e&&"function"==typeof t&&e.prototype instanceof t},e.isOverrided=function(e,t,n){for(var o=t.prototype;;){var r=o.constructor;if(!r||r===e||r===Object)return!1;if(o.hasOwnProperty(n))return!i.default.isProxyClass(r);o=Object.getPrototypeOf(o)}},e.mixin=function(e,t){var n=function(e){function t(){return c(this,t),a(this,e.apply(this,arguments))}return s(t,e),t}(e),o=i.default.getStaticDescriptors(t);Object.defineProperties(n,o);var r=i.default.getClassDescriptors(t.prototype);return n.prototype=Object.create(n.prototype,r),n},e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(890)),r=s(n(173)),i=s(n(4)),a=n(7);function s(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t,n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.viewerComponent=t;var s=this.viewerComponent.getModel();a=a||this.viewerComponent.getPropertyOptions();var c=(0,o.default)(a);n&&n!==document.body||(c='<dialog class="fv__dialog fv__annot-properties-dialog">'+c+"</dialog>");var u=(0,i.default)(c);this.$propertiesDialog=u,this.$fillColor=u.find("#fillcolor-input"),this.$txThickness=u.find("#thickness-input-tx"),this.updateBorderInfo(s,a),this.bindChangeEvent();var l=n||document.body;if(u.appendTo(l),!n||n===document.body){var f=u[0];r.default.registerDialog(f),f.showModal()}}return e.prototype.toggle=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e?this.$propertiesDialog.find("input,select").removeAttr("disabled"):this.$propertiesDialog.find("input,select").attr("disabled","true")},e.prototype.updateBorderInfo=function(e,t){var n=this.$propertiesDialog;if(t.lineEndStyle&&n.find("#endstyle-select [value="+e.getEndingStyle()+"]").attr("selected",!0),t.lineStartStyle)switch(e.getType()){case"freetext":n.find("#startstyle-select [value="+e.getCalloutLineEndingStyle()+"]").attr("selected",!0);break;default:n.find("#startstyle-select [value="+e.getStartStyle()+"]").attr("selected",!0)}if(void 0!==t.highlightingMode&&n.find("#highlighting-select [value="+e.getHighlightingMode()+"]").attr("selected",!0),void 0!==t.rotation&&n.find("#rotation-select [value="+e.getRotation()+"]").attr("selected",!0),!1!==t.borderStyle){var o=e.getBorderDashes();if(1==e.getBorderStyle()&&o.length>0){var r=Math.max.apply(Math,o),i=Math.min.apply(Math,o);i==r?i>3?n.find("#borderStyle-select [value=3]").attr("selected",!0):i>2?n.find("#borderStyle-select [value=2]").attr("selected",!0):i<2||2==i?n.find("#borderStyle-select [value=1]").attr("selected",!0):n.find("#borderStyle-select [value=3]").attr("selected",!0):r>8?n.find("#borderStyle-select [value=6]").attr("selected",!0):r>4?n.find("#borderStyle-select [value=5]").attr("selected",!0):n.find("#borderStyle-select [value=4]").attr("selected",!0)}else if(e.getBorderStyle()==a.BORDER_STYLE.CLOUDY){switch(e.getCloudIntensity()){case 1:n.find("#borderStyle-select [value=7]").attr("selected",!0);break;case 2:n.find("#borderStyle-select [value=8]").attr("selected",!0)}}}},e.prototype.bindChangeEvent=function(){var e=this;this.$propertiesDialog.on("click",".fv__btn-close",(function(){e.viewerComponent.hidePropertiesDialog?e.viewerComponent.hidePropertiesDialog():e.close()})).on("change","#color-input",(function(t){var n=t.target,o=parseInt(n.value.replace("#",""),16);e.viewerComponent.setColor(o)})).on("change","#opacity-input",(function(t){var n=t.target.value;e.viewerComponent.setOpacity(+n)})).on("change","#thickness-input",(function(e){return o("#thickness-input","#thickness-input-tx")})).on("blur","#thickness-input",(function(e){return o("#thickness-input","#thickness-input-tx")})).on("blur","#thickness-input-tx",(function(e){return o("#thickness-input-tx","#thickness-input")})).on("change","#thickness-input-tx",(function(e){return o("#thickness-input-tx","#thickness-input")})).on("change","#borderStyle-select",(function(t){var n=t.target.value,o=a.BORDER_STYLE.DASHED;switch(n){case"0":n=[],o=a.BORDER_STYLE.SOLID;break;case"1":n=[2,2,2,2];break;case"2":n=[3,3,3,3];break;case"3":n=[4,4,4,4];break;case"4":n=[4,3,2,3];break;case"5":n=[8,4,4,4];break;case"6":n=[4,3,16,3];break;case"7":n=1,o=a.BORDER_STYLE.CLOUDY;break;case"8":n=2,o=a.BORDER_STYLE.CLOUDY}e.viewerComponent.setBorderStyle(o,n)})).on("change","#fillcolor-input",(function(t){var n=t.target,o=parseInt(n.value.replace("#",""),16);e.viewerComponent.setFillColor(o)})).on("change","#fillColor-transparent-input",(function(t){t.target.checked?(e.$fillColor.val("#ffffff"),e.$fillColor.attr("disabled",!0),e.viewerComponent.setFillColor(0)):e.$fillColor.removeAttr("disabled")})).on("change","#startstyle-select",(function(t){var n=t.target.value;e.viewerComponent.setEndingStyle(!0,n)})).on("change","#endstyle-select",(function(t){var n=t.target.value;e.viewerComponent.setEndingStyle(!1,n)})).on("change","#hasCap-input",(function(t){var n=t.target.checked;e.viewerComponent.enableCaption(n)})).on("change","#highlighting-select",(function(t){var n=t.target.value;e.viewerComponent.setHighlightingMode(n)})).on("change","#rotation-select",(function(t){var n=t.target.value;e.viewerComponent.setRotation(90*+n)}));var t=this,n=!1;function o(e,o){if(!n){n=!0;var r=t.$propertiesDialog,i=r.find(e).val();t.viewerComponent.getModel().getBorderWidth()!=i?(t.viewerComponent.setBorderWidth(+i),n=!1,r.find(o).val(i)):n=!1}}},e.prototype.close=function(){var e=this.$propertiesDialog;e&&(e[0].close(),e.remove(),this.$propertiesDialog=null)},e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(117)),r=n(33);function i(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(){return s(this,t),c(this,e.apply(this,arguments))}return u(t,e),t.prototype.prepare=function(){var e=this.component,t=e.annot;this.tileCanvas=this.tileCanvas||new o.default((function(n,o,i,a,s,c,u,l,f){return e.getPDFPage().getAnnotBitmap(t.getId(),(0,r.pt2px)(c),f,{x:u*c+o*s,y:l*c+n*s,width:i,height:a})}),e.$ui)},t.prototype.doHide=function(){this.tileCanvas.hideContainer()},t.prototype.doShow=function(){this.tileCanvas.showContainer()},t.prototype.doRender=function(e,t,n){this.tileCanvas.setVisibleRect(n);var o=!0;if(n){var r=this.component.getRect(),i={left:Math.max(r.left,n.left),top:Math.max(r.top,n.top),right:Math.min(r.right,n.right),bottom:Math.min(r.bottom,n.bottom)};o=i.right>=i.left&&i.bottom>=i.top}var s,c,u=this.component.getTileConfig(e,t);return o?(s=this.tileCanvas).redraw.apply(s,a(u)):((c=this.tileCanvas).updateDom.apply(c,a(u)),Promise.resolve())},t.prototype.willRender=function(){this.tileCanvas.$container.get(0).style.willChange="left, top, width, height"},t.prototype.afterRender=function(){this.tileCanvas.$container.get(0).style.willChange="auto"},t.prototype.destroy=function(){this.prepared&&(e.prototype.destroy.call(this),this.tileCanvas.destroy(),this.tileCanvas=null)},t.prototype.clearCache=function(){this.tileCanvas.clearCache()},t.prototype.invisibleRender=function(){try{this.tileCanvas.invisibleRender()}catch(e){}},t}(i(n(213)).default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DIR_NORTH="north",t.DIR_SOUTH="south",t.DIR_EAST="east",t.DIR_WEST="west",t.DIR_NORTH_WEST="north-west",t.DIR_NORTH_EAST="north-east",t.DIR_SOUTH_WEST="south-west",t.DIR_SOUTH_EAST="south-east"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={unKnownType:"unknowntype",text:"text",link:"link",freeText:"freetext",line:"line",square:"square",circle:"circle",polygon:"polygon",polyLine:"polyline",polyline:"polyline",highlight:"highlight",underline:"underline",squiggly:"squiggly",strikeOut:"strikeout",stamp:"stamp",caret:"caret",ink:"ink",psInk:"psink",fileAttachment:"fileattachment",sound:"sound",movie:"movie",widget:"widget",screen:"screen",printerMark:"printermark",trapNet:"trapnet",watermark:"watermark",threeD:"3d",popup:"popup",redact:"redact"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=p(n(27));n(1100);var r=p(n(473)),i=p(n(17)),a=p(n(119)),s=p(n(1101)),c=p(n(4)),u=p(n(189)),l=n(34),f=n(14);function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var h=[],g=function(e){function t(n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r));return i.iconCls=i.iconCls||i.attrs["icon-class"],i.isFreezed=!1,i.editOptions=i.editOptions||{},i.editType=i.editOptions.type||"text",i.editTemplate=i.editOptions.template||"${value}",i.editMin=i.editOptions.min,i.editMax=i.editOptions.max,i.editStep=i.editOptions.step,i.initEditValue=i.editOptions.value||("number"===i.editType?i.editMin:""),i}return d(t,e),t.getName=function(){return"dropdown"},t.getMetadata=function(){return{options:{text:{type:"string"},iconCls:{type:"string"},"selected-class":{type:"string",field:"selectedCls"},editable:{type:"boolean",defaultValue:!1},editOptions:{type:"any"},align:{type:"string",enums:["out-right","out-left","left","right","center","client-center"],defaultValue:"left"},valign:{type:"string",enums:["top","bottom","center","client-center","up"],defaultValue:"bottom"},separate:{type:"boolean",defaultValue:!0},selected:{type:"string",required:!1},"popup-class":{type:"string",field:"popupClass"}}}},t.prototype.freeze=function(){this.isFreezed=!0},t.prototype.unfreeze=function(){this.isFreezed=!1},t.prototype.active=function(){if(!this.isFreezed)return e.prototype.active.call(this)},t.prototype.deactive=function(){if(!this.isFreezed)return e.prototype.deactive.call(this)},t.prototype.toggle=function(){this.isActive?this.deactive():this.active()},t.prototype.setText=function(e){this.editable||(this.text=e,this.textElement.setAttribute("data-i18n",e),this.localizer.localizeElement(this.textElement),this.orderedElements.mount(this.textElement))},t.prototype.setIconCls=function(e){this.iconElement.removeClass(this.iconCls),e?(this.iconElement.addClass(e),this.orderedElements.mount(this.iconElement)):this.orderedElements.unmount(this.iconElement),this.iconCls=e},t.prototype.setEditable=function(e){var t=this;this.editable=e,e?("number"===this.editType?(this.numberInput=new s.default(this.editElement,this.editMin,this.editMax,this.editStep,this.editTemplate,this.localizer),this.numberInput.eventEmitter.on("change",(function(e,n){t.trigger("change",e,n)}))):this.numberInput&&this.numberInput.destroy(),this.orderedElements.unmount(this.textElement),this.orderedElements.mount(this.editElement)):(this.setText(this.text),this.numberInput&&this.numberInput.destroy())},t.prototype.setEditValue=function(e){this.numberInput?this.numberInput.setValue(e):this.editElement.value=e},t.prototype.getEditValue=function(){return this.numberInput?this.numberInput.getValue():this.editElement.value},t.prototype.setMaxValue=function(e){this.numberInput&&(this.numberInput.range.max=e,this.setEditValue(this.numberInput.value))},t.prototype.setMinValue=function(e){this.numberInput&&(this.numberInput.range.min=e,this.setEditValue(this.numberInput.value))},t.prototype.setEditTemplate=function(e){this.numberInput&&this.numberInput.setTemplate(e)},t.prototype.insertDropdownItem=function(e,t){var n=new r.default({selectable:!0,viewConfig:{nodeName:"dropdown-item",attrs:{}}},this.module,this.localizer);if(n.prerender(),n.render(),n.prelink(),"function"==typeof e&&(e=e()),"string"==typeof e)n.element.innerHTML=e;else{if(!(e instanceof i.default))throw new TypeError("Unexpected type of child, it should be a String or Component instance");n.append(e)}n.postlink(),this.insert(n,t),n.mounted()},t.prototype.mounted=function(){var t=this;if(e.prototype.mounted.call(this),this.attachEventToElement(document,"mouseup",(function(e){e.target!==t.togglerElement&&(0,c.default)(e.target).closest(".fv__ui-dropdown-toggler").get(0)!==t.togglerElement&&t.deactive()})),void 0!==this.selected)if(isNaN(this.selected)){var n=this.$container.findFirst((function(e){return e.name===t.selected}));n&&this.select(n)}else{var o=parseInt(this.selected),r=this.childAt(o);r&&this.select(r)}var i=function(e){return e.stopPropagation()},a=function(e){t.disabled||(t.toggle(),e.stopPropagation())},s=function(e){if(!t.disabled)if(t.separate){if(l.isIE){var n=document.elementFromPoint(e.clientX,e.clientY);if(n===t.caretElement)return void n.click()}t.selectedItem?t.selectedItem.triggerHandler():(t.trigger("click"),t.controller.handle()),e.stopPropagation()}else t.toggle(),t.isInsideOtherDropdown()&&e.stopPropagation()},u=function(e){return e.classList.contains("fv__ui-dropdown-toggler")},f=function(e){if(t.isInsideOtherDropdown()){var n=e.target;(u(n)||u(n.parentNode))&&e.stopPropagation()}},p=function(e){t.isActive&&e.stopPropagation()};if(this.caretElement.addEventListener("click",a),this.caretElement.addEventListener("mouseup",p),this.togglerElement.addEventListener("click",s),this.element.addEventListener("mouseup",f),this.editElement.addEventListener("click",i),this.editable){var d=this.editElement.value,h=function(e){if(!t.numberInput){var n=t.editElement.value;t.trigger("change",n,d),d=n}};this.editElement.addEventListener("change",h),this.addDestroyHook((function(){t.editElement.removeEventListener("change",h)}))}this.addDestroyHook((function(){t.caretElement.removeEventListener("click",a),t.caretElement.removeEventListener("mouseup",p),t.element.removeEventListener("click",s),t.element.removeEventListener("mouseup",f),t.editElement.removeEventListener("click",i)}))},t.prototype.isInsideOtherDropdown=function(){var e=this;return!!this.findClosestComponent((function(n){return n!==e&&n instanceof t}))},t.prototype.doActive=function(){var e=this;h.forEach((function(t){e.isDescendantOf(t)||t.deactive()})),-1===h.indexOf(this)&&h.push(this),this.element.classList.add("active"),this.updateListPosition(),this.startUpdateListPosition()},t.prototype.startUpdateListPosition=function(){var e=this,t=!1,n=function(){!t&&e.isActive&&e.updateListPosition()};window.addEventListener("resize",n),window.addEventListener("orientationchange",n),this.stopUpdateListPosition=function(){window.removeEventListener("resize",n),window.removeEventListener("orientationchange",n),t=!0}},t.prototype.stopUpdateListPosition=function(){},t.prototype.updateListPosition=function(){var e=this.element.getBoundingClientRect(),t=this.listElement.getBoundingClientRect(),n=void 0,o=void 0;switch(this.valign){case"top":n=e.top;break;case"bottom":n=e.bottom;break;case"center":n=e.top+.5*e.height;break;case"client-center":n=.5*(window.innerHeight-t.height);break;case"up":n=e.top-t.height}var r=window.innerHeight;switch(n<0?n=0:n+t.height>r&&(n=r-t.height),this.align){case"out-right":o=e.left+e.width;break;case"out-left":o=e.left-t.width;break;case"left":o=e.left;break;case"right":o=e.right-t.width;break;case"center":o=e.left+.5*(e.width-t.width);break;case"client-center":o=.5*(window.innerWidth-t.width)}var i=document.body.offsetWidth;o<0?o=0:o+t.width>i&&(o=i-t.width),(0,u.default)(this.listElement,{left:o+"px",top:n+"px"})},t.prototype.doDeactive=function(){this.element.classList.remove("active");var e=h.indexOf(this);-1!==e&&h.splice(e,1),this.stopUpdateListPosition()},t.prototype.render=function(){e.prototype.render.call(this),this.element.classList.add("fv__ui-dropdown"),this.editable&&this.element.classList.add("fv__ui-editable-dropdown"),this.orderedElements.mount(this.caretElement);var t=document.createElement("ul");t.classList.add("fv__ui-dropdown-list"),this.popupClass&&t.classList.add(this.popupClass),this.element.appendChild(t),this.listElement=t,this.iconCls&&this.setIconCls(this.iconCls),this.editable?(this.editable=!1,this.setEditable(!0),this.setEditValue(this.initEditValue)):this.text&&this.setText(this.text)},t.prototype.select=function(e){this.selectedItem&&this.iconElement.classList.remove(this.selectedItem.iconCls),this.selectedItem&&this.selectedItem.removeCSSClass(this.selectedCls),this.selectedItem=e,e.addCSSClass(this.selectedCls),this.setIconCls(e.iconCls),e.text&&this.setText(e.text);var t=e.getAttribute("tooltip-title");t&&this.setAttribute("tooltip-title",t)},t.prototype.getContainerElement=function(){return this.listElement},t.prototype.update=function(){e.prototype.update.call(this)},t.prototype.createDOMElement=function(){var e=document.createElement("a"),t=document.createElement(f.isMobile?"a":"button");t.classList.add("fv__ui-dropdown-toggler");var n=document.createElement("i"),o=document.createElement("span"),r=document.createElement("input"),i=document.createElement("i");return n.classList.add("fv__ui-dropdown-icon"),i.classList.add("fv__ui-dropdown-caret","fv__icon-toolbar-caret"),r.classList.add("fv__ui-dropdown-editor"),o.classList.add("fv__ui-dropdown-toggler-text"),this.orderedElements=new a.default(t,[n,r,o,i]),this.iconElement=n,this.textElement=o,this.editElement=r,this.caretElement=i,e.appendChild(t),this.togglerElement=t,e},t.prototype.doDisable=function(){e.prototype.doDisable.call(this),this.deactive(),this.element.classList.add("disabled"),this.togglerElement.setAttribute("disabled",""),this.togglerElement.classList.add("disabled"),this.editElement.setAttribute("disabled",""),this.numberInput&&this.numberInput.disable()},t.prototype.doEnable=function(){e.prototype.doEnable.call(this),this.element.classList.remove("disabled"),this.togglerElement.classList.remove("disabled"),this.editElement.removeAttribute("disabled"),this.togglerElement.removeAttribute("disabled"),this.numberInput&&this.numberInput.enable()},t.prototype.doDestroy=function(){e.prototype.doDestroy.call(this),this.numberInput&&this.numberInput.destroy();var t=h.indexOf(this);-1!==t&&h.splice(t,1),this.stopUpdateListPosition()},t}(o.default);t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBoundingPoint=function(e,t,n){var o=e.getBoundingClientRect();return[t-o.left,n-o.top]},t.deltaDeviceRect=function(e,t,n){var o=e[0],r=e[1],i=o+t,a=r+n,s=void 0;i<o&&(s=o,o=i,i=s);a<r&&(s=r,r=a,a=s);return{left:o,right:i,top:r,bottom:a}},t.appendSelectMark=function(e,t){a(e);for(var n=(0,i.default)(document.createDocumentFragment()),o=0,r=t.length;o<r;o++){var s=t[o],c=["top:"+s.top+"px","left:"+s.left+"px","width:"+(s.right-s.left)+"px","height:"+(s.bottom-s.top)+"px"].join(";");n.append('<mark class="fv__mark-selection-blank" style="'+c+'"></mark>')}e.append(n)},t.removeSelectMark=a;var o,r=n(4),i=(o=r)&&o.__esModule?o:{default:o};function a(e){e.find(".fv__mark-selection-blank").remove()}},function(e,t,n){"use strict";var o;n.r(t),n.d(t,"SNAP_MODE",(function(){return o})),function(e){e.EndPoint="end-point",e.MidPoint="mid-point",e.IntersectionPoint="intersection-point",e.NearestPoint="nearest-point"}(o||(o={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(5));function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}n(310);var a=r.stateHandler,s=a.IStateHandler,c=(a.HandStateHandler,r.vendors.Hammer),u=r.shared.DebouncePromiseQueue,l=a.StateHandlerUtils,f=l.getDevicePagePoint,p=(l.deltaDeviceRect,l.appendSelectMark),d=l.removeSelectMark,h=r.ViewerEvents,g=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.cursorStyle="",o}return i(t,e),t.prototype.pageHandler=function(e){var t=this;this.pageRender=e;var n=e.$handler;n.addClass(this.cursorStyle);var r=n[0],i=this.hammer=new c.Manager(r,{recognizers:[[c.Pan,{direction:c.DIRECTION_ALL}]]}),a=void 0,s=-1,l=-1,p=void 0;i.on("panstart",(function(e){if(!1!==t.panStart(e,t)){s=-1,l=-1;var n=f(r,e);a=[n.x,n.y],t.hideSelectMark(),p=new u}})),i.on("panmove",(function(e){!1!==t.panMove(e,t)&&p&&p.push((function(){var n=t.pageRender,r=[a[0]+e.deltaX,a[1]+e.deltaY];return t.getTextRect(a,r,s,l).then((function(e){var t;return(t=e[0])&&"string"==typeof t.text&&(s=t.start,l=t.end),Promise.all([n.getPDFPage(),e])})).then((function(e){var t=o(e,2),r=t[0],i=t[1];return n.transformRectArray(r,i)})).then((function(e){t.showSelectMark(e)}))}))})),i.on("panend",(function(n){if(!1!==t.panEnd(n,t)&&p){p.end(),p=null;var r=[a[0]+n.deltaX,a[1]+n.deltaY];t.getTextRect(a,r,s,l).then((function(n){var o;return(o=n[0])&&"string"==typeof o.text&&(s=o.start,l=o.end),t.hideSelectMark(),Promise.all([e.getPDFPage(),n])})).then((function(e){var n=o(e,2),r=n[0],i=n[1];return i.length<1?Promise.resolve():t.addAnnot(r,i).then((function(e){var n=e[0],o=t.pageRender.annotsRender.getAnnotRender(n.getId()).component;t.afterAddAnnot(o),t.pageRender.annotsRender.activeAnnot(n.getId())})).then((function(){t.pdfViewer.config.showCommentList&&t.pageRender.getAnnots().then((function(e){var n=e[e.length-2];t.pageRender.annotsRender.getAnnotRender(n.getId()).component.showReplyDialog()}))})).catch((function(e){}))}))}}))},t.prototype.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle),this.hideSelectMark()},t.prototype.out=function(){this.destroyPageHandler()},t.prototype.panStart=function(){},t.prototype.panMove=function(){},t.prototype.panEnd=function(){},t.prototype.showSelectMark=function(e){p(this.pageRender.$handler,e)},t.prototype.hideSelectMark=function(){d(this.pageRender.$handler)},t.prototype.getTextRect=function(e,t,n,o){return this.pageRender.getTextContinueRectAtDevicePoints(e,t,n,o)},t.prototype.addAnnot=function(e,t){},t.prototype.afterAddAnnot=function(e){this.pdfViewer.eventEmitter.emit(h.addAnnotSuccess,e.annot)},t}(s);t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=c(n(3)),r=c(n(10)),i=n(47),a=c(n(48)),s=n(55);function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var f=function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.viewModeName=o,r}return l(t,e),t.getName=function(){return"ViewModeController"},t.services=function(){return{portfolioNodeService:a.default,portfolioLayoutService:i.PortfolioLayoutService,portfolioService:s.PortfolioService}},t.prototype.mounted=function(){var t,n=this;e.prototype.mounted.call(this);var o=this.getPDFUI();this.addDestroyHook(this.portfolioNodeService.onActiveNode((function(){n.toggle()})),this.portfolioLayoutService.onLayoutChange((function(){n.toggle()})),this.getPDFUI().addViewerEventListener((u(t={},r.default.startChangeViewMode,(function(e,t){e.getName()===n.viewModeName?(n.component.active(),n.component.parent.select&&n.component.parent.select(n.component)):n.component.deactive()})),u(t,r.default.openFileSuccess,(function(){o.getPDFViewerRender().then((function(e){var t=e.getViewMode().getName();n.viewModeName===t?(n.component.active(),n.component.parent.select&&n.component.parent.select(n.component)):n.component.deactive()}))})),t)))},t.prototype.handle=function(){var e=this;return this.getPDFUI().getViewModeManager().then((function(t){return t.switchTo(e.viewModeName)}))},t.prototype.toggle=function(){this.portfolioService.isDocumentClosed()||this.portfolioNodeService.hasActiveNode()&&this.portfolioLayoutService.getLayoutMode()!==i.PortfolioLayoutMode.COVER?this.component.disable():this.component.enable()},t}(o.default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(66)),r=a(n(308)),i=a(n(187));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(){return s(this,t),c(this,e.apply(this,arguments))}return u(t,e),t.depends=function(){return[i.default]},t.prototype.link=function(e){var t=this,n=e.localizer,o=this.$options,i=o.appearance,a=o.defaultFragments,s=o.fragments,c=void 0===s?[]:s,u=o.template,l=o.templateParser,f=new i(this.pdfUI);a=a||f.getDefaultFragments()||[],Array.isArray(c)&&(a=a.concat(c));var p=l||f.getTemplateParser();this.pdfUI.templateParser=p,this.pdfUI.appearance=f;var d=new r.default(n,this.pdfUI,p);return this.pdfUI.uixParser=d,this.addDestroyHook((function(){f.destroy(),t.pdfUI.templateParser=null,t.pdfUI.appearance=null,d.context.destroy()})),{appearance:f,fragments:a,template:u||f.getLayoutTemplate(),parser:d}},t}(o.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=c(n(66)),r=n(76),i=c(n(221)),a=c(n(230)),s=c(n(1681));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var p=function(e){function t(){return u(this,t),l(this,e.apply(this,arguments))}return f(t,e),t.depends=function(){return[a.default]},t.prototype.construct=function(e,t,n){var o=t.i18n||{},r=this.i18nPath=this._prepareI18nPath(o,n);return this.i18n=this._createI18nInstance(o,r),this.addDestroyHook((function(){e.i18n=null})),this.i18n},t.prototype.link=function(){var e=this._prepareI18n();return this.pdfUI.localizer.waitForInitialized().then((function(){return e}))},t.prototype._prepareI18nPath=function(e,t){var n=e.path;return n=n?(0,r.isUrl)(n)?n:(0,r.urlJoin)(t,n):t+"locales"},t.prototype._createI18nInstance=function(e,t){var n=Object.assign({defaultNS:"ui_",ns:"ui_",fallbackLng:"en-US",absolutePath:t},e),o=new s.default(n),r=this.pdfUI;return this.defaultLanguage=r.currentLanguage=n.lng||(Array.isArray(n.fallbackLng)?n.fallbackLng[0]:n.fallbackLng),r.i18n=o,o},t.prototype._prepareI18n=function(){var e=this.i18n,t=this.pdfUI;return t.i18nPromise=new Promise((function(t,n){e.on("loaded",(function(n){t(e)})),e.on("failLoading",(function(t,o,r){n(e)}))})),t.localizer=new i.default(e),{localizer:t.localizer,i18n:e,defaultLanguage:this.defaultLanguage}},t}(o.default);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(209),i=(o=r)&&o.__esModule?o:{default:o};var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.flag=t}return e.prototype.getValue=function(){return this.flag},e.prototype.checkInvisible=function(){return this.flag&i.default.invisible},e.prototype.checkHidden=function(){return this.flag&i.default.hidden},e.prototype.checkPrint=function(){return this.flag&i.default.print},e.prototype.checkNoZoom=function(){return this.flag&i.default.noZoom},e.prototype.checkNoRotate=function(){return this.flag&i.default.noRotate},e.prototype.checkNoView=function(){return this.flag&i.default.noView},e.prototype.checkReadOnly=function(){return this.flag&i.default.readOnly},e.prototype.checkLocked=function(){return this.flag&i.default.locked},e.prototype.checkToggleNoView=function(){return this.flag&i.default.toggleNoView},e.prototype.checkLockedContents=function(){return this.flag&i.default.lockedContents},e.prototype.check=function(e){return this.flag&e},e.prototype.and=function(){return this},e.prototype.or=function(e){return this.flag=this.flag|e,this},e}();t.default=a},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var o=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a};function r(e,t){var n=[],r=getComputedStyle(e);if("string"==typeof t){var i={};t.split(/;[\r\n\s]*/).forEach((function(e){var t=o(e.split(/\s*:\s*/),2),n=t[0],r=t[1];i[n]=r})),t=i}for(var a in t)r[a]!==t[a]&&n.push(a+":"+t[a]);n.length>0&&(e.style.cssText+=n.join(";"))}},function(e,t,n){var o=n(79),r=n(37),i=n(129);e.exports=function(e){return function(t,n,a){var s,c=o(t),u=r(c.length),l=i(a,u);if(e&&n!=n){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var o=n(89);e.exports=Array.isArray||function(e){return"Array"==o(e)}},function(e,t,n){var o=n(90),r=n(98);e.exports=function(e){return function(t,n){var i,a,s=String(r(t)),c=o(n),u=s.length;return c<0||c>=u?e?"":void 0:(i=s.charCodeAt(c))<55296||i>56319||c+1===u||(a=s.charCodeAt(c+1))<56320||a>57343?e?s.charAt(c):i:e?s.slice(c,c+2):a-56320+(i-55296<<10)+65536}}},function(e,t,n){var o=n(29),r=n(89),i=n(35)("match");e.exports=function(e){var t;return o(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==r(e))}},function(e,t,n){var o=n(35)("iterator"),r=!1;try{var i=[7][o]();i.return=function(){r=!0},Array.from(i,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var n=!1;try{var i=[7],a=i[o]();a.next=function(){return{done:n=!0}},i[o]=function(){return a},e(i)}catch(e){}return n}},function(e,t,n){"use strict";var o=n(148),r=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var i=n.call(e,t);if("object"!=typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==o(e))throw new TypeError("RegExp#exec called on incompatible receiver");return r.call(e,t)}},function(e,t,n){"use strict";n(377);var o=n(69),r=n(68),i=n(25),a=n(98),s=n(35),c=n(259),u=s("species"),l=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),f=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var p=s(e),d=!i((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),h=d?!i((function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[u]=function(){return n}),n[p](""),!t})):void 0;if(!d||!h||"replace"===e&&!l||"split"===e&&!f){var g=/./[p],m=n(a,p,""[e],(function(e,t,n,o,r){return t.exec===c?d&&!r?{done:!0,value:g.call(t,n,o)}:{done:!0,value:e.call(n,t,o)}:{done:!1}})),v=m[0],y=m[1];o(String.prototype,e,v),r(RegExp.prototype,p,2==t?function(e,t){return y.call(e,this,t)}:function(e){return y.call(e,this)})}}},function(e,t,n){var o=n(23).navigator;e.exports=o&&o.userAgent||""},function(e,t,n){"use strict";var o=n(23),r=n(0),i=n(69),a=n(135),s=n(114),c=n(134),u=n(133),l=n(29),f=n(25),p=n(195),d=n(147),h=n(245);e.exports=function(e,t,n,g,m,v){var y=o[e],b=y,w=m?"set":"add",_=b&&b.prototype,P={},O=function(e){var t=_[e];i(_,e,"delete"==e||"has"==e?function(e){return!(v&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return v&&!l(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof b&&(v||_.forEach&&!f((function(){(new b).entries().next()})))){var E=new b,x=E[w](v?{}:-0,1)!=E,C=f((function(){E.has(1)})),A=p((function(e){new b(e)})),S=!v&&f((function(){for(var e=new b,t=5;t--;)e[w](t,t);return!e.has(-0)}));A||((b=t((function(t,n){u(t,b,e);var o=h(new y,t,b);return null!=n&&c(n,m,o[w],o),o}))).prototype=_,_.constructor=b),(C||S)&&(O("delete"),O("has"),m&&O("get")),(S||x)&&O(w),v&&_.clear&&delete _.clear}else b=g.getConstructor(t,e,m,w),a(b.prototype,n),s.NEED=!0;return d(b,e),P[e]=b,r(r.G+r.W+r.F*(b!=y),P),v||g.setStrong(b,e,m),b}},function(e,t,n){for(var o,r=n(23),i=n(68),a=n(127),s=a("typed_array"),c=a("view"),u=!(!r.ArrayBuffer||!r.DataView),l=u,f=0,p="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<9;)(o=r[p[f++]])?(i(o.prototype,s,!0),i(o.prototype,c,!0)):l=!1;e.exports={ABV:u,CONSTR:l,TYPED:s,VIEW:c}},function(e,t,n){"use strict";e.exports=n(113)||!n(25)((function(){var e=Math.random();__defineSetter__.call(null,e,(function(){})),delete n(23)[e]}))},function(e,t,n){"use strict";var o=n(0);e.exports=function(e){o(o.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,n){"use strict";var o=n(0),r=n(62),i=n(88),a=n(134);e.exports=function(e){o(o.S,e,{from:function(e){var t,n,o,s,c=arguments[1];return r(this),(t=void 0!==c)&&r(c),null==e?new this:(n=[],t?(o=0,s=i(c,arguments[2],2),a(e,!1,(function(e){n.push(s(e,o++))}))):a(e,!1,n.push,n),new this(n))}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"Activatable",(function(){return i})),n.d(t,"ActivationGroup",(function(){return a})),n.d(t,"ActivationManager",(function(){return s}));var o,r=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=function(){function e(){this.isActive=!1}return e.prototype.active=function(){this.isActive||(this.isActive=!0,this.doActive())},e.prototype.unActive=function(){this.isActive&&(this.isActive=!1,this.doDeactive())},e}(),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.activations=[],t}return r(t,e),t.prototype.add=function(e){this.contains(e)||(this.activations.push(e),this.isActive&&!e.isActive&&e.active())},t.prototype.remove=function(e){var n=this,o=this.activations.indexOf(e);return o<0?this.activations.some((function(o,r){if(o instanceof t){var i=o.remove(e);return i&&!o.hasActivations()&&n.activations.splice(r,1),i}return!1})):(this.activations.splice(o,1),this.isActive&&e.isActive&&(e instanceof t?(e.activations||[]).forEach((function(e){return e.unActive()})):e.unActive()),!0)},t.prototype.exclude=function(e){return this.activations.filter((function(t){return!e.contains(t)}))},t.prototype.contains=function(e){return this.activations.indexOf(e)>-1||this.activations.some((function(n){return n instanceof t&&n.contains(e)}))},t.prototype.clear=function(){this.activations.forEach((function(e){e.isActive&&e.unActive()})),this.activations.length=0},t.prototype.getAllActivations=function(){return this.activations.reduce((function(e,n){return n instanceof t?e.push.apply(e,n.getAllActivations()):e.push(n),e}),[])},t.prototype.hasActivations=function(){return this.activations.length>0},t.prototype.doActive=function(){this.activations.forEach((function(e){e.isActive||e.active()}))},t.prototype.doDeactive=function(){this.activations.forEach((function(e){e.isActive&&e.unActive()})),this.activations.length=0},t}(i),s=function(){function e(){}return e.prototype.active=function(e){var t,n,o,r;if(this.getCurrentActivatable()!==e){if(this.currentActivatable instanceof a){if(this.currentActivatable.contains(e))return;if(e instanceof a){var i=this.currentActivatable.exclude(e);i.length>0?i.forEach((function(e){e.isActive&&e.unActive()})):this.currentActivatable.isActive&&this.currentActivatable.unActive()}else(null===(t=this.currentActivatable)||void 0===t?void 0:t.isActive)&&(null===(n=this.currentActivatable)||void 0===n||n.unActive())}else(null===(o=this.currentActivatable)||void 0===o?void 0:o.isActive)&&(null===(r=this.currentActivatable)||void 0===r||r.unActive());this.currentActivatable=e,e.isActive||e.active()}},e.prototype.unActive=function(e){var t=this.getCurrentActivatable();t&&e&&e.isActive&&(t instanceof a?t.remove(e):t===e&&(e.isActive&&e.unActive(),this.currentActivatable=void 0))},e.prototype.unActiveCurrent=function(){var e,t;(null===(e=this.currentActivatable)||void 0===e?void 0:e.isActive)&&(null===(t=this.currentActivatable)||void 0===t||t.unActive()),this.currentActivatable=void 0},e.prototype.getCurrentActivatable=function(){var e;if(null===(e=this.currentActivatable)||void 0===e?void 0:e.isActive)return this.currentActivatable},e.prototype.getAllCurrentActivatables=function(){var e=this.getCurrentActivatable();return e?e instanceof a?e.getAllActivations():[e]:[]},e.prototype.hasActivations=function(){return null!=this.currentActivatable&&(!(this.currentActivatable instanceof a)||this.currentActivatable.hasActivations())},e.prototype.currentActivableIs=function(e){var t=this.getCurrentActivatable();return t===e||t instanceof a&&t.contains(e)},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n){var o={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};if(/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),/(TZ)/.test(t)){var r=-parseInt(e.getTimezoneOffset()/60);r=r>9?"+"+r:"+0"+r,r+=n+"00"+n,t=t.replace("TZ",r)}for(var i in o)new RegExp("("+i+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?o[i]:("00"+o[i]).substr((""+o[i]).length)));return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PixelUnit=t.Unit=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(207),i=n(52);function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=t.Unit=function(){function e(t,n){s(this,e),this.fromInchRate=t,this.name=n}return e.prototype.convertTo=function(e,t){return e/this.fromInchRate*t.fromInchRate},e.prototype.convertAreaTo=function(e,t){return e/Math.pow(this.fromInchRate,2)*Math.pow(t.fromInchRate,2)},o(e,[{key:"isPixel",get:function(){return!1}}]),e}();t.PixelUnit=function(e){function t(n){s(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,0,"px"));return o.orientation=n,Object.defineProperty(o,"fromInchRate",{get:function(){var e=(0,i.getDPI)();switch(n){case r.ORIENTATION_HORIZONTAL:return e.x;case r.ORIENTATION_VERTICAL:return e.y;default:return e.x}}}),o}return a(t,e),o(t,[{key:"isPixel",get:function(){return!0}}]),t}(c)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ORIENTATION_VERTICAL="vertical",t.ORIENTATION_HORIZONTAL="horizontal",t.ORIENTATION_ALL="all"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(63));t.default={inch:"inch",custom:"custom",mi:"mi",pt:"pt",ft:"ft",yd:"yd",km:"km",m:"m",cm:"cm",mm:"mm",pica:"pica"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={invisible:1,hidden:2,print:4,noZoom:8,noRotate:16,noView:32,readOnly:64,locked:128,toggleNoView:256,lockedContents:512}},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}Object.defineProperty(t,"__esModule",{value:!0}),t.createClass=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=Object.hasOwnProperty(e,"constructor"),s=a?e.constructor:void 0,c=function(e){function t(){o(this,t);var n=r(this,e.apply(this,arguments));return a?r(n,s.apply(n,arguments)):n}return i(t,e),t}(t);a&&delete e.constructor;return Object.assign(c.prototype,e),e.constructor=s,Object.assign(c,n),c},t.singletonCreator=function(e){var t=null;return function(){if(null===t){for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];t=new(Function.prototype.bind.apply(e,[null].concat(o)))}return t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.getOwnPropertyDescriptors||(Object.getOwnPropertyDescriptors=function(e){return Object.getOwnPropertyNames(e).reduce((function(t,n){return t[n]=Object.getOwnPropertyDescriptor(e,n),t}),{})});var s=["isProxy","constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","apply","arguments","bind","call","caller",Symbol.hasInstance,"valueOf","__defineGetter__","__defineSetter__","__lookupGetter__","__lookupSetter__"],c=s.concat(["length","name","prototype"]),u=t.ORIGIN_PROPERTY_NAME="origin",l="$proxy_class_symbol_"+Date.now().toString(32),f=function(){function e(){a(this,e)}return e.getNoopConstructor=function(e){function t(){}return t.prototype=Object.create(e.prototype),t},e.getProxyClass=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(e){return!0},c=void 0;if(o){var f=this.getNoopConstructor(e);(c=function(e){function t(n){a(this,t);var o=r(this,e.call(this));return o[u]=n,o}return i(t,e),t}(f))[l]=!0}else{var p="function"==typeof n?n:this.getNoopConstructor(e);c=function(e){function t(){return a(this,t),r(this,e.apply(this,arguments))}return i(t,e),t}(p);var d=this.getStaticDescriptors(e);Object.defineProperties(c,d),c[l]=!0}var h=this.getClassDescriptors(e.prototype);if("function"==typeof t){var g=function(e){var n=h[e];if(!n||!s(e,n))return"continue";if("function"==typeof n.value){var r=n.value;n.value=o?function(){for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];return t.call(this,this[u],r,o,e,"method")}:function(){for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];return t.call(this,this,r,o,e,"method")}}if("function"==typeof n.get){var i=n.get;n.get=o?function(){return i.call(this[u])}:function(){return t.call(this,this,null,[],e,"getter")}}if("function"==typeof n.set){var a=n.set;n.set=o?function(e){a.call(this[u],e)}:function(n){return t.call(this,this,null,[n],e,"setter")}}};for(var m in h)g(m)}return Object.defineProperties(c.prototype,h),c},e.isProxyClass=function(e){return"function"==typeof e&&e.hasOwnProperty(l)},e.getProxyObject=function(e,t,n){if(null==e)throw new Error("Cannot proxy a null or undefined object");var o=e.constructor;return new(this.getProxyClass(o,t,o,!0,n))(e)},e.getStaticDescriptors=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c,n=o(e);return t.forEach((function(e){try{delete n[e]}catch(t){n[e]=void 0}})),n;function o(e){if(e===Object||e===Function||!e)return{};var t=o(Object.getPrototypeOf(e));return Object.assign(t,Object.getOwnPropertyDescriptors(e))}},e.getClassDescriptors=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,n=r(e);return t.forEach((function(e){try{delete n[e]}catch(t){n[e]=void 0}})),n;function r(e){if("object"!==(void 0===e?"undefined":o(e))||null===e)return{};var t=Object.getPrototypeOf(e),n=t===e?{}:r(t);return Object.assign(n,Object.getOwnPropertyDescriptors(e))}},e}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={reply:{name:"reply",nameI18nKey:"viewer_:contextmenu.annot.reply",callback:function(){this.data("annotComponent").showReplyDialog("reply")},disabled:function(){return this.data("annotComponent").replyDisabled()}},properties:{name:"properties",nameI18nKey:"viewer_:contextmenu.annot.properties",callback:function(e,t,n,o){this.data("annotComponent").showPropertiesDialog(e,t,n,o)}},remove:{name:"delete",nameI18nKey:"viewer_:contextmenu.annot.delete",callback:function(){this.data("annotComponent").removeAnnot()},disabled:function(){return this.data("annotComponent").deleteDisabled()}}};t.getCommonContextMenu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-handler-rect";return{selector:e,items:o,events:{show:function(){return this.data("annotComponent").updateDeleteStatus(!0),!0},hide:function(){return this.data("annotComponent").updateDeleteStatus(!1),!0}}}},t.defaultAnnotComponentKey="annotComponent"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(12);var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.component=t,this.prepared=!1}return e.prototype.prepare=function(){this.prepared||(this.prepared=!0,this.doPrepare())},e.prototype.doPrepare=function(){},e.prototype.show=function(){this.prepared&&this.doShow()},e.prototype.doShow=function(){},e.prototype.hide=function(){this.prepared&&this.doHide()},e.prototype.doHide=function(){},e.prototype.destroy=function(){this.component=null,this.prepared=!1},e.prototype.willRender=function(){},e.prototype.afterRender=function(){},e.prototype.render=function(e,t,n){return this.prepared||this.prepare(),this.doRender(e,t,n)},e.prototype.doRender=function(e,t){return Promise.resolve()},e.prototype.numberToRGBAString=function(e){var t=(0,o.convertFromNumberToRGBA)(e);return"rgba("+t.r+", "+t.g+", "+t.b+", "+t.a+")"},e.prototype.invisibleRender=function(){},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=n(92),a=(o=i)&&o.__esModule?o:{default:o};n(22);function s(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var f=function(e){function t(){return c(this,t),u(this,e.apply(this,arguments))}return l(t,e),t.prototype.convertToCanvasBasedPoint=function(e,t,n,o,i,a){var s=i.getDevicePoint([e,t],o,a),c=r(s,2),u=c[0],l=c[1];return{x:u-n.left,y:l-n.top}},t.prototype.doRender=function(e){var t=this,n=e.scale,o=e.renderingData,r=e.rotate,i=o.page,a=o.annotInfo,c=a.startCharInfo,u=a.endCharInfo,l=o.quadPoints,f=o.outerDeviceRect;if(!c){var p=l[0];c={left:p[0].x,top:p[0].y,right:p[1].x,bottom:p[2].y}}if(!u){var d=l[l.length-1];u={left:d[0].x,top:d[0].y,right:d[1].x,bottom:d[2].y}}var h=l.map((function(e,o){var a=e.map((function(e){return t.convertToCanvasBasedPoint(e.x,e.y,f,n,i,r)})),c=a.map((function(e){return e.x})),u=a.map((function(e){return e.y})),l=Math.min.apply(Math,s(c)),p=Math.max.apply(Math,s(c)),d=Math.max.apply(Math,s(u)),h=Math.min.apply(Math,s(u));return{left:l,right:p,bottom:d,top:h,width:p-l,height:d-h,textBlockHeight:d-h}}));e.quadRects=h},t}(a.default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=b(n(74)),i=b(n(1)),a=b(n(4)),s=b(n(64)),c=n(33),u=n(18),l=b(n(900)),f=b(n(53)),p=n(12),d=n(206),h=n(63),g=b(n(116)),m=b(n(54)),v=b(n(180)),y=b(n(345));function b(e){return e&&e.__esModule?e:{default:e}}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var _=function(e){function t(n,o,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r,i));return a.name="line",m.default.property(a,"shapeControl",(function(){var e=new s.default({emitter:a.pdfViewer.eventEmitter,start:function(){return a.onStartUpdateShape()},update:function(e,t){return a.onShapeUpdating&&a.onShapeUpdating(e,t)},moving:function(e,t,n){return a.onShapeMoving(e,t,n)},end:function(e,t,n){return a.onShapeUpdateEnd(e,t,n)},resizable:!1});return a.processShapeControlPermissionCtrl(e),a.addDestroyHook((function(){e.destroy()})),e})),a}return w(t,e),t.prototype.generateApRenderer=function(){return this.annot.getType()===v.default.line&&this.annot.getCaptionOffset()?new y.default(this):e.prototype.generateApRenderer.call(this)},t.prototype.active=function(){e.prototype.active.call(this),this.activeRect(),this.activeMore();var t=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),t),this.setMargin(),this.updateHandlerPosition()},t.prototype.movedByOther=function(){if(this.isActive){var e=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),e),this.setMargin(),this.updateHandlerPosition()}},t.prototype.unActive=function(){e.prototype.unActive.call(this),m.default.isPropertyIntialized(this,"shapeControl")&&this.shapeControl.deactive()},t.prototype.afterRender=function(e){if(e.transformed&&this.isActive){this.activeRect(),this.activeMore();var t=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),t),this.setMargin(),this.updateHandlerPosition()}},t.prototype.activeMore=function(){this.$handler.addClass("fv__annot-line-container");var e=2;0!==this.annot.getLeaderLineLength()&&(e=4),this.hammerInited=this.hammerInited||this.initHammer(e)},t.prototype._getShapeControllerBoundaryBox=function(){var e=this.getPDFPage(),t=(0,c.getWHByMatrix)(e.getPxWidth(),e.getPxHeight(),this.scale,this.rotate),n=o(t,2);return{left:0,top:0,right:n[0],bottom:n[1]}},t.prototype.createRectDom=function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui},t.prototype.onStartUpdateShape=function(e,t){this.editDebouncePromise||(this.editDebouncePromise=new u.DebounceAsyncTaskExecutor(0)),this.willRedraw()},t.prototype.onShapeMoving=function(e,t){},t.prototype.onShapeUpdateEnd=function(e,t,n){var o=this;return this.editDebouncePromise?this.editDebouncePromise.waitForLastTask().then((function(){return o.moveTo(e.left,e.top,n).then((function(t){return o.setRect(e)})).then((function(e){return o._applyShapeChange()})).then((function(e){o.afterRedraw()}))})):Promise.resolve()},t.prototype._applyShapeChange=function(){var e=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),e)},t.prototype.getPropertyOptions=function(){var e=this.annot,t=(0,p.colorConvertor)(e.getBorderColor(),"#"),n=e.getOpacity(),o=e.getBorderWidth(),r=e.getStyleFillColor(),i=this.propertyDisabled();return{color:t,opacity:n,borderWidth:o,lineStartStyle:e.getStartStyle(),lineEndStyle:e.getEndingStyle(),hasCap:e.hasCaption(),fillColor:r,disabled:i}},t.prototype.redraw=function(t){var n=this;return this.groupMoveDisabled()||this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),e.prototype.redraw.call(this,t).then((function(){"line"==n.name&&n.annot.calculateLeaderLine(),n.updateHandlerPosition(),n.setMargin()}))},t.prototype.updateRender=function(){return this.redraw()},t.prototype.initHammer=function(e){var t=this,n=this.$handler,r=(0,l.default)({anchorCount:e}),i=(0,a.default)(r);n.append(i);var s=this.annot.getType(),c=n.find(".fv__pdf-annot-line-point"),u=function(){return t.moveDisabled()};return this.addDestroyHook(this.pdfViewer.getAnnotAuthorityManager().subscribe(this.annot,(function(e){u=function(){return e.ignorable()?t.moveDisabled():!e.isAdjustable()}}))),c.each((function(e,n){var r=new Hammer.Manager(n,{recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}]]});t.addDestroyHook((function(){r.destroy()}));var i=void 0,l=void 0,f=!1;function p(t,n){if("line"!==s||!g.default.isShift)return[t,n];var o=c.eq(1^e),r=parseFloat(o.css("left")),a=parseFloat(o.css("top")),u=i.x+t,l=i.y+n,f=Math.sqrt(Math.pow(u-r,2)+Math.pow(l-a,2)),p=Math.atan2(l-a,u-r),d=.25*Math.PI,h=Math.round(p/d)*d,m=f*Math.cos(h),v=a+f*Math.sin(h);return[r+m-i.x,v-i.y]}r.on("panstart",(function(e){u()?f=!1:(f=!0,"fv__pdf-annot-line-point-item"==(l=(0,a.default)(e.target)).attr("class")&&(l=l.parent()),i={x:parseFloat(l.css("left")),y:parseFloat(l.css("top"))},t.backupProperty(n),t.boundaryChangeStart(e),t.willRedraw())})).on("panmove",(function(n){if(f){var r=p(n.deltaX,n.deltaY),a=o(r,2),s=a[0],c=a[1];t.pdfViewer.config.highPerformance?t.updatePoint(s,c,e):l.css({left:i.x+s+"px",top:i.y+c+"px"})}})).on("panend",(function(n){if(f){var r=p(n.deltaX,n.deltaY),i=o(r,2),a=i[0],s=i[1];t.updatePoint(a,s,e).then((function(e){t.boundaryChangeEnd(n),t.afterRedraw()}))}}))})),!0},t.prototype.boundaryChangeStart=function(e){},t.prototype.boundaryChangeEnd=function(e){},t.prototype.updateHandlerPosition=function(){var e=this.$handler,t=this.scale,n=this.rotate,o=[],r=this.annot.getStartPoint();o.push(this.annot.page.getDevicePoint([r.x,r.y],t,n));var i=this.annot.getEndPoint();if(o.push(this.annot.page.getDevicePoint([i.x,i.y],t,n)),0!=this.annot.getLeaderLineLength()){var a=this.annot.getLeaderLinePoints();o.push(this.annot.page.getDevicePoint([a.start.x,a.start.y],t,n)),o.push(this.annot.page.getDevicePoint([a.end.x,a.end.y],t,n))}for(var s=e.get(0).querySelectorAll("[data-index]"),c=0;c<o.length;c++){var u=s[c];u&&(u.style.cssText+="\n                left: "+o[c][0]+"px;\n                top: "+o[c][1]+"px;\n            ")}},t.prototype.moved=function(){e.prototype.moved.call(this),this.updateHandlerPosition(),this.setMargin()},t.prototype.setContent=function(e){return e===this.annot.getContent()?Promise.resolve(!0):this.annot.setContent(e)},t.prototype.setBorderWidth=function(e){var t=this;return this.annot.setBorderWidth(e).then((function(e){return e?t.annot.update().then((function(e){return!0})):e})).then((function(e){return e?t.updateRender().then((function(){var n=t._getShapeControllerBoundaryBox();return t.shapeControl.active(t.$handler,t.getBoundary(),n),t.pdfViewer.eventEmitter.emit(i.default.updateActionAnnotation,t),e})):e}))},t.prototype.setFillColor=function(e){var t=this,n=this.annot.setStyleFillColor;return n||(n=this.annot.setFillColor),n.call(this.annot,e).then((function(e){return e?t.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(i.default.updateActionAnnotation,t),e})):e}))},t.prototype.setEndingStyle=function(e,t){var n=this;return this.annot.setEndingStyle(e,t).then((function(){return n.redraw().then((function(){var e=n._getShapeControllerBoundaryBox();n.shapeControl.active(n.$handler,n.getBoundary(),e),n.pdfViewer.eventEmitter.emit(i.default.updateActionAnnotation,n)}))}))},t.prototype.setMeasureUnit=function(e){var t=this;return e instanceof d.Unit&&(e=e.name),this.annot.setMeasureUnit(e).then((function(){return t.updateRender()})).then((function(){t.pdfViewer.eventEmitter.emit(i.default.updateActionAnnotation,t)}))},t.prototype.setMeasureRatio=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.userSpaceValue,o=void 0===n?1:n,r=t.userSpaceUnit,a=void 0===r?h.INCH.name:r,s=t.realValue,c=void 0===s?1:s,u=t.realUnit,l=void 0===u?h.INCH.name:u;return a instanceof d.Unit&&(a=a.name),l instanceof d.Unit&&(l=l.name),this.annot.setMeasureRatio({userSpaceValue:o,userSpaceUnit:a,realValue:c,realUnit:l}).then((function(){return e.updateRender()})).then((function(){e.pdfViewer.eventEmitter.emit(i.default.updateActionAnnotation,e)}))},t.prototype.getMeasureRatio=function(){var e=this.annot.info.measureRatio,t=/(\d+(\.\d+)?)(?:\s+)(\w+)(?:\s+\=\s+)(\d+(\.\d+)?)(?:\s+)(\w+)/.exec(e),n=o(t,7),r=n[1],i=n[3],a=n[4],s=n[6];return{userSpaceValue:Number(r),userSpaceUnit:i,realValue:Number(a),realUnit:s}},t.prototype.enableCaption=function(e){var t=this;return this.annot.enableCaption(e).then((function(){return t.redraw().then((function(){t.pdfViewer.eventEmitter.emit(i.default.updateActionAnnotation,t)}))}))},t.prototype.hasCaption=function(){return this.annot.hasCaption()},t.prototype.setBorderStyle=function(e,t){var n=this;return this.annot.setBorderStyle(e,t).then((function(){return n.updateRender()})).then((function(){n.pdfViewer.eventEmitter.emit(i.default.updateActionAnnotation,n)}))},t.prototype.backupProperty=function(e){switch(e?(0,a.default)(e).data("index"):""){default:return this.oldRect=Object.assign({},this.annot.getRect());case 1:return this.oldEndPoint=Object.assign({},this.annot.getEndPoint());case 0:return this.oldStartPoint=Object.assign({},this.annot.getStartPoint());case 3:case 2:return this.oldLeaderEndPoint=Object.assign({},this.annot.leaderEndPoint)}},t.prototype.updateLeaderLineLength=function(e,t,n){var o=this.oldLeaderEndPoint,r=this.annot.getEndPoint(),i=this.annot.getStartPoint(),a=this.annot.Eb;n&&(o=this.oldLeaderEndPoint,r=this.annot.getEndPoint(),i=this.annot.getStartPoint(),a=this.annot.Eb);var s=o.x+e,c=o.y+t,u=(this.annot.k*(c-a)+s)/(this.annot.k*this.annot.k+1),l=u,f=this.annot.k*u+a,p=!0;(r.x-i.x)*(c-r.y)-(s-r.x)*(r.y-i.y)>0&&(p=!1);var d=l-r.x,h=f-r.y,g=Math.sqrt(d*d+h*h);return p&&(g=-g),this.annot.setLeaderLineLength(g)},t.prototype.updatePoint=function(e,t,n){var r=this,a=void 0,s=this.annot.page.reverseDeviceOffset([e,t],this.scale,this.rotate),c=o(s,2),u=c[0],l=c[1];switch(n){case 1:a=this.annot.setEndPoint({x:this.oldEndPoint.x+u,y:this.oldEndPoint.y+l});break;case 0:a=this.annot.setStartPoint({x:this.oldStartPoint.x+u,y:this.oldStartPoint.y+l});break;case 2:a=this.updateLeaderLineLength(u,l,!1);break;case 3:a=this.updateLeaderLineLength(u,l,!0)}return a.then((function(){return r.updateRender().then((function(){var e=r._getShapeControllerBoundaryBox();r.shapeControl.active(r.$handler,r.getBoundary(),e),r.pdfViewer.eventEmitter.emit(i.default.updateActionAnnotation,r)}))}))},t.prototype.setMargin=function(){var e=this.getGroupRect(),t=this.getRect();this.shapeControl.setMargin(f.default.expandOffset(t,e))},t.prototype.getRenderingData=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,o=e.prototype.getRenderingData.call(this,t,n),r=this.annot;return Object.assign(o,{leaderLineExtend:r.getLeaderLineExtend?r.getLeaderLineExtend():void 0,startPoint:r.getStartPoint?r.getStartPoint():void 0,endPoint:r.getEndPoint?r.getEndPoint():void 0,leaderLinePoints:r.getLeaderLinePoints?r.getLeaderLinePoints():void 0,captionOffset:r.getCaptionOffset?r.getCaptionOffset():void 0,startStyle:r.getStartStyle?r.getStartStyle():void 0,endingStyle:r.getEndingStyle?r.getEndingStyle():void 0,hasCaption:r.hasCaption?r.hasCaption():void 0,captionPos:r.getCaptionPos?r.getCaptionPos():void 0,fillColor:r.getFillColor()||(r.getStyleFillColor?r.getStyleFillColor():void 0),content:r.info.content})},t}(r.default);t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CloudyPathGenerator=t.CloudyStartSegment=t.CloudyPathSegment=void 0;var o,r=n(290),i=(n(52),n(83)),a=(o=i)&&o.__esModule?o:{default:o};n(436);function s(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var f=t.CloudyPathSegment=function(e){function t(n,o,r){c(this,t);var i=u(this,e.call(this,null,r));return i.controlPoint1=n,i.controlPoint2=o,i}return l(t,e),t.prototype.render=function(e){e.bezierCurveTo(this.controlPoint1.x,this.controlPoint1.y,this.controlPoint2.x,this.controlPoint2.y,this.to.x,this.to.y)},t}(r.PathSegment),p=t.CloudyStartSegment=function(e){function t(n){return c(this,t),u(this,e.call(this,n))}return l(t,e),t.prototype.render=function(e){e.moveTo(this.from.x,this.from.y)},t}(r.PathSegment),d=3.14159265358979;t.CloudyPathGenerator=function(e){function t(n,o,r){c(this,t);var i=u(this,e.call(this));return i.points=n,i.innerRect=o,i.outerRect=r,i}return l(t,e),t.prototype.generate=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,n=new r.Path,o=this.points.map((function(t){return t.y=e.innerRect.height-t.y,t})),i=o.length,a=i*t,c=o.map((function(e,t){return e.distanceTo(o[(t+1)%i])})).reduce((function(e,t){return e+t})),u={left:o[0].x,right:o[0].x,top:o[0].y,bottom:o[0].y},l=c/a;if(0==l)return n;for(var f=[],p=0,g=o[0],m=o[1],v=g.distanceTo(m),y=0,b=1;y<a;y++){for(;p>v;)p-=v,b++,g=m,m=o[b%i],v=g.distanceTo(m);f.push(g.move(p,m)),p+=l}var w=f.length,_=!0,P=5*l/8;return f.forEach((function(t,o){O(f[0==o?w-1:o-1],t,f[(o+1)%w]).forEach((function(t){var o=function(t){t&&(t.x+=e.innerRect.left-e.outerRect.left,t.y=e.innerRect.height-t.y+(e.innerRect.top-e.outerRect.top))};o(t.from),o(t.to),o(t.controlPoint1),o(t.controlPoint2),n.addSegment(t)}))})),n.rect=u,n;function O(e,t,n){var o=e.subtractp(t),r=n.subtractp(t),i=[],a=Math.atan2(o.y,o.x),c=Math.atan2(r.y,r.x);a+=Math.acos(e.distanceTo(t)/(2*P))-d/9,(c-=Math.acos(n.distanceTo(t)/(2*P)))<a&&(c+=2*d);var u={left:t.x-P,right:t.x+P,bottom:t.y-P,top:t.y+P},l=h(u,a,c,_);i.push.apply(i,s(l.arrAp)),_=!1;var f=t.subtractp(n);return a=Math.atan2(f.y,f.x),c=(a+=Math.acos(n.distanceTo(t)/(2*P)))-d/9,l=h(u={left:n.x-P,right:n.x+P,bottom:n.y-P,top:n.y+P},a,c,_),i.push.apply(i,s(l.arrAp)),i}},t}(r.PathGenerator);function h(e,t,n,o){var r,i,s,c,u,l,h,g,m,v,y,b,w,_,P,O,E,x,C,A,S,D,T,I,R={};if(e.left>=e.right||e.bottom>=e.top)return{arrAp:[],pdfRect:R};if(Math.abs(n-t)<=1e-4)return{arrAp:[],pdfRect:R};var M=[];r=(e.right+e.left)/2,i=(e.top+e.bottom)/2,s=Math.abs(e.right-e.left)/2,c=Math.abs(e.top-e.bottom)/2,T=t,S=r+(y=s*Math.cos(T)),D=i+(b=c*Math.sin(T)),R.left=R.right=S,R.bottom=R.top=D,o&&M.push(new p(new a.default(S,D)));var j=1;n<t&&(j=-1);var k=Math.floor(2*t/d);j>0&&(k+=1),k*=d/2;for(var N=!1;I=k,j>0?n<=k&&(I=n,N=!0):n>=k&&(I=n,N=!0),y=s*Math.cos(T),b=c*Math.sin(T),E=s*Math.cos(I),m=v=-s*s*c*c,w=y+.5522847498308*(S=(C=((h=s*s*b)*v-(g=s*s*(x=c*Math.sin(I)))*m)/((u=c*c*y)*g-(l=c*c*E)*h))-y),_=b+.5522847498308*(D=(A=(l*m-u*v)/(u*g-l*h))-b),P=E+.5522847498308*(S=C-E),O=x+.5522847498308*(D=A-x),w=S=r+w,_=D=i+_,R.left>w&&(R.left=w),R.bottom>_&&(R.bottom=_),R.right<w&&(R.right=w),R.top<_&&(R.top=_),P=S=r+P,O=D=i+O,R.left>P&&(R.left=P),R.bottom>O&&(R.bottom=O),R.right<P&&(R.right=P),R.top<O&&(R.top=O),E=S=r+E,x=D=i+x,R.left>E&&(R.left=E),R.bottom>x&&(R.bottom=x),R.right<E&&(R.right=E),R.top<x&&(R.top=x),M.push(new f(new a.default(w,_),new a.default(P,O),new a.default(E,x))),!N;)T=I,k+=j*d/2;return{arrAp:M,pdfRect:R}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=h(n(74)),i=h(n(939)),a=h(n(64)),s=n(18),c=n(33),u=(h(n(117)),n(942)),l=n(12),f=h(n(1)),p=h(n(54)),d=h(n(145));function h(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var m=(0,u.getCommonContextMenu)(".fv__pdf-page-annot-handler-rect"),v=function(){},y=function(e){function t(n,o,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r,i));s.name="redact",s.$ui.addClass("fv__pdf-page-redact-annot-container"),s.$handler.addClass("fv__pdf-page-redact-annot-handler-container");var c=void 0;return c=!!n.isArea(),s.pdfViewer.eventEmitter.emit(f.default.redactAnnotRendered,s),p.default.property(s,"shapeControl",(function(){var e=new a.default({emitter:s.pdfViewer.eventEmitter,start:function(e,t,n){return s.onStartUpdateShape(e,t,n)},update:function(e,t){return s.onShapeUpdating(e,t)},moving:function(e,t){return s.onShapeMoving(e,t)},end:function(e,t,n){return s.onShapeUpdateEnd(e,t,n)},resizable:c,enableDiagonally:!0});return n.isArea()?s.processShapeControlPermissionCtrl(e):e.disable(),s.addDestroyHook((function(){e.destroy()})),e})),s.apRenderer=s.generateApRenderer(),s}return g(t,e),t.prototype.generateApRenderer=function(){return this.isHTMLSimulate("redact")?new d.default(this):e.prototype.generateApRenderer.call(this)},t.getDefaultContextMenuConfig=function(){return m},t.prototype.assembleDocDisabled=function(){return 40!=(40&this.docRender.getUserPermission().getValue())},t.prototype.onStartUpdateShape=function(e,t,n){this.editDebouncePromise||(this.editDebouncePromise=new s.DebounceAsyncTaskExecutor(0))},t.prototype.onShapeUpdating=function(e,t){var n=this;this.editDebouncePromise.exec((function(){return n.setRect(e)}))},t.prototype.onShapeMoving=function(e,t){},t.prototype.onShapeUpdateEnd=function(e,t,n){var o=this;return this.editDebouncePromise?this.editDebouncePromise.exec((function(){return o.moveTo(e.left,e.top,n)})):Promise.resolve()},t.prototype.active=function(){e.prototype.active.call(this),this.activeRect(),this.$handler.addClass("active"),this._applyShapeChange()},t.prototype.createRectDom=function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui},t.prototype.movedByOther=function(){this.isActive&&this._applyShapeChange()},t.prototype._applyShapeChange=function(){var e=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),e)},t.prototype._getShapeControllerBoundaryBox=function(){var e=this.getPDFPage(),t=(0,c.getWHByMatrix)(e.getPxWidth(),e.getPxHeight(),this.scale,this.rotate),n=o(t,2);return{left:0,top:0,right:n[0],bottom:n[1]}},t.prototype.redraw=function(e){if(this.shapeControl&&this.shapeControl.enable(),e&&this.apRenderer)try{this.apRenderer.clearCache()}catch(e){}return this.render()},t.prototype.updateRender=function(){return Promise.resolve()},t.prototype.showPlaceMarkDialog=function(){if(this.$placeRedactionControl&&this.$placeRedactionControl.$dialog);else{var e=this.pdfViewer.currentPDFDoc.info.pageCount;this.$placeRedactionControl=new i.default(this,document.body,e)}},t.prototype.hidePlaceMarkDialog=function(){this.$actionsControl.close()},t.prototype.placeRedact=function(e){var t=this.annot.getRects(),n=this.pdfViewer,o=this.annot,r=e.map((function(e){return n.currentPDFDoc.getPageByIndex(e).then((function(e){return e.markRedactAnnot(t,{color:o.getBorderColor(),applyFillColor:o.getApplyFillColor()})}))}));return Promise.all(r)},t.prototype.apply=function(){var e=this,t=this.pdfViewer;if(t)return t.viewerUI.confirm("viewer_:contextmenu.annot.applyConfirm").then((function(){return e.annot.apply()}),v)},t.prototype.applyAll=function(){var e=this.pdfViewer;if(e)return e.viewerUI.confirm("viewer_:contextmenu.annot.applyConfirm").then((function(){return e.getCurrentPDFDoc().applyRedaction()}),v)},t.prototype.getPropertyOptions=function(){var e=this.annot;return{color:(0,l.colorConvertor)(e.getBorderColor(),"#"),applyFillColor:e.getApplyFillColor(),borderStyle:!1,disabled:this.propertyDisabled()}},t.prototype.setApplyFillColor=function(e){return this.annot.setRedactApplyFillColor(e)},t.prototype.getTileConfig=function(e,t){var n=this.pdfViewer,o=n.getSmartScale(e),r=n.config.tileSize,i=this.annot,a=i.getDeviceRect(1,t),s=i.getDeviceRect(o,t),c=s.right-s.left,u=s.bottom-s.top;return this.getAnnotFlag().checkNoZoom()&&(c=a.right-a.left,u=a.bottom-a.top),[Math.ceil(u/r),Math.ceil(c/r),c+=1,u+=1,r,o,e,t,a.left-1,a.top-1]},t}(r.default);t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(61)),r=(s(n(13)),n(461)),i=s(r),a=s(n(300));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;c(this,e),this.registry=new i.default,this.name=n,this.target=t,this.priority=r,this.isActive=!0,this.nextBinders=[],this.emitter=new o.default,this.beforeEventEmitter=new o.default}return e.prototype.setKeyboard=function(e){this.keyboard=e},e.prototype.registerKeybinding=function(e,t){var n=a.default.parseKeybinding(t);this.registry.registerKeyBindingRule(new r.KeyBindingRule(e,n,0))},e.prototype.unRegisterKeybinding=function(e,t){var n=a.default.parseKeybinding(t);this.registry.unRegisterKeyBindingRule(new r.KeyBindingRule(e,n,0))},e.prototype.getCommandOfKeybinding=function(e){return this.registry.getCommandOfKeybinding(e)},e.prototype.hasKeybinding=function(e){return!!this.getCommandOfKeybinding(e)},e.prototype.attach=function(e){this.nextBinders.push(e)},e.prototype.before=function(e,t){var n=this;return this.beforeEventEmitter.on(e,t),function(){n.offBefore(e,t)}},e.prototype.offBefore=function(e,t){this.beforeEventEmitter.off(e,t)},e.prototype.on=function(e,t){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!1},r=void 0;return o&&(r=this.before(e,(function(e){("boolean"==typeof o&&o||o(e))&&e.preventDefault()}))),this.emitter.on(e,t),function(){r&&r(),n.off(e,t)}},e.prototype.off=function(e,t){this.emitter.off(e,t)},e.prototype.emit=function(e,t){this.emitter.emit(e,t)},e.prototype.acceptElement=function(e){return e===this.target},e.prototype.handleKeydownEvent=function(e,t){var n=this.getCommandOfKeybinding(e);return n?(this.beforeEventEmitter.emit(n,t),!0):this.nextBinders.some((function(n){return n.handleKeydownEvent(e,t)}))},e.prototype.handleEvent=function(e,t){var n=this.getCommandOfKeybinding(e);return n?(this.emit(n,t),!0):this.nextBinders.some((function(n){return n.handleEvent(e,t)}))},e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),r=n(52),i=c(n(1)),a=c(n(13)),s=c(n(21));n(24);function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return r.pdfViewer=n,r.pageRender=o,r.pdfUI=n.activePropertiesDialog.PDFUI,r}return u(t,e),t.prototype.getSelectionInfo=function(){var e=(0,s.default)(),t=this.pdfViewer.getStore().subscribe(o.STORE_NAMES.SELECTION_INFO,(function(n){t(),e.resolve(n)}));return this.addDestroyHook(t),e.promise},t.prototype.copy=function(){var e=this;return this.getSelectionInfo().then((function(t){(0,r.copyText)(t.text)?e.pdfViewer.eventEmitter.emit(i.default.copyTextSuccess,t.text):e.pdfViewer.eventEmitter.emit(i.default.copyTextFailed,t.text)}))},t.prototype.createTextHighlight=function(){return this.createTextMarkupAnnot("highlight")},t.prototype.createStrikeout=function(){return this.createTextMarkupAnnot("strikeout")},t.prototype.createUnderline=function(){return this.createTextMarkupAnnot("underline")},t.prototype.createBookmark=function(){var e=this;return this.getSelectionInfo().then((function(t){if(t){var n=t.page.getPDFDoc(),o=t.page.getIndex(),r=t.text,i=t.rectArray[0],a=i.left,s=i.top;return e.pdfUI.getComponentByName("fv-bookmark-sidebar-panel").then((function(t){var i=t.currentBookmarkId,c=1;return n.getRootBookmark().then((function(e){return e||(e=n.createRootBookmark()),e})).then((function(t){if(i){var n=e.getBookmarkById(i,t.children);n&&(t=n,c=3)}return t.insertBookmark(r,o,s,a,c)}))}))}}))},t.prototype.createTextMarkupAnnot=function(e){var t=this;return this.pageRender.getPDFPage().then((function(n){return t.getSelectionInfo().then((function(o){return n.addAnnot({type:e,rect:{left:0,right:0,top:0,bottom:0},flags:4,coords:o.rectArray}).then((function(e){var n=e[0];t.pdfViewer.eventEmitter.emit(i.default.addAnnotSuccess,n),t.pageRender.annotsRender.activeAnnot(n.getId())}))}))}))},t.prototype.getBookmarkById=function(e,t){var n="",o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done);o=!0){var c=a.value;if(n)break;if(c.id==e){n=c;break}c.children&&c.children.length>0&&(n=this.getBookmarkById(e,c.children))}}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n},t}(a.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});c(n(175));var o=c(n(17));n(1098);c(n(221));var r=c(n(181)),i=n(14),a=c(n(119)),s=(n(7),c(n(305)));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r));return n.iconCls&&(i.iconCls=n.iconCls),i}return u(t,e),t.getName=function(){return"xbutton"},t.getMetadata=function(){return{options:{text:{type:"string"},action:{type:"string"},"icon-class":{type:"string",field:"iconCls"}}}},t.prototype.setText=function(e){this.text=e||this.text,this.texts.slice(0).forEach((function(e){return e.destroy()})),this.renderText(),this.localize()},t.prototype.setIconCls=function(e){this.iconElement.classList.remove(this.iconCls),this.iconCls=e||this.iconCls,this.renderIcon()},t.prototype.createDOMElement=function(){this.textElement=document.createElement("span"),this.textElement.classList.add("fv__ui-button-text"),this.iconElement=document.createElement("i"),this.iconElement.classList.add("fv__ui-button-icon");var e=void 0;return this.parent instanceof r.default?(e=document.createElement("li")).classList.add("fv__ui-dropdown-button"):e=document.createElement("button"),this.orderedElementsManager=new a.default(e,[this.iconElement,this.textElement]),e},t.prototype.render=function(){e.prototype.render.call(this),this.element.classList.add("fv__ui-button"),this.iconCls&&(this.iconElement.classList.add(this.iconCls),this.orderedElementsManager.mount(this.iconElement))},t.prototype.renderText=function(){var e=this.textElement;return"string"==typeof this.text&&this.text.length>0?e.setAttribute("data-i18n",this.text):(e.removeAttribute("data-i18n"),this.texts.length>0&&(0,s.default)(e,this.texts.map((function(e){return e.element})))),this.parent instanceof r.default?e.classList.add("fv__ui-dropdown-item-text"):e.classList.remove("fv__ui-dropdown-item-text"),this.orderedElementsManager.mount(this.textElement),e},t.prototype.renderIcon=function(){this.iconCls?(this.iconElement.className="",this.iconElement.classList.add("fv__ui-button-icon",this.iconCls),this.orderedElementsManager.mount(this.iconElement)):this.orderedElementsManager.unmount(this.iconElement)},t.prototype.acceptText=function(){return!0},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this);var n=function(e){t.disabled||(t.trigger("click"),t.controller.handle(e),e.preventDefault(),e.stopPropagation())};if(i.isIPHONE||i.isIPOD){var o=!1;this.attachEventToElement(this.element,"mouseup",(function(e){var t=document.createEvent("MouseEvent");t.initMouseEvent("click",e.bubbles,e.cancelable,window,e.detail,e.screenX||0,e.screenY||0,e.clientX||0,e.clientY||0,e.ctrlKey||!1,e.altKey||!1,e.shiftKey||!1,e.metaKey||!1,e.button||0,e.relatedTarget||null),t.isFake=!0,Object.defineProperties(t,{srcElement:{get:function(){return e.srcElement}},fromElement:{get:function(){return e.fromElement}},target:{get:function(){return e.target}},toElement:{get:function(){return e.toElement}}}),o=!0,n(t)})),this.attachEventToElement(this.element,"click",(function(e){try{if(o)return;n(e),e.preventDefault(),e.stopPropagation()}finally{o=!1}}))}else this.attachEventToElement(this.element,"click",n)},t.prototype.triggerHandler=function(){this.element.click()},t.prototype.update=function(){e.prototype.update.call(this),this.renderText()},t.prototype.removeText=function(t){return!!e.prototype.removeText.call(this,t)&&(this.renderText(),!0)},t.prototype.sync=function(t,n){var o=e.prototype.sync.call(this,t,n);if(o)return o;switch(t){case"icon-class":case"iconCls":return this.setIconCls(n),!0}return!1},t.prototype.doDisable=function(){e.prototype.doDisable.call(this),this.element.setAttribute("disabled","")},t.prototype.doEnable=function(){e.prototype.doEnable.call(this),this.element.removeAttribute("disabled")},t}(o.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(9)),r=i(n(21));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=o.default.getLogger("Localizer"),c=Promise.resolve(),u=function(){function e(t){var n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(a(this,e),this.i18next=t,this.options=o,t.options.ns.indexOf("viewer_")>-1)this.i18nPromise=c;else{var i=(0,r.default)();if(t.isInitialized)t.loadNamespaces("viewer_",(function(){i.resolve()}));else{var s=function e(){t.loadNamespaces("viewer_",(function(){i.resolve()})),n.i18next.off("loaded",e)},u=function e(t,o,r){i.reject(r),n.i18next.off("failLoading",e)};this.i18next.on("loaded",s),this.i18next.on("failLoading",u)}this.i18nPromise=i.promise}this.isI18nPrepared=!1,this.i18nPromise.then((function(){n.isI18nPrepared=!0}))}return e.prototype.waitForInitialized=function(){return this.i18nPromise},e.prototype.getLanguage=function(){return this.i18next.language},e.prototype.translate=function(e,t){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;return t=Object.assign({},t,{defaultValue:o}),this.isI18nPrepared?Promise.resolve(this.i18next.t(e,t)):this.i18nPromise.then((function(){return n.i18next.t(e,t)}))},e.prototype.translateSync=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;return t=Object.assign({},t,{defaultValue:n}),this.i18next.t(e,t)},e.prototype.localizeRecursive=function(e,t){var n=this;t=Object.assign({},this.options,t||{});var o=function(){n.localizeElementSync(e,t);var o=e.querySelectorAll("[data-i18n]"),r=e.querySelectorAll("[data-i18n-title]");o.forEach((function(e){return n.localizeElementSync(e,t)})),n.localizeElementTitleSync(e,t),r.forEach((function(e){return n.localizeElementTitleSync(e,t)}))};return this.isI18nPrepared?(o(),c):this.i18nPromise.then(o)},e.prototype.localizeElementTitle=function(e,t){var n=this;return this.isI18nPrepared?(this.localizeElementTitleSync(e,t),c):this.i18nPromise.then((function(){n.localizeElementTitleSync(e,t)}))},e.prototype.localizeElementTitleSync=function(e,t){var n=e.getAttribute("data-i18n-title");if("string"==typeof n&&0!==(n=n.trim()).length){var o=this.translateSync(n,t,n);e.title!==o&&(e.title=o)}},e.prototype.localizeElement=function(e,t){var n=this;return this.isI18nPrepared?(this.localizeElementSync(e,t),c):this.i18nPromise.then((function(){n.localizeElementSync(e,t)}))},e.prototype.localizeElementSync=function(e,t){var n=e.getAttribute("data-i18n");if(n&&0!==(n=n.trim()).length){var o=e.getAttribute("i18n-target");if(!o||e.querySelector(o)){var r=e.getAttribute("i18n-options");if(r){var i=JSON.parse(r);t=t?Object.assign({},i,t):i}this._parseElement(e,n,t)}else s.warn("No target found of selector: "+o)}},e.prototype._parseElement=function(e,t,n){var o="text";if("["===t[0]){var r=t.indexOf("]");o=t.substring(1,r),t=t.substring(r+1)}switch(o){case"html":var i=e.innerHTML.trim().length>0?e.innerHTML:t,a=this.translateSync(t,n,i);e.innerHTML=a;break;case"value":var s=t,c=this.translateSync(t,n,s);e.value!==c&&(e.value=c);break;case"text":var u=t,l=this.translateSync(t,n,u),f=e.childNodes;if(1===f.length&&f.item(0)instanceof Text){var p=f.item(0);if(p.textContent!==l)return void(p.textContent=l)}e.innerText!=l&&(e.innerText=l);break;default:if(0===o.indexOf("data-")){var d=o.substring("data-".length),h=this.translateSync(t,n,e.dataset[d]);e.dataset[d]=h}else{var g=this.translateSync(t,n,t);e.setAttribute(o,g)}}},e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(27);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=function(e){function t(n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r));return i.title=n.title||i.attrs.title,i}return i(t,e),t.getName=function(){return"accordion-card"},t.prototype.doInsert=function(e,t){var n=this.bodyElement.children;if(t<0||t>n.length)throw new Error("index out of bounds: "+t);this.rerenderChildren()},t.prototype.render=function(){e.prototype.render.call(this),this.titleElement=document.createElement("span"),this.caretElement=document.createElement("i"),this.headerElement=document.createElement("div"),this.bodyElement=document.createElement("div"),this.element.classList.add("fv__ui-accordion-card"),this.headerElement.classList.add("fv__ui-accordion-card-header"),this.bodyElement.classList.add("fv__ui-accordion-card-body"),this.caretElement.classList.add("fv__icon-toolbar-caret"),this.titleElement.setAttribute("data-i18n",this.title),this.headerElement.appendChild(this.titleElement),this.headerElement.appendChild(this.caretElement),this.element.appendChild(this.headerElement),this.element.appendChild(this.bodyElement)},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this);var n=function(){t.isActive?t.deactive():t.active()};this.headerElement.addEventListener("click",n),this.addDestroyHook((function(e){return t.headerElement.removeEventListener("click",n)}))},t.prototype.setTitle=function(e){this.title=e,this.titleElement.setAttribute("data-i18n",this.title),this.localizer.localizeElement(this.titleElement)},t.prototype.getContainerElement=function(){return this.bodyElement},t.prototype.active=function(){this.isVisible&&e.prototype.active.call(this)},t.prototype.doActive=function(){if(e.prototype.rerenderChildren.call(this),this.element.classList.add("active"),this.parent&&this.parent.singleton){var t=this.parent.lastActiveCard;t&&t!==this&&t.deactive(),this.parent.lastActiveCard=this}},t.prototype.doDeactive=function(){this.$container.children().forEach((function(e){return e.removeElement()})),this.element.classList.remove("active")},t.prototype.rerenderChildren=function(){this.isActive&&e.prototype.rerenderChildren.call(this)},t.prototype.acceptText=function(){return!0},t.prototype.appendText=function(t){e.prototype.appendText.call(this,t)},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(27));n(1137);var r=s(n(486)),i=n(8),a=s(n(30));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=function(e){function t(n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r));return i.modal=i.backdrop||i.modal,i.appendTo&&(i.appendTo=document.querySelector(i.appendTo)),i.$hasBeenLocalized=i.isVisible,i.unSwitchBinder=a.default,i.removeTemporary=a.default,i}return c(t,e),t.getName=function(){return"layer"},t.getMetadata=function(){return{options:{visible:{type:"boolean",field:"isVisible",defaultValue:!1},backdrop:{type:"boolean",defaultValue:!1},modal:{type:"boolean",defaultValue:!1},"append-to":{type:"string",field:"appendTo"},focus:{type:"boolean",defaultValue:!0}}}},t.prototype.createDOMElement=function(){return document.createElement("div")},t.prototype.render=function(){e.prototype.render.call(this);var t=this.element.classList;t.add("fv__ui-layer"),t.contains("center")||(t.contains("right")||t.contains("centerh")||t.add("left"),t.contains("bottom")||t.contains("centerv")||t.add("top")),this.containerElement=document.createElement("div"),this.containerElement.classList.add("fv__ui-layer-inner"),this.element.appendChild(this.containerElement),this.modal&&(this.backdropElement=document.createElement("div"),this.backdropElement.classList.add("fv__ui-layer-modal")),this.backdrop&&this.backdropElement.classList.add("fv__ui-layer-backdrop")},t.prototype.mounted=function(){var t=this;if(e.prototype.mounted.call(this),this.backdrop){var n=this.element.parentElement;if(n){var o=getComputedStyle(n).position;""!==o&&"static"!==o||(n.style.cssText+="position: relative")}}this.isVisible&&(this.isVisible=!1,this.show()),this.focus&&this.addDestroyHook(this.getPDFUI().addKeyboardShortcutEventListener(i.KEY_MAP_EXIT_LAYER,(function(e){t.hide()}),i.MODAL_LAYER_BINDER))},t.prototype.getContainerElement=function(){return this.containerElement},t.prototype.show=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.appendTo;if(!this.isVisible&&!this.isDestroyed){if(this.$hasBeenLocalized||(this.localize(),this.$hasBeenLocalized=!0),t)t.appendChild(this.element);else{var n=this.getRoot();"function"==typeof this.removeTemporary&&this.removeTemporary(),this.removeTemporary=n.appendTemporaryComponent(this)}e.prototype.show.call(this)}},t.prototype.open=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.appendTo;this.show(e)},t.prototype.close=function(){this.isDestroyed||(this.trigger("beforeClose"),this.hide(),this.trigger(i.COMPONENT_EVENTS.CLOSED),e.prototype.destroy.call(this))},t.prototype.doShown=function(){this.showBackdrop(),e.prototype.doShown.call(this),this.doSwitchKeyboardEventBinder()},t.prototype.doSwitchKeyboardEventBinder=function(){var e=this;this.focus&&this.pdfUI.getPDFViewer().then((function(t){var n=t.switchKeyboardEventBinder(i.MODAL_LAYER_BINDER);return e.unSwitchBinder=function(){n(),e.unSwitchBinder=a.default}}))},t.prototype.showBackdrop=function(){this.backdropElement&&this.element.parentElement&&this.element.parentElement.insertBefore(this.backdropElement,this.element)},t.prototype.doDestroy=function(){var t=this.element.querySelectorAll("[id]");e.prototype.doDestroy.call(this),this.element.remove(),this.backdropElement&&this.backdropElement.remove(),this.unSwitchBinder(),t.forEach((function(e){window[e.id]===e&&delete window[e.id]}))},t.prototype.doHidden=function(){e.prototype.doHidden.call(this),this.removeTemporary(),this.removeTemporary=a.default,this.element.remove(),this.backdropElement&&this.backdropElement.remove(),this.unSwitchBinder()},t.prototype.rerenderChildren=function(){if(!this.isDestroyed){var e=this.$container.children(),t=e.filter((function(e){return e instanceof r.default})),n=e.filter((function(e){return!(e instanceof r.default)})),o=function(e,t){return e.concat(t.getRenderingElements())},i=this.$temporaries.children().reduce(o,[]),a=t.reduce(o,[]),s=n.reduce(o,[]);this.diffRenderer(this.getContainerElement(),s.concat(i)),this.diffRenderer(this.element,a.concat(this.getContainerElement()))}},t}(o.default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t,this.y=n}return e.prototype.dot=function(e){return this.x*e.x+this.y*e.y},e.prototype.mult=function(t){return new e(this.x*t,this.y*t)},e.prototype.add=function(t){return new e(this.x+t.x,this.y+t.y)},e.prototype.negate=function(){return new e(-this.x,-this.y)},e.prototype.substract=function(t){return new e(this.x-t.x,this.y-t.y)},e.prototype.normalize=function(){var t=this.length();return 0===t?new e(0,0):new e(this.x/t,this.y/t)},e.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},e.prototype.perp=function(){return new e(this.y,-this.x)},e.prototype.segment=function(t){return{from:this,to:t,dir:new e(t.x-this.x,t.y-this.y)}},e.prototype.rotate=function(t){var n=Math.sin(t),o=Math.cos(t);return new e(this.x*o+this.y*n,-this.x*n+this.y*o)},e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(3)),r=a(n(9)),i=a(n(10));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=Promise.resolve(),f=r.default.getLogger("ZoomInOrOut"),p=function(e){function t(){s(this,t);for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];var i=c(this,e.call.apply(e,[this].concat(o)));return i.lastOperation=l,i}return u(t,e),t.getName=function(){return"ZoomInAndOutController"},t.prototype.postlink=function(){var e=this,t=this.getPDFUI(),n=t.customScalingValues;this.addDestroyHook(t.addViewerEventListener(i.default.zoomToSuccess,(function(t){if("string"!=typeof t)switch(e.component.action){case"zoomin":t>=Math.max.apply(Math,n)?e.component.disable():e.component.enable();break;case"zoomout":t<=Math.min.apply(Math,n)?e.component.disable():e.component.enable();break;default:e.component.enable()}})))},t.prototype.handle=function(){var e=this,t=this.getPDFUI(),n=t.customScalingValues,o=n.length-1,r=this.shouldZoomIndex;if(!r){var i=void 0;return t.getPDFViewerRender().then((function(e){return e.getScaleRatio()})).then((function(t){var r=e.findClosingNumber(n,t),i=n.indexOf(r);switch(e.component.action){case"zoomin":if(o<=i)return-1;i++;break;case"zoomout":if(i<=0)return-1;i--;break;default:return-1}return Math.max(0,Math.min(n.length-1,i))})).then((function(e){return-1===e?e:(i=e,t.zoomTo(n[e]))})).then((function(n){if(-1===n)return n;var o=e.shouldZoomIndex;return i!==o&&o?(e.shouldZoomIndex=null,t.zoomTo(o)):void 0})).catch((function(e){f.warn(e)}))}switch(this.component.action){case"zoomin":if(++r>o)return void(this.shouldZoomIndex=o);break;case"zoomout":if(--r<0)return void(this.shouldZoomIndex=0);break;default:return}this.shouldZoomIndex=Math.max(0,Math.min(n.length-1,r))},t.prototype.findClosingNumber=function(e,t){return e.reduce((function(e,n){return Math.abs(t-n)<Math.abs(t-e)?n:e}),e[0])},t}(o.default);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(3));function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=r(n(9)).default.getLogger("ZoomActionController"),u=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.getName=function(){return"ZoomActionController"},t.prototype.handle=function(){var e=this.component.action;return isNaN(+e)?this.getPDFUI().zoomTo(e).catch((function(e){c.warn(e)})):this.getPDFUI().zoomTo(+e).catch((function(e){c.warn(e)}))},t}(o.default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=c(n(519)),r=n(7),i=c(n(1)),a=n(141),s=(n(14),c(n(1343)));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.isEnd=!0,o}return u(t,e),t.getStateName=function(){return"createPerimeter"},t.prototype.createInteractionTool=function(e){return new s.default(this.pdfViewer,e)},t.prototype.createAnnotJson=function(e){var t=this.pdfViewer.store.getCurrentValue("measurementInfo");return e.intent=r.Intents.POLYLINE_DIMENSION,e.startStyle=r.LineEndingStyle.OpenArrow,e.endStyle=r.LineEndingStyle.OpenArrow,e.enableCaption=!0,e.measure={unit:t[a.FIELD_REAL_UNIT].name,ratio:{userSpaceValue:t[a.FIELD_USER_SPACE_SCALE],userSpaceUnit:t[a.FIELD_USER_SPACE_UNIT].name,realValue:t[a.FIELD_REAL_SCALE],realUnit:t[a.FIELD_REAL_UNIT].name}},e},t.prototype.pageHandler=function(t){var n=this;e.prototype.pageHandler.call(this,t);var o=void 0;this.contextmenu=this.pdfViewer.viewerUI.createContextMenu(r.CREATING_MEASUREMENT_CONTEXTMENU,t.$handler.get(0),{selector:".fv__pdf-page-handler-container",items:{complete:{name:this.pdfViewer.i18n.t("viewer_:contextmenu.measurement.complete"),callback:function(){n.interaction.unlock(),n.interaction.emit("end",o)}},cancel:{name:this.pdfViewer.i18n.t("viewer_:contextmenu.measurement.cancel"),callback:function(){n.interaction.unlock(),n.interaction.emit("cancel")}}}}),this.contextmenu.disable(),this.completeMenuItem=this.contextmenu.contextMenuComponent.getComponentByName("fv--contextmenu-item-complete-measurement"),this.completeMenuItem.disable(),this.creatingContextmenu=this.contextmenu,this.interaction.on("start",(function(){n.isEnd=!1,n.contextmenu.enable(),n.completeMenuItem.disable()})),this.interaction.on("end",(function(){})),this.interaction.on("cancel",(function(){n.contextmenu.disable()})),this.interaction.on("move",(function(e){o=e})),this.contextmenu.onHidden((function(){n.interaction.unlock()})),this.contextmenu.onShown((function(){n.interaction.lock(),n.fakeAnnotation.getVertexes().length>=2?n.completeMenuItem.enable():n.completeMenuItem.disable()}))},t.prototype.start=function(t,n){var o=e.prototype.start.call(this,t,n);return this.pdfViewer.eventEmitter.emit(i.default.distanceAnnotCreationStart,o),o},t.prototype.adjust=function(e,t){e.setLastPoint(t.deviceX,t.deviceY),this.pdfViewer.eventEmitter.emit(i.default.updateDistanceAnnot,e);var n=this.pdfViewer.getStore().getCurrentValue("measurementData");e.setContent(Math.round(100*n.perimeter)/100+" "+n.displayUnit.name),e.draw()},t.prototype.canBeCompleted=function(e){if(!e)return!1;var t=e.getVertexes();if(0==t.length)return!1;var n=e.getLastPoint();return!(1==t.length&&n&&Math.abs(t[0].x-n.x)<Number.EPSILON&&Math.abs(t[0].y-n.y)<Number.EPSILON)},t.prototype.end=function(t,n){this.fakeAnnotation&&(this.isEnd=!0,this.contextmenu.disable(),this.pdfViewer.eventEmitter.emit(i.default.distanceAnnotCreationEnd,this.fakeAnnotation),e.prototype.end.call(this,t,n))},t.prototype.cancel=function(){this.fakeAnnotation&&(this.pdfViewer.eventEmitter.emit(i.default.distanceAnnotCreationCancel,this.fakeAnnotation),e.prototype.cancel.call(this),this.creatingContextmenu&&this.creatingContextmenu.disable())},t.prototype.destroyPageHandler=function(){this.isEnd||this.cancel(),e.prototype.destroyPageHandler.call(this)},t}(o.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(26)),r=i(n(582));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=function(e){function t(){return a(this,t),s(this,e.apply(this,arguments))}return c(t,e),t.services=function(){return{snapService:r.default}},t.prototype.postlink=function(){var t=this;e.prototype.postlink.call(this),this.addDestroyHook(this.snapService.onSnapModeChange((function(e){e.indexOf(t.snapMode)>-1?t.active():t.deactive()})),this.snapService.onSupportedStateChange((function(e){if(e){t.show();var n=t.getClosestComponentByType("paddle");n&&n.updatePaddleState&&n.forward()}else t.hide()})))},t.prototype.toggleSnapMode=function(){this.snapService.toggleSnapMode(this.snapMode)},t}(o.default.createSuperClass({template:'<xbutton @tooltip @on.click="$component.toggleSnapMode()">'}));t.default=u},function(e,t,n){"use strict";n.r(t);var o,r=n(351),i=n(352),a=n(353),s=n(354),c=n(49),u=n(96),l=n(355),f=n(48),p=n(13),d=n.n(p),h=n(104),g=n(28),m=n(5),v=n(55),y=n(76),b=n(356),w=(n(585),o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),_=function(e){function t(t){var n=e.call(this)||this;return n.pdfui=t,n.previewers=[],n.currentPreviewerStore=new g.Store,n.previewerCacheStore=new g.Store,n.previewersCache={},n}return w(t,e),t.scope=function(){return c.ServiceScope.SINGLETON},t.services=function(){return{nodeService:f.default,dataService:u.PortfolioNodeDataService,portfolioService:v.PortfolioService}},t.prototype.serviceInjected=function(){var e=this;this.addDestroyHook(this.nodeService.onActiveNode((function(t){t&&e.getPreviewer(t).then((function(n){e.lastPreviewerBundle=e.getCurrentPreviewerBundle(),e.currentPreviewerStore.dispatch("change",{previewer:n,nodeData:t})}))})),this.portfolioService.onDocumentTypeSwitch((function(t){t===v.DOCUMENT_TYPE.PORTFOLIO&&e.preparePreviewers()}))),this.addDestroyHook(this.pdfui.addViewerEventListener(m.Events.willCloseDocument,(function(){e.previewersCache={},e.currentPreviewerStore.dispatch("change",void 0)})))},t.prototype.onPreviewerChange=function(e){var t=this;return this.currentPreviewerStore.subscribe("change",(function(n){n?e(n.previewer,n.nodeData,t.lastPreviewerBundle?t.lastPreviewerBundle.previewer:void 0):e()}))},t.prototype.onGetPreviewer=function(e){var t=this;return this.previewerCacheStore.subscribe("change",(function(){e(t.previewersCache)}))},t.prototype.getUnsupportedPreviewer=function(){var e=this;return this.preparePreviewers().then((function(){return e.unsupportedPreviewer}))},t.prototype.getPreviewerByType=function(e){return this.preparePreviewers().then((function(t){return t.reduce((function(t,n){return t.then((function(t){return t||(n instanceof e?n:void 0)}))}),Promise.resolve(void 0))}))},t.prototype.getCurrentPreviewerBundle=function(){return this.currentPreviewerStore.getCurrentValue("change")},t.prototype.preparePreviewers=function(){var e=this;return this.preparePreviewerPromise||(this.preparePreviewerPromise=this.pdfui.getPDFViewer().then((function(t){e.unsupportedPreviewer=new a.UnsupportedPreviewer(t);var n=Object(y.resolvePath)(t.libPath,"embed/index.html"),o=new b.default(t,n);return e.previewers.push(o,new s.default(t),new r.default(t),new i.default(t),new l.default),e.previewers}))),this.preparePreviewerPromise},t.prototype.getPreviewer=function(e){var t=this;if(e.type===h.PortfolioNodeType.folder)return Promise.resolve(this.unsupportedPreviewer);if(this.previewersCache[e.handle])return this.previewersCache[e.handle];var n=this.preparePreviewers().then((function(n){return t.dataService.getFileBlob(e.handle).then((function(o){return t.findPreviewer(n,o,e.fileName)}))})).then((function(e){return e||t.unsupportedPreviewer}));return this.previewersCache[e.handle]=n,this.previewerCacheStore.dispatch("change",this.previewersCache),n},t.prototype.findPreviewer=function(e,t,n){return e.reduce((function(e,o){return e.then((function(e){return e||o.accept(t,n).then((function(e){return e?o:void 0}))}))}),Promise.resolve(void 0))},t}(d.a);t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(66),i=(o=r)&&o.__esModule?o:{default:o},a=n(76);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(){return s(this,t),c(this,e.apply(this,arguments))}return u(t,e),t.prototype.construct=function(e,t){var n=t.viewerOptions,o=n?n.libPath:void 0;if(o)if((0,a.isUrl)(o))o=o;else{var r=location.pathname.replace(/[^\/\\]+\.[^\/\\]+$/,"");o=location.protocol+"//"+location.host+(0,a.resolvePath)(r,o)}else o=(0,a.getCurrentPath)();return"/"!==o[o.length-1]&&(o+="/"),e.libPath=o},t.prototype.link=function(){return this.pdfUI.libPath},t}(i.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=f(n(66)),i=f(n(187)),a=f(n(1683)),s=f(n(186)),c=f(n(230)),u=f(n(10)),l=n(8);function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var d=function(e){function t(n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r));return i.tpmLoader=new a.default,i.loadAddonPromisesCache={},i}return p(t,e),t.depends=function(){return[i.default,s.default,c.default]},t.prototype.link=function(e,t,n){var r=e.i18n,i=this,a=t.fragments,s=t.appearance,c=this.$options.addons,u=void 0===c?"undefined":o(c),f=void 0;return"function"===u&&c.isLazyLoadInitializer&&(c=c(window.UIExtension)),f="string"==u?this.tpmLoader.loadScript(c).then((function(e){return Promise.all(window.UIXAddons.map((function(e){return i.tpmLoader.loadModule(e,n)})))})):Promise.all(c.map((function(e){return i.tpmLoader.loadModule(e,n)}))),this.addDestroyHook((function(){i.pdfUI.UIXAddonsPromise=null})),this.pdfUI.getStore().then((function(e){e.subscribe(l.LOAD_ADDON_DYNAMIC_DISPATCHER,(function(t){t.filter((function(e){return!e.processed})).forEach((function(t){var o=t.callbackDispatcherName,c=t.addonClassOrURL,u=t.isMerged,l=t.globalVariableName,f=void 0===l?"UIXAddons":l;t.processed=!0;(u?i.tpmLoader.loadScript(c).then((function(){var e=window[f];if(!Array.isArray(e))throw new Error("Incorrect global variable name of merged addons, url: "+c+", globalVariableName: "+f);return Promise.all(e.map((function(e){return i.tpmLoader.loadModule(e,n)})))})):Promise.all([i.tpmLoader.loadModule(c)])).then((function(t){i.pdfUI.UIXAddonsPromise=i.pdfUI.UIXAddonsPromise.then((function(n){return Promise.all(t.map((function(e){return i.loadDepsAndInitialize(e,r,s,a)}))).then((function(t){e.dispatch(o,t);var r=t.filter((function(e){return-1===n.indexOf(e)}));return n.concat(r)}))}))}))}))}))})),this.pdfUI.UIXAddonsPromise=f.then((function(e){return Promise.all(e.map((function(e){return i.loadDepsAndInitialize(e,r,s,a)})))}))},t.prototype.loadDepsAndInitialize=function(e,t,n,o){var r=this,i=this.pdfUI,a=this.loadAddonPromisesCache;return function e(r){var s=r.getName();if(a[s])return a[s];var c=r.depends,u=void 0;return u=c&&c.length>0?Promise.all(c.map((function(t){return e(t)}))):Promise.resolve(),a[s]=u.then((function(){return function(e){var r=new e;r.init(i,i.pdfViewer),n.processAddon(r);var a=r.getI18NResources();for(var s in a)t.addResourceBundle(s,e.getI18NNamespace(),a[s],!0,!0);return o.push.apply(o,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(r.fragments())),r}(r)}))}(e).then((function(e){return r.addDestroyHook((function(){e.destroy()})),i.eventEmitter.emit(u.default.addonLoaded,e),e}))},t}(r.default);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n(820),n(821);var i=xe(n(4)),a=xe(n(822)),s=xe(n(885)),c=xe(n(21)),u=xe(n(887)),l=n(52),f=(xe(n(428)),xe(n(1))),p=xe(n(61)),d=n(76),h=xe(n(888)),g=xe(n(889)),m=xe(n(967)),v=xe(n(980)),y=xe(n(1016)),b=xe(n(1017)),w=xe(n(460)),_=xe(n(1022)),P=xe(n(1024)),O=xe(n(462)),E=xe(n(144)),x=xe(n(1025)),C=xe(n(1027)),A=n(12),S=n(7),D=xe(n(301)),T=n(28),I=xe(n(1034)),R=n(42),M=xe(n(218)),j=xe(n(32)),k=xe(n(82)),N=xe(n(158)),F=xe(n(1035)),L=xe(n(58)),V=xe(n(1036)),B=xe(n(1037)),U=xe(n(65)),H=xe(n(1038)),$=xe(n(1039)),W=n(204),q=xe(n(1040)),z=xe(n(1074)),G=xe(n(1077)),Y=(xe(n(465)),n(85)),K=xe(n(209)),X=xe(n(13)),J=xe(n(300)),Z=n(34),Q=xe(n(9)),ee=(n(109),xe(n(155))),te=xe(n(116)),ne=n(14),oe=n(24),re=xe(n(1749)),ie=xe(n(1079)),ae=xe(n(1080)),se=xe(n(1081)),ce=xe(n(1082)),ue=xe(n(1083)),le=xe(n(1084)),fe=xe(n(1085)),pe=xe(n(1086)),de=xe(n(1087)),he=n(1088),ge=xe(n(1089)),me=xe(n(470)),ve=(xe(n(166)),xe(n(1090))),ye=n(77),be=n(1091),we=n(1092),_e=n(8),Pe=n(448),Oe=xe(n(180)),Ee=xe(n(343));function xe(e){return e&&e.__esModule?e:{default:e}}function Ce(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function Ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Se(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function De(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var Te=function(){},Ie=function(){return-1},Re=void 0,Me="JR",je="canvas",ke={annotRenderingMode:{highlight:je,caret:je,squiggly:je,underline:je,strikeout:je,choiceButton:je,pushButton:je,radioButton:je,textField:je,comboBox:je,note:je,fileAttachment:je,sound:je,freetext:je,redact:je},highPerformance:!1,enableSignature:!1},Ne=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=(n.preloadJR,n.preloadSR,n.libPath),i=n.jr,a=n.sr,u=n.i18n,l=n.i18nOptions,A=n.eventEmitter,S=void 0===A?new p.default:A,I=n.minScale,j=void 0===I?.01:I,k=n.maxScale,N=void 0===k?10:k,L=n.defaultScale,q=void 0===L?"fitWidth":L,z=n.scaleFrequency,G=void 0===z?0:z,Y=n.tileSize,X=void 0===Y?1200:Y,J=n.getTileSize,Z=void 0===J?null:J,Q=n.StateHandlers,ee=void 0===Q?[]:Q,te=n.customs,ne=void 0===te?{}:te,oe=n.keymap,re=void 0===oe?{}:oe,ie=n.Viewmodes,ae=void 0===ie?[]:ie,se=n.enableJS,ce=n.enableSafeMode,ue=n.stateHandlerConfig,le=n.watermarkConfig,fe=n.actionOptions,pe=void 0===fe?{}:fe,de=n.defaultViewMode,he=void 0===de?"continuous-view-mode":de,ge=n.snapshotServer,me=void 0===ge?new O.default({uploadSnapshotAPIPath:"snapshot/upload"}):ge,ve=n.collaboration,ye=void 0===ve?{enable:!1,communicator:null,handlerClasses:[],continueToConnect:function(e,t){return e<15}}:ve,be=n.highPerformance,we=void 0!==be&&be,_e=n.annotRenderingMode,Pe=n.defaultKeyboardEventBinder,Oe=void 0===Pe?R.VIEWER_BINDER:Pe,Ee=n.defaultAnnotConfig,xe=n.enableSignature,Ce=n.enableShortcutKey,De=void 0===Ce||Ce,Re=n.engineMode,je=void 0===Re?Me:Re,Ne=n.sharedWorker,Fe=void 0!==Ne&&Ne,Le=n.noJSFrame,Ve=void 0!==Le&&Le,Be=n.showCommentList,Ue=void 0!==Be&&Be,He=n.showAnnotTooltip,$e=void 0!==He&&He,We=n.showFormFieldTooltip,qe=void 0!==We&&We,ze=n.viewerUI;Ae(this,t);var Ge=Se(this,e.call(this));Ge.$constructorOptions=arguments[0],-1!==(o=o?(0,d.isUrl)(o)?o:(0,d.urlJoin)(location.href,o):(0,d.getCurrentPath)()).indexOf("?")&&(o=o.replace(/\?.*$/,"")),-1!==o.indexOf("#")&&(o=o.replace(/#.*$/,"")),"/"!==o[o.length-1]&&(o+="/"),Ge.libPath=o;var Ye=10,Ke="jr-engine/gsdk";(i=i||{}).licenseKey=i.licenseKey||"",i.licenseSN=i.licenseSN||"",i.l=i.l||"";var Xe=i.workerPath||"";Xe?(0,d.isUrl)(Xe)||(Xe=(0,d.urlJoin)(o,Xe)):Xe=o;var Je=i.enginePath;i.workerPath=Xe,i.enginePath=Je,i.enginePath=i.enginePath||Ke,Je?(0,d.isUrl)(Je)||(Je=(0,d.urlJoin)(o,Je)):Je=o+Ke,i.enginePath=Je;var Ze="../external/brotli",Qe=i.fontPath;Qe?(0,d.isUrl)(Qe)||(Qe=(0,d.urlJoin)(o,Qe)):Qe=(0,d.urlJoin)(o,Ze),i.brotli=Object.assign({core:!0},i.brotli),i.fontPath=Qe,Ge.snapshotServer=me;var et=(a=a||{}).workerPath||"";et=et?(0,d.isUrl)(et)?Xe:(0,d.urlJoin)(o,et):o,a.workerPath=et;var tt=(l=(0,E.default)({initOption:{ns:"viewer_"}},l)).path;tt=tt?(0,d.isUrl)(tt)?tt:(0,d.urlJoin)(o,tt):o+"locales",l.absolutePath=l.absolutePath||tt,Ge.i18n=u||(0,s.default)(l),je=je.toUpperCase(),-1===[Me,"SR","MIX"].indexOf(je)&&(je=Me);var nt={},ot=!0;"undefined"==typeof WebAssembly||r(WebAssembly);switch(je){case"SR":_e||(nt=ke.annotRenderingMode),"undefined"!==(void 0===we?"undefined":r(we))&&we,ot="undefined"!==(void 0===xe?"undefined":r(xe))&&xe,document.body.classList.add("fv__viewer-sr__"),Ge.pdfEngine=Ge.getWebPDFSR();break;case"MIX":document.body.classList.add("fv__viewer-sr__"),Ge.pdfEngine=Ge.getWebPDFSR(),Ge.mixPdfJREngine=Ge.getWebPDFJR();break;case Me:default:Ge.pdfEngine=Ge.getWebPDFJR()}Ge.customs=Object.assign({closeDocBefore:Te,closeDocAfter:Te,getDocPermissions:Ie,beforeRenderPDFDoc:Te},ne);var rt=Ge;Ge.actionOptions=Object.assign({remoteGotoActionInit:function(){var e=window.opener;if(e){var t=function(e){if(e.source!==window){var t=e.data,n=t.foxitSdkActionType,o=t.foxitSdkActionUrl,r=t.foxitSdkActionFileName,i=t.top,a=(t.bottom,t.left),s=(t.right,t.pageIndex),c=t.zoomFactor,u=t.zoomMode;"TypeGoToR"===n&&rt.openPDFByHttpRangeRequest({range:{url:o}},{fileName:r}).then((function(){S.once(f.default.renderPageSuccess,(function(){switch(u){case"ZoomXYZ":var e=c;0===e?rt.goToPage(s,i,a,0!==i):rt.zoomTo(e,!1).then((function(){rt.goToPage(s,i,a,0!==i)}));break;case"ZoomFitHorz":rt.zoomTo("fitWidth",!1).then((function(){rt.goToPage(s,i,a,0!==i)}));break;case"ZoomFitPage":rt.zoomTo("fitHeight",!1).then((function(){rt.goToPage(s,i,a,0!==i)}))}}))}))}};e.postMessage({isReady:!0},window.location.origin),window.addEventListener("message",t,!1),rt.addDestroyHook((function(){window.removeEventListener("message",t,!1)}))}}},pe),Ge.keyboard=new w.default(Ge);var it=(0,_.default)();if(it.forEach((function(e){var t=e.binder;e.active;Ge.keyboard.addEventBinder(t)})),"string"==typeof Oe&&!(Oe=Ge.keyboard.getBinder(Oe)))throw new Error("Incorrect default keyboard event binder name: "+Oe+", it should should be one of these: "+it.map((function(e){return e.name})));it.forEach((function(e){var t=e.binder,n=e.deps;e.depToDefault&&t.attach(Oe),n&&n.map((function(e){return Ge.keyboard.getBinder(e)})).forEach((function(e){return t.attach(e)}))}));var at=new M.default(document.body,R.CUSTOM_BINDER,0);Ge.keyboard.addEventBinder(at);var st=Object.assign({},re);for(var ct in P.default){var ut=P.default[ct],lt=ut.shortcut,ft=ut.bindTo;ct in st&&("object"===(void 0===(lt=st[ct])?"undefined":r(lt))&&lt.binderName&&(ft=(lt=lt.shortcut).binderName),delete st[ct]),Ge.keyboard.registerKeybinding(ft,ct,lt)}for(var pt in"string"==typeof Oe?Ge.keyboard.setDefaultBinderName(Oe):Oe instanceof M.default&&Ge.keyboard.setDefaultBinderName(Oe.name),st)Ge.keyboard.registerKeybinding(Ge.keyboard.defaultBinderName,pt,st[pt]);Ge.keyboard.activeDefaultBinder();for(var dt=Ge.viewModeManager=new h.default(Ge),ht=0,gt=ae.length;ht<gt;ht++)dt.register(ae[ht]);Ge.defaultAnnotConfig=Ee||Te,ce=void 0===ce||ce,Ge.config={sr:a,jr:i,minScale:j,maxScale:N,defaultScale:q,tileSize:X,getTileSize:Z,enableJS:se,enableSafeMode:ce,defaultViewMode:he,stateHandlerConfig:ue,watermarkConfig:le,scaleFrequency:G,highPerformance:!1,annotRenderingMode:Object.assign({highlight:"canvas",choiceButton:"native",pushButton:"native",textField:"native",comboBox:"native",note:"native",fileAttachment:"native",sound:"native",freetext:"native"},nt,_e),enableSignature:ot,sizeCount:Ye,enableShortcutKey:De,engineMode:je,sharedWorker:Fe,noJSFrame:Ve,printSetting:{quality:100,showHeaderFooter:!0},autoCompleteSetting:{level:"off",rememberNumericalData:!0},showCommentList:Ue,showAnnotTooltip:$e,showFormFieldTooltip:qe},Ge.eventEmitter=S,Ge.store=new T.Store,Ge.mementoManager=new C.default(Ge);var mt=Ge.annotManager=new g.default(Ge);"SR"===je&&mt.setViewerAnnotFlag((function(e){var t=e.getType();return-1===["text","caret","freetext","fileattachment","highlight","ink","line","circle","square","polygon","polyline","squiggly","strikeout","underline","widget","redact","stamp"].indexOf(t)?K.default.locked|K.default.readOnly:0})),Ge.actionManager=new m.default(Ge),Ge.JSEngine=new v.default(Ge),Ge.inkSignManager=new b.default(Ge),Ge.viewerUI=ze||new D.default;var vt=Ge.stateHandlerManager=new y.default(Ge);Ge.viewerUI.prepare(Ge),Ge.customRenderManager=new x.default(Ge);for(var yt=0,bt=ee.length;yt<bt;yt++)vt.register(ee[yt]);return Ge.annotsEventMaps=[],Ge._annotMouseEventCallback=Ge._annotMouseEventCallback.bind(Ge),Ge._runtimeColor=["RGB",.55,.55,1],Ge._runtimeColorOpacity=.5,Ge._runtimeColorRequired=["RGB",.55,.55,1],Ge._runtimeColorOpacityRequired=1,Ge._highlightControls=!0,Ge._highlightControlsUI=!0,Ge.lifeCycleManager=new F.default,Ge.lifeCycleManager.registerLifecycle(new $.default),Ge.lifeCycleManager.registerLifecycle(new V.default(Ge)),Ge.lifeCycleManager.registerLifecycle(new B.default(Ge)),Ge.lifeCycleManager.registerResourceGenerator(U.default.OBJECT_URL,H.default),Ge.activationManager=new W.ActivationManager,Ge.collaborationOptions=ye,Ge._collaborationDefer=(0,c.default)(),Ge}return De(t,e),t.prototype.resourceGenerator=function(e,t){return this.lifeCycleManager.generator(e,t)},t.prototype.getDefaultAnnotConfig=function(){return(this.webPDFJR||this.webPDFSR).getDefaultAnnotConfig()||Te},t.prototype.setDefaultAnnotConfig=function(e){(this.webPDFJR||this.webPDFSR).setDefaultAnnotConfig(e)},t.prototype._annotMouseEventCallback=function(e){this.annotsEventMaps.map((function(t){t&&t(e)}))},t.prototype.startListenAnnotMouseEvent=function(){this.cleanListenAnnotMouseEvent(),document.addEventListener("mouseup",this._annotMouseEventCallback,{capture:!0})},t.prototype.stopListenAnnotMouseEvent=function(){this.cleanListenAnnotMouseEvent(),document.removeEventListener("mouseup",this._annotMouseEventCallback,{capture:!0})},t.prototype.addListenAnnotMouseEvent=function(e){this.annotsEventMaps.push(e)},t.prototype.cleanListenAnnotMouseEvent=function(){this.annotsEventMaps=[]},t.prototype.changeLanguage=function(e){var t=this;return new Promise((function(n,o){t.i18n.changeLanguage(e,(function(e){e?o(e):n()}))}))},t.prototype.takeSnapshot=function(e,t,n,o,r){var i=this.getPDFPageRender(e);if(!i)throw new Error("page not found: "+e);return i.getSnapshot(t,n,o,r)},t.prototype.uploadImage=function(e){var t=this;return this.snapshotServer.uploadImage(e).catch((function(e){return console.warn(t.i18n.t("viewer_:error.snapshotServer")),Promise.reject(e)}))},t.prototype.copySnapshot=function(e){var t=document.createElement("img");t.src=e;var n=document.createElement("div");if(n.appendChild(t),n.classList.add("fv__ui-canvas-mirror"),document.body.appendChild(n),document.body.createControlRange){var o=document.body.createControlRange();o.addElement(t),o.execCommand("copy"),document.body.removeChild(n)}else{var r=window.getSelection();r.removeAllRanges();var i=document.createRange();i.selectNodeContents(n),r.addRange(i);try{document.execCommand("copy",!1,null)}catch(e){}document.body.removeChild(n)}},t.prototype.getKeyboardEventBinder=function(e){var t=this.keyboard.getBinder(e);if(!t)throw new Error("event binder not found error: "+e);return t},t.prototype.switchKeyboardEventBinder=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.keyboard.activeBinder(e,t)},t.prototype.addKeyboardShortcutEventListener=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.getDefaultKeyboardEventBinder(),o=void 0;return(o=n instanceof M.default?n:this.keyboard.getBinder(n))?o.on(e,t):Te},t.prototype.addEventListener=function(e,t){var n=this;return this.eventEmitter.on(e,t),function(){n.eventEmitter.off(e,t)}},t.prototype.getDefaultKeyboardEventBinder=function(){return this.keyboard.getDefaultKeyboardEventBinder()},t.prototype.getWebPDFJR=function(){var e=this;if(this.webPDFJRPromise)return this.webPDFJRPromise;var t=(0,c.default)();return Promise.resolve().then(n.t.bind(null,478,7)).then((function(n){var o=new(n.default(q.default))(e.config.jr,e.eventEmitter);e.webPDFJR=o;var r="viewer_:error.initEngine.c2";return o.setDefaultAnnotConfig(e.defaultAnnotConfig),o.init().then((function(n){var i=n.other,a={"viewer  component":{version:I.default},"core component":{version:n.version},JR:{version:!0}};if(!i)return console.table&&console.table(a),e.eventEmitter.emit(f.default.jrLicenseSuccess),e.getModuleLicenseRight(),t.resolve(o);var s=location.href,c=!0;if(i.h){c=!1;for(var u=i.h,l=u.length;l--;){var p=u[l];if(new RegExp(p).test(s)){c=!0;break}}}if(!c)return e.viewerUI.alert(r),void t.reject(new Error("failed to initialize WebPDF JR Engine"));var d=Date.now(),h=i.b;if(h&&!(c=d>h))return e.viewerUI.alert(r),void t.reject(new Error("failed to initialize WebPDF JR Engine"));var g=i.e;return g&&!(c=d<g)?(e.viewerUI.alert(r),void t.reject(new Error("failed to initialize WebPDF JR Engine"))):c?(console.table&&console.table(a),e.eventEmitter.emit(f.default.jrLicenseSuccess),t.resolve(o)):(e.viewerUI.alert(r),void t.reject(new Error("failed to initialize WebPDF JR Engine")))}),(function(n){e.viewerUI.alert(e.i18n.t("viewer_:error.initEngine.c"+n||!1)),t.reject(n)})),o})),this.webPDFJRPromise=t.promise},t.prototype.getWebPDFSR=function(){var e=this;return this.webPDFSRPromise?this.webPDFSRPromise:this.webPDFSRPromise=Promise.resolve().then(n.t.bind(null,480,7)).then((function(t){var n=new(t.default(q.default))(e.config.sr,e.eventEmitter);return e.webPDFSR=n,n.setDefaultAnnotConfig(e.defaultAnnotConfig),n.init().then((function(){var t={"viewer  component":{version:I.default},SR:{version:!0}};console.table&&console.table(t),e.isWebPDFSR=!0,e.scaleFrequency=4,e.config.scaleFrequency=4,e.eventEmitter.emit(f.default.srLicenseSuccess)}),(function(t){alert(e.i18n.t(["viewer_:error.initEngine.c1","viewer_:error.initEngine.c2"][t-1]||"viewer_:error.c-1"))})),n}))},t.prototype.initAnnotationIcons=function(e){var t=arguments,n=this;return this.pdfEngine.then((function(t){return t.setIcons(e)})).then((function(o){return!t[1]&&n.eventEmitter.emit(f.default.iconInited,e)}))},t.prototype.addAnnotationIcon=function(e){var t=this;if(["url","name","annotType","category","fileType"].forEach((function(t){if(!e[t])throw new Error("Icon property lost: "+t)})),0==["png","bmp","jpg","jpeg","pdf"].filter((function(t){return e.fileType.toLowerCase()==t})).length)throw new Error("The fileType is wrong");return e.fileType=e.fileType.toLowerCase(),this.pdfEngine.then((function(t){return t.addIcon(e)})).then((function(n){return t.eventEmitter.emit(f.default.iconAdded,e)}))},t.prototype.removeAnnotationIcon=function(e,t,n){var o=this;return t||(n=null),this.pdfEngine.then((function(o){return o.removeIcon(e,t,n)})).then((function(r){return o.eventEmitter.emit(f.default.iconRemoved,{type:e,category:t,name:n})}))},t.prototype.init=function(e){var t=this;this.getKeyboardEventBinder(R.VIEWER_BINDER).before(R.KEY_MAP_SELECT_ALL_ANNOTATIONS,(function(e){if(e.nativeEvent&&e.nativeEvent.target){var n=e.nativeEvent.target.tagName.toLowerCase();if("input"===n||"textarea"===n||"string"==typeof e.nativeEvent.target.getAttribute("contenteditable"))return}var o=t.stateHandlerManager.currentStateHandler.getStateName();if(!(o!==oe.STATE_HANDLER_SELECT_ANNOTATION&&Object.keys(oe.StateNameAnnotTypeMap).indexOf(o)<0&&Object.keys(oe.StateNameFieldTypeMap).indexOf(o)<0)){var r=t.getPDFDocRender().getCurrentPageIndex();t.currentPDFDoc.getPageByIndex(r).then((function(e){e.getAnnots().then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(e.length){if(e=e.filter((function(e){return"popup"!==e.getType()&&"R"!==e.info.RT&&!e.info.IRT})),o===oe.STATE_HANDLER_SELECT_ANNOTATION){var n=new W.ActivationGroup,r=[],i=[];e.forEach((function(e){if(!r.find((function(t){return t===e})))if(e.isGrouped&&e.isGrouped()){var o=e.getGroupElements()||[];if(o.length){var a=new W.ActivationGroup;o.forEach((function(e){var n=t.getAnnotRender(e.getPDFPage().getIndex(),e.getId()).component;n&&a.add(n)})),n.add(a),r=[].concat(Ce(r),Ce(o))}}else if("widget"===e.getType())i.push(e);else{var s=t.getAnnotRender(e.getPDFPage().getIndex(),e.getId()).component;s&&n.add(s)}})),i.length?t.eventEmitter.emit("active-widgets-for-multi-select",{widgets:i,activationGroup:n}):(t.bindMultiSelectActiveEvents(n),t.activationManager.active(n),t.getPDFDocRender().setCurrentAnnotHandler())}else if(Object.keys(oe.StateNameAnnotTypeMap).indexOf(o)>=0){var a=new W.ActivationGroup;e.forEach((function(e){if(!(e.getType()!==oe.StateNameAnnotTypeMap[o]||e.isGrouped&&e.isGrouped())){var n=t.getAnnotRender(e.getPDFPage().getIndex(),e.getId()).component;n&&a.add(n)}})),t.bindMultiSelectActiveEvents(a),t.activationManager.active(a),t.getPDFDocRender().setCurrentAnnotHandler()}else if(Object.keys(oe.StateNameFieldTypeMap).indexOf(o)>=0){var s=[];e.forEach((function(e){"widget"===e.getType()&&e.info.fieldType===oe.StateNameFieldTypeMap[o]&&s.push(e)})),s.length&&t.eventEmitter.emit("active-widgets-for-multi-select",{widgets:s,activationGroup:new W.ActivationGroup})}t.eventEmitter.emit(f.default.activeElementChanged)}}))})),e.preventDefault()}})),this.$ui=(0,i.default)(e),this.element=this.eUi=this.$ui.get(0);var n=this.viewModeManager.get(this.config.defaultViewMode);if(this.pdfViewerRender=new a.default(this.$ui,n,this),this.addDestroyHook(this.addEventListener(f.default.renderFileSuccess,(function(e){var o=e.getPageCount();(o<2||o>=500)&&t.viewModeManager.get(ee.default.getName())?t.viewModeManager.switchTo(ee.default.getName()):t.viewModeManager.switchTo(n.getName())}))),this.collaborationOptions){var o=this.collaborationOptions,r=o.enable,s=o.communicator,c=o.handlerClasses;r?this.initCollaboration(s,c):this._collaborationDefer.resolve(null)}var u=void 0;u="function"!=typeof this.customs.getAnnotPermissions?function(){return S.RESOLVED_PROMISE_VOID}:this.customs.getAnnotPermissions,this.annotationAuthorityManager=new me.default(this,u);var l=function(){t.annotationAuthorityManager.clear()};this.eventEmitter.on(f.default.openFileSuccess,l),this.addDestroyHook((function(){t.annotationAuthorityManager.destroy(),t.eventEmitter.off(f.default.openFileSuccess,l)}));var p=void 0,d=function(){clearTimeout(p),p=setTimeout((function(){var e=t.getAllActiveElements();if(t.switchDefaultKeyboardEventBinder&&t.switchDefaultKeyboardEventBinder(),e.length){t.switchDefaultKeyboardEventBinder=t.switchKeyboardEventBinder(R.ACTIVATION_ANNOTATION_BINDER);var n=t.stateHandlerManager.currentStateHandler.getStateName();if(!(n!==oe.STATE_HANDLER_SELECT_ANNOTATION&&n!=oe.STATE_HANDLER_HAND&&Object.keys(oe.StateNameAnnotTypeMap).indexOf(n)<0&&Object.keys(oe.StateNameFieldTypeMap).indexOf(n)<0)){var o=!e.find((function(e){if(!e.annot)return!1;var t=e.annot.getType();return"highlight"===t||"strikeout"===t||"underline"===t||"squiggly"===t||"caret"===t}));e.forEach((function(e){var t=e.shapeControl;t&&t.moveEnable&&t.moveDisable&&(o?t.moveEnable():t.moveDisable())}))}}}),0)};this.eventEmitter.on(f.default.activeElementChanged,d),this.addDestroyHook((function(){return t.eventEmitter.off(f.default.activeElementChanged,d)}))},t.prototype.getCollaboration=function(){return this._collaborationDefer.promise},t.prototype.openFileByShareId=function(e){return this.getCollaboration().then((function(t){return t.openFileByShareId(e)}))},t.prototype.getAnnotAuthorityManager=function(){return this.annotationAuthorityManager},t.prototype.registerCollabDataHandler=function(e,t){if("function"==typeof e){if(!e.prototype.accept||!e.prototype.receive)throw new Error("Illegal collaboration data handler: "+e);this.getCollaboration().then((function(t){t.registerCollabDataHandler(e)}))}throw new Error("Incorrect collaboration data handler!")},t.prototype.collaborate=function(e,t){return this.getCollaboration().then((function(n){if(n){return("function"==typeof t?Promise.resolve(t()):Promise.resolve(t)).then((function(t){return n.send({action:e,data:t})}))}}))},t.prototype.initCollaboration=function(e,t){var n=new re.default(this,e,this.collaborationOptions.continueToConnect);n.registerBuiltInHandler(se.default),n.registerBuiltInHandler(ie.default),n.registerBuiltInHandler(ae.default),n.registerBuiltInHandler(ve.default),n.registerBuiltInHandler(pe.default),n.registerBuiltInHandler(de.default),n.registerBuiltInHandler(he.AddReviewStateCollaborationDataHandler),n.registerBuiltInHandler(be.AddMarkedStateCollabroationDataHandler),n.registerBuiltInHandler(ge.default),n.registerBuiltInHandler(we.ImportAnnotationsFileCollaborationDataHandler),n.registerBuiltInHandler(fe.default),n.registerBuiltInHandler(ce.default),n.registerBuiltInHandler(ue.default),n.registerBuiltInHandler(le.default),Array.isArray(t)&&t.forEach((function(e){n.registerUserHandler(e)})),this.addDestroyHook((function(){n.destroy()})),n.prepare(),this._collaborationDefer.resolve(n)},t.prototype.redraw=function(e){var t=this;if(!this.pdfViewerRender||!this.pdfViewerRender.pdfDocRender)return Promise.resolve(!1);try{var n=this.pdfViewerRender.pdfDocRender.pagesRender;if(!n)return Promise.resolve(!1);var o=[];return e&&n.setRenderFlags(7),n.pageRenders&&n.pageRenders.forEach((function(e){e.page&&o.push(e.renderLayout())})),Promise.all(o).then((function(e){return n.renderVisiblePages()})).finally((function(){t.eventEmitter.emit(f.default.fitWidthResizeViewport)}))}catch(e){return Promise.reject(e)}},t.prototype.redrawContent=function(){if(!this.pdfViewerRender||!this.pdfViewerRender.pdfDocRender)return Promise.resolve(!1);try{var e=this.pdfViewerRender.pdfDocRender.pagesRender;return e.setRenderFlags(2),e.renderVisiblePages()}catch(e){return Promise.reject(e)}},t.prototype.rotateTo=function(e){return(0,Y.assertThat)((0,Y.isValidRotationAngle)(e),"Incorrect rotation degree: "+e+", It should be 0, 90, 180 or 270"),this.pdfViewerRender.rotateTo(e)},t.prototype.getRotation=function(){return this.pdfViewerRender.getRotation()},t.prototype.getScrollWrap=function(){return this.pdfViewerRender.scrollWrap},t.prototype.openPDFByFile=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.pdfEngine,r=Object.assign({},n);return e.name&&!r.fileName&&(r.fileName=e.name),void 0===r.isRenderOnDocLoaded&&(r.isRenderOnDocLoaded=!0),"function"!=typeof r.beforeRenderPDFDoc&&(r.beforeRenderPDFDoc=this.customs.beforeRenderPDFDoc),this.close().then((function(){var n=t.resourceGenerator(L.default.PDF_DOCUMENT_CLOSING,U.default.OBJECT_URL).expose().URL;t.eventEmitter.emit(f.default.beforeOpenFile,n.createObjectURL(new Blob([e],{type:"application/pdf"})));var i=void 0;return i=o?Promise.resolve(o):t.getWebPDFJR(),r.isRenderOnDocLoaded&&t.pdfViewerRender.rendering(),i}),(function(e){return Q.default.getLogger("PDFViewer").warn("An error occurred while opening a pdf file: ",e),Promise.reject({error:-3})})).then((function(n){return t.eventEmitter.emit(f.default.beforeLoadPDFDoc,"memory",e,r,o),n.getPDFDocByFile(e,r)})).then((function(n){return t._reopenPDFDoc(n,r,{type:ye.OPEN_FILE_TYPE.FROM_FILE,fileName:r.fileName,file:e,options:r})}),(function(e){return t.eventEmitter.emit(f.default.openFileFailed,e),Promise.reject(e)})).finally((function(){r.isRenderOnDocLoaded&&t.pdfViewerRender.rendered()}))},t.prototype.openPDFByHttpRangeRequest=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fileName:""},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.pdfEngine,r=Object.assign({},n),i=e.range.url;if(!r.fileName&&i.endsWith(".pdf")){var a=i.lastIndexOf("/"),s=i.substring(a+1);s=decodeURIComponent(s),r.fileName=s}if(void 0===r.isRenderOnDocLoaded&&(r.isRenderOnDocLoaded=!0),"function"!=typeof r.beforeRenderPDFDoc&&(r.beforeRenderPDFDoc=this.customs.beforeRenderPDFDoc),!/^\w+\:\/\/.*/.test(i)){var c=location.pathname.replace(/\/[^\/]+$/,"/");e.range.url=(0,d.resolvePath)(location.protocol+"//"+location.host+c,i)}return this.close().then((function(){t.eventEmitter.emit(f.default.beforeOpenFile,i);var e=void 0;return e=o?Promise.resolve(o):t.getWebPDFJR(),r.isRenderOnDocLoaded&&t.pdfViewerRender.rendering(),e}),(function(e){throw e})).then((function(n){return t.eventEmitter.emit(f.default.beforeLoadPDFDoc,"http",e,r,o),n.getPDFDocByHttpRangeRequest(e,r)})).then((function(n){return t._reopenPDFDoc(n,r,{type:ye.OPEN_FILE_TYPE.FROM_URL,range:e.range,size:e.size,options:r})}),(function(e){throw t.eventEmitter.emit(f.default.openFileFailed,e),e})).finally((function(){r.isRenderOnDocLoaded&&t.pdfViewerRender.rendered()}))},t.prototype.openPDFById=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fileName:""};return void 0===n.isRenderOnDocLoaded&&(n.isRenderOnDocLoaded=!0),this.close().then((function(){t.eventEmitter.emit(f.default.beforeOpenFile);var e;return e=t.getWebPDFSR(),n.isRenderOnDocLoaded&&t.pdfViewerRender.rendering(),e}),(function(e){throw e})).then((function(e){return Promise.all([e,Fe(n)])})).then((function(r){var i=o(r,2),a=i[0],s=i[1];return n.idJWT=s||n.jwt,t.eventEmitter.emit(f.default.beforeLoadPDFDoc,"id",e,n),a.getPDFDocById(e,n)})).then((function(e){return t._reopenPDFDoc(e,n)}),(function(e){return t.eventEmitter.emit(f.default.openFileFailed,e),Promise.reject(e)})).finally((function(){n.isRenderOnDocLoaded&&t.pdfViewerRender.rendered()}))},t.prototype.createNewDoc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"untitled.pdf",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{height:842,width:595},o=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{isRenderOnDocLoaded:!0},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.pdfEngine;return void 0===r.isRenderOnDocLoaded&&(r.isRenderOnDocLoaded=!0),this.close().then((function(){return i?Promise.resolve(i):o.getWebPDFJR()}),(function(e){return e||(e=new Error("An unknown error occurred while closing the current opening document!")),e.error=-3,Promise.reject(e)})).then((function(o){return o.createNewDoc(e,t,n)})).then((function(t){r.password=S.EMPTY_STR,r.fileName=e;var n=[];return t.getStream((function(e){n.push(e)})).then((function(){return o.reopenPDFDoc(t,r,{type:ye.OPEN_FILE_TYPE.FROM_FILE,options:r,file:new Blob(n,{type:"application/pdf"})})}))}))},t.prototype.convertImageToPDFDoc=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"untitled.pdf",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=this,a=(arguments.length>5&&void 0!==arguments[5]||this.pdfEngine,[]),s=null,c=e instanceof ArrayBuffer,p=null;return new Promise((function(n,o){var r=new Image;if(r.onload=function(){var e=(0,l.getDPI)(),t=r.width/e.x*72,o=r.height/e.y*72;n(a=[t,o])},r.onerror=function(){o(new Error("The input file could not be loaded as an supported image."))},c){var i=new Blob([e]);r.src=p=URL.createObjectURL(i)}else r.src=e?p=URL.createObjectURL(e):t})).then((function(e){return i.createNewDoc(n,r,{height:e[1],width:e[0]},{isRenderOnDocLoaded:!1},i.pdfEngine)})).then((function(e){return(s=e).getPageByIndex(0)})).then((function(n){var o=c?Promise.resolve(e):(0,u.default)(e?p:t);return Promise.all([Promise.resolve(n),o])})).then((function(e){var t=o(e,2),n=t[0],r=t[1];p&&URL.revokeObjectURL(p);var i={left:0,top:a[1],right:a[0],bottom:0};return n.addImage(r,i)})).then((function(e){if(e)return s;throw new Error("faied to insert image")})).catch((function(e){return i.eventEmitter.emit(f.default.openFileFailed,null),e&&console.error(e),Promise.reject(e)}))},t.prototype.renderDoc=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.config.defaultScale;if(this.pdfViewerRender.pdfDocRender){var o=this.pdfViewerRender.pdfDocRender.pagesRender;if(e==this.currentPDFDoc&&o&&o.isPageDOMsLoaded)return Promise.resolve(!0)}return this.pdfViewerRender.rendering(),this.pdfViewerRender.renderDoc(e,n).then((function(){var n=[];return e.getStream((function(e){n.push(e)})).then((function(){var o=n.sort((function(e,t){return e.offset>t.offset?0:-1})).map((function(e){return e.arrayBuffer}));return t.eventEmitter.emit(f.default.openFileSuccess,e,{type:ye.OPEN_FILE_TYPE.FROM_FILE,options:{fileName:e.info.fileName},file:new Blob(o,{type:"application/pdf"})}),t.eventEmitter.emit(f.default.renderFileSuccess,e),!0}))}),(function(n){return t.eventEmitter.emit(f.default.renderFileFailed,e),n||(n=new Error("An unknown error occurred while closing the current opening document!")),n.error=-3,Promise.reject(n)})).finally((function(){t.pdfViewerRender.rendered()}))},t.prototype.reopenPDFDoc=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},t),o=arguments[2];return this.eventEmitter.emit(f.default.beforeOpenFile),void 0===n.isRenderOnDocLoaded&&(n.isRenderOnDocLoaded=!0),this._reopenPDFDoc(e,n,o)},t.prototype._reopenPDFDoc=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments[2];this.startListenAnnotMouseEvent();var a=!1,s=!1,c=!1!==n.isRenderOnDocLoaded,u=n.beforeRenderPDFDoc;if("function"!=typeof u){var l=this.customs.beforeRenderPDFDoc;"function"!=typeof l?beforeRennder=Te:u=l}return u!==Te&&(c=!0),Promise.resolve(Fe(n)).then((function(t){return n.idJWT=t||n.jwt,e.parse(n)})).then((function(e){t.currentPDFDoc=e,a=!0;var n=[e];if(c){t.eventEmitter.once(f.default.renderPageSuccess,(function(){s=!0}));var o=Promise.resolve(u.call(t,e)).then((function(){var n=t.pdfViewerRender.renderDoc(e);return t.eventEmitter.emit(f.default.openFileSuccess,e,i),n}));n.push(o)}return Promise.all(n)}),(function(n){t.currentPDFDoc=null;var o={error:n&&n.code,pdfDoc:e,encryptDict:n&&n.encryptDict};return t.eventEmitter.emit(f.default.openFileFailed,o),Promise.reject(o)})).then((function(e){var r=o(e,1)[0];if(t.mixPdfJREngine){var i=void 0;return t.mixPdfJREngine.then((function(e){return i=e,r.resetEngineInstance(e)})).then((function(e){return t.pdfEngine=i,delete t.mixPdfJREngine,t.eventEmitter.emit(f.default.toggleEngineSr2JrSuccess,e),c&&t.eventEmitter.emit(f.default.renderFileSuccess,e),e}),(function(e){return i&&(t.pdfEngine=i),n.isRenderOnDocLoaded&&t.eventEmitter.emit(f.default.renderFileSuccess,e),e}))}return c&&t.eventEmitter.emit(f.default.renderFileSuccess,r),r}),(function(n){if(a&&s)return t.eventEmitter.emit(f.default.renderFileSuccess,e),e;c&&t.eventEmitter.emit(f.default.renderFileFailed,e);var o={error:-1,pdfDoc:e};try{var i=void 0,u=void 0;"number"===(void 0===n?"undefined":r(n))?i=n:"number"===r(n.error)?(i=n.error,u=n.encryptDict):i=n,o={error:i,pdfDoc:e,encryptDict:u}}catch(e){}return Promise.reject(o)}))},t.prototype.close=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.customs.closeDocBefore,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.customs.closeDocAfter;return this.stopListenAnnotMouseEvent(),this.currentPDFDoc?Promise.resolve(t()).then((function(t){if(!1===t)return Promise.reject("Document cannot be closed because it was rejected by the before callback");e.stopFormDesginerAssist(),e.eventEmitter.emit(f.default.willCloseDocument),e.currentPDFDoc=null;var n=e.pdfViewerRender.closeOldDocRender(),o=void 0;try{o=e.pdfViewerRender.pdfDocRender}catch(e){}return o?(o.hidden(),n.then((function(t){return e.pdfViewerRender.closeOldDocRender()}))):n})).then((function(e){if(!1!==e)return n()})):Promise.resolve()},t.prototype.destroy=function(){var t=this;return this.close().then((function(){e.prototype.destroy.call(t),t.keyboard.destroy(),t.JSEngine.destroy(),t.stopListenAnnotMouseEvent(),t.viewerUI.destroy(),t.viewerUI=null,t.pdfViewerRender.destroy(),t.pdfViewerRender=null,t.pdfEngine&&t.pdfEngine.then((function(e){e&&e.api.workerPromise.worker.terminate()})),t.store.destroy(),t.eventEmitter.removeAllListeners()}))},t.prototype.zoomTo=function(e,t){try{return this.activeElement(),this.pdfViewerRender.zoomTo(e,t)}catch(e){return Promise.reject(e)}},t.prototype.zoom=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.25;try{return this.pdfViewerRender.getScaleRatio().then((function(n){var o=e.config.minScale,r=e.config.maxScale;n===o&&Math.floor(o/t)!==o/t&&(n=Math.floor(n/t)*t);var i=Math.max(o,Math.min(r,n+t));return i=o+Math.round((i-o)/t)*t,i=Math.max(o,Math.min(r,i)),e.zoomTo(i)}))}catch(e){return Promise.reject(e)}},t.prototype.goToPage=function(e,t,n){var o=this,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(!this.pdfViewerRender)return Promise.reject("PDFViewer has not been initialized completely!");var i=this.getPDFPageRender(e);return i?r&&"number"!=typeof t?i.getPDFPage().then((function(i){return t=i.getHeight(),o.pdfViewerRender.goToPage(e,t,n,r)})):this.pdfViewerRender.goToPage(e,t,n,r):Promise.reject('The page with index "'+e+'" does not exists or the document has not been opened!')},t.prototype.setLayerNodeVisible=function(e,t){return this.pdfViewerRender&&this.pdfViewerRender.setLayerNodeVisible(e,t)},t.prototype.setEnableJS=function(e){this.JSEngine.setEnableJS(e,this.currentPDFDoc),this.eventEmitter.emit(f.default.changeEnableJS,e)},t.prototype.getEnableJS=function(){return this.JSEngine.getEnableJS()},t.prototype.setSafeReadingMode=function(e){this.config.enableSafeMode=e},t.prototype.getSafeReadingMode=function(){return this.config.enableSafeMode},t.prototype.getSmartScale=function(e){var t=this.config,n=t.scaleFrequency;return 0===n?e*=l.dpr:e=Math.ceil(e*l.dpr*n)/n,Math.min(Math.max(e,t.minScale),t.maxScale)},t.prototype.controlStateSwitch=function(e){this.pdfViewerRender&&this.pdfViewerRender.controlStateSwitch(e)},t.prototype.getStateHandlerManager=function(){return this.stateHandlerManager},t.prototype.getInkSignManager=function(){return this.inkSignManager},t.prototype.getViewModeManager=function(){return this.viewModeManager},t.prototype.getMementoManager=function(){return this.mementoManager},t.prototype.getEventEmitter=function(){return this.eventEmitter},t.prototype.getCurrentPDFDoc=function(){return this.currentPDFDoc},t.prototype.getPDFViewerRender=function(){try{return this.pdfViewerRender}catch(e){return null}},t.prototype.getDeviceCurrentPosition=function(){var e=this.getPDFDocRender(),t=this.getPDFViewerRender(),n=t.getViewMode(),o=e.getViewMode(),r=e.viewerRender.scrollWrap,a=r.getScrollTop(),s=r.getScrollLeft(),c=o.getCurrentPageIndex();if("single-page-view-mode"===n.getName()){var u=t.$ui.parent()[0].getBoundingClientRect(),l=e.getPDFPageRender(c).$ui.get(0).getBoundingClientRect();return{pageIndex:c,left:u.left-l.left,top:u.top-l.top}}for(var f=e.$container.find(".fv__pdf-view-mode-item"),p=0,d=0,h=0;h<f.length;h++){var g=f[h],m=(0,i.default)(g).find(".fv__pdf-page-layout"),v=m.width(),y=m.height(),b=g.offsetTop,w=b+y,_=g.offsetLeft;if(w>a&&_+v>s){d=a-b,p=s-_;break}}return{pageIndex:c,left:p,top:d}},t.prototype.getPDFDocRender=function(){try{return this.pdfViewerRender.pdfDocRender||null}catch(e){return null}},t.prototype.getPDFPageRender=function(e){try{return this.pdfViewerRender.pdfDocRender.getPDFPageRender(e)||null}catch(e){return null}},t.prototype.getAnnotRender=function(e,t){try{return this.getPDFPageRender(e).getAnnotRender(t)||null}catch(e){return null}},t.prototype.getPDFPageRenderAsync=function(e){try{return this.pdfViewerRender.pdfDocRender.getPDFPageRender(e)}catch(e){return null}},t.prototype.getAnnotRenderAsync=function(e,t){try{return this.getPDFPageRenderAsync(e).getAnnotRender(t)}catch(e){return null}},t.prototype.killFocus=function(){return Promise.resolve(this.activeElement()||!0)},t.prototype.isMultiSelectActive=function(){var e=this.stateHandlerManager.currentStateHandler.getStateName();return(ne.isMac?te.default.isWinDown:te.default.isCtrlDown)&&(e===oe.STATE_HANDLER_HAND||e===oe.STATE_HANDLER_SELECT_ANNOTATION||Object.keys(oe.StateNameAnnotTypeMap).indexOf(e)>=0||Object.keys(oe.StateNameFieldTypeMap).indexOf(e)>=0)||te.default.isShiftDown&&(e===oe.STATE_HANDLER_HAND||e===oe.STATE_HANDLER_SELECT_ANNOTATION)},t.prototype.bindMultiSelectActiveEvents=function(e){var t=this,n=function(e){if(e&&!e.multiSelectEventBindInitialized&&(e.multiSelectEventBindInitialized=!0,e.shapeControl)){var n=e.shapeControl,o=n.onPrestart,r=n.onAfterEnd;n.onPrestart=function(e,r,i){t.activationManager.getAllCurrentActivatables().forEach((function(e){e.shapeControl&&n.companion(e.shapeControl)})),o&&o(e,r,i)},n.onAfterEnd=function(e){n.clearCompanions(),r&&r(e)}}};e instanceof W.ActivationGroup?e.getAllActivations().forEach((function(e){return n(e)})):n(e)},t.prototype.activePageElementByRect=function(e,t){var n=this;e.right<=e.left||e.top<=e.bottom||!t||t.getAnnots().then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(t.length){var o=new W.ActivationGroup,r=[],i=[];t.filter((function(e){return"popup"!==e.getType()&&"R"!==e.info.RT&&!e.info.IRT})).forEach((function(t){if(!r.find((function(e){return e===t}))){var a=t.info.rect,s=a.left,c=a.right,u=a.top,l=a.bottom;if(s>=e.left&&s<=e.right&&u>=e.bottom&&u<=e.top||s>=e.left&&s<=e.right&&l>=e.bottom&&l<=e.top||c>=e.left&&c<=e.right&&u>=e.bottom&&u<=e.top||c>=e.left&&c<=e.right&&l>=e.bottom&&l<=e.top)if(t.isGrouped&&t.isGrouped()){var f=t.getGroupElements()||[];if(f.length){var p=new W.ActivationGroup;f.forEach((function(e){var t=n.getAnnotRender(e.getPDFPage().getIndex(),e.getId()).component;t&&p.add(t)})),o.add(p),r=[].concat(Ce(r),Ce(f))}}else if("widget"===t.getType())i.push(t);else{var d=n.getAnnotRender(t.getPDFPage().getIndex(),t.getId()).component;d&&o.add(d)}}})),i.length?n.eventEmitter.emit("active-widgets-for-multi-select",{widgets:i,activationGroup:o}):(n.bindMultiSelectActiveEvents(o),n.activationManager.active(o),n.getPDFDocRender().setCurrentAnnotHandler(),n.eventEmitter.emit(f.default.activeElementChanged))}}))},t.prototype.activateElement=function(e){return this.activeElement(e)},t.prototype.activeElement=function(e){if(!e)return this.activationManager.unActiveCurrent(),void this.eventEmitter.emit(f.default.activeElementChanged);if(this.bindMultiSelectActiveEvents(e),this.isMultiSelectActive()){var t=this.activationManager.getCurrentActivatable(),n=void 0;if(t){var o=(t.activations||[])[0];o&&o.annot&&o.annot.page.getIndex()!==(e instanceof W.ActivationGroup?e.getAllActivations()[0]:e).annot.page.getIndex()&&this.activationManager.unActiveCurrent(),this.bindMultiSelectActiveEvents(t),t.add(e),n=t}else{var r=new W.ActivationGroup;r.add(e),n=r}if(te.default.isShiftDown){var i=n.getAllActivations(),a=Number.MAX_VALUE,s=-Number.MAX_VALUE,c=-Number.MAX_VALUE,u=Number.MAX_VALUE;i.forEach((function(e){var t=e.annot.info.rect,n=t.left,o=t.right,r=t.top,i=t.bottom;a=Math.min(a,n),s=Math.max(s,o),c=Math.max(c,r),u=Math.min(u,i)}));var l={left:a,right:s,top:c,bottom:u};if(this.multiSelectActiveShiftHandlerFlag===JSON.stringify(l)+"_"+i.length)return;this.multiSelectActiveShiftHandlerFlag=JSON.stringify(l)+"_"+i.length;var p=e instanceof W.ActivationGroup?e.getAllActivations()[0]:e;this.activePageElementByRect(l,p.annot.page)}else this.activationManager.active(n),this.getPDFDocRender().setCurrentAnnotHandler(),this.eventEmitter.emit(f.default.activeElementChanged)}else{var d=void 0;if(e instanceof W.ActivationGroup)d=e;else{var h=new W.ActivationGroup;h.add(e),d=h}this.activationManager.active(d),this.getPDFDocRender().setCurrentAnnotHandler(),this.eventEmitter.emit(f.default.activeElementChanged)}},t.prototype.clearMultiSelectActiveFlag=function(){this.multiSelectActiveShiftHandlerFlag=""},t.prototype.deactivateElement=function(e){return this.unActiveElement(e)},t.prototype.unActiveElement=function(e){if(e&&e.annot&&e.annot.isGrouped&&e.annot.isGrouped()){var t=this.activationManager.getCurrentActivatable();if(!(t&&t instanceof W.ActivationGroup))return;for(var n=t.activations||[],o=n.length;o--;){var r=n[o];if(r instanceof W.ActivationGroup&&r.contains(e)||r===e){this.activationManager.unActive(n[o]);break}}}else this.activationManager.unActive(e);this.eventEmitter.emit(f.default.activeElementChanged)},t.prototype.getCurrentActivatable=function(){var e=this.activationManager.getCurrentActivatable();if(!e||e.isActive)return e},t.prototype.getAllActivatedElements=function(){return this.getAllActiveElements()},t.prototype.getAllActiveElements=function(){return this.activationManager.getAllCurrentActivatables()},t.prototype.getAnnotManager=function(){return this.annotManager},t.prototype.registerMatchRule=function(e){this.annotManager.registerMatchRule(e)},t.prototype.setUserName=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.pdfEngine;return(t?Promise.resolve(t):this.getWebPDFJR()).then((function(t){return t.setUserName(e)}))},t.prototype.getUserName=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pdfEngine;return(e?Promise.resolve(e):this.getWebPDFJR()).then((function(e){return e.getUserName()}))},t.prototype.setFormatOfDynamicStamp=function(e,t){return this.getWebPDFJR().then((function(n){return n.setDynamicInfoFormula(e,t)}))},t.prototype.print=function(e){var t=e.pages,n=void 0===t?[]:t,r=e.printType,i=void 0===r?["page"]:r,a=e.progress,s=void 0===a?this.printProgress:a,u=e.printer,l=e.showHeaderFooter,f=void 0===l?this.getPrintSetting("showHeaderFooter"):l,p=e.quality,d=void 0===p?this.getPrintSetting("quality")||100:p,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Te,g=this.currentPDFDoc;if(!g.checkPermission(j.default.print||j.default.printHigh))throw new Error("Permission denied!");void 0!==s&&!0!==s||(s=this.printProgress=this.printProgress||new z.default);var m=this.resourceGenerator(L.default.PDF_DOCUMENT_CLOSING,U.default.OBJECT_URL),v=m.expose(),y=v.URL,b=h,w=0;h=function(e){if(s)switch(e.state){case"start":s.show(),s.updateProgress(0,e.total);break;case"progress":s.updateProgress(w++,e.total);break;case"end":s.updateProgress(w++,e.total),setTimeout((function(){s.close()}),200)}b(e)},u||(u=this.printer||(this.printer=new G.default));var _=this.pdfViewerRender.pdfDocRender,P=_.getFormRender(),O=P.getFormatedData("display"),E=g.AdditionalActions?Promise.resolve():g.loadAdditionalActions();return E.then((function(e){return _.performAction(5),g.PDFForm.addTask()})).then((function(e){return g.getPDFForm().setFieldsValue(O,!0)})).then((function(){return h({state:"start",total:n.length}),n.reduce((function(e,t){return e.then((function(e){return Promise.all([x(t),e])})).then((function(e){var r=o(e,2),i=r[0],a=r[1];return h({state:"progress",pageIndex:t,total:n.length,imageURI:i}),Promise.all([a,i,u.appendImage(t,i)])})).then((function(e){var n=o(e,2),r=n[0],i=n[1];return r.push({pageIndex:t,imageURI:i}),r}))}),Promise.resolve([]))})).then((function(e){if(P){var t=P.getFormatedData("value");return g.getPDFForm().setFieldsValue(t,!1).then((function(t){return e}))}return e})).then((function(e){var t=e.reduce((function(e,t){var n=t.pageIndex,o=t.imageURI;return e[n]=o,e}),{});return h({state:"end",total:n.length,result:t}),u.print(!f),_.performAction(6),t}));function x(e){return g.getPageByIndex(e).then((function(e){var t=e.getWidth(),n=e.getHeight(),o=void 0;if(t>n){o=90;var r=t;t=n,n=r}else o=0;var a=4*d/300;return e.getPageBitmap(a,o,{x:0,y:0,width:t*a,height:n*a},i,"print").then((function(e){var t=e.buffer,n=e.width,o=e.height,r=e.image;if(r)return y.createObjectURL(r);var i=document.createElement("canvas");i.width=n,i.height=o;var a=i.getContext("2d"),s=a.createImageData(n,o);s.data.set(new(Uint8ClampedArray||Uint8Array)(t)),a.putImageData(s,0,0);var u=(0,c.default)();try{i.toBlob((function(e){u.resolve(y.createObjectURL(e))}),"image/png")}catch(e){u.reject(e)}return u.promise}))}))}},t.prototype.printPDFDocument=function(e){e.asImage;var t=e.endIndex,n=void 0===t?this.currentPDFDoc.getPageCount()-1:t,o=e.printType,r=void 0===o?["page"]:o,i=(e.reverse,e.shrinkToFit,e.silent,e.startIndex),a=void 0===i?0:i,s=(e.ui,e.rangeType),c=e.total,u=(void 0===c&&this.currentPDFDoc.getPageCount(),e.progress),l=void 0===u?this.printProgress:u,f=e.fromToArray,p=e.hideHeaderFooter,d=void 0===p?!this.getPrintSetting("showHeaderFooter"):p,h=e.quality,g=void 0===h?100:h,m=[];if("assign"===s)for(var v=0;v<f.length;v++)if(f[v][0]===f[v][1])m.push(f[v][0]-1);else for(var y=f[v][0];y<=f[v][1];y++)m.push(y-1);else{n>this.currentPDFDoc.getPageCount()-1&&(n=this.currentPDFDoc.getPageCount()-1);for(var b=a;b<=n;b++)m.push(b)}return this.print({pages:m,printType:r,showHeaderFooter:!d,quality:g,progress:l})},t.prototype.highlightControls=function(){return this._highlightControls},t.prototype.highlightControlsUI=function(){return this._highlightControlsUI},t.prototype.setHighlightControlsUI=function(e){this._highlightControlsUI=e},t.prototype.getDisplayHighlightColor=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.25,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"HTML";return t>1&&(t=1),(0,A.colorConvertor)(e,n,t)},t.prototype.highlightForm=function(e){var t=this.pdfViewerRender.pdfDocRender;if(this.setHighlightControlsUI(e),t){var n=t.formRender;n&&n.setRuntimeHighlight(e)}return this.eventEmitter.emit(f.default.setFromFieldHighlight,e),this._highlightControls=e},t.prototype.getFormHighlightColor=function(){return{color:(0,A.colorConvertor)(this._runtimeColor,"int",this._runtimeColorOpacity),colorRequired:(0,A.colorConvertor)(this._runtimeColorRequired,"int",this._runtimeColorOpacityRequired)}},t.prototype.setFormHighlightColor=function(e,t){var n=.5,o=1;(Z.isChrome||Z.isFirefox)&&(n=1),"number"==typeof e&&(n=(4278190080&e)>>>24,n/=255,this._runtimeColorOpacity=n,e&=16777215),"number"==typeof t?(o=(4278190080&t)>>>24,o/=255,this._runtimeColorOpacityRequired=o,t&=16777215):t=e;var r=this.pdfViewerRender.pdfDocRender;if(r){var i=r.formRender;i&&i.setRuntimeHighlightColor(e,n,t,o)}this._runtimeColor=e,this._runtimeColorRequired=t},t.prototype.getStore=function(){return this.store},t.prototype.setJRFontMap=function(e){return this.getWebPDFJR().then((function(t){return t.setFontMap(e)}))},t.prototype.setJRWatermarkFontMap=function(e){return this.getWebPDFJR().then((function(t){return t.setWatermarkFontMap(e)}))},t.prototype.pasteAnnot=function(e,t){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0},r=this.stateHandlerManager.getCurrentStates();if(r){var i=r.getStateName();if("edit-all"===i||"add-path-object"===i||"add-text-object"===i)return}if(e&&t){var a=this.currentPDFDoc;return a.getPageByIndex(e.pageIndex).then((function(t){return t.getAnnotsByIdArray([e.annotId])})).then((function(e){if(e.length)return t.pasteAnnot(e[0],o)})).then((function(e){return e.length>0&&n.eventEmitter.emit(f.default.addAnnotSuccess,e[0]),e})).catch(Te)}},t.prototype.pasteImage=function(e,t){var n=this;window.URL=window.URL||window.webkitURL;var r=window.URL.createObjectURL(t),a=(0,i.default)("<img style='opacity:0' />");a.on("load",(function(t){e=e.then((function(e){return n.getPDFDocRender().getViewBoxCenter(!1)})).then((function(e){var t=o(e,2),i=t[0],s=t[1],u=n.pdfViewerRender.pdfDocRender.getPDFPageRender(i.getIndex()),l=u.getRotation(),f=void 0,p=void 0;90===l||270===l?(f=a.height(),p=a.width()):(f=a.width(),p=a.height());var d={left:s[0],top:s[1],right:s[0]+f,bottom:s[1]+p};d=i.reverseDeviceRect(d,u.scale,l);var h=new XMLHttpRequest;h.open("get",r),h.responseType="arraybuffer";var g=(0,c.default)();return h.onloadend=function(e){return g.resolve(h.response)},h.send(),Promise.all([i,g.promise,d,l])})).then((function(e){var t=o(e,4),n=t[0],r=t[1],i=t[2],a=t[3];return n.addImage(r,i,a)})).then((function(e){window.URL.revokeObjectURL(r),a.remove()})).catch((function(){window.URL.revokeObjectURL(r),a.remove()}))})),a.attr("src",r),(0,i.default)("body").append(a)},t.prototype.paste=function(e){var t=this;e||(e=JSON.parse(Re));var n=Promise.resolve(),r=function(e){var r=t.stateHandlerManager.getCurrentStates();if(r&&"hand"!==r.getStateName())return;n=n.then((function(e){return t.getPDFDocRender().getViewBoxCenter()})).then((function(n){var r=o(n,2),i=r[0],a=r[1],s=t.getPDFDocRender().getPDFPageRender(i.getIndex()),c={left:a[0],top:a[1],right:a[0]+12,bottom:a[1]-12},u=i.reverseDeviceRect(c,s.scale,s.getRotation());return i.addAnnot({type:Oe.default.freeText,intent:"FreeTextTypewriter",subject:"FreeTextTypewriter",contents:e,defaultAppearance:{textColor:0,textSize:12},rect:u,rotate:((360-90*i.getRotation()-s.getRotation())%360+360)%360})})).catch(Te)},i=function(n){var r=t.getPDFDocRender();return r?r.getViewBoxCenter().then((function(t){var r=o(t,2),i=r[0],a=r[1],s=1e4,c=-1,u=-1,l=1e4;e.forEach((function(e){if("string"===e.type){var t=e.value;if(t.type){var n=t.rect;s=Math.min(n.left,s),c=Math.max(n.right,c),u=Math.max(n.top,u),l=Math.min(n.bottom,l)}}}));var f=a[0]-s,p=a[1]-u;return c+f>i.getWidth()&&(f=i.getWidth()-c),u+p>i.getHeight()&&(p=i.getHeight()-u),a={x:n.left+f,y:n.top+p},i.annots.forEach((function(e){var t=e.getRect();t.left-2<a.x&&a.x<t.right+2&&t.bottom-2<a.y&&a.y<t.top+2&&(a.x+=5,a.y-=5)})),[i,a]})):Promise.resolve({x:0,y:0})},a=[];if(e.forEach((function(e){if("string"===e.type)try{var s=e.value;if("number"==typeof s)return void r(e.value);s.type?"widget"===s.type?a.push(i(s.rect).then((function(e){var t=o(e,2);return[t[0],t[1],s]}))):n=n.then((function(e){return i(s.rect).then((function(e){var n=o(e,2),r=n[0],i=n[1];return t.pasteAnnot(s,r,i)}))})):s.doc&&s.graphicObject&&t.currentPDFDoc.id===s.doc?n=n.then((function(e){return t.currentPDFDoc.getPageByIndex(s.page)})).then((function(e){return e.pasteGraphicObject(s.graphicObject,s.page,{})})):r(e.value)}catch(e){0}else if("file"===e.type){var c=e.value;if(!c)return;/^image.*/.test(c.type)?t.pasteImage(n,c):n=n.then((function(n){return t.currentPDFDoc.attachFile(e.blob)}))}})),a.length){var s=this.currentPDFDoc.PDFForm;n=n.then((function(e){return Promise.all(a).then((function(e){var t=e[0][0],n=e.map((function(e){var t=o(e,3),n=(t[0],t[1]),r=t[2],i=s.getField(r.fieldName);if(i&&i.getControlById(r.srcObjectNumber)){r.type=r.fieldType,delete r.fieldType;var a=r.rect;return Object.assign({},r,{rect:{left:n.x,top:n.y,right:n.x+(a.right-a.left),bottom:n.y-(a.top-a.bottom)}})}})).filter((function(e){return!!e}));return s.copyControls(null,t,n)}))}))}return n.then((function(e){return t.activeElement(),e}))},t.prototype.copy=function(e){var t=document.activeElement.tagName.toLowerCase();if("textarea"!==t&&"input"!==t&&(e||(e=this.getAllActiveElements()),Array.isArray(e)||(e=[e]),0!==e.length)){var n=e.map((function(e){if(e&&e.annot&&"widget"===e.annot.getType()){var t=e.annot;return{type:"string",value:{type:t.getType(),rect:t.getRect(),fieldName:t.getField().getName(),fieldType:t.getField().getType(),srcObjectNumber:t.getObjNum()}}}if(e instanceof k.default){var n=e.annot.getType();if("strikeout"===n||"highlight"===n||"squiggly"===n||"underline"===n||"redact"===n||"caret"===n||"screen"===n||"sound"===n)return;return{type:"string",value:{type:n,rect:e.annot.getRect(),annotId:e.getId(),pageIndex:e.annot.page.getIndex()}}}if(e.graphicsObject&&e.graphicsObject instanceof N.default){var o=(e=e.graphicsObject).getPDFPage();return{type:"string",value:{page:o.getIndex(),graphicObject:e.getId(),doc:o.getPDFDoc().getId()}}}})).filter((function(e){return!!e}));Re=JSON.stringify(n),(0,l.copyText)(Re),this.eventEmitter.emit(f.default.copyTextSuccess)}},t.prototype._setSaveBefore=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te;this._saveBefore=e},t.prototype.registerSignatureHandler=function(e,t,n){throw new Error("this api is not working now!!")},t.prototype.setEnableShortcutKey=function(e){this.config.enableShortcutKey=e},t.prototype.isShortcutKeyEnabled=function(){return this.config.enableShortcutKey},t.prototype.onShortcutKey=function(e,t){var n=this,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof e||!e)throw new Error("Incorrect shortcut param format");var i=J.default.parseKeybinding(e);if(i.isError())throw new Error("Nonsupport shortcut param format");if("function"!=typeof t&&"object"!==(void 0===t?"undefined":r(t))||Array.isArray(t))throw new Error("Incorrect handler param format");o&&this.keyboard.findCommandsByKeyBinding(i).forEach((function(t){t.binder.unRegisterKeybinding(t.command,e)}));var a=R.CUSTOM_COMMAND+"-"+e,s=function(t,o){var r=n.getKeyboardEventBinder(R.CUSTOM_BINDER);!r.getCommandOfKeybinding(i)&&n.keyboard.registerKeybinding(R.CUSTOM_BINDER,a,e),t&&r.before(a,t),o&&r.on(a,o)};"function"==typeof t?s(t,void 0):"object"!==(void 0===t?"undefined":r(t))||Array.isArray(t)||(t.hasOwnProperty("keydown")&&"function"==typeof t.keydown&&s(t.keydown,void 0),t.hasOwnProperty("keyup")&&"function"==typeof t.keyup&&s(void 0,t.keyup))},t.prototype.offShortcutKey=function(e,t){if("string"!=typeof e||!e)throw new Error("Incorrect shortcut param format");var n=J.default.parseKeybinding(e);if(n.isError())throw new Error("Nonsupport shortcut param format");var o=this.getKeyboardEventBinder(R.CUSTOM_BINDER),i=o.getCommandOfKeybinding(n);i&&("function"==typeof t?o.offBefore(i,t):"object"!==(void 0===t?"undefined":r(t))||Array.isArray(t)?(o.offBefore(i),o.off(i)):(t.hasOwnProperty("keydown")&&("function"!=typeof t.keydown&&(t.keydown=void 0),o.offBefore(i,t.keydown)),t.hasOwnProperty("keyup")&&("function"!=typeof t.keyup&&(t.keyup=void 0),o.off(i,t.keyup))),o.emitter.listenerCount(i)||o.beforeEventEmitter.listenerCount(i)||this.keyboard.unRegisterKeybinding(R.CUSTOM_BINDER,i,e))},t.prototype.getInkSignList=function(){return(this.inkSignManager.getList()||[]).map((function(e){return{dataURL:e.dataURL}}))},t.prototype.setInkSignList=function(e){var t=this;Array.isArray(e)&&e.forEach((function(e){if(e.dataURL&&/^data:(.*?)\/(.*?);base64/g.test(e.dataURL)){var n=t.inkSignManager.addInkSign();n.setDataURL(e.dataURL),t.inkSignManager.push(n)}}))},t.prototype.setDefaultPrintSetting=function(e){var t=e.quality;if(t||(t=e.quality=100),(t-100|1e3-t)<0)throw new Error("quality range error, 100 to 10000");var n=this.config.printSetting;this.config.printSetting=Object.assign(n,e)},t.prototype.getPrintSetting=function(e){return this.config.printSetting[e]},t.prototype.setAutoCompleteSetting=function(e){var t=this.config.autoCompleteSetting;this.config.autoCompleteSetting=Object.assign(t,e)},t.prototype.getAutoCompleteSetting=function(){return this.config.autoCompleteSetting},t.prototype.clearAllAutoCompleteEntries=function(){return new Pe.AutocompleteModel(this).clearDbEntries()},t.prototype.deleteAutoCompleteEntry=function(e){return new Pe.AutocompleteModel(this).deleteEntry(e)},t.prototype.getSavedAutoCompleteEntries=function(){return new Pe.AutocompleteModel(this).getDbEntries()},t.prototype.getAllAutoCompleteEntries=function(){return new Pe.AutocompleteModel(this).getAllEntries()},t.prototype.setPencilDrawingTimeOut=function(e){this.getStateHandlerManager().pushStateHandlerConfig("pencilStateHandler",{pencilTimeout:e})},t.prototype.setEraserSize=function(e){this.getStateHandlerManager().pushStateHandlerConfig("eraserStateHandler",{width:e})},t.prototype.setSnapMode=function(e,t){switch(e){case oe.STATE_HANDLER_CREATE_LINE:case oe.STATE_HANDLER_CREATE_ARROW:case oe.STATE_HANDLER_CREATE_DISTANCE:case oe.STATE_HANDLER_CREATE_PERIMETER:case oe.STATE_HANDLER_CREATE_AREA:case oe.STATE_HANDLER_CREATE_POLYGON:case oe.STATE_HANDLER_CREATE_POLYLINE:break;default:throw new Error("Incorrect state handler name: "+e+"!")}var n=this.getStateHandlerManager(),o=(n.getStateHandlerConfig(e)||{}).snapMode;n.pushStateHandlerConfig(e,{snapMode:t&&t.slice(0)}),this.eventEmitter.emit(f.default.snapModeChanged,e,t,o)},t.prototype.getSnapMode=function(e){return(this.getStateHandlerManager().getStateHandlerConfig(e)||{}).snapMode||[]},t.prototype.setDocReadColors=function(e){var t=this;if("object"!==(void 0===e?"undefined":r(e))||Array.isArray(e)||!e.hasOwnProperty("background")||!e.hasOwnProperty("foreground"))throw new Error("Nonsupport colors param format");var n=this.getCurrentPDFDoc();n&&n.setColors(e).then((function(){var e=t.getPDFDocRender();if(e)for(var n=e.getPDFDoc().getPageCount(),o=0;o<n;o++){var r=t.getPDFPageRender(o);r&&r.isRendered&&r.redraw(!0)}}))},t.prototype.activateAnnotation=function(e){var t=this;if(!e.annotationId)throw new Error("Annotation id can't empty");var n=this.getPDFDocRender();return n&&this.currentPDFDoc?this.currentPDFDoc.getPageByIndex(e.pageIndex).then((function(t){return t.getAnnotsByIdArray([e.annotationId])})).then((function(o){var r=o[0];if(!r)throw new Error("the annotation does not exist");if(e.showCommentList&&"freetext"!=r.getType()){var i=function(){var n=t.getAnnotRender(e.pageIndex,e.annotationId);if(n)return Promise.resolve(n.component.showReplyDialog()).then((function(){return r}))},a=i();return a||n.goToPage(e.pageIndex,{x:r.getRect().left,y:r.getRect().top},!0).then(i)}return r})).then((function(t){return n.goToPage(e.pageIndex,{x:t.getRect().left,y:t.getRect().top},!0)})).then((function(n){t.getPDFPageRender(e.pageIndex).annotsRender.activeAnnot(e.annotationId)})):Promise.resolve()},t.prototype.convertClientCoordToPDFCoord=function(e){for(var t=e.clientX,n=void 0===t?0:t,r=e.clientY,i=void 0===r?0:r,a=0,s=0,c=0,u=this.getPDFDocRender().pagesRender,l=this.$ui,f=u.getViewMode().getVisibleIndexes(),p=0,d=f.length;p<d;p++){a=f[p];var h=l.find(".fv__pdf-page-layout").eq(a)[0].getBoundingClientRect();if(n>=h.left&&n<h.right&&i>=h.top&&i<h.bottom){s=n-h.left,c=i-h.top;break}}var g=u.getPDFPageRender(a);return g.reverseDevicePoint([s,c]).then((function(e){var t=o(e,2),n=t[0],r=t[1];return{index:a,left:n,top:r,scale:g.getScale(),rotation:g.getRotation()}}))},t.prototype.setAutoCalculateFieldsFlag=function(e){this.pdfViewerRender.pdfDocRender.getPDFDoc().getPDFForm().calculationEnabled=e},t.prototype.getModuleLicenseRight=function(){var e=this;this.getWebPDFJR().then((function(t){t.getAllModuleLicenseRight().then((function(t){e.getStore().dispatch(_e.MODULE_LICENSE_INFO,t)}))}))},t.prototype.addTooltipsForAllFormFields=function(){var e=this.currentPDFDoc.getPDFForm();e&&(e.fields||[]).forEach((function(e){e.getAlternateName()||e.setAlternateName(e.getName())}))},t.prototype.setLayoutGrid=function(e){return e&&((e=Object.assign({unit:"inch",width:1,height:1,offsetLeft:0,offsetTop:0,subdivisions:3,color:"#7f7fff"},e)).color=(0,A.colorConvertor)(e.color),e.subdivisions=Math.max(1,e.subdivisions)),this.config.layoutGrid=e||null,this.redrawContent()},t.prototype.getLayoutGrid=function(){return this.config.layoutGrid||null},t.prototype.setSnapGrid=function(e){e&&((e=Object.assign({unit:"inch",width:1,height:1,offsetLeft:0,offsetTop:0,subdivisions:3},e)).subdivisions=Math.max(1,e.subdivisions)),this.config.snapGrid=e||null},t.prototype.getSnapGrid=function(){return this.config.snapGrid||null},t.prototype.setFormFieldFocusRectangleVisible=function(e){(0,i.default)(".fv__pdf-viewer").toggleClass("hide-form-field-focus-rectangle",!e)},t.prototype.setJPXDownSample=function(e){return this.getWebPDFJR().then((function(t){return t.setJPXDownSample(e)}))},t.prototype.setFormCreationContinuously=function(e){this.getStore().dispatch(S.SET_FORM_CREATION_CONTINUOUSLY,e)},t.prototype.startFormDesginerAssist=function(){var e=this;return this.isDesignerAssistantEnabled?Promise.resolve():this.currentPDFDoc.startFormDesignerAssit().then((function(){e.isDesignerAssistantEnabled=!0,e.redraw(!0),e.eventEmitter.emit(f.default.designerAssistantStatusChanged,!0)}))},t.prototype.stopFormDesginerAssist=function(){var e=this;return this.isDesignerAssistantEnabled?this.currentPDFDoc?this.currentPDFDoc.stopFormDesignerAssit().then((function(){e.isDesignerAssistantEnabled=!1,e.eventEmitter.emit(f.default.designerAssistantStatusChanged,!1)})):(this.isDesignerAssistantEnabled=!1,void this.eventEmitter.emit(f.default.designerAssistantStatusChanged,!1)):Promise.resolve()},t.prototype.setActionCallback=function(e){this.JSEngine&&this.JSEngine.setActionCallback(e)},t.prototype.addFontMaps=function(e){this.eventEmitter.emit(f.default.AddFontMaps,e)},t.prototype.getReadAloudService=function(){return this.readAloudService||(this.readAloudService=new Ee.default(this)),this.readAloudService},t}(X.default);function Fe(e,t){if(e&&"function"==typeof e.getJWT)return e.getJWT(t)}t.default=Ne},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(284);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.$ui.get(0).parentElement;i(this,t);var r=a(this,e.call(this,n));return r.scrollHost=o,r}return s(t,e),t.create=function(e){return function(t){function n(o){return i(this,n),a(this,t.call(this,o,e))}return s(n,t),n}(t)},t.prototype.getScrollHost=function(){return this.scrollHost},t.prototype.scrollBy=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"auto",o=this.scrollHost;o.scrollBy?o.scrollBy({top:t,left:e,behavior:n}):(o.scrollLeft=o.scrollLeft+e,o.scrollTop=o.scrollTop+t)},t.prototype.scrollTo=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"auto",o=this.scrollHost;o.scrollTo?o.scrollTo({left:e,top:t,behavior:n}):(o.scrollLeft=e,o.scrollTop=t)},t.prototype.getScrollOffsetLeft=function(){return this.viewerRender.$ui.get(0).offsetLeft},t.prototype.getScrollOffsetTop=function(){return this.viewerRender.$ui.get(0).offsetLeft},t.prototype.getScrollTop=function(){return this.scrollHost.scrollTop},t.prototype.getScrollLeft=function(){return this.scrollHost.scrollLeft},t.prototype.getScrollX=function(){return this.getScrollLeft()},t.prototype.getScrollY=function(){return this.getScrollTop()},t.prototype.getWidth=function(){return this.scrollHost.clientWidth},t.prototype.getHeight=function(){return this.scrollHost.clientHeight},t.prototype.addScrollEventListener=function(t){return e.prototype.addScrollEventListener.call(this,t)},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=c},function(e,t,n){"use strict";var o,r=n(36),i=n(236),a=n(50),s=function(){function e(){this.init()}return e.prototype.init=function(){},e}(),c=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),u=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a},l=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u(arguments[t]));return e},f=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},p=function(e){function t(){var t=e.call(this)||this;return t.status=a.a.stopped,t.statusStore=new i.a,t}return c(t,e),t.extend=function(e){var n=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return c(n,t),n.prototype.init=function(){return this.safeCall("init")},n.prototype.supported=function(){var t=e.supported;if("function"==typeof t)return t.apply(this);throw new Error("Method not implementated: supported")},n.prototype.doPause=function(){return this.safeCall("doPause")},n.prototype.doResume=function(){return this.safeCall("doResume")},n.prototype.doStop=function(){return this.safeCall("doStop")},n.prototype.speakText=function(e,t){return this.safeCall("speakText",e,t)},n.prototype.onCurrentPlayingOptionsUpdated=function(){return this.safeCall("onCurrentPlayingOptionsUpdated")},n.prototype.safeCall=function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var r=e[t];if("function"==typeof r)return r.apply(this,n)},n}(t);for(var o in e)o in n.prototype||(n.prototype[o]=e[o]);return n},t.prototype.pause=function(){this.status===a.a.playing&&(this.status=a.a.paused,this.statusStore.set(this.status),this.doPause())},t.prototype.resume=function(){this.status===a.a.paused&&(this.status=a.a.playing,this.statusStore.set(this.status),this.doResume())},t.prototype.stop=function(){this.status!==a.a.stopped&&(this.status=a.a.stopped,this.statusStore.set(this.status),this.currentPlayingOptions=void 0,this.doStop())},t.prototype.play=function(e,t){var n,o,i=this;void 0===t&&(t={rate:1,pitch:1,volume:1}),this.currentPlayingOptions=t,this.status=a.a.playing,this.statusStore.set(this.status);var s,c,u=[],p=new r.QueuedAsyncTaskExecutor,d=new r.QueuedAsyncTaskExecutor,h=!1,g=!1,m=this.statusStore.onchange((function(e){(g=e===a.a.stopped)&&(clearTimeout(c),p.cancel(),d.cancel(),m&&m())})),v=function(e){p.exec((function(){if(!g)return e.then((function(e){if(!g){var t=e.text.split(" ");if(0===t.length){if(!s)return;t[0]=s,s=void 0}else s&&("-"===s[s.length-1]?t[0]=s.substr(0,s.length-1)+t[0]:t.unshift(s),s=void 0);s=t[t.length-1],t.splice(-1,1),u.push.apply(u,l(t))}}))}))};try{for(var y=f(e),b=y.next();!b.done;b=y.next()){v(b.value)}}catch(e){n={error:e}}finally{try{b&&!b.done&&(o=y.return)&&o.call(y)}finally{if(n)throw n.error}}return p.waitForCurrentRunningTasks().then((function(){h=!0,s&&(u.push(s),s=void 0)})),new Promise((function(e,t){var n=function(){if(g)d.waitForCurrentRunningTasks().then(e,t);else{if(u.length>0)(function(e){var t=[];return e.split(/[\n\t\.ã;ï¼]+|\s{2}/).forEach((function(e){-1===e.indexOf(",")?t.push(e):t.push.apply(t,l(e.replace(/\d+(,\d{3})+|,/g,(function(e){return","===e?",,":e})).split(",,")))})),t})(u.join(" ")).forEach((function(t){t&&d.exec((function(){return i.speakText(t,i.currentPlayingOptions)})).finally((function(){g&&e()}))}));u.length=0,h?d.waitForCurrentRunningTasks().then(e,t):c=setTimeout(n)}};c=setTimeout(n)}))},t.prototype.updateOptions=function(e){this.currentPlayingOptions&&(Object.assign(this.currentPlayingOptions,e),this.onCurrentPlayingOptionsUpdated())},t}(s);t.a=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PortfolioFileNode=t.PortfolioFolderNode=t.PortfolioNode=void 0;var o=n(104);function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=t.PortfolioNode=function(){function e(t){a(this,e),this.nodeData=t}return e.prototype.getNodeType=function(){return this.type},e}(),c=t.PortfolioFolderNode=function(e){function t(n,i,s){a(this,t);var c=r(this,e.call(this,s));return c.type=o.PortfolioNodeType.folder,c.engine=n,c.doc=i,c.api=n.api,c.nodeHandle=s.handle,c.name=s.fileName,c.subNodes=[],c}return i(t,e),t.prototype.getSortedSubNodes=function(){var e=this,n=this.doc;return this.api.getPortfolioSubNodes(n.getId(),this.nodeHandle).then((function(r){return e.subNodes=[],r.forEach((function(r){if(r.type==o.PortfolioNodeType.folder){var i=new t(e.engine,n,r);e.subNodes.push(i)}if(r.type==o.PortfolioNodeType.file){var a=new u(e.engine,n,r);e.subNodes.push(a)}})),e.subNodes}))},t.prototype.getName=function(){return this.name},t.prototype.getDescription=function(){return this.description},t}(s),u=t.PortfolioFileNode=function(e){function t(n,i,s){a(this,t);var c=r(this,e.call(this,s));return c.type=o.PortfolioNodeType.file,c.engine=n,c.doc=i,c.api=n.api,c.nodeHandle=s.handle,c.keyName=s.keyName,c}return i(t,e),t.prototype.getKeyName=function(){return this.keyName},t.prototype.getFileStream=function(){var e=this.doc,t=[];return this.api.getPortfolioFileStream(e.getId(),this.nodeHandle,(function(e){var n=e.arrayBuffer,o=e.blob;o?t=o:t.push(n)})).then((function(){return Array.isArray(t)?new Blob(t,{type:"application/octet-stream"}):t}))},t}(s),l=function(){function e(t,n){a(this,e),this.engine=t,this.doc=n,this.api=t.api,this.root=null}return e.prototype.getFolioFileInfo=function(){return this.api.getFolioFileInfo(this.doc.getId())},e.prototype.getFolioTreeRoot=function(){var e=this;return this.api.getFolioTreeRoot(this.doc.getId()).then((function(t){if(t)return e.treeNode=t,t.type==o.PortfolioNodeType.folder&&(e.root=new c(e.engine,e.doc,t)),t.type==o.PortfolioNodeType.file&&(e.root=new u(e.engine,e.doc,t)),Promise.resolve(e.root)}))},e}();t.default=l},function(e,t,n){"use strict";var o,r=n(28),i=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.set=function(t){e.prototype.dispatch.call(this,"change",t)},t.prototype.get=function(){return e.prototype.getCurrentValue.call(this,"change")},t.prototype.onchange=function(t){return e.prototype.subscribe.call(this,"change",(function(e){t(e)}))},t}(r.Store);t.a=a},function(e,t,n){"use strict";(function(e){if(n(606),n(803),n(804),e._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");e._babelPolyfill=!0;function t(e,t,n){e[t]||Object.defineProperty(e,t,{writable:!0,configurable:!0,value:n})}t(String.prototype,"padLeft","".padStart),t(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach((function(e){[][e]&&t(Array,e,Function.call.bind([][e]))}))}).call(this,n(125))},function(e,t,n){var o=n(29),r=n(23).document,i=o(r)&&o(r.createElement);e.exports=function(e){return i?r.createElement(e):{}}},function(e,t,n){var o=n(23),r=n(87),i=n(113),a=n(359),s=n(46).f;e.exports=function(e){var t=r.Symbol||(r.Symbol=i?{}:o.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,n){var o=n(167)("keys"),r=n(127);e.exports=function(e){return o[e]||(o[e]=r(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var o=n(23).document;e.exports=o&&o.documentElement},function(e,t,n){var o=n(29),r=n(16),i=function(e,t){if(r(e),!o(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,o){try{(o=n(88)(Function.call,n(80).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:o(e,n),e}}({},!1):void 0),check:i}},function(e,t){e.exports="\t\n\v\f\r Â áá ââââââââââââ¯âã\u2028\u2029\ufeff"},function(e,t,n){var o=n(29),r=n(243).set;e.exports=function(e,t,n){var i,a=t.constructor;return a!==n&&"function"==typeof a&&(i=a.prototype)!==n.prototype&&o(i)&&r&&r(e,i),e}},function(e,t,n){"use strict";var o=n(90),r=n(98);e.exports=function(e){var t=String(r(this)),n="",i=o(e);if(i<0||i==1/0)throw RangeError("Count can't be negative");for(;i>0;(i>>>=1)&&(t+=t))1&i&&(n+=t);return n}},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t){var n=Math.expm1;e.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:n},function(e,t,n){"use strict";var o=n(113),r=n(0),i=n(69),a=n(68),s=n(150),c=n(250),u=n(147),l=n(81),f=n(35)("iterator"),p=!([].keys&&"next"in[].keys()),d=function(){return this};e.exports=function(e,t,n,h,g,m,v){c(n,t,h);var y,b,w,_=function(e){if(!p&&e in x)return x[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},P=t+" Iterator",O="values"==g,E=!1,x=e.prototype,C=x[f]||x["@@iterator"]||g&&x[g],A=C||_(g),S=g?O?_("entries"):A:void 0,D="Array"==t&&x.entries||C;if(D&&(w=l(D.call(new e)))!==Object.prototype&&w.next&&(u(w,P,!0),o||"function"==typeof w[f]||a(w,f,d)),O&&C&&"values"!==C.name&&(E=!0,A=function(){return C.call(this)}),o&&!v||!p&&!E&&x[f]||a(x,f,A),s[t]=A,s[P]=d,g)if(y={values:O?A:_("values"),keys:m?A:_("keys"),entries:S},v)for(b in y)b in x||i(x,b,y[b]);else r(r.P+r.F*(p||E),t,y);return y}},function(e,t,n){"use strict";var o=n(130),r=n(126),i=n(147),a={};n(68)(a,n(35)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=o(a,{next:r(1,n)}),i(e,t+" Iterator")}},function(e,t,n){var o=n(194),r=n(98);e.exports=function(e,t,n){if(o(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(r(e))}},function(e,t,n){var o=n(35)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[o]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,n){var o=n(150),r=n(35)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||i[r]===e)}},function(e,t,n){"use strict";var o=n(46),r=n(126);e.exports=function(e,t,n){t in e?o.f(e,t,r(0,n)):e[t]=n}},function(e,t,n){var o=n(148),r=n(35)("iterator"),i=n(150);e.exports=n(87).getIteratorMethod=function(e){if(null!=e)return e[r]||e["@@iterator"]||i[o(e)]}},function(e,t,n){var o=n(697);e.exports=function(e,t){return new(o(e))(t)}},function(e,t,n){"use strict";var o=n(51),r=n(129),i=n(37);e.exports=function(e){for(var t=o(this),n=i(t.length),a=arguments.length,s=r(a>1?arguments[1]:void 0,n),c=a>2?arguments[2]:void 0,u=void 0===c?n:r(c,n);u>s;)t[s++]=e;return t}},function(e,t,n){"use strict";var o=n(115),r=n(376),i=n(150),a=n(79);e.exports=n(249)(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,r(1)):r(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(e,t,n){"use strict";var o,r,i=n(170),a=RegExp.prototype.exec,s=String.prototype.replace,c=a,u=(o=/a/,r=/b*/g,a.call(o,"a"),a.call(r,"a"),0!==o.lastIndex||0!==r.lastIndex),l=void 0!==/()??/.exec("")[1];(u||l)&&(c=function(e){var t,n,o,r,c=this;return l&&(n=new RegExp("^"+c.source+"$(?!\\s)",i.call(c))),u&&(t=c.lastIndex),o=a.call(c,e),u&&o&&(c.lastIndex=c.global?o.index+o[0].length:t),l&&o&&o.length>1&&s.call(o[0],n,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(o[r]=void 0)})),o}),e.exports=c},function(e,t,n){"use strict";var o=n(193)(!0);e.exports=function(e,t,n){return t+(n?o(e,t).length:1)}},function(e,t,n){var o,r,i,a=n(88),s=n(366),c=n(242),u=n(238),l=n(23),f=l.process,p=l.setImmediate,d=l.clearImmediate,h=l.MessageChannel,g=l.Dispatch,m=0,v={},y=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},b=function(e){y.call(e.data)};p&&d||(p=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return v[++m]=function(){s("function"==typeof e?e:Function(e),t)},o(m),m},d=function(e){delete v[e]},"process"==n(89)(f)?o=function(e){f.nextTick(a(y,e,1))}:g&&g.now?o=function(e){g.now(a(y,e,1))}:h?(i=(r=new h).port2,r.port1.onmessage=b,o=a(i.postMessage,i,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(o=function(e){l.postMessage(e+"","*")},l.addEventListener("message",b,!1)):o="onreadystatechange"in u("script")?function(e){c.appendChild(u("script")).onreadystatechange=function(){c.removeChild(this),y.call(e)}}:function(e){setTimeout(a(y,e,1),0)}),e.exports={set:p,clear:d}},function(e,t,n){var o=n(23),r=n(261).set,i=o.MutationObserver||o.WebKitMutationObserver,a=o.process,s=o.Promise,c="process"==n(89)(a);e.exports=function(){var e,t,n,u=function(){var o,r;for(c&&(o=a.domain)&&o.exit();e;){r=e.fn,e=e.next;try{r()}catch(o){throw e?n():t=void 0,o}}t=void 0,o&&o.enter()};if(c)n=function(){a.nextTick(u)};else if(!i||o.navigator&&o.navigator.standalone)if(s&&s.resolve){var l=s.resolve(void 0);n=function(){l.then(u)}}else n=function(){r.call(o,u)};else{var f=!0,p=document.createTextNode("");new i(u).observe(p,{characterData:!0}),n=function(){p.data=f=!f}}return function(o){var r={fn:o,next:void 0};t&&(t.next=r),e||(e=r,n()),t=r}}},function(e,t,n){"use strict";var o=n(62);function r(e){var t,n;this.promise=new e((function(e,o){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=o})),this.resolve=o(t),this.reject=o(n)}e.exports.f=function(e){return new r(e)}},function(e,t,n){"use strict";var o=n(23),r=n(41),i=n(113),a=n(200),s=n(68),c=n(135),u=n(25),l=n(133),f=n(90),p=n(37),d=n(386),h=n(131).f,g=n(46).f,m=n(257),v=n(147),y=o.ArrayBuffer,b=o.DataView,w=o.Math,_=o.RangeError,P=o.Infinity,O=y,E=w.abs,x=w.pow,C=w.floor,A=w.log,S=w.LN2,D=r?"_b":"buffer",T=r?"_l":"byteLength",I=r?"_o":"byteOffset";function R(e,t,n){var o,r,i,a=new Array(n),s=8*n-t-1,c=(1<<s)-1,u=c>>1,l=23===t?x(2,-24)-x(2,-77):0,f=0,p=e<0||0===e&&1/e<0?1:0;for((e=E(e))!=e||e===P?(r=e!=e?1:0,o=c):(o=C(A(e)/S),e*(i=x(2,-o))<1&&(o--,i*=2),(e+=o+u>=1?l/i:l*x(2,1-u))*i>=2&&(o++,i/=2),o+u>=c?(r=0,o=c):o+u>=1?(r=(e*i-1)*x(2,t),o+=u):(r=e*x(2,u-1)*x(2,t),o=0));t>=8;a[f++]=255&r,r/=256,t-=8);for(o=o<<t|r,s+=t;s>0;a[f++]=255&o,o/=256,s-=8);return a[--f]|=128*p,a}function M(e,t,n){var o,r=8*n-t-1,i=(1<<r)-1,a=i>>1,s=r-7,c=n-1,u=e[c--],l=127&u;for(u>>=7;s>0;l=256*l+e[c],c--,s-=8);for(o=l&(1<<-s)-1,l>>=-s,s+=t;s>0;o=256*o+e[c],c--,s-=8);if(0===l)l=1-a;else{if(l===i)return o?NaN:u?-P:P;o+=x(2,t),l-=a}return(u?-1:1)*o*x(2,l-t)}function j(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function k(e){return[255&e]}function N(e){return[255&e,e>>8&255]}function F(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function L(e){return R(e,52,8)}function V(e){return R(e,23,4)}function B(e,t,n){g(e.prototype,t,{get:function(){return this[n]}})}function U(e,t,n,o){var r=d(+n);if(r+t>e[T])throw _("Wrong index!");var i=e[D]._b,a=r+e[I],s=i.slice(a,a+t);return o?s:s.reverse()}function H(e,t,n,o,r,i){var a=d(+n);if(a+t>e[T])throw _("Wrong index!");for(var s=e[D]._b,c=a+e[I],u=o(+r),l=0;l<t;l++)s[c+l]=u[i?l:t-l-1]}if(a.ABV){if(!u((function(){y(1)}))||!u((function(){new y(-1)}))||u((function(){return new y,new y(1.5),new y(NaN),"ArrayBuffer"!=y.name}))){for(var $,W=(y=function(e){return l(this,y),new O(d(e))}).prototype=O.prototype,q=h(O),z=0;q.length>z;)($=q[z++])in y||s(y,$,O[$]);i||(W.constructor=y)}var G=new b(new y(2)),Y=b.prototype.setInt8;G.setInt8(0,2147483648),G.setInt8(1,2147483649),!G.getInt8(0)&&G.getInt8(1)||c(b.prototype,{setInt8:function(e,t){Y.call(this,e,t<<24>>24)},setUint8:function(e,t){Y.call(this,e,t<<24>>24)}},!0)}else y=function(e){l(this,y,"ArrayBuffer");var t=d(e);this._b=m.call(new Array(t),0),this[T]=t},b=function(e,t,n){l(this,b,"DataView"),l(e,y,"DataView");var o=e[T],r=f(t);if(r<0||r>o)throw _("Wrong offset!");if(r+(n=void 0===n?o-r:p(n))>o)throw _("Wrong length!");this[D]=e,this[I]=r,this[T]=n},r&&(B(y,"byteLength","_l"),B(b,"buffer","_b"),B(b,"byteLength","_l"),B(b,"byteOffset","_o")),c(b.prototype,{getInt8:function(e){return U(this,1,e)[0]<<24>>24},getUint8:function(e){return U(this,1,e)[0]},getInt16:function(e){var t=U(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=U(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return j(U(this,4,e,arguments[1]))},getUint32:function(e){return j(U(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return M(U(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return M(U(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){H(this,1,e,k,t)},setUint8:function(e,t){H(this,1,e,k,t)},setInt16:function(e,t){H(this,2,e,N,t,arguments[2])},setUint16:function(e,t){H(this,2,e,N,t,arguments[2])},setInt32:function(e,t){H(this,4,e,F,t,arguments[2])},setUint32:function(e,t){H(this,4,e,F,t,arguments[2])},setFloat32:function(e,t){H(this,4,e,V,t,arguments[2])},setFloat64:function(e,t){H(this,8,e,L,t,arguments[2])}});v(y,"ArrayBuffer"),v(b,"DataView"),s(b.prototype,a.VIEW,!0),t.ArrayBuffer=y,t.DataView=b},function(e,t,n){e.exports=n(810).default},function(e,t,n){e.exports=n(812).default},function(e,t,n){e.exports=n(814).default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNameEncode=t.xfdfJsonToAddJson=t.default=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(7),i=n(22);function a(e){return{unknowntype:"UnKnownType",text:"Text",link:"Link",freetext:"FreeText",line:"Line",square:"Square",circle:"Circle",polygon:"Polygon",polyline:"PolyLine",highlight:"Highlight",underline:"Underline",squiggly:"Squiggly",strikeout:"StrikeOut",stamp:"Stamp",caret:"Caret",ink:"Ink",psink:"PsInk",fileattachment:"FileAttachment",sound:"Sound",movie:"Movie",widget:"Widget",screen:"Screen",printermark:"PrinterMark",trapnet:"TrapNet",watermark:"Watermark","3d":"3D",popup:"Popup",redact:"Redact"}[e.toString().toLowerCase()]}var s="WRRRRRRRRWWRWWRRRRRRRRRRRRRRRRRRWRRRRDRRDDRNRNNDNNNNNNNNNNRRDRDRRRRRRRRRRRRRRRRRRRRRRRRRRRRDRDRRRRRRRRRRRRRRRRRRRRRRRRRRRRRDRDRRWRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRW";function c(e){var t=e.length,n=0,o=void 0;for(o=0;o<t;o++){var r=e.charCodeAt(o);r>=128||"W"==s[r]||"#"==e[o]||"D"==s[r]?n+=3:n++}if(n==t)return e;var i="";for(o=0;o<t;o++){var a=e.charCodeAt(o);if(a>=128||"W"==s[a]||"#"==e[o]||"D"==s[a]){if("W"==s[a]&&0==a)continue;i+="#",i+="0123456789ABCDEF"[parseInt(a/16)],i+="0123456789ABCDEF"[a%16]}else i+=e[o]}return i}function u(e){var t=void 0;for(t=0;t<e.length&&!(e.charCodeAt(t)>255);t++);if(t===e.length)return"("+e.replace(/([\(|\)])/g,"\\$1")+")";var n="<FEFF";for(t=0;t<e.length;t++){for(var o=e.charCodeAt(t).toString(16);o.length<4;)o="0"+o;n+=o}return n+">"}function l(e){for(var t=[],n=0;n<e.length;n++)t.push(e.charCodeAt(n));return new Uint8Array(t)}var f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.JSONToFDF=function(t){for(var n={next:2,annotRef:[],file:"%FDF-1.2\n1 0 obj<</FDF<</Annots[{annotsRefArray}]>>/Type/Catalog>>endobj\n"},o=[],r=0,i=t.length;r<i;r++){var a=t[r];a.type&&(a.deleted?o.push({name:a.name,page:a.page}):e.singleAnnotJSONToFDF(n,a,!1))}return new Blob([l(n.file.replace(/\{annotsRefArray\}/,n.annotRef.join(" "))+"trailer\n<</Root 1 0 R>>\n%%EOF")],{type:"application/fdf"})},e.singleAnnotJSONToFDF=function(t,n){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=void 0,s=t.next;if(o?i="Popup":o="popup"==(i=a(n&&n.type&&n.type.toLowerCase()||"")).toLowerCase(),!i||"link"==i.toLowerCase()||"screen"==i.toLowerCase()||"sound"==i.toLowerCase())return 0;var l=n.style||"S";l=l.toUpperCase()[0];var f=n.width,d=n.color||"",g="C"==l?"C":"S",m=n.intensity,v=0===n.opacity?0:n.opacity||1,y=u(n.contents||""),b=n.flags||"print",w=b.split(",");for(var _ in b=0,r.AnnotFlagsName)-1!=w.indexOf(r.AnnotFlagsName[_])&&(b|=1<<parseInt(_));var P=n.creationdate,O=n.date,E=n.name||"",x=n.page,C=(n.rect||"").replace(/,/g," "),A=u(n.subject||"subject"),S=u(n.title||"title"),D=n["interior-color"]||n.interiorColor,T=s+" 0 obj\n<</Rect ["+C+"]/Subtype /"+i+"/NM ("+E+")";for(var I in n.customEntries)T+="/"+I+" "+u(n.customEntries[I])+"\n";if(t.annotRef.push(s+" 0 R "),t.next++,!o){if(T+="/M ("+O+")/CA "+v+"/Contents "+y+"/CreationDate ("+P+")/F "+b+"/Page "+x+"/Subj "+A+"/T "+S+"/Type /Annot",n.replyType){var R=void 0;T+="/RT /"+((R="string"==typeof n.replyType&&n.replyType||"Group")[0].toUpperCase()+R.substr(1))}n.inreplyto&&(T+="/IRT ("+n.inreplyto+")")}if(l||f){l=l||"S",f=f||"0",m=m||"0",g=g||"S";var M=(n.dashes||"").replace(/,/g," ");T+="/BS <</S /"+l+" /W "+f+" /D ["+M+"]>>/BE <</S /"+g+" /I "+m+">>"}"FreeText"!=i?(d&&(T+="/C "+h(d)),D&&(T+="/IC "+h(D))):(D&&(T+="/C "+h(D)),d&&(T+="/IC "+h(d),T+="/DS (color:"+n.fontColor+")")),void 0!==n.rotation&&(T+="/Rotate "+n.rotation);var j="";switch(i){case"Text":case"Note":T=T.replace(/\/Subtype\s?\/Note/,"/Subtype /Text"),n.icon&&(T+="/Name/"+c(n.icon));var k=void 0;(k=n.state)&&(T+="/State("+k+")/StateModel("+n.statemodel+")");break;case"Link":return"";case"FreeText":T=T.replace(/\/C\s?\[[\s\S]*?\]/,""),D&&(T+="/C "+h(D));var N=n.defaultappearance,F=n.justification,L=n.intent||n.IT,V="/DA ("+N+")/Q "+F;if(L&&(V+="/IT /"+L),n.callout){var B=n.callout.replace(/,/g," ");V+="/CL  ["+B+"]";var U=n.fringe.replace(/,/g," ");V+="/RD ["+U+"]",V+="/LE/"+n.head}j=V;break;case"Line":var H="yes"===n.caption,$=n.head,W=n.tail,q="[/"+$+"/"+W+"]",z=n.leaderLength,G=n.start.replace(/,/g," "),Y=n.end.replace(/,/g," "),K=G+" "+Y,X=n.leaderExtend,J=n.intent,Z="/Cap "+H+"/LE "+q+"/LL "+z+"/L ["+K+"]/LLE "+X;J&&(Z+="/IT /"+J),j=Z;break;case"Square":case"Circle":var Q=n.intent,ee=n.fringe.replace(/,/g," "),te="/RD ["+ee+"]";Q&&(te+="/IT /"+Q),n.measureRatio&&n.measureUnit&&void 0!==n.measureConversionFactor&&(te+="/Measure<</R("+n.measureRatio+")/X[<</C "+n.measureConversionFactor+"/U("+n.measureUnit+")>>]/Type/Measure/Subtype/RL>>"),j=te;break;case"Polygon":case"PolyLine":var ne=n.vertices.replace(/[,|;]/g," "),oe=n.intent,re="/Vertices ["+ne+"]";if(oe&&(re+="/IT /"+oe),"PolygonDimension"===oe&&n.measureRatio&&n.measureUnit&&void 0!==n.measureConversionFactor&&(re+="/Measure<</R("+n.measureRatio+")/X[<</C "+n.measureConversionFactor+"/U("+n.measureUnit+")>>]/Type/Measure/Subtype/RL>>"),"PolyLine"==i){var ie=n.head,ae=n.tail,se="[/"+ie+"/"+ae+"]";re+="/LE "+se}j=re;break;case"Redact":if(j+="/OC "+h(d),"Redact"==i){j+="/OverlayText"+u(n["overlay-text"]||n.overlaText||"");var ce=n.defaultappearance;j+="/DA ("+ce+")",j+="/Q "+(n.justification||0)}case"StrikeOut":case"Highlight":case"Squiggly":case"Underline":if(n.coords){var ue=n.coords.replace(/,/g," ");j+="/QuadPoints ["+ue+"]"}break;case"Caret":var le=n.fringe.replace(/,/g," "),fe="/RD ["+le+"]";j=fe;break;case"Stamp":if(n.icon&&(j="/Name/"+c(n.icon)),n.raw&&n.raw.N){var pe=p(t,n.raw,n.raw.N);j+="/AP<</N "+pe+" 0 R>>\n"}break;case"Ink":if("["===n.inklist[0]){var de=n.inklist.substr(1,n.inklist.length-2).split("],["),he="";de.map((function(e){he+="["+e.replace(/[,|;]/g," ")+"]"}));var ge="/InkList ["+he+"]";j=ge}else j="/InkList [["+n.inklist.replace(/[,|;]/g," ")+"]]";break;case"Popup":j="/Open "+("yes"==n.open?"true":"false");break;case"Sound":var me=p(t,n,{Filter:"/ASCIIHexDecode",R:n.rate,Type:"/Sound",stream:n.soundStream});j+="/Sound "+me+" 0 R";case"FileAttachment":if(n.raw){var ve=p(t,n.raw,n.raw.FS);j+="/FS "+ve+" 0 R "}}if(n.popup){var ye=e.singleAnnotJSONToFDF(t,n.popup,!0);j+="/Popup "+ye+" 0 R"}return t.file+=T+j+">>\nendobj\n",s},e}(),p=function(e,t,n){var o=e.next;e.next++;var r="";if(r+=o+" 0 obj\n","string"==typeof n)r+=n;else if(n instanceof Array)r+="["+n.map((function(n){return d(e,t,n)})).join(" ")+"]";else{r+="<<\n";for(var i in n)"stream"!=i&&(r+="/"+i+" "+d(e,t,n[i]));if(r+=">>",n.stream){for(var a="",s=0;s<n.stream.length;s+=2){var c=parseInt(n.stream[s],16),u=parseInt(n.stream[s+1],16);a+=String.fromCharCode((c<<4)+u)}r+="stream\n"+a+"\nendstream"}}return r+="\nendobj\n",e.file+=r,o},d=function e(t,n,r){if(null===r)return"null";var i=void 0===r?"undefined":o(r);if("number"==i)return r;if("string"==i){if("/"==r[0])return"/"+c(r.replace("/",""));if("<"==r[0])return r;var a;return(a=r.match(/^(\d*)R$/))?p(t,n,n[a[1]])+" 0 R":"("+r+")"}if("boolean"==i)return r?"true":"false";if(r instanceof Array)return"["+r.map((function(o){return e(t,n,o)})).join(" ")+"]";var s="<<";for(var u in r)s+="/"+u+" "+e(t,n,r[u]);return s+">>"},h=function(e){var t=e.match(/\#?(\w{2})(\w{2})(\w{2})/),n=parseInt(t[1],16)/255,o=parseInt(t[2],16)/255,r=parseInt(t[3],16)/255;return"["+n.toFixed(2)+" "+o.toFixed(2)+" "+r.toFixed(2)+"]"},g=function(e){for(var t in r.LineEndingName)if(r.LineEndingName[t]==e)return+t;return 0};t.default=f,t.xfdfJsonToAddJson=function(e){var t={type:e.type,opacity:e.opacity,name:e.name,contents:e.contents,subject:e.subject,title:e.title,icon:e.icon,intent:e.intent||e.IT,DA:e.defaultappearance,alignment:e.justification,enableCaption:"yes"==e.caption},n=e.fontColor;n&&(t.fontColor=parseInt(n.replace("#",""),16));var o=void 0;(o=e.color)&&(t.color=parseInt(o.replace("#",""),16));var a=e["interior-color"]||e.interiorColor;a&&(t.styleFillColor=t.fillColor=parseInt(a.replace("#",""),16));var s=e.flags||"print",c=s.split(",");for(var u in s=0,r.AnnotFlagsName)-1!=c.indexOf(r.AnnotFlagsName[u])&&(s|=1<<parseInt(u));t.flag=s;var l=(e.rect||"").split(",");l.length&&(t.rect={left:+l[0],top:+l[3],right:+l[2],bottom:+l[1]});var f=(e.fringe||"").split(",");4===f.length&&(t.innerRect={left:t.rect.left+ +f[0],top:t.rect.top-+f[3],right:t.rect.right-+f[2],bottom:t.rect.bottom+ +f[1]});var p=e.coords;if(p){p=p.split(","),t.coords=[];for(var d=0,h=p.length;d<h;d+=8){var m=Math.min(+p[0],+p[2],+p[4],+p[6]),v=Math.max(+p[0],+p[2],+p[4],+p[6]),y=Math.max(+p[1],+p[3],+p[5],+p[7]),b=Math.min(+p[1],+p[3],+p[5],+p[7]);t.coords.push({left:m,right:v,top:y,bottom:b})}}var w=e.callout;if(w){w=w.split(","),t.calloutLinePoints=[];for(var _=0,P=w.length;_<P;_+=2)t.calloutLinePoints.push({x:+w[_],y:+w[_+1]})}var O=e.head;O&&(t.startStyle=g(O));var E=e.tail;E&&(t.endStyle=g(E));var x=e.vertices;if(x){t.vertexes=[],x=x.split(";");for(var C=0;C<x.length;C++){var A=x[C].split(",");t.vertexes.push({x:+A[0],y:+A[1]})}}var S=e.inklist;if(S){t.inkList=[],S=JSON.parse("["+S.replace(/;/g,",")+"]");for(var D=0;D<S.length;D++)for(var T=S[D],I=0;I<T.length;I+=2){var R=T[I],M=0==I?1:2;t.inkList.push({x:R,y:T[I+1],type:M})}}var j=i.Border_Style[e.style||"solid"];t.borderInfo={style:j,width:e.width||1};var k=e.dashes;k&&(t.borderInfo.dashes=JSON.parse("["+k+"]"));var N=e.intensity;N&&(t.borderInfo.cloudIntensity=N);var F=e.start;F&&(F=F.split(","),t.startPoint={x:+F[0],y:+F[1]});var L=e.end;return L&&(L=L.split(","),t.endPoint={x:+L[0],y:+L[1]}),t},t.PDFNameEncode=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$handler=t,this.render=n,this.states=[]}return e.prototype.active=function(){},e.prototype.destroy=function(){},e.prototype.intoState=function(){},e.prototype.outState=function(){},e.prototype.resetState=function(){},e.prototype.setStates=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.states;this.states=e},e.prototype.getStates=function(){return this.states},e.prototype.clearStates=function(){},e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(n(71)),r=u(n(271)),i=n(39),a=u(n(19)),s=(u(n(409)),u(n(38))),c=n(22);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var f=function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o));return r.resetAction(),r.mapFormControl(),r}return l(t,e),t.prototype.resetAction=function(){this.action=this.page.doc.engine.actionFactory.createAction(this.info.action,this.page.doc,this.page.doc.api,this.eventEmitter,this)},t.prototype.mapFormControl=function(){var e=this.info,t=this.getField();if(t){var n=t.getControlById(e.objectNumber);n&&!n.isEmpty()&&n.setWidget(this),this.formControl=n}},t.prototype.destroy=function(){this.action=null,this.render=null,e.prototype.destroy.call(this)},t.prototype.getControl=function(){return this.formControl||this.mapFormControl(),this.formControl},t.prototype.setDisplay=function(e,t){var n=this.info.flag;switch(e){case 0:n&=-2,n&=-3,n&=-33,n|=4;break;case 1:n&=-2,n&=-33,n|=6;break;case 2:n&=-2,n&=-5,n&=-3,n&=-33;break;case 3:n|=32,n|=4,n&=-3}return this.setFlagValue(n,t)},t.prototype.getObjNum=function(){return this.info.objectNumber},t.prototype.getAction=function(){return this.action},t.prototype.getRotation=function(){return this.info.rotation},t.prototype.getField=function(){if(!this.page)return null;var e=this.page.getPDFDoc().getPDFForm();return e&&e.getField(this.info.field)},t.prototype.getMKProperty=function(e){switch(e){case"borderColor":return this.info.MKBorderColor;case"fillColor":return this.info.fillColor;case"normalCaption":case"downCaption":case"rolloverCaption":default:return this.info[e]}},t.prototype.setMKProperty=function(e,t){switch(e){case"borderColor":if(this.info.MKBorderColor==t)return Promise.resolve(!0);this.info.MKBorderColor=t;break;default:if(this.info[e]==t)return Promise.resolve(!0);this.info[e]=t}return this.updateMKProperty(e,t)},t.prototype.getBorderColor=function(){return this.getMKProperty("borderColor")},t.prototype.updateMKProperty=function(e,t){var n=this,o=this.page,r=o.getPDFDoc();return this.page.doc.api.updateMKProperty(r.getId(),o.getId(),this.getId(),e,t).then((function(t){return n.triggerUpdateEvent(s.default.formFieldMKPropertyUpdated,e),t}))},t.prototype.triggerUpdateEvent=function(e,t){this.engine.eventEmitter.emit(a.default.annotationUpdated,[this],this.getPDFPage(),e,t)},t.prototype.updateUI=function(e){this.render&&this.render(e)},t.prototype.setRenderNotifier=function(e){this.render=e},t.prototype.getAdditionalAction=function(e){if(-1==e)return this.action;if(e>=c.Action_Trigger.keyStroke&&e<=c.Action_Trigger.calculate)return this.getField().getAction(e);if(!this.engineActions)for(var t in this.engineActions={},this.info.AA)this.engineActions[t]=r.default.createAction(this.info.AA[t],this.page.getPDFDoc());return this.engineActions[e]?this.engineActions[e]:this.getField().getAction(e)},t.prototype.switchAS=function(){if(3!=this.getField().getType()||"Off"==this.info.ApState){1==this.info.ApStates.length&&"Off"!=this.info.ApStates[0]&&(this.info.ApStates[1]="Off"),this.info.ApStates[0]==this.info.ApState?this.info.ApState=this.info.ApStates[1]:this.info.ApState=this.info.ApStates[0];var e=this.getField(),t=this.info.ApState;3==e.getType()&&(t=this.formControl.getExportValue()),e.setValue(t,this)}},t.prototype.setAS=function(e,t){var n="Off",o=this.info.ApStates;switch(this.getField().getType()){case 3:var r=this.getControl().getExportValue(),a=this.getOnAS();n=t==this.info.objectNumber?e==r?a:"Off":(!t||i.FieldFlag.inUnison(this.getField().getFlags()))&&e==r?a:"Off";break;default:var s=this.getField().getControlById(t);(!t||t&&this.getControl().getExportValue()==s.getExportValue())&&(n="Off"!=e?o[1]:o[0])}this.info.ApState=n;var c=this.page,u=c.getPDFDoc();return this.page.doc.api.setWidgetAS(u.getId(),c.getId(),this.getId(),this.info.ApState)},t.prototype.getDAFontSize=function(){var e=this.getDefaultAppearance().textSize;return e||this.getField().getDAFontSize()},t.prototype.getAlignment=function(){return void 0!==this.info.alignment?this.info.alignment:this.getField().getAlignment()},t.prototype.getDefaultAppearance=function(){var e=this.info.DA;if(e&&Object.keys(e).length>0)return e=Object.assign({},this.info.DA);var t=this.getField();return Object.assign({},t.info.DA)},t.prototype.setDefaultAppearance=function(e){var t=this.page,n=t.getPDFDoc();return this.info.DA.textColor=void 0!==e.textColor?e.textColor:this.info.DA.textColor,this.info.DA.textSize=void 0!==e.textSize?e.textSize:this.info.DA.textSize,this.page.doc.api.setDefaultAppearance(n.getId(),t.getId(),this.getId(),JSON.stringify(e))},t.prototype.getWidgetMkOption=function(){var e=this.page,t=e.getPDFDoc();return e.doc.api.getWidgetMkOption(t.getId(),e.getId(),this.getId())},t.prototype.setWidgetIconCaptionRelation=function(e){var t=this,n=this.page,o=n.getPDFDoc();return n.doc.api.setWidgetIconCaptionRelation(o.getId(),n.getId(),this.getId(),e).then((function(e){t.updateUI({})}))},t.prototype.setWidgetHighlighting=function(e){var t=this,n=this.page,o=n.getPDFDoc();return n.doc.api.setWidgetHighlighting(o.getId(),n.getId(),this.getId(),e).then((function(e){t.updateUI({})}))},t.prototype.setWidgetMkCaption=function(e,t){var n=this,o=this.page,r=o.getPDFDoc();return o.doc.api.setWidgetMkCaption(r.getId(),o.getId(),this.getId(),e,t).then((function(e){n.updateUI({})}))},t.prototype.setWidgetMkIcon=function(e,t){var n=this,o=this.page,r=o.getPDFDoc();return o.doc.api.setWidgetMkIcon(r.getId(),o.getId(),this.getId(),e,t).then((function(e){n.updateUI({})}))},t.prototype.getWidgetIconFitOption=function(){var e=this.page,t=e.getPDFDoc();return e.doc.api.getWidgetIconFitOption(t.getId(),e.getId(),this.getId())},t.prototype.setWidgetIconFitOption=function(e){var t=this,n=this.page,o=n.getPDFDoc();return n.doc.api.setWidgetIconFitOption(o.getId(),n.getId(),this.getId(),e).then((function(e){t.updateUI({})}))},t.prototype.getDAFontSize=function(){var e=this.getDefaultAppearance().textSize;return e||this.getField().getDAFontSize()},t.prototype.getDirectionRTL=function(){return this.info.directionRTL},t.prototype.setDirectionRTL=function(e){var t=this;if(void 0!==e&&0!==e&&1!==e)throw new Error("Unknown directionRTL: "+e);return this.updateMKProperty("directionRTL",e).then((function(){return t.update().then((function(){return t.getField().setAlignment(e?2:0)}))}))},t.prototype.getLineSpace=function(){return this.info.lineSpace},t.prototype.setLineSpace=function(e){var t=this;if(!(void 0===e||Array.isArray(e)&&2===e.length&&-1!==[0,1,2,3].indexOf(e[0])&&e[1]>=0))throw new Error("Unknown lineSpace: "+e);return this.updateMKProperty("lineSpace",e).then((function(){return t.update()}))},t.prototype.getAlignment=function(){return void 0!==this.info.alignment?this.info.alignment:this.getField().getAlignment()},t.prototype.getDefaultAppearance=function(){var e=this.info.DA;if(e&&Object.keys(e).length>0)return e=Object.assign({},this.info.DA);var t=this.getField();return Object.assign({},t.info.DA)},t.prototype.getOnAS=function(){return"Off"!=this.info.ApStates[0]?this.info.ApStates[0]:this.info.ApStates[1]},t.prototype.getAS=function(){return this.info.ApState},t.prototype.getIconObjNum=function(e){switch(e){case 0:return this.info.normalIcon;case 1:return this.info.downIcon;case 2:return this.info.rollIcon}},t.prototype.setIconObj=function(e,t){var n=void 0;switch(t){case 0:n="normalIcon",this.info.normalIcon=e;break;case 1:n="downIcon",this.info.downIcon=e;break;case 2:n="rolloverIcon",this.info.rollIcon=e}return this.updateMKProperty(n,e)},t.prototype.setAdditionalAction=function(e,t){return e>=c.Action_Trigger.keyStroke&&e<=c.Action_Trigger.calculate?this.getField().setAction(e,t):this.setAction(e,t)},t.prototype.setAction=function(e,t,n){var o=this;if(!t)throw new Error("No Action!");var r=this.page,i=r.doc;return this.engineActions||this.getAdditionalAction(11),this.page.doc.api.setAction(i.getId(),r.getId(),this.getId(),t.info,e,n).then((function(r){t.init(r,o.page.doc.engine.actionFactory,i,o.page.doc.api,o.page.doc.engine.eventEmitter,o);var a=!1;return-1==e&&o.info.action&&(a=!0),-1!=e&&o.engineActions[e]&&(a=!0),n&&a?-1==e?o.action.appendSubAction(t):o.engineActions[e].appendSubAction(t):-1==e?(o.info.action=t.info,o.action=t):(o.info.AA[e]=t.info,o.engineActions[e]=t),o.triggerUpdateEvent(s.default.formFieldActionUpdated),r}))},t.prototype.removeAction=function(e,t,n){var o=this,i=this.getField(),a=0,c=0;n?(a=0,c=n.info.objNumber):delete i.info.AA[e],"-1"==e?(delete this.info.action,delete this.action):(delete this.info.AA[e],this.engineActions&&delete this.engineActions[e],i.engineActions&&delete i.engineActions);var u=this.page,l=u.doc;return l.api.removeAction(l.getId(),u.getId(),this.getId(),e,a,c).then((function(t){var n=t[0];n&&("-1"==e?(o.info.action=n,o.action=r.default.createAction(n,o.page.getPDFDoc())):(o.info.AA[e]=n,o.engineActions[e]=r.default.createAction(n,o.page.getPDFDoc()))),t[1]&&(i.info.AA[e]=t[1]),o.triggerUpdateEvent(s.default.formFieldActionUpdated)}))},t.prototype.getDAFontColor=function(){var e=this.getDefaultAppearance().textColor;return e||this.getField().getDAFontColor()},t.prototype.getAlignment=function(){return void 0!==this.info.alignment?this.info.alignment:this.getField().getAlignment()},t.prototype.getDefaultAppearance=function(){return this.formControl||this.mapFormControl(),this.formControl.getDefaultAppearance()},t.prototype.setDefaultAppearance=function(e){return this.formControl||this.mapFormControl(),this.formControl.setDefaultAppearance(e)},t}(o.default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=g(n(72)),r=g(n(272)),i=g(n(273)),a=g(n(842)),s=g(n(174)),c=g(n(406)),u=g(n(407)),l=g(n(274)),f=g(n(275)),p=g(n(408)),d=g(n(843)),h=g(n(844));function g(e){return e&&e.__esModule?e:{default:e}}var m=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.createAction=function(e,t,n,g,m){if(e)switch(e.type){case"TypeURI":return new r.default(e,this,t,n,g,m);case"TypeLaunch":return new i.default(e,this,t,n,g,m);case"TypeNamed":return new a.default(e,this,t,n,g,m);case"TypeJavaScript":return new s.default(e,this,t,n,g,m);case"TypeSubmitForm":return new c.default(e,this,t,n,g,m);case"TypeResetForm":return new u.default(e,this,t,n,g,m);case"TypeImportData":return new l.default(e,this,t,n,g,m);case"TypeGoto":return new f.default(e,this,t,n,g,m);case"TypeHide":return new p.default(e,this,t,n,g,m);case"TypeGoToR":return new d.default(e,this,t,n,g,m);case"TypeGoToE":return new h.default(e,this,t,n,g,m);default:return new o.default(e,this,t,n,g,m)}},e}();t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(72)),r=(i(n(19)),n(22));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=function(e){function t(n,o,i,c,u,l){if(a(this,t),0==arguments.length){var f=s(this,e.call(this,r.Action_Type.uri));return s(f)}return s(this,e.call(this,n,o,i,c,u,l))}return c(t,e),t.prototype.getURI=function(){return this.info.uri},t.prototype.checkOutData=function(e){return e&&e.uri},t.prototype.setURI=function(e){var t=this;if(!e&&"string"==typeof e)throw new Error("param error. Only non-empty strings is available.");return this.doc?this.doc.api.setActionURI(this.doc.getId(),this.info.objNumber,e).then((function(e){return t.updateAction(e),e})):(this.info.uri=e,Promise.resolve())},t.prototype.exportToJson=function(){var t=e.prototype.exportToJson.call(this);return Object.assign(t,{uri:this.getURI()})},t}(o.default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(72)),r=a(n(137)),i=n(22);function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(n,o,a,u,l,f){if(s(this,t),0==arguments.length){var p=c(this,e.call(this,i.Action_Type.launch));return c(p)}return(p=c(this,e.call(this,n,o,a,u,l,f))).fileSpec=p.info.fileSpec&&new r.default(p.info.fileSpec)||null,c(p)}return u(t,e),t.prototype.setFileSpec=function(e){this.fileSpec=e,this.info.fileSpec=e.fileSpec},t.prototype.getFileSpec=function(){return this.fileSpec},t.prototype.checkOutData=function(e){return e&&e.buffer},t.prototype.updateAction=function(t){return this.fileSpec=t.fileSpec&&new r.default(t.fileSpec)||null,e.prototype.updateAction.call(this,t)},t}(o.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(72)),r=(a(n(71)),a(n(137))),i=n(22);function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(n,o,a,u,l,f){if(s(this,t),0==arguments.length){var p=c(this,e.call(this,i.Action_Type.importData));return c(p)}return(p=c(this,e.call(this,n,o,a,u,l,f))).fileSpec=p.info.fileSpec&&new r.default(p.info.fileSpec)||null,c(p)}return u(t,e),t.prototype.setFileSpec=function(e){this.fileSpec=e,this.info.fileSpec=e.fileSpec},t.prototype.getFileSpec=function(){return this.fileSpec},t.prototype.checkOutData=function(e){return e&&e.buffer},t.prototype.updateAction=function(t){return this.fileSpec=t.fileSpec&&new r.default(t.fileSpec)||null,e.prototype.updateAction.call(this,t)},t}(o.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(72),i=(o=r)&&o.__esModule?o:{default:o},a=n(22);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=["ZoomXYZ","ZoomFitPage","ZoomFitHorz","ZoomFitRect","ZoomFitBHorz"],f=function(e){function t(n,o,r,i,u,l){if(s(this,t),0==arguments.length){var f=c(this,e.call(this,a.Action_Type.goto));return c(f)}return c(this,e.call(this,n,o,r,i,u,l))}return u(t,e),t.prototype.getDestination=function(){return this.info.destination},t.prototype.checkOutData=function(e){return function(e){var t=void 0;return t=!!e.type,{ZoomXYZ:function(){t=e.pageIndex!=null&&e.left!=null&&e.top!=null&&e.zoomFactor!=null},ZoomFitPage:function(){t=!!(e.pageIndex!=null)},ZoomFitHorz:function(){t=e.pageIndex!=null&&e.top!=null},ZoomFitVert:function(){t=e.pageIndex!=null&&e.left},ZoomFitRect:function(){t=e.pageIndex!=null&&e.left&&e.top!=null&&e.bottom!=null&&e.right!=null},ZoomFitBBox:function(){t=!!(e.pageIndex!=null)},ZoomFitBHorz:function(){t=e.pageIndex!=null&&e.top!=null},ZoomFitBVert:function(){t=e.pageIndex!=null&&e.left!=null}}[e.type](),t}(e)},t.prototype.setDestination=function(e){var t=this;if(!this.doc)return this.info.destination=e,Promise.resolve();if(-1===l.indexOf(e.zoomMode))throw new Error("param error. ZoomMode is invalid.");return e.pageIndex=Math.min(this.doc.getPageCount()-1,Math.max(e.pageIndex,0)),this.doc.api.setActionDestination(this.doc.getId(),this.info.objNumber,e).then((function(e){return t.updateAction(e),e}))},t.prototype.exportToJson=function(){var t=e.prototype.exportToJson.call(this);return Object.assign(t,{destination:this.getDestination()})},t}(i.default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logOff=t.logAppenders=t.logLayout=t.logLevel=void 0,t.setLogLevel=function(e){switch(e){case o.LEVEL_DEBUG:case o.LEVEL_INFO:case o.LEVEL_WARN:case o.LEVEL_ERROR:t.logLevel=e}};var o=n(138);t.logLevel="warn",t.logLayout="complex",t.logAppenders=["console"],t.logOff=!1},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(56),i=(o=r)&&o.__esModule?o:{default:o};var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.print=function(e,t){(0,i.default)(e,t)},e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(3);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.getName=function(){return"NoopController"},t.prototype.prelink=function(){},t.prototype.postlink=function(){},t.prototype.mounted=function(){},t.prototype.destroy=function(){},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.initService=function e(t,n,r,i){if(!r)return;if(Array.isArray(r))return r.forEach((function(e,o){t.getServiceInstance(e,n)})),void("function"==typeof i.serviceInjected&&i.serviceInjected());var a=function(a){var s=r[a];if("object"===(void 0===s?"undefined":o(s)))s.pdfui=t,i[a]=s;else if("function"==typeof s||"string"==typeof s){var c=void 0;Object.defineProperty(i,a,{get:function(){if(!c&&(c=t.getServiceInstance(s,n))&&!c.$$isDepServicesInitialized){c.$$isDepServicesInitialized=!0;var o=c.constructor,r=o.services;if("function"==typeof r){var i=r.call(o);i&&e(t,n,i,c)}}return c}})}};for(var s in r)a(s);"function"==typeof i.serviceInjected&&i.serviceInjected()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(867)),r=s(n(868)),i=s(n(870)),a=s(n(878));s(n(101));function s(e){return e&&e.__esModule?e:{default:e}}var c={};function u(e){if("string"!=typeof e)throw new Error(e+" is not a valid selector");if(e=e.trim(),c[e])return c[e];var t=(new r.default).tokenize(e).map((function(e){return i.default.create(e.type,e.options)}));return new a.default(t)}t.default={selectors:c,parseSelectors:function(e){var t=e.split(/\s*,\s*/).map((function(e){return u(e)}));return 1===t.length?t[0]:new o.default(t)},parseSelector:u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(8),i=s(n(6)),a=s(n(144));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.namespace,o=void 0===n?r.ROOT_MODULE_NAME:n,a=t.type,s=t.text;c(this,e),this.$$options={namespace:o,type:a,text:s},this.componentOptions={proxyControllers:[]},this.module=i.default._nostrictModule(o),this.namespace=o,this.text=s,this.parent=null,this.type=a,this.asyncFragments=[]}return o(e,null,[{key:"NODE_TYPE_CONTAINER",get:function(){return"container"}},{key:"NODE_TYPE_TEXT",get:function(){return"text"}},{key:"NODE_TYPE_FRAGMENT",get:function(){return"fragment"}}]),e.prototype.isAsync=function(){return!!this.asyncAncestor()},e.prototype.asyncAncestor=function(){if(this._isAsync)return this;for(var e=this.parent;e;){if(e._isAsync)return e;e=e.parent}},e.prototype.appendFragment=function(e){this.asyncFragments.push(e)},e.prototype.setComponentOptions=function(e){this.componentOptions=e,e.proxyControllers||(e.proxyControllers=[])},e.prototype.appendComponentOptions=function(e){e&&(0,a.default)(this.componentOptions,e)},e.prototype.clone=function(){return new e(this.$$options)},e.prototype.getRoot=function(){return this.parent?this.parent.getRoot():this},e.prototype.remove=function(){return this.parent&&this.parent.removeChild(this),this},e.prototype.index=function(){return this.parent?this.parent.children.indexOf(this):-1},e.prototype.after=function(e){var t=this.index();if(-1===t)throw new Error("cannot insert node after a node that has not been appended");this.parent&&this.parent.insert(e,t+1)},e.prototype.before=function(e){var t=this.index();if(-1===t)throw new Error("cannot insert node before a node that has not been appended");this.parent&&this.parent.insert(e,t)},e.prototype.prelink=function(){},e.prototype.postlink=function(){},o(e,[{key:"_isAsync",get:function(){return!1}}]),e}();t.default=u},function(e,t,n){"use strict";var o;function r(e,t,n){if(void 0===t&&(t="@{"),void 0===n&&(n="}"),!e||e.length<=t.length+n.length)return[{type:o.text,content:e||""}];for(var r=[],i=0;;){var a=e.indexOf(t,i);if(-1===a){r.push({type:o.text,content:e.slice(i)});break}var s=e.indexOf(t,a+t.length),c=void 0;if(-1===(c=s>-1?e.lastIndexOf(n,s):e.lastIndexOf(n))){r.push({type:o.text,content:e.slice(i)});break}r.push({type:o.text,content:e.slice(i,a)}),r.push({type:o.placeholder,content:e.substring(a+t.length,c)}),i=c+n.length}return r}n.r(t),n.d(t,"TokenType",(function(){return o})),n.d(t,"tokenize",(function(){return r})),function(e){e.text="text",e.placeholder="placeholder"}(o||(o={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(879),i=(o=r)&&o.__esModule?o:{default:o};var a=function(){function e(t,n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.parser=t,this.pdfui=n,this.localizer=o,this.options={parser:t},this.context=r}return e.prototype.appendOptions=function(e){return Object.assign(this.options,e),this},e.prototype.appendInitData=function(e){return this.options.$initData=Object.assign(this.options.$initData||{},e),this},e.prototype.appendVNode=function(e){return this.vnode=e,this.options.viewConfig=e.toViewConfig(),this},e.prototype.appendParentComponent=function(e){return this.parentComponent=e,this.options.parentComponent=e,this},e.prototype.build=function(){var e=this.vnode.getComponentClass(),t=this.vnode.getDirectiveInstances(this.parentComponent,this.localizer),n=new i.default({node:this.vnode,parentComponent:this.parentComponent},t);if(n.processComponentOptions(this.options),!this.options.callback&&this.parentComponent&&(this.options.callback=this.parentComponent.controller),"context"in this.options&&this.options.context!==this.context)throw new Error("Conflicting component option: context");this.options.context=this.context;var o=new e(this.options,this.vnode.module,this.localizer);o.setPDFUIInstance(this.pdfui),n.init(o),n.beforeComponentRender(),o.prerender();try{o.render()}finally{n.afterComponentRender()}return o},e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.viewerRender=t}return e.prototype.getScrollHost=function(){return window},e.prototype.scrollBy=function(e,t){this.getScrollHost().scrollBy(e,t)},e.prototype.scrollTo=function(e,t){this.getScrollHost().scrollTo(e,t)},e.prototype.getScrollOffsetTop=function(){return this.viewerRender.$ui[0].offsetTop},e.prototype.getScrollOffsetLeft=function(){return this.viewerRender.$ui[0].offsetLeft},e.prototype.getScrollY=function(){var e=this.getScrollHost();return e.scrollY||e.pageYOffset||0},e.prototype.getScrollX=function(){var e=this.getScrollHost();return e.scrollX||e.pageXOffset||0},e.prototype.getWidth=function(){return this.getScrollHost().innerWidth-30},e.prototype.getHeight=function(){return this.getScrollHost().innerHeight-30},e.prototype.getScrollTop=function(){var e=this.getScrollHost();return e.scrollY||e.pageYOffset||0},e.prototype.getScrollLeft=function(){var e=this.getScrollHost();return e.scrollX||e.pageXOffset||0},e.prototype.addScrollEventListener=function(e){var t=this.getScrollHost();function n(n){e(n,t)}return t.addEventListener("scroll",n),function(){return t.removeEventListener("scroll",n)}},e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(4);(o=r)&&o.__esModule;var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.docRender=t,t.$ui.addClass("fv__view-mode"),this.pageDOMs=[]}return e.getName=function(){},e.prototype.getItems=function(){return this.pageDOMs},e.prototype.into=function(e,t){this.pageDOMs=t;var n=document.createDocumentFragment();"function"==typeof n.append?n.append.apply(n,t):t.forEach((function(e){n.appendChild(e)})),e.innerHTML="",e.appendChild(n)},e.prototype.updatePageDOMs=function(e){this.pageDOMs=e},e.prototype.renderViewMode=function(e,t,n,o,r){},e.prototype.afterRenderVisiblePages=function(){},e.prototype.jumpToPage=function(e,t){t.x,t.y},e.prototype.getFitHeight=function(e){},e.prototype.getFitWidth=function(e){},e.prototype.getVisibleIndexes=function(){},e.prototype.getCurrentPageIndex=function(){return 0},e.prototype.getPrevPageIndex=function(){return Math.max(0,this.getCurrentPageIndex()-1)},e.prototype.getNextPageIndex=function(){var e=this.docRender.getPDFDoc().getPageCount();return Math.min(e-1,this.getCurrentPageIndex()+1)},e.prototype.out=function(){this.docRender=null,this.pageDOMs=[]},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(157)),r=i(n(897));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var s=function(e){function t(n,o,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r,i));return a.name="strikeout",a.$ui.addClass("fv__pdf-page-strikeout-annot-container"),a.$handler.addClass("fv__pdf-page-strikeout-annot-handler-container"),a}return a(t,e),t.prototype.generateApRenderer=function(){return this.checkRenderingModeIs("canvas")?new r.default(this):e.prototype.generateApRenderer.call(this)},t.prototype.updateRender=function(){var e=this.annot,t=[],n=[],o=this.parent("annotsRender");if(e.isGrouped())for(var r=e.getGroupElements(),i=r.length;i--;){var a=r[i];n[i]=o.getAnnotRender(a.getId()).component,t[i]=a.update()}else n=[this],t=[e.update()];return Promise.all(t).then((function(){for(var e=[],t=n.length;t--;)e[t]=n[t].render();return Promise.all(e)}))},t.prototype.checkRenderingModeIs=function(e){return this.pdfViewer.config.annotRenderingMode.strikeout===e},t}(o.default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(83),i=(o=r)&&o.__esModule?o:{default:o},a=n(7),s=n(12);var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.component=t}return e.prototype.numberToRGBAString=function(e){if("string"==typeof e)return e;var t=(0,s.convertFromNumberToRGBA)(e);return"rgba("+t.r+", "+t.g+", "+t.b+", "+t.a+")"},e.prototype.renderLineEnd=function(e,t,n,o,r,i){if(0!==o){var s=n.renderingData,c=s.fillColor;"line"===s.annotInfo.type&&(c=s.annotInfo.styleFillColor);var u=n.scale,l=Math.atan2(i.y-r.y,i.x-r.x);switch(e.save(),e.lineJoin="miter",e.beginPath(),o){case a.LineEndingStyle.Square:this.renderSquareEnding(e,i,l,u,t);break;case a.LineEndingStyle.Circle:this.renderCircleEnding(e,i,l,u,t);break;case a.LineEndingStyle.Diamond:this.renderDiamondEnding(e,i,l,u,t);break;case a.LineEndingStyle.OpenArrow:this.renderOpenArrowEnding(e,i,l,u,t);break;case a.LineEndingStyle.ClosedArrow:this.renderClosedArrowEnding(e,i,l,u,t);break;case a.LineEndingStyle.Butt:this.renderButtEnding(e,i,l,u,t);break;case a.LineEndingStyle.ROpenArrow:this.renderROpenArrowEnding(e,i,l,u,t);break;case a.LineEndingStyle.RClosedArrow:this.renderRClosedArrowEnding(e,i,l,u,t);break;case a.LineEndingStyle.Slash:this.renderSlashEnding(e,i,l,u,t)}switch(o){case a.LineEndingStyle.ClosedArrow:case a.LineEndingStyle.RClosedArrow:case a.LineEndingStyle.Diamond:case a.LineEndingStyle.Square:case a.LineEndingStyle.Circle:c&&(e.fillStyle=this.numberToRGBAString(c),e.fill())}e.stroke(),e.restore()}},e.prototype.renderSquareEnding=function(e,t,n,o,r){var i=10+2*r,a=i/2;e.translate(t.x,t.y),e.rotate(n),e.moveTo(-a,-a),e.rect(-a,-a,i,i)},e.prototype.renderCircleEnding=function(e,t,n,o,r){var i=4+r;e.translate(t.x,t.y),e.rotate(n),e.moveTo(i,0),e.arc(0,0,i,0,2*Math.PI)},e.prototype.renderDiamondEnding=function(e,t,n,o,r){var i=10+2*r,a=i/2;e.translate(t.x,t.y),e.rotate(n+Math.PI/4),e.moveTo(-a,-a),e.rect(-a,-a,i,i)},e.prototype.renderOpenArrowEnding=function(e,t,n,o,r){var i=30/180*Math.PI;this.renderArrow(e,t,n,o,r,i,!1)},e.prototype.renderClosedArrowEnding=function(e,t,n,o,r){var i=30/180*Math.PI;this.renderArrow(e,t,n,o,r,i,!0)},e.prototype.renderButtEnding=function(e,t,n,o,r){var a=Math.PI/2,s=10+2*r,c=new i.default(t.x+s/2,t.y).rotate(Math.PI-n+a,t),u=c.rotate(Math.PI,t);e.moveTo(c.x,c.y),e.lineTo(u.x,u.y)},e.prototype.renderROpenArrowEnding=function(e,t,n,o,r){var i=150/180*Math.PI;this.renderArrow(e,t,n,o,r,i,!1)},e.prototype.renderRClosedArrowEnding=function(e,t,n,o,r){var i=150/180*Math.PI;this.renderArrow(e,t,n,o,r,i,!0)},e.prototype.renderArrow=function(e,t,n,o,r,a){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=10+2*r,u=new i.default(t.x+c,t.y),l=u.rotate(Math.PI-n+a,t),f=u.rotate(Math.PI-n-a,t);e.moveTo(l.x,l.y),e.lineTo(t.x,t.y),e.lineTo(f.x,f.y),s&&e.closePath()},e.prototype.renderSlashEnding=function(e,t,n,o,r){var a=60/180*Math.PI,s=10+2*r,c=new i.default(t.x+s/2,t.y).rotate(Math.PI-n+a,t),u=c.rotate(Math.PI,t);e.moveTo(c.x,c.y),e.lineTo(u.x,u.y)},e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=c(n(215)),i=c(n(1)),a=(c(n(4)),n(12)),s=c(n(346));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(n,o,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r,i));return a.name="polyline",a}return u(t,e),t.prototype.generateApRenderer=function(){return new s.default(this)},t.prototype.activeMore=function(){this.annot.getVertexes();this.$handler.addClass("fv__pdf-annot-polyLine-container");var e=this.annot.getVertexes().length;this.hammerInited=this.hammerInited||this.initHammer(e)},t.prototype.getPropertyOptions=function(){var e=this.annot,t=(0,a.colorConvertor)(e.getBorderColor(),"#"),n=e.getOpacity(),o=e.getBorderWidth(),r=e.getStyleFillColor(),i=this.propertyDisabled();return{color:t,opacity:n,fillColor:r,borderWidth:o,lineStartStyle:e.getStartStyle(),lineEndStyle:e.getEndingStyle(),disabled:i}},t.prototype.backupProperty=function(e){if(!e)return this.oldRect=Object.assign({},this.annot.getRect());this.oldVertex=Object.assign({},this.annot.getVertexes())},t.prototype.updatePoint=function(e,t,n){var o=this;return this.movePointAt(n,{offsetX:e,offsetY:t}).then((function(){o.pdfViewer.eventEmitter.emit(i.default.updateActionAnnotation,o)}))},t.prototype.movePointAt=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.offsetX,i=void 0===r?0:r,a=n.offsetY,s=void 0===a?0:a,c=this.annot.page.reverseDeviceOffset([i,s],this.scale,this.rotate),u=o(c,2),l=u[0],f=u[1],p=this.oldVertex||this.annot.getVertexes(),d={x:p[e].x+l,y:p[e].y+f},h=this.getPDFPage(),g=h.getWidth(),m=h.getHeight(),v=h.getRotationAngle(),y=0==(v/90&1)?g:m,b=0==(v/90&1)?m:g;return d.x=Math.max(d.x,0),d.y=Math.max(d.y,0),d.x=Math.min(d.x,y),d.y=Math.min(d.y,b),this.annot.updateVertexes(e,d).then((function(){return t.updateRender()})).then((function(){t.shapeControl.active(t.$handler,t.getBoundary(),t._getShapeControllerBoundaryBox())}))},t.prototype.setLastPoint=function(e,t){var n=this.rotate,r=this.scale,i=this.annot.getVertexes().slice(0),a=i[i.length-1],s=this.annot.page.getDevicePoint([a.x,a.y],r,n),c=o(s,2),u=c[0],l=c[1];e="number"==typeof e?e:u,t="number"==typeof t?t:l;var f=this.annot.page.reverseDevicePoint([e,t],r,n),p=o(f,2),d=p[0],h=p[1];return a.x=d,a.y=h,this.setVertexes(i)},t.prototype.addPoint=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.annot.page.reverseDevicePoint([e,t],this.scale,this.rotate),r=o(n,2),i=r[0],a=r[1],s=this.annot.getVertexes().concat({x:i,y:a});return this.setVertexes(s)},t.prototype.setVertexes=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot.getVertexes();return this.annot.setVertexes(t).then((function(){return e.updateRender()})).then((function(){e.shapeControl.active(e.$handler,e.getBoundary(),e._getShapeControllerBoundaryBox())}))},t.prototype.getVertexes=function(){return this.annot.getVertexes()},t.prototype.deleteVertex=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot.getVertexes().length-1,t=this.annot.getVertexes().filter((function(t,n){return n!==e}));return this.setVertexes(t)},t.prototype.updateHandlerPosition=function(){for(var e=this.$handler,t=this.scale,n=this.rotate,o=this.annot.getVertexes(),r=0;r<o.length;r++){var i=e.find("[data-index="+r+"]"),a=o[r];a=this.annot.page.getDevicePoint([a.x,a.y],t,n),i.css({left:a[0]+"px",top:a[1]+"px"})}},t.prototype.getRenderingData=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,o=e.prototype.getRenderingData.call(this,t,n);return Object.assign(o,{vertexes:this.getVertexes()})},t}(r.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SolidPathSegment=void 0;var o,r=n(290),i=n(83);(o=i)&&o.__esModule;function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=function(e){function t(n){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a(this,t);var r=s(this,e.call(this));return r.closing=o,n.length>1&&n.reduce((function(e,t,n){return r.addSegment(new l(e,t,1===n)),t})),r}return c(t,e),t.prototype.render=function(e){e.beginPath(),this.segments.forEach((function(t){t.render(e)})),this.closing&&e.closePath()},t}(r.Path);t.default=u;var l=t.SolidPathSegment=function(e){function t(n,o){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];a(this,t);var i=s(this,e.call(this,n,o));return i.atTheStart=r,i}return c(t,e),t.prototype.render=function(e){this.atTheStart&&e.moveTo(this.from.x,this.from.y),e.lineTo(this.to.x,this.to.y)},t}(r.PathSegment)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PathGenerator=t.PathSegment=t.Path=void 0;var o=r(n(56));r(n(83));function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.Path=function(){function e(){i(this,e),this.segments=[]}return e.prototype.addSegment=function(e){e instanceof a&&this.segments.push(e)},e.prototype.render=function(e){e.beginPath(),this.segments.forEach((function(t){t.render(e)})),e.closePath()},e}();var a=t.PathSegment=function(){function e(t,n){i(this,e),this.from=t,this.to=n}return e.prototype.render=function(e){(0,o.default)()},e.prototype.isJoinedBefore=function(e){return this.to.equalTo(e.from)},e.prototype.isJoinedAfter=function(e){return e.to.equalTo(this.from)},e.prototype.isJoinedWith=function(e){return this.isJoinedBefore(e)||this.isJoinedAfter(e)},e}();t.PathGenerator=function(){function e(){i(this,e)}return e.prototype.generate=function(){(0,o.default)()},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=c(n(1)),r=n(7),i=n(12),a=c(n(288)),s=c(n(347));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(n,o,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r,i));return a.name="polygon",a}return u(t,e),t.prototype.generateApRenderer=function(){return new s.default(this,!0)},t.prototype.activeMore=function(){var e=this.annot.getVertexes();this.$handler.addClass("fv__pdf-annot-polygon-container");var t=e.length;this.hammerInited=this.hammerInited||this.initHammer(t)},t.prototype.updateRender=function(){var t=this;return this.annot.update().then((function(){var e=t._getShapeControllerBoundaryBox();t.shapeControl.active(t.$handler,t.getBoundary(),e)})).then((function(n){return e.prototype.updateRender.call(t)}))},t.prototype.getPropertyOptions=function(){var e=this.annot;return{color:(0,i.colorConvertor)(e.getBorderColor(),"#"),opacity:e.getOpacity(),borderWidth:e.getBorderWidth(),cloudy:!0,fillColor:e.getFillColor(),disabled:this.propertyDisabled()}},t.prototype.updateBorderProperty=function(e){switch(this.annot.getCloudIntensity()){case 1:e.find("#borderStyle-select [value=6]").attr("selected",!0);break;case 2:e.find("#borderStyle-select [value=7]").attr("selected",!0)}},t.prototype.backupProperty=function(e){if(!e)return this.oldRect=Object.assign({},this.annot.getRect());this.oldVertex=Object.assign({},this.annot.getVertexes())},t.prototype.setCloudyIntensity=function(e){var t=this;this.annot.setBorderStyle(r.BORDER_STYLE.CLOUDY,e).then((function(){return t.updateRender().then((function(){t.pdfViewer.eventEmitter.emit(o.default.updateActionAnnotation,t)}))}))},t.prototype.getRenderingData=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,o=e.prototype.getRenderingData.call(this,t,n);return Object.assign(o,{})},t}(a.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=c(n(903));n(904);var i=c(n(173)),a=c(n(4)),s=c(n(1));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t,n,s){var c=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.annotRender=t,this.annot=this.annotRender.annot,this.pdfViewer=this.annotRender.pdfViewer;var u={};if(s)switch(u.type=s.getType(),u.type){case"TypeURI":u.uri=s.getURI();break;case"TypeGoto":u.destination=s.getDestination()}var l=(0,r.default)(u);n||(l='<dialog class="fv__dialog fv__annot-properties-dialog">'+l+"</dialog>");var f=(0,a.default)(l);this.$actionsDialog=f;var p=n||document.body;if(f.appendTo(p),this.bindChangeEvent(),this.update(u),!n||n===document.body){var d=f[0];i.default.registerDialog(d),d.showModal()}this.$gotoInput=f.find("#goto-input"),this.$gotoLeftValue=f.find(".fv__action-dialog-goto-left-value"),this.$gotoTopValue=f.find(".fv__action-dialog-goto-top-value"),this.$urlInput=f.find("#url-input");var h=this.pdfViewer.getPDFDocRender().getPDFDoc().getPageCount();if(this.$gotoInput.attr({max:h}),u&&u.type)switch(u.type){case"TypeURI":this.$urlInput.val(u.uri);break;case"TypeGoto":this.$gotoInput.val(u.destination.pageIndex+1);var g=this.pdfViewer.getPDFPageRender(u.destination.pageIndex);g.getPDFPage().then((function(e){var t=e.getDevicePoint([u.destination.left,u.destination.top],g.getScale(),g.getRotation()),n=o(t,2),r=n[0],i=n[1];c.$gotoLeftValue.html(r.toFixed(2)),c.$gotoTopValue.html(i.toFixed(2))}))}}return e.prototype.update=function(e){var t=this.$actionsDialog;e&&e.type&&(t.find("#select-action [value="+e.type+"]").attr("selected",!0),t.find(".fv__action-dialog-box").css("display","none"),t.find("[data-type="+e.type+"]").css("display","block"))},e.prototype.bindChangeEvent=function(){var e=this,t=this.$actionsDialog,n=this.pdfViewer.getPDFDocRender(),r=n.viewerRender.scrollWrap;this.pdfViewer.eventEmitter.on(s.default.zoomToSuccess,(function(e,t){c()})),this._unwatchScrollEvent=r.addScrollEventListener(c);var i=this;function c(){var e=function(e){for(var t=e.$container.find(".fv__pdf-view-mode-item"),n=e.viewerRender.scrollWrap,o=n.getScrollTop(),r=(n.getHeight(),n.getScrollLeft()),i=(n.getWidth(),0),s=0,c=0,u=0;u<t.length;u++){var l=t[u],f=(0,a.default)(l).width(),p=(0,a.default)(l).height(),d=l.offsetTop,h=d+p,g=l.offsetLeft,m=g+f;if(h>o&&m>r){i=u,c=o-d,s=r-g;break}}return{pageIndex:i,left:s,top:c}}(n);i.$gotoInput.val(e.pageIndex+1),i.$gotoLeftValue.html(e.left.toFixed(2)),i.$gotoTopValue.html(e.top.toFixed(2))}t.on("click",".fv__action-btn-cancel",(function(){e.annotRender.hideActionsDialog()})).on("click",".fv__action-dialog-close-icon",(function(){e.annotRender.hideActionsDialog()})).on("change","#select-action",(function(e){var n=e.target.value;t.find(".fv__action-dialog-box").css("display","none"),t.find("[data-type="+n+"]").css("display","block")})).on("click",".fv__action-btn-ok",(function(n){var r=t.find("#select-action").val();if("TypeURI"===r){var a=t.find("#url-input").val();e.annot.setAction(r).then((function(){e.annot.setActionData({uri:a}).then((function(){e.annotRender.hideActionsDialog()}))}))}else if("TypeGoto"===r){var s=e.pdfViewer.getPDFDocRender().getScale();e.annot.setAction(r).then((function(){var t={};t.pageIndex=e.$gotoInput.val()-1;var n=i.pdfViewer.getPDFPageRender(t.pageIndex);n.getPDFPage().then((function(r){var i=r.reverseDevicePoint([Number(e.$gotoLeftValue.html()),Number(e.$gotoTopValue.html())],n.getScale(),n.getRotation()),a=o(i,2),c=a[0],u=a[1];t.left=c,t.top=u,"fitWidth"===s?t.type="ZoomFitHorz":"fitHeight"===s?t.type="ZoomFitPage":(t.type="ZoomXYZ",t.zoomFactor=e.pdfViewer.getPDFPageRender(t.pageIndex).getScale()),e.annot.setActionData(t).then((function(){e.annotRender.hideActionsDialog()}))}))}))}})).on("input","#goto-input",(function(t){var n=t.target.value;e.pdfViewer.getPDFDocRender().goToPage(n-1,{x:0,y:0})}))},e.prototype.close=function(){var e=this.$actionsDialog;this._unwatchScrollEvent&&this._unwatchScrollEvent(),e&&(e[0].close(),e.remove(),this.$actionsDialog=null)},e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(213),i=(o=r)&&o.__esModule?o:{default:o},a=(n(63),n(909)),s=n(12);function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.annot=n.annot,o}return c(t,e),t.prototype.render=function(e,t){var n=this.annot,o=n.getFlags(),r=n.getDeviceRect(e,t);r.width=r.right-r.left,r.height=r.bottom-r.top,8&o&&(r.width/=4*e/3,r.height/=4*e/3);var i=(0,a.getSvgIcon)(n.getType(),n.getIconName(),(0,s.colorConvertor)(n.getBorderColor(),"#"));return this.component.$ui.css({left:r.left,top:r.top,width:r.width,height:r.height,opacity:n.getOpacity()}).empty().html(i),Promise.resolve()},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.annot=null},t}(i.default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=g(n(74)),i=g(n(64)),a=n(212),s=g(n(937)),c=g(n(1)),u=n(33),l=g(n(53)),f=n(12),p=n(18),d=g(n(54)),h=g(n(145));function g(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var v=(0,a.getCommonContextMenu)(),y=function(e){function t(n,o,r,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r,a));return d.default.property(s,"shapeControl",(function(){var e=new i.default({emitter:s.pdfViewer.eventEmitter,start:function(e,t,n){return s.onStartUpdateShape(e,t,n)},moving:function(e,t){return s.onShapeMoving(e,t)},update:function(e,t){return s.onShapeUpdating(e,t)},end:function(e,t,n){return s.onShapeUpdateEnd(e,t,n)},resizable:!0,enableDiagonally:!0});return s.processShapeControlPermissionCtrl(e),s.addDestroyHook((function(){e.destroy()})),e})),s}return m(t,e),t.getDefaultContextMenuConfig=function(){return v},t.prototype.generateApRenderer=function(){return new h.default(this)},t.prototype.onStartUpdateShape=function(e,t,n){this.editDebouncePromise||(this.editDebouncePromise=new p.DebounceAsyncTaskExecutor(0))},t.prototype.onShapeMoving=function(e,t){var n=this;this.pdfViewer.config.highPerformance&&this.editDebouncePromise&&this.editDebouncePromise.exec((function(){var t=n.getRect(),o=n.getInnerRect(),r=t.left-o.left,i=t.top-o.top;return n.moveTo(e.left+r,e.top+i).then((function(e){n._updateShapeControlMargin(),n._updateShapeControllerBoundaryBox()}))}))},t.prototype.onShapeUpdating=function(e,t){var n=this;this.pdfViewer.config.highPerformance&&this.editDebouncePromise&&this.editDebouncePromise.exec((function(){return n.setRect(n._transformShapeOfInnerRectToOuterRect(e)).then((function(e){n._updateShapeControlMargin(),n._updateShapeControllerBoundaryBox()}))}))},t.prototype.onShapeUpdateEnd=function(e,t,n){var o=this;return this.editDebouncePromise?this.editDebouncePromise.exec((function(){var t=o.getRect(),r=o.getInnerRect(),i=t.left-r.left,a=t.top-r.top;return o.moveTo(e.left+i,e.top+a,n).then((function(t){return o.setRect(o._transformShapeOfInnerRectToOuterRect(e))})).then((function(e){o._updateShapeControlMargin(),o._updateShapeControllerBoundaryBox()}))})):Promise.resolve()},t.prototype._transformShapeOfInnerRectToOuterRect=function(e){var t={left:e.left,top:e.top,right:e.left+e.width,bottom:e.top+e.height},n=l.default.subtract(this.getRect(),this.getInnerRect()),o=l.default.on(t).add(n).extract();return{left:o.left,top:o.top,width:o.right-o.left,height:o.bottom-o.top}},t.prototype.active=function(){e.prototype.active.call(this),this.activeRect(this.annot),this._applyShapeChange();var t=this.shapeControl.getPreviewerContext();this._previewUpdatedShape(this.shapeControl.getCurrentShape(),t)},t.prototype.movedByOther=function(){this.isActive&&this._applyShapeChange()},t.prototype._applyShapeChange=function(){var e=this.getInnerBoundary(),t=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,e,t),this._updateShapeControlMargin()},t.prototype.activeRect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot,t=this.$rect=this.$rect||this.rectInit(),n=this.scale,o=this.rotate,r=e.getDeviceInnerRect(n,o),i="px";t.css({left:r.left+i,top:r.top+i,width:r.right-r.left+i,height:r.bottom-r.top+i})},t.prototype._updateShapeControllerBoundaryBox=function(){this.shapeControl.updateBoundaryBox(this._getShapeControllerBoundaryBox())},t.prototype._getShapeControllerBoundaryBox=function(){var e=this.getPDFPage(),t=(0,u.getWHByMatrix)(e.getPxWidth(),e.getPxHeight(),this.scale,this.rotate),n=o(t,2),r=n[0],i=n[1],a=this.getInnerRect(),s=this.getRect(),c=l.default.subtract(a,s);return l.default.on({left:0,top:0,right:r,bottom:i}).add(c).extract()},t.prototype.unActive=function(){e.prototype.unActive.call(this),this.shapeControl.deactive()},t.prototype.createRectDom=function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui},t.prototype.getPropertyOptions=function(){var e=this.annot;return{color:(0,f.colorConvertor)(e.getBorderColor(),"#"),opacity:e.getOpacity(),borderWidth:e.getBorderWidth(),cloudy:!0,fillColor:e.getFillColor(),disabled:this.propertyDisabled()}},t.prototype._previewUpdatedShape=function(e,t){t.clearRect(0,0,e.width,e.height),t.strokeStyle="#759DB8",t.lineWidth=1,(0,s.default)(t,0,0,e.width,e.height),t.stroke()},t.prototype.setBorderWidth=function(e){var t=this;return this.annot.setBorderWidth(e).then((function(e){return t._handlerRerender(e)}))},t.prototype.setBorderStyle=function(e,t){var n=this;return this.annot.setBorderStyle(e,t).then((function(e){return n._handlerRerender(e)}))},t.prototype.setFillColor=function(e){var t=this;return this.annot.setFillColor(e).then((function(e){return t._handlerRerender(e)}))},t.prototype.getInnerRect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,n=this.getPDFPage(),o=this.annot.getInnerRect(),r=n.getDeviceRect(o,e,t);return{left:r.left,top:r.top,right:r.right,bottom:r.bottom}},t.prototype.getInnerBoundary=function(){var e=this.getPDFPage(),t=this.annot.getInnerRect(),n=e.getDeviceRect(t,this.scale,this.rotate);return{left:n.left,top:n.top,width:n.right-n.left,height:n.bottom-n.top}},t.prototype._handlerRerender=function(e){var t=this;return e?this.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(c.default.updateActionAnnotation,t),e})):e},t.prototype._updateShapeControlMargin=function(){var e=this.getGroupRect(),t=this.getRect();this.shapeControl.setMargin(l.default.expandOffset(t,e))},t}(r.default);t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=f(n(296)),i=f(n(64)),a=n(33),s=f(n(53)),c=(n(18),f(n(54))),u=(f(n(145)),f(n(4))),l=n(14);function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var d=function(e){function t(n,o,r,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r,a));s.name="typewritter",c.default.property(s,"shapeControl",(function(){var e=new i.default(s.getShapeOptions());return s.processShapeControlPermissionCtrl(e),s.addDestroyHook((function(){e.destroy()})),e})),s.$ui.addClass("fv__pdf-page-typewritter-annot-container"),s.$handler.addClass("fv__pdf-page-typewritter-annot-handler-container");var l=(0,u.default)("<div class='fv__ftui-container'><pre class='fv__typewriter_ui'></pre></div>");return s.$pre=l.find("pre"),s.$ui.append(l),s}return p(t,e),t.prototype.getShapeOptions=function(){var e=this;return{emitter:this.pdfViewer.eventEmitter,resizable:!1,start:function(){return e.onStartUpdateShape()},update:function(t,n){return e.onShapeUpdating(t,n)},moving:function(t,n,o){return e.onShapeMoving(t,n,o)},end:function(t,n,o){return e.onShapeUpdateEnd(t,n,o)},enableDiagonally:!0}},t.prototype.afterRender=function(e){e.transformed&&this.isActive&&(this.activeRect(),this.$rect&&this.$rect.show())},t.prototype.onStartUpdateShape=function(e,t,n){},t.prototype.onShapeUpdating=function(e,t){},t.prototype.onShapeMoving=function(e,t,n){},t.prototype.onShapeUpdateEnd=function(e,t,n){var o=Promise.resolve();switch(n){case"move":o=this.moveTo(e.left,e.top,n);break;case"resize":o=this.setRect(e),this.render()}return o},t.prototype.active=function(){e.prototype.active.call(this),this._applyShapeChange()},t.prototype._applyShapeChange=function(){var e,t=this,n=this._getShapeControllerBoundaryBox();e=this.getBoundary(),this.getAppPermission().then((function(o){if(!t.isDestroyed){!!t.groupMoveDisabled()||(o.ignorable()?t.moveDisabled():!o.isAdjustable())?t.shapeControl.disable():t.shapeControl.enable(),t.shapeControl.active(t.$handler,e,n),t.setMargin()}}))},t.prototype.movedByOther=function(){this.isActive&&this._applyShapeChange()},t.prototype.getPropertyOptions=function(){e.prototype.getPropertyOptions.call(this);var t=this.annot;return{opacity:t.getOpacity(),borderStyle:!1,disabled:this.propertyDisabled(),fontColor:t.getFontColor(),fontSize:t.getDefaultAppearance().textSize}},t.prototype._getShapeControllerBoundaryBox=function(){var e=this.getPDFPage(),t=(0,a.getWHByMatrix)(e.getPxWidth(),e.getPxHeight(),this.scale,this.rotate),n=o(t,2);return{left:0,top:0,right:n[0],bottom:n[1]}},t.prototype.unActive=function(){e.prototype.unActive.call(this),this.shapeControl.deactive()},t.prototype.createRectDom=function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui},t.prototype.setMargin=function(){var e=this.getGroupRect(),t=this.getRect();this.shapeControl.setMargin(s.default.expandOffset(t,e))},t.prototype.redraw=function(t){return this.moveDisabled()||this.groupMoveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),e.prototype.redraw.call(this,t)},t.prototype.setHeight=function(e,t){for(var n=this.annot.page.getRotationAngle(),o=((this.annot.getRotation()+n+this.rotate)%360+360)%360,r=this.parent("pdfPageRender").$ui[0].getBoundingClientRect();0!=e.scrollTop();){var i=e[0].getBoundingClientRect(),a=i.left,s=i.top,c=i.bottom,u=i.right,f=i.width,p=i.height;(l.isMobile||l.isMiPad||l.isIPAD||l.isTablet)&&(f=e.width(),p=e.height());var d=void 0;switch(o){case 0:a+(d=1.2*f)>r.right&&(d=r.right-a);break;case 90:s+(d=1.2*p)>r.bottom&&(d=r.bottom-s);break;case 270:c-(d=1.2*p)<r.top&&(d=c-r.top);break;case 180:u-(d=1.2*f)<r.left&&(d=u-r.left)}e.width(d),e.height(e.scrollTop()+e.height())}},t.prototype.beforeBlur=function(e,t){if(this.$textInput.val().length<1)return this.$ui.hide(),this.removeAnnot(),!0;var n=this.annot,o=this.annot.getContent();if(!this.isHTMLSimulate("freetext"))return this.$ui.show(),!1;if(o==e.target.value)return this.$pre.html(o).show(),!0;o=e.target.value,n.info.content=o,n.info.RC="",n.info.rect=t;var r=this.getInnerBoundary(!1);this.$ui.css(r),this.$pre.html(o).show();var i=this.$ui.get(0).style,a=parseFloat(i.left)*this.fontSizeScale,s=parseFloat(i.top)*this.fontSizeScale,c=this.$ui.get(0).getBoundingClientRect(),u={left:a,top:s,right:a+c.width*this.fontSizeScale,bottom:s+c.height*this.fontSizeScale};return t=this.annot.page.reverseDeviceRect(u,this.scale,this.rotate),n._setRect(t),n._setContent(o),!0},t.prototype.render=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;if(this.scale=t,this.rotate=n,!this.isHTMLSimulate("freetext")||"typewritter"!=this.name)return this.isHTMLSimulate("freetext")&&"textbox"==this.name?(this.$ui.css({overflow:"hidden"}),e.prototype.render.call(this,t,n)):e.prototype.render.call(this,t,n);var o=this.getStyle();o["word-break"]="keep-all",o["white-space"]="nowrap",o.opacity=this.annot.getOpacity();var r=this.$ui.find(".fv__ftui-container"),i=this.fontSizeScale;r.css({transform:"scale("+i+")",width:100/i+"%"}),this.$ui.css(o),this.$pre.text(this.annot.getContent())},t.prototype.updateSize=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return this.isHTMLSimulate("freetext")?this.render(t,n):e.prototype.updateSize.call(this,t,n)},t.prototype.enableEditMode=function(){this.isHTMLSimulate("freetext")?this.$pre.hide():"typewritter"==this.name&&this.$ui.hide(),e.prototype.enableEditMode.call(this)},t}(r.default);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=f(n(74)),r=n(7),i=f(n(4)),a=n(12),s=(n(943),n(944)),c=n(42),u=f(n(151)),l=f(n(1));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var d=(0,s.getDefaultConfig)(".fv__pdf-page-annot-handler-rect"),h=function(e){function t(n,o,r,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r,a));s.name="freetext",s.$ui.addClass("fv__pdf-page-freetext-annot-container"),s.$handler.addClass("fv__pdf-page-freetext-annot-handler-container");var c;return s.$textInput=(0,i.default)("<textarea class='fv__ui-freetext-editor "+s.annot.getIntent()+"'></textarea>"),c=s.$textInput,s.$handler.append(c),s.bindTextInputEvent(c),s}return p(t,e),t.getDefaultContextMenuConfig=function(){return d},t.prototype.active=function(){e.prototype.active.call(this),this.activeRect(),this.$rect&&this.$rect.show()},t.prototype.setContent=function(e){var t=this;return this.annot.setContent(e).then((function(e){return t.collaborate(),e}))},t.prototype.getInnerBoundary=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,n=this.getPDFPage(),o=void 0;if(o=this.annot.getIntent()!==r.Intents.FREETEXT_TYPEWRITER?this.annot.getInnerRect():this.annot.getRect(),e&&this.annot.getIntent()!=r.Intents.FREETEXT_TYPEWRITER){var i=this.annot.getBorderWidth();o.left+=i,o.right-=i,o.top-=i,o.bottom+=i}var a=n.getDeviceRect(o,this.scale,t);return{left:a.left,top:a.top,width:a.right-a.left,height:a.bottom-a.top}},t.prototype.setInnerRect=function(e){return this.annot.setInnerRectNoAction(e)},t.prototype.setCalloutLinePoints=function(e){return this.annot.setCalloutLinePoints(e)},t.prototype.showReplyDialog=function(){var e=this.getAnnotFlag();try{return this.annot.checkModidyPerm(),!(e.checkLockedContents()||e.checkReadOnly()||e.checkLocked())&&(this.shapeControl&&this.shapeControl.deactive(),this.backup(),this.enableEditMode(),!0)}catch(e){return!1}},t.prototype.backup=function(){this.backupProperty={rect:Object.assign({},this.annot.getRect()),innerRect:Object.assign({},this.annot.getInnerRect())}},t.prototype.getStyle=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.annot.getRotation(),o=this.annot.page.getRotationAngle(),r=this.getRect(),i=this.getRect(this.scale,n+o),s=i.right-i.left,c=i.bottom-i.top,u=this.annot,l=u.getFillColor(),f=u.getDefaultAppearance(),p=f.textColor,d=4*f.textSize/3*this.scale,h=this.fontSizeScale=d/12;h>1&&(h=this.fontSizeScale=1);var g=1.1*d/h,m=(0,a.colorConvertor)(16777215&l,"#");0==l&&(m=t?"white":"transparent");var v=(0,a.colorConvertor)(16777215&p,"#");0==p&&(v="black");var y=f.font||{},b=this.annot.getAlignment();switch(b){case 0:b="left";break;case 1:b="center";break;case 2:b="right"}var w="center";switch((this.rotate+n+o)%360){case 0:w="center";break;case 90:w=c/2+"px center";break;case 180:w="center";break;case 270:w=s/2+"px "+s/2+"px"}g=Math.min(g,c)+"px";var _=Object.assign({"text-align":b,color:v,background:m,display:"block","font-size":d,fontFamily:'"'+[y.baseName,y.familyName,y.nameKey,y.name,"FoxitPDFSDKForWeb"].join('","')+'"',lineHeight:g},e?{left:r.left,top:r.top,width:s,height:c,"transform-origin":w,transform:"rotate("+(n+this.rotate+o)+"deg)"}:{});return _},t.prototype.setDomRect=function(e){var t=this.annot.getRotation()+this.annot.page.getRotationAngle()+this.rotate,n=this.getInnerBoundary(!0),o=n.left,r=n.top,i=n.width,a=n.height,s=new u.default,c=i,l=a,f=o,p=r;switch(t%360){case 90:c=-i,f=o+i;break;case 180:c=-i,f=o+i,l=-a,p=r+a;break;case 270:l=-a,p=r+a}s.rotate((360-t)*Math.PI/180);var d=s.transformRect(0,0,c,l);e.left=d[0]+f,e.top=d[1]+p,e.width=d[2]-d[0],e.height=d[3]-d[1],e["transform-origin"]="0 0",e.transform="rotate("+t+"deg)"},t.prototype.enableEditMode=function(){this.status="editing";var e=this.annot,t=this.getStyle(!1,!0);this.setDomRect(t),this.fontSizeScale>=1?this.$handler.css("transform","scale(1)"):(this.$handler.css("transform","scale("+this.fontSizeScale+")"),t.left/=this.fontSizeScale,t.top/=this.fontSizeScale,t.width/=this.fontSizeScale,t.height/=this.fontSizeScale,t.lineHeight="12px"),this.$textInput.css(t).val(e.getContent()).focus(),e.getIntent()==r.Intents.FREETEXT_TYPEWRITER&&this.setHeight(this.$textInput,13,t)},t.prototype.bindEvent=function(){var t=this;e.prototype.bindEvent.call(this);var n=function(e){27==e.keyCode&&e.preventDefault()};this.$textInput.on("keyup",n).on("keydown",n),this.__off__before_delete_event&&this.__off__before_delete_event(),this.__off__before_delete_event=this.pdfViewer.getKeyboardEventBinder(c.ACTIVATION_ANNOTATION_BINDER).before(c.KEY_MAP_DELETE_ANNOTATION,(function(e){document.activeElement==t.$textInput.get(0)&&e.stop()})),this.__off__esc__event__&&this.__off__esc__event__(),this.__off__esc__event__=this.pdfViewer.getKeyboardEventBinder(c.ACTIVATION_ANNOTATION_BINDER).on(c.KEY_MAP_UNACTIVE_ANNOTATION,(function(e){t.unActive()}))},t.prototype.unActive=function(){this.$textInput.trigger("blur"),this.$textInput.css("display","none"),e.prototype.unActive.call(this),this.$rect&&this.$rect.hide(),clearInterval(this.pressInterval)},t.prototype.unBindEvent=function(){e.prototype.unBindEvent.call(this),this.__off__before_delete_event&&this.__off__before_delete_event(),this.__off__esc__event__&&this.__off__esc__event__()},t.prototype.bindTextInputEvent=function(e){var t=this;e.on("focus",(function(e){t.oldInnerRect=t.annot.getInnerRect(),t.oldRect=t.annot.getRect(),t.oldCalloutLinePoints=t.annot.getCalloutLinePoints&&t.annot.getCalloutLinePoints()})).on("keydown",(function(e){27!==e.keyCode&&(clearInterval(t.pressInterval),t.pressInterval=setInterval((function(){t.setHeight(t.$textInput,e.keyCode)}),100))})).on("keyup",(function(e){27!==e.keyCode&&(t.setHeight(t.$textInput,e.keyCode),clearInterval(t.pressInterval))})).on("blur",(function(e){if("editing"==t.status){var n=t.$textInput[0].getBoundingClientRect();if(t.$textInput.css("display","none"),t.$handler.css("transform","scale(1)"),!t.beforeBlur(e,a)){var o=t.annot.getContent();if(e.target.value!=o){t.status="viewing";var a=t.parent("pdfPageRender").getPDFRectFromClientRect(n),s=void 0;switch(t.annot.getIntent()){case r.Intents.FREETEXT_TYPEWRITER:s=t.setRectInPDF(a,!1);break;default:s=t.setInnerRectHeight(a)}s.then((function(n){var o=t.annot.getContent();if(e.target.value!==o)return t.setContent(e.target.value)})).then((function(n){t.pdfViewer.activeElement(),(0,i.default)(e.target).css({display:"none"}).removeAttr("contenteditable")})).then((function(e){return t.$textInput.css("display","none"),t.oldInnerRect=null,t.oldRect=null,t.oldCalloutLinePoints=null,t.$handler.css("transform","scale(1)"),t.postBlur()})).then((function(e){return t.redraw()}))}}}else t.$handler.css("transform","scale(1)")}))},t.prototype.beforeBlur=function(){return!1},t.prototype.postBlur=function(){},t.prototype.setHeight=function(e){},t.prototype.getPadding=function(){var e=this.annot,t=e.getRect(),n=e.getBorderInfo(),o=0;if(5!=n.style){var r=n.width||1;o=1.5*r,this.isHTMLSimulate("freetext")?o=2*r:t.top-t.bottom<2*o&&(o=r)}else o=e.getInnerRect().left-t.left;return o},t.prototype.setDefaultAppearance=function(e,t){var n=this;"textColor"==e&&(t=(0,a.colorConvertor)(t,"int",1));var o=this.annot.getDefaultAppearance();return o[e]=t,this.annot.setDefaultAppearance(o).then((function(e){n.activeRect(),n.shapeControl.adjustPointControl&&n.shapeControl.adjustPointControl(),n._applyShapeChange&&n._applyShapeChange(),n.pdfViewer.eventEmitter.emit(l.default.updateActionAnnotation,n)}))},t}(o.default);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t,n){var o=e.getEvent();if(!o.isSensitiveCheck){var r=o.target.valueAsString;if(o.param.value&&(r=o.param.value),""!=r){var i=f(r,n);if(!r||!i){o.rc=!1;var a=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return a+=' "'+n+'" ',void t.alert(a)}var s=l(r,n);if(!s){o.rc=!1;var c=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return c+=' "'+n+'" ',void t.alert(c)}o.value=u(n,s),o.rc=!0}}},i=function(e,t,n,o,r,i,a,s){var c=e.getEvent(),u=o;if((u<0||u>3)&&(u=0),c.value){var l=c.value;if(!/^[0-9\.\-]+$/.test(l))//!(IsNumber(wstrChange) &&
{c.rc=!1;var f=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return f+=' "Number" ',void t.alert(f)}var p=c.change,d=l;if(c.willCommit){var h=d.trimLeft();if(0==h.length){c.rc=!0;var g=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return g+=' "Number" ',void t.alert(g)}var m=h;if(m=m.replace(/,/g,"."),!/^[0-9\.\-]+$/.test(m))//!(IsNumber(wstrChange) &&
{var v=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return v+=' "Number" ',t.alert(v),void(c.rc=!1)}c.rc=!0}else{var y=d,b=p||"",w=".";switch(u){case 0:case 1:w=".";break;case 2:case 3:w=","}for(var _=-1!=y.indexOf(w),P=0;P<b.length;P++)if(b[P]!=w)if("-"!=b[P]){if(!/[0-9\.]/.test(b[P]))return void(c.rc=!1)}else{if(bHasSign)return void(c.rc=!1);if(0!=P)return void(c.rc=!1);if(0!=c.selStart)return void(c.rc=!1);bHasSign=!0}else{if(_){c.rc=!1;var O=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return O+=' "Number" ',void t.alert(O)}_=!0}var E=y.substr(0,c.selStart),x=void 0;c.selEnd<y.length&&(x=y.substr(c.selEnd)||""),l=d=y=E+b+x,c.rc=!0}}else c.rc=!0};function a(e,t,n,o){var r=".",i=",",a="";switch(n){case 0:break;case 1:i="";break;case 2:r=",",i=".";break;case 3:r=",",i="";break;case 4:r=",",i=" "}var s=e.length%3;a=e.substr(0,s);for(var c=s;c<e.length;c+=3)0!==a.length&&(a+=i),a+=e.substr(c,3);if(o>0){for(t=t.substring(0,o);t.length<o;)t+="0";a=a+r+t}return a}function s(e){var t=e.toString().split(".",2);return null==t||t.length<2?(t=null,0):t[1].length}function c(e){var t=new RegExp("(\\w+)\\["+e+"\\]").exec("January[1]February[2]March[3]April[4]May[5]June[6]July[7]August[8]September[9]October[10]November[11]December[12]Jan[1]Feb[2]Mar[3]Apr[4]Jun[6]Jul[7]Aug[8]Sep[9]Oct[10]Nov[11]Dec[12]");return t?t[1]:null}var u=function(e,t){e=e.replace(/%/g,"%69");var n,o,r=[],i=t.getFullYear().toString();i="0000"+i,e=(e=e.replace(/([^y])y{4}(?!y)|(^)y{4}(?!y)/g,"$1"+i.substr(i.length-4,4))).replace(/([^y])y{2}(?!y)|(^)y{2}(?!y)/g,"$1"+i.substr(i.length-2,2)),i=c(t.getMonth()+1),r["%mmmm"]=i,e=e.replace(/([^m])m{4}(?!m)|(^)m{4}(?!m)/g,"$1%mmmm"),r["%mmm"]=i.substr(0,3),e=(e=e.replace(/([^m])m{3}(?!m)|(^)m{3}(?!m)/g,"$1%mmm")).replace(/([^m])m{1}(?!m)|(^)m{1}(?!m)/g,"$1"+(t.getMonth()+1)),1===(i=(t.getMonth()+1).toString()).length&&(i="0"+i),e=e.replace(/([^m])m{2}(?!m)|(^)m{2}(?!m)/g,"$1"+i),n=t.getDay(),i=(o=new RegExp("(\\w+)\\["+n+"\\]").exec("Sunday[0]Monday[1]Tuesday[2]Wednesday[3]Thursday[4]Friday[5]Saturday[6]"))?o[1]:null,r["%dddd"]=i,e=e.replace(/([^d])d{4}(?!d)|(^)d{4}(?!d)/g,"$1%dddd"),r["%ddd"]=i.substr(0,3),e=(e=e.replace(/([^d])d{3}(?!d)|(^)d{3}(?!d)/g,"$1%ddd")).replace(/([^d])d{1}(?!d)|(^)d{1}(?!d)/g,"$1"+t.getDate()),1===(i=t.getDate().toString()).length&&(i="0"+i),e=(e=e.replace(/([^d])d{2}(?!d)|(^)d{2}(?!d)/g,"$1"+i)).replace(/([^H])H{1}(?!H)|(^)H{1}(?!H)/g,"$1"+t.getHours()),1===(i=t.getHours().toString()).length&&(i="0"+i),e=e.replace(/([^H])H{2}(?!H)|(^)H{2}(?!H)/g,"$1"+i);var a=t.getHours()>12?t.getHours()-12:t.getHours();return 0==a&&(a=12),e=e.replace(/([^h])h{1}(?!h)|(^)h{1}(?!h)/g,"$1"+a),1===(i=a.toString()).length&&(i="0"+i),e=(e=e.replace(/([^h])h{2}(?!h)|(^)h{2}(?!h)/g,"$1"+i)).replace(/([^M])M{1}(?!M)|(^)M{1}(?!M)/g,"$1"+t.getMinutes()),1===(i=t.getMinutes().toString()).length&&(i="0"+i),e=(e=e.replace(/([^M])M{2}(?!M)|(^)M{2}(?!M)/g,"$1"+i)).replace(/([^s])s{1}(?!s)|(^)s{1}(?!s)/g,"$1"+t.getSeconds()),1===(i=t.getSeconds().toString()).length&&(i="0"+i),e=e.replace(/([^s])s{2}(?!s)|(^)s{2}(?!s)/g,"$1"+i),i=function(e){return e>11?"PM":"AM"}(t.getHours()),e=e.replace(/([^t])t{2}(?!t)|(^)t{2}(?!t)/g,"$1"+i),1===i.length&&(i=i.charAt(0)),e=(e=(e=(e=(e=e.replace(/([^t])t{1}(?!t)|(^)t{1}(?!t)/g,"$1"+i)).replace(/%mmmm/g,r["%mmmm"])).replace(/%mmm/g,r["%mmm"])).replace(/%dddd/g,r["%dddd"])).replace(/%ddd/g,r["%ddd"]),r=null,e=e.replace(/%69/g,"%")},l=function(e,t){return f(e,t)};function f(e,t){var n=function(e,t){var n=new Date,r=n.getFullYear(),i=n.getMonth()+1,a=n.getDate(),s=n.getHours(),u=n.getMinutes(),l=n.getSeconds(),f="",g=!1,m=!1,v=["/","-",","],y=["/","-",",","."],b=function(e,t){for(var n=function(n,o){var r=e.charAt(o);if(t){if(void 0!==y.find((function(e){return e==r})))return{v:!0}}else if(void 0!==v.find((function(e){return e==r})))return{v:!0}},r=0,i=e.length;r<i;r++){var a=n(0,r);if("object"===(void 0===a?"undefined":o(a)))return a.v}return!1},w=function(e,t){var n=e;if(t){var o=!0,r=!1,i=void 0;try{for(var a,s=y[Symbol.iterator]();!(o=(a=s.next()).done);o=!0){var c=a.value,u=new RegExp(c,"g");n=n.replace(u,"")}}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}}else{var l=!0,f=!1,p=void 0;try{for(var d,h=v[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var g=d.value;u=new RegExp(g,"g");n=n.replace(u,"")}}catch(e){f=!0,p=e}finally{try{!l&&h.return&&h.return()}finally{if(f)throw p}}}return n},_=b(t,!1),P=b(e,!0);_&&!P?t=w(t,!1):!_&&P&&(e=w(e,!0));var O=0,E=0;for(;O<t.length&&!g;){var x=t.charAt(O);switch(x){case"y":case"m":case"d":case"H":case"h":case"M":case"s":case"t":var C=E,A=0,S=null;if(t.charAt(O+1)!==x)switch(x){case"y":O++,E++;break;case"m":S=d(e,E,2),i=S.nRet,A=S.nSkip,O++,E+=A;break;case"d":S=d(e,E,2),a=S.nRet,A=S.nSkip,O++,E+=A;break;case"H":case"h":S=d(e,E,2),s=S.nRet,A=S.nSkip,O++,E+=A;break;case"M":S=d(e,E,2),u=S.nRet,A=S.nSkip,O++,E+=A;break;case"s":S=d(e,E,2),l=S.nRet,A=S.nSkip,O++,E+=A;break;case"t":f="p"===e.charAt(O)||"P"==e.charAt(O),O++,E++}else if(t.charAt(O+1)===x&&t.charAt(O+2)!==x)switch(x){case"y":S=d(e,E,4),r=S.nRet,A=S.nSkip,O+=2,E+=A;break;case"m":S=d(e,E,2),0!=s?u=S.nRet:i=S.nRet,A=S.nSkip,O+=2,E+=A;break;case"d":S=d(e,E,2),(O+=2)>=t.length&&(S=d(e,E,4)),a=S.nRet,A=S.nSkip,E+=A;break;case"H":case"h":S=d(e,E,2),s=S.nRet,A=S.nSkip,O+=2,E+=A;break;case"M":S=d(e,E,2),u=S.nRet,A=S.nSkip,O+=2,E+=A;break;case"s":S=d(e,E,2),l=S.nRet,A=S.nSkip,O+=2,E+=A;break;case"t":f=("p"===e.charAt(E)||"P"==e.charAt(E))&&"m"===e.charAt(E+1),O+=2,E+=2}else if(t.charAt(O+1)===x&&t.charAt(O+2)===x&&t.charAt(O+3)!==x)switch(x){case"m":S=h(e,E),A=S.nSkip;for(var D=S.swRet,T=!1,I=0;I<12;I++)if(D.toLowerCase()===c(I+1).substr(0,3).toLowerCase()){i=I+1,O+=3,E+=A,T=!0;break}T||(S=d(e,E,3),i=S.nRet,A=S.nSkip,O+=3,E+=A);break;case"y":break;default:O+=3,E+=3}else if(t.charAt(O+1)===x&&t.charAt(O+2)===x&&t.charAt(O+3)===x&&t.charAt(O+4)!==x)switch(x){case"y":S=d(e,E,4),r=S.nRet,A=S.nSkip,E+=A,O+=4,r<100&&(r=-1,m=!0);break;case"m":T=!1;S=h(e,E),A=S.nSkip,D=(D=S.swRet).toLowerCase();for(I=0;I<12;I++){var R=c(I+1);if((R=R.toLowerCase()).indexOf(D,0)>=0){i=I+1,O+=4,E+=A,T=!0;break}}T||(S=d(e,E,4),i=S.nRet,A=S.nSkip,O+=4,E+=A);break;default:O+=4,E+=4}else t.charAt(O)!==e.charAt(E)&&(m=!0,g=!0),O++,E++;C===E&&(m=!0,g=!0);break;default:if(e.length<=E)g=!0;else{var M=p(t.charAt(O)),j=p(e.charAt(E));(M&&!j||!M&&j)&&(m=!0,g=!0)}O++,E++}}f&&s<12&&(s+=12);!1===f&&12==s&&(s=0);r>=0&&r<=99&&(r+=2e3);(i<1||i>12)&&(m=!0);(a<1||a>31)&&(m=!0);(s<0||s>23)&&(m=!0);(u<0||u>60)&&(m=!0);(l<0||l>60)&&(m=!0);if(!m)return 2!=i||29!=a||t.match(/y/)||(r&=1048572),new Date(r,i-1,a,s,u,l);return null}(e,t);return null==n&&(n=function(e){for(var t=new Date,n=t.getFullYear(),o=t.getMonth()+1,r=t.getDate(),i=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),c=[],u=0;u<6;u++)c[u]=0;var l=!1,f=0,h=0,v=e.length;for(;h<v&&!(f>5);){var y=e.charAt(h);if(p(y)){var b,w=d(e,h,4);c[f++]=w.nRet,b=w.nSkip,h+=b}else":"===y&&(l=!0),h++}var _=!0;if(l){if(f<=3)(P=m(f,c[0],c[1],c[2],i,a,s))&&(i=P.h,a=P.M,s=P.s,_=!1);else if(4===f){(P=g(2,c[0],c[1],0,n,o,r))&&(n=P.y,o=P.m,r=P.d,(P=m(2,c[2],c[3],0,i,a,s))&&(i=P.h,a=P.M,s=P.s,_=!1))}else if(5===f){if((P=g(3,c[0],c[1],c[2],n,o,r))&&(n=P.y,o=P.m,r=P.d,(P=m(2,c[3],c[4],0,i,a,s))&&(i=P.h,a=P.M,s=P.s,_=!1)),_)(P=g(2,c[0],c[1],0,n,o,r))&&(n=P.y,o=P.m,r=P.d,(P=m(3,c[2],c[3],c[4],i,a,s))&&(i=P.h,a=P.M,s=P.s,_=!1))}else if(6===f){(P=g(3,c[0],c[1],c[2],n,o,r))&&(n=P.y,o=P.m,r=P.d,(P=m(3,c[3],c[4],c[5],i,a,s))&&(i=P.h,a=P.M,s=P.s,_=!1))}}if(_){var P;(P=g(f,c[0],c[1],c[2],n,o,r))&&(n=P.y,o=P.m,r=P.d,_=f>3)}if(_)return null;return new Date(n,o-1,r,i,a,s)}(e)),n}function p(e){return e>="0"&&e<="9"}function d(e,t,n){var o=[];o.nRet=0,o.nSkip=0;for(var r=t,i=e.length;r<i&&!(r-t>10);r++){var a=e.charAt(r);if(!p(a))break;if(o.nRet=10*o.nRet+(a-"0"),o.nSkip=r-t+1,o.nSkip>=n)break}return o}function h(e,t){var n=[];n.swRet="",n.nSkip=0;for(var o=t,r=e.length;o<r;o++){var i=e.charAt(o);if(!(i>="a"&&i<="z"||i>="A"&&i<="Z"))break;n.swRet+=i,n.nSkip=o-t+1}return n}function g(e,t,n,o,r,i,a){var s=[];if(s.y=r,s.m=i,s.d=a,2===e){if(t>=1&&t<=12&&n>=1&&n<=31)return s.m=t,s.d=n,s;if(t>=1&&t<=31&&n>=1&&n<=12)return s.m=n,s.d=t,s}else if(e>=3){if(t>12&&n>=1&&n<=12&&o>=1&&o<=31)return s.y=t,s.m=n,s.d=o,s;if(t>=1&&t<=12&&n>=1&&n<=31&&o>31)return s.y=o,s.m=t,s.d=n,s;if(t>=1&&t<=31&&n>=1&&n<=12&&o>31)return s.y=o,s.m=n,s.d=t,s}return null}function m(e,t,n,o,r,i,a){var s=[];if(s.h=r,s.M=i,s.s=a,2===e){if(t>=0&&t<=23&&n>=0&&n<=59)return s.h=t,s.M=n,s.s=0,s}else if(3===e&&t>=0&&t<=23&&n>=0&&n<=59&&o>=0&&o<=59)return s.h=t,s.M=n,s.s=o,s;return null}var v=function(e,t,n){for(var o="",r=0,i=0;i<t.length;i++)switch(t[i]){case"9":for(;r<e.length;){var a=r;if(r++,e[a]>="0"&&e[a]<="9"){o+=e[a];break}}if(r>=e.length&&n)return o;break;case"A":if(!(r<e.length))return o;o+=e[r++];break;case"O":var s=r;if(r++,e[s].match(/[0-9a-zA-Z]/)&&(o+=e[s]),r>=e.length&&n)return o;break;case"X":o+=e[r++];break;default:o+=t[i],t[i]==e[r]&&r++}return o},y=function(e,t){switch(t){case"9":var n=parseInt(e);return 0<=n&&n<=9;case"A":return/[a-zA-Z]/.test(e);case"O":var o=parseInt(e);return 0<=o&&o<=9||/[a-zA-Z]/.test(e);case"X":case" ":return!0;default:return e===t}},b=function(e,t,n){var o=e.getEvent(),r=o.value;if(0!=r.length){var i=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");if(i+=' "'+n+'" ',o.willCommit){if(r.length>n.length)return o.rc=!1,void t.alert(i);var a=0;if((r=v(r,n,!0)).length==n.length)for(var s=0;s<r.length&&y(r[s],n[a]);s++)a++;return a!=n.length||a!=r.length&&n.length>0?(o.rc=!1,void t.alert(i)):(o.change=r,r)}var c=o.change;if(c&&0!=c.length){o.selStart;var u=void 0;if((u=o.selStart<o.selEnd?r.replace(r.substr(o.selStart,o.selEnd),c):r.substr(0,o.selStart)+c+r.substr(o.selEnd)).length>n.length){var l=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return l+=' "'+n+'" ',t.alert(l),void(o.rc=!1)}var f=v(u,n);if(f.length>n.length){o.rc=!1;var p=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return p+=' "'+n+'" ',void t.alert(p)}return o.rc=!0,f}o.rc=!0}else o.rc=!0};t.default={AFSimple_Calculate:function(e,t,n){var o=e.getEvent();if(!o.isSensitiveCheck){var r="",i=0,a=NaN;switch(t){case"AVG":for(var c=0;c<n.length;c++){var u=parseFloat(e.getFieldValue(n[c]));if(!isNaN(u)){var l=s(u);i=i>l?i:l,isNaN(a)&&(a=0),a+=u}}r=isNaN(a)?"":a/n.length;break;case"SUM":for(var f=0;f<n.length;f++){var p=parseFloat(e.getFieldValue(n[f]));if(!isNaN(p)){var d=s(p);i=i>d?i:d,isNaN(a)&&(a=0),a+=p}}r=isNaN(a)?"0":a;break;case"PRD":for(var h=NaN,g=0;g<n.length;g++){var m=parseFloat(e.getFieldValue(n[g]));if(!isNaN(m)){var v=s(m);i=i>v?i:v,isNaN(h)&&(h=1),h*=m}}r=isNaN(h)?"":h;break;case"MIN":for(var y=NaN,b=0;b<n.length;b++){var w=parseFloat(e.getFieldValue(n[b]));if(!isNaN(w)){var _=s(w);i=i>_?i:_,isNaN(y)&&(y=w),y>w&&(y=w)}}r=isNaN(y)?"":y;break;case"MAX":for(var P=NaN,O=0;O<n.length;O++){var E=parseFloat(e.getFieldValue(n[O]));if(!isNaN(E)){var x=s(E);i=i>x?i:x,isNaN(P)&&(P=E),P<E&&(P=E)}}r=isNaN(P)?"":P}o.valueSetted=!0,o.value=r,o.rc=!0}},AFRange_Validate:function(e,t,n,o,r,i){var a=e.getEvent();if(!a.isSensitiveCheck){var s,c=a.target,u="",l=a.value;s=parseFloat(l),isNaN(s)?a.value=c.value:(n&&r?(s<o||s>i)&&(u="Value should be greater than "+o+" and less than "+i+"."):n?s<o&&(u="Value should be greater than "+o+"."):r&&s>i&&(u="Value should be less than "+i+"."),""!==u?(t.alert(u),a.value=c.value,a.rc=!1):a.rc=!0)}},AFNumber_Format:function(e,t,n,o,r,i,s,c){var u=e.getEvent();if(!u.isSensitiveCheck){var l=u.value;if((u.param.value||0===u.param.value)&&(l=u.param.value),""!==l){if(isNaN(l)){u.value="",u.rc=!1;var f=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return f+=' "Number" ',void t.alert(f)}var p=(l=parseFloat(l))<0?-1:1;if(isNaN(l)){u.value=l,u.rc=!1;var d=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return d+=' "Number" ',void t.alert(d)}var h="";h=(2===r||3===r)&&p<0?"(":"",c&&(h+=s);var g=(l*=p).toString().split(".",2),m=g[0],v="";g.length>1&&(v=g[1]),h+=a(m,v,o,n),c||(h+=s),(2===r||3===r)&&p<0&&(h+=")"),(0!==r||c)&&(l=Math.abs(l)),1!==r&&3!==r||(p<0?u.engineTarget.setDAFontColor(["RGB",1,0,0]):u.engineTarget.setDAFontColor(["RGB",0,0,0])),p<0&&0===r&&(h="-"+h),u.value=h,u.rc=!0}else u.value=""}},AFTime_Format:function(e,t,n){if("number"==typeof(n=["HH:MM","h:MM tt","HH:MM:ss","h:MM:ss tt"][n])){var o=n;n=o>=0&&o<cFormat.length?cFormat[o]:""}r(e,t,n)},AFTime_FormatEx:r,AFDate_FormatEx:function(e,t,n){var o=e.getEvent();if(o.format=n,!o.isSensitiveCheck){n&&0!=n.length||(n="mm/dd/yyyy");var r=o.target.valueAsString;if(o.param.value&&(r=o.param.value),""!=r){if(!r){o.rc=!1;var i=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return i+=' "'+n+'" ',void t.alert(i)}var a=l(r,n);if(!a){o.rc=!1;var s=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return s+=' "'+n+'" ',void t.alert(s)}o.value=u(n,a),o.rc=!0}}},AFPercent_Format:function(e,t,n,o){var r=e.getEvent();if(!r.isSensitiveCheck){var i=r.target.value;if(i&&""!=i){if(i=parseFloat(100*i),isNaN(i)){r.value=r.target.value,r.rc=!0;var s=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return s+=' "Percentage" ',void t.alert(s)}var c=i.toString().split(".",2),u=c[0],l="";c.length>1&&(l=c[1]);var f=a(u,l,o,n)+"%";r.value=f,r.rc=!0}}},AFMergeChange:function(e){var t,n,o=e.value;return e.willCommit?e.value:(t=e.selStart>=0?o.substring(0,e.selStart):"",n=e.selEnd>=0&&e.selEnd<=o.length?o.substring(e.selEnd,o.length):"",t+e.change+n)},AFNumber_Keystroke:i,AFParseDateEx:l,AFMakeNumber:function(e){return parseFloat(e)||0},AFDate_KeystrokeEx:function(e,t,n){var o=e.getEvent();if(!o.isSensitiveCheck){var r=o.target.valueAsString;if(r){var i=l(r,n);if(!i){o.rc=!1;var a=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return a+=' "'+n+'" ',void t.alert(a)}o.value=u(n,i),o.rc=!0}else o.rc=!0}},AFSpecial_Format:function(e,t,n){var o=e.getEvent(),r=o.value;if(!r||r.length<1)o.rc=!0;else{r=""+r;var i=void 0;switch(n){case 0:i="99999";break;case 1:i="99999-9999";break;case 2:i=r.length>=10?"(999) 999-9999":"999-9999";break;case 3:i="999-99-9999"}var a=v(r,i);if(a.length!=i.length){o.rc=!1;var s=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return s+=' "'+i+'" ',void t.alert(s)}o.value=a,o.rc=!0}},FXFormatDate:u,AFSpecial_Keystroke:function(e,t,n){var o=e.getEvent(),r=o.value;if(!(r.length<1)){var i=o.change,a=void 0;switch(n){case 0:a="99999";break;case 1:a="999999999";break;case 2:var s=r;if(0==s.length&&0==i.length)return void(o.rc=!0);if(o.willCommit){var c=s.match(/^(\(\d{3}\)\s?)?\d{3}-?\d{4}$|^(\d{3}\s?)?\d{3}-?\d{4}$/);if(o.rc=!!c,!c){var u=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");u+=' "/^((d{3})s?)?d{3}-?d{4}$|^(d{3}s?)?d{3}-?d{4}$/" ',t.alert(u)}return}var l=o.selStart,f=o.selEnd;if(f<0&&(f=strSrc.length-1),(s=s.substr(0,l)+i+s.substr(f)).length-14>0)return void(o.rc=!1);var p=s.match(/^\(?\d*\)?\s?\d*-?\d*$/);return void(o.rc=!!p);case 3:a="999999999"}return b(e,t,a)}o.rc=!0},AFPercent_Keystroke:function(){return i.apply(void 0,arguments)},AFSpecial_KeystrokeEx:function(e,t,n){var o=e.getEvent(),r=b(e,t,n);void 0!==r&&(o.target.value=r)},ANSB_None:0,ANSB_Page:1,ANSB_Author:2,ANSB_ModDate:3,ANSB_Type:4,ANFB_ShouldNone:7,ANFB_ShouldPrint:0,ANFB_ShouldView:1,ANFB_ShouldEdit:2,ANFB_ShouldAppearInPanel:3,ANFB_ShouldSummarize:4,ANFB_ShouldExport:5}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(299),i=(o=r)&&o.__esModule?o:{default:o},a=n(156);var s=function(){function e(t,n,o,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ctrlKey=t,this.shiftKey=n,this.altKey=o,this.metaKey=r,this.keyCode=i}return e.prototype.equals=function(e){return this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.keyCode===e.keyCode},e.prototype.isError=function(){return this.keyCode===a.KeyCodes.Unknown},e.prototype.toString=function(){var e=[];return this.ctrlKey&&e.push("ctrl"),this.shiftKey&&e.push("shift"),this.altKey&&e.push("alt"),this.metaKey&&e.push("meta"),e.join("+")+"+"+i.default.toString(this.keyCode)},e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.userSettingsMap=t.uiMap=void 0;var o=n(1019),r=n(156);var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.toString=function(e){return a.keyCodeToStr(e)},e.fromString=function(e){return a.strToKeyCode(e)},e}();t.default=i;var a=t.uiMap=new o.KeyCodeStrMap,s=t.userSettingsMap=new o.KeyCodeStrMap;!function(){var e=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];n.forEach((function(t){a.define(e,t),s.define(e,t)}))};e(r.KeyCodes.Unknown,"unknown"),e(r.KeyCodes.Backspace,"Backspace"),e(r.KeyCodes.Tab,"Tab"),e(r.KeyCodes.Enter,"Enter"),e(r.KeyCodes.Shift,"Shift"),e(r.KeyCodes.Ctrl,"Ctrl"),e(r.KeyCodes.Alt,"Alt"),e(r.KeyCodes.PauseBreak,"PauseBreak"),e(r.KeyCodes.CapsLock,"CapsLock"),e(r.KeyCodes.Escape,"Escape"),e(r.KeyCodes.Space,"Space"),e(r.KeyCodes.PageUp,"PageUp"),e(r.KeyCodes.PageDown,"PageDown"),e(r.KeyCodes.End,"End"),e(r.KeyCodes.Home,"Home"),e(r.KeyCodes.LeftArrow,"LeftArrow","Left"),e(r.KeyCodes.UpArrow,"UpArrow","Up"),e(r.KeyCodes.RightArrow,"RightArrow","Right"),e(r.KeyCodes.DownArrow,"DownArrow","Down"),e(r.KeyCodes.Insert,"Insert"),e(r.KeyCodes.Delete,"Delete"),e(r.KeyCodes.KEY_0,"0"),e(r.KeyCodes.KEY_1,"1"),e(r.KeyCodes.KEY_2,"2"),e(r.KeyCodes.KEY_3,"3"),e(r.KeyCodes.KEY_4,"4"),e(r.KeyCodes.KEY_5,"5"),e(r.KeyCodes.KEY_6,"6"),e(r.KeyCodes.KEY_7,"7"),e(r.KeyCodes.KEY_8,"8"),e(r.KeyCodes.KEY_9,"9"),e(r.KeyCodes.KEY_A,"A"),e(r.KeyCodes.KEY_B,"B"),e(r.KeyCodes.KEY_C,"C"),e(r.KeyCodes.KEY_D,"D"),e(r.KeyCodes.KEY_E,"E"),e(r.KeyCodes.KEY_F,"F"),e(r.KeyCodes.KEY_G,"G"),e(r.KeyCodes.KEY_H,"H"),e(r.KeyCodes.KEY_I,"I"),e(r.KeyCodes.KEY_J,"J"),e(r.KeyCodes.KEY_K,"K"),e(r.KeyCodes.KEY_L,"L"),e(r.KeyCodes.KEY_M,"M"),e(r.KeyCodes.KEY_N,"N"),e(r.KeyCodes.KEY_O,"O"),e(r.KeyCodes.KEY_P,"P"),e(r.KeyCodes.KEY_Q,"Q"),e(r.KeyCodes.KEY_R,"R"),e(r.KeyCodes.KEY_S,"S"),e(r.KeyCodes.KEY_T,"T"),e(r.KeyCodes.KEY_U,"U"),e(r.KeyCodes.KEY_V,"V"),e(r.KeyCodes.KEY_W,"W"),e(r.KeyCodes.KEY_X,"X"),e(r.KeyCodes.KEY_Y,"Y"),e(r.KeyCodes.KEY_Z,"Z"),e(r.KeyCodes.Meta,"Meta"),e(r.KeyCodes.ContextMenu,"ContextMenu"),e(r.KeyCodes.F1,"F1"),e(r.KeyCodes.F2,"F2"),e(r.KeyCodes.F3,"F3"),e(r.KeyCodes.F4,"F4"),e(r.KeyCodes.F5,"F5"),e(r.KeyCodes.F6,"F6"),e(r.KeyCodes.F7,"F7"),e(r.KeyCodes.F8,"F8"),e(r.KeyCodes.F9,"F9"),e(r.KeyCodes.F10,"F10"),e(r.KeyCodes.F11,"F11"),e(r.KeyCodes.F12,"F12"),e(r.KeyCodes.F13,"F13"),e(r.KeyCodes.F14,"F14"),e(r.KeyCodes.F15,"F15"),e(r.KeyCodes.F16,"F16"),e(r.KeyCodes.F17,"F17"),e(r.KeyCodes.F18,"F18"),e(r.KeyCodes.F19,"F19"),e(r.KeyCodes.NumLock,"NumLock"),e(r.KeyCodes.ScrollLock,"ScrollLock"),e(r.KeyCodes.US_SEMICOLON,";",";","OEM_1"),e(r.KeyCodes.US_EQUAL,"=","=","OEM_PLUS"),e(r.KeyCodes.US_COMMA,",",",","OEM_COMMA"),e(r.KeyCodes.US_MINUS,"-","-","OEM_MINUS"),e(r.KeyCodes.US_DOT,".",".","OEM_PERIOD"),e(r.KeyCodes.US_SLASH,"/","/","OEM_2"),e(r.KeyCodes.US_BACKTICK,"`","`","OEM_3"),e(r.KeyCodes.ABNT_C1,"ABNT_C1"),e(r.KeyCodes.ABNT_C2,"ABNT_C2"),e(r.KeyCodes.US_OPEN_SQUARE_BRACKET,"[","[","OEM_4"),e(r.KeyCodes.US_BACKSLASH,"\\","\\","OEM_5"),e(r.KeyCodes.US_CLOSE_SQUARE_BRACKET,"]","]","OEM_6"),e(r.KeyCodes.US_QUOTE,"'","'","OEM_7"),e(r.KeyCodes.OEM_8,"OEM_8"),e(r.KeyCodes.OEM_102,"OEM_102"),e(r.KeyCodes.NUMPAD_0,"NumPad0"),e(r.KeyCodes.NUMPAD_1,"NumPad1"),e(r.KeyCodes.NUMPAD_2,"NumPad2"),e(r.KeyCodes.NUMPAD_3,"NumPad3"),e(r.KeyCodes.NUMPAD_4,"NumPad4"),e(r.KeyCodes.NUMPAD_5,"NumPad5"),e(r.KeyCodes.NUMPAD_6,"NumPad6"),e(r.KeyCodes.NUMPAD_7,"NumPad7"),e(r.KeyCodes.NUMPAD_8,"NumPad8"),e(r.KeyCodes.NUMPAD_9,"NumPad9"),e(r.KeyCodes.NUMPAD_MULTIPLY,"NumPad_Multiply"),e(r.KeyCodes.NUMPAD_ADD,"NumPad_Add"),e(r.KeyCodes.NUMPAD_SEPARATOR,"NumPad_Separator"),e(r.KeyCodes.NUMPAD_SUBTRACT,"NumPad_Subtract"),e(r.KeyCodes.NUMPAD_DECIMAL,"NumPad_Decimal"),e(r.KeyCodes.NUMPAD_DIVIDE,"NumPad_Divide")}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(299)),r=i(n(298));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e._readModifiers=function(e){e=e.trim().toLowerCase();var t=!1,n=!1,o=!1,r=!1,i=void 0;do{i=!1,/^ctrl[\+\-]/.test(e)&&(t=!0,e=e.substring("ctrl-".length),i=!0),/^shift[\+\-]/.test(e)&&(n=!0,e=e.substring("shift-".length),i=!0),/^alt[\+\-]/.test(e)&&(o=!0,e=e.substring("alt-".length),i=!0),/^meta[\+\-]/.test(e)&&(r=!0,e=e.substring("meta-".length),i=!0),/^win[\+\-]/.test(e)&&(r=!0,e=e.substring("win-".length),i=!0),/^cmd[\+\-]/.test(e)&&(r=!0,e=e.substring("cmd-".length),i=!0)}while(i);var a=void 0,s=e.indexOf(" ");return s>0?(a=e.substring(0,s),e=e.substring(s)):(a=e,e=""),{remains:e,ctrl:t,shift:n,alt:o,meta:r,key:a}},e.parseKeybinding=function(e){var t=this._readModifiers(e),n=o.default.fromString(t.key);return new r.default(t.ctrl,t.shift,t.alt,t.meta,n)},e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=c(n(4));n(172);var r=c(n(146)),i=c(n(124)),a=c(n(1)),s=c(n(165));c(n(1033));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var p=new(function(e){function t(){return u(this,t),l(this,e.apply(this,arguments))}return f(t,e),t.prototype.destroy=function(){},t}(i.default)),d=function(e){function t(){return u(this,t),l(this,e.apply(this,arguments))}return f(t,e),t.prototype.prepare=function(t){var n=this;e.prototype.prepare.call(this,t);var o={},r={},i=function(e,i){if(i){var a=i.getStateName(),s=r[a];s&&s.destroy()}var c=e.getStateName(),u=o[c]||(e.getDefaultContextMenuConfig?e.getDefaultContextMenuConfig():void 0);r[c]=n.createContextMenu(c,t.$ui.get(0),u)};this.menus=r,t.eventEmitter.on(a.default.switchStateHandler,i),t.eventEmitter.once(a.default.openFileSuccess,(function(){i(t.getStateHandlerManager().currentStateHandler)}))},t.prototype.createContextMenu=function(e,t,n){if(!n||!n.items)return p;var r=n.items,a=this.pdfViewer.i18n;for(var s in r){var c=r[s];c.nameI18nKey&&(c.name=a.t(c.nameI18nKey))}var d=(0,o.default)(t),h=new(function(e){function t(){return u(this,t),l(this,e.apply(this,arguments))}return f(t,e),t.prototype.destroy=function(){d.contextMenu("destroy")},t.prototype.showAt=function(e,t){var n=o.default.Event("contextmenu",{data:{events:{preShow:function(){}}},pageX:e,pageY:t});n.target=d.find(".fv__pdf-page-annot-handler-rect")[0],d.trigger(n)},t.prototype.disable=function(){e.prototype.disable.call(this),d.contextMenu("destroy")},t.prototype.enable=function(){e.prototype.enable.call(this),this.createRealContextmenu()},t.prototype.createRealContextmenu=function(){d.contextMenu(n)},t}(i.default));return d.on("contextmenu:hide",(function(){h.hiddenCallbacks.forEach((function(e){return e.call(h)}))})),h.createRealContextmenu(),h},t.prototype.alert=function(e){return e=this.pdfViewer.i18n.t("viewer_:"+e)||e,window.alert(e),Promise.resolve()},t.prototype.confirm=function(e){e=this.pdfViewer.i18n.t("viewer_:"+e)||e;var t=window.confirm(e);return t?Promise.resolve(t):Promise.reject("confirm dialog has been cancelled by user!")},t.prototype.prompt=function(e,t){t=this.pdfViewer.i18n.t(t)||t;var n=window.prompt(t,e||"");return n?Promise.resolve(n):Promise.reject("prompt dialog has been cancelled by user!")},t.prototype.promptPassword=function(e,t){t=this.pdfViewer.i18n.t(t)||t;var n=window.prompt(t,e||"");return n?Promise.resolve(n):Promise.reject("prompt dialog has been cancelled by user!")},t.prototype.createFreeTextTooltip=function(e){},t.prototype.createAnnotTooltip=function(e){},t.prototype.createTextSelectionTooltip=function(e){return new s.default(this.pdfViewer,e)},t.prototype.destroy=function(){Object.values(this.menus).forEach((function(e){return e.destroy()}))},t}(r.default);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=s(n(56)),i=s(n(13)),a=s(n(9));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l=function(){function e(){u(this,e),this.keyArray=[],this.valueArray=[]}return o(e,null,[{key:"NONE",get:function(){return{}}}]),e.prototype.set=function(t,n){var o=this.keyArray,r=this.valueArray,i=o.indexOf(t);if(-1===i){var a=o.indexOf(e.NONE);-1!==a?i=a:(o.push(t),i=o.length-1)}o[i]=t,r[i]=n},e.prototype.get=function(e){var t=this.keyArray;return this.valueArray[t.indexOf(e)]},e.prototype.delete=function(t){var n=this.keyArray,o=this.valueArray,r=n.indexOf(t);r>-1&&(n[r]=e.NONE,o[r]=e.NONE)},e.prototype.has=function(e){return this.keyArray.indexOf(e)>-1},e.prototype.clear=function(){this.keyArray.length=0,this.valueArray.length=0},e.prototype.keys=function(){return this.keyArray.filter((function(t){return t!==e.NONE}))},e.prototype.values=function(){return this.valueArray.filter((function(t){return t!==e.NONE}))},o(e,[{key:"size",get:function(){return this.keyArray.filter((function(t){return t!==e.NONE})).length}}]),e}(),f=a.default.getLogger("WebAppLifeCycle"),p=function(e){function t(){u(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return n.map=new(Map||l),n.releaseHooks=[],n}return c(t,e),t.getName=function(){(0,r.default)()},t.depends=function(){return[]},t.prototype.release=function(){var e=this.map.values();if(Array.isArray(e))e.forEach((function(e){return e.release()}));else{var t=!0,n=!1,o=void 0;try{for(var r,i=e[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){r.value.release()}}catch(e){n=!0,o=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw o}}}this.releaseHooks.forEach((function(e){try{e()}catch(e){f.error("An error occurred while invoking release hook",e)}})),this.releaseHooks.length=0},t.prototype.getResourceGenerator=function(e){if(this.map.has(e))return this.map.get(e)},t.prototype.addResourceGenerator=function(e,t){if(this.map.has(e))throw new Error("duplicate generator name is not supported now!");this.map.set(e,new t)},t.prototype.initialize=function(){(0,r.default)()},t.prototype.addReleaseHook=function(e){"function"==typeof e&&this.releaseHooks.push(e)},t.prototype.destroy=function(){this.isDestroyed||(this.release(),this.map.clear(),delete this.map,e.prototype.destroy.call(this))},t}(i.default);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.allIsSpace=t.debounce=t.getQuadPointsFromRect=t.normalizeQuadPoints=void 0;var o,r=n(151),i=(o=r)&&o.__esModule?o:{default:o};t.normalizeQuadPoints=function(e){var t=e[0],n=e[1],o=e[2],r=e[3],a=new i.default;if(a.translate(t.x,t.y),a.rotate(Math.atan2(t.y-n.y,n.x-t.x)),a.transformPoint(o.x,o.y)[1]>0){var s=t;t=o,o=s,s=n,n=r,r=s}return[t,n,o,r]},t.getQuadPointsFromRect=function(e,t){var n=e.left,o=e.right,r=e.top,a=e.bottom;switch(t%4){case 0:return[{x:n,y:r},{x:o,y:r},{x:n,y:a},{x:o,y:a}];case 1:return[{x:o,y:r},{x:o,y:a},{x:n,y:r},{x:n,y:a}];case 2:return[{x:o,y:a},{x:n,y:a},{x:o,y:r},{x:n,y:r}];case 3:return[{x:n,y:a},{x:n,y:r},{x:o,y:a},{x:o,y:r}]}var s=new i.default,c=(n+o)/2,u=(r+a)/2;s.rotateAt(c,u,-radian);var l=s.transformRect(n,r,o,a),f=s.transformPoint(l[0],l[3]);f={x:f[0],y:f[1]};var p=s.transformPoint(l[2],l[3]);p={x:p[0],y:p[1]};var d=s.transformPoint(l[0],l[1]);d={x:d[0],y:d[1]};var h=s.transformPoint(l[2],l[1]);return[f,p,d,h={x:h[0],y:h[1]}]},t.debounce=function(e,t){var n=void 0;return function(){var o=this,r=arguments;clearTimeout(n),n=setTimeout((function(){t.apply(o,r)}),e)}},t.allIsSpace=function(e){return 0===e.replace(/\s+/gi,"").length}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=n(39),i=n(12),a=p(n(409)),s=p(n(19)),c=p(n(32)),u=p(n(174)),l=n(22),f=(p(n(72)),p(n(38)));function p(e){return e&&e.__esModule?e:{default:e}}function d(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var h=function(){function e(t,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.doc=t,this.form=n,this.info=o,this.controls=[],this.updateControls(this.info.controls)}return e.prototype.destroy=function(){this.doc=null,this.form=null,this.controls.forEach((function(e){return e.destroy()})),this.controls=[],this.info=null},e.prototype.getWidget=function(e){return this.controls[e].getWidget()},e.prototype.getLoadedWidgets=function(){return this.controls.map((function(e){return e.getWidget()})).filter((function(e){return e}))},e.prototype.getIndex=function(){return this.info.index},e.prototype.updateWidgetsUI=function(e,t,n,o){var r=this,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return Promise.resolve()};if(!this.doc)return Promise.resolve();-1!==["value","comb","multiline","choiceMultiSelect","comboEdit","maxLength","hidden","password","readonly","required","noScroll","clearItems","deleteItems","setItems","icon","insertItemAt"].indexOf(n)&&this.doc.engine.eventEmitter.emit(s.default.formValueChanged);var a=[];return this.controls.forEach((function(e){var t=e.getWidget();if(t){var s;s=i(t).then((function(e){t.updateUI({type:n,value:o})})),a.push(s)}else a.push(r.form.addTask((function(t){return e.updateProperty(n,o)})))})),Promise.all(a).then((function(e){return!0}))},e.prototype.getControlById=function(e){for(var t=0;t<this.controls.length;t++){var n=this.controls[t];if(n.info.objectNumber==e)return n}},e.prototype.getPDFForm=function(){return this.form},e.prototype.getName=function(){return this.info.name},e.prototype.getAlternateName=function(){return this.info.alternateName},e.prototype.setAlternateName=function(e){var t=this;this.form.checkFillPerm(),this.info.alternateName=e,this.update("alternateName",e).then((function(e){return t.triggerUpdateEvent(f.default.formFieldAlternateName),e}))},e.prototype.getType=function(){return this.info.type},e.prototype.getFlags=function(){return this.info.flag},e.prototype.setFlags=function(e){var t=this;this.form.checkFillPerm();var n={};Object.entries(r.FieldFlag).forEach((function(t){"number"==typeof t[1]&&(e&r.FieldFlag[t[0]])>0?n[t[0]]=!0:n[t[0]]=!1}));var i=Promise.resolve(),a=Object.keys(n),c=this.getType()==r.FieldType.RadioButton,u=a.includes("ButtonRadiosInUnison"),l=this.info.flag,p=!0,h=!1,g=void 0;try{for(var m,v=Object.entries(n)[Symbol.iterator]();!(p=(m=v.next()).done);p=!0){var y=m.value,b=o(y,2),w=b[0];b[1]?l|=r.FieldFlag[w]:l&=~r.FieldFlag[w]}}catch(e){h=!0,g=e}finally{try{!p&&v.return&&v.return()}finally{if(h)throw g}}if(this.info.flag=l,c&&u&&!a.ButtonRadiosInUnison){var _=this.info.controls[0].exportValue;i=i.then((function(e){return t.doc.api.setFieldValue(t.doc.id,t.getName(),_)}))}var P=[].concat(d(Object.keys(r.FieldFlag))).filter((function(e){return["NoExport","CommitOnSelChange"].every((function(t){return t!==e}))}));[].concat(d(a)).filter((function(e){return-1!==P.indexOf(e)})).length&&this.doc.engine.eventEmitter.emit(s.default.formValueChanged);for(var O=[],E={ReadOnly:"readonly",Required:"required",Hidden:"hidden",TextMultiline:"multiline",TextPassword:"password",TextDoNotSpellCheck:"noSpellCheck",TextDoNotScroll:"noScroll",TextComb:"comb",ComboEdit:"comboEdit",ChoiceMultiSelect:"choiceMultiSelect"},x=function(e){var o=void 0,r=void 0;c&&"ButtonRadiosInUnison"==a[e]?(o="value",r=t.getValue()):(o=E[a[e]],r=n[a[e]]),t.controls.forEach((function(e){var n=e.getWidget();if(n){var i;i=Promise.resolve().then((function(e){n.updateUI({type:o,value:r})})),O.push(i)}else O.push(t.form.addTask((function(t){return e.updateProperty(o,r)})))}))},C=0;C<a.length;C++)x(C);i.then((function(e){return t.update("flag",t.info.flag)})).then((function(e){return t.triggerUpdateEvent(f.default.flagsUpdated),Promise.all(O).then((function(e){return!0}))}))},e.prototype.setComb=function(e){var t=this;this.form.checkFillPerm(),this.info.flag=e?this.info.flag|r.FieldFlag.TextComb:this.info.flag&~r.FieldFlag.TextComb,this.updateWidgetsUI(this.form,this.info.name,"comb",e),this.update("flag",this.info.flag).then((function(){t.triggerUpdateEvent(f.default.flagsUpdated)}))},e.prototype.setMultiline=function(e){var t=this;this.form.checkFillPerm(),this.info.flag=e?this.info.flag|r.FieldFlag.TextMultiline:this.info.flag&~r.FieldFlag.TextMultiline,this.updateWidgetsUI(this.form,this.info.name,"multiline",e),this.update("flag",this.info.flag).then((function(){t.triggerUpdateEvent(f.default.flagsUpdated)}))},e.prototype.setChoiceMultiSelect=function(e){var t=this;this.form.checkFillPerm(),this.info.flag=e?this.info.flag|r.FieldFlag.ChoiceMultiSelect:this.info.flag&~r.FieldFlag.ChoiceMultiSelect,this.updateWidgetsUI(this.form,this.info.name,"choiceMultiSelect",e),this.update("flag",this.info.flag).then((function(){t.triggerUpdateEvent(f.default.flagsUpdated)}))},e.prototype.setComboEdit=function(e){var t=this;this.form.checkFillPerm(),this.info.flag=e?this.info.flag|r.FieldFlag.ComboEdit:this.info.flag&~r.FieldFlag.ComboEdit,this.updateWidgetsUI(this.form,this.info.name,"comboEdit",e),this.update("flag",this.info.flag).then((function(){t.triggerUpdateEvent(f.default.flagsUpdated)}))},e.prototype.update=function(e,t){var n=this;return this.form.addTask((function(o){return n.doc.api.updateField(n.doc.id,n.info.name,e,t)}))},e.prototype.getValue=function(){return String(this.info.value).length>0?this.info.value:""},e.prototype.getValueIndex=function(){for(var e=this.info.options,t=0;t<e.length;t++)if(e[t].value==this.info.value)return t;return-1},e.prototype.getDefaultValue=function(){return this.info.defaultValue},e.prototype.setDefaultValue=function(e){return this.form.checkFillPerm(),this.update("defaultValue",e),this.info.defaultValue=e},e.prototype.getAlignment=function(){return this.info.alignment},e.prototype.setAlignment=function(e){var t=this;if(this.form.checkFillPerm(),1!==this.getType()){var n=void 0;switch(+e){case 0:n="left";break;case 1:n="center";break;case 2:n="right";break;default:throw new Error("Unkown alignment: "+e)}return this.updateWidgetsUI(this.form,this.info.name,"align",n,(function(t){return t.updateMKProperty("alignment",+e)})).then((function(n){return t.update("align",e),t.info.alignment=e}))}},e.prototype.setAlignmentWithString=function(e,t){return this.form.checkFillPerm(),this.updateWidgetsUI(this.form,this.info.name,"align",t||e),this.update("align",e),this.info.alignment=e},e.prototype.getBorderStyle=function(){var e=this.controls[0].getWidget(),t=0;switch(e&&(t=e.getBorderStyle()),t){case 0:return"solid";case 1:return"dashed";case 2:return"underline";case 3:return"beveled";case 4:return"inset"}},e.prototype.getRotation=function(){var e=this.controls[0].getWidget(),t=0;return e&&(t=e.getRotation()),-90*t},e.prototype.setBorderStyle=function(e){this.form.checkFillPerm();var t=void 0,n=void 0;switch(e){case"solid":n=0;break;case"dashed":n=1,t=[3,3];break;case"underline":n=2;break;case"beveled":n=3,e="outset";break;case"inset":n=4;break;default:return}return this.setBorderStyleWithParam(n,e,t)},e.prototype.setBorderStyleWithParam=function(e,t,n){return this.updateWidgetsUI(this.form,this.info.name,"borderStyle",t,(function(t){return t.setBorderStyle(e,n)}))},e.prototype.setBorderWidth=function(e){var t=this;this.form.checkFillPerm();var n=void 0;switch(e){case"thin":n=1;break;case"medium":n=2;break;case"thick":n=3;break;default:return}return this.updateWidgetsUI(this.form,this.info.name,"borderWidth",e,(function(e){var o=e.setBorderWidth(n);return t.form.engine.eventEmitter.emit(s.default.annotationUpdated,[e],e.getPDFPage(),f.default.borderWidthUpdated),o}))},e.prototype.setBorderColor=function(e){var t=this;return this.form.checkFillPerm(),e=0===e?0:(0,i.colorConvertor)(e,"int"),this.form.addTask((function(n){return t.updateWidgetsUI(t.form,t.info.name,"borderColor",e,(function(n){var o=n.setMKProperty("borderColor",e);return t.form.engine.eventEmitter.emit(s.default.annotationUpdated,[n],n.getPDFPage(),f.default.borderColorUpdated),o}))}))},e.prototype.getBorderColor=function(){var e=this.controls[0].getWidget();return e?e.getMKProperty("borderColor"):0},e.prototype.setFillColor=function(e){var t=this;return this.form.checkFillPerm(),e=0===e?e:(0,i.colorConvertor)(e,"int"),this.form.addTask((function(n){return t.updateWidgetsUI(t.form,t.info.name,"fillColor",e,(function(n){var o=n.setMKProperty("fillColor",e);return t.form.engine.eventEmitter.emit(s.default.annotationUpdated,[n],n.getPDFPage(),f.default.fillColorUpdated),o}))}))},e.prototype.getFillColor=function(){var e=this.controls[0].getWidget();return e?e.getMKProperty("fillColor"):0},e.prototype.getOptions=function(){return this.info.options||[]},e.prototype.getMaxLength=function(){return this.info.maxLength},e.prototype.setMaxLength=function(e){var t=this;return this.form.checkFillPerm(),this.getType()!==r.FieldType.Text?0:(this.info.maxLength=e,this.form.addTask((function(n){return t.triggerUpdateEvent(f.default.formFieldsMaxLengthUpdated),t.updateWidgetsUI(t.form,t.info.name,"maxLength",e)})),this.update("maxLength",e),e)},e.prototype.setValueWithoutAction=function(e){this.info.value=e instanceof Array?e:""+e},e.prototype.syncValue=function(e){var t=this;this.info.value=e;var n=this.info.name;return this.doc.api.setFieldValue(this.doc.id,n,e).then((function(o){return t.triggerUpdateEvent(f.default.formFieldValueUpdated,"value"),t.updateWidgetsUI(t.form,n,"value",e)}))},e.prototype.setValue=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=void 0;if(o=n?n.info.objectNumber:this.controls[0].info.objectNumber,!this.doc.checkPermission(c.default.fillForm|c.default.annotForm))throw new Error("Permission error");var i=this.getType();if(7===i||1===i)return Promise.resolve();var a=i==r.FieldType.RadioButton||i==r.FieldType.CheckBox,s=i==r.FieldType.ListBox;r.FieldType.ComboBox;if(a){var u=!1;this.info.controls.forEach((function(n){if(n.exportValue==t)u=!0;else{var o=e.getControlById(n.objectNumber),r=o.widget&&o.widget.info.ApStates;r&&r.indexOf(t)>-1&&(u=!0)}})),u||(t="Off")}var l=this.getOptions();if(s){if(Array.isArray(t)){for(var p=!0,d=function(e){if(!l.find((function(n){return n.value===t[e]})))return p=!1,"break"},h=t.length;h--;){var g=d(h);if("break"===g)break}p||(t="")}else l.find((function(e){return e.value===t}))||(t="");l.forEach((function(e){e.value==t?e.selected=!0:e.selected=!1}))}if(Array.isArray(t)||(t=""+t),this.info.value==t&&!a)return Promise.resolve(t);this.info.value=t;var m=this.info.name;return this.doc.api.setFieldValue(this.doc.id,m,t).then((function(n){var r=Promise.resolve();return a&&e.controls.forEach((function(e){var n=e.getWidget();n&&(r=n.update().then((function(e){return n.setAS(t,o)})))})),e.NeedExecuteValidateAction=!0,e.triggerUpdateEvent(f.default.formFieldValueUpdated,"value"),r.then((function(n){return e.updateWidgetsUI(e.form,m,"value",t)})).then((function(){e.NeedExecuteValidateAction=!1}))}))},e.prototype.triggerUpdateEvent=function(e,t){var n=this.form.engine.eventEmitter;this.controls.forEach((function(o){var r=o.getWidget();r&&n.emit(s.default.annotationUpdated,[r],r.getPDFPage(),e,t)}))},e.prototype.setValueByIndex=function(e){this.form.checkFillPerm();var t=this.info.options[e].value;return this.setValue(t),e},e.prototype.setHidden=function(e){this.form.checkFillPerm(),this.updateWidgetsUI(this.form,this.info.name,"hidden",e,(function(t){var n=t.info.flag;return e?(n&=-2,n&=-33,n|=6):(n&=-2,n&=-3,n&=-33,n|=4),t.setFlagValue(n)}))},e.prototype.setPassword=function(e){this.form.checkFillPerm(),this.info.flag=e?this.info.flag|r.FieldFlag.TextPassword:this.info.flag&~r.FieldFlag.TextPassword,this.updateWidgetsUI(this.form,this.info.name,"password",e),this.update("flag",this.info.flag)},e.prototype.setReadonly=function(e){return this.form.checkFillPerm(),this.info.flag=e?this.info.flag|r.FieldFlag.ReadOnly:this.info.flag&~r.FieldFlag.ReadOnly,this.updateWidgetsUI(this.form,this.info.name,"readonly",e),this.update("flag",this.info.flag)},e.prototype.setRequired=function(e){return this.form.checkFillPerm(),this.info.flag=e?this.info.flag|r.FieldFlag.Required:this.info.flag&~r.FieldFlag.Required,this.updateWidgetsUI(this.form,this.info.name,"required",e),this.update("flag",this.info.flag)},e.prototype.setNoScroll=function(e){this.form.checkFillPerm(),this.info.flag=e?this.info.flag|r.FieldFlag.TextDoNotScroll:this.info.flag&~r.FieldFlag.TextDoNotScroll,this.updateWidgetsUI(this.form,this.info.name,"noScroll",e),this.update("flag",this.info.flag)},e.prototype.setNoSpellCheck=function(e){this.form.checkFillPerm(),this.info.flag=e?this.info.flag|r.FieldFlag.TextDoNotSpellCheck:this.info.flag&~r.FieldFlag.TextDoNotSpellCheck,this.updateWidgetsUI(this.form,this.info.name,"noSpellCheck",e),this.update("flag",this.info.flag)},e.prototype.setInUnison=function(e){var t=this;this.form.checkFillPerm();var n=Promise.resolve();if(e)this.info.flag=this.info.flag|r.FieldFlag.ButtonRadiosInUnison;else{this.info.flag=this.info.flag&~r.FieldFlag.ButtonRadiosInUnison;var o=this.info.controls[0].exportValue;n=n.then((function(e){return t.doc.api.setFieldValue(t.doc.id,t.getName(),o)}))}n.then((function(e){return t.update("flag",t.info.flag)})).then((function(e){t.triggerUpdateEvent(f.default.flagsUpdated);var n=t.getValue();t.updateWidgetsUI(t.form,name,"value",n)}))},e.prototype.setMKProperty=function(e,t){this.updateWidgetsUI(this.form,this.info.name,e,t,(function(n){return n.setMKProperty(e,t)}))},e.prototype.clearItems=function(){this.form.checkFillPerm(),this.info.options.length=0,this.info.value="",this.updateWidgetsUI(this.form,this.info.name,"clearItems"),this.update("clearItems")},e.prototype.deleteItems=function(e){this.form.checkFillPerm(),e<0||e>=this.info.options.length||(this.info.options[e].value==this.info.value&&(this.info.value=""),this.info.options.splice(e,1),this.updateWidgetsUI(this.form,this.info.name,"deleteItems",e),this.update("deleteItems",e))},e.prototype.insertItemAt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.form.checkFillPerm();var o=this.info.options;-1==n&&(n=o.length),t||(t=e);var r=n==o.length?n-1:n;o[r]&&o[r].value==t?this.info.value=t:(this.info.options=[].concat(o.slice(0,n),{label:e,value:t,defaultSelected:!1,selected:!1},o.slice(n,o.length)),this.info.value=t,this.updateWidgetsUI(this.form,this.info.name,"insertItemAt",n),this.update("insertItemAt",{index:n,label:e,value:t,defaultSelected:!1,selected:!1}))},e.prototype.showDisplayValue=function(e){this.updateWidgetsUI(this.form,this.info.name,"displayValue",e)},e.prototype.getAction=function(e){if(!this.engineActions)for(var t in this.engineActions={},this.info.AA)this.engineActions[t]=this.doc.engine.actionFactory.createAction(this.info.AA[t],this.doc);return this.engineActions[e]},e.prototype.getDAFontSize=function(){return this.info.DA.textSize},e.prototype.getDAFontColor=function(){return this.info.DA.textColor},e.prototype.isDAFontEmbedded=function(){return this.info.DA.isEmbedded},e.prototype.getDAFontBuffer=function(){return this.doc.api.getFontBufferByName(this.doc.id,this.info.DA.fontName)},e.prototype.setDAFontColor=function(e){this.form.checkFillPerm();var t=(0,i.colorConvertor)(e,"int");return this.info.DA.textColor=t,this.updateWidgetsUI(this.form,this.info.name,"textColor",(0,i.colorConvertor)(e,"HTML"),(function(e){return e.updateMKProperty("fontColor")})),this.update("textColor",t),t},e.prototype.setDAFontColorAsync=function(e){var t=this;this.form.checkFillPerm();var n=(0,i.colorConvertor)(e,"int");return this.info.DA.textColor=n,this.updateWidgetsUI(this.form,this.info.name,"textColor",(0,i.colorConvertor)(e,"HTML"),(function(e){return e.updateMKProperty("fontColor")})).then((function(){return t.update("textColor",n)})).then((function(){return n}))},e.prototype.getControlByIndex=function(e){return this.controls[e]},e.prototype.removeControlInfo=function(e){this.form.checkFillPerm();var t=void 0;for(t=0;t<this.info.controls.length;t++){if(this.info.controls[t].objectNumber==e){this.info.controls.splice(t,1);break}}return this.controls[t].destroy(),this.controls.splice(t,1),this.info.controls.length},e.prototype.getControlsCount=function(){return this.info.controls.length},e.prototype.focus=function(){var e=this.controls[0].getWidget();e&&e.updateUI({type:"focus"})},e.prototype.getControlExportValues=function(e){return this.info.controls[e].exportValue},e.prototype.getExportValues=function(){for(var e=[],t=0;t<this.info.controls.length;t++)e.push(this.info.controls[t].exportValue);return e},e.prototype.setExportValue=function(e,t){var n=this,o=this.info.controls[e];return o.exportValue=t,this.doc.api.updateFormControl(this.doc.id,this.getName(),o.objectNumber,"exportValue",t).then((function(e){n.triggerUpdateEvent(f.default.formFieldExportValueUpdated,"exportValue"),e.forEach((function(e,t){var o=n.controls[t];o.setExportValue(e);var r=o.getWidget();if(r)return r._update().then((function(e){return r.updateUI({})}))}))}))},e.prototype.setWidgetDisplay=function(e,t){this.updateWidgetsUI(this.form,this.info.name,"display",e,(function(n){return n.setDisplay(e,t)}))},e.prototype.setIconObj=function(e,t){this.form.checkFillPerm(),this.updateWidgetsUI(this.form,this.info.name,"icon",null,(function(n){return n.setIconObj(e,t)}))},e.prototype.setOptions=function(e){var t=this;if(this.form.checkFillPerm(),4===this.getType()||5===this.getType()){e.some((function(e){return e.selected}))||(e[0].selected=!0),this.info.options=e;var n=this.update("setItems",this.info.options);return arguments[1]?n:n.then((function(n){t.info.defaultValue=n.defaultValue;for(var o=t.info.value,r=0;r<e.length;r++)if(e[r].selected){o=e[r].value;break}return t.setValue(o)})).then((function(){var e=t.updateWidgetsUI(t.form,t.info.name,"setItems");return t.triggerUpdateEvent(f.default.formFieldItemsUpdated),e}))}},e.prototype.setItems=function(e){var t=this;this.form.checkFillPerm(),this.form.addTask((function(n){e=e.map((function(e){return"string"==typeof e?{label:e,value:e,selected:!1,defaultSelected:!1}:{label:e[0],value:e[1],selected:e[2]||!1,defaultSelected:e[3]||!1}})),t.setOptions(e)}))},e.prototype.setDisplayValue=function(e){return this.displayValue=e,this.update("displayValue",e)},e.prototype.getDisplayValue=function(){return this.displayValue},e.prototype.setRect=function(e){this.rect=e,this.updateWidgetsUI(this.form,this.info.name,"rect",e,(function(t){return t.setRect(e)}))},e.prototype.updateControls=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=0;t<e.length;t++){var n=this.controls[t];n?n.info=e[t]:(n=new a.default(this.doc,this,e[t]),this.controls.push(n))}this.info.controls=e},e.prototype.setAction=function(e,t){var n=this;if(-1!=e&&(e-l.Action_Trigger.keyStroke|l.Action_Trigger.onBlur-e)<0)throw new Error("Trigger error. Please refer to Constant Action_Trigger");if(!t)throw new Error("Action should not be null.");this.form.checkDesignPerm();var o=t.info;if("string"==typeof t){var r=new u.default;r.setScript(t),o=(t=r).info}var i=this.info.name,a={trigger:e,data:o,field:i};return e>6&&e<11?(this.getAction(),this.update("AA",a).then((function(o){n.triggerUpdateEvent(f.default.formFieldActionUpdated);var r=n.doc;t.init(o,r.engine.actionFactory,r,r.api,r.engine.eventEmitter,n),e==l.Action_Trigger.calculate&&n.form.addCO(n),n.info.AA[e]=o,n.engineActions&&(n.engineActions[e]=t)}))):this.updateWidgetsUI(this.form,i,"action",a,(function(n){return n.setAction(e,t)}))},e.prototype.removeAction=function(e){var t=this.info.name,n={trigger:e,data:null,field:t};return e==l.Action_Trigger.calculate&&this.form.removeFieldInCO(t),this.updateWidgetsUI(this.form,t,"action",n,(function(t){return t.removeAction(e)}))},e.prototype.hasControl=function(e){return this.info.controls.some((function(t){return t.objectNumber==e}))},e.prototype.getBorderWidth=function(){var e=this.controls[0].getWidget();return e?e.getBorderWidth():0},e}();t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=Array.from(e.childNodes.values());n.forEach((function(o,r){t.includes(o)||(e.removeChild(o),n.splice(r,1))})),t.forEach((function(o,r){if(n[r]!==o){var i,a,s,c,u=n.indexOf(o),l=t[r-1];-1===u?(l?l.after(o):e.prepend(o),n.splice(r,0,o)):r<n.length?(o.before(n[r]),s=u,c=(i=n)[a=r],i[a]=i[s],i[s]=c,l?l.after(o):e.prepend(o)):(n.push(o),e.appendChild(o))}}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){return e=parseFloat(e),isFinite(e)?e:t},r=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.min=o(t,-1/0),this.max=o(n,1/0),this.step=o(r,1);var i=Math.min(this.min,this.max),a=Math.max(this.min,this.max);this.step<0?(this.max=i,this.min=a):0===this.step?this.max=this.min:(this.max=a,this.min=i),(this.min>this.max&&this.step>0||this.min<this.max&&this.step<0)&&(this.step=-this.step),0===this.step&&(this.step=this.min>this.max?-1:1),this.min===this.max&&(this.step=0),this.step>this.max-this.min&&(this.step=this.max-this.min)}return e.prototype.increment=function(e){return Map.min(this.max,e+this.step)},e.prototype.decrement=function(e){return Math.max(this.min,e-this.step)},e.prototype.normalizeValue=function(e){return"number"!=typeof e&&(e=parseFloat(e)),isNaN(e)?this.min:(e=Math.min(this.max,Math.max(e,this.min)),0===this.step?e:isFinite(this.min)?t(this.min+Math.round((e-this.min)/this.step)*this.step,this.step):isFinite(this.max)?t(this.max-Math.round((this.max-e)/this.step)*this.step,this.step):t(Math.round(e/this.step)*this.step,this.step));function t(e,t){var n=t.toString(),o=n.indexOf(".");if(-1!==o){var r=Math.pow(10,n.length-o-1);return Math.floor(e*r)/r}return e}},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(17)),r=n(8);function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}i(n(9)).default.getLogger("TextComponent");var s=function(e){function t(n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r));return i.textContent=i.viewConfig.textContent,i}return a(t,e),t.getName=function(){return"text"},t.prototype.createDOMElement=function(){return document.createTextNode("")},t.prototype.render=function(){this.localize()},t.prototype.remove=function(){var e=this.parent;e?e.removeText(this)||e.isContainer()&&e.removeChild(this):this.removeElement()},t.prototype.setText=function(e){this.textContent=e+"",this.localize()},t.prototype.doActive=function(){},t.prototype.doDeactive=function(){},t.prototype.doHidden=function(){},t.prototype.doShown=function(){},t.prototype.doDisable=function(){},t.prototype.doEnable=function(){},t.prototype.receiveBroadcast=function(t,n){e.prototype.receiveBroadcast.call(this,t,n),t===r.COMPONENT_BROADCAST_LOCALIZE&&this.localize()},t.prototype.localize=function(){var e=this;return this.localizer.translate(this.textContent,{},this.textContent).then((function(t){e.isDestroyed||(e.element.textContent=t)}))},t.prototype.sync=function(t,n){switch(t){case"text":return this.setText(n),!0;default:return e.prototype.sync.call(this,t,n)}},t.prototype.doDestroy=function(){if(this.parent){var t=this.parent.texts.indexOf(this);t>-1&&this.parent.texts.splice(t,1)}e.prototype.doDestroy.call(this)},t}(o.default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=h(n(1177)),r=n(8),i=h(n(45)),a=h(n(9)),s=h(n(27)),c=h(n(491)),u=h(n(307)),l=h(n(6)),f=(h(n(17)),h(n(283))),p=h(n(492)),d=h(n(1186));function h(e){return e&&e.__esModule?e:{default:e}}a.default.getLogger("UIXNodeParser");var g=function(){function e(t,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.localizer=t,this.pdfui=n,this.templateParser=o,this.context=new d.default({parser:this,templateParser:o,localizer:t,pdfui:n})}return e.prototype.cloneNode=function(e){return e instanceof c.default||e instanceof p.default?e.clone(!0):(e.asyncFragments.forEach((function(e){e.ignoreAsync=!0})),this.parseTemplateToNode(e.template,e.asyncFragments))},e.prototype.parse=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this.parseTemplateToNode(e,t);return this.parseNode(n)},e.prototype.parseTemplateToNode=function(e,t){var n=this.templateParser.parse(e);return this.parseFragments(t,n),n},e.prototype.parseFragments=function(e,t){var n=this;e.forEach((function(e){var i=o.default[e.action||r.FRAGMENT_ACTION.EXT];if(!i)throw new Error("Invalid action type: "+e.action);i.call(n,t,e)}))},e.prototype.parseNode=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments[2];if(e instanceof c.default)return this.parseTextNode(e,n);var r=void 0,a=e.getParserDirectiveInstance(n,this.localizer);if(a)return a.parseComponent(this,o);var u=new f.default(this,this.pdfui,this.localizer,this.context);u.appendOptions(e.componentOptions).appendInitData(o).appendVNode(e).appendParentComponent(n);var l=e.getComponentClass();if(l.isFake())l.handleParseError(e);else if(l.preprocess(u,this),e=u.vnode,r=u.build()){var p=r.directive;r.prelink(),p.componentPrelink();var d=e.children.filter((function(e){return e instanceof i.default})),h=r instanceof s.default;if(!r.isIgnorable()&&d.length>0&&!h){var g=d.some((function(e){return"text"!==e.nodeName&&"placeholder-text"!==e.nodeName}));if(g)throw new Error("<"+e.name+"> cannot contains any subcomponents, because it is not a container, but actual: "+e.template)}if(h&&!r.isIgnorable()){var m=r.acceptText()?e.children:d;m.forEach((function(e){var n=t.parseNode(e,r);n&&(e instanceof c.default?r.appendText(n):r.append(n))}))}else r.acceptText()&&e.children.forEach((function(e){var n=t.parseNode(e,r);r.appendText(n)}));return r.postlink(),p.componentPostlink(),r}},e.prototype.parseTextNode=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=new u.default({viewConfig:{textContent:e.text,attrs:{},vnode:e},context:this.context,callback:t?t.controller:null,proxyControllers:e.componentOptions.proxyControllers},l.default.root(),this.localizer);return n.render(),n.prelink(),n.postlink(),n},e}();t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){c.call(this,e,t,t.insertIndex||0)},t.insertAt=c;var o=a(n(45)),r=a(n(9)),i=n(140);function a(e){return e&&e.__esModule?e:{default:e}}var s=r.default.getLogger("parser.actions.insert");function c(e,t,n){if(!t.target)throw new Error("target name is missing!");Array.isArray(t.target)||(t.target=[t.target]);var r=t.config;r||(s.debug("config is required for fragment components",t),r=[]),Array.isArray(r)||(r=[r]);var a={};r.forEach((function(e,t){if(!e.target)throw new Error("target name is required for fragment components ("+t+")");if(a[e.target])throw new Error("Duplicated target name: "+e.target);a[e.target]=e}));var c=this.templateParser;t.target.forEach((function(r){var s=e.querySelectorAll(r);(0,i.assertSelectorResult)(t,s,r),s.forEach((function(e){if(!t.ignoreAsync){var r=e.asyncAncestor();if(r)return void r.appendFragment(Object.assign({},t,{target:e.name}))}var i=t.template?c.parse(t.template):null;if(!i)throw new Error('invalid fragment template: "'+t.template+'"');var s=function(e){var t=i.querySelectorAll(e),n=a[e];t.forEach((function(e){return e.appendComponentOptions(n)}))};for(var u in a)s(u);var l=e.children.filter((function(e){return e instanceof o.default})),f=l[n];!f||n>=l.length?e.append(i):f.before(i)}))}))}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(20)),r=i(n(1283));function i(e){return e&&e.__esModule?e:{default:e}}var a=o.default.ext(r.default,"CreateHighlightController",32);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(20)),r=i(n(1291));function i(e){return e&&e.__esModule?e:{default:e}}var a=o.default.ext(r.default,"CreateReplaceController",32);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(20)),r=i(n(514));function i(e){return e&&e.__esModule?e:{default:e}}var a=o.default.ext(r.default,"CreateLineController",32);t.default=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(13),i=(o=r)&&o.__esModule?o:{default:o};function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(5)).vendors.EventEmitter,c=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return o.pdfViewer=n,o.eventEmitter=new s,o.addDestroyHook((function(){o.eventEmitter.removeAllListeners()})),o.isLocked=!1,o.isStarted=!1,o}return a(t,e),t.prototype.init=function(){},t.prototype.start=function(){this.isStarted=!0},t.prototype.cancel=function(){this.isStarted=!1},t.prototype.emit=function(e,t){this.isLocked||this.eventEmitter.emit(e,t)},t.prototype.on=function(e,t){var n=this;return this.eventEmitter.on(e,t),function(){n.eventEmitter.off(e,t)}},t.prototype.lock=function(){this.isLocked=!0},t.prototype.unlock=function(){this.isLocked=!1},t}(i.default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(20)),r=i(n(1308));function i(e){return e&&e.__esModule?e:{default:e}}var a=o.default.ext(r.default,"CreateArrowController",32);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(20)),r=i(n(517));function i(e){return e&&e.__esModule?e:{default:e}}var a=o.default.ext(r.default,"CreateCircleController",32);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(20)),r=i(n(1311));function i(e){return e&&e.__esModule?e:{default:e}}var a=o.default.ext(r.default,"CreateSquareController",32);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(20)),r=i(n(519));function i(e){return e&&e.__esModule?e:{default:e}}var a=o.default.ext(r.default,"CreatePolylineController",32);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(5));n(314);var i=n(42),a=l(n(321)),s=l(n(520)),c=n(516),u=n(85);function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var p=r.stateHandler,d=r.Log,h=r.ViewerEvents,g=p.IStateHandler,m=d.LoggerFactory,v=r.shared,y=v.DebouncePromiseQueue,b=(v.getClientX,v.getClientY,v.keyboardStatus),w=v.ThrottleAsyncTaskExecutor,_=(r.DeviceInfo.isTouchDevice,m.getLogger("creation/complexshape/state"),function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.type=o,r.cursorStyle="fv__cursor-crosshair",r.executor=new w(20,!0),r}return f(t,e),t.prototype.createInteractionTool=function(e){return new a.default(this.pdfViewer,e,"create-complex-shape")},t.prototype.pageHandler=function(e){var t=this;this.pageRender=e,this.destroyPageHooks=[];var n=e.$handler;n.addClass(this.cursorStyle);var o=n.get(0);this.snappedPointAssistant=new c.SnappedPointAssistant(o),this.interaction=this.createInteractionTool(o),this.interaction.init();var r=new y,a=this.pdfViewer.getKeyboardEventBinder(i.ANNOTATION_CREATING_BINDER),s=function(){},l=function(){s=t.pdfViewer.switchKeyboardEventBinder(i.ANNOTATION_CREATING_BINDER)};function f(e,t,n){if(b.isShift){var o=e.getDeviceVertexes();if(o.length>=1){var r=o[o.length-1],i=t-r.x,a=n-r.y,s=Math.sqrt(i*i+a*a),c=Math.atan2(a,i),u=.25*Math.PI,l=Math.round(c/u)*u;return i=s*Math.cos(l),a=s*Math.sin(l),{deviceX:r.x+i,deviceY:r.y+a}}}return{deviceX:t,deviceY:n}}this.offCancelEvent=a.on(i.KEY_MAP_ESC_CREATING_DRAWING,(function(){s(),t.interaction.unlock(),t.interaction.cancel(),t.cancel()})),"polygon"==this.type||"polyline"==this.type||this.pdfViewer.eventEmitter.addListener(h.toolbarTabsClicked,(function(){t.out()})),this.interaction.on("start",(function(e){var n=e.clientX,r=e.clientY;t.pageRender.annotsRender.unActiveAnnot();var i=o.getBoundingClientRect(),a=n-i.left,c=r-i.top;s(),l(),t.getSnappedPoint(a,c).then((function(e){t.fakeAnnotation=t.create(e.deviceX,e.deviceY),t.interaction.startCreating()}))})),this.interaction.on("add-point",(function(e){var n=e.clientX,r=e.clientY,i=o.getBoundingClientRect(),a=n-i.left,s=r-i.top,c=f(t.fakeAnnotation,a,s);t.getSnappedPoint(c.deviceX,c.deviceY).then((function(e){t.addPoint(t.fakeAnnotation,e)}))})),this.interaction.on("move",(function(e){var n=e.clientX,r=e.clientY,i=o.getBoundingClientRect(),a=n-i.left,s=r-i.top;t.executor.exec((function(){var e=f(t.fakeAnnotation,a,s);return t.getSnappedPoint(e.deviceX,e.deviceY).then((function(n){(0,u.isSamePoint)({x:e.deviceX,y:e.deviceY},{x:n.deviceX,y:n.deviceY})?t.snappedPointAssistant.hide():(t.snappedPointAssistant.show(),t.snappedPointAssistant.setPosition(n.deviceX,n.deviceY)),t.adjust(t.fakeAnnotation,n)}))}))})),this.interaction.on("mousemove",(function(e){t.mousemove(e)})),this.interaction.on("end",(function(e){if(t.canBeCompleted(t.fakeAnnotation)){s();var n=o.getBoundingClientRect(),r=f(t.fakeAnnotation,e.clientX-n.left,e.clientY-n.top);t.executor.waitForLastTask().finally((function(){t.getSnappedPoint(r.deviceX,r.deviceY).then((function(e){-1==t.end(t.fakeAnnotation,e)&&(l(),t.interaction.startCreating())}))}))}else t.interaction.startCreating()})),this.interaction.on("cancel",(function(){s(),t.cancel()}));var p=function(e){t.fakeAnnotation&&(t.fakeAnnotation.zoomTo(e),t.fakeAnnotation.draw())};this.destroyPageHooks.push((function(){return r.end()}),this.pdfViewer.addEventListener(h.zoomToSuccess,(function(e){p(e)})),this.pdfViewer.addEventListener(h.changeViewModeSuccess,(function(e,n){p(t.pageRender.scale)})),this.pdfViewer.addEventListener(h.fitWidthResizeViewport,(function(){p(t.pageRender.scale)})))},t.prototype.getSnappedPoint=function(e,t){var n=this;return this.pageRender.getPDFPage().then((function(r){var i=n.pdfViewer.getSnapMode(n.constructor.getStateName());if(i&&i.length>0){var a=r.reverseDevicePoint([e,t],n.pageRender.scale,n.pageRender.rotate),s=o(a,2),c=s[0],u=s[1];return r.getSnappedPoint({x:c,y:u},i).then((function(e){var t=r.getDevicePoint([e.x,e.y],n.pageRender.scale,n.pageRender.rotate),i=o(t,2);return{deviceX:i[0],deviceY:i[1]}}))}return{deviceX:e,deviceY:t}}))},t.prototype.create=function(e,t){throw new Error("not implemented!")},t.prototype.addPoint=function(e,t){var n=t.deviceX,o=t.deviceY;e.addPoint(n,o),e.draw()},t.prototype.mousemove=function(e){var t=this;this.executor.exec((function(){return t.getSnappedPoint(e.x,e.y).then((function(n){var o=n.deviceX,r=n.deviceY,i={x:o,y:r};(0,u.isSamePoint)(e,i)?t.snappedPointAssistant.hide():(t.snappedPointAssistant.setPosition(o,r),t.snappedPointAssistant.show())}))}))},t.prototype.adjust=function(e,t){var n=t.deviceX,o=t.deviceY;e.setLastPoint(n,o),e.draw()},t.prototype.end=function(e,t){var n=this;this.creatingState=0,t&&e.addPoint(t.deviceX,t.deviceY),e.apply().then((function(e){if(n.pdfViewer.config.showCommentList){var t=e[e.length-2];n.pageRender.annotsRender.getAnnotRender(t.getId()).component.showReplyDialog()}})),this.fakeAnnotation=null},t.prototype.cancel=function(){this.fakeAnnotation&&(this.executor.cancel(),this.interaction.cancel(),this.fakeAnnotation.destroy(),this.fakeAnnotation=null)},t.prototype.canBeCompleted=function(){return!0},t.prototype.createAnnotJson=function(e,t){return e},t.prototype.destroyPageHandler=function(){this.snappedPointAssistant.destroy(),this.destroyPageHooks&&this.destroyPageHooks.forEach((function(e){return e()})),this.pageRender.$handler.removeClass(this.cursorStyle),this.fakeAnnotation&&(this.interaction.status!==s.default.IDLE&&this.pdfViewer.eventEmitter.emit(h.cancelAddAnnot),this.fakeAnnotation.destroy(),this.fakeAnnotation=null),this.interaction.destroy(),this.offCancelEvent&&this.offCancelEvent()},t.prototype.out=function(){this.destroyPageHandler()},t}(g));t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(109),r=c(n(315)),i=c(n(30)),a=c(n(520)),s=n(1314);function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return i.actionName=r,i.targetElement=o,i.status=a.default.IDLE,i.lastMoveData={},i}return u(t,e),t.prototype.startCreating=function(){this.status=a.default.CREATING},t.prototype.cancel=function(){this.status=a.default.IDLE},t.prototype._addEventListener=function(e,t,n,o){return e.addEventListener(t,n,o),function(){e.removeEventListener(t,n,o)}},t.prototype.init=function(){var e=this,t=new Hammer.Manager(this.targetElement);t.add(new Hammer.Tap({event:"doubletap",taps:2,time:200}));var n=!0,r=i.default,c=(0,s.attachMouseEvent)(this.targetElement,s.MouseEventType.DOWN,(function(t){var o=t.clientX,i=t.clientY;if(e.status===a.default.IDLE)e.status=a.default.CONSTRUCT,e.emit("start",{clientX:o,clientY:i,srcEvent:t.native});else if(e.status===a.default.CREATING){r(),n=!1;var s=setTimeout((function(){e.emit("add-point",{clientX:o,clientY:i,srcEvent:t.native}),n=!0}),300);r=function(){clearTimeout(s)}}})),u=(0,s.attachMouseEvent)(document,s.MouseEventType.MOVE,(function(t){if(!e.isLocked&&n){if(e.status===a.default.IDLE){var o=e.targetElement.getBoundingClientRect(),r=t.clientX-o.left,i=t.clientY-o.top;e.emit("mousemove",{x:r,y:i})}if(e.status===a.default.CREATING){var s=t.clientX,c=t.clientY;e.emit("move",e.lastMoveData={clientX:s,clientY:c,srcEvent:t.native})}}}));t.on("doubletap",(function(t){n=!0;var i=t.srcEvent;r(),e.lastMoveData={clientX:(0,o.getClientX)(i),clientY:(0,o.getClientY)(i),srcEvent:t},l()}));var l=function(){e.status===a.default.CREATING&&(e.status=a.default.IDLE,e.unlock(),e.emit("end",e.lastMoveData),e.lastMoveData=null)},f=this.pdfViewer.getStore().subscribe(this.actionName,(function(t){switch(t){case"complete":l();break;case"cancel":e.status===a.default.CREATING&&(e.status=a.default.IDLE,e.unlock(),e.emit("cancel"));break;case"continue":e.startCreating()}}));this.addDestroyHook((function(){t.destroy(),f(),c(),u()}))},t}(r.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(20)),r=i(n(521));function i(e){return e&&e.__esModule?e:{default:e}}var a=o.default.ext(r.default,"CreatePolygonController",32);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(20)),r=i(n(1316));function i(e){return e&&e.__esModule?e:{default:e}}var a=o.default.ext(r.default,"CreatePolygonCloudController",32);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(5));function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var i=o.stateHandler.IStateHandler,a=o.vendors,s=(a.Hammer,a.jQuery,function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n))}return r(t,e),t.textboxWidth=function(){return 100},t.textboxHeight=function(){return 20},t.calloutKneeLength=function(){return 20},t.getStateName=function(){return"createFreetext"},t.prototype.pageHandler=function(e){},t.edit=function(e,t){var n=e.annotsRender.getAnnotRender(t[0].id).component;n.active(!0),setTimeout((function(){n.showReplyDialog("comment")}),0)},t.prototype.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass("fv__create-stamp-state-handler")},t.prototype.out=function(){this.destroyPageHandler()},t}(i));t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(1323));function r(e){return e&&e.__esModule?e:{default:e}}var i=r(n(20)).default.ext(o.default,"CreateTypewriterController",32);t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(3)),r=a(n(1)),i=a(n(110));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.data.pageNumber=0,o}return s(t,e),t.getName=function(){return"TotalPageTextController"},t.prototype.postlink=function(){var e=this;this.addDestroyHook(this.getPDFUI().addViewerEventListener(r.default.openFileSuccess,(function(t){e.data.pageNumber=t.getPageCount(),e.digest()})),this.getPDFUI().addViewerEventListener(r.default.openFileFailed,(function(t){e.data.pageNumber=0,e.component.disable(),e.digest()})),this.getPDFUI().addViewerEventListener(r.default.pageAdded,(function(t){e.data.pageNumber++,e.digest()})),this.getPDFUI().addViewerEventListener(r.default.pageRemoved,(function(t){e.data.pageNumber--,e.digest()})),this.getPDFUI().addViewerEventListener(r.default.pagesRemoved,(function(t){var n=(0,i.default)(t);e.data.pageNumber-=n.length,e.digest()})),this.getPDFUI().addViewerEventListener(r.default.importPages,(function(t){e.data.pageNumber+=t.length,e.digest()})),this.getPDFUI().addViewerEventListener(r.default.willCloseDocument,(function(t){e.data.pageNumber=0,e.component.disable(),e.digest()})))},t}(o.default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=l(n(3)),r=l(n(1)),i=l(n(110)),a=n(18),s=n(47),c=n(55),u=l(n(48));function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var p=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.data.pageNumber=0,o.data.currentPageIndex=0,o.executor=new a.DebounceAsyncTaskExecutor,o.addDestroyHook((function(){o.executor.cancel()})),o}return f(t,e),t.getName=function(){return"GotoPageController"},t.services=function(){return{portfolioNodeService:u.default,portfolioLayoutService:s.PortfolioLayoutService,portfolioService:c.PortfolioService}},t.prototype.postlink=function(){var e=this;this.addDestroyHook(this.portfolioNodeService.onActiveNode((function(){e.toggle()})),this.portfolioLayoutService.onLayoutChange((function(){e.toggle()})),this.getPDFUI().addViewerEventListener(r.default.openFileSuccess,(function(t){e.data.pageNumber=t.getPageCount(),e.data.currentPageIndex=1,e.component.enable(),e.digest()})),this.getPDFUI().addViewerEventListener(r.default.openFileFailed,(function(t){e.data.pageNumber=0,e.data.currentPageIndex=0,e.component.lock()})),this.getPDFUI().addViewerEventListener(r.default.pageNumberChange,(function(t){e.data.pageNumber?(e.data.currentPageIndex=t,e.digest()):e.getPDFUI().getCurrentPDFDoc().then((function(n){e.data.pageNumber=n.getPageCount(),e.data.currentPageIndex=t,e.digest()}))})),this.getPDFUI().addViewerEventListener(r.default.pageAdded,(function(t){e.data.pageNumber++})),this.getPDFUI().addViewerEventListener(r.default.insertPages,(function(t){e.data.pageNumber+=t.length})),this.getPDFUI().addViewerEventListener(r.default.pageRemoved,(function(t){e.data.pageNumber--})),this.getPDFUI().addViewerEventListener(r.default.pagesRemoved,(function(t){var n=(0,i.default)(t);e.data.pageNumber-=n.length})),this.getPDFUI().addViewerEventListener(r.default.willCloseDocument,(function(t){e.data.pageNumber=0,e.data.currentPageIndex=0,e.component.lock(),e.digest()})))},t.prototype.onchange=function(e){var t=this;if("number"==typeof e)return!(e>this.data.pageNumber)&&void this.executor.exec((function(){return t.getPDFUI().getPDFDocRender().then((function(t){return t.goToPage(e-1,{x:0,y:0})}))}))},t.prototype.onkeydown=function(e){if(13==e.keyCode){if(0==this.data.pageNumber)return;var t=parseInt(this.component.element.value);isNaN(t)&&(t=this.component.getValue()),t>=this.data.pageNumber?t=this.data.pageNumber:t<0&&(t=1),this.component.element.value=t,this.onchange(t)}},t.prototype.toggle=function(){this.portfolioService.isDocumentClosed()?this.component.disable():this.data.currentPageIndex>0&&(this.portfolioLayoutService.getLayoutMode()===s.PortfolioLayoutMode.COVER||!this.portfolioNodeService.hasActiveNode())?this.component.enable():this.component.disable()},t}(o.default);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(156),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(5));function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=r.IViewMode,s=r.ViewerEvents,c=r.vendors,u=r.shared,l=c.jQuery,f=u.keyboardStatus,p=2,d=10,h=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.multipage=p,o.pageSpacing=d,o.isMouseDown=!1,o.isScroll=!1,o.isWheel=!1,o.isMoveToBottom=!1,o.isMoveToTop=!1,o.wheel=o.wheel.bind(o),o.mouseDown=o.mouseDown.bind(o),o.mouseUp=o.mouseUp.bind(o),o.adjust=o.adjust.bind(o),o.keyup=o.keyup.bind(o),o.isJump=!1,o}return i(t,e),t.getName=function(){return"facing-page-view-mode"},t.setMultipage=function(e){p=e},t.getMultipage=function(){return p},t.setPageSpacing=function(e){d=e},t.getPageSpacing=function(){return d},t.prototype.getItems=function(){return l(e.prototype.getItems.call(this))},t.prototype.into=function(t,n){var o=this;e.prototype.into.call(this,t,n);var r=["<style>",".facing-page-view-mode{","overflow:hidden;","margin:0 auto;","}",".facing-page-view-mode .fv__pdf-view-mode-item{","float: left;","display: -webkit-box;","display: -ms-flexbox;","display: -webkit-flex;","display: flex;","-ms-flex-pack: center;","-ms-flex-align: center;","-ms-justify-content: center;","-webkit-justify-content: center;","justify-content: center;","align-items: center;","width:calc("+100/this.multipage+"% - "+this.pageSpacing*(this.multipage-1)/this.multipage+"px)","}",".facing-page-view-mode .fv__pdf-view-mode-item{","margin-right: "+this.pageSpacing+"px;","}",".facing-page-view-mode .fv__pdf-page-layout{","width: 100%;","}",".facing-page-view-mode .fv__pdf-view-mode-item:nth-child("+this.multipage+"n){","margin-right: 0;","}",".facing-page-view-mode .fv__pdf-view-mode-item:nth-of-type(odd) .fv__pdf-page-layout{","margin-right: 0;","margin-left: 0px","}",".facing-page-view-mode .fv__pdf-view-mode-item:nth-of-type(even) .fv__pdf-page-layout{","margin-left: 0;","}","</style>"].join("");this.$style=l(r),this.docRender.$container.after(this.$style),this.docRender.$container.addClass(this.constructor.getName());var i=this.docRender.viewerRender.scrollWrap;this.scrollHost=i.getScrollHost(),this.currentScrollTop=i.getScrollTop(),this.initPageLayout(),this.bindScrollEvent(),this.wheelHandler=g(200,this.wheel),this.scrollHost.addEventListener("wheel",this.wheelHandler),this.scrollHost.addEventListener("mousedown",this.mouseDown),window.addEventListener("mouseup",this.mouseUp),window.addEventListener("keyup",this.keyup),this.docRender.pdfViewer.eventEmitter.on(s.zoomToSuccess,this.adjust),this.goToPage(this.docRender.getCurrentPageIndex()),(this.hammer=new Hammer.Manager(this.scrollHost,{recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}]]})).on("panend",(function(e){if("hand"===o.docRender.pdfViewer.getStateHandlerManager().getCurrentStates().getStateName())return e&&8===e.direction&&(o.isMoveToBottom=!0),e&&16===e.direction&&(o.isMoveToTop=!0),e&&1===e.direction&&(e.deltaY>0?o.isMoveToTop=!0:o.isMoveToBottom=!0),o.isNeedAdjust=!0,o.adjust(),!1}))},t.prototype.bindScrollEvent=function(){var e=this;this._unwatchScrollEvent&&this._unwatchScrollEvent();var t=this.docRender.viewerRender.scrollWrap,n=!1,o=g(150,(function(t){n||e.isMouseDown||e.isWheel||!e.isScroll||(e.scroll(t),e.isWheel=!1)})),r=t.addScrollEventListener((function(){f.isCtrlDown||(e.isScroll=!0,o(t.getScrollTop()-e.currentScrollTop),e.currentScrollTop=t.getScrollTop(),clearTimeout(e.scrollEventTimer),e.scrollEventTimer=setTimeout((function(){if(!n){e.isScroll=!1;var t=e.docRender;if(t){var o=e.docRender.pagesRender;o&&o.renderVisiblePages().then((function(){if(!n){e.getCurrentPageIndex();t.isGoto?setTimeout((function(){t.isGoto=!1}),40):t.setCurrentPageIndex(e.getCurrentPageIndex()),e.isNeedAdjust&&!e.isJump&&e.adjust(),e.isJump=!1}})).catch((function(){}))}}}),100))}));this._unwatchScrollEvent=function(){e._unwatchScrollEvent=function(){},n=!0,r()}},t.prototype.initPageLayout=function(){for(var e=this.getItems(),t=this.multipage,n=this.pageSpacing*(t-1)/t,o=0;o<e.length;o++)e.eq(o).css({width:"calc("+100/t+"% - "+n+"px)"})},t.prototype.keyup=function(e){var t=this;this.reset();var n=e.keyCode;n!==o.KeyCodes.PageDown&&n!==o.KeyCodes.DownArrow||(this.isMoveToBottom=!0),n!==o.KeyCodes.UpArrow&&n!==o.KeyCodes.PageUp||(this.isMoveToTop=!0),n===o.KeyCodes.PageUp||n===o.KeyCodes.PageDown?setTimeout((function(){t.isNeedAdjust=!0}),50):n!==o.KeyCodes.UpArrow&&n!==o.KeyCodes.DownArrow||(this.isNeedAdjust=!0)},t.prototype.wheel=function(e){if(!f.isCtrlDown&&this.docRender){this.isWheel=!0;var t=this.docRender.viewerRender.scrollWrap;this.currentPageIndex=this.getCurrentPageIndex();t.getHeight(),t.getScrollLeft(),this.getItems().eq(this.currentPageIndex).children(".fv__pdf-page-layout").height();if(this.getVisibleIndexes().length>2)if(e.deltaY>0){var n=this.docRender.doc.getPageCount(),o=this.currentPageIndex+2;this.goToPage(Math.min(o,n-1))}else{var r=this.currentPageIndex-2;r<=0&&(r=0),this.goToPage(r)}}},t.prototype.mouseDown=function(e){this.isMouseDown=!0,this.startPointY=e.screenY;var t=this.docRender.viewerRender.scrollWrap.getScrollHost(),n=l(t).offset(),o=n.top,r=n.left,i=r+t.clientWidth,a=o+t.clientHeight;this.dragging=!0;var s=e.clientX,c=e.clientY;this.scrollType=r<=s&&s<=i&&o<=c&&c<=a?0:i<s&&o<c?1:2},t.prototype.mouseUp=function(e){this.isMouseDown=!1,this.isNeedAdjust=!0},t.prototype.goToPage=function(e,t){this.reset();var n=this.getItems(),o=n.get(e),r=n.eq(e),i=o.offsetHeight,a=(o.offsetWidth,parseInt(r.css("margin-top"))),s=this.docRender.viewerRender.scrollWrap,c=s.getHeight(),u=s.getScrollOffsetLeft(),l=o.offsetTop;l=t?r.position().top+i-c+a+a/2:r.position().top+a/2,s.scrollTo(u,l)},t.prototype.adjust=function(){if(this.isScroll||2===this.scrollType)return!1;var e=this.getVisibleIndexes(),t=this.docRender.viewerRender.scrollWrap,n=t.getScrollTop(),o=(t.getScrollLeft(),this.scrollHost.clientHeight,this.getCurrentPageIndex());if(e.length>2)return this.isMoveToBottom&&(o=e[2]),this.isMoveToTop&&(o=e[0]),this.goToPage(o);this.reset()},t.prototype.reset=function(){this.isMoveToBottom=!1,this.isMoveToTop=!1,this.isNeedAdjust=!1},t.prototype.scroll=function(e){this.docRender.doc.getPageCount();var t=this.docRender.viewerRender.scrollWrap,n=t.getScrollTop(),o=(this.lastScrollTop,t.getScrollLeft(),this.scrollHost.clientHeight,this.currentPageIndex,this.getItems(),this.getVisibleIndexes());if(o.length>2){if(e>0){var r=o[2]||o[0];this.goToPage(r)}if(e<0){var i=o[0]||0;this.goToPage(i)}}},t.prototype.renderViewMode=function(e,t,n,o,r){var i=this;if(this.docRender){var a=e.index,s=this.getMaxPageWidth(),c=this.multipage,u=(c-1)*this.pageSpacing;this.docRender.pagesRender.$ui.css({width:s*c*t+u});for(var f=Math.floor(a/c),p=0,d=this.docRender.doc.getPageCount(),h=this.docRender.viewerRender.scrollWrap.getHeight(),g=[],m=this.docRender.getRotation(),v=0;v<c;v++){var y=f*c+v;y<d&&g.push(this.docRender.getPDFDoc().getPageByIndex(y).then((function(e){var t=void 0;t=90===m||270===m?e.getPxWidth():e.getPxHeight(),p=Math.max(t,p),t})))}Promise.all(g).then((function(){var e=i.getItems(),n=p*t;n<h?l(e[a]).css({height:"calc("+h+"px - 1rem)"}):l(e[a]).css({height:n})})).catch((function(e){0}))}},t.prototype.getMaxPageWidth=function(){var e=0,t=this.docRender.doc,n=this.docRender.getRotation(),o="width";90!==n&&270!==n||(o="height");var r=t.getPageSizesSync();for(var i in r){var a=4*r[i][o]/3;a>e&&(e=a)}return e},t.prototype.jumpToPage=function(e,t){var n=this,o=t.x,r=void 0===o?0:o,i=t.y,a=void 0===i?0:i;this.isJump=!0;var s=this.getItems();e>=s.length?e=s.length-1:e<0&&(e=0);var c=s.eq(e),u=c.position().left+r,l=this.docRender.viewerRender.scrollWrap.getHeight(),f=s.get(e).offsetHeight,p=f/2;a>p&&(a=p);var d=c.position().top+a,h=parseInt(c.css("margin-top"));f<l&&(d=c.position().top+h/2),this._unwatchScrollEvent&&this._unwatchScrollEvent(),this.docRender.viewerRender.scrollWrap.scrollTo(u,d),this.currentJumpPageIndex=e,this.docRender.setCurrentPageIndex(e),setTimeout((function(){n.bindScrollEvent()}))},t.prototype.getFitHeight=function(e){var t=this.docRender.viewerRender.scrollWrap;return t.getHeight()-t.getScrollOffsetTop()},t.prototype.getFitWidth=function(e){var t=this.getMaxPageWidth(),n=this.docRender.getRotation(),o="width";90!==n&&270!==n||(o="height");var r=this.docRender.viewerRender.scrollWrap,i=this.multipage,a=(r.getWidth()-16-i*this.pageSpacing)/i,s=this.docRender.doc.getPageSize(e);if(s)return a*s[o]*4/(3*t)},t.prototype.getVisibleIndexes=function(){for(var e=this.getItems(),t=this.docRender.viewerRender.scrollWrap,n=t.getScrollTop(),o=n+t.getHeight(),r=t.getScrollLeft(),i=r+t.getWidth(),a=function(e){var t=l(e).width(),a=l(e).height(),s=e.offsetTop,c=s+a,u=e.offsetLeft,f=u+t;if(u<=i&&f>=r&&c>=n&&s<=o){var p=Math.max(r,u),d=Math.min(i,f),h=Math.max(n,s);if((d-p)*(Math.min(o,c)-h)>5*Math.max(f-u,c-s))return!0}return!1},s=[],c=e.length,u=0;u<c;u+=2){if(a(e[u]))s.push(u),u<e.length-1&&s.push(u+1);else if(u<c-1){a(e[u+1])&&(s.push(u),s.push(u+1))}}return s},t.prototype.out=function(){this.docRender.$container.removeClass(this.constructor.getName()),this.docRender.pagesRender.$ui.removeAttr("style"),this.$style&&this.$style.remove(),this._unwatchScrollEvent&&this._unwatchScrollEvent();for(var t=this.getItems(),n=0;n<t.length;n++)l(t[n]).css({width:"",height:""});this.scrollHost&&this.scrollHost.removeEventListener("wheel",this.wheelHandler),this.scrollHost&&this.scrollHost.removeEventListener("mousedown",this.mouseDown),window.removeEventListener("mouseup",this.mouseUp),window.removeEventListener("keyup",this.keyup),this.docRender.pdfViewer.eventEmitter.off(s.zoomToSuccess,this.adjust),this.hammer.destroy(),e.prototype.out.call(this)},t.prototype.getCurrentPageIndex=function(){if(this.isJump)return this.currentJumpPageIndex;for(var e=this.getItems(),t=this.docRender.viewerRender.scrollWrap,n=t.getScrollTop(),o=n+t.getHeight(),r=t.getScrollLeft(),i=r+t.getWidth(),a=this.currentPageIndex,s=[],c=0;c<e.length;c++){var u=e[c],f=l(u).width(),p=l(u).height(),d=u.offsetTop,h=d+p,g=u.offsetLeft,m=g+f;if(g<=i&&m>=r&&h>=n&&d<=o){var v=Math.max(r,g),y=Math.min(i,m),b=Math.max(n,d),w=(y-v)*(Math.min(o,h)-b);s.push({index:c,areaSize:w})}}if(0===s.length)return a;var _=0;return s.forEach((function(e,t){e.areaSize>s[_].areaSize&&(_=t)})),s[_].index},t.prototype.getNextPageIndex=function(){var e=this.docRender.doc.getPageCount(),t=this.getCurrentPageIndex();if(t<e-1){var n=this.docRender.viewerRender.scrollWrap,o=this.docRender.pagesRender.$ui.width(),r=n.getWidth()-16,i=this.multipage;if(r>=o)t=Math.ceil((t+1)/i)*i;else t++}return t>e-1&&(t=e-1),t},t.prototype.getPrevPageIndex=function(){var e=this.getCurrentPageIndex();if(e>0){var t=this.docRender.viewerRender.scrollWrap,n=this.docRender.pagesRender.$ui.width(),o=t.getWidth()-16,r=this.multipage;if(o>=n)e=(Math.ceil((e+1)/r)-2)*r;else e--}return e<0&&(e=0),e},t}(a);t.default=h;var g=function(e,t){var n=void 0;return function(){var o=this,r=arguments;clearTimeout(n),n=setTimeout((function(){t.apply(o,r)}),e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});i(n(4));var o=i(n(3)),r=i(n(40));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=function(e){function t(){return a(this,t),s(this,e.apply(this,arguments))}return c(t,e),t.getName=function(){return"OpenRemoteFileController"},t.prototype.handle=function(){var e=this.getPDFUI();return e.prompt("","toolbar.buttons.openFromUrlPrompt","toolbar.buttons.openFromUrl",null,!0).then((function(t){if(t){if(1!==e.customs.getLoadingMode())return e.openPDFByHttpRangeRequest({range:{url:t.trim()}});var n=new XMLHttpRequest;n.open("get",t.trim()),n.responseType="arraybuffer",n.onloadend=function(t){return e.openPDFByFile(t.target.response)},n.send(null)}}),r.default)},t}(o.default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(3),i=(o=r)&&o.__esModule?o:{default:o},a=(n(331),n(34));function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(){return s(this,t),c(this,e.apply(this,arguments))}return u(t,e),t.getName=function(){return"OpenLocalFileController"},t.prototype.handle=function(e){var t=this.getPDFUI(),n=e.type,o=!this._isSR&&n.match("image");if(1!==t.customs.getLoadingMode()){if(o){var r=e.name.replace(/.[^/.]+$/,".pdf");return 0==r.length&&(r="untitle.pdf"),t.convertImageToPDFDoc(e,null,r).then((function(e){return t.renderDoc(e)}))}return t.openPDFByFile(e)}var i=new FileReader;i.onload=function(e){if(o){var n=e.target.result.name.replace(/.[^/.]+$/,".pdf");return 0==n.length&&(n="untitle.pdf"),t.convertImageToPDFDoc(e.target.result,null,n).then((function(e){return t.renderDoc(e)}))}return t.openPDFByFile(e.target.result)},i.readAsArrayBuffer(e)},t.prototype.mounted=function(){var e=this;this._isSR=!1,this.pdfUI.getPDFViewer().then((function(t){var n=t.config.engineMode;if("SR"===n||"MIX"===n&&t.mixPdfJREngine){e._isSR=!0;for(var o=e.component.element,r=(o=o.getElementsByTagName("input"))[0].attributes.length,i=0;i<r;i++)"accept"==o[0].attributes[i].name&&(o[0].attributes[i].value=a.isMiuiBrowser?"application/pdf":".pdf")}t.mixPdfJREngine&&t.mixPdfJREngine.then((function(){e._isSR=!1}))}))},t}(i.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DIALOG_FRAGMENTS=void 0,t.alert=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"common-dialogs.alert-message",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"common-dialogs.alert-title",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"body",a=arguments[4],s=(0,r.default)();return e.dialogPromise=e.dialogPromise.finally((function(){return e.uiRootPromise.then((function(e){var r=e.querySelector(c+">@alert");return"string"==typeof i&&(i=document.querySelector(i)),r.setTitle(n),r.setMessage(t),r.setIconType(a),r.show(i),r.on(o.COMPONENT_EVENTS.HIDDEN,s.resolve),s.promise}))})),s.promise},t.prompt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"common-dialogs.prompt-message",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"common-dialogs.prompt-title",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"body",s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=arguments[6],l=(0,r.default)();return e.dialogPromise=e.dialogPromise.finally((function(){return e.uiRootPromise.then((function(e){var r=e.querySelector(c+">fv--internal-common-dialog-prompt");return"string"==typeof a&&(a=document.querySelector(a)),r.setValue(t),r.setTitle(o),r.setIconType(u),r.setMessage(n),r.disableOk(s),r.show(a),r.on("confirm",(function(){l.resolve(r.getValue())})),r.on("cancel",l.reject),l.promise})).catch(i.default)})),l.promise},t.promptPassword=function(e){var t=e.pdfui,n=e.defaultValue,o=e.message,a=e.title,s=e.appendTo,u=e.notifyType,l=e.notifyContent;o=o||"common-dialogs.prompt-message",a=a||"common-dialogs.prompt-title",s=s||"body",u=u||"",l=l||"";var f=(0,r.default)();return t.dialogPromise=t.dialogPromise.finally((function(){return t.uiRootPromise.then((function(e){var t=e.querySelector(c+">fv--internal-common-dialog-prompt-password");return"string"==typeof s&&(s=document.querySelector(s)),t.setNotifyType(u),t.setNotifyContent(l),t.setValue(n),t.setTitle(a),t.setMessage(o),t.show(s),t.on("confirm",(function(){f.resolve(t.getValue())})),t.on("cancel",f.reject),f.promise})).catch(i.default)})),f.promise},t.confirm=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"common-dialogs.confirm-message",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"common-dialogs.confirm-title",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"body",a=arguments[4],s=(0,r.default)();return e.dialogPromise=e.dialogPromise.finally((function(){return e.uiRootPromise.then((function(e){var r=e.querySelector(c+">@confirm");return"string"==typeof o&&(o=document.querySelector(o)),r.setTitle(n),r.setMessage(t),r.setIconType(a),r.show(o),r.on("confirm",s.resolve),r.on("cancel",s.reject),s.promise})).catch(i.default)})),s.promise},t.loading=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=e.parseTemplate('<loading text="'+n+'" animation="'+o+'">',[]);r.mounted(),t instanceof a.default&&(t=t.element);return r.open(t),r};var o=n(8),r=s(n(21)),i=s(n(30)),a=s(n(17));function s(e){return e&&e.__esModule?e:{default:e}}var c="fv--inner-dialogs-template";t.DIALOG_FRAGMENTS=[{target:"!root",action:o.FRAGMENT_ACTION.APPEND,template:'<template name="'+c+'"></template>'},{target:c,action:o.FRAGMENT_ACTION.APPEND,template:"<alert>"},{target:c,action:o.FRAGMENT_ACTION.APPEND,template:'<prompt name="fv--internal-common-dialog-prompt">'},{target:c,action:o.FRAGMENT_ACTION.APPEND,template:'<prompt-password name="fv--internal-common-dialog-prompt-password">'},{target:c,action:o.FRAGMENT_ACTION.APPEND,template:"<confirm>"}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=f(n(514)),r=n(7),i=f(n(1)),a=n(141),s=n(14),c=f(n(1342)),u=n(481),l=n(85);function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var d=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r.LineEndingStyle.OpenArrow,r.LineEndingStyle.OpenArrow));return o.isEnd=!0,o.executor=new u.ThrottleAsyncTaskExecutor(20,!0),o}return p(t,e),t.getStateName=function(){return"createDistance"},t.prototype.createInteractionTool=function(t,n){return s.isTouchDevice?e.prototype.createInteractionTool.call(this,t,n):new c.default(this.pdfViewer,t)},t.prototype.createAnnotJson=function(e){var t=this.pdfViewer.store.getCurrentValue("measurementInfo");return e.intent=r.Intents.LINE_DIMENSION,e.enableCaption=!0,e.measure={unit:t[a.FIELD_REAL_UNIT].name,ratio:{userSpaceValue:t[a.FIELD_USER_SPACE_SCALE],userSpaceUnit:t[a.FIELD_USER_SPACE_UNIT].name,realValue:t[a.FIELD_REAL_SCALE],realUnit:t[a.FIELD_REAL_UNIT].name}},e},t.prototype.pageHandler=function(t){var n=this;e.prototype.pageHandler.call(this,t);var o=void 0,i=this.pdfViewer.viewerUI.createContextMenu(r.CREATING_MEASUREMENT_CONTEXTMENU,t.$handler.get(0),{selector:".fv__pdf-page-handler-container",items:{complete:{name:this.pdfViewer.i18n.t("viewer_:contextmenu.measurement.complete"),callback:function(){n.interaction.unlock(),n.interaction.emit("end",o)}},cancel:{name:this.pdfViewer.i18n.t("viewer_:contextmenu.measurement.cancel"),callback:function(){n.interaction.unlock(),n.interaction.emit("cancel")}}}});this.completeMenuItem=i.contextMenuComponent.getComponentByName("fv--contextmenu-item-complete-measurement"),i.disable(),this.creatingContextmenu=i,this.interaction.on("start",(function(){n.isEnd=!1,i.enable()})),this.interaction.on("end",(function(){n.isEnd=!0,i.disable()})),this.interaction.on("cancel",(function(){i.disable()})),this.interaction.on("move",(function(e){o=e})),i.onHidden((function(){n.interaction.unlock()})),i.onShown((function(){n.interaction.lock(),n.completeMenuItem.disabled&&n.completeMenuItem.enable()}))},t.prototype.start=function(t,n){var o=e.prototype.start.call(this,t,n);return this.pdfViewer.eventEmitter.emit(i.default.distanceAnnotCreationStart,o),o},t.prototype.adjust=function(e,t){var n=this;this.executor.exec((function(){return n.getSnappedPoint(t).then((function(o){(0,l.isSamePoint)(t,o)?n.snappedPointAssistant.hide():(n.snappedPointAssistant.setPosition(o.x,o.y),n.snappedPointAssistant.show()),n.pdfViewer.eventEmitter.emit(i.default.updateDistanceAnnot,e);var r=n.pdfViewer.getStore().getCurrentValue("measurementData");e.setContent(Math.round(100*r.distance)/100+r.displayUnit.name),e.setEndPoint(o),e.draw()}))}))},t.prototype.end=function(){var t=this;this.fakeAnnotation&&this.executor.exec((function(){return t.pdfViewer.eventEmitter.emit(i.default.distanceAnnotCreationEnd,t.fakeAnnotation),e.prototype.end.call(t),Promise.resolve()}))},t.prototype.cancel=function(){this.fakeAnnotation&&(this.executor.cancel(),this.pdfViewer.eventEmitter.emit(i.default.distanceAnnotCreationCancel,this.fakeAnnotation),e.prototype.cancel.call(this),this.creatingContextmenu&&this.creatingContextmenu.disable())},t.prototype.destroyPageHandler=function(){this.isEnd||this.cancel(),e.prototype.destroyPageHandler.call(this)},t}(o.default);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=u(n(521)),i=n(7),a=u(n(1)),s=n(141),c=(n(14),u(n(545)));u(n(334));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var f=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.isEnd=!0,o}return l(t,e),t.getStateName=function(){return"createArea"},t.prototype.createInteractionTool=function(e){return new c.default(this.pdfViewer,e)},t.prototype.createAnnotJson=function(e){var t=this.pdfViewer.store.getCurrentValue("measurementInfo");return e.intent=i.Intents.POLYGON_DIMENSION,e.measure={unit:t[s.FIELD_REAL_UNIT].name,ratio:{userSpaceValue:t[s.FIELD_USER_SPACE_SCALE],userSpaceUnit:t[s.FIELD_USER_SPACE_UNIT].name,realValue:t[s.FIELD_REAL_SCALE],realUnit:t[s.FIELD_REAL_UNIT].name}},e},t.prototype.pageHandler=function(t){var n=this;e.prototype.pageHandler.call(this,t);var o=void 0;this.contextmenu=this.pdfViewer.viewerUI.createContextMenu(i.CREATING_MEASUREMENT_CONTEXTMENU,t.$handler.get(0),{selector:".fv__pdf-page-handler-container",items:{complete:{name:this.pdfViewer.i18n.t("viewer_:contextmenu.measurement.complete"),callback:function(){n.interaction.unlock(),n.interaction.emit("end",o)}},cancel:{name:this.pdfViewer.i18n.t("viewer_:contextmenu.measurement.cancel"),callback:function(){n.interaction.unlock(),n.interaction.emit("cancel")}}}}),this.contextmenu.disable(),this.completeMenuItem=this.contextmenu.contextMenuComponent.getComponentByName("fv--contextmenu-item-complete-measurement"),this.completeMenuItem.disable(),this.creatingContextmenu=this.contextmenu,this.interaction.on("start",(function(){n.isEnd=!1,n.contextmenu.enable(),n.completeMenuItem.disable()})),this.interaction.on("end",(function(){})),this.interaction.on("cancel",(function(){n.contextmenu.disable()})),this.interaction.on("move",(function(e){o=e})),this.contextmenu.onHidden((function(){n.interaction.unlock()})),this.contextmenu.onShown((function(){n.interaction.lock(),n.fakeAnnotation.getVertexes().length>=2?n.completeMenuItem.enable():n.completeMenuItem.disable()}))},t.prototype.start=function(t,n){var o=e.prototype.start.call(this,t,n);return this.pdfViewer.eventEmitter.emit(a.default.distanceAnnotCreationStart,o),o},t.prototype.isPointClosely=function(e,t,n){return Math.abs(e.x-t.x)<n&&Math.abs(e.y-t.y)<n},t.prototype.pointDistance=function(e,t){var n=t.x-e.x,o=t.y-e.y,r=Math.abs(n),i=Math.abs(o);return Math.sqrt(r*r+i*i)},t.prototype.isPointOnLine=function(e,t,n){if(this.isPointClosely(e,t,Number.EPSILON)||this.isPointClosely(e,n,Number.EPSILON))return!0;var o=this.pointDistance(e,t),r=this.pointDistance(e,n),a=this.pointDistance(t,n);return Math.abs(o+r-a)<i.POINT_TOLERANCE},t.prototype.checkLineCrossed=function(e,t,n,o){var r=void 0,a=void 0;if(r=Math.abs(t.x-e.x)<1e-4?Number.POSITIVE_INFINITY:(t.y-e.y)/(t.x-e.x),a=Math.abs(o.x-n.x)<1e-4?Number.POSITIVE_INFINITY:(o.y-n.y)/(o.x-n.x),Number.isFinite(r)&&Number.isFinite(a)&&Math.abs(r-a)<.01||!Number.isFinite(r)&&!Number.isFinite(a))return!(!this.isPointOnLine(e,n,o)&&!this.isPointOnLine(t,n,o));var s=e.x>t.x?t.x:e.x,c=e.x>t.x?e.x:t.x,u=n.x>o.x?o.x:n.x,l=n.x>o.x?n.x:o.x,f=void 0,p=void 0;if(Number.isFinite(r)){if(Number.isFinite(a))return!((f=(r*e.x-e.y-a*n.x+n.y)/(r-a))<s-i.POINT_TOLERANCE||f>c+i.POINT_TOLERANCE)&&(!(f<u-i.POINT_TOLERANCE||f>l+i.POINT_TOLERANCE)&&(p=r*(f-e.x)+e.y,!0));p=r*((f=u)-e.x)+e.y;var d=n.y<o.y?n.y:o.y,h=n.y<o.y?o.y:n.y;return d-i.POINT_TOLERANCE<=p&&p<=h+i.POINT_TOLERANCE&&s-i.POINT_TOLERANCE<=f&&f<=c+i.POINT_TOLERANCE}p=a*((f=s)-n.x)+n.y;var g=e.y<t.y?e.y:t.y,m=e.y<t.y?t.y:e.y;return g-i.POINT_TOLERANCE<=p&&p<=m+i.POINT_TOLERANCE&&u-i.POINT_TOLERANCE<=f&&f<=l+i.POINT_TOLERANCE},t.prototype.checkIfPointAllowAdded=function(e,t){if(e.length>=2&&this.isPointOnLine(t,e[e.length-1],e[e.length-2]))return!1;if(e.length>=3)for(var n=e[e.length-1],o=t,r=e[e.length-2],a=e.length-3;a>=0;a--){var s=e[a];if(this.checkLineCrossed(r,s,n,o))return!(0!=a||!this.isPointClosely(t,e[0],i.DISTANCE_TOLERANCE));r=s}return!0},t.prototype.addPoint=function(e,t){var n=t.deviceX,r=t.deviceY,a=e.page.reverseDevicePoint([n,r],e.scale,e.rotate),s=o(a,2),c=s[0],u=s[1];if(this.checkIfPointAllowAdded(e.getVertexes(),{x:c,y:u})){var l=e.getVertexes();if(l.length>2&&this.isPointClosely(l[0],{x:c,y:u},i.DISTANCE_TOLERANCE)){var f=l[l.length-1],p=e.page.getDevicePoint([f.x,f.y],e.scale,e.rotate),d=o(p,2),h=d[0],g=d[1],m=e.pageRender.$handler[0].getBoundingClientRect();return this.interaction.lastMoveData={clientX:h+m.left,clientY:g+m.top},void this.pdfViewer.getStore().dispatch("create-measurement-status","complete")}e.addPoint(n,r),e.draw()}},t.prototype.adjust=function(e,t){var n=e.page.reverseDevicePoint([t.deviceX,t.deviceY],e.scale,e.rotate),r=o(n,2),i=r[0],s=r[1];if(this.checkIfPointAllowAdded(e.getVertexes(),{x:i,y:s})){this.pdfViewer.eventEmitter.emit(a.default.updateDistanceAnnot,e);var c=this.pdfViewer.getStore().getCurrentValue("measurementData");e.setContent(Math.round(100*c.area)/100+" sq "+c.displayUnit.name),e.setLastPoint(t.deviceX,t.deviceY),e.draw()}},t.prototype.end=function(t,n){if(this.fakeAnnotation){var r,s=t.getVertexes(),c=(r=s,Array.isArray(r)?r:Array.from(r)).slice(0);if(0!=c.length){if(null!=n){var u=t.page.reverseDevicePoint([n.deviceX,n.deviceY],t.scale,t.rotate),l=o(u,2),f=l[0],p=l[1];this.isPointClosely(c[c.length-1],{x:f,y:p},i.DISTANCE_TOLERANCE)?n=null:c.push({x:f,y:p})}if(!this.checkIfPointAllowAdded(c,c[0]))return-1;this.isEnd=!0,this.contextmenu.disable(),this.pdfViewer.eventEmitter.emit(a.default.distanceAnnotCreationEnd,this.fakeAnnotation);var d=this.pdfViewer.getStore().getCurrentValue("measurementData");d&&t.setContent(Math.round(100*d.area)/100+" sq "+d.displayUnit.name),e.prototype.end.call(this,t,n)}}},t.prototype.cancel=function(){this.fakeAnnotation&&(this.pdfViewer.eventEmitter.emit(a.default.distanceAnnotCreationCancel,this.fakeAnnotation),e.prototype.cancel.call(this),this.creatingContextmenu&&this.creatingContextmenu.disable())},t.prototype.destroyPageHandler=function(){this.isEnd||this.cancel(),e.prototype.destroyPageHandler.call(this)},t}(r.default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(63),r=n(141);var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.convertPoint2RealUnit=function(e,t){if(!t)return e;var n=t[r.FIELD_USER_SPACE_SCALE],i=t[r.FIELD_USER_SPACE_UNIT],a=t[r.FIELD_REAL_SCALE];return o.POINT.convertTo(e,i)*(a/n)},e.caculateDistance=function(t,n,o){var r=n.x-t.x,i=n.y-t.y,a=Math.abs(r),s=Math.abs(i),c=Math.sqrt(a*a+s*s);return e.convertPoint2RealUnit(c,o)},e.caculateAngle=function(t,n,o,r){var i=e.caculateDistance(t,n,r),a=e.caculateDistance(n,o,r),s=e.caculateDistance(t,o,r),c=(Math.pow(i,2)+Math.pow(a,2)-Math.pow(s,2))/(2*i*a);return Number.isNaN(c)||Number.isNaN(Math.acos(c))?0:Math.round(Math.abs(Math.acos(c))/Math.PI*180*100)/100},e.caculateTriangleArea=function(e,t,n,i){var a=i[r.FIELD_USER_SPACE_SCALE],s=i[r.FIELD_USER_SPACE_UNIT],c=i[r.FIELD_REAL_SCALE],u=e.x*t.y+t.x*n.y+n.x*e.y-(e.x*n.y+t.x*e.y+n.x*t.y);return u/=2,o.POINT.convertAreaTo(u,s)*Math.pow(c/a,2)},e.caculatePolygonArea=function(t,n){for(var o={x:0,y:0},r=0,i=1;i<=t.length;++i)i<t.length?r+=e.caculateTriangleArea(o,t[i-1],t[i],n):r+=e.caculateTriangleArea(o,t[i-1],t[0],n);return Math.abs(r)},e.caculateCircleArea=function(e,t){var n=(e.right-e.left)*(e.top-e.bottom)*Math.PI,i=t[r.FIELD_USER_SPACE_SCALE],a=t[r.FIELD_USER_SPACE_UNIT],s=t[r.FIELD_REAL_SCALE];return o.POINT.convertAreaTo(n/4,a)*Math.pow(s/i,2)},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),r=a(n(1)),i=n(141);n(14),a(n(545)),a(n(334));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.isEnd=!0,o}return s(t,e),t.getStateName=function(){return"createCircleArea"},t.prototype.start=function(t){e.prototype.start.call(this,t),this.createAnnotJson(this.currentFakeAnnot.annotationInfo),this.pdfViewer.eventEmitter.emit(r.default.distanceAnnotCreationStart,this.currentFakeAnnot)},t.prototype.adjust=function(t,n,o){e.prototype.adjust.call(this,t,n,o),this.pdfViewer.eventEmitter.emit(r.default.updateDistanceAnnot,t);var i=this.pdfViewer.getStore().getCurrentValue("measurementData");this.currentFakeAnnot.setContent(i.area.toFixed(2)+" sq "+i.displayUnit.name)},t.prototype.end=function(t,n,o){this.pdfViewer.eventEmitter.emit(r.default.distanceAnnotCreationEnd,t),e.prototype.end.call(this,t,n,o)},t.prototype.createAnnotJson=function(e){var t=this.pdfViewer.store.getCurrentValue("measurementInfo");return e.intent=o.Intents.CIRCLE_DIMENSION,e.measure={unit:t[i.FIELD_REAL_UNIT].name,ratio:{userSpaceValue:t[i.FIELD_USER_SPACE_SCALE],userSpaceUnit:t[i.FIELD_USER_SPACE_UNIT].name,realValue:t[i.FIELD_REAL_SCALE],realUnit:t[i.FIELD_REAL_UNIT].name}},e},t}(a(n(517)).default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=u(n(10)),i=u(n(102)),a=u(n(3)),s=u(n(58)),c=u(n(65));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var f=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.stateName="add-image-object",o}return l(t,e),t.getName=function(){return"AddImageController"},o(t,null,[{key:"permission",get:function(){return 8}}]),t.prototype.postlink=function(){var e=this,t=this.getPDFUI();this.registerPromise=t.getStateHandlerManager().then((function(e){return e})),this.addDestroyHook(t.addViewerEventListener(r.default.switchStateHandler,(function(t,n){e.getPDFUI().getStateHandlerManager().then((function(o){t===o.get(e.stateName)?e.component.active():n===o.get(e.stateName)&&e.component.deactive()}))})))},t.prototype.handle=function(e){var t=this,n=this.getPDFUI(),o=this;return n.getStateHandlerManager().then((function(a){a.getCurrentStates()===a.get(t.stateName)?a.switchTo(i.default.getStateName()):n.getPDFViewer().then((function(t){a.switchTo(o.stateName);var n=t.resourceGenerator(s.default.PDF_DOCUMENT_CLOSING,c.default.OBJECT_URL).expose().URL.createObjectURL(e);t.eventEmitter.emit(r.default.addEditImage,n)}))}))},t}(a.default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(1355)),r=s(n(20)),i=n(18),a=s(n(10));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o.default))}return c(t,e),t.getName=function(){return"LoupeController"},t.prototype.mounted=function(){var e=this;this.layer=this.getComponentByName("loupe-tool-dialog");this.getComponentByName("");var t=this.header=this.layer.element.querySelector(".fv__ui-loupe-tool-header"),n=this.footer=this.layer.element.querySelector(".loupe-tool-bottom-bar"),o=this.body=this.layer.element.querySelector(".fv__ui-loupe-body"),r=new i.DebouncePromiseQueue,s=void 0,c=function(t){e.currentRenderer=t,o.firstElementChild!==t.element&&(o.firstElementChild?o.replaceChild(t.element,o.firstElementChild):o.appendChild(t.element))};this.addDestroyHook(this.getPDFUI().addViewerEventListener(a.default.createPageAreaRenderer,(function(i){if(i.setDimension(255,400),o.firstElementChild?o.replaceChild(i.element,o.firstElementChild):o.appendChild(i.element),s=e.layer.on("resize",(function(e,o){var a=t.offsetHeight+n.offsetHeight;i.setDimension(e,o-a),r.push((function(e){return i.update()}))})),!e.layer.isVisible){var a=e.layer.getRoot();e.layer.open(a.element);var c=e.header.offsetHeight+e.footer.offsetHeight;e.layer.element.style.cssText="width: 255px;height: "+(400+c)+"px;"}})),this.getPDFUI().addViewerEventListener(a.default.startUpdatePageAreaRenderer,(function(t){if(!e.layer.isVisible){var n=e.layer.getRoot();e.layer.open(n.element);var o=e.header.offsetHeight+e.footer.offsetHeight;e.layer.element.style.cssText="width: 255px;height: "+(400+o)+"px;"}c(t)})),this.getPDFUI().addViewerEventListener(a.default.switchPageAreaRenderer,(function(t){e.layer.isVisible&&c(t)})),this.getPDFUI().addViewerEventListener(a.default.destroyPageAreaRenderer,(function(e){s&&s()})))},t.prototype.stateIn=function(){},t.prototype.stateOut=function(){this.layer.hide()},t}(r.default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),r=u(n(1370)),i=u(n(4));n(1371);var a=u(n(102)),s=u(n(1)),c=(n(109),n(14));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var f=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.dataURL=null,o.cursorStyle="fv__cursor-none",o}return l(t,e),t.getStateName=function(){return"pdfSign"},t.prototype.pageHandler=function(e){var t=this,n=this;this.pageRender=e;var o=e.$handler,u=o[0],l=this.hammer=new Hammer.Manager(u,{recognizers:[[Hammer.Tap],[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}]]}),f=(e.getScale(),new Image);f.onload=function(){var t=f.width,n=f.height,o=e.getShowWidth(),r=e.getShowHeight();if(t>o){var i=o/t;t*=i,n*=i}if(n>r){var a=r/n;t*=a,n*=a}p.css({border:"2px solid transparent",position:"absolute",top:"-"+(n+2)+"px",left:"-"+(t+2)+"px",width:t,height:n}),p.show()};var p=(0,i.default)(f);function d(e,t){var n=f.height,o=f.width,r=u.getBoundingClientRect(),i=e-r.left,a=t-r.top,s=t+n,l=e+o,p=4;return c.isMobile&&(s-=n/2,l-=o/2,p=0),s>r.bottom-p&&(a=r.height-n-p,c.isMobile&&(a+=n/2)),l>r.right-p&&(i=r.width-o-p,c.isMobile&&(i+=o/2)),{x:i,y:a}}o.append(p.hide()),this.pdfViewer.eventEmitter.on(s.default.InkImageSelected,(function(e){t.dataURL=e,f.src=t.dataURL||t.pdfViewer.getInkSignManager().getCurrentInkSign().getDataURL()})),o.addClass(this.cursorStyle),o.on("mousemove",(function(e){var t=d(e.clientX,e.clientY),n=t.x,o=t.y;p.css({top:o,left:n})})),o.on("mouseleave",(function(e){p.css({top:-Number(p.css("height").replace("px","")),left:-Number(p.css("width").replace("px",""))})})),n.pdfViewer.eventEmitter.on("add-inksign",(function(t){if(t.pageRender!==e){var r=o.find(".fv__signature-tool-container");r&&r.remove(),p.show(),n.hammer.set({enable:!0})}})),e.getPDFPage().then((function(i){var f=e.getScale();l.on("tap",(function(l){p.hide(),o.removeClass(t.cursorStyle);var h=d(l.center.x,l.center.y),g=(0,r.default)();o.append(g),n.pdfViewer.eventEmitter.emit("add-inksign",n);var m=o.find("#signatureInPage")[0],v=m.getContext("2d"),y=new Image,b=Number(p.css("width").replace("px","")),w=Number(p.css("height").replace("px",""));y.onload=function(){m.width=b,m.height=w,v.drawImage(y,0,0,m.width,m.height)},y.src=n.dataURL||n.pdfViewer.getInkSignManager().getCurrentInkSign().getDataURL();var _=o.find(".fv__signature-tool-container"),P=(_[0],o.find(".fv__signature-tool-btns")),O=0,E=0;function x(){var e=parseFloat(_.css("top")),t=P.outerHeight();e>t?P.css({top:-t,bottom:"unset"}):P.css({top:"unset",bottom:-t})}c.isMobile&&(O=b/2,E=w/2),_.css({top:h.y-E,left:h.x-O}),x();var C=n.moveHammer=new Hammer.Manager(m,{recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}]]}),A=null;C.on("panstart",(function(e){A=e.center})),C.on("panmove",(function(e){var t=e.center.x-A.x,n=e.center.y-A.y,r=_.css("top"),i=_.css("left"),a=parseFloat(r)+n,s=parseFloat(i)+t,c=a+_.height(),u=s+_.width();a<0&&(a=0),s<0&&(s=0),u>o.width()&&(s=o.width()-_.width()),c>o.height()&&(a=o.height()-_.height()),_.css({top:a,left:s}),x(),A=e.center})),C.on("panend",(function(e){A=null}));var S=o.find(".fv__signature-tool-size")[0],D=n.resizeHammer=new Hammer.Manager(S,{recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}]]});function T(){var t=e.getScale(),n=parseFloat(_.css("top")),o=parseFloat(_.css("left"));_.css({top:n*(t/f),left:o*(t/f)});var r=m.width,i=m.height;m.width=r*(t/f),m.height=i*(t/f),v.drawImage(y,0,0,m.width,m.height),f=t}n.pdfViewer.eventEmitter.on(s.default.zoomToSuccess,(function(){T()})),n.pdfViewer.eventEmitter.on(s.default.fitWidthResizeViewport,(function(){T()}));var I=void 0,R=void 0;D.on("panstart",(function(e){I=m.width,R=m.height})),D.on("panmove",(function(e){var t=e.deltaX,n=e.deltaY,o=I+t,r=R+n,i=m.getBoundingClientRect(),a=u.getBoundingClientRect();i.left+o>=a.right&&(o=a.right-i.left),i.top+r>=a.bottom&&(r=a.bottom-i.top),m.width=o,m.height=r,v.drawImage(y,0,0,m.width,m.height)})),D.on("panend",(function(e){})),n.hammer.set({enable:!1}),o.find(".fv__icon-screenshot-ok").on("click",(function(t){var o=e.getRotation(),r={},s=void 0,c=void 0;90===o||270===o?(c=_.width(),s=_.height()):(s=_.width(),c=_.height()),r.top=parseFloat(_.css("top")),r.left=parseFloat(_.css("left")),r.right=r.left+s,r.bottom=r.top+c;var u=function(e){var t=window.atob(e),n=t.length,o=new Uint8Array(n);for(;n--;)o[n]=t.charCodeAt(n);return o}(y.src.replace(/^data\:.*?base64,/,"")),l=i.reverseDeviceRect(r,e.getScale(),o);i.addImage(u,l,o).then((function(){n.pdfViewer.getStateHandlerManager().switchTo(a.default.getStateName())}))})),o.find(".fv__icon-screenshot-cancel").on("click",(function(e){n.pdfViewer.getStateHandlerManager().switchTo(a.default.getStateName())}))}))}))},t.prototype.destroyPageHandler=function(){this.dataURL=null,this.moveHammer&&this.moveHammer.destroy(),this.resizeHammer&&this.resizeHammer.destroy(),this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle),this.pageRender.$handler.empty()},t.prototype.out=function(){this.destroyPageHandler()},t}(o.IStateHandler);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=c(n(20)),r=c(n(1389)),i=c(n(1)),a=n(8),s=c(n(4));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r.default))}return u(t,e),t.getName=function(){return"MarqueeToolController"},t.prototype.destroy=function(){e.prototype.destroy.call(this);var t=this.getPDFUI();t.removeViewerEventListener(i.default.marqueeZoomOut,t.zoomOutHandler),t.removeViewerEventListener(i.default.marqueeZoomIn,t.zoomInHandler),t.zoomOutHandler=null,t.zoomInHandler=null},t.prototype.mounted=function(){var e=this,t=this.getPDFUI();t.zoomOutHandler||(this.viewerComponent=this.getComponentByName(a.WEBPDF_VIEWER_COMPONENT_NAME),t.addViewerEventListener(i.default.marqueeZoomOut,t.zoomOutHandler=function(t,n){e.zoomOut(t,n)}),t.addViewerEventListener(i.default.marqueeZoomIn,t.zoomInHandler=function(t,n){e.zoomIn(t,n)}),t.getPDFViewer().then((function(t){e.pdfViewer=t})))},t.prototype.getVisibleHeightAndWidth=function(e){var t=this.viewerComponent.element.offsetHeight,n=this.viewerComponent.element.offsetWidth,o=this.pdfViewer.pdfViewerRender.pdfDocRender.getPDFPageRender(e),r=o.$handler.height(),i=o.$handler.width();return{width:Math.min(n,i),height:Math.min(t,r)}},t.prototype.zoomOut=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=this.pdfViewer,r=o.pdfViewerRender.pdfDocRender.getPDFPageRender(n),i=r.scale;o.zoom(-.25).then((function(){return o.pdfViewerRender.getScaleRatio()})).then((function(a){var s=i/a;if(s<t.pdfViewer.config.minScale&&(s=t.pdfViewer.config.minScale,a=i/s),0===e.width||0===e.height)t.zoomByPointer(e,a/i,n);else{var c=t.getVisibleHeightAndWidth(n),u=r.$handler.height(),l=r.$handler.width(),f=c.width,p=c.height,d=void 0,h=void 0;if(f>l)d=0;else{var g=e.left/a,m=(f-e.width/a)/2;d=Math.max(0,g-m)}if(p>u)h=0;else{var v=e.top/a,y=(p-e.height/a)/2;h=Math.max(0,v-y)}o.goToPage(n,h,d,!1).catch((function(){}))}})).catch((function(){}))},t.prototype.zoomIn=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=this.pdfViewer,r=o.pdfViewerRender.pdfDocRender.getPDFPageRender(n),i=r.scale;if(0===e.width||0===e.height)o.zoom(.25).then((function(){return o.pdfViewerRender.getScaleRatio()})).then((function(o){t.zoomByPointer(e,o/i,n)})).catch((function(){}));else{var a=this.getVisibleHeightAndWidth(n),s=a.width,c=a.height,u=s/e.width,l=c/e.height,f=Math.min(u,l),p=f*i;p>o.config.maxScale&&(f=(p=o.config.maxScale)/i);var d=void 0,h=void 0;if(l>u){h=e.left*f;var g=e.top*f,m=(c-e.height*f)/2;d=Math.max(0,g-m)}else{d=e.top*f;var v=e.left*f,y=(s-e.width*f)/2;h=Math.max(0,v-y)}o.zoomTo(p,{y:d,x:h,pageIndex:n,type:"device"})}},t.prototype.zoomByPointer=function(e,t,n){var o=(0,s.default)(this.viewerComponent.element).offset(),r=e.clientX-o.left+0,i=e.clientY-o.top-8,a=(e.left-r)*t+r*t-r,c=(e.top-i)*t+i*t-i;this.pdfViewer.goToPage(n,c,a,!1).catch((function(){}))},t}(o.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=l(n(66)),r=l(n(187)),i=l(n(231)),a=l(n(9)),s=l(n(186)),c=n(331),u=(n(52),l(n(589)));function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var h=a.default.getLogger("PDFUI/ParingUIPartial"),g=function(e){function t(){return f(this,t),p(this,e.apply(this,arguments))}return d(t,e),t.depends=function(){return[r.default,s.default,i.default,u.default]},t.prototype.updateVh=function(){var e=.01*window.innerHeight,t=document.documentElement;t.style.setProperty&&t.style.setProperty("--vh",e+"px")},t.prototype.construct=function(e,t){var n=this;this.updateVh();var o=function(){n.updateVh()};window.addEventListener("resize",o),this.addDestroyHook((function(){window.removeEventListener("resize",o)}));var r=t.renderTo;"string"==typeof r&&(r=document.querySelector(r)),r||(r=document.body),this.renderTo=r,e.viewerFactory=new t.viewerFactory},t.prototype.link=function(e,t,n){var o=e.defaultLanguage,r=t.fragments,i=t.template,a=t.parser,s=t.appearance,u=this.renderTo,l=void 0;r=r.concat(c.DIALOG_FRAGMENTS);var f=void 0;if(i)l=a.parse(i,r),f=function(){u.appendChild(l.element)};else{var p=u.firstElementChild;l=a.parse(p,r),f=function(){p.after(l.element),p.remove()}}return l.setAttribute("role","pdf-ui-root"),n.forEach((function(e){try{e.beforeMounted(l)}catch(e){h.error("an error occurred when executing addon's method: ",e)}})),s.beforeMounted(l),l.element.classList.add("fv__ui-lang-"+o),l.localize().then((function(){return f(),l}))},t}(o.default);t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(593)),i=n(594);function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var s=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.isAllDisabled=!1,o}return a(t,e),t.prototype.getLayoutTemplate=function(){return r.template},t.prototype.getDefaultFragments=function(){return r.fragments},t.prototype.disableAll=function(){this.root&&(this.isAllDisabled||(this.isAllDisabled=!0,this.$disabledComponents=[],this.disableToolbar(),this.disableSidebar()))},t.prototype.enableAll=function(){this.root&&this.isAllDisabled&&(this.isAllDisabled=!1,this.enableToolbar(),this.enableSidebar(),this.$disabledComponents.forEach((function(e){return e.disable()})),this.$disabledComponents=[])},t.prototype.disableToolbar=function(){var e=this;this.root.querySelectorAll("@tab @group-list,toolbar-tab-bodies @group-list").forEach((function(t){e.markupComponentRecursive(t),t.disable()}))},t.prototype.enableToolbar=function(){this.root.querySelectorAll("@tab @group-list,toolbar-tab-bodies @group-list").forEach((function(e){return e.enable()}))},t.prototype.disableSidebar=function(){var e=this;this.root.querySelectorAll("@sidebar-panel>*").forEach((function(t){e.markupComponentRecursive(t),t.disable()}))},t.prototype.enableSidebar=function(){this.root.querySelectorAll("@sidebar-panel>*").forEach((function(e){e.enable()}))},t.prototype.markupComponentRecursive=function(e){var t=this;e.isContainer()?e.children().forEach((function(e){return t.markupComponentRecursive(e)})):e.disabled&&this.$disabledComponents.push(e)},t}(((o=i)&&o.__esModule?o:{default:o}).default);t.default=s},function(e,t,n){"use strict";n.r(t),n.d(t,"changeLanguage",(function(){return Q})),n.d(t,"cloneInstance",(function(){return ee})),n.d(t,"createInstance",(function(){return te})),n.d(t,"dir",(function(){return ne})),n.d(t,"exists",(function(){return oe})),n.d(t,"getFixedT",(function(){return re})),n.d(t,"init",(function(){return ie})),n.d(t,"loadLanguages",(function(){return ae})),n.d(t,"loadNamespaces",(function(){return se})),n.d(t,"loadResources",(function(){return ce})),n.d(t,"off",(function(){return ue})),n.d(t,"on",(function(){return le})),n.d(t,"setDefaultNamespace",(function(){return fe})),n.d(t,"t",(function(){return pe})),n.d(t,"use",(function(){return de}));var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){var n;console&&console[e]&&(n=console)[e].apply(n,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))}},a=new(function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this.init(t,n)}return e.prototype.init=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||i,this.options=t,this.debug=t.debug},e.prototype.setDebug=function(e){this.debug=e},e.prototype.log=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)},e.prototype.warn=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)},e.prototype.error=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")},e.prototype.deprecate=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)},e.prototype.forward=function(e,t,n,o){return o&&!this.debug?null:("string"==typeof e[0]&&(e[0]=""+n+this.prefix+" "+e[0]),this.logger[t](e))},e.prototype.create=function(t){return new e(this.logger,o({prefix:this.prefix+":"+t+":"},this.options))},e}());var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.observers={}}return e.prototype.on=function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})),this},e.prototype.off=function(e,t){var n=this;this.observers[e]&&this.observers[e].forEach((function(){if(t){var o=n.observers[e].indexOf(t);o>-1&&n.observers[e].splice(o,1)}else delete n.observers[e]}))},e.prototype.emit=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];if(this.observers[e]){var r=[].concat(this.observers[e]);r.forEach((function(e){e.apply(void 0,n)}))}if(this.observers["*"]){var i=[].concat(this.observers["*"]);i.forEach((function(t){t.apply(t,[e].concat(n))}))}},e}();function c(e){return null==e?"":""+e}function u(e,t,n){e.forEach((function(e){t[e]&&(n[e]=t[e])}))}function l(e,t,n){function o(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function r(){return!e||"string"==typeof e}for(var i="string"!=typeof t?[].concat(t):t.split(".");i.length>1;){if(r())return{};var a=o(i.shift());!e[a]&&n&&(e[a]=new n),e=e[a]}return r()?{}:{obj:e,k:o(i.shift())}}function f(e,t,n){var o=l(e,t,Object);o.obj[o.k]=n}function p(e,t){var n=l(e,t),o=n.obj,r=n.k;if(o)return o[r]}function d(e,t,n){for(var o in t)o in e?"string"==typeof e[o]||e[o]instanceof String||"string"==typeof t[o]||t[o]instanceof String?n&&(e[o]=t[o]):d(e[o],t[o],n):e[o]=t[o];return e}function h(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var g={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function m(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(function(e){return g[e]})):e}var v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var _=function(e){function t(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};y(this,t);var r=b(this,e.call(this));return r.data=n||{},r.options=o,void 0===r.options.keySeparator&&(r.options.keySeparator="."),r}return w(t,e),t.prototype.addNamespaces=function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)},t.prototype.removeNamespaces=function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)},t.prototype.getResource=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=void 0!==o.keySeparator?o.keySeparator:this.options.keySeparator,i=[e,t];return n&&"string"!=typeof n&&(i=i.concat(n)),n&&"string"==typeof n&&(i=i.concat(r?n.split(r):n)),e.indexOf(".")>-1&&(i=e.split(".")),p(this.data,i)},t.prototype.addResource=function(e,t,n,o){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},i=this.options.keySeparator;void 0===i&&(i=".");var a=[e,t];n&&(a=a.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(o=t,t=(a=e.split("."))[1]),this.addNamespaces(t),f(this.data,a,o),r.silent||this.emit("added",e,t,n,o)},t.prototype.addResources=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var r in n)"string"==typeof n[r]&&this.addResource(e,t,r,n[r],{silent:!0});o.silent||this.emit("added",e,t,n)},t.prototype.addResourceBundle=function(e,t,n,o,r){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},a=[e,t];e.indexOf(".")>-1&&(o=n,n=t,t=(a=e.split("."))[1]),this.addNamespaces(t);var s=p(this.data,a)||{};o?d(s,n,r):s=v({},s,n),f(this.data,a,s),i.silent||this.emit("added",e,t,n)},t.prototype.removeResourceBundle=function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)},t.prototype.hasResourceBundle=function(e,t){return void 0!==this.getResource(e,t)},t.prototype.getResourceBundle=function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?v({},this.getResource(e,t)):this.getResource(e,t)},t.prototype.getDataByLanguage=function(e){return this.data[e]},t.prototype.toJSON=function(){return this.data},t}(s),P={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,o,r){var i=this;return e.forEach((function(e){i.processors[e]&&(t=i.processors[e].process(t,n,o,r))})),t}},O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var S=function(e){function t(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};x(this,t);var r=C(this,e.call(this));return u(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat"],n,r),r.options=o,void 0===r.options.keySeparator&&(r.options.keySeparator="."),r.logger=a.create("translator"),r}return A(t,e),t.prototype.changeLanguage=function(e){e&&(this.language=e)},t.prototype.exists=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=this.resolve(e,t);return n&&void 0!==n.res},t.prototype.extractFromKey=function(e,t){var n=t.nsSeparator||this.options.nsSeparator;void 0===n&&(n=":");var o=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,r=t.ns||this.options.defaultNS;if(n&&e.indexOf(n)>-1){var i=e.split(n);(n!==o||n===o&&this.options.ns.indexOf(i[0])>-1)&&(r=i.shift()),e=i.join(o)}return"string"==typeof r&&(r=[r]),{key:e,namespaces:r}},t.prototype.translate=function(e,t){var n=this;if("object"!==(void 0===t?"undefined":E(t))&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),t||(t={}),null==e||""===e)return"";"number"==typeof e&&(e=String(e)),"string"==typeof e&&(e=[e]);var o=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,r=this.extractFromKey(e[e.length-1],t),i=r.key,a=r.namespaces,s=a[a.length-1],c=t.lng||this.language,u=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&"cimode"===c.toLowerCase()){if(u){var l=t.nsSeparator||this.options.nsSeparator;return s+l+i}return i}var f=this.resolve(e,t),p=f&&f.res,d=f&&f.usedKey||i,h=Object.prototype.toString.apply(p),g=["[object Number]","[object Function]","[object RegExp]"],m=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,v=!this.i18nFormat||this.i18nFormat.handleAsObject,y="string"!=typeof p&&"boolean"!=typeof p&&"number"!=typeof p;if(v&&p&&y&&g.indexOf(h)<0&&(!m||"[object Array]"!==h)){if(!t.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(d,p,t):"key '"+i+" ("+this.language+")' returned an object instead of string.";if(o){var b="[object Array]"===h?[]:{};for(var w in p)if(Object.prototype.hasOwnProperty.call(p,w)){var _=""+d+o+w;b[w]=this.translate(_,O({},t,{joinArrays:!1,ns:a})),b[w]===_&&(b[w]=p[w])}p=b}}else if(v&&m&&"[object Array]"===h)(p=p.join(m))&&(p=this.extendTranslation(p,e,t));else{var P=!1,x=!1;if(!this.isValidLookup(p)&&void 0!==t.defaultValue){if(P=!0,void 0!==t.count){var C=this.pluralResolver.getSuffix(c,t.count);p=t["defaultValue"+C]}p||(p=t.defaultValue)}this.isValidLookup(p)||(x=!0,p=i);var A=t.defaultValue&&t.defaultValue!==p&&this.options.updateMissing;if(x||P||A){this.logger.log(A?"updateKey":"missingKey",c,s,i,A?t.defaultValue:p);var S=[],D=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&D&&D[0])for(var T=0;T<D.length;T++)S.push(D[T]);else"all"===this.options.saveMissingTo?S=this.languageUtils.toResolveHierarchy(t.lng||this.language):S.push(t.lng||this.language);var I=function(e,o){n.options.missingKeyHandler?n.options.missingKeyHandler(e,s,o,A?t.defaultValue:p,A,t):n.backendConnector&&n.backendConnector.saveMissing&&n.backendConnector.saveMissing(e,s,o,A?t.defaultValue:p,A,t),n.emit("missingKey",e,s,o,p)};if(this.options.saveMissing){var R=void 0!==t.count&&"string"!=typeof t.count;this.options.saveMissingPlurals&&R?S.forEach((function(e){n.pluralResolver.getPluralFormsOfKey(e,i).forEach((function(t){return I([e],t)}))})):I(S,i)}}p=this.extendTranslation(p,e,t,f),x&&p===i&&this.options.appendNamespaceToMissingKey&&(p=s+":"+i),x&&this.options.parseMissingKeyHandler&&(p=this.options.parseMissingKeyHandler(p))}return p},t.prototype.extendTranslation=function(e,t,n,o){var r=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,n,o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(O({},n,{interpolation:O({},this.options.interpolation,n.interpolation)}));var i=n.replace&&"string"!=typeof n.replace?n.replace:n;this.options.interpolation.defaultVariables&&(i=O({},this.options.interpolation.defaultVariables,i)),e=this.interpolator.interpolate(e,i,n.lng||this.language,n),!1!==n.nest&&(e=this.interpolator.nest(e,(function(){return r.translate.apply(r,arguments)}),n)),n.interpolation&&this.interpolator.reset()}var a=n.postProcess||this.options.postProcess,s="string"==typeof a?[a]:a;return null!=e&&s&&s.length&&!1!==n.applyPostProcessor&&(e=P.handle(s,e,t,n,this)),e},t.prototype.resolve=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=void 0,r=void 0,i=void 0,a=void 0;return"string"==typeof e&&(e=[e]),e.forEach((function(e){if(!t.isValidLookup(o)){var s=t.extractFromKey(e,n),c=s.key;r=c;var u=s.namespaces;t.options.fallbackNS&&(u=u.concat(t.options.fallbackNS));var l=void 0!==n.count&&"string"!=typeof n.count,f=void 0!==n.context&&"string"==typeof n.context&&""!==n.context,p=n.lngs?n.lngs:t.languageUtils.toResolveHierarchy(n.lng||t.language,n.fallbackLng);u.forEach((function(e){t.isValidLookup(o)||(a=e,p.forEach((function(r){if(!t.isValidLookup(o)){i=r;var a=c,s=[a];if(t.i18nFormat&&t.i18nFormat.addLookupKeys)t.i18nFormat.addLookupKeys(s,c,r,e,n);else{var u=void 0;l&&(u=t.pluralResolver.getSuffix(r,n.count)),l&&f&&s.push(a+u),f&&s.push(a+=""+t.options.contextSeparator+n.context),l&&s.push(a+=u)}for(var p=void 0;p=s.pop();)t.isValidLookup(o)||(o=t.getResource(r,e,p,n))}})))}))}})),{res:o,usedKey:r,usedLng:i,usedNS:a}},t.prototype.isValidLookup=function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)},t.prototype.getResource=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,o):this.resourceStore.getResource(e,t,n,o)},t}(s);function D(e){return e.charAt(0).toUpperCase()+e.slice(1)}var T=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t,this.whitelist=this.options.whitelist||!1,this.logger=a.create("languageUtils")}return e.prototype.getScriptPartFromCode=function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),this.formatLanguageCode(t.join("-")))},e.prototype.getLanguagePartFromCode=function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])},e.prototype.formatLanguageCode=function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=D(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=D(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=D(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e},e.prototype.isWhitelisted=function(e){return("languageOnly"===this.options.load||this.options.nonExplicitWhitelist)&&(e=this.getLanguagePartFromCode(e)),!this.whitelist||!this.whitelist.length||this.whitelist.indexOf(e)>-1},e.prototype.getFallbackCodes=function(e,t){if(!e)return[];if("string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e.default),n||[]},e.prototype.toResolveHierarchy=function(e,t){var n=this,o=this.getFallbackCodes(t||this.options.fallbackLng||[],e),r=[],i=function(e){e&&(n.isWhitelisted(e)?r.push(e):n.logger.warn("rejecting non-whitelisted language code: "+e))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&i(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&i(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&i(this.getLanguagePartFromCode(e))):"string"==typeof e&&i(this.formatLanguageCode(e)),o.forEach((function(e){r.indexOf(e)<0&&i(n.formatLanguageCode(e))})),r},e}();function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var R=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","he","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21}],M={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0===e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0===e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0===e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1===e?0:2===e?1:(e<0||e>10)&&e%10==0?2:3)}};function j(){var e={};return R.forEach((function(t){t.lngs.forEach((function(n){e[n]={numbers:t.nr,plurals:M[t.fc]}}))})),e}var k=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};I(this,e),this.languageUtils=t,this.options=n,this.logger=a.create("pluralResolver"),this.rules=j()}return e.prototype.addRule=function(e,t){this.rules[e]=t},e.prototype.getRule=function(e){return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]},e.prototype.needsPlural=function(e){var t=this.getRule(e);return t&&t.numbers.length>1},e.prototype.getPluralFormsOfKey=function(e,t){var n=this,o=[],r=this.getRule(e);return r?(r.numbers.forEach((function(r){var i=n.getSuffix(e,r);o.push(""+t+i)})),o):o},e.prototype.getSuffix=function(e,t){var n=this,o=this.getRule(e);if(o){var r=o.noAbs?o.plurals(t):o.plurals(Math.abs(t)),i=o.numbers[r];this.options.simplifyPluralSuffix&&2===o.numbers.length&&1===o.numbers[0]&&(2===i?i="plural":1===i&&(i=""));var a=function(){return n.options.prepend&&i.toString()?n.options.prepend+i.toString():i.toString()};return"v1"===this.options.compatibilityJSON?1===i?"":"number"==typeof i?"_plural_"+i.toString():a():"v2"===this.options.compatibilityJSON&&2===o.numbers.length&&1===o.numbers[0]||this.options.simplifyPluralSuffix&&2===o.numbers.length&&1===o.numbers[0]?a():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}return this.logger.warn("no plural rule found for: "+e),""},e}(),N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var L=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};F(this,e),this.logger=a.create("interpolator"),this.init(t,!0)}return e.prototype.init=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];t&&(this.options=e,this.format=e.interpolation&&e.interpolation.format||function(e){return e}),e.interpolation||(e.interpolation={escapeValue:!0});var n=e.interpolation;this.escape=void 0!==n.escape?n.escape:m,this.escapeValue=void 0===n.escapeValue||n.escapeValue,this.useRawValueToEscape=void 0!==n.useRawValueToEscape&&n.useRawValueToEscape,this.prefix=n.prefix?h(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?h(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?h(n.nestingPrefix):n.nestingPrefixEscaped||h("$t("),this.nestingSuffix=n.nestingSuffix?h(n.nestingSuffix):n.nestingSuffixEscaped||h(")"),this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.resetRegExp()},e.prototype.reset=function(){this.options&&this.init(this.options)},e.prototype.resetRegExp=function(){var e=this.prefix+"(.+?)"+this.suffix;this.regexp=new RegExp(e,"g");var t=""+this.prefix+this.unescapePrefix+"(.+?)"+this.unescapeSuffix+this.suffix;this.regexpUnescape=new RegExp(t,"g");var n=this.nestingPrefix+"(.+?)"+this.nestingSuffix;this.nestingRegexp=new RegExp(n,"g")},e.prototype.interpolate=function(e,t,n,o){var r=this,i=void 0,a=void 0,s=void 0;function u(e){return e.replace(/\$/g,"$$$$")}var l=function(e){if(e.indexOf(r.formatSeparator)<0)return p(t,e);var o=e.split(r.formatSeparator),i=o.shift().trim(),a=o.join(r.formatSeparator).trim();return r.format(p(t,i),a,n)};this.resetRegExp();var f=o&&o.missingInterpolationHandler||this.options.missingInterpolationHandler;for(s=0;(i=this.regexpUnescape.exec(e))&&(a=l(i[1].trim()),e=e.replace(i[0],a),this.regexpUnescape.lastIndex=0,!(++s>=this.maxReplaces)););for(s=0;i=this.regexp.exec(e);){if(void 0===(a=l(i[1].trim())))if("function"==typeof f){var d=f(e,i);a="string"==typeof d?d:""}else this.logger.warn("missed to pass in variable "+i[1]+" for interpolating "+e),a="";else"string"==typeof a||this.useRawValueToEscape||(a=c(a));if(a=this.escapeValue?u(this.escape(a)):u(a),e=e.replace(i[0],a),this.regexp.lastIndex=0,++s>=this.maxReplaces)break}return e},e.prototype.nest=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=void 0,r=void 0,i=N({},n);function a(e,t){if(e.indexOf(",")<0)return e;var n=e.split(",");e=n.shift();var o=n.join(",");o=(o=this.interpolate(o,i)).replace(/'/g,'"');try{i=JSON.parse(o),t&&(i=N({},t,i))}catch(t){this.logger.error("failed parsing options string in nesting for key "+e,t)}return e}for(i.applyPostProcessor=!1;o=this.nestingRegexp.exec(e);){if((r=t(a.call(this,o[1].trim(),i),i))&&o[0]===e&&"string"!=typeof r)return r;"string"!=typeof r&&(r=c(r)),r||(this.logger.warn("missed to resolve "+o[1]+" for nesting "+e),r=""),e=e.replace(o[0],r),this.regexp.lastIndex=0}return e},e}(),V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},B=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function $(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var W=function(e){function t(n,o,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};U(this,t);var s=H(this,e.call(this));return s.backend=n,s.store=o,s.languageUtils=r.languageUtils,s.options=i,s.logger=a.create("backendConnector"),s.state={},s.queue=[],s.backend&&s.backend.init&&s.backend.init(r,i.backend,i),s}return $(t,e),t.prototype.queueLoad=function(e,t,n,o){var r=this,i=[],a=[],s=[],c=[];return e.forEach((function(e){var o=!0;t.forEach((function(t){var s=e+"|"+t;!n.reload&&r.store.hasResourceBundle(e,t)?r.state[s]=2:r.state[s]<0||(1===r.state[s]?a.indexOf(s)<0&&a.push(s):(r.state[s]=1,o=!1,a.indexOf(s)<0&&a.push(s),i.indexOf(s)<0&&i.push(s),c.indexOf(t)<0&&c.push(t)))})),o||s.push(e)})),(i.length||a.length)&&this.queue.push({pending:a,loaded:{},errors:[],callback:o}),{toLoad:i,pending:a,toLoadLanguages:s,toLoadNamespaces:c}},t.prototype.loaded=function(e,t,n){var o=e.split("|"),r=B(o,2),i=r[0],a=r[1];t&&this.emit("failedLoading",i,a,t),n&&this.store.addResourceBundle(i,a,n),this.state[e]=t?-1:2;var s={};this.queue.forEach((function(n){var o,r,c,u,f,p;o=n.loaded,r=a,u=l(o,[i],Object),f=u.obj,p=u.k,f[p]=f[p]||[],c&&(f[p]=f[p].concat(r)),c||f[p].push(r),function(e,t){for(var n=e.indexOf(t);-1!==n;)e.splice(n,1),n=e.indexOf(t)}(n.pending,e),t&&n.errors.push(t),0!==n.pending.length||n.done||(Object.keys(n.loaded).forEach((function(e){s[e]||(s[e]=[]),n.loaded[e].length&&n.loaded[e].forEach((function(t){s[e].indexOf(t)<0&&s[e].push(t)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",s),this.queue=this.queue.filter((function(e){return!e.done}))},t.prototype.read=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=this,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:250,a=arguments[5];return e.length?this.backend[n](e,t,(function(s,c){s&&c&&o<5?setTimeout((function(){r.read.call(r,e,t,n,o+1,2*i,a)}),i):a(s,c)})):a(null,{})},t.prototype.prepareLoading=function(e,t){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3];if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var i=this.queueLoad(e,t,o,r);if(!i.toLoad.length)return i.pending.length||r(),null;i.toLoad.forEach((function(e){n.loadOne(e)}))},t.prototype.load=function(e,t,n){this.prepareLoading(e,t,{},n)},t.prototype.reload=function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)},t.prototype.loadOne=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=e.split("|"),r=B(o,2),i=r[0],a=r[1];this.read(i,a,"read",null,null,(function(o,r){o&&t.logger.warn(n+"loading namespace "+a+" for language "+i+" failed",o),!o&&r&&t.logger.log(n+"loaded namespace "+a+" for language "+i,r),t.loaded(e,o,r)}))},t.prototype.saveMissing=function(e,t,n,o,r){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.backend&&this.backend.create&&this.backend.create(e,t,n,o,null,V({},i,{isUpdate:r})),e&&e[0]&&this.store.addResource(e[0],t,n,o)},t}(s);function q(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.whitelist&&e.whitelist.indexOf("cimode")<0&&(e.whitelist=e.whitelist.concat(["cimode"])),e}var z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};function Y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function X(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}function J(){}var Z=new(function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments[1];Y(this,t);var r=K(this,e.call(this));if(r.options=q(n),r.services={},r.logger=a,r.modules={external:[]},o&&!r.isInitialized&&!n.isClone){var i;if(!r.options.initImmediate)return i=r.init(n,o),K(r,i);setTimeout((function(){r.init(n,o)}),0)}return r}return X(t,e),t.prototype.init=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];function o(e){return e?"function"==typeof e?new e:e:null}if("function"==typeof t&&(n=t,t={}),this.options=G({},{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:function(){},parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};return e[1]&&(t.defaultValue=e[1]),e[2]&&(t.tDescription=e[2]),t},interpolation:{escapeValue:!0,format:function(e,t,n){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",maxReplaces:1e3}},this.options,q(t)),this.format=this.options.interpolation.format,n||(n=J),!this.options.isClone){this.modules.logger?a.init(o(this.modules.logger),this.options):a.init(null,this.options);var r=new T(this.options);this.store=new _(this.options.resources,this.options);var i=this.services;i.logger=a,i.resourceStore=this.store,i.languageUtils=r,i.pluralResolver=new k(r,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),i.interpolator=new L(this.options),i.backendConnector=new W(o(this.modules.backend),i.resourceStore,i,this.options),i.backendConnector.on("*",(function(t){for(var n=arguments.length,o=Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];e.emit.apply(e,[t].concat(o))})),this.modules.languageDetector&&(i.languageDetector=o(this.modules.languageDetector),i.languageDetector.init(i,this.options.detection,this.options)),this.modules.i18nFormat&&(i.i18nFormat=o(this.modules.i18nFormat),i.i18nFormat.init&&i.i18nFormat.init(this)),this.translator=new S(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,o=Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];e.emit.apply(e,[t].concat(o))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}var s=["getResource","addResource","addResources","addResourceBundle","removeResourceBundle","hasResourceBundle","getResourceBundle","getDataByLanguage"];s.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}}));var c=function(){e.changeLanguage(e.options.lng,(function(t,o){e.isInitialized=!0,e.logger.log("initialized",e.options),e.emit("initialized",e.options),n(t,o)}))};return this.options.resources||!this.options.initImmediate?c():setTimeout(c,0),this},t.prototype.loadResources=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J;if(this.options.resources)t(null);else{if(this.language&&"cimode"===this.language.toLowerCase())return t();var n=[],o=function(t){t&&e.services.languageUtils.toResolveHierarchy(t).forEach((function(e){n.indexOf(e)<0&&n.push(e)}))};if(this.language)o(this.language);else{var r=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);r.forEach((function(e){return o(e)}))}this.options.preload&&this.options.preload.forEach((function(e){return o(e)})),this.services.backendConnector.load(n,this.options.ns,t)}},t.prototype.reloadResources=function(e,t,n){e||(e=this.languages),t||(t=this.options.ns),n||(n=function(){}),this.services.backendConnector.reload(e,t,n)},t.prototype.use=function(e){return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&P.addPostProcessor(e),"3rdParty"===e.type&&this.modules.external.push(e),this},t.prototype.changeLanguage=function(e,t){var n=this,o=function(e){e&&(n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.translator.language||n.translator.changeLanguage(e),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(e)),n.loadResources((function(o){!function(e,o){n.translator.changeLanguage(o),o&&(n.emit("languageChanged",o),n.logger.log("languageChanged",o)),t&&t(e,(function(){return n.t.apply(n,arguments)}))}(o,e)}))};e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(o):o(e):o(this.services.languageDetector.detect())},t.prototype.getFixedT=function(e,t){var n=this,o=function e(t,o){for(var r=arguments.length,i=Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];var s=G({},o);return"object"!==(void 0===o?"undefined":z(o))&&(s=n.options.overloadTranslationOptionHandler([t,o].concat(i))),s.lng=s.lng||e.lng,s.lngs=s.lngs||e.lngs,s.ns=s.ns||e.ns,n.t(t,s)};return"string"==typeof e?o.lng=e:o.lngs=e,o.ns=t,o},t.prototype.t=function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)},t.prototype.exists=function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)},t.prototype.setDefaultNamespace=function(e){this.options.defaultNS=e},t.prototype.loadNamespaces=function(e,t){var n=this;if(!this.options.ns)return t&&t();"string"==typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources(t)},t.prototype.loadLanguages=function(e,t){"string"==typeof e&&(e=[e]);var n=this.options.preload||[],o=e.filter((function(e){return n.indexOf(e)<0}));if(!o.length)return t();this.options.preload=n.concat(o),this.loadResources(t)},t.prototype.dir=function(e){if(e||(e=this.languages&&this.languages.length>0?this.languages[0]:this.language),!e)return"rtl";return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>=0?"rtl":"ltr"},t.prototype.createInstance=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];return new t(e,n)},t.prototype.cloneInstance=function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:J,r=G({},this.options,n,{isClone:!0}),i=new t(r),a=["store","services","language"];return a.forEach((function(t){i[t]=e[t]})),i.translator=new S(i.services,i.options),i.translator.on("*",(function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];i.emit.apply(i,[e].concat(n))})),i.init(r,o),i.translator.options=i.options,i},t}(s)),Q=(t.default=Z,Z.changeLanguage.bind(Z)),ee=Z.cloneInstance.bind(Z),te=Z.createInstance.bind(Z),ne=Z.dir.bind(Z),oe=Z.exists.bind(Z),re=Z.getFixedT.bind(Z),ie=Z.init.bind(Z),ae=Z.loadLanguages.bind(Z),se=Z.loadNamespaces.bind(Z),ce=Z.loadResources.bind(Z),ue=Z.off.bind(Z),le=Z.on.bind(Z),fe=Z.setDefaultNamespace.bind(Z),pe=Z.t.bind(Z),de=Z.use.bind(Z)},function(e,t,n){"use strict";n.r(t);var o,r=n(61),i=n(7),a=n(13),s=n.n(a),c=n(36),u=n(236),l=n(234),f=n(50),p=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),d=window.speechSynthesis,h=function(e){function t(){var t=e.call(this)||this;return t.supported()&&t.getVoices().then((function(){var e=new SpeechSynthesisUtterance(" ");d.speak(e),d.cancel()})),t}return p(t,e),t.prototype.supported=function(){return"object"==typeof window.speechSynthesis&&"function"==typeof window.SpeechSynthesisUtterance},t.prototype.doPause=function(){d.pause()},t.prototype.doResume=function(){d.resume()},t.prototype.doStop=function(){d.cancel()},t.prototype.speakText=function(e,t){var n=this;void 0===t&&(t=this.currentPlayingOptions);var o=new SpeechSynthesisUtterance(e);return new Promise((function(e,r){o.addEventListener("end",(function(){return e()})),o.addEventListener("error",r);var i=Promise.resolve();if(t){o.rate=t.rate,o.pitch=t.pitch,o.lang=t.lang||o.lang;var a=t.voice;switch(typeof a){case"string":i=i.then((function(){return n.getVoiceByName(a)})).then((function(e){e&&(o.voice=e)}));break;case"object":o.voice=a}o.volume=t.volume}i.then((function(){switch(d.speak(o),n.status){case f.a.stopped:e(),d.cancel();break;case f.a.paused:d.pause()}}))}))},t.prototype.onCurrentPlayingOptionsUpdated=function(){},t.prototype.getVoiceByName=function(e){return this.getVoices().then((function(t){return t.find((function(t){return t.name===e||t.voiceURI===e}))}))},t.prototype.getVoices=function(){return new Promise((function(e){var t=0;!function n(){var o=d.getVoices();o&&o.length>0?e(o):t<20?(t++,setTimeout(n,100)):e([])}()}))},t}(l.a),g=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),m=function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},v=function(){},y=function(e){function t(t){var n=e.call(this)||this;return n.pdfViewer=t,n.speechSynthesis=new h,n.defaultOptions={rate:1,pitch:1,volume:1,external:{}},n.stopHook=v,n.statusStore=new u.a,n.eventEmitter=new r,n}return g(t,e),t.prototype.setSpeechSynthesis=function(e){this.speechSynthesis.stop(),this.speechSynthesis=e,this.statusStore.set(f.a.stopped)},t.prototype.supported=function(){return this.speechSynthesis.supported()},t.prototype.readPage=function(e,t){return void 0===t&&(t={}),this.readPages([e],t)},t.prototype.readPages=function(e,t){var n=this;void 0===t&&(t={});var o=this.pdfViewer.getCurrentPDFDoc().getPageCount()-1;e.forEach((function(e){if(e<0||e>o)throw new Error("Invalid page index: "+e+",page index should range between 0 and "+o)}));var r=new c.QueuedAsyncTaskExecutor;return this.stopHook=function(){n.stopHook=v,r.cancel()},this.speechSynthesis.status=f.a.playing,this.statusStore.set(this.status),e.forEach((function(e){r.exec((function(){return n.eventEmitter.emit("viewer--read-page-start",e),n.doReadPage(e,t).finally((function(){n.eventEmitter.emit("viewer--read-page-end",e)}))}))})),r.waitForCurrentRunningTasks().finally((function(){n.isStopped()||n.stop()}))},t.prototype.readText=function(e,t){var n=this,o=Object.assign({},this.defaultOptions,t,{external:Object.assign({},this.defaultOptions.external,(null==t?void 0:t.external)||{})}),r=function(){return n.isStopped()};return this.speechSynthesis.status=f.a.playing,this.statusStore.set(this.status),this.speechSynthesis.play(function(){return m(this,(function(t){switch(t.label){case 0:return r()?[2]:[4,Promise.resolve({text:e.text,pageIndex:e.pageIndex,rect:e.rect})];case 1:return t.sent(),[2]}}))}(),o).finally((function(){if(!r())return n.stop()}))},t.prototype.pause=function(){this.speechSynthesis.pause(),this.statusStore.set(this.status)},t.prototype.resume=function(){this.speechSynthesis.resume(),this.statusStore.set(this.status)},t.prototype.stop=function(){this.speechSynthesis.stop(),this.statusStore.set(this.status),this.stopHook()},Object.defineProperty(t.prototype,"status",{get:function(){return this.speechSynthesis.status},enumerable:!1,configurable:!0}),t.prototype.setDefaultOptions=function(e){Object.assign(this.defaultOptions,e)},t.prototype.setVolume=function(e){void 0===e&&(e=this.defaultOptions.volume),this.defaultOptions.volume=e,this.isStopped()||this.speechSynthesis.updateOptions({volume:e})},t.prototype.setRate=function(e){void 0===e&&(e=this.defaultOptions.rate),this.defaultOptions.rate=e,this.isStopped()||this.speechSynthesis.updateOptions({rate:e})},t.prototype.updatePlayingOptions=function(e){return!this.isStopped()&&(this.speechSynthesis.updateOptions(e),!0)},t.prototype.isStopped=function(){return this.status===f.a.stopped},t.prototype.isPlaying=function(){return this.status===f.a.playing},t.prototype.onStatusChange=function(e){return this.statusStore.onchange(e.bind(this))},t.prototype.onReadPageStart=function(e){var t=this;return this.eventEmitter.addListener("viewer--read-page-start",e),function(){t.eventEmitter.removeListener("viewer--read-page-start",e)}},t.prototype.onReadPageEnd=function(e){var t=this;return this.eventEmitter.on("viewer--read-page-end",e),function(){t.eventEmitter.removeListener("viewer--read-page-end",e)}},t.prototype.doReadPage=function(e,t){var n=this,o=function(){return n.isStopped()};if(o())return i.RESOLVED_PROMISE_VOID;var r=this.pdfViewer.getCurrentPDFDoc(),a=r.getPageCount();return e>=a?i.RESOLVED_PROMISE_VOID:r.getPageByIndex(e).then((function(r){if(r&&!o())return r.getTextRectCount().then((function(i){var a=Object.assign({},n.defaultOptions,t,{external:Object.assign({},n.defaultOptions.external,t.external||{})});try{return n.speechSynthesis.play(function(){var t;return m(this,(function(n){switch(n.label){case 0:t=0,n.label=1;case 1:return t<i?o()?[2]:[4,r.getTextByRectIndex(t).then((function(t){return{text:t.text,pageIndex:e,rect:t.rect}}))]:[3,4];case 2:n.sent(),n.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}(),a)}finally{n.statusStore.set(n.status)}}))}))},t}(s.a),b=function(){function e(e){this.viewer=e,this.executor=new c.QueuedAsyncTaskExecutor,this.service=new y(this.viewer)}return e.prototype.supported=function(){return this.service.supported()},e.prototype.setSpeechSynthesis=function(e){this.service.setSpeechSynthesis(e)},e.prototype.readPages=function(e,t){var n=this;return this.stop(),this.executor.exec((function(){return n.service.readPages(e,t)}))},e.prototype.readText=function(e,t){var n=this;return this.stop(),this.executor.exec((function(){return n.service.readText(e,t)}))},e.prototype.stop=function(){this.executor.cancel(),this.service.stop()},e.prototype.pause=function(){this.service.pause()},e.prototype.resume=function(){this.service.resume()},e.prototype.setVolume=function(e){this.service.setVolume(e)},e.prototype.setRate=function(e){this.service.setRate(e)},Object.defineProperty(e.prototype,"status",{get:function(){return this.service.status},enumerable:!1,configurable:!0}),e.prototype.onStatusChange=function(e){return this.service.onStatusChange(e)},e.prototype.updatePlayingOptions=function(e){return this.service.updatePlayingOptions(e)},e.prototype.onReadPageStart=function(e){return this.service.onReadPageStart(e)},e.prototype.onReadPageEnd=function(e){return this.service.onReadPageEnd(e)},e}();t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(214);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.lastX=0,o.lastY=0,o}return i(t,e),t.prototype.prepare=function(){e.prototype.prepare.call(this),this.canvas.style.cssText+='\n            -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";\n            -ms-filter: alpha(opacity=50);\n            filter: alpha(opacity=50);\n            -moz-opacity: 0.5;\n            -khtml-opacity: 0.5;\n            opacity: 0.5;\n        '},t.prototype.doRender=function(t){t.smartScale,t.scale,this.component;var n=t.renderingData,o=n.annotInfo;if(0!=o.hasBorderColor){var r=this.canvas.getContext("2d"),i=n.outerDeviceRect,a=i.right-i.left,s=i.bottom-i.top;if(this.container.style.cssText+="\n                left: "+i.left+"px;\n                top: "+i.top+"px;\n            ",this.canvas.style.cssText+="width: "+a+"px;height: "+s+"px;",r.save(),r.fillStyle=this.numberToRGBAString(o.color),r.globalAlpha=n.opacity,n.isArea)r.fillRect(0,0,this.canvas.width,this.canvas.height);else e.prototype.doRender.call(this,t),t.quadRects.forEach((function(e){r.fillRect(e.left,e.top,e.width,e.textBlockHeight)}));r.restore()}},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=c(n(92)),i=c(n(83)),a=n(7),s=c(n(287));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=Math.log(2),f=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.helper=new s.default(n),o}return u(t,e),t.prototype.doRender=function(e){var t=this,n=e.renderingData,o=n.page,r=n.annotInfo,s=r.borderInfo||{},c=e.scale,u=e.rotate,l=this.convertPointToPixel(s.width,c);if(0!=l||-1!=r.borderColor||r.fillColor){var f=this.canvas.getContext("2d");f.clearRect(0,0,this.canvas.width,this.canvas.height),f.save(),e.lineWidth=l,f.globalAlpha=r.opacity,f.lineWidth=l,0===l||!1===r.hasBorderColor?f.strokeStyle="transparent":f.strokeStyle=this.numberToRGBAString(r.color);var p=e.outerRect,d=this.convertToPathPoint(n.startPoint,c,p,o,u),h=this.convertToPathPoint(n.endPoint,c,p,o,u),g=n.leaderLinePoints,m=this.convertToPathPoint(g.start,c,p,o,u),v=this.convertToPathPoint(g.end,c,p,o,u),y=n.captionOffset,b=new i.default(this.convertPointToPixel(y.x,c),-this.convertPointToPixel(y.y,c)),w=this.convertPointToPixel(n.leaderLineExtend,c);try{if(s.style===a.BORDER_STYLE.DASHED){var _=s.dashes||[],P=s.dashPhase||0;f.setLineDash&&f.setLineDash(_.map((function(e){return t.convertPointToPixel(e,c)}))),f.lineDashOffset=this.convertPointToPixel(P,c)}f.beginPath(),this.renderLine(f,d,h,m,v,w),f.closePath(),f.stroke(),this.helper.renderLineEnd(f,l,e,n.startStyle,v,m),this.helper.renderLineEnd(f,l,e,n.endingStyle,m,v),this.renderLineCaption(f,e,l,m,v,b)}finally{f.restore()}}},t.prototype.convertToPathPoint=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=r.getDevicePoint([e.x,e.y],t,a),c=o(s,2),u=c[0],l=c[1];return new i.default(u-n.left,l-n.top)},t.prototype.renderLine=function(e,t,n,o,r,i){if(e.moveTo(o.x,o.y),e.lineTo(r.x,r.y),e.moveTo(t.x,t.y),e.lineTo(o.x,o.y),e.moveTo(n.x,n.y),e.lineTo(r.x,r.y),i>0){var a=o.move(-i,t),s=r.move(-i,n);e.moveTo(o.x,o.y),e.lineTo(a.x,a.y),e.moveTo(r.x,r.y),e.lineTo(s.x,s.y)}},t.prototype.renderLineCaption=function(e,t,n,o,r,i){var s=t.renderingData,c=t.scale;if(s.hasCaption){var u=s.annotInfo,f=u.content;if("string"==typeof f&&!((f=f.trim()).length<1)){var p,d=Math.atan2(r.y-o.y,r.x-o.x),h=o.distanceTo(r),g=o.move(.5*h,r),m=16*(p=c+1,Math.log(p)/l),v=16777215-(16777215&u.borderColor^10855845),y=void 0;e.save(),e.fillStyle=this.numberToRGBAString(v),e.font=m+"px bold Arial",e.textBaseline="middle",e.textAlign="center";var b=e.measureText(f),w=g.move(i.y,o).rotate(Math.PI/2,g);switch(s.captionPos){case a.LINE_CAPTION_POSITION.POS_INLINE:if(0!=i.y&&0!=i.x){y=w.move(i.x,g).rotate(Math.PI/2,w);break}y=w;break;case a.LINE_CAPTION_POSITION.POS_TOP:var _=b.actualBoundingBoxAscent+b.actualBoundingBoxDescent,P=g.move(.5*(n+_)-i.y,r).rotate(Math.PI/2,g);y=0!=i.x?P.move(i.x,g).rotate(Math.PI/2,w):P}e.translate(y.x,y.y),e.rotate(d),e.fillText(f,0,0),e.restore(),e.beginPath();var O=w.move(i.x-b.width/2,g).rotate(Math.PI/2,w);e.moveTo(g.x,g.y),e.lineTo(w.x,w.y),e.moveTo(w.x,w.y),e.lineTo(O.x,O.y),e.closePath(),e.stroke()}}},t}(r.default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=u(n(92)),i=u(n(287)),a=u(n(83)),s=n(7),c=u(n(289));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var f=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.helper=new i.default(n),o}return l(t,e),t.prototype.doPrepare=function(){e.prototype.doPrepare.call(this),this.canvas.classList.add("fv__viewer-render-polyline")},t.prototype.doRender=function(e){var t=e.renderingData,n=t.annotInfo,r=n.borderInfo||{},i=e.scale,c=e.rotate,u=this.canvas.getContext("2d"),l=this.convertPointToPixel(r.width,i);if(0!=l||-1!=n.borderColor||n.fillColor){u.clearRect(0,0,this.canvas.width,this.canvas.height);var f=t.page,p=e.innerRect,d=t.vertexes.map((function(e){var t=f.getDevicePoint([e.x,e.y],i,c),n=o(t,2),r=n[0],s=n[1];return new a.default(r-p.left,s-p.top)}));e.vertexes=d,u.save(),e.lineWidth=l,u.globalAlpha=n.opacity,u.lineWidth=l,0===l||!1===n.hasBorderColor?u.strokeStyle="transparent":u.strokeStyle=this.numberToRGBAString(n.color);try{switch(r.style){case s.BORDER_STYLE.DASHED:case s.BORDER_STYLE.SOLID:this.renderSolid(u,n,e);break;case s.BORDER_STYLE.BEVELED:}var h=d[d.length-1],g=d[d.length-2],m=d[0],v=d[1];this.helper.renderLineEnd(u,l,e,t.startStyle,v,m),this.helper.renderLineEnd(u,l,e,t.endingStyle,g,h)}finally{u.restore()}}},t.prototype.renderSolid=function(e,t,n){var o=this,r=n.scale,i=t.borderInfo,a=i.dashes||[],u=i.dashPhase||0;i.style===s.BORDER_STYLE.DASHED&&(e.setLineDash&&e.setLineDash(a.map((function(e){return o.convertPointToPixel(e,r)}))),e.lineDashOffset=this.convertPointToPixel(u,r)),new c.default(n.vertexes,!1).render(e),e.stroke()},t}(r.default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=u(n(92)),i=n(216),a=u(n(83)),s=u(n(289)),c=n(7);n(436);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var d=function(e){function t(n){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];l(this,t);var r=f(this,e.call(this,n));return r.closing=o,r}return p(t,e),t.prototype.doPrepare=function(){e.prototype.doPrepare.call(this),this.canvas.classList.add("fv__viewer-render-polygon")},t.prototype.doRender=function(e){var t=e.renderingData,n=t.annotInfo,r=n.borderInfo||{},i=e.scale,s=e.rotate,u=this.convertPointToPixel(r.width,i);if(0!=u||-1!=n.borderColor||n.fillColor){var l=this.canvas.getContext("2d");l.clearRect(0,0,this.canvas.width,this.canvas.height);var f=t.page,p=e.innerRect,d=t.vertexes.map((function(e){var t=f.getDevicePoint([e.x,e.y],i,s),n=o(t,2),r=n[0],c=n[1];return new a.default(r-p.left,c-p.top)}));e.vertexes=d,l.save(),e.lineWidth=u,l.globalAlpha=n.opacity,0===u||!1===n.hasBorderColor?l.strokeStyle="transparent":l.strokeStyle=this.numberToRGBAString(n.color),l.lineWidth=u;try{switch(r.style){case c.BORDER_STYLE.DASHED:case c.BORDER_STYLE.SOLID:case c.BORDER_STYLE.UNDERLINE:case c.BORDER_STYLE.BEVELED:this.renderSolid(l,n,e);break;case c.BORDER_STYLE.CLOUDY:0==u?this.renderSolid(l,n,e):this.renderCloud(l,n,e)}}finally{l.restore()}}},t.prototype.renderCloud=function(e,t,n){var o=t.fillColor,r=t.borderInfo.cloudIntensity,a=n.innerRect;new i.CloudyPathGenerator(n.vertexes,a,n.outerRect).generate(16/r).render(e),o&&(e.fillStyle=this.numberToRGBAString(o),e.fill()),e.stroke()},t.prototype.renderSolid=function(e,t,n){var o=this,r=n.scale,i=t.borderInfo,a=i.dashes||[],u=i.dashPhase||0,l=t.fillColor;i.style===c.BORDER_STYLE.DASHED&&(e.setLineDash&&e.setLineDash(a.map((function(e){return o.convertPointToPixel(e,r)}))),e.lineDashOffset=this.convertPointToPixel(u,r)),new s.default(n.vertexes,this.closing).render(e),l&&(e.fillStyle=this.numberToRGBAString(l),e.fill()),e.stroke()},t}(r.default);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=c(n(92)),r=c(n(83)),i=n(7),a=c(n(53)),s=n(216);function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var p=function(e){function t(){return u(this,t),l(this,e.apply(this,arguments))}return f(t,e),t.prototype.doRender=function(e){var t=e.renderingData.annotInfo,n=t.borderInfo||{},o=this.convertPointToPixel(n.width||1,e.scale);if(0!=o||-1!=t.borderColor||t.fillColor){var r=this.canvas.getContext("2d");r.clearRect(0,0,this.canvas.width,this.canvas.height),r.save(),e.lineWidth=o,r.globalAlpha=t.opacity,0===o||!1===t.hasBorderColor?r.strokeStyle="transparent":r.strokeStyle=this.numberToRGBAString(t.color),r.lineWidth=o;try{switch(n.style){case i.BORDER_STYLE.SOLID:this.renderSolid(r,t,e);break;case i.BORDER_STYLE.BEVELED:break;case i.BORDER_STYLE.DASHED:this.renderDashed(r,t,e);break;case i.BORDER_STYLE.CLOUDY:0==n.cloudIntensity?this.renderSolid(r,t,e):this.renderCloud(r,t,e)}var a=t.fillColor;a&&(r.fillStyle=this.numberToRGBAString(a),r.fill()),r.stroke()}finally{r.restore()}}},t.prototype.renderSolid=function(e,t,n){this.renderDashed(e,t,n)},t.prototype.renderDashed=function(e,t,n){var o=t.borderInfo,i=n.lineWidth,a=n.innerRect,s=n.outerRect,c=o.dashes||[],u=o.dashPhase||0,l=.5*i,f=new r.default(.5*(a.left+a.right)-s.left,.5*(a.top+a.bottom)-s.top),p=Math.abs(.5*a.height-l),d=Math.abs(.5*a.width-l);e.lineDashOffset=u,e.setLineDash&&e.setLineDash(c),e.beginPath(),function(e,t,n,o,r){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:2*Math.PI,c=!(arguments.length>8&&void 0!==arguments[8])||arguments[8];e.ellipse?e.ellipse(t,n,o,r,i,a,s,c):(e.save(),e.translate(t,n),e.rotate(i),e.scale(o,r),e.arc(0,0,1,a,s,c),e.restore())}(e,f.x,f.y,d,p),e.closePath()},t.prototype.renderCloud=function(e,t,n){var o=t.borderInfo.cloudIntensity,i=.5*n.lineWidth,a=this.shrinkRect(n.innerRect,i),c=this.shrinkRect(n.outerRect,i),u=new r.default(.5*(c.right-c.left)-(a.left-c.left),.5*(c.bottom-c.top)-(a.top-c.top)),l=.5*a.height-i,f=.5*a.width-i,p=16/o,d=Math.PI/p,h=2*Math.PI,g=Array(Math.floor(h/d)-1).fill(0).map((function(e,t){return t*d%h})).map((function(e){var t=f*Math.cos(h-e),n=l*Math.sin(h-e);return u.add(t,n)}));new s.CloudyPathGenerator(g,a,c).generate(1,e).render(e)},t.prototype.shrinkRect=function(e,t){var n=a.default.on(e).shrink(t).extract();return Object.assign(n,{width:n.right-n.left,height:n.bottom-n.top})},t}(o.default);t.default=p},function(e,t,n){"use strict";n.r(t),n.d(t,"FakePolylineAnnotation",(function(){return p}));var o,r=n(105),i=n(346),a=n.n(i),s=n(33),c=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),u=function(){return(u=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},l=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a},f=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(l(arguments[t]));return e},p=function(e){function t(t){var n,o=e.call(this,t)||this;return o.vertexes=[],o.deviceVertexes=[],o.lastPoint={x:0,y:0},o.annotationInfo.vertexes&&(n=o.vertexes).push.apply(n,f(o.annotationInfo.vertexes)),o.annotationInfo.vertexes=o.vertexes,o}return c(t,e),t.prototype.getVertexes=function(){return this.vertexes},t.prototype.getDeviceVertexes=function(){return this.deviceVertexes},t.prototype.addPoint=function(e,t){var n=l(this.page.reverseDevicePoint([e,t],this.scale,this.rotate),2),o=n[0],r=n[1];this.vertexes.push({x:o,y:r}),this.lastPoint={x:o,y:r},this.deviceVertexes.push({x:e,y:t}),this.updateRect()},t.prototype.setLastPoint=function(e,t){var n=this.deviceVertexes[this.deviceVertexes.length-1],o="number"==typeof e?e:n.x,r="number"==typeof t?t:n.y,i=l(this.page.reverseDevicePoint([o,r],this.scale,this.rotate),2),a=i[0],s=i[1];this.lastPoint={x:a,y:s},this.updateRect()},t.prototype.getLastPoint=function(){return this.lastPoint},t.prototype.zoomTo=function(t){var n=this;this.scale!==t&&(e.prototype.zoomTo.call(this,t),this.deviceVertexes=this.vertexes.map((function(e){var o=l(n.page.getDevicePoint([e.x,e.y],t,n.rotate),2);return{x:o[0],y:o[1]}})),this.updateRect())},t.prototype.removeLastPoint=function(){},t.prototype.getRenderingData=function(t,n){var o=e.prototype.getRenderingData.call(this,t,n),r=l(this.vertexes).slice(0);return r.push(this.lastPoint),u(u({},o),{vertexes:r})},t.prototype.generateApRenderer=function(){return new a.a(this)},t.prototype.getType=function(){return"polyline"},t.prototype.getOuterDeviceRect=function(t,n){return e.prototype.getDeviceRect.call(this,t,n)},t.prototype.updateRect=function(){if(0!==this.deviceVertexes.length){var e=l(this.page.getDevicePoint([this.lastPoint.x,this.lastPoint.y],this.scale,this.rotate),2),t={x:e[0],y:e[1]},n=t.x,o=t.y,r=t.x,i=t.y;this.deviceVertexes.forEach((function(e){n=Math.min(n,e.x),r=Math.max(r,e.x),o=Math.min(o,e.y),i=Math.max(i,e.y)}));var a=Object(s.pt2px)(this.annotationInfo.borderInfo.width)*this.scale*2;n-=a/2,o-=a/2,r+=a/2,i+=a/2,this.setRect({left:n,top:o,right:r,bottom:i})}},t}(r.a)},function(e,t,n){"use strict";n.r(t);var o=n(8),r=n(49),i=function(){function e(){this.components=[]}return e.scope=function(){return r.ServiceScope.SINGLETON},e.prototype.addComponent=function(e){var t=this;this.components.push(e),e.once(o.COMPONENT_EVENTS.DESTROYED,(function(){var n=t.components.indexOf(e);n>-1&&t.components.splice(n,1)}))},e.prototype.enableAll=function(){this.components.forEach((function(e){e.enable()}))},e.prototype.disableAll=function(){this.components.forEach((function(e){e.disable()}))},e}();t.default=i},function(e,t,n){"use strict";n.r(t);var o,r=n(58),i=n.n(r),a=n(65),s=n.n(a),c=n(67),u=n(44),l=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),f=function(e){function t(t){var n=e.call(this)||this;return n.pdfViewer=t,n}return l(t,e),t.prototype.accept=function(e,t){return Object(c.isAudioFile)(e,t)},t.prototype.preview=function(e){var t=this,n=this.pdfViewer.resourceGenerator(i.a.PDF_DOCUMENT_CLOSING,s.a.OBJECT_URL).expose().URL.createObjectURL(e),o=document.createElement("audio");return o.controls=!0,this.element.innerHTML="",this.element.appendChild(o),o.src=n,function(){o.pause(),t.element.removeChild(o)}},t}(u.PortfolioFilePreviewer);t.default=f},function(e,t,n){"use strict";n.r(t);var o,r=n(58),i=n.n(r),a=n(65),s=n.n(a),c=n(67),u=n(44),l=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),f=function(){try{return new File([""],"",{}),!0}catch(e){return!1}}(),p=function(e){function t(t){var n=e.call(this)||this;return n.pdfViewer=t,n}return l(t,e),t.prototype.accept=function(e,t){return Object(c.isImageFile)(e,t)},t.prototype.preview=function(e,t){var n=this;if(Object(c.isSVG)(t.fileName))return this.previewSVG(e,t);var o=this.pdfViewer.resourceGenerator(i.a.PDF_DOCUMENT_CLOSING,s.a.OBJECT_URL).expose().URL,r=o.createObjectURL(e),a=document.createElement("img");return a.src=r,this.element.appendChild(a),function(){n.element.removeChild(a),o.revokeObjectURL(r)}},t.prototype.previewSVG=function(e,t){var n=this;if(!f)return this.previewSVGByDataURI(e,t);var o=this.pdfViewer.resourceGenerator(i.a.PDF_DOCUMENT_CLOSING,s.a.OBJECT_URL).expose().URL,r=new File([e],t.fileName,{type:"image/svg+xml"}),a=o.createObjectURL(r),c=document.createElement("object");return c.data=a,c.type="image/svg+xml",this.element.appendChild(c),function(){n.element.removeChild(c)}},t.prototype.previewSVGByDataURI=function(e,t){var n=this,o=!1,r=new FileReader;return r.onload=function(){o||(n.element.innerHTML=r.result)},r.readAsText(e,"utf8"),function(){o=!0,n.element.innerHTML=""}},t.prototype.getThumb=function(e){var t=this.pdfViewer.resourceGenerator(i.a.PDF_DOCUMENT_CLOSING,s.a.OBJECT_URL).expose().URL.createObjectURL(e);return Promise.resolve({type:u.PortfolioFileThumbType.IMAGE_URL,data:t})},t}(u.PortfolioFilePreviewer);t.default=p},function(e,t,n){"use strict";n.r(t),n.d(t,"UnsupportedPreviewer",(function(){return s}));var o,r=n(44),i=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=Promise.resolve(!0),s=function(e){function t(t){var n=e.call(this)||this;return n.pdfViewer=t,n}return i(t,e),t.prototype.accept=function(){return a},t.prototype.preview=function(){var e="viewer_:portfolio.previewer.unsupported";return this.element.innerText=this.pdfViewer.i18n.t(e),this.element.setAttribute("data-i18n",e),function(){}},t}(r.PortfolioFilePreviewer)},function(e,t,n){"use strict";n.r(t);var o,r=n(58),i=n.n(r),a=n(65),s=n.n(a),c=n(67),u=n(44),l=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),f=function(e){function t(t){var n=e.call(this)||this;return n.pdfViewer=t,n}return l(t,e),t.prototype.accept=function(e,t){return Object(c.isVideoFile)(e,t)},t.prototype.preview=function(e){var t=this,n=this.pdfViewer.resourceGenerator(i.a.PDF_DOCUMENT_CLOSING,s.a.OBJECT_URL).expose().URL.createObjectURL(e),o=document.createElement("video");return o.controls=!0,this.element.innerHTML="",this.element.appendChild(o),o.src=n,function(){o.pause(),t.element.removeChild(o)}},t}(u.PortfolioFilePreviewer);t.default=f},function(e,t,n){"use strict";n.r(t);var o,r=n(67),i=n(44),a=n(9),s=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),c=n.n(a).a.getLogger("TextPreviewer"),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.accept=function(e,t){return Object(r.isPlainText)(e,t)},t.prototype.preview=function(e){var t=this,n=new FileReader;return n.onload=function(){t.element.innerText=n.result},n.onerror=function(e){c.error(e)},n.readAsText(e,"utf8"),function(){t.element.innerText=""}},t}(i.PortfolioFilePreviewer);t.default=u},function(e,t,n){"use strict";n.r(t);var o,r=n(44),i=n(61),a=n(42),s=n(146),c=n.n(s),u=n(124),l=n.n(u),f=n(165),p=n.n(f),d=n(22),h=n(77),g=n(1),m=n.n(g),v=n(36),y=n(67),b=n(40),w=n.n(b),_=(n(1638),n(189)),P=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),O=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a},E=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(O(arguments[t]));return e},x=function(e){function t(t,n){var o=e.call(this)||this;return o.pdfViewer=t,o.embedHTMLPath=n,o.currentFileId=void 0,o.executor=new v.QueuedAsyncTaskExecutor,o.beforeStartPreview=w.a,o.beforeStopPreview=w.a,o.resetIframePosition=w.a,t.eventEmitter.on(m.a.renderFileSuccess,(function(){o.initPDFViewer()})),o}return P(t,e),t.prototype.accept=function(e,t){return Object(y.isPDFFile)(e,t)},t.prototype.getEmbedIFrame=function(){return this.iframe},t.prototype.initPDFViewer=function(){var e=this;if(this.previewerPDFViewerPromise)return this.previewerPDFViewerPromise;var t=this.pdfViewer;if("JR"!==t.config.engineMode)throw new Error("Unsupported engine mode!");var n=Object.assign({},t.$constructorOptions,{defaultAnnotConfig:null,eventEmitter:new i.EventEmitter,defaultKeyboardEventBinder:a.VIEWER_BINDER,collaboration:{enable:!1},enableJS:!1,enableShortcutKey:!1,customs:{getDocPermissions:function(){return 0},getAnnotPermissions:function(){return Promise.resolve([])}},viewerUI:new C(t.viewerUI)}),o=n.jr;o.readyWorker&&(o.readyWorker=o.readyWorker.clone());var r=this.iframe=document.createElement("iframe");return r.classList.add("fv__viewer-embed-pdf-previewer","fv__viewer-embed-pdf-previewer-hidden"),r.setAttribute("sandbox","allow-scripts allow-same-origin allow-modals"),this.previewerPDFViewerPromise=new Promise((function(t,o){r.onload=function(){try{r.contentWindow.initViewer(n,(function(n){t(n),e.addDestroyHook((function(){n.destroy()}))}))}catch(e){o(e)}},r.onerror=o;var i=e.embedHTMLPath,a=i.lastIndexOf("?");a>-1&&(i=i.slice(0,a)),i+="?control=true",r.src=i,document.body.appendChild(r),e.resetIframePosition=function(){var t=e.element.getBoundingClientRect();Object(_.default)(r,{position:"fixed",left:t.left+"px",top:t.top+"px",width:t.width+"px",height:t.height+"px"})};var s=e.resetIframePosition,c=!1;e.beforeStartPreview=function(){c=!1,r.classList.remove("fv__viewer-embed-pdf-previewer-hidden");var e=window.requestAnimationFrame||window.webkitRequestAnimationFrame;e((function t(){c||(s(),e(t))}))},e.beforeStopPreview=function(){c=!0,r.style.cssText="",r.classList.add("fv__viewer-embed-pdf-previewer-hidden")},e.addDestroyHook((function(){e.element.removeChild(r)}))})),this.previewerPDFViewerPromise},t.prototype.redraw=function(){var e=this;this.executor.exec((function(){var t=e.previewerPDFViewerPromise;return t?t.then((function(t){return e.resetIframePosition(),t.getCurrentPDFDoc()?t.redraw(!0):Promise.resolve()})):Promise.resolve()}))},t.prototype.preview=function(e,t){var n=this;return this.executor.exec((function(){return n.initPDFViewer().then((function(o){return n.beforeStartPreview(),n.currentFileId=t.handle,n.openFile(t,o,e)}))})),function(){return n.currentFileId=void 0,n.executor.exec((function(){var e=n.previewerPDFViewerPromise;return e?(n.beforeStopPreview(),e.then((function(e){return e.close()}))):Promise.resolve()}))}},t.prototype.openFile=function(e,t,n){var o={fileName:e.fileName},r=this.pdfViewer.viewerUI;return t.openPDFByFile(n,o).catch((function(e){return i(e,o)}));function i(e,o){switch(e.error){case d.Error_Code.password:return function e(n,o,a){var s,c;o.password&&(s="error",c="retry.invalidPassword");return r.promptPassword("","retry.inputPassword","retry.Password","body",s,c).then((function(r){return r?(o.password=r,t.reopenPDFDoc(n,o,a).catch((function(e){i(e,o)}))):e(n,o,a)}),(function(e){if(e)throw e}))}(e.pdfDoc,o,{type:h.OPEN_FILE_TYPE.FROM_FILE,fileName:o.fileName,file:n,options:o});case d.Error_Code.format:r.alert("alert.formatError");break;case d.Error_Code.securityHandler:r.alert("alert.securityError");break;case d.Error_Code.certificate:r.alert("dialog.openFileFailed.errCertificate");break;default:return r.alert("alert.openFailed"),Promise.reject(e)}}},t.prototype.getThumb=function(t,n){var o=this;return"number"!=typeof this.currentFileId&&this.currentFileId!==n.handle?e.prototype.getThumb.call(this,t,n):this.previewerPDFViewerPromise?this.previewerPDFViewerPromise.then((function(i){var a=i.getCurrentPDFDoc();return a?a.getPageByIndex(0).then((function(e){return e.getThumb(0).then((function(e){var t=document.createElement("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d");if(e.buffer){var o=new(Uint8ClampedArray||Uint8Array)(e.buffer),i=n.createImageData(e.width,e.height);return i.data.set(o),n.putImageData(i,0,0),{type:r.PortfolioFileThumbType.CANVAS,data:t}}if(e.image){var a=new Image;return a.onload=function(){URL.revokeObjectURL(a.src),n.drawImage(a,0,0)},a.src=URL.createObjectURL(e.image),{type:r.PortfolioFileThumbType.CANVAS,data:t}}}))})):e.prototype.getThumb.call(o,t,n)})):e.prototype.getThumb.call(this,t,n)},t}(r.PortfolioFilePreviewer);t.default=x;var C=function(e){function t(t){var n=e.call(this)||this;return n.origin=t,n.contextMenu=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return P(t,e),t.prototype.showAt=function(){},t.prototype.destroy=function(){},t.prototype.disable=function(){},t.prototype.enable=function(){},t.prototype.onShown=function(){},t.prototype.onHidden=function(){},t}(l.a)),n}return P(t,e),t.prototype.createContextMenu=function(){return this.contextMenu},t.prototype.alert=function(e){return this.origin.alert(e)},t.prototype.confirm=function(e){return this.origin.confirm(e)},t.prototype.prompt=function(e,t,n){return this.origin.prompt(e,t,n)},t.prototype.promptPassword=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this.origin).promptPassword.apply(e,E(t))},t.prototype.createFreeTextTooltip=function(){},t.prototype.createAnnotTooltip=function(){},t.prototype.createTextSelectionTooltip=function(e){return new p.a(this.pdfViewer,e)},t.prototype.destroy=function(){},t}(c.a)},function(e,t,n){"use strict";var o,r;n(237),n(807),n(808),(o=Element.prototype)[r="after"]||(o[r]=function(){var e,t=arguments,n=t.length,o=0,r=this,i=r.parentNode,a=Node,s=String,c=document;if(null!==i)for(;o<n;)(e=t[o])instanceof a?null!==(r=r.nextSibling)?i.insertBefore(e,r):i.appendChild(e):i.appendChild(c.createTextNode(s(e))),++o}),[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach((function(e){e.hasOwnProperty("before")||Object.defineProperty(e,"before",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=Array.prototype.slice.call(arguments),t=document.createDocumentFragment();e.forEach((function(e){var n=e instanceof Node;t.appendChild(n?e:document.createTextNode(String(e)))})),this.parentNode.insertBefore(t,this)}})})),[Element.prototype,Document.prototype,DocumentFragment.prototype].forEach((function(e){e.hasOwnProperty("prepend")||Object.defineProperty(e,"prepend",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=Array.prototype.slice.call(arguments),t=document.createDocumentFragment();e.forEach((function(e){var n=e instanceof Node;t.appendChild(n?e:document.createTextNode(String(e)))})),this.insertBefore(t,this.firstChild)}})})),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),function(){if(!Object.setPrototypeOf){var e,t,n,o,r,i,a=Object.prototype,s=new Function("return !(({__proto__: null}) instanceof Object);")();Object.setPrototypeOf=s?(Object.getPrototypeOf||(Object.getPrototypeOf=function(e){if(null==e)throw TypeError("Cannot convert undefined or null to object");return(e=Object(e)).__proto__}),function(e,t){return function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t),e}):(e=Object.getOwnPropertyNames,t=Object.getOwnPropertyDescriptor,n=Object.defineProperty,o=Object.prototype.hasOwnProperty,r=function(e,t){return o.call(e,t)},i=Object.getPrototypeOf,Object.getPrototypeOf=function(e){if(null==e)throw TypeError("Cannot convert undefined or null to object");return e=Object(e),r(e,"__proto__")?e.__proto__:i?i(e):"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null},function(o,i){return Object.defineProperty(o,"__proto__",{value:i,enumerable:!1,writable:!0,configurable:!0}),a=o,e(s=i).forEach((function(e){if(!r(a,e)){var o=t(s,e);o.configurable=!0,n(a,e,o)}})),a;var a,s})}}(),HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(e,t,n){var o=this.toDataURL(t,n).split(",")[1];setTimeout((function(){for(var n=atob(o),r=n.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=n.charCodeAt(a);e(new Blob([i],{type:t||"image/png"}))}))}})},function(e,t,n){e.exports=!n(41)&&!n(25)((function(){return 7!=Object.defineProperty(n(238)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){t.f=n(35)},function(e,t,n){var o=n(78),r=n(79),i=n(190)(!1),a=n(240)("IE_PROTO");e.exports=function(e,t){var n,s=r(e),c=0,u=[];for(n in s)n!=a&&o(s,n)&&u.push(n);for(;t.length>c;)o(s,n=t[c++])&&(~i(u,n)||u.push(n));return u}},function(e,t,n){var o=n(46),r=n(16),i=n(128);e.exports=n(41)?Object.defineProperties:function(e,t){r(e);for(var n,a=i(t),s=a.length,c=0;s>c;)o.f(e,n=a[c++],t[n]);return e}},function(e,t,n){var o=n(79),r=n(131).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?function(e){try{return r(e)}catch(e){return a.slice()}}(e):r(o(e))}},function(e,t,n){"use strict";var o=n(41),r=n(128),i=n(191),a=n(169),s=n(51),c=n(168),u=Object.assign;e.exports=!u||n(25)((function(){var e={},t={},n=Symbol(),o="abcdefghijklmnopqrst";return e[n]=7,o.split("").forEach((function(e){t[e]=e})),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=o}))?function(e,t){for(var n=s(e),u=arguments.length,l=1,f=i.f,p=a.f;u>l;)for(var d,h=c(arguments[l++]),g=f?r(h).concat(f(h)):r(h),m=g.length,v=0;m>v;)d=g[v++],o&&!p.call(h,d)||(n[d]=h[d]);return n}:u},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){"use strict";var o=n(62),r=n(29),i=n(366),a=[].slice,s={},c=function(e,t,n){if(!(t in s)){for(var o=[],r=0;r<t;r++)o[r]="a["+r+"]";s[t]=Function("F,a","return new F("+o.join(",")+")")}return s[t](e,n)};e.exports=Function.bind||function(e){var t=o(this),n=a.call(arguments,1),s=function(){var o=n.concat(a.call(arguments));return this instanceof s?c(t,o.length,o):i(t,o,e)};return r(t.prototype)&&(s.prototype=t.prototype),s}},function(e,t){e.exports=function(e,t,n){var o=void 0===n;switch(t.length){case 0:return o?e():e.call(n);case 1:return o?e(t[0]):e.call(n,t[0]);case 2:return o?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return o?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return o?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var o=n(23).parseInt,r=n(149).trim,i=n(244),a=/^[-+]?0[xX]/;e.exports=8!==o(i+"08")||22!==o(i+"0x16")?function(e,t){var n=r(String(e),3);return o(n,t>>>0||(a.test(n)?16:10))}:o},function(e,t,n){var o=n(23).parseFloat,r=n(149).trim;e.exports=1/o(n(244)+"-0")!=-1/0?function(e){var t=r(String(e),3),n=o(t);return 0===n&&"-"==t.charAt(0)?-0:n}:o},function(e,t,n){var o=n(89);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=o(e))throw TypeError(t);return+e}},function(e,t,n){var o=n(29),r=Math.floor;e.exports=function(e){return!o(e)&&isFinite(e)&&r(e)===e}},function(e,t){e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t,n){var o=n(247),r=Math.pow,i=r(2,-52),a=r(2,-23),s=r(2,127)*(2-a),c=r(2,-126);e.exports=Math.fround||function(e){var t,n,r=Math.abs(e),u=o(e);return r<c?u*(r/c/a+1/i-1/i)*c*a:(n=(t=(1+a/i)*r)-(t-r))>s||n!=n?u*(1/0):u*n}},function(e,t,n){var o=n(16);e.exports=function(e,t,n,r){try{return r?t(o(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&o(i.call(e)),t}}},function(e,t,n){var o=n(62),r=n(51),i=n(168),a=n(37);e.exports=function(e,t,n,s,c){o(t);var u=r(e),l=i(u),f=a(u.length),p=c?f-1:0,d=c?-1:1;if(n<2)for(;;){if(p in l){s=l[p],p+=d;break}if(p+=d,c?p<0:f<=p)throw TypeError("Reduce of empty array with no initial value")}for(;c?p>=0:f>p;p+=d)p in l&&(s=t(s,l[p],p,u));return s}},function(e,t,n){"use strict";var o=n(51),r=n(129),i=n(37);e.exports=[].copyWithin||function(e,t){var n=o(this),a=i(n.length),s=r(e,a),c=r(t,a),u=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===u?a:r(u,a))-c,a-s),f=1;for(c<s&&s<c+l&&(f=-1,c+=l-1,s+=l-1);l-- >0;)c in n?n[s]=n[c]:delete n[s],s+=f,c+=f;return n}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";var o=n(259);n(0)({target:"RegExp",proto:!0,forced:o!==/./.exec},{exec:o})},function(e,t,n){n(41)&&"g"!=/./g.flags&&n(46).f(RegExp.prototype,"flags",{configurable:!0,get:n(170)})},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var o=n(16),r=n(29),i=n(263);e.exports=function(e,t){if(o(e),r(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";var o=n(382),r=n(136);e.exports=n(199)("Map",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(e){var t=o.getEntry(r(this,"Map"),e);return t&&t.v},set:function(e,t){return o.def(r(this,"Map"),0===e?0:e,t)}},o,!0)},function(e,t,n){"use strict";var o=n(46).f,r=n(130),i=n(135),a=n(88),s=n(133),c=n(134),u=n(249),l=n(376),f=n(132),p=n(41),d=n(114).fastKey,h=n(136),g=p?"_s":"size",m=function(e,t){var n,o=d(t);if("F"!==o)return e._i[o];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,u){var l=e((function(e,o){s(e,l,t,"_i"),e._t=t,e._i=r(null),e._f=void 0,e._l=void 0,e[g]=0,null!=o&&c(o,n,e[u],e)}));return i(l.prototype,{clear:function(){for(var e=h(this,t),n=e._i,o=e._f;o;o=o.n)o.r=!0,o.p&&(o.p=o.p.n=void 0),delete n[o.i];e._f=e._l=void 0,e[g]=0},delete:function(e){var n=h(this,t),o=m(n,e);if(o){var r=o.n,i=o.p;delete n._i[o.i],o.r=!0,i&&(i.n=r),r&&(r.p=i),n._f==o&&(n._f=r),n._l==o&&(n._l=i),n[g]--}return!!o},forEach:function(e){h(this,t);for(var n,o=a(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(o(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!m(h(this,t),e)}}),p&&o(l.prototype,"size",{get:function(){return h(this,t)[g]}}),l},def:function(e,t,n){var o,r,i=m(e,t);return i?i.v=n:(e._l=i={i:r=d(t,!0),k:t,v:n,p:o=e._l,n:void 0,r:!1},e._f||(e._f=i),o&&(o.n=i),e[g]++,"F"!==r&&(e._i[r]=i)),e},getEntry:m,setStrong:function(e,t,n){u(e,t,(function(e,n){this._t=h(e,t),this._k=n,this._l=void 0}),(function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?l(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,l(1))}),n?"entries":"values",!n,!0),f(t)}}},function(e,t,n){"use strict";var o=n(382),r=n(136);e.exports=n(199)("Set",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return o.def(r(this,"Set"),e=0===e?0:e,e)}},o)},function(e,t,n){"use strict";var o,r=n(23),i=n(100)(0),a=n(69),s=n(114),c=n(363),u=n(385),l=n(29),f=n(136),p=n(136),d=!r.ActiveXObject&&"ActiveXObject"in r,h=s.getWeak,g=Object.isExtensible,m=u.ufstore,v=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},y={get:function(e){if(l(e)){var t=h(e);return!0===t?m(f(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return u.def(f(this,"WeakMap"),e,t)}},b=e.exports=n(199)("WeakMap",v,y,u,!0,!0);p&&d&&(c((o=u.getConstructor(v,"WeakMap")).prototype,y),s.NEED=!0,i(["delete","has","get","set"],(function(e){var t=b.prototype,n=t[e];a(t,e,(function(t,r){if(l(t)&&!g(t)){this._f||(this._f=new o);var i=this._f[e](t,r);return"set"==e?this:i}return n.call(this,t,r)}))})))},function(e,t,n){"use strict";var o=n(135),r=n(114).getWeak,i=n(16),a=n(29),s=n(133),c=n(134),u=n(100),l=n(78),f=n(136),p=u(5),d=u(6),h=0,g=function(e){return e._l||(e._l=new m)},m=function(){this.a=[]},v=function(e,t){return p(e.a,(function(e){return e[0]===t}))};m.prototype={get:function(e){var t=v(this,e);if(t)return t[1]},has:function(e){return!!v(this,e)},set:function(e,t){var n=v(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=d(this.a,(function(t){return t[0]===e}));return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,i){var u=e((function(e,o){s(e,u,t,"_i"),e._t=t,e._i=h++,e._l=void 0,null!=o&&c(o,n,e[i],e)}));return o(u.prototype,{delete:function(e){if(!a(e))return!1;var n=r(e);return!0===n?g(f(this,t)).delete(e):n&&l(n,this._i)&&delete n[this._i]},has:function(e){if(!a(e))return!1;var n=r(e);return!0===n?g(f(this,t)).has(e):n&&l(n,this._i)}}),u},def:function(e,t,n){var o=r(i(t),!0);return!0===o?g(e).set(t,n):o[e._i]=n,e},ufstore:g}},function(e,t,n){var o=n(90),r=n(37);e.exports=function(e){if(void 0===e)return 0;var t=o(e),n=r(t);if(t!==n)throw RangeError("Wrong length!");return n}},function(e,t,n){var o=n(131),r=n(191),i=n(16),a=n(23).Reflect;e.exports=a&&a.ownKeys||function(e){var t=o.f(i(e)),n=r.f;return n?t.concat(n(e)):t}},function(e,t,n){"use strict";var o=n(192),r=n(29),i=n(37),a=n(88),s=n(35)("isConcatSpreadable");e.exports=function e(t,n,c,u,l,f,p,d){for(var h,g,m=l,v=0,y=!!p&&a(p,d,3);v<u;){if(v in c){if(h=y?y(c[v],v,n):c[v],g=!1,r(h)&&(g=void 0!==(g=h[s])?!!g:o(h)),g&&f>0)m=e(t,n,h,i(h.length),m,f-1)-1;else{if(m>=9007199254740991)throw TypeError();t[m]=h}m++}v++}return m}},function(e,t,n){var o=n(37),r=n(246),i=n(98);e.exports=function(e,t,n,a){var s=String(i(e)),c=s.length,u=void 0===n?" ":String(n),l=o(t);if(l<=c||""==u)return s;var f=l-c,p=r.call(u,Math.ceil(f/u.length));return p.length>f&&(p=p.slice(0,f)),a?p+s:s+p}},function(e,t,n){var o=n(41),r=n(128),i=n(79),a=n(169).f;e.exports=function(e){return function(t){for(var n,s=i(t),c=r(s),u=c.length,l=0,f=[];u>l;)n=c[l++],o&&!a.call(s,n)||f.push(e?[n,s[n]]:s[n]);return f}}},function(e,t,n){var o=n(148),r=n(392);e.exports=function(e){return function(){if(o(this)!=e)throw TypeError(e+"#toJSON isn't generic");return r(this)}}},function(e,t,n){var o=n(134);e.exports=function(e,t){var n=[];return o(e,!1,n.push,n,t),n}},function(e,t){e.exports=Math.scale||function(e,t,n,o,r){return 0===arguments.length||e!=e||t!=t||n!=n||o!=o||r!=r?NaN:e===1/0||e===-1/0?e:(e-t)*(r-o)/(n-t)+o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.saveAs=t.EventEmitter=t.Hammer=t.dialogPolyfill=t.i18nextXHRBackend=t.i18nextLocalStorageBackend=t.i18nextChainedBackend=t.i18next=t.jQuery=void 0;var o=p(n(4)),r=p(n(342)),i=p(n(265)),a=p(n(266)),s=p(n(267));n(172);var c=p(n(173)),u=p(n(43)),l=p(n(61)),f=n(395);function p(e){return e&&e.__esModule?e:{default:e}}t.jQuery=o.default,t.i18next=r.default,t.i18nextChainedBackend=i.default,t.i18nextLocalStorageBackend=a.default,t.i18nextXHRBackend=s.default,t.dialogPolyfill=c.default,t.Hammer=u.default,t.EventEmitter=l.default,t.saveAs=f.saveAs},function(e,t,n){(function(n){var o,r,i;r=[],void 0===(i="function"==typeof(o=function(){"use strict";function t(e,t,n){var o=new XMLHttpRequest;o.open("GET",e),o.responseType="blob",o.onload=function(){s(o.response,t,n)},o.onerror=function(){console.error("could not download file")},o.send()}function o(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function r(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n&&n.global===n?n:void 0,a=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(e,n,a){var s=i.URL||i.webkitURL,c=document.createElement("a");n=n||e.name||"download",c.download=n,c.rel="noopener","string"==typeof e?(c.href=e,c.origin===location.origin?r(c):o(c.href)?t(e,n,a):r(c,c.target="_blank")):(c.href=s.createObjectURL(e),setTimeout((function(){s.revokeObjectURL(c.href)}),4e4),setTimeout((function(){r(c)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,i){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,i),n);else if(o(e))t(e,n,i);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout((function(){r(a)}))}}:function(e,n,o,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return t(e,n,o);var s="application/octet-stream"===e.type,c=/constructor/i.test(i.HTMLElement)||i.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||s&&c||a)&&"undefined"!=typeof FileReader){var l=new FileReader;l.onloadend=function(){var e=l.result;e=u?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},l.readAsDataURL(e)}else{var f=i.URL||i.webkitURL,p=f.createObjectURL(e);r?r.location=p:location.href=p,r=null,setTimeout((function(){f.revokeObjectURL(p)}),4e4)}});i.saveAs=s.saveAs=s,e.exports=s})?o.apply(t,r):o)||(e.exports=i)}).call(this,n(125))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=j(n(61)),a=j(n(232)),s=n(8);n(1093);var c=j(n(211)),u=j(n(6));n(1094),n(1097),n(1208),n(1221);j(n(9));n(1274);var l=j(n(164)),f=(j(n(308)),n(24)),p=(j(n(328)),j(n(586)),j(n(587)),j(n(21)),j(n(162)),j(n(1679))),d=j(n(1680)),h=j(n(123)),g=j(n(340)),m=j(n(231)),v=j(n(144)),y=j(n(341)),b=M(n(331)),w=j(n(10)),_=j(n(1699)),P=n(7),O=n(154),E=(j(n(30)),j(n(176))),x=j(n(163)),C=(j(n(591)),n(77)),A=n(22),S=n(28),D=n(49),T=j(n(13)),I=j(n(186)),R=M(n(63));function M(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function j(e){return e&&e.__esModule?e:{default:e}}function k(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var N=c.default.getProxyClass(a.default,(function(e,t,n){return e.pdfViewerPromise.then((function(e){return t.call.apply(t,[e].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(n)))}))}),null),F=[.5,.75,1,1.25,1.5,2,4,6,10],L=new S.Store,V=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this)),r=new p.default(d.default);o.partialManager=r,r.load(t);var a=(n=(0,v.default)({i18n:{},keymap:{},customs:(0,v.default)(!1,{defaultStateHandler:f.STATE_HANDLER_HAND,defaultExportCommentsFormat:"fdf",scalingValues:F,getLoadingMode:function(){return 0}},n.customs),viewerOptions:{},appearance:y.default,addons:[],fragments:[],viewerFactory:_.default},n)).viewerOptions;return o.eventEmitter=a.eventEmitter||new i.default,a.eventEmitter=a.eventEmitter||o.eventEmitter,r.construct(o,n),o.initializePromise=r.linkAll(),o.pdfViewerPromise=r.link(h.default),o.uiRootPromise=r.link(g.default),o.addonsPromise=r.link(m.default),o.appearancePartial=r.link(I.default),o.addonInstancePromise=o.addonsPromise.then((function(e){var t=e.reduce((function(e,t){return e[t.clazz.getLibraryName()]=t,e}),{});return o.addonInstanceMap=t,t})),o.initializePromise.then((function(e){o.eventEmitter.emit(w.default.initializationCompleted)})),o.dialogPromise=Promise.resolve(),o.services=new S.Store,o}return k(t,e),t.module=function(e,t){return u.default.module(e,t)},t.root=function(){return u.default.module(s.ROOT_MODULE_NAME)},t.prototype.waitForInitialization=function(){return this.initializePromise},t.prototype.getAppearance=function(){return this.appearancePartial.then((function(e){return e.appearance}))},t.prototype.loadAddon=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"UIXAddons";return this.getStore().then((function(r){var i=(0,l.default)(s.LOAD_ADDON_DYNAMIC_COMPLETE),a=r.getCurrentValue(s.LOAD_ADDON_DYNAMIC_DISPATCHER)||[];return a.push({addonClassOrURL:e,isMerged:n,globalVariableName:o,callbackDispatcherName:i,processed:!1}),r.dispatch(s.LOAD_ADDON_DYNAMIC_DISPATCHER,a),new Promise((function(e){r.subscribeOnce(i,(function(n){n.forEach((function(e){var n=e.clazz.getLibraryName();n in t.addonInstanceMap||(t.addonsPromise.then((function(t){t.push(e)})),t.addonInstanceMap[n]=e)})),t.getRootComponent().then((function(e){e.localize()})),e(n)}))}))}))},t.prototype.changeLanguage=function(e){var t=this,n=this.currentLanguage;return this.currentLanguage=e,this.getPDFViewer().then((function(t){return t.changeLanguage(e)})).then((function(n){return t._changeI18nLanguage(e)})).then((function(e){return t.getRootComponent()})).then((function(e){return e.localize()})).then((function(e){return t.updateStampLanguage()})).catch((function(e){return t.currentLanguage=n,Promise.reject(e)}))},t.prototype.refreshTranslations=function(){return this.changeLanguage(this.currentLanguage)},t.prototype.addI18NResources=function(e,t,n){var o=this;return this.addonInstancePromise.then((function(){return o.i18n.addResourceBundle(e,t,n,!0,!0),o.refreshTranslations()}))},t.prototype.addKeymap=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.PDFUI_BINDER;return this.getPDFViewer().then((function(e){return e.keyboard})).then((function(o){o.registerKeybinding(n,e,t)}))},t.prototype.addKeyboardShortcutEventListener=function(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.PDFUI_BINDER,r=e.prototype.addKeyboardShortcutEventListener.call(this,t,n,o);return function(){r.then((function(e){return e()}))}},t.prototype.switchKeyboardEventBinder=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=void 0,o=this.getPDFViewer().then((function(n){return n.switchKeyboardEventBinder(e,t)}));return o.then((function(e){n=e})),function(){n?n():o.then((function(e){return e()}))}},t.prototype._changeI18nLanguage=function(e){var t=this;return new Promise((function(n,o){t.i18n.changeLanguage(e,(function(r){r?o(r):(t.getRootComponent().then((function(n){var o=t.i18n.store.toJSON(),r=Object.keys(o),i=document.documentElement,a=n.element;r.forEach((function(e){var t="fv__ui-lang-"+e;a.classList.remove(t),i.classList.remove(t)}));var s="fv__ui-lang-"+e;a.classList.add(s),i.classList.add(s)})),n())}))}))},t.prototype.parseTemplate=function(e,t){t&&"object"===(void 0===t?"undefined":r(t))||(t=[]),Array.isArray(t)||(t=[t]);var n=this.uixParser.parse(e,t);if(n.getComponentByName(s.WEBPDF_VIEWER_COMPONENT_NAME))throw new Error("<viewer> component is not allowed for this API.");return this.getRootComponent().then((function(e){var t=e.on("localize",(function(){n.localize()}));n.addDestroyHook((function(){t()})),e.addDestroyHook((function(){n.destroy()}))})),n},t.prototype.alert=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"common-dialogs.alert-message",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"common-dialogs.alert-title",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"body",o=arguments[3];return"[object Object]"===Object.prototype.toString.call(e)?b.alert(this,e.message,e.title,e.appendTo,e.level):b.alert(this,e,t,n,o)},t.prototype.prompt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"common-dialogs.prompt-message",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"common-dialogs.prompt-title",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"body",r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return"[object Object]"===Object.prototype.toString.call(t)?b.prompt(this,e,t.message,t.title,t.appendTo,t.ok,t.level):b.prompt(this,e,t,n,o,r)},t.prototype.promptPassword=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"common-dialogs.prompt-message",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"common-dialogs.prompt-title",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"body",r=arguments[4],i=arguments[5],a=this,s={pdfui:a,defaultValue:e,message:t,title:n,appendTo:o,notifyType:r,notifyContent:i};return b.promptPassword(s)},t.prototype.confirm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"common-dialogs.confirm-message",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"common-dialogs.confirm-title",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"body";return"[object Object]"===Object.prototype.toString.call(e)?b.confirm(this,e.message,e.title,e.appendTo,e.level):b.confirm(this,e,t,n)},t.prototype.loading=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body,t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.getRootComponent().then((function(){return b.loading(t,e,n,o)}))},t.prototype.getPDFViewer=function(){return this.pdfViewerPromise},t.prototype.rerender=function(){return this.uiRootPromise.then((function(e){return e.rerender()}))},t.prototype.addUIEventListener=function(e,t){var n=this;return"string"==typeof e||Array.isArray(e)?(Array.isArray(e)||(e=[e]),e.forEach((function(e){n.eventEmitter.on(e,t)})),function(){n.removeUIEventListener(e,t)}):(Object.keys(e).forEach((function(t){n.eventEmitter.on(t,e[t])})),function(){Object.keys(e).forEach((function(t){n.removeUIEventListener(t,e[t])}))})},t.prototype.removeUIEventListener=function(e,t){var n=this;Array.isArray(e)||(e=[e]),e.forEach((function(e){n.eventEmitter.off(e,t)}))},t.prototype.addViewerEventListener=function(e,t){var n=this,o=!1,i=function(e){return e.$$decorateListeners||(e.$$decorateListeners=[]),e.$$decorateListeners.push(t),t;function t(){if(!o)return e.apply(this,arguments)}},a={};if(Array.isArray(e)){var s=i(t);e.forEach((function(e){a[e]=s}))}else if("string"!=typeof e)Object.keys(e).forEach((function(t){a[t]=i(e[t])}));else{if("function"!=typeof t)throw new Error("Illegal argument! Event listener should be a function, but actual: "+(void 0===t?"undefined":r(t)));a[e]=i(t)}return this.getPDFViewer().then((function(e){for(var t in a)e.eventEmitter.on(t,a[t])})),function(){for(var e in o=!0,a)n.removeViewerEventListener(e,a[e])}},t.prototype.removeViewerEventListener=function(e,t){return this.pdfViewer?(n(this.pdfViewer),Promise.resolve()):this.getPDFViewer().then(n);function n(n){Array.isArray(e)||(e=[e]),e.forEach((function(e){t&&t.$$decorateListeners?(t.$$decorateListeners.forEach((function(t){n.eventEmitter.off(e,t)})),delete t.$$decorateListeners):n.eventEmitter.off(e,t)}))}},t.prototype.getRootComponent=function(){return this.uiRootPromise},t.prototype.getComponentByName=function(e){return this.uiRootPromise.then((function(t){return t.getComponentByName(e)}))},t.prototype.getAllComponentsByName=function(e){return this.uiRootPromise.then((function(t){return t.getAllComponentsByName(e)}))},t.prototype.destroy=function(){var e=this;return Promise.all([this.getPDFViewer()].concat(this.addonsPromise)).then((function(t){var n=o(t,2),r=n[0],i=n[1];return Promise.all(i.map((function(e){return Promise.resolve(e.destroy())}))).then((function(t){return e.services.forEach((function(e){e instanceof T.default&&e.destroy()})),r.keyboard.destroy(),r.destroy().then((function(t){return e.uiRootPromise.then((function(e){return e.destroy()}))})).then((function(){e.eventEmitter.emit(w.default.applicationDestroyed),e.uiRootPromise=null,e.pdfViewerPromise=null,e.addonInstanceMap=null,e.addonInstancePromise=null,e.addonsPromise=null,e.initializePromise=null,e.eventEmitter.removeAllListeners(),e.eventEmitter=null,e.partialManager.destroy(),e.partialManager=null,e.dialogPromise=null}))}))}))},t.prototype.convertImageToPDFDoc=function(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"untitled.pdf",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=this,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.pdfEngine;return e.prototype.convertImageToPDFDoc.call(this,t,n,o,r,a,s).catch((function(e){return e instanceof Error?i.alert(e.message):i.alert("Failed to convert image to PDF document."),Promise.reject(e)}))},t.prototype.openPDFByFile=function(t){var n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.name&&!o.fileName&&(o.fileName=t.name);var i=this.openingFlag=[Date.now(),(0,O.getSecureRandom)()];return e.prototype.openPDFByFile.call(this,t,o).catch((function(e){var a=e.error;return"object"!=(void 0===a?"undefined":r(a))||a.error?3===e.error?n.retryPassword_(e.pdfDoc,o,{type:C.OPEN_FILE_TYPE.FROM_FILE,fileName:o.fileName,file:t,options:o}):2===e.error?n.alert("alert.formatError"):11===e.error?n.alert("alert.securityError"):5===e.error?n.alert("dialog.openFileFailed.errCertificate"):void 0:i!==n.openingFlag?e:(console.error(a),n.alert("alert.openFailed"))}))},t.prototype.retryPassword_=function(t){var n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments[2],i=o.password||"",a=void 0,s=void 0;return i&&(a="error",s="retry.invalidPassword"),this.promptPassword(i,"retry.inputPassword","retry.Password","body",a,s).then((function(i){if(null===i){var a=new Error("Invalid password value: null");return a.error=-2,a.pdfDoc=t,Promise.reject(a)}return o.password=i,e.prototype.reopenPDFDoc.call(n,t,o,r).catch((function(e){return 3===e.error?n.retryPassword_(e.pdfDoc,o,r):Promise.reject(e)}))}),(function(){n.eventEmitter.emit(w.default.openFileFailed,null)}))},t.prototype.openPDFByHttpRangeRequest=function(t){var n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.openingFlag=[Date.now(),(0,O.getSecureRandom)()];return e.prototype.openPDFByHttpRangeRequest.call(this,t,o).catch((function(e){var a=e.error;return"object"!=(void 0===a?"undefined":r(a))||a.error?3===e.error?n.retryPassword_(e.pdfDoc,o,{type:C.OPEN_FILE_TYPE.FROM_URL,range:t.range,size:t.size,options:o}):2===e.error?n.alert("alert.formatError"):11===e.error?n.alert("alert.securityError"):5===e.error?n.alert("dialog.openFileFailed.errCertificate"):404===e.error?n.alert("toolbar.alert.openFailed"):5===e.error?n.alert("dialog.openFileFailed.errCertificate"):void 0:i!==n.openingFlag?e:(console.error(a),n.alert("alert.openFailed"))}))},t.prototype.openFileByShareId=function(t){var n=this;return e.prototype.openFileByShareId.call(this,t).catch((function(t){var o=t.error;if("object"==(void 0===o?"undefined":r(o))&&!o.error)return n.alert("alert.openFailed");switch(o){case A.Error_Code.password:return e.prototype.getCollaboration.call(n).then((function(e){return e.getSessionInfo().then((function(e){return n.retryPassword_(t.pdfDoc,e.openFileParams.options,e.openFileParams)}))}));case A.Error_Code.format:return n.alert("alert.formatError");case A.Error_Code.securityHandler:return n.alert("alert.securityError");case A.Error_Code.certificate:return n.alert("dialog.openFileFailed.errCertificate");case 404:return n.alert("toolbar.alert.openFailed")}return Promise.reject(t)}))},t.prototype.getSelectedTextInfo=function(){return this.getPDFViewer().then((function(e){return e.getStore().getCurrentValue(P.STORE_NAMES.SELECTION_INFO)}))},t.prototype.callAddonAPI=function(e,t){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.addonInstancePromise.then((function(r){return n.callAddonSync(e,t,o)}))},t.prototype.callAddonSync=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!this.addonInstanceMap)throw new Error("Not all addons are prepared!");"function"==typeof e&&E.default.isSubClassOf(e,x.default)&&(e=e.getLibraryName());var o=this.addonInstanceMap[e];if(!o)throw new Error("The addon with the specified library name could not be found: "+e+"!");return o.receiveAction(t,n)},t.prototype.getAnnotationIcons=function(e,t){return this.initDefaultStamps(),t?this.customStamps:Object.assign({},this.customStamps,this.defaultStamps)},t.prototype.registerSignHandler=function(e){this.signatureHandlers&&this.signatureHandlers.push(e)},t.prototype.setVerifyHandler=function(e){this.verifyHandler=e},t.prototype.openFormPropertyBoxAfterCreated=function(e){this.getPDFViewer().then((function(t){t.getStore().dispatch(P.HIDE_FORM_FIELD_PROPERTY_BOX,!e)}))},t.prototype.getServiceInstance=function(e,t){var n=void 0===e?"undefined":r(e);if("function"===n){var o=D.ServiceScope.SINGLETON;switch("function"==typeof e.scope&&(o=e.scope()),o){case D.ServiceScope.MULTI_CASE:var i=new e(t);return i instanceof T.default&&t.addDestroyHook(i),i;case D.ServiceScope.SHARED_SINGLETON:var a=e.$$shared_sn;return a||(a=e.$$shared_sn=(0,l.default)("shared_service")),L.has(a)||L.dispatch(a,new e),L.getCurrentValue(a);case D.ServiceScope.SINGLETON:default:var s=e.$$singleton_sn;return s||(s=e.$$singleton_sn=(0,l.default)("singleton_service")),this.services.has(s)||this.services.dispatch(s,new e(this)),this.services.getCurrentValue(s)}}else if("string"===n){var c=e.split(":"),f=c.length>1?c[0]:"",p=c.length>1?c[1]:c[0],d=u.default.module(f).service(p);return this.getServiceInstance(d,t)}},t.prototype.registerSignaturePropertyHandler=function(e){"function"==typeof e&&(this.signedPropertiesHandler=e)},t.prototype.showSignedPropertyDialog=function(e){this.signedPropertiesHandler?this.signedPropertiesHandler(this.getSignatureInfo(e)):this.signedPropertyDialog&&this.signedPropertyDialog.active(e)},t.prototype.getSignatureInfo=function(e){var t=e.getRect(),n=e.getPage().getIndex(),o=e.getField().info,i=o.filter,a=o.subfilter,s=o.apFlag,c=o.signer,u=o.location,l=o.reason,f=o.DN,p=o.text,d=o.name,h=o.signTime,g=o.contact,m=o.image;if("object"===(void 0===m?"undefined":r(m))){var v=document.createElement("canvas");v.width=m.width,v.height=m.height;var y=v.getContext("2d"),b=new(Uint8ClampedArray||Uint8Array)(m.buffer),w=y.createImageData(m.width,m.height);w.data.set(b),y.putImageData(w,0,0),m=v.toDataURL()}return{filter:i,subfilter:a,rect:t,pageIndex:n,flag:s,signer:c,reason:l,email:g,distinguishName:f,location:u,textValue:p,fieldName:d,signTime:h,image:m}},t.prototype.setDefaultMeasurementRatio=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.userSpaceScaleValue,n=void 0===t?1:t,o=e.userSpaceUnit,r=void 0===o?"inch":o,i=e.realScaleValue,a=void 0===i?1:i,s=e.realUnit,c=void 0===s?"inch":s;this.getPDFViewer().then((function(e){e.getStore().dispatch(P.MEASUREMENT_INFO,{userSpaceScaleValue:n,realScaleValue:a,userSpaceUnit:R.getUnitByName(r),realUnit:R.getUnitByName(c)})}))},t}(N);t.default=V},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(825)),r=i(n(4));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$ui=(0,r.default)(t),this.pdfViewerRender=n,this.pdfViewer=n.pdfViewer}return e.prototype.rendering=function(){this.$ui.html(o.default)},e.prototype.rendered=function(){this.$ui.empty()},e}();t.default=a},function(e,t){e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiBmaWxsPSIjZGRkIj4NCiAgPHBhdGggdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMikiIGQ9Ik0wIDEyIFYyMCBINCBWMTJ6Ij4gDQogICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iZCIgdmFsdWVzPSJNMCAxMiBWMjAgSDQgVjEyejsgTTAgNCBWMjggSDQgVjR6OyBNMCAxMiBWMjAgSDQgVjEyejsgTTAgMTIgVjIwIEg0IFYxMnoiIGR1cj0iMS4ycyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIGJlZ2luPSIwIiBrZXl0aW1lcz0iMDsuMjsuNTsxIiBrZXlTcGxpbmVzPSIwLjIgMC4yIDAuNCAwLjg7MC4yIDAuNiAwLjQgMC44OzAuMiAwLjggMC40IDAuOCIgY2FsY01vZGU9InNwbGluZSIgIC8+DQogIDwvcGF0aD4NCiAgPHBhdGggdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOCkiIGQ9Ik0wIDEyIFYyMCBINCBWMTJ6Ij4NCiAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJkIiB2YWx1ZXM9Ik0wIDEyIFYyMCBINCBWMTJ6OyBNMCA0IFYyOCBINCBWNHo7IE0wIDEyIFYyMCBINCBWMTJ6OyBNMCAxMiBWMjAgSDQgVjEyeiIgZHVyPSIxLjJzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgYmVnaW49IjAuMiIga2V5dGltZXM9IjA7LjI7LjU7MSIga2V5U3BsaW5lcz0iMC4yIDAuMiAwLjQgMC44OzAuMiAwLjYgMC40IDAuODswLjIgMC44IDAuNCAwLjgiIGNhbGNNb2RlPSJzcGxpbmUiICAvPg0KICA8L3BhdGg+DQogIDxwYXRoIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE0KSIgZD0iTTAgMTIgVjIwIEg0IFYxMnoiPg0KICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9ImQiIHZhbHVlcz0iTTAgMTIgVjIwIEg0IFYxMno7IE0wIDQgVjI4IEg0IFY0ejsgTTAgMTIgVjIwIEg0IFYxMno7IE0wIDEyIFYyMCBINCBWMTJ6IiBkdXI9IjEuMnMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiBiZWdpbj0iMC40IiBrZXl0aW1lcz0iMDsuMjsuNTsxIiBrZXlTcGxpbmVzPSIwLjIgMC4yIDAuNCAwLjg7MC4yIDAuNiAwLjQgMC44OzAuMiAwLjggMC40IDAuOCIgY2FsY01vZGU9InNwbGluZSIgLz4NCiAgPC9wYXRoPg0KICA8cGF0aCB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMCkiIGQ9Ik0wIDEyIFYyMCBINCBWMTJ6Ij4NCiAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJkIiB2YWx1ZXM9Ik0wIDEyIFYyMCBINCBWMTJ6OyBNMCA0IFYyOCBINCBWNHo7IE0wIDEyIFYyMCBINCBWMTJ6OyBNMCAxMiBWMjAgSDQgVjEyeiIgZHVyPSIxLjJzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgYmVnaW49IjAuNiIga2V5dGltZXM9IjA7LjI7LjU7MSIga2V5U3BsaW5lcz0iMC4yIDAuMiAwLjQgMC44OzAuMiAwLjYgMC40IDAuODswLjIgMC44IDAuNCAwLjgiIGNhbGNNb2RlPSJzcGxpbmUiIC8+DQogIDwvcGF0aD4NCiAgPHBhdGggdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjYpIiBkPSJNMCAxMiBWMjAgSDQgVjEyeiI+DQogICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iZCIgdmFsdWVzPSJNMCAxMiBWMjAgSDQgVjEyejsgTTAgNCBWMjggSDQgVjR6OyBNMCAxMiBWMjAgSDQgVjEyejsgTTAgMTIgVjIwIEg0IFYxMnoiIGR1cj0iMS4ycyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIGJlZ2luPSIwLjgiIGtleXRpbWVzPSIwOy4yOy41OzEiIGtleVNwbGluZXM9IjAuMiAwLjIgMC40IDAuODswLjIgMC42IDAuNCAwLjg7MC4yIDAuOCAwLjQgMC44IiBjYWxjTW9kZT0ic3BsaW5lIiAvPg0KICA8L3BhdGg+DQo8L3N2Zz4NCg=="},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=w(n(21)),i=n(33),a=w(n(400)),s=w(n(402)),c=w(n(831)),u=w(n(108)),l=w(n(117)),f=w(n(43)),p=w(n(1));n(172);var d=w(n(835)),h=w(n(837)),g=w(n(838)),m=w(n(841)),v=n(18),y=w(n(270)),b=n(63);function w(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var P=function(){},O=function(e){function t(n,o,i,c){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var u=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,c));u.isRendered=!1,u.name=t.getDefaultName(),u.$ui=n,u.$element=n.parent(),u.index=o,u.renderCount=0,n.attr("data-index",o),u.pagesRender=c,u.docRender=c.docRender,u.viewerRender=u.docRender.viewerRender,u.$rendering=n.find(".fv__pdf-page-rendering"),u.$container=n.find(".fv__pdf-page-container").attr("data-index",o),u.$annotsContainer=n.find(".fv__pdf-page-annots-container"),u.$customsContainer=n.find(".fv__pdf-page-customs-container");var l=u.$handler=n.find(".fv__pdf-page-handler-container");u.$invisible=n.find(".fv__pdf-invisible-page-container"),u.pageHandler=new d.default(l,u),u.doc=i,u.scale=1,u.rotate=c.rotate;var f=u.pdfViewer.customs||{};return u.pdfPageRendering=new(f.PDFPageRendering||a.default)(u.$rendering[0],u),u.pageCustomRender=new(f.PageCustomRender||s.default)(n.find(".fv__pdf-custom-page-container")[0],u),u.renderFlags=7,u.renderingDeferreds=[],u.followRenderDeferreds=[],u.watermarkConfig=null,u.excluedHighlights=[],u.annotsRenderDeferred=(0,r.default)(),u}return _(t,e),t.getDefaultName=function(){return"pdfPageRender"},t.prototype.getHandlerDOM=function(){return this.$handler.get(0)},t.prototype.updateRenderFlags=function(e){this.renderFlags=this.renderFlags|e},t.prototype.updateRenderFlagsByScaleAndRotate=function(e,t){e!==this.scale||t!==this.rotate?this.updateRenderFlags(7):this.updateRenderFlags(0)},t.prototype.checkRenderLayoutFlags=function(){return 4==(4&this.renderFlags)},t.prototype.resetRenderLayoutFlags=function(){this.renderFlags&=-5},t.prototype.checkRenderContainerFlags=function(){return this.checkRenderContentFlags()||this.checkRenderAnnotFlags()||this.checkRebuildAnnotFlags()},t.prototype.checkRenderContentFlags=function(){return 2==(2&this.renderFlags)},t.prototype.resetRenderContentFlags=function(){this.renderFlags&=-3},t.prototype.checkRenderAnnotFlags=function(){return 1==(1&this.renderFlags)},t.prototype.resetRenderAnnotFlags=function(){this.renderFlags&=-2,this.resetRebuildAnnotFlags()},t.prototype.checkRenderCustomFlags=function(){return 16==(16&this.renderFlags)},t.prototype.resetRenderCustomFlags=function(){this.renderFlags&=-17,this.resetRebuildCustomFlags()},t.prototype.checkRebuildAnnotFlags=function(){return 8==(8&this.renderFlags)},t.prototype.resetRebuildAnnotFlags=function(){this.renderFlags&=-9},t.prototype.checkRebuildCustomFlags=function(){return 32==(32&this.renderFlags)},t.prototype.resetRebuildCustomFlags=function(){this.renderFlags&=-33},t.prototype.setStateHandler=function(e){if(this.stateHandler){if(this.stateHandler.constructor.getStateName()===e.getStateName())return;this.stateHandler.destroyPageHandler()}(this.stateHandler=new e(this.pdfViewer)).pageHandler(this)},t.prototype.updateIndex=function(e){this.index!==e&&(this.index=e,this.$ui.attr("data-index",e),this.$container.attr("data-index",e))},t.prototype.getPDFPage=function(){var e=this;return this.page?Promise.resolve(this.page):this.doc.getPageByIndex(this.index).then((function(t){return e.page=t,t}))},t.prototype.getPDFDoc=function(){return this.doc},t.prototype.getAnnotRender=function(e){try{return this.annotsRender.getAnnotRender(e)}catch(e){return null}},t.prototype.getAnnotRenderSafely=function(e){var t=this;return this.annotsRender?Promise.resolve(this.annotsRender.getAnnotRenderSafely(e)):this.getAnnots().then((function(e){return new c.default(t.$annotsContainer,e,t)})).then((function(t){return t.getAnnotRenderSafely(e)}))},t.prototype.render=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;this.endRender();var r=this.renderSerialPromise;r||this.rendering(t),this.updateRenderFlagsByScaleAndRotate(t,n),this.scale=t,this.rotate=n;var a=!this.renderCount;return this.renderCount++,this.pdfViewer.eventEmitter.emit(p.default.beforeRenderPage,this,a),this.annotsRender&&this.annotsRender.updateSize(t,n),Promise.resolve(this.pageCustomRender.render(t,n)).then((function(a){if(!1!==a)return(r=e.renderSerialPromise=new v.SerialPromise(0)).push((function(){var r=void 0;if(e.checkRenderLayoutFlags()){e.resetRenderLayoutFlags();var a=e.pageTileConfigPromise=e.getPageTileConfig(t,n);e.pageTileConfig=null,r=Promise.all([a,e.renderLayout(t,n)]).then((function(t){var n=o(t,1)[0];return e.pageTileConfigPromise=null,e.pageTileConfig=n,n}))}else r=e.getPageTileConfig(t,n);return r.then((function(t){var n=o(t,8),r=n[0],a=n[1],s=n[2],c=n[3],u=n[4],f=n[5],p=n[6],d=n[7],h=e.pageContentTiles;if(!h){e.pageContentTiles=h=new l.default((function(t,n,o,r,i,a){return e.getContentImageDataByTile(t,n,o,r,i,a)}),null,e),e.pdfViewer.webPDFSRPromise||(h.getRectBitmap=function(t,n,o,r){return e.getRectBitmap((0,i.pt2px)(n),t,o,r)});var m=h.$container;m.addClass("fv__pdf-page-content-container"),e.$container.append(m)}var v=e.containerVisibleRect=e.getContainerVisibleRect();h.setVisibleRect(v),e.checkRenderContentFlags()&&(h.clearCache(),e.resetRenderContentFlags());var y=e.getWatermarkConfig()||e.docRender.getWatermarkConfig();return y&&y.content&&y.type?(e.watermark=new g.default(s,c,u,f,y.watermarkSettings,y.watermarkTextProperties)).exportDataURL({content:y.content,type:y.type}).then((function(t){var n=new Image;return n.src=t,h.setUpdateCanvasMore((function(t,o,r,i,a,s,c,u){t.drawImage(n,o,r,s,c,i,a,s,c),e.renderLayoutGrid(t,o,r,i,a,s,c)})),h.redraw(r,a,s,c,u,f,p,d)})):(e.pdfViewer.getLayoutGrid()&&h.setUpdateCanvasMore((function(t,n,o,r,i,a,s,c){e.renderLayoutGrid(t,n,o,r,i,a,s)})),h.redraw(r,a,s,c,u,f,p,d))}))})),r.push((function(){return e.docRender.noInteraction?Promise.resolve():e.checkRebuildAnnotFlags()?(e.resetRebuildAnnotFlags(),e.rebuildAnnots(t,n,e.containerVisibleRect)):e.renderAnnots(t,n,e.containerVisibleRect)})),r.push((function(){return(e.checkRebuildCustomFlags()?e.rebuildCustoms(t):e.checkRenderCustomFlags()?e.renderCustoms(t):Promise.resolve()).then((function(){e.resetRenderCustomFlags()}))})),r.push((function(){if(!e.stateHandler){var t=e.pdfViewer;(e.stateHandler=new(t.stateHandlerManager.getCurrentStates())(t)).pageHandler(e)}return Promise.resolve()})),r.push((function(){e.scale=t,e.rotate=n,e.rendered(),e.renderSerialPromise=null,e.pdfViewer.eventEmitter.emit(p.default.renderPageSuccess,e)})),r.exec();e.rendered()}))},t.prototype.queueRender=function(){var e=this,t=this.renderingDeferreds.length;if(t){var n=this.renderingDeferreds[t-1],o=n.scale,r=n.rotate;this.updateRenderFlagsByScaleAndRotate(o,r),this._render(o,r).then((function(){for(var t=e.renderingDeferreds,n=0,o=t.length;n<o;n++)t[n].deferred.resolve(e);e.followRenderDeferreds.length?(e.renderingDeferreds=e.followRenderDeferreds,e.followRenderDeferreds=[],e.queueRender()):(e.renderingDeferreds=[],e.isRendering=!1)}))}},t.prototype._render=function(e,t){var n=this;return this.rendering(e),Promise.resolve(this.pageCustomRender.render(e,t)).then((function(o){if(!1!==o)return(n.checkRenderLayoutFlags()?n.renderLayout(e,t):Promise.resolve()).then((function(){return n.resetRenderLayoutFlags(),n.checkRenderContainerFlags()?n.renderContainer(e,t):Promise.resolve()})).then((function(){return n.scale=e,n.rotate=t,n.rendered(),n.pdfViewer.eventEmitter.emit(p.default.renderPageSuccess,n),n}));n.rendered()}))},t.prototype.setShowWidth=function(e){this.showWidth=e},t.prototype.getShowWidth=function(){return this.showWidth},t.prototype.setShowHeight=function(e){this.showHeight=e},t.prototype.getShowHeight=function(){return this.showHeight},t.prototype.computePageSize=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,o=function(t){return e.getPDFPage().then((function(o){var r=(0,i.getWHByMatrix)(o.getPxWidth(),o.getPxHeight(),t,n);return e.showWidth=r[0],e.showHeight=r[1],r}))},r=void 0;return"fitVisible"!==t?(r=this.pagesRender.getPageScaleSync(this.index,t,n),o(r)):this.pagesRender.getPageScale(this.index,t,n).then((function(e){return o(e)}))},t.prototype.renderLayout=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.docRender.getScale(),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,r=function(r){return e.updateRenderFlagsByScaleAndRotate(r,n),e.scale=r,e.rotate=n,e.computePageSize(r,n).then((function(t){var i=o(t,2),a=i[0],s=i[1];return e.pagesRender.viewMode.renderViewMode(e,r,n,a,s)})).then((function(){e.$ui.css({width:e.showWidth,height:e.showHeight}),e.pdfViewer.eventEmitter.emit(p.default.pageLayoutRedraw,e,t,n)}))};if("fitVisible"!==t){var i=this.pagesRender.getPageScaleSync(this.index,t,n);return r(i)}return this.pagesRender.getPageScale(this.index,t,n).then((function(e){return r(e)}))},t.prototype.renderContainer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return this.renderPage(e,t)},t.prototype.getPageTileConfig=function(e,t){var n=this;return this.getPDFPage().then((function(r){var a=n.getSmartScale(e),s=n.pdfViewer.config,c=s.tileSize;s.getTileSize&&(c=s.getTileSize(n.doc,n.page));var u=r.getPxWidth(),l=r.getPxHeight(),f=(0,i.getWHByMatrix)(u,l,a,t),p=o(f,2),d=p[0],h=p[1];return[Math.ceil(h/c),Math.ceil(d/c),d,h,c,a,e,t]}))},t.prototype.renderPage=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return(this.checkRenderContentFlags()?this.renderContentImage(t,n):Promise.resolve()).then((function(o){return e.resetRenderContentFlags(),e.docRender.noInteraction?Promise.resolve():e.checkRebuildAnnotFlags()?e.rebuildAnnots(t,n):e.checkRenderAnnotFlags()?e.renderAnnots(t,n):Promise.resolve()})).then((function(){return e.resetRenderAnnotFlags(),e.checkRebuildCustomFlags()?e.rebuildCustoms(t,n):e.checkRenderCustomFlags()?e.renderCustoms(t,n):Promise.resolve()})).then((function(){if(e.resetRenderCustomFlags(),!e.stateHandler){var t=e.pdfViewer;(e.stateHandler=new(t.stateHandlerManager.getCurrentStates())(t)).pageHandler(e)}}))},t.prototype.updateSize=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return this.getPageTileConfig(t,n).then((function(t){var n=o(t,8),r=n[0],i=n[1],a=n[2],s=n[3],c=n[4],u=n[5],l=n[6],f=n[7],p=e.pageContentTiles;p&&p.updateDom(r,i,a,s,c,u,l,f)}))},t.prototype.renderContentImage=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return this.getPageTileConfig(t,n).then((function(t){var n=o(t,8),r=n[0],i=n[1],a=n[2],s=n[3],c=n[4],u=n[5],l=n[6],f=n[7],p=e.pageContentTiles;return p?p.redraw(r,i,a,s,c,u,l,f):Promise.resolve()}))},t.prototype.adjustHighlightInContentImage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if([].concat(this.excluedHighlights).sort().join()!==[].concat(e).sort().join())return this.excluedHighlights=e,this.redrawContent(!0)},t.prototype.adjustHighlightAnnots=function(){return Promise.resolve()},t.prototype.getRotatedRowAndCols=function(e,t,n,o,r){switch(r){case 0:return[e,t];case 90:return[t,o-e];case 180:return[n-e,o-t];case 270:return[t,e]}},t.prototype.renderContentImageByTileCanvas=function(e,t,n,o,r,i,a,s){var c=this,u=this.pageContentTiles;if(!u){this.pageContentTiles=u=new l.default((function(e,t,n,o,r,i,a,s,u,l){return c.getContentImageDataByTile(e,t,n,o,r,i)}),null,!0);var f=u.$container;f.addClass("fv__pdf-page-content-container"),this.$container.append(f)}var p=this.getWatermarkConfig()||this.docRender.getWatermarkConfig();p&&p.content&&p.type&&(this.watermark=new g.default(n,o,r,i,p.watermarkSettings,p.watermarkTextProperties)).exportDataURL({content:p.content,type:p.type}).then((function(e){var t=new Image;t.src=e,u.setUpdateCanvasMore((function(e,n,o,r,i,a){e.drawImage(t,o*a,n*a,r,i,0,0,r,i)}))}));return u.redraw(e,t,n,o,r,i,a)},t.prototype.renderAnnots=function(e,t,n){var o=this,r=function(r){if(o.annotsRender)return o.annotsRender.render(e,t,n);return o.getAnnots().then((function(e){return o.doc.hasForm().then((function(t){if(!t||o.doc.needFixPageFields){for(var n=!1,r=0;r<e.length;r++)if(e[r]instanceof y.default){n=!0,o.doc.needFixPageFields=!0;break}if(o.doc.fixPages=o.doc.fixPages||[],n&&!o.doc.fixPages[o.index])return o.doc.fixPages[o.index]=!0,o.doc.PDFForm.fixPageFields(o.index).then((function(){return o.doc.reloadPDFForm()})).then((function(){return o.getAnnots(!0)})).then((function(e){return e}))}return e}))})).then((function(e){return o.annotsRender||(o.annotsRender=new c.default(o.$annotsContainer,e,o),o.annotsRenderDeferred.resolve()),o.annotsRender})).then((function(o){return o.render(e,t,n)}))};return this.parent("pdfDocRender").getFormRender()?this.doc.getPDFForm().addTask(r):Promise.resolve(r())},t.prototype.rebuildAnnots=function(e,t,n){var o=this;return this.getAnnots().then((function(e){return o.annotsRender&&(o.annotsRender.destroy(),o.annotsRender=null,o.annotsRenderDeferred=(0,r.default)()),o.annotsRender||(o.annotsRender=new c.default(o.$annotsContainer,e,o),o.annotsRenderDeferred.resolve()),o.annotsRender})).then((function(o){return o.render(e,t,n)}))},t.prototype.renderCustoms=function(e,t){var n=this;return this.customsRender?this.customsRender.render(e,t):this.getPDFPage().then((function(e){return n.pdfViewer.customRenderManager.getPageCustomData(e)})).then((function(e){return n.customsRender&&(n.customsRender.destroy(),n.customsRender=null),n.customsRender=n.customsRender||new m.default(n.$customsContainer,e,n)})).then((function(n){return n.render(e,t)}))},t.prototype.rebuildCustoms=function(e,t){var n=this;return this.getPDFPage().then((function(e){return n.pdfViewer.customRenderManager.getPageCustomData(e)})).then((function(e){return n.customsRender=n.customsRender||new m.default(n.$customsContainer,e,n)})).then((function(n){return n.render(e,t)}))},t.prototype.renderAnnot=function(e,t,n){return new(this.pdfViewer.annotManager.get(e.getType()))(e,this).render(t,n)},t.prototype.rendering=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,n=this.doc.getPageSize(this.index);if(e!=this.scale&&n){switch((t%360+360)%360){case 90:case 270:var o=n.width;n.width=n.height,n.height=o}n.width*=(0,i.pt2px)(1)*e,n.height*=(0,i.pt2px)(1)*e;var r=n;this.$ui.height()!=n.width&&(r.minHeight=40),this.$ui.get(0).style.cssText+="\n                width: "+Math.ceil(r.width)+"px;\n                height: "+Math.ceil(r.height)+"px;\n                min-height: "+r.minHeight+"px;\n            "}this.firstRendering||(this.firstRendering=!0,this.$ui.addClass("fv__rendering"),this.pdfPageRendering.rendering())},t.prototype.rendered=function(){var e=this;this.isRendered=!0,this.$ui.removeClass("fv__rendering"),this.pdfPageRendering.rendered(),this.pdfViewer.isWisWebPDFSR||this.openActionTrigged||this.getPDFPage().then((function(t){var n=t.getAction("open");n&&e.pdfViewer.actionManager.get(n,e).active(),e.openActionTrigged=!0}))},t.prototype.bindEvent=function(e){var t=this,n=e[0],o=this.pageHammer=new f.default.Manager(n,{recognizers:[[f.default.Pan,{direction:f.default.DIRECTION_ALL}]]});o.add(new f.default.Tap({event:"doubletap",taps:2})),o.add(new f.default.Tap({event:"singletap"})),o.get("doubletap").recognizeWith("singletap"),o.get("singletap").requireFailure("doubletap"),o.on("singletap",(function(e){var n=t.pdfViewer.eventEmitter,o=t.annotsRender;o?(o.unActiveAnnot(),n.emit(p.default.tapPage,e)):n.emit(p.default.tapPage,e)})),o.on("doubletap",(function(e){var n=t.pdfViewer.eventEmitter,o=t.annotsRender;o?(o.unActiveAnnot(),n.emit(p.default.doubleTapPage,e,t)):n.emit(p.default.doubleTapPage,e,t)})),o.on("press",(function(e){var n=t.pdfViewer.eventEmitter,o=t.annotsRender;o?(o.unActiveAnnot(),n.emit(p.default.pressPage,e)):n.emit(p.default.pressPage,e)})),n.oncontextmenu=function(e){e.preventDefault()},e.on("mouseup",(function(e){if(3===e.which){var n=t.pdfViewer.eventEmitter,o=t.annotsRender;o?(o.unActiveAnnot(),n.emit(p.default.rightClickPage,e)):n.emit(p.default.rightClickPage,e)}}))},t.prototype.destroy=function(){this.isDestroyed||(e.prototype.destroy.call(this),this.invisibleRender(),this.pageContentTiles&&this.pageContentTiles.destroy(),this.stateHandler&&this.stateHandler.out(),this.contentImageDataCache&&this.contentImageDataCache.destroy(),this.annotsRender&&this.annotsRender.destroy(),this.annotsRenderDeferred=null,this.pageHammer&&this.pageHammer.destroy(),this.pageHandler.destroy(),this.$ui.empty(),this.eLayoutContainerTransitionStyle&&document.body.removeChild(this.eLayoutContainerTransitionStyle),this.pdfPageRendering.destroy(),this.pageCustomRender&&this.pageCustomRender.destroy(),this.pageCustomRender=null,this.pdfPageRendering=null,this.pageHammer=null,this.pageHandler=null,this.$ui=null,this.eLayoutContainerTransitionStyle=null,this.doc=null,this.page=null,this.contentImageDataCache=null,this.pageContentTiles=null,this.stateHandler=null)},t.prototype.getSmartScale=function(e){return this.pdfViewer.getSmartScale(e)},t.prototype.getScale=function(){return this.scale},t.prototype.getRotation=function(){return this.rotate},t.prototype.getRectBitmap=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.rotate,r=this.page,i=["page"];this.docRender.noInteraction&&this.docRender.allCommentVisible&&(i=["page","annot"]);var a=this.docRender.getUserPermission(),s=a.checkAnnotForm()||a.checkFillForm();return s||a.checkModify()||i.push("form"),r.getPageBitmap(e,o,t,i,"view",n)},t.prototype.previewRectBitmap=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.rotate;return this.getRectBitmap(e,t,n,o).then((function(r){var i=document.createElement("canvas"),a=i.getContext("2d"),s=r.buffer,c=r.width,u=r.height,l=r.x,f=r.y,p=new(Uint8ClampedArray||Uint8Array)(s),d=a.createImageData(c,u);d.data.set(p),i.width=c+l,i.height=u+f,a.putImageData(d,0,0);var h={scale:e,rect:t,id:n,rotate:o,url:i.toDataURL()};return console.log(h),h}))},t.prototype.getContentImageDataByTile=function(e,t,n,o,r,a){return this.getRectBitmap((0,i.pt2px)(a),{x:t*r,y:e*r,width:n,height:o})},t.prototype.getAnnots=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.getPDFPage().then((function(t){return t.getAnnots(e)}))},t.prototype.getTextContinueRectAtDeviceRect=function(e){var t=this,n=void 0;return this.getPDFPage().then((function(o){return(n=o).reverseDeviceRect(e,t.scale,t.rotate)})).then((function(e){return n.getTextContinuousRectsAtRect(e)}))},t.prototype.getTextContinueRectAtDevicePoints=function(e,t,n,r){return Promise.all([this.getPDFPage(),this.reverseDevicePoint(e),this.reverseDevicePoint(t)]).then((function(e){var t=o(e,3),i=t[0],a=t[1],s=t[2];return i.getTextContinuousRectsAtPoints(a,s,8,n,r)}))},t.prototype.getTextContinuousCharAtDeviceRect=function(e){var t=this,n=void 0;return this.getPDFPage().then((function(o){return(n=o).reverseDeviceRect(e,t.scale,t.rotate)})).then((function(e){return n.getTextContinuousCharsAtRect(e)}))},t.prototype.reverseDeviceRect=function(e){var t=this;return this.getPDFPage().then((function(n){return n.reverseDeviceRect(e,t.scale,t.rotate)}))},t.prototype.reverseDevicePoint=function(e){var t=o(e,2),n=t[0],r=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rotate;return this.getPDFPage().then((function(e){return e.reverseDevicePoint([n,r],i,a)}))},t.prototype.transformRectArray=function(e,t){for(var n=[],o=this.scale,r=t.length;r--;){var i=t[r];n[r]=e.getDeviceRect(i,o,this.rotate)}return n},t.prototype.getClientPoint=function(e,t){var n=this.$ui[0].getBoundingClientRect();return[e-n.left,t-n.top]},t.prototype.redraw=function(e){return e&&(this.updateRenderFlags(7),this.annotsRender&&this.annotsRender.adjustHighlightsRender()),this.render()},t.prototype.redrawContent=function(e){var t,n=this;return(e?((t=n.pageContentTiles)&&t.clearCache(),n.contentImageDataCache?n.contentImageDataCache.clear():Promise.resolve()):Promise.resolve()).then((function(){return n.renderContentImage(n.scale,n.rotate)})).then((function(){return n.adjustHighlightAnnots()}))},t.prototype.getDevicePointFromEvent=function(e){var t=this.$ui.offset();return[e.pageX-t.left,e.pageY-t.top]},t.prototype.removeAnnotRenders=function(e){return this.annotsRender&&this.annotsRender.removeAnnotRenders(e)},t.prototype.redrawAnnotRenders=function(e){if("canvas"===this.pdfViewer.config.annotRenderingMode.highlight)return this.annotsRender.redrawAnnotRenders(e);for(var t=[],n=[],o=0,r=e.length;o<r;o++){var i=e[o];"highlight"===i.getType()?t.push(i):n.push(i)}return t.length&&this.renderContentImage(),this.annotsRender.redrawAnnotRenders(n)},t.prototype.movedAnnotRenders=function(e,t){return this.annotsRender.movedAnnotRenders(e,t)},t.prototype.addAnnotRenders=function(e){var t=this;if(!this.annotsRender)return this.annotsRenderDeferred.promise.then((function(){return t.addAnnotRenders(e)}));return[].length&&this.renderContentImage(),this.annotsRender.addAnnotRenders(e)},t.prototype.getPageAreaRenderer=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new h.default(this,e,t,n,o)},t.prototype.getSnapshot=function(e,t,n,o){var i=this.getPageAreaRenderer(n,o,1,!0);return i.setPosition(e+n/2,t+o/2),i.update().then((function(e){var t=(0,r.default)();return e.toBlob((function(e){return t.resolve(e)}),"image/png"),t.promise}))},t.prototype.unActiveAnnotRender=function(){try{this.annotsRender.unActiveAnnot()}catch(e){}},t.prototype.activeGraphicsObject=function(e){},t.prototype.addCustomRenders=function(e){this.customsRender.addCustomRenders(e)},t.prototype.removeCustomRenders=function(e){this.customsRender.removeCustomRenders(e)},t.prototype.updateCustomRenders=function(e){this.customsRender.updateCustomRenders(e)},t.prototype.setWatermarkConfig=function(e){this.watermarkConfig=e},t.prototype.getWatermarkConfig=function(){return this.watermarkConfig},t.prototype.endRender=function(){var e=this.renderSerialPromise;e&&e.end().catch(P);var t=this.annotsRender;t&&t.endRender()},t.prototype.invisibleRender=function(){this.endRender();var e=this.pageContentTiles;e&&e.invisibleRender();var t=this.annotsRender;t&&t.invisibleRender()},t.prototype.move=function(){},t.prototype.renderingFollowPromise=function(){},t.prototype.getContainerVisibleRect=function(){var e=this.docRender,t=this.$ui[0].getBoundingClientRect(),n=e.getContainerVisibleRect(),o=Math.max(t.left,n.left)-t.left,r=Math.min(t.right,n.right)-t.left,i=Math.max(t.top,n.top)-t.top,a=Math.min(t.bottom,n.bottom)-t.top;return{left:o,right:Math.max(o,r),top:i,bottom:Math.max(i,a)}},t.prototype.getPDFRectFromClientRect=function(e){var t=this.$ui[0].getBoundingClientRect(),n=e.left-t.left,o=e.top-t.top,r={left:n,top:o,right:n+e.width,bottom:o+e.height};return this.page.reverseDeviceRect(r,this.scale,this.rotate)},t.prototype.getPDFPointFromClientPoint=function(e,t,n){var o=this.$ui[0].getBoundingClientRect();return n?[e-o.left,t-o.top]:this.page.reverseDevicePoint([e-o.left,t-o.top],this.scale,this.rotate)},t.prototype.formatGridOptions=function(e){if(e){var t=e.unit,n=(0,b.getUnitByName)(t);if(n){var o=this.getScale(),r=n.convertTo(e.width*o,b.PIXEL_HORIZONTAL),i=n.convertTo(e.height*o,b.PIXEL_VERTICAL),a=n.convertTo(e.offsetLeft*o,b.PIXEL_HORIZONTAL),s=n.convertTo(e.offsetTop*o,b.PIXEL_VERTICAL),c=e.subdivisions;return{lineWidth:r,lineHeight:i,offsetLeft:a,offsetTop:s,subLineWidth:r/c,subLineHeight:i/c,maxWidth:this.getShowWidth(),maxHeight:this.getShowHeight()}}}},t.prototype.renderLayoutGrid=function(e,t,n,o,r,i,a){var s=this.pdfViewer.getLayoutGrid();if(s){var c=s.unit;if((0,b.getUnitByName)(c)){var u=s.color,l=u.match(/rgba?\((\d*),\s*(\d*),\s*(\d*),?\s*([\.0-9]*)?\)/)||[u,127,127,255],f=+l[1],p=+l[2],d=+l[3],h="rgba("+(f+.67*(255-f))+","+(p+.67*(255-p))+","+(d+.67*(255-d))+","+(+l[4]||1)+")",g=this.formatGridOptions(s),m=g.lineWidth,v=g.lineHeight,y=g.offsetLeft,w=g.offsetTop,_=g.subLineWidth,P=g.subLineHeight,O=Math.abs((t-o-y)%m-m)%m,E=Math.abs((n-r-w)%v-v)%v,x=Math.abs((t-o-y)%_-_)%_,C=Math.abs((n-r-w)%P-P)%P,A=o+i,S=r+a;for(o=Math.max(0,o),r=Math.max(0,r),e.beginPath(),e.strokeStyle=h,e.lineWidth=1;x<A;)x<o||(e.moveTo(x,r),e.lineTo(x,S)),x+=_;for(;C<S;)C<r||(e.moveTo(o,C),e.lineTo(A,C)),C+=P;for(e.stroke(),e.beginPath(),e.strokeStyle=u;O<A;)O<o||(e.moveTo(O,r),e.lineTo(O,S)),O+=m;for(;E<S;)E<r||(e.moveTo(o,E),e.lineTo(A,E)),E+=v;e.stroke()}}},t}(u.default);t.default=O},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(401)),r=a(n(4)),i=n(34);function a(e){return e&&e.__esModule?e:{default:e}}var s=[],c=function(){var e=(0,o.default)({isIE:i.isIE}),t=document.createElement("div");t.innerHTML=e;var n=t.firstElementChild;return t.removeChild(n),n}();var u=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$ui=(0,r.default)(t),this.pageRender=n,this.docRender=n.docRender,this.viewerRender=this.docRender.viewerRender,this.pdfViewer=this.viewerRender.pdfViewer}return e.prototype.rendering=function(){this.renderingDOM=(0===s.length&&s.push(c.cloneNode(!0)),s.pop()),this.$ui.append(this.renderingDOM)},e.prototype.rendered=function(){this.$ui.empty(),s.push(this.renderingDOM)},e.prototype.destroy=function(){this.renderingDOM&&(this.renderingDOM.parentElement&&this.renderingDOM.parentElement.removeChild(this.renderingDOM),s.push(this.renderingDOM)),this.$ui=null},e}();t.default=u},function(e,t,n){n(2);e.exports=function(e){"use strict";var t="";return t+='<div class="fv__rendering-container">\r\n    ',(e=e||{}).isIE?t+='\r\n    <ul class="fv__loading-animation">\r\n        <li></li>\r\n        <li></li>\r\n        <li></li>\r\n        <li></li>\r\n        <li></li>\r\n    </ul>\r\n    ':(t+='\r\n    <img class="fv__rendering-svg" ',t+='src="'+n(398)+'"',t+=">\r\n    "),t+="\r\n</div>"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.eCustom=t,this.pdfPageRender=n}return e.prototype.render=function(e,t){},e.prototype.destroy=function(){this.pdfPageRender=null,this.eCustom=null},e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebounceAsyncTaskExecutor=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=a(n(21)),i=a(n(40));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.DebounceAsyncTaskExecutor=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;s(this,e),this.interval=t,this.status=e.STATUS_IDLE,this.defer=(0,r.default)(),this.lastTaskPromise=null,this.cancelLast=i.default}return o(e,null,[{key:"STATUS_IDLE",get:function(){return"idle"}},{key:"STATUS_RUNNING",get:function(){return"running"}},{key:"STATUS_READY",get:function(){return"ready"}},{key:"STATUS_CANCELED",get:function(){return"canceled"}},{key:"STATUS_DESTROYED",get:function(){return"destroyed"}}]),e.prototype.exec=function(t,n,o){var i=this;if(this.status!==e.STATUS_DESTROYED){switch(this.status){case e.STATUS_IDLE:case e.STATUS_READY:this.cancelLast();var a=setTimeout((function(a){if(i.status!==e.STATUS_DESTROYED)if(i.status!==e.STATUS_CANCELED){i.status=e.STATUS_RUNNING;var s=i.defer,c=s.resolve,u=s.reject,l=function(){i.status=e.STATUS_IDLE,i.defer=(0,r.default)()};try{var f=t.apply(o,n||[]);f instanceof Promise?f.finally(l).then(c,u):(c(f),l())}catch(t){u(t),i.status=e.STATUS_IDLE}}else i.status=e.STATUS_IDLE}),this.interval);this.cancelLast=function(){clearTimeout(a)};break;case e.STATUS_RUNNING:var s=function(){switch(i.status){case e.STATUS_IDLE:i.status=e.STATUS_READY;break;case e.STATUS_CANCELED:return void(i.status=e.STATUS_IDLE);case e.STATUS_DESTROYED:return}return i.exec(t,n,o)};return this.lastTaskPromise=this.defer.promise.then(s,s)}return this.lastTaskPromise=this.defer.promise}},e.prototype.waitForLastTask=function(e){return this.lastTaskPromise||Promise.resolve(e)},e.prototype.cancel=function(){this.status=e.STATUS_CANCELED},e.prototype.destroy=function(){this.status=e.STATUS_DESTROYED},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if("TEXTAREA"===e.nodeName||"INPUT"===e.nodeName)return!0;switch(e.contentEditable){case!0:case"true":case"plaintext-only":return!0}return!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={success:0,file:1,format:2,password:3,handle:4,certificate:5,unknown:6,invalidLicense:7,param:8,unsupported:9,outOfMemory:10,securityHandler:11,notParsed:12,notFound:13,invalidType:14,conflict:15,unknownState:16,dataNotReady:17,invalidData:18,xFALoadError:19,notLoaded:20,invalidState:21,notCDRM:22,canNotConnectToServer:23,invalidUserToken:24,noRights:25,rightsExpired:26,deviceLimitation:27,canNotRemoveSecurityFromServer:28,canNotGetACL:29,canNotSetACL:30,isAlreadyCPDF:31,isAlreadyCDRM:32,canNotUploadDocInfo:33,canNotUploadCDRMInfo:34,invalidWrapper:35,canNotGetClientID:36,canNotGetUserToken:37,invalidACL:38,invalidClientID:39,OCREngineNotInit:40,diskFull:41,OCRTrialIsEnd:42,filePathNotExist:43,complianceEngineNotInit:44,complianceEngineInvalidUnlockCode:45,complianceEngineInitFailed:46,timeStampServerMgrNotInit:47,LTVVerifyModeNotSet:48,LTVRevocationCallbackNotSet:49,LTVCannotSwitchVersion:50,LTVCannotCheckDTS:51,LTVCannotLoadDSS:52,LTVCannotLoadDTS:53,needSigned:54,complianceResourceFile:55,timeStampServerMgrNoDefaltServer:56,defaultTimeStampServer:57,noConnectedPDFModuleRight:58,noXFAModuleRight:59,noRedactionModuleRight:60,noRMSModuleRight:61,noOCRModuleRight:62,noComparisonModuleRight:63,noComplianceModuleRight:64,noOptimizerModuleRight:65,noConversionModuleRight:66,collaborationSession:1400}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(72)),r=(i(n(71)),i(n(4)),n(22));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(n,o,i,s,c,u){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n)l=a(this,e.call(this,n,o,i,s,c,u));else var l=a(this,e.call(this,r.Action_Type.submitForm));return a(l)}return s(t,e),t.prototype.getFlags=function(){return this.info.flags},t.prototype.getURL=function(){return this.info.url},t.prototype.getFieldNames=function(){return this.info.fieldNames},t.prototype.checkOutData=function(e){return e&&e.fieldNames&&e.url},t.prototype.setData=function(e,t,n){this.info.flags=e,this.info.url=t,this.info.fieldNames=n},t}(o.default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(72)),r=(i(n(71)),n(22));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=function(e){function t(){if(a(this,t),0==arguments.length){var n=s(this,e.call(this,r.Action_Type.resetForm));return s(n)}var o=Array.prototype.slice.call(arguments),i=o[0],c=o[1],u=o[2],l=o[3],f=o[4],p=o[5];return s(this,e.call(this,i,c,u,l,f,p))}return c(t,e),t.prototype.getFlags=function(){return this.info.flags},t.prototype.getFieldNames=function(){return this.info.fieldNames},t.prototype.checkOutData=function(e){return e&&e.fieldNames},t.prototype.setFieldNames=function(e){var t=this;return this.doc?this.doc.api.setActionFieldNames(this.doc.getId(),this.info.objNumber,e).then((function(e){return t.updateAction(e),e})):(this.info.fieldNames=e,Promise.resolve())},t.prototype.setFlags=function(e){var t=this;if(!this.doc)return this.info.flags=e,Promise.resolve();if(0!==e&&1!==e)throw new Error("param error. Only 0 or 1 is available.");return this.doc.api.setActionFlags(this.doc.getId(),this.info.objNumber,e).then((function(e){return t.updateAction(e),e}))},t.prototype.exportToJson=function(){var t=e.prototype.exportToJson.call(this);return Object.assign(t,{fieldNames:this.getFieldNames(),flags:this.getFlags()})},t}(o.default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(72),i=(o=r)&&o.__esModule?o:{default:o},a=n(22);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(n,o,r,i,u,l){if(s(this,t),0==arguments.length){var f=c(this,e.call(this,a.Action_Type.hide));return c(f)}return c(this,e.call(this,n,o,r,i,u,l))}return u(t,e),t.prototype.getFieldNames=function(){return this.info.fieldNames},t.prototype.getHideState=function(){return this.info.hideState},t.prototype.setFieldNames=function(e){var t=this;return this.doc?this.doc.api.setActionFieldNames(this.doc.getId(),this.info.objNumber,e).then((function(e){return t.updateAction(e),e})):(this.info.fieldNames=e,Promise.resolve())},t.prototype.setHideState=function(e){var t=this;return this.doc?this.doc.api.setActionHideState(this.doc.getId(),this.info.objNumber,e).then((function(e){return t.updateAction(e),e})):(this.info.hideState=e,Promise.resolve())},t.prototype.checkOutData=function(e){return e&&e.fieldNames&&e.hideState},t.prototype.exportToJson=function(){var t=e.prototype.exportToJson.call(this);return Object.assign(t,{fieldNames:this.getFieldNames(),hideState:this.getHideState()})},t}(i.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(1)),r=n(12),i=s(n(38)),a=s(n(32));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.doc=t,this.field=n,this.info=o,this.changes={}}return e.prototype.getExportValue=function(){return this.info.exportValue},e.prototype.setExportValue=function(e){this.info.exportValue=e},e.prototype.updateProperty=function(e,t){return this.changes[e]=t,-1==this.info.objectNumber?Promise.resolve():this.doc.api.updateFormControl(this.doc.id,this.field.getName(),this.info.objectNumber,e,t)},e.prototype.getProperty=function(e){return this.changes[e]},e.prototype.destroy=function(){this.doc=null,this.info=null},e.prototype.isEmpty=function(){return this.changes==={}},e.prototype.setWidget=function(e){this.widget=e},e.prototype.getWidget=function(){return this.widget},e.prototype.getWidgetAnnot=function(){var e=this;return this.widget?Promise.resolve(this.widget):this.doc.api.getControlPageIndex(this.doc.id,this.field.getName(),this.info.objectNumber).then((function(t){return e.doc.getPageAnnots(t)})).then((function(t){return e.widget?e.widget:e.widget=t.find((function(t){return t.info.objectNumber==e.info.objectNumber}))}))},e.prototype.getIndex=function(){return this.info.index},e.prototype.getField=function(){return this.field},e.prototype.getDefaultAppearance=function(){var e=this.info&&this.info.DA;if(e&&Object.keys(e).length>0)return e=Object.assign({},this.info.DA);var t=this.getField();return Object.assign({},t.info&&t.info.DA)},e.prototype.setDefaultAppearance=function(e){var t=this;if(!this.doc.checkPermission(a.default.fillForm|a.default.annotForm))throw new Error("Permission error");var n=(e=Object.assign({},this.info.DA,e)).textColor,s=e.textSize;if("number"!=typeof n||"number"!=typeof s)throw new Error("param error. Only number is available.");n=(4278190080|n)>>>0,e.textColor=n,e.textSize=s;(0,r.colorConvertor)(n,"RGB");var c=JSON.stringify(e);return this.doc.api.updateFormControl(this.doc.id,this.field.getName(),this.info.objectNumber,"DA",c).then((function(){t.info.DA=e;var n=t.widget;if(n)return n.updateMKProperty("DA",e).then((function(r){var a=n.getPDFPage();t.doc.engine.eventEmitter.emit(o.default.annotationUpdated,[n],a,i.default.defaultAppearanceUpdated),n.updateUI({type:"DA",value:e})}))}))},e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(138),i=n(277);function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(){return s(this,t),c(this,e.apply(this,arguments))}return u(t,e),t.prototype.print=function(e,t){var n,o,i,s,c,u=e.map((function(e){return"string"!==e.type?" %o":" %c"+e.value})).join("").trim(),l=e.map((function(e){switch(e.type){case"string":return e.style;default:return e.value}}));switch(l.splice(0,0,u),t){case r.LEVEL_DEBUG:(n=console).debug.apply(n,a(l));break;case r.LEVEL_INFO:(o=console).info.apply(o,a(l));break;case r.LEVEL_WARN:(i=console).warn.apply(i,a(l));break;case r.LEVEL_ERROR:(s=console).error.apply(s,a(l));break;default:(c=console).log.apply(c,a(l))}},t}(((o=i)&&o.__esModule?o:{default:o}).default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(401)),r=a(n(4)),i=n(34);function a(e){return e&&e.__esModule?e:{default:e}}var s=(0,o.default)({isIE:i.isIE}),c=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$ui=(0,r.default)(t),this.docRender=n,this.viewerRender=n.viewerRender,this.pdfViewer=this.viewerRender.pdfViewer}return e.prototype.rendering=function(){this.$ui.html(s)},e.prototype.rendered=function(){this.$ui.empty()},e.prototype.destroy=function(){this.$ui=null},e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.eCustom=t,this.pdfDocRender=n,this.doc=n.doc}return e.prototype.render=function(e){},e.prototype.destroy=function(){this.pdfDocRender=null,this.doc=null},e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(32),i=(o=r)&&o.__esModule?o:{default:o};function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4294967292;a(this,e),this.permissions=t}return e.prototype.getValue=function(){return this.permissions},e.prototype.checkPrint=function(){return this.permissions&i.default.print},e.prototype.checkModify=function(){return this.permissions&i.default.modify},e.prototype.checkExtract=function(){return this.permissions&i.default.extract},e.prototype.checkAnnotForm=function(){return this.permissions&i.default.annotForm},e.prototype.checkFillForm=function(){return this.permissions&i.default.fillForm},e.prototype.checkExtractAccess=function(){return this.permissions&i.default.extractAccess},e.prototype.checkAssemble=function(){return this.permissions&i.default.assemble},e.prototype.checkPrintHigh=function(){return this.permissions&i.default.printHigh},e.prototype.checkCannotModifyAny=function(){return 0==(1323&this.permissions)},e.prototype.putCannotModifyAny=function(){return this.or(-1324)},e.prototype.checkCannotModifyExcludeAssemble=function(){return 0==(299&this.permissions)},e.prototype.putCannotModifyExcludeAssemble=function(){return this.or(-300)},e.prototype.and=function(e){return this.permissions=this.permissions&e,this},e.prototype.or=function(e){return this.permissions=this.permissions|e,this},e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=["Jan","Feb","Mar","Apr","May","Jun","Ju","Aug","Sep","Oct","Nov","Dec"],r=["January","February","March","April","May","June","July","August","September","October","November","December"];t.CFR_Utils=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.MakeFixed=function(e,t){return(Array(t).join("0")+e).slice(-t)},e.FormatDateTimeString=function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n,a=e.GetDate(t,i);n&&""!=n||(a=new Date),"Invalid Date"==a.toString()&&(a=new Date);for(var s="",c="",u=a.getFullYear(),l=a.getMonth()+1,f=a.getDate(),p=a.getHours(),d=a.getMinutes(),h=a.getSeconds(),g=0,m=0;g<n.length;){switch(c="",m=n[g]){case"y":case"m":case"d":case"H":case"h":case"M":case"s":case"t":if(n[g+1]!=m){switch(m){case"y":c+=m;break;case"m":c=l;break;case"d":c=f;break;case"H":c=p;break;case"h":c=p>12?p-12:p;break;case"M":c=d;break;case"s":c=h;break;case"t":c+=p>=12?"p":"a"}g++}else if(n[g+1]==m&&n[g+2]!=m){switch(m){case"y":c=this.MakeFixed(u-100*parseInt(u/100),2);break;case"m":c=this.MakeFixed(l,2);break;case"d":c=this.MakeFixed(f,2);break;case"H":c=this.MakeFixed(p,2);break;case"h":c=this.MakeFixed(p>12?p-12:p,2);break;case"M":c=this.MakeFixed(d,2);break;case"s":c=this.MakeFixed(h,2);break;case"t":c=p>=12?"pm":"am"}g+=2}else if(n[g+1]==m&&n[g+2]==m&&n[g+3]!=m)switch(m){case"m":g+=3,c+=o[l-1];break;default:g+=3,c+=m,c+=m,c+=m}else if(n[g+1]==m&&n[g+2]==m&&n[g+3]==m&&n[g+4]!=m)switch(m){case"y":c=u,g+=4;break;case"m":g+=4,c+=r[l-1];break;default:g+=4,c+=m,c+=m,c+=m,c+=m}else g++,c+=m;break;default:g++,c+=m}s+=c}return s},e.GetDate=function(e,t,n){t=(t=(t=t.replace("MM","ii")).replace("M","i")).toLowerCase();for(var i=new Date(e),a=new Date,s=a.getFullYear(),c=a.getMonth(),u=a.getDate(),l=0,f=0;f<t.length&&l<e.length;){switch(t[f]){case"y":for(var p="";"0"<=e[l]&&e[l]<="9";)p+=e[l],l++;for(;"y"==t[f];)f++;switch(p.length){case 2:p="20"+p}s=parseInt(p);break;case"m":var d="";if("A"<=e[l]&&e[l]<="Z")for(;l<e.length&&e[l].match(/[a-zA-Z]/);)d+=e[l],l++;else for(;"0"<=e[l]&&e[l]<="9";)d+=e[l],l++;for(;"m"==t[f];)f++;switch(d.length){case 1:case 2:c=parseInt(d)-1;break;case 3:c=o.indexOf(d);break;case 4:c=r.indexOf(d)}break;case"d":for(var h="";"0"<=e[l]&&e[l]<="9";)h+=e[l],l++;for(;"d"==t[f];)f++;u=parseInt(h);break;case"i":for(var g="";"0"<=e[l]&&e[l]<="9";)g+=e[l],l++;for(;"i"==t[f];)f++;a.setMinutes(parseInt(g));break;case"h":for(var m="";"0"<=e[l]&&e[l]<="9";)m+=e[l],l++;for(;"h"==t[f];)f++;a.setHours(parseInt(m));break;case"s":for(var v="";"0"<=e[l]&&e[l]<="9";)v+=e[l],l++;for(;"s"==t[f];)f++;a.setSeconds(parseInt(v));break;case"t":for(var y="";e[l]&&e[l].match(/[AaPpMm]/);)y+=e[l],l++;for(;"t"==t[f];)f++;if("pm"==y.toLowerCase()){var b=a.getHours();b<12&&(b+=12),a.setHours(b)}else{12==a.getHours()&&a.setHours(0)}break;default:l++,f++}}1==c&&29==u&&s%4!=0&&(s&=4294967292),a.setFullYear(s),a.setMonth(c),a.setDate(u);var w=new Date;return Math.abs(i.getFullYear()-w.getFullYear())<Math.abs(a.getFullYear()-w.getFullYear)||Math.abs(i.getMonth()-w.getMonth())<Math.abs(a.getMonth()-w.getMonth)||Math.abs(i.getDate()-w.getDate())<Math.abs(a.getDate()-w.getDate)?i:a},e.getMonth=function(e,t){switch(t){case"m":return e;case"F":return r[e];case"M":return o[e]}},e.switchFormat=function(e,t){return"toLib"==t?e.replace("yyyy","Y").replace("yy","y").replace("dd","d").replace("HH","H").replace("hh","h").replace("MM","i").replace("M","i").replace("mmmm","F").replace("mmm","M").replace("mm","m").replace("ss","S").replace("tt","K"):e.replace("Y","yyyy").replace("y","yy").replace("d","dd").replace("H","HH").replace("h","hh").replace("i","MM").replace("F","mmmm").replace("M","mmm").replace("m","mm").replace("S","ss").replace("K","tt")},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getShapeController=t.ACTION_TEXT=t.ACTION_POINT=t.ACTION_AREA=void 0;var o=n(416);Object.defineProperty(t,"ACTION_AREA",{enumerable:!0,get:function(){return o.ACTION_AREA}}),Object.defineProperty(t,"ACTION_POINT",{enumerable:!0,get:function(){return o.ACTION_POINT}}),Object.defineProperty(t,"ACTION_TEXT",{enumerable:!0,get:function(){return o.ACTION_TEXT}});var r=p(n(858)),i=p(n(40)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(152)),s=p(n(417)),c=n(43),u=p(n(4)),l=n(153),f=p(n(859));function p(e){return e&&e.__esModule?e:{default:e}}var d=a.T,h=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=new DOMParser;this.whole=n.parseFromString((0,r.default)({}),"text/html").body.firstChild,this.calloutController=this.ui=this.whole.querySelector(".fv__shape-control"),this.isMoveDisabled=!1,this.bindMovingEvent(),this.calloutShape=new s.default,this.emitter=t}return e.prototype.init=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.start,n=void 0===t?i.default:t,o=e.update,r=void 0===o?i.default:o,a=e.interceptor,s=void 0===a?d:a,c=e.moving,u=void 0===c?i.default:c,l=e.end,p=void 0===l?i.default:l,h=e.cancel,g=void 0===h?i.default:h,m=arguments[1];this.start=n,this.update=r,this.move=u,this.interceptor=s,this.end=p,this.cancel=g,this.annot=m,this.calloutShape.init(m,this.calloutController.querySelector(".fv__shape-control-previewer")),this.companionObject=new f.default(this)},e.prototype.getCompanionObject=function(){return this.companionObject},e.prototype.companion=function(e){"function"==typeof e.getCompanionObject&&this.companionObject.companion(e.getCompanionObject())},e.prototype.clearCompanions=function(){this.companionObject.clearCompanions()},e.prototype.getMargin=function(){return this.companionObject.companionMargin},e.prototype.active=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.annot.getBoundary(),n=arguments[2];e.append(this.calloutController),(0,u.default)(this.calloutController).css(t),this.box=n,this.adjustPointControl(),this.calloutController.style.display="block"},e.prototype.show=function(){(0,u.default)(this.calloutController).show()},e.prototype.hide=function(){(0,u.default)(this.calloutController).hide()},e.prototype.disable=function(){this.isDisabled=!0},e.prototype.enable=function(){this.isDisabled=!1},e.prototype.moveDisable=function(){this.isMoveDisabled=!0,this.calloutController.querySelector(".fv__shape-control-move-area").style.cursor="not-allowed"},e.prototype.moveEnable=function(){this.isMoveDisabled=!1,this.calloutController.querySelector(".fv__shape-control-move-area").style.cursor=""},e.prototype.deactive=function(){this.calloutController.style.display="none"},e.prototype.destroy=function(){this.calloutController.parentNode&&this.calloutController.parentNode.removeChild(this.calloutController)},e.prototype.bindMovingEvent=function(){var e=this;this._bindMoveAreaEvents(o.ACTION_AREA),this._bindMoveAreaEvents(o.ACTION_TEXT);var t=this.ui.querySelectorAll(".fv__shape-controller");Array.prototype.slice.call(t).forEach((function(t){return e._bindMovePointEvents(t)})),(0,l.attachContextMenuEvent)(this.calloutController,(function(t){e.annot.showContextMenu(t.clientX,t.clientY),t.preventDefault()}));this.ui},e.prototype._bindMoveAreaEvents=function(e){var t=this,n=this.ui,r=".fv__shape-control-move-area";e==o.ACTION_TEXT&&(r=".fv__shape-control-text-area");var i=new c.Manager(n.querySelector(r));i.add(new c.Pan({direction:c.DIRECTION_ALL}));var a=void 0,s=void 0;i.on("panstart",(function(n){var r=n.deltaX,i=n.deltaY,c=n.srcEvent,u=n.center;t.isDisabled||e==o.ACTION_AREA&&t.isMoveDisabled||(a=r,s=i,e===o.ACTION_AREA&&(t.onPrestart&&t.onPrestart(),t.companionObject.companions.forEach((function(e){e.doStart(),e.move(r,i,!0)}))),t.showShape(),t.start(e),e==o.ACTION_AREA&&t.trigger("movingstart",{deltaX:u.x+r,deltaY:u.y+i,srcEvent:c}))})),i.on("panend",(function(n){e==o.ACTION_AREA&&t.trigger("movingend"),t.isDisabled||e==o.ACTION_AREA&&t.isMoveDisabled||(e===o.ACTION_AREA&&t.companionObject.companions.forEach((function(e){e.end("move")})),t.calloutShape.hide(),t.end(e),e===o.ACTION_AREA&&t.onAfterEnd&&t.onAfterEnd("move"))})),i.on("pancancel",(function(n){e==o.ACTION_AREA&&t.trigger("movingcancel"),t.isDisabled||e==o.ACTION_AREA&&t.isMoveDisabled||(t.cancel(e),e===o.ACTION_AREA&&t.onAfterEnd&&t.onAfterEnd("move"))})),i.on("panmove",(function(n){var r=n.deltaX,i=n.deltaY;n.center,n.direction;if(!(t.isDisabled||e==o.ACTION_AREA&&t.isMoveDisabled)){var c=r-a,l=i-s,f=t.annot.getRect();t.move(e,-1,c,l).then((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(n){var r=t.annot.getRect();if(e===o.ACTION_AREA){var i=r.left-f.left,a=r.top-f.top;t.companionObject.companions.forEach((function(e){e.move(i,a)}))}(0,u.default)(t.calloutController).css(t.annot.getBoundary());var s=n.rect,c=n.innerRect,l=n.points;e==o.ACTION_TEXT&&t.adjustPointControl(l,s,c),t.showShape(l,s,c)}}))}}))},e.prototype._bindMovePointEvents=function(e){var t=this,n=new c.Manager(e),r=void 0,i=void 0;n.add(new c.Pan({direction:c.DIRECTION_ALL})),n.on("panmove",(function(n){var a=n.deltaX,s=n.deltaY;n.center,n.direction,n.target;if(!t.isDisabled){var c=a-r,l=s-i;return t.move(o.ACTION_POINT,e.classList[2],c,l).then((function(e){if(e){(0,u.default)(t.calloutController).css(t.annot.getBoundary());var n=e.rect,o=e.innerRect,r=e.points;t.adjustPointControl(r,n,o),t.showShape(r,n,o)}})),!1}})),n.on("panstart",(function(e){var n=e.deltaX,a=e.deltaY;e.center;if(!t.isDisabled)return r=n,i=a,t.showShape(),t.start(o.ACTION_POINT),!1})),n.on("pancancel",(function(e){if(!t.isDisabled)return t.cancel(o.ACTION_POINT),!1})),n.on("panend",(function(e){if(!t.isDisabled)return t.calloutShape.hide(),t.end(o.ACTION_POINT),!1}))},e.prototype.showShape=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot.getCalloutPointers(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.annot.getRect(),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.annot.getInnerBoundary();this.calloutShape.show(e,t,n)},e.prototype.adjustPointControl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot.getCalloutPointers(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.annot.getRect(),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.annot.getInnerBoundary(),o=this.ui,r={left:n.left-t.left,top:n.top-t.top,width:n.width,height:n.height},i=o.querySelector(".fv__shape-control-text-area");(0,u.default)(i).css(r);var a=o.querySelector(".fv__shape-control-inner-area");if((0,u.default)(a).css(r),e.length>1){var s=o.querySelector(".fv__shape-controller.calloutStart");(0,u.default)(s).css({display:"block",left:e[0][0]-t.left-4,top:e[0][1]-t.top-4}),s=o.querySelector(".fv__shape-controller.calloutKnee"),(0,u.default)(s).css({display:"block",left:e[1][0]-t.left-4,top:e[1][1]-t.top-4})}else{var c=o.querySelector(".fv__shape-controller.calloutStart");(0,u.default)(c).css({display:"none"}),c=o.querySelector(".fv__shape-controller.calloutKnee"),(0,u.default)(c).css({display:"none"})}},e.prototype.trigger=function(e,t){var n=this.emitter;n&&n.emit(e,t)},e.prototype.setSnapGrid=function(e){this.snapGrid=e},e}(),g=void 0;t.getShapeController=function(e){return g?(e&&(g.emitter=e),g):g=new h(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ACTION_POINT="resize",t.ACTION_AREA="area",t.ACTION_TEXT="text"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(4),i=(o=r)&&o.__esModule?o:{default:o};var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.init=function(e,t){this.calloutRender=e,this.$ui=(0,i.default)(t),this.$ui.hide()},e.prototype.draw=function(e,t,n){var o=this.$ui[0];o.width=t.right-t.left,o.height=t.bottom-t.top;var r=o.getContext("2d");r.save(),r.clearRect(0,0,this.$ui.width(),this.$ui.height()),r.beginPath(),e.length>1&&(r.moveTo(e[0][0]-t.left,e[0][1]-t.top),r.lineTo(e[1][0]-t.left,e[1][1]-t.top)),e.length>2&&r.lineTo(e[2][0]-t.left,e[2][1]-t.top),r.strokeStyle="#5aa",r.lineWidth=2,r.stroke(),r.save();var i=n.width||n.right-n.left,a=n.height||Math.abs(n.top-n.bottom);r.rect(n.left-t.left,n.top-t.top,i,a),r.fillStyle="rgba(88, 176, 176, 0.5)",r.stroke(),r.fillRect(n.left-t.left,n.top-t.top,i,a),r.restore()},e.prototype.show=function(e,t,n){e&&this.draw(e,t,n),this.$ui.show()},e.prototype.hide=function(){this.$ui&&this.$ui.hide()},e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalUserChoiceColor=void 0;var o=i(n(4)),r=i(n(3));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var s=[{background:"#ffffff",foreground:"#000000"},{background:"#faf9de",foreground:"#1f1f00"},{background:"#fff2e2",foreground:"#381f00"},{background:"#dce2f1",foreground:"#232a3c"},{background:"#3b3537",foreground:"#b0afac"},{background:"#333333",foreground:"#838383",type:"moon"}],c=function(e){for(var t in delete(e=JSON.parse(JSON.stringify(e))).type,e)e.hasOwnProperty(t)&&(e[t]=Number(e[t].replace("#","0xff")));return e},u=(t.getLocalUserChoiceColor=function(){var e={background:null,foreground:null},t=localStorage.getItem("change-color-user-choice");return t&&s[Number(t)]&&(e=c(s[Number(t)])),e},function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.data.colors=s,o}return a(t,e),t.getName=function(){return"ChangeColorController"},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this),this.$list=(0,o.default)(this.component.getComponentByName("change-color-dropdown-list").element),this.$colorRounds=this.$list.find(".fv__ui-change-color-dropdown-color-round"),this.$colorRounds.on("click",(function(e){var n=(0,o.default)(e.target),r=n.hasClass("active");t.$colorRounds.removeClass("active"),!r&&n.addClass("active"),t.component.getPDFUI().getPDFViewer().then((function(e){var t={background:null,foreground:null};r||(t=c(s[n.index()])),e.setDocReadColors(t)})),r?localStorage.removeItem("change-color-user-choice"):localStorage.setItem("change-color-user-choice",n.index())})).on("mouseup",(function(e){return e.stopPropagation()}));var n=localStorage.getItem("change-color-user-choice");n&&this.$colorRounds.eq(Number(n)).addClass("active")},t}(r.default));t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(860);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o));return r.preValue=n[o],r}return i(t,e),t.prototype.prepare=function(){var e=this.subject,t=this.part,n=Object.getOwnPropertyDescriptor(e,t);!n||n.configurable?this.inteceptGetterSetter(e,n):this.prepareTimmerWatcher(e)},t.prototype.inteceptGetterSetter=function(e,t){var n=this.part,o=e[n],r=this,i=this.hasOwnKey=!!t,a={get:function(){return i?o:Object.getPrototypeOf(e)[n]},set:function(e){i=!0;var t=o;o=e,e!==t&&r.notify(e,t)},configurable:!0};Object.defineProperty(e,n,a),t?this.addDestroyHook((function(){Object.defineProperty(e,n,t)})):this.addDestroyHook((function(){delete e[n]}))},t.prototype.prepareTimmerWatcher=function(e){var t=this,n=e[key],o=setInterval((function(){var o=e[key];o!==n&&t.notify(key,o,n)}),5);this.addDestroyHook((function(e){return clearInterval(o)}))},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=a},function(e,t,n){"use strict";n.r(t);var o,r=n(13),i=n.n(r),a=n(164),s=n.n(a),c=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),u=function(e){function t(t){var n=e.call(this)||this;return n.pipeExprs=t,n.pipeFunctions=[],n.init(),n}return c(t,e),t.prototype.init=function(){this.pipeFunctions=this.pipeExprs.map((function(e){var t=s()("pipe_function");-1===e.indexOf("(")&&(e+="()");var o,r=e.indexOf("("),i=e.lastIndexOf(")"),a=e.slice(0,r),c=n(6).default,u="",l=a.indexOf(":");l>-1?(o=a.slice(l+1),u=a.slice(0,l)):o=a;var f=e.slice(r+1,i).trim(),p=t+".call($controller"+(f.length>0?","+f:"")+")";return function(n,r){var i,a=c._nostrictModule(u);if(!a)return n;var s=a.getPipe(o);if(!s)return n;var l=r.eval(p,((i={})[t]=s,i));if("function"!=typeof l)throw new Error(e+" must returning a pipe function, but actual: "+l);return l.call(r,n)}}))},t.prototype.transform=function(e,t){return this.pipeFunctions.reduce((function(e,n){return e instanceof Promise?e.then((function(e){return n(e,t)})):n(e,t)}),e)},t}(i.a);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){throw new Error("Unsupported operation!")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(56));function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.prototype.render=function(){(0,o.default)()},t}(r(n(13)).default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUIXNamespace=i,t.getUIXNodeName=a,t.getUIXAttribute=s;var o=n(8);function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e){var t=e.nodeName.toLowerCase(),n=t.indexOf(o.NAMESPACE_SEPERATOR);return n>-1?t.substring(0,n):o.ROOT_MODULE_NAME}function a(e){var t=e.nodeName.toLowerCase(),n=t.indexOf(o.NAMESPACE_SEPERATOR);return t.substring(n+1)}function s(e,t){var n=e.getUIXNamespace();return n===o.ROOT_MODULE_NAME||0===n.length?e.getAttribute(t):e.getAttribute(""+n+o.NAMESPACE_SEPERATOR+t)}HTMLElement.prototype.remove||(HTMLElement.prototype.remove=function(){this.parentElement&&this.parentElement.removeChild(this)}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}),HTMLElement.prototype.getUIXNamespace=function(){return i(this)},HTMLElement.prototype.getUIXNodeName=function(){return a(this)},HTMLElement.prototype.getUIXAttribute=function(e){return s(this,e)},HTMLElement.prototype.addClass=function(e){var t;"string"==typeof e&&(t=this.classList).add.apply(t,r(e.split(" ")))},HTMLElement.prototype.removeClass=function(e){var t;"string"==typeof e&&(t=this.classList).remove.apply(t,r(e.split(" ")))},HTMLElement.prototype.clear=function(){for(var e=Array.prototype.slice.call(this.childNodes,0),t=e.length,n=0;n<t;n++){var o=e[n];this.removeChild(o)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(865)),r=i(n(17));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=this._resolveMetadata(t);this.optionsResolver=new o.default(n.options)}return e.prototype._resolveMetadata=function(e){if(e===r.default)return r.default.getMetadata();var t=Object.getPrototypeOf(e.prototype).constructor,n=this._resolveMetadata(t),o=e.getMetadata();return{options:Object.assign({},n.options,o.options)}},e.prototype.resolve=function(e){this.optionsResolver.resolve(e)},e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="[\\x20\\t\\r\\n\\f]",r="(?:\\\\.|[\\w-]|[^\0-\\xa0])+";t.rWhitespace=new RegExp("^"+o+"+"),t.rDirectlyChildren=new RegExp("^"+o+"*(\\>)"+o+"*"),t.rType=new RegExp("^@(("+r+"):)?("+r+")"),t.rName=new RegExp("^"+r+"(:"+r+")?"),t.rAttribute=new RegExp("^\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\0-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\0-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\]"),t.rMethods=new RegExp("^::((?:\\\\.|[\\w-]|[^\0-\\xa0])+)(?:\\(([^\\(\\)]*?)\\))"),t.rTrim=new RegExp("^"+o+"+|((?:^|[^\\\\])|(?:\\\\.)*)"+o+"+$","g"),t.rRoot=new RegExp("^!root")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(101)),r=a(n(45)),i=a(n(17));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){return!0},f=function(e){function t(){return s(this,t),c(this,e.apply(this,arguments))}return u(t,e),t.prototype.selectFrom=function(e){return e.reduce((function(e,t){return t instanceof i.default&&t.isContainer()||t instanceof r.default?e.concat(t.findChildren(l,!1)):e}),[]).reduce((function(e,t){return-1==e.indexOf(t)&&e.push(t),e}),[])},t}(o.default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(56));function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.extend=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.name,o=e.props,r={};for(var c in o){if(!/^\w+$/.test(c))throw new Error("Unsupported vue component: unexpected property name: "+c);var u=o[c],l=void 0;switch(u.type){case String:l="string";break;case Number:l="number";break;case Boolean:l="boolean";break;default:l="any"}r[c]={type:l}}var f=function(t){function c(){return i(this,c),a(this,t.apply(this,arguments))}return s(c,t),c.getName=function(){return n},c.getMetadata=function(){return{options:r}},c.getVueComponentRef=function(){return e},c.prototype.sync=function(e,n){switch(e){case"pdfui":case"pdfviewer":case"pdfViewer":return!0}return e in o?(this.instance[e]=n,!0):t.prototype.sync.call(this,e,n)},c}(t);return f},t.getVueComponentRef=function(){(0,o.default)("VueComponent::getVueComponentRef")},t.prototype.setPDFUIInstance=function(t){var n=this,o=t.Vue;if(!o)throw new Error("The Vue is not correct as an initialization parameter to the PDFUI instance.");e.prototype.setPDFUIInstance.call(this,t);var r=this.constructor.getVueComponentRef(),i=o.extend(r);this.instancePromise=t.getPDFViewer().then((function(e){if(!n.isDestroyed)return n.instance=new i({propsData:{pdfui:t,pdfViewer:e,pdfviewer:e}})}))},t.prototype.createDOMElement=function(){return document.createComment(this.nodeName)},t.prototype.prelink=function(){var t=this;e.prototype.prelink.call(this),this.execVueComponent((function(e){t.execMethod(e,"prelink"),e.$emit("foxit:prelink")}))},t.prototype.postlink=function(){var t=this;e.prototype.postlink.call(this),this.execVueComponent((function(e){t.execMethod(e,"postlink"),e.$emit("foxit:postlink")}))},t.prototype.doEnable=function(){var e=this;this.execVueComponent((function(t){e.execMethod(t,"enable"),t.$emit("foxit:enable")}))},t.prototype.doDisable=function(){var e=this;this.execVueComponent((function(t){e.execMethod(t,"disable"),t.$emit("foxit:disable")}))},t.prototype.doActive=function(){var e=this;this.execVueComponent((function(t){e.execMethod(t,"active"),t.$emit("foxit:active")}))},t.prototype.doDeactive=function(){var e=this;this.execVueComponent((function(t){e.execMethod(t,"deactive"),t.$emit("foxit:deactive")}))},t.prototype.doShown=function(){var e=this;this.execVueComponent((function(t){var n=t.$el;n&&n.classList&&n.classList.remove("fv__ui-hide"),e.execMethod(t,"shown"),t.$emit("foxit:shown")}))},t.prototype.doHidden=function(){var e=this;this.execVueComponent((function(t){var n=t.$el;n&&n.classList&&n.classList.add("fv__ui-hide"),e.execMethod(t,"hidden"),t.$emit("foxit:hidden")}))},t.prototype.addCSSClass=function(e){e&&this.execVueComponent((function(t){var n=t.$el;n&&n.classList&&n.classList.add(e)}))},t.prototype.removeCSSClass=function(e){e&&this.execVueComponent((function(t){var n=t.$el;n&&n.classList&&n.classList.remove(e)}))},t.prototype.prerender=function(){},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this),this.execVueComponent((function(e){e.$mount(),t.parent.rerenderChildren()}))},t.prototype.localize=function(){var e=this.localizer.getLanguage();this.execVueComponent((function(t){t.$emit("uix:localize",e)}))},t.prototype.getRenderingElements=function(){var e=[this.element];return this.instance&&this.instance.$el&&e.push(this.instance.$el),e},t.prototype.doDestroy=function(){e.prototype.doDestroy.call(this),this.instance&&(this.execMethod(this.instance,"destroy"),this.instance.$destroy(),this.instance=null,this.instancePromise=null)},t.prototype.execMethod=function(e,t){var n=e.$options.foxit;if(n){var o=n[t];"function"==typeof o&&o.call(e,this)}},t.prototype.execVueComponent=function(e){var t=this;this.instance?e(this.instance):this.instancePromise.then((function(n){!t.isDestroyed&&n&&e(n)}))},t}(r(n(17)).default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(21),i=(o=r)&&o.__esModule?o:{default:o};var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pdfViewer=t}return e.prototype.getPassword=function(){var e=this,t=(0,i.default)();return setTimeout((function(){var n=prompt(e.pdfViewer.i18n.t("viewer_:tip.inputPassword"),"");if(null===n)return t.reject(new Error("User has been cancelled the prompt dialog"));t.resolve(n)}),0),t.promise},e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(285)),r=a(n(4)),i=(a(n(1)),a(n(53)));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n))}return s(t,e),t.getName=function(){return"continuous-view-mode"},t.prototype.into=function(n,o){e.prototype.into.call(this,n,o),this.docRender.$container.addClass(t.getName())},t.prototype.getDocLayoutWidth=function(){var e=this.docRender.doc.pageCache,t=0;return e.forEach((function(e){t=Math.max(e.getPxWidth(),t)})),t},t.prototype.getFitHeight=function(e){var t=this.docRender.viewerRender.scrollWrap;return t.getHeight()-t.getScrollOffsetTop()},t.prototype.getFitWidth=function(e){var t=this.docRender.viewerRender.scrollWrap;return t.getWidth()-t.getScrollOffsetLeft()},t.prototype.jumpToPage=function(e,t){var n=t.x,o=void 0===n?0:n,i=t.y,a=void 0===i?0:i,s=this.getItems();e>=s.length?e=s.length-1:e<0&&(e=0);var c=s[e],u=c.offsetLeft+o,l=c.offsetTop+a+parseInt((0,r.default)(c).css("margin-top"));this.docRender.viewerRender.scrollWrap.scrollTo(u,l)},t.prototype.getVisibleIndexes=function(){var e=this.docRender.viewerRender.scrollWrap,t=e.getScrollTop()-e.getScrollOffsetTop()-20,n=e.getHeight(),o=t+n+20,r=[];return this.getItems().forEach((function(e,n){var i=e.offsetTop,a=e.offsetHeight+i;t<a&&o>i&&r.push(n)})),r},t.prototype.out=function(){this.docRender.$container.removeClass(t.getName()),this._unwatchScrollEvent&&this._unwatchScrollEvent(),e.prototype.out.call(this)},t.prototype.getCurrentPageIndex=function(){var e=this.getItems(),t=this.docRender.viewerRender.scrollWrap.getScrollHost(),n=void 0;n=t===window?{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}:t.getBoundingClientRect();for(var o=0,r=0,a=0;a<e.length;a++){var s=e[a].firstElementChild.getBoundingClientRect(),c=i.default.isOverlap(n,s);c>o&&(o=c,r=a)}return r},t.prototype.getNextPageIndex=function(){var e=this.docRender.doc.getPageCount(),t=this.getCurrentPageIndex();return t<e-1&&t++,t},t.prototype.getPrevPageIndex=function(){var e=this.getCurrentPageIndex();return e>0&&e--,e},t}(o.default);t.default=c},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";e=e||{};var t="",r=o.$escape,i=function(e){return t+=e};return e.length&&(t+='\r\n<label class="fv__label-block-text">',t+=r(o.i18n("viewer_:dialog.replies")),t+="</label>\r\n",i(n(431)(e)),t+="\r\n"),t}},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";e=e||{};var t="",r=o.$each,i=(e.$value,e.$index,function(e){return t+=e});return e.length&&(t+='\r\n<ul class="fv__replies_list">\r\n    ',r(e,(function(e,o){t+="\r\n    ",i(n(432)(e)),t+="\r\n    "})),t+="\r\n</ul>\r\n"),t}},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";e=e||{};var t="",r=o.$escape,i=function(e){return t+=e};return t+='<li class="fv__replies_item"><span class="fv__replies_content">',t+=r(e.content),t+="</span>\r\n    ",i(n(431)(e.replies)),t+="\r\n</li>"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(157)),r=a(n(896)),i=a(n(344));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(n,o,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r,i));return a.name="highlight",a.$ui.addClass("fv__pdf-page-highlight-annot-container"),a.$handler.addClass("fv__pdf-page-highlight-annot-handler-container"),a}return s(t,e),t.prototype.generateApRenderer=function(){return this.checkRenderingModeIs("canvas")?new i.default(this):new r.default(this)},t.prototype.onShapeUpdating=function(t){if(this.checkRenderingModeIs("canvas"))return e.prototype.onShapeUpdating.call(this,t)},t.prototype.onShapeMoving=function(t){if(this.checkRenderingModeIs("canvas"))return e.prototype.onShapeMoving.call(this,t)},t.prototype.updateRender=function(){return this.redraw()},t.prototype.checkRenderingModeIs=function(e){return this.pdfViewer.config.annotRenderingMode.highlight===e},t.prototype.getRenderingData=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,o=e.prototype.getRenderingData.call(this,t,n);return Object.assign(o,{isArea:this.annot.isArea()})},t}(o.default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(157)),r=i(n(898));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var s=function(e){function t(n,o,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r,i));return a.name="Underline",a.$ui.addClass("fv__pdf-page-Underline-annot-container"),a.$handler.addClass("fv__pdf-page-Underline-annot-handler-container"),a}return a(t,e),t.prototype.generateApRenderer=function(){return this.checkRenderingModeIs("canvas")?new r.default(this):e.prototype.generateApRenderer.call(this)},t.prototype.checkRenderingModeIs=function(e){return this.pdfViewer.config.annotRenderingMode.underline===e},t}(o.default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(157)),r=i(n(899));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var s=function(e){function t(n,o,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r,i));return a.name="strikeout",a.$ui.addClass("fv__pdf-page-squiggly-annot-container"),a.$handler.addClass("fv__pdf-page-squiggly-annot-handler-container"),a}return a(t,e),t.prototype.generateApRenderer=function(){return this.checkRenderingModeIs("canvas")?new r.default(this):e.prototype.generateApRenderer.call(this)},t.prototype.checkRenderingModeIs=function(e){return this.pdfViewer.config.annotRenderingMode.squiggly===e},t}(o.default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DashedPathGenerator=t.DashedPathSegment=t.DashedPath=void 0;var o,r=n(290),i=n(83);(o=i)&&o.__esModule;function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=t.DashedPath=function(e){function t(){return a(this,t),s(this,e.apply(this,arguments))}return c(t,e),t.prototype.render=function(e){try{e.save(),e.beginPath(),this.segments.filter((function(e){return e.isOn})).forEach((function(t){t.render(e)})),e.closePath()}finally{e.restore()}},t}(r.Path),l=t.DashedPathSegment=function(e){function t(n,o){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];a(this,t);var i=s(this,e.call(this,n,o));return i.isOn=r,i}return c(t,e),t.prototype.render=function(e){this.isOn&&(e.moveTo(this.from.x,this.from.y),e.lineTo(this.to.x,this.to.y))},t}(r.PathSegment);t.DashedPathGenerator=function(e){function t(n,o){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];a(this,t);var c=s(this,e.call(this));return c.contour=n,c.dashes=o,c.phase=r,c.continuous=i,c.dashSum=o.reduce((function(e,t){return e+t}),0),c}return c(t,e),t.prototype.generate=function(){var e=this,t=new u;if(0==this.dashes.length)this.contour.reduce((function(e,n){t.addSegment(new l(e,n))}));else{var n=this.phase<this.dashSum?this.phase:this.phase%this.dashSum,o=0,r=0,i=!0;n>0&&this.dashes.reduce((function(e,t,a){var s=e+t;return s>n&&(r=s-n,o=a,i=a%2==0),s}),0);var a=function(){return(o+1)%e.dashes.length};this.contour.reduce((function(s,c){var u=s.distanceTo(c),f=s;for(r>0&&(t.addSegment(new l(f,f=f.move(r,c),i)),i=!i,u-=r,o=a());;){var p=e.dashes[o];if(!(u>=p)){t.addSegment(new l(f,c,i)),e.continuous?(r=p-u,u=0):(r=n,o=0,i=!0);break}t.addSegment(new l(f,f=f.move(p,c),i)),u-=p,o=a(),i=!i}return c}))}return t},t}(r.PathGenerator)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=b(n(82)),i=(b(n(117)),n(33)),a=b(n(4)),s=b(n(2)),c=b(n(64)),u=n(902),l=b(n(177)),f=b(n(1)),p=n(12),d=b(n(40)),h=b(n(292)),g=n(24),m=b(n(54)),v=b(n(905)),y=n(14);function b(e){return e&&e.__esModule?e:{default:e}}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var _=u.defaultAnnotComponentKey,P=(0,u.getLinkContextMenu)(".fv__pdf-page-annot-handler-rect"),O=void 0,E=function(e){function t(n,o,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r,i));m.default.property(a,"shapeControl",(function(){var e=new c.default({emitter:a.pdfViewer.eventEmitter,start:function(e,t,n){return a.onStartUpdateShape(e,t,n)},update:function(e,t){return a.onShapeUpdating(e,t)},moving:function(e,t){return a.onShapeMoving(e,t)},end:function(e,t,n){return a.onShapeUpdateEnd(e,t,n)},resizable:!0,enableDiagonally:!0});return a.moveDisabled()&&e.disable(),a.addDestroyHook((function(){e.destroy()})),e})),a.apRenderer=a.generateApRenderer(),a.name="link",a.highlightModeIsActive=!1,a.$ui.addClass("pdf-page-link-annot-container"),a.$handler.addClass("pdf-page-link-annot-handler-container");var u=a.pdfViewer.i18n;s.default.i18n=function(e){return u.t(e)};var l=y.isTouchDevice?"touchstart":"mousedown";return a.$ui.on(l,(function(e){a.highlightModeIsActive=!0,a.render();var t=y.isTouchDevice?"touchend":"mouseup";window.addEventListener(t,(function(){a.highlightModeIsActive=!1,a.render()}),{capture:!0,once:!0})})),a}return w(t,e),t.getDefaultContextMenuConfig=function(){return P},t.setContextMenuConfig=function(e){O=e},t.prototype.actionsDisabled=function(){return!(32&this.docRender.getUserPermission().getValue())},t.prototype.onStartUpdateShape=function(e,t,n){},t.prototype.onShapeUpdating=function(e){e.width<1||e.height<1||this.setRect(e)},t.prototype.onShapeMoving=function(e,t){this.$ui.css({left:e.left,top:e.top})},t.prototype.onShapeUpdateEnd=function(e,t,n){switch(n){case c.default.ACTION_MOVE:return this.moveTo(e.left,e.top,n);case c.default.ACTION_RESIZE:return e.width<1||e.height<1?Promise.resolve():this.setRect(e)}},t.prototype.getTileConfig=function(e,t){var n=this.pdfViewer,o=n.getSmartScale(e),r=n.config.tileSize,i=this.annot,a=i.getDeviceRect(1,t),s=i.getDeviceRect(o,t),c=s.right-s.left,u=s.bottom-s.top;return[Math.ceil(u/r),Math.ceil(c/r),c,u,r,o,e,t,a.left,a.top]},t.prototype.generateApRenderer=function(){return new v.default(this)},t.prototype.render=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,n=this.annot;return this.scale=e,this.rotate=t,n.isEmpty()||n.isDeleted()||n.rectIsEmpty()?(this.renderDestroy(),Promise.resolve()):this.apRenderer.render(e,t,this.visibleRect)},t.prototype.movedByOther=function(){this.isActive&&(this.activeRect(),this.shapeControl.updateBoundary(this.getBoundary()))},t.prototype.doAction=function(){this.pdfViewer.actionManager.get(this.annot.action,this).active()},t.prototype.afterRender=function(e){if(e.transformed&&this.isActive){this.activeRect();var t=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),t)}},t.prototype._getShapeControllerBoundaryBox=function(){var e=this.getPDFPage(),t=(0,i.getWHByMatrix)(e.getPxWidth(),e.getPxHeight(),this.scale,this.rotate),n=o(t,2);return{left:0,top:0,right:n[0],bottom:n[1]}},t.prototype.activeMore=function(e,t){},t.prototype.activeMoreItem=function(){},t.prototype.unActive=function(){e.prototype.unActive.call(this),this.$handler.removeClass("active"),this.shapeControl.deactive()},t.prototype.unActiveMore=function(){},t.prototype.renderDestroy=function(){this.tileCanvas&&this.tileCanvas.destroy(),this.$handler.remove()},t.prototype.updateBorderProperty=function(){},t.prototype.getPropertyOptions=function(){var e=this.annot;return{color:(0,p.colorConvertor)(e.getBorderColor(),"#"),borderWidth:e.getBorderWidth(),highlightingMode:e.getHighlightingMode(),actionType:this.$action&&this.$action.getType(),disabled:this.propertyDisabled(),minBorderWidth:0}},t.prototype.showPropertiesDialog=function(){this.$propertiesControl=new l.default(this,document.body),this.updateDeleteStatus(!0)},t.prototype.hidePropertiesDialog=function(){this.$propertiesControl&&this.$propertiesControl.close(),this.updateDeleteStatus(!1)},t.prototype.showActionsDialog=function(){this.$actionsControl=new h.default(this,document.body,this.annot.action),this.updateDeleteStatus(!0)},t.prototype.hideActionsDialog=function(){this.$actionsControl.close(),this.updateDeleteStatus(!1)},t.prototype.setColor=function(e){var t=this;return this.annot.setBorderColor(e).then((function(e){return e?t.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(f.default.updateActionAnnotation,t),e})):e}))},t.prototype.setBorderWidth=function(e){var t=this;return this.annot.setBorderWidth(e).then((function(e){return e?t.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(f.default.updateActionAnnotation,t),e})):e}))},t.prototype.setBorderStyle=function(e,t){var n=this;return this.annot.setBorderStyle(e,t).then((function(){return n.updateRender().then((function(){n.pdfViewer.eventEmitter.emit(f.default.updateActionAnnotation,n)}))}))},t.prototype.setHighlightingMode=function(e){var t=this;return this.annot.setHighlightingMode(e).then((function(e){return e?t.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(f.default.updateActionAnnotation,t),e})):e}))},t.prototype.redraw=function(){return this.activeRect(),this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),this.render()},t.prototype.updateRender=function(){return Promise.resolve()},t.prototype.destroy=function(){this.$propertiesControl=null,this.contextMenu&&this.contextMenu.destroy(),e.prototype.destroy.call(this)},t.prototype.showContextMenu=function(e,t){this.contextMenu&&(this.contextMenu.setCurrentTarget(this),this.contextMenu.showAt(e,t))},t.prototype.removeAnnot=function(){var e=this;return this.getAppPermission().then((function(t){return t.ignorable()&&e.deleteDisabled()?Promise.resolve():t.isDeletable()?e.doRemoveAnnot():void 0})).then((function(t){var n=e.pdfViewer.getCurrentActivatable();return n&&n.remove&&n.remove(e),t}))},t.prototype.doRemoveAnnot=function(){var e=this,t=this.pdfViewer,n=t.eventEmitter,o=this.annot;return Promise.resolve((t.customs.removeAnnotBefore||d.default)(this)).then((function(t){if(n.emit(f.default.removeActionAnnotationBefore,e),!1!==t)return o.getPDFPage().removeAnnot(o).then((function(t){if(t)return n.emit(f.default.removeActionAnnotationSuccess,e);n.emit(f.default.removeActionAnnotationFailed,e)}),(function(){n.emit(f.default.removeActionAnnotationFailed,e)}))}))},t.prototype.removeAnnotRender=function(){this.renderDestroy(),this.parent().remove()},t.prototype.activeRect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot,t=this.$rect=this.$rect||this.rectInit(),n=this.scale,o=this.rotate,r=e.getDeviceRect(n,o);t.css({left:r.left+"px",top:r.top+"px",width:r.right-r.left+"px",height:r.bottom-r.top+"px"})},t.prototype.rectInit=function(){var e=this.$handler,t=(0,a.default)(this.createRectDom());e.append(t);var n=t[0],o=this.rectHammer=new Hammer.Manager(n,{recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}]]});return o.add(new Hammer.Tap({event:"doubletap",taps:2})),o.add(new Hammer.Tap({event:"singletap"})),o.get("doubletap").recognizeWith("singletap"),o.get("singletap").requireFailure("doubletap"),this.contextMenuIsEnable()&&(e.on("contextmenu",(function(e){e.preventDefault()})),e.on("mouseup",(function(e){e.stopPropagation()})),this.contextMenu=this.pdfViewer.viewerUI.createContextMenu(this,e.get(0),this.getContextMenuConfig()),t.data(_,this)),this.addDestroyHook((function(){o.destroy()})),t},t.prototype.createRectDom=function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui},t.prototype.getContextMenuConfig=function(){if(O)return O;var e=this.constructor.getDefaultContextMenuConfig();for(var t in this.updateContextMenuConfig(e),e)switch(t){case"items":var n=e[t],o=this.pdfViewer.i18n;for(var r in n){var i=n[r];i.nameI18nKey&&(i.name=o.t(i.nameI18nKey))}}return e},t.prototype.doubleTapAnnot=function(){},t.prototype.updateContextMenuConfig=function(e){},t.prototype.active=function(){if(this.pdfViewer.getStateHandlerManager().getCurrentStates().getStateName()!==g.STATE_HANDLER_HAND){e.prototype.active.call(this),this.$handler.addClass("active"),this.activeRect();var t=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),t)}else this.doAction()},t.prototype.tapAnnot=function(t){this.pdfViewer.getStateHandlerManager().getCurrentStates().getStateName()!==g.STATE_HANDLER_HAND&&e.prototype.tapAnnot.call(this,t)},t.prototype.invisibleRender=function(){this.apRenderer.invisibleRender()},t.prototype.getRenderingData=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,o=e.prototype.getRenderingData.call(this,t,n);return Object.assign(o,{highlightingMode:this.annot.getHighlightingMode(),highlightModeIsActive:this.highlightModeIsActive})},t}(r.default);t.default=E},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=m(n(74)),i=m(n(64)),a=m(n(906)),s=n(908),c=m(n(1)),u=n(7),l=m(n(53)),f=n(33),p=n(18),d=n(12),h=m(n(54)),g=m(n(348));function m(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var y=(0,s.getCircleContextMenu)(),b=function(e){function t(n,o,r,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r,a));return h.default.property(s,"shapeControl",(function(){var e=new i.default({emitter:s.pdfViewer.eventEmitter,start:function(){return s.onStartUpdateShape()},update:function(e,t){return s.onShapeUpdating(e,t)},moving:function(e,t){return s.onShapeMoving(e,t)},end:function(e,t,n){return s.onShapeUpdateEnd(e,t,n)}});return s.processShapeControlPermissionCtrl(e),s.addDestroyHook((function(){e.destroy()})),e})),s.$ui.addClass("circle-ui"),s}return v(t,e),t.getDefaultContextMenuConfig=function(){return y},t.prototype.generateApRenderer=function(){return new g.default(this)},t.prototype.movedByOther=function(){this.isActive&&this._applyShapeChange()},t.prototype._applyShapeChange=function(){var e=this._getShapeControllerBoundaryBox(),t=this.getInnerBoundary();this.shapeControl.active(this.$handler,t,e),this._updateShapeControlMargin()},t.prototype.active=function(){e.prototype.active.call(this),this.activeRect(this.annot),this._applyShapeChange();var t=this.shapeControl.getPreviewerContext();this._previewUpdatedShape(this.shapeControl.getCurrentShape(),t)},t.prototype.activeRect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot,t=this.$rect=this.$rect||this.rectInit(),n=this.scale,o=this.rotate,r=e.getDeviceInnerRect(n,o),i="px";t.css({left:r.left+i,top:r.top+i,width:r.right-r.left+i,height:r.bottom-r.top+i})},t.prototype._updateShapeControllerBoundaryBox=function(){this.shapeControl.updateBoundaryBox(this._getShapeControllerBoundaryBox()),this._updateShapeControlMargin()},t.prototype._getShapeControllerBoundaryBox=function(){var e=this.getPDFPage(),t=(0,f.getWHByMatrix)(e.getPxWidth(),e.getPxHeight(),this.scale,this.rotate),n=o(t,2),r=n[0],i=n[1],a=this.getInnerRect(),s=this.getRect(),c=l.default.subtract(a,s);return l.default.on({left:0,top:0,right:r,bottom:i}).add(c).extract()},t.prototype.createRectDom=function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui},t.prototype.unActive=function(){e.prototype.unActive.call(this),this.shapeControl.deactive()},t.prototype.onStartUpdateShape=function(e,t){this.editDebouncePromise||(this.editDebouncePromise=new p.DebounceAsyncTaskExecutor(0))},t.prototype.onShapeUpdating=function(e,t){var n=this;this.pdfViewer.config.highPerformance&&(this._previewUpdatedShape(e,t),this.editDebouncePromise&&this.editDebouncePromise.exec((function(){return n.setRect(n._transformShapeOfInnerRectToOuterRect(e)).then((function(e){n._updateShapeControllerBoundaryBox()}))})))},t.prototype.onShapeMoving=function(e,t){var n=this;this.pdfViewer.config.highPerformance&&this.editDebouncePromise&&this.editDebouncePromise.exec((function(){var t=n.getRect(),o=n.getInnerRect(),r=t.left-o.left,i=t.top-o.top;return n.moveTo(e.left+r,e.top+i).then((function(e){n._updateShapeControllerBoundaryBox()}))}))},t.prototype.onShapeUpdateEnd=function(e,t,n){var o=this;this._previewUpdatedShape(e,t);var r=this.getRect(),i=this.getInnerRect(),a=r.left-i.left,s=r.top-i.top;return this.editDebouncePromise?this.editDebouncePromise.waitForLastTask().then((function(){return o.moveTo(e.left+a,e.top+s,n).then((function(t){return o.setRect(o._transformShapeOfInnerRectToOuterRect(e))})).then((function(e){o._updateShapeControllerBoundaryBox()}))})):Promise.resolve()},t.prototype._transformShapeOfInnerRectToOuterRect=function(e){var t={left:e.left,top:e.top,right:e.left+e.width,bottom:e.top+e.height},n=l.default.subtract(this.getRect(),this.getInnerRect()),o=l.default.on(t).add(n).extract();return{left:o.left,top:o.top,width:o.right-o.left,height:o.bottom-o.top}},t.prototype._previewUpdatedShape=function(e,t){t.clearRect(0,0,e.width,e.height);var n=e.width/2,o=e.height/2,r=n,i=o;t.strokeStyle="#759DB8",t.lineWidth=1,(0,a.default)(t,n,o,r,i),t.stroke()},t.prototype.getPropertyOptions=function(){var e=this.annot;return{color:(0,d.colorConvertor)(e.getBorderColor(),"#"),opacity:e.getOpacity(),borderWidth:e.getBorderWidth(),cloudy:!0,fillColor:e.getFillColor(),disabled:this.propertyDisabled()}},t.prototype.render=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return e.prototype.render.call(this,t,n)},t.prototype.setBorderWidth=function(e){var t=this;return this.annot.setBorderWidth(e).then((function(e){return t._handlerRerender(e)}))},t.prototype.setBorderStyle=function(e,t){var n=this;return this.annot.setBorderStyle(e,t).then((function(e){return n._handlerRerender(e)}))},t.prototype.setCloudIntencity=function(e){return this.setBorderStyle(u.BORDER_STYLE.CLOUDY,e)},t.prototype.setFillColor=function(e){var t=this;return this.annot.setFillColor(e).then((function(e){return t._handlerRerender(e)}))},t.prototype.getInnerRect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,n=this.getPDFPage(),o=this.annot.getInnerRect(),r=n.getDeviceRect(o,e,t);return{left:r.left,top:r.top,right:r.right,bottom:r.bottom}},t.prototype.getInnerBoundary=function(){var e=this.getPDFPage(),t=this.annot.getInnerRect(),n=e.getDeviceRect(t,this.scale,this.rotate);return{left:n.left,top:n.top,width:n.right-n.left,height:n.bottom-n.top}},t.prototype._handlerRerender=function(e){var t=this;return e?this.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(c.default.updateActionAnnotation,t),e})):e},t.prototype._updateShapeControlMargin=function(){var e=this.getGroupRect(),t=this.getRect();this.shapeControl.setMargin(l.default.expandOffset(t,e))},t}(r.default);t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=p(n(74)),i=p(n(64)),a=n(33),s=p(n(53)),c=n(52),u=p(n(54)),l=n(18),f=p(n(293));function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var h=function(e){function t(n,o,r,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r,a));return s.name="note",s.$ui.addClass("fv__pdf-page-note-annot-container"),s.$handler.addClass("fv__pdf-page-note-annot-handler-container"),u.default.property(s,"shapeControl",(function(){var e=new i.default({emitter:s.pdfViewer.eventEmitter,start:function(){return s.onStartUpdateShape()},moving:function(e,t,n){return s.onShapeMoving(e,t,n)},end:function(e,t){return s.onShapeUpdateEnd(e,t)},resizable:!1});return e.ui.classList.add("fv__pdf-page-annot-handler-rect"),s.processShapeControlPermissionCtrl(e),s.addDestroyHook((function(){e.destroy()})),e})),s}return d(t,e),t.prototype.active=function(){e.prototype.active.call(this),this.activeRect(),this._applyShapeChange()},t.prototype._applyShapeChange=function(){var e=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),e),this.setMargin()},t.prototype.activeRect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot,t=this.$rect=this.$rect||this.rectInit(),n=this.scale,o=this.rotate,r=e.getDeviceRect(n,o),i=void 0,a=void 0;if(8&this.annot.getFlags()){var s=this.annot.getRect();i=s.right-s.left,a=s.top-s.bottom}else{var c=this.annot.getDeviceRect(1,o);i=c.right-c.left,a=c.bottom-c.top}t.css({left:r.left,top:r.top,width:i,height:a})},t.prototype.movedByOther=function(){this.isActive&&(this.activeRect(),this._applyShapeChange())},t.prototype._getShapeControllerBoundaryBox=function(){var e=this.getPDFPage(),t=(0,a.getWHByMatrix)(e.getPxWidth(),e.getPxHeight(),this.scale,this.rotate),n=o(t,2);return{left:0,top:0,right:n[0],bottom:n[1]}},t.prototype.unActive=function(){e.prototype.unActive.call(this),this.shapeControl.deactive()},t.prototype.setIconName=function(e){return this.annot.setIconName(e).then((function(e){return e}))},t.prototype.createRectDom=function(){return this.shapeControl.ui},t.prototype.onStartUpdateShape=function(){this.editDebouncePromiseQueue||(this.editDebouncePromiseQueue=new l.DebounceAsyncTaskExecutor(0))},t.prototype.onShapeMoving=function(e,t,n){var o=this;if(this.pdfViewer.config.highPerformance)this.editDebouncePromiseQueue.exec((function(){return o.moveTo(e.left,e.top).then((function(e){o.setMargin(),o._applyShapeChange()}))}));else{var r=this._moveOffset||{},i=r.offsetLeft||0,a=r.offsetTop||0;this._moveOffset={offsetLeft:i+n.offsetLeft,offsetTop:a+n.offsetTop}}},t.prototype.onShapeUpdateEnd=function(e,t){var n=this;return this.editDebouncePromiseQueue.waitForLastTask().then((function(){return n.moveTo(e.left,e.top,"move").then((function(e){n.setMargin(),n._applyShapeChange()}))}))},t.prototype.setMargin=function(){var e=this.getGroupRect(),t=this.getRect();this.shapeControl.setMargin(s.default.expandOffset(t,e))},t.prototype.redraw=function(t){return this.groupMoveDisabled()||this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),e.prototype.redraw.call(this,t)},t.prototype.generateApRenderer=function(){return this.isHTMLSimulate("note")?new f.default(this):e.prototype.generateApRenderer.call(this)},t.prototype.render=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,o=this.annot.info;if("R"==o.RT&&o.IRT.length>0)return Promise.resolve();if(e.prototype.render.call(this,t,n),1!=c.dpr&&this.tileCanvas){var r=this.getTileConfig(t,n),i=Math.max(.5,t*c.dpr/r[5]);this.tileCanvas.$container.css({transform:"scale("+i+")"})}},t}(r.default);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=g(n(74)),i=g(n(64)),a=g(n(1)),s=n(33),c=g(n(53)),u=n(18),l=n(103),f=g(n(54)),p=g(n(30)),d=g(n(293)),h=g(n(935));function g(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var v=function(e){function t(n,o,r,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r,a));return s.name="file",s.$ui.addClass("fv__pdf-page-file-annot-container"),s.$handler.addClass("fv__pdf-page-file-annot-handler-container"),f.default.property(s,"shapeControl",(function(){var e=new i.default({emitter:s.pdfViewer.eventEmitter,start:function(){return s.onStartUpdateShape()},moving:function(e,t,n){return s.onShapeMoving(e,t,n)},end:function(e,t){return s.onShapeUpdateEnd(e,t)},resizable:!1});return e.ui.classList.add("fv__pdf-page-annot-handler-rect"),(s.groupMoveDisabled()||s.moveDisabled())&&e.disable(),s.addDestroyHook((function(){e.destroy()})),e})),s}return m(t,e),t.prototype.active=function(){e.prototype.active.call(this),this.activeRect(),this._applyShapeChange()},t.prototype.activeRect=function(){arguments.length>0&&void 0!==arguments[0]||this.annot;var e=this.$rect=this.$rect||this.rectInit(),t=this.scale,n=this.rotate,o=this.getRect(t,n);e.css({left:o.left,top:o.top,width:o.right-o.left,height:o.bottom-o.top})},t.prototype._applyShapeChange=function(){var e=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),e),this.setMargin()},t.prototype.movedByOther=function(){this.isActive&&this._applyShapeChange()},t.prototype._getShapeControllerBoundaryBox=function(){var e=this.getPDFPage(),t=(0,s.getWHByMatrix)(e.getPxWidth(),e.getPxHeight(),this.scale,this.rotate),n=o(t,2);return{left:0,top:0,right:n[0],bottom:n[1]}},t.prototype.unActive=function(){e.prototype.unActive.call(this),this.shapeControl.deactive()},t.prototype.setIconName=function(e){var t=this;return this.annot.setIconName(e).then((function(e){return e?t.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(a.default.updateActionAnnotation,t),e})):e}))},t.prototype.createRectDom=function(){return this.shapeControl.ui},t.prototype.onStartUpdateShape=function(e,t){this.editDebouncePromise||(this.editDebouncePromise=new u.DebounceAsyncTaskExecutor(0))},t.prototype.onShapeMoving=function(e,t,n){var o=this;this.pdfViewer.config.highPerformance&&this.editDebouncePromise&&this.editDebouncePromise.exec((function(){return o.moveTo(e.left,e.top).then((function(e){o.setMargin(),o._applyShapeChange()}))}))},t.prototype.onShapeUpdateEnd=function(e,t){var n=this;return this.editDebouncePromise?this.editDebouncePromise.waitForLastTask().then((function(){return n.moveTo(e.left,e.top,"move").then((function(e){n.setMargin(),n._applyShapeChange()}))})):Promise.resolve()},t.prototype.setMargin=function(){var e=this.getGroupRect(),t=this.getRect();this.shapeControl.setMargin(c.default.expandOffset(t,e))},t.prototype.onDoubleTap=function(){return!1},t.prototype.doubleTapAnnot=function(){this.rectDoubleTap()},t.prototype.rectDoubleTap=function(){this.download()},t.prototype.download=function(){var e=this;this.getAppPermission().then((function(t){t.isAttachmentDownloadable()&&e.doDownload()}))},t.prototype.doDownload=function(){var e=this,t=this.pdfViewer;if(!this.annot.getFileSpec())return t.viewerUI.alert("sidebar.attachment.emptyFile");var n=Promise.resolve();t.getSafeReadingMode()&&(n=t.viewerUI.confirm("sidebar.attachment.safeModeDownload")),n.then((function(){e.annot.getFileattachmentStream().then((function(t){(0,l.download)(t,e.annot.getFileSpec().getFileName(),"application/octet-stream")}))}),p.default)},t.prototype.redraw=function(t){return this.groupMoveDisabled()||this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),e.prototype.redraw.call(this,t)},t.prototype.generateApRenderer=function(){return this.isHTMLSimulate("fileAttachment")?new d.default(this):new h.default(this)},t.prototype.getRect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,n=this.getPDFPage(),o=this.annot.getRect(),r=n.getDeviceRect(o,e,t),i=n.getDeviceRect(o,e,0),a=i.right-i.left,s=i.bottom-i.top;return 8&this.annot.getFlags()&&(a=o.right-o.left,s=o.top-o.bottom),{left:r.left,top:r.top,right:r.left+a,bottom:r.top+s}},t.prototype.getBoundary=function(){var e=this.annot.getDeviceRect(this.scale,this.rotate),t=this.annot.getDeviceRect(this.scale,0),n=this.annot.getRect(),o=t.right-t.left,r=t.bottom-t.top;return 8&this.annot.getFlags()&&(o=n.right-n.left,r=n.top-n.bottom),{left:e.left,top:e.top,width:o,height:r}},t}(r.default);t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(74)),r=i(n(936));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var s=function(e){function t(n,o,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r,i));return a.name="caret",a.$ui.addClass("fv__pdf-page-caret-annot-container"),a.$handler.addClass("fv__pdf-page-caret-annot-handler-container"),a}return a(t,e),t.prototype.generateApRenderer=function(){return this.checkRenderingModeIs("canvas")?new r.default(this):e.prototype.generateApRenderer.call(this)},t.prototype.checkRenderingModeIs=function(e){return this.pdfViewer.config.annotRenderingMode.caret===e},t.prototype.active=function(){e.prototype.active.call(this),this.activeRect(),this.$rect.addClass("active")},t.prototype.afterRender=function(e){e.transformed&&this.isActive&&this.activeRect()},t.prototype.unActive=function(){e.prototype.unActive.call(this);var t=this.$rect;t&&t.removeClass("active")},t.prototype.isReplace=function(){return this.annot.isGrouped()&&"replace"===(this.annot.getIntent()||"").toLowerCase()},t.prototype.showUI=function(){var t=this;if(this.isReplace()){var n=this.annot.getGroupElements().filter((function(e){return e!==t.annot}))[0];if(n&&n.isDeleted())return e.prototype.showUI.call(this);var o=this.parent("annotsRender").getAnnotRender(n.getId());return e.prototype.showUI.call(this).then((function(){return o.component.showUI()}))}return e.prototype.showUI.call(this)},t.prototype.hideUI=function(){var t=this;if(this.isReplace()){var n=this.annot.getGroupElements().filter((function(e){return e!==t.annot}))[0];if(n&&n.isDeleted())return e.prototype.hideUI.call(this);var o=this.parent("annotsRender").getAnnotRender(n.getId());return e.prototype.hideUI.call(this).then((function(){return o.component.hideUI()}))}return e.prototype.hideUI.call(this)},t}(o.default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(n(294)),r=u(n(64)),i=n(12),a=u(n(54)),s=u(n(178)),c=(u(n(158)),u(n(1)));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var f=function(e){function t(n,o,i,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var c=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,i,s));return a.default.property(c,"shapeControl",(function(){var e=new r.default({emitter:c.pdfViewer.eventEmitter,start:function(e,t,n){return c.onStartUpdateShape(e,t,n)},moving:function(e,t){return c.onShapeMoving(e,t)},update:function(e,t){return c.onShapeUpdating(e,t)},end:function(e,t,n){return c.onShapeUpdateEnd(e,t,n)},rotateEnd:function(e){return c.onRotateEnd(e)},afterRotateEnd:function(){return c.onAfterRotateEnd()},rotateStart:function(){return c.onRotateStart()},resizable:!0,rotatable:!0,degree:0,enableDiagonally:!0,enableFrame:!1,previewer:!1,enableUniform:!0,degreeInitVisibility:!1});return c.processShapeControlPermissionCtrl(e),c.addDestroyHook((function(){e.destroy()})),e})),c}return l(t,e),t.prototype.generateApRenderer=function(){return new s.default(this)},t.prototype.getInnerRect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return this.getRect(e,t)},t.prototype.getPropertyOptions=function(){var e=this.annot;(0,i.colorConvertor)(e.getBorderColor(),"#");return{opacity:e.getOpacity(),borderStyle:!1,disabled:this.propertyDisabled(),rotationFree:(this.annot.getRotation()+360)%360}},t.prototype.setBitmap=function(e,t){var n=this;return this.annot.setBitmap(e,t).then((function(e){return n.pdfViewer.eventEmitter.emit(c.default.updateActionAnnotation,n),n.render(n.scale,n.rotate)}))},t.prototype.updateRender=function(){return this.render()},t.prototype.redraw=function(t){return this.groupMoveDisabled()||this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),e.prototype.redraw.call(this,t)},t.prototype.onRotateStart=function(){this.shapeControl.rotateDegreeBox.style.visibility="visible"},t.prototype.onRotateEnd=function(e){var t=this;e=this.getStandardizedRotation(e);var n=this.annot.getRotation();return n=this.getStandardizedRotation(n),e+=Math.abs(n),e=this.getStandardizedRotation(e),this.setRotation(e).then((function(n){return t.updateShapeControl(e),e}))},t.prototype.onAfterRotateEnd=function(){this.shapeControl.clearCompanions(),this.shapeControl.rotateDegree=0,this.shapeControl.rotateDegreeBox.style.visibility="hidden"},t.prototype.setRotation=function(e){var t=this;return this.annot.setRotation(e).then((function(e){return e?t.updateRender().then((function(){var n=t.getInnerBoundary(),o=t._getShapeControllerBoundaryBox();return t.shapeControl.active(t.$handler,n,o),t.pdfViewer.eventEmitter.emit(c.default.updateActionAnnotation,t),e})):e}))},t.prototype.updateShapeControl=function(e){this.shapeControl.ui.style.transform=""},t.prototype.getStandardizedRotation=function(e){return(e=parseInt(e))<0?e=360-Math.abs(e):e>360&&(e-=360),e},t}(o.default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=h(n(74)),i=h(n(64)),a=h(n(1)),s=n(33),c=h(n(53)),u=n(18),l=n(12),f=h(n(54)),p=h(n(938)),d=h(n(178));function h(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var m=function(e){function t(n,o,r,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r,a));return s.name="ink",s.$ui.addClass("pdf-page-ink-annot-container"),s.$handler.addClass("pdf-page-ink-annot-handler-container"),f.default.property(s,"shapeControl",(function(){var e=new i.default({emitter:s.pdfViewer.eventEmitter,interceptor:function(e){return s.checkSize(e)},start:function(){return s.onStartUpdateShape()},update:function(e,t){return s.onShapeUpdating(e,t)},moving:function(e,t,n){return s.onShapeMoving(e,t,n)},end:function(e,t,n){return s.onShapeUpdateEnd(e,t,n)},enableDiagonally:!0});return s.processShapeControlPermissionCtrl(e),s.addDestroyHook((function(){e.destroy()})),e})),s}return g(t,e),t.prototype.checkSize=function(e){return!(e.width<10||e.height<10)},t.prototype.generateApRenderer=function(){var e=this.getInkList();return e&&e.length<1e3?new p.default(this):new d.default(this)},t.prototype.createRectDom=function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui},t.prototype.active=function(){e.prototype.active.call(this),this.activeRect(),this._applyShapeChange()},t.prototype._applyShapeChange=function(){var e=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),e),this.setMargin()},t.prototype.movedByOther=function(){this.isActive&&(this.activeRect(),this.shapeControl.updateBoundary(this.getBoundary()),this.setMargin())},t.prototype.afterRender=function(e){if(e.transformed&&this.isActive){this.activeRect();var t=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),t),this.setMargin()}},t.prototype._getShapeControllerBoundaryBox=function(){var e=this.getPDFPage(),t=(0,s.getWHByMatrix)(e.getPxWidth(),e.getPxHeight(),this.scale,this.rotate),n=o(t,2);return{left:0,top:0,right:n[0],bottom:n[1]}},t.prototype.onStartUpdateShape=function(){this.editDebouncePromise||(this.editDebouncePromise=new u.DebounceAsyncTaskExecutor(0))},t.prototype.onShapeUpdating=function(e,t){this.pdfViewer.config.highPerformance&&(e.width<10&&(e.width=10),this.setRect(e),this.setMargin())},t.prototype.onShapeMoving=function(e,t,n){var o=this;this.pdfViewer.config.highPerformance&&this.editDebouncePromise&&this.editDebouncePromise.exec((function(){return o.moveTo(e.left,e.top).then((function(){o.setMargin()}))}))},t.prototype._getShapeControllerBoundaryBox=function(){var e=this.getPDFPage(),t=(0,s.getWHByMatrix)(e.getPxWidth(),e.getPxHeight(),this.scale,this.rotate),n=o(t,2),r=n[0],i=n[1];return c.default.on({left:0,top:0,right:r,bottom:i}).extract()},t.prototype.onShapeUpdateEnd=function(e,t,n){var o=this;return e.width<10&&(e.width=10),"resize"!==n||this.pdfViewer.config.highPerformance?this.editDebouncePromise?this.editDebouncePromise.waitForLastTask().then((function(){return o.moveTo(e.left,e.top,n).then((function(e){o.setMargin()}))})):Promise.resolve():this.editDebouncePromise?this.editDebouncePromise.waitForLastTask().then((function(){return o.setRect(e)})).then((function(e){o.setMargin()})):Promise.resolve()},t.prototype.getPropertyOptions=function(){var e=this.annot;return{color:(0,l.colorConvertor)(e.getBorderColor(),"#"),opacity:e.getOpacity(),borderWidth:e.getBorderWidth(),borderStyle:!1,disabled:this.propertyDisabled()}},t.prototype.setBorderWidth=function(e){var t=this;return this.annot.setBorderWidth(e).then((function(e){return e?t.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(a.default.updateActionAnnotation,t),e})):e}))},t.prototype.getInkList=function(){return this.annot.getInkList()},t.prototype.setMargin=function(){var e=this.getGroupRect(),t=this.getRect();this.shapeControl.setMargin(c.default.expandOffset(t,e)),this.shapeControl.updateBoundaryBox(this._getShapeControllerBoundaryBox())},t.prototype.redraw=function(t){return this.groupMoveDisabled()||this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),e.prototype.redraw.call(this,t)},t.prototype.getRenderingData=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,o=e.prototype.getRenderingData.call(this,t,n),r=this.getInkList();return Object.assign(o,{inkList:r})},t}(r.default);t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(291),i=(o=r)&&o.__esModule?o:{default:o};function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var s=(0,n(212).getCommonContextMenu)(),c=function(e){function t(n,o,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r,i));return a.name="polygonCloud",a}return a(t,e),t.getDefaultContextMenuConfig=function(){return s},t}(i.default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=h(n(296)),i=n(415),a=n(33),s=h(n(1)),c=n(12),u=h(n(446)),l=h(n(54)),f=n(18),p=h(n(945)),d=h(n(4));function h(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var m=["left","bottom","right","top"],v=function(e){function t(n,o,r,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r,a));s.annot=n,s.name="callout",s.$ui.removeClass("fv__pdf-page-textbox-annot-container"),s.$handler.removeClass("fv__pdf-page-textbox-annot-handler-container"),s.$ui.addClass("fv__pdf-page-callout-annot-container"),s.$handler.addClass("fv__pdf-page-callout-annot-handler-container"),l.default.property(s,"shapeControl",(function(){var e=(0,i.getShapeController)(s.pdfViewer.eventEmitter);return s.processShapeControlPermissionCtrl(e),s.addDestroyHook((function(){e.destroy()})),e})),s.editDebouncePromiseQueue=new f.DebouncePromiseQueue;var c=(0,d.default)("<div class='fv__ftui-container'><pre class='fv__textbox_ui'></pre></div>");return s.$pre=c.find("pre"),s.$ui.append(c),s}return g(t,e),t.prototype.processShapeControlPermissionCtrl=function(e){var t=this,n=this.pdfViewer.getAnnotAuthorityManager();this.addDestroyHook(n.subscribe(this.annot,(function(n){if(!t.isDestroyed){var o=!1;o=!!t.groupMoveDisabled()||(n.ignorable()?t.moveDisabled():!n.isAdjustable()),t.annot===e.annot&&(o?e.disable():e.enable())}})))},t.prototype.unActive=function(){e.prototype.unActive.call(this),this.shapeControl.deactive()},t.prototype.generateApRenderer=function(){return this.isHTMLSimulate("freetext")?new p.default(this):e.prototype.generateApRenderer.call(this)},t.prototype.active=function(){var t=this;e.prototype.active.call(this);var n=this._getShapeControllerBoundaryBox(),o=this.getBoundary();this.shapeControl.init({start:function(e){return t.onStartUpdateShape(e)},moving:function(e,n,o,r){return t.onShapeMoving(e,n,o,r)},end:function(e){return t.onShapeUpdateEnd(e)}},this),this.getAppPermission().then((function(e){!!t.groupMoveDisabled()||(e.ignorable()?t.moveDisabled():!e.isAdjustable())?t.shapeControl.disable():t.shapeControl.enable(),t.shapeControl.active(t.$handler,o,n)}))},t.prototype.movedByOther=function(){if(this.isActive){this.activeRect();var e=this._getShapeControllerBoundaryBox(),t=this.getBoundary();this.shapeControl.active(this.$page,t,e),this.shapeControl.adjustPointControl()}},t.prototype.afterRender=function(e){e.transformed&&this.isActive&&this.movedByOther()},t.prototype._getShapeControllerBoundaryBox=function(){var e=this.getPDFPage(),t=(0,a.getWHByMatrix)(e.getPxWidth(),e.getPxHeight(),this.scale,this.rotate),n=o(t,2);return{left:0,top:0,right:n[0],bottom:n[1]}},t.prototype.backup=function(){var e=this,t=this.annot.getCalloutLinePoints();if(this.backupProperty={points:JSON.parse(JSON.stringify(t)),rect:Object.assign({},this.annot.getRect()),innerRect:Object.assign({},this.annot.getInnerRect())},t.length<3){var n=this.annot.getBorderStyle(),o=u.default.calcCalloutPosition({start:[0,0],end:[this.backupProperty.innerRect.left,(this.backupProperty.innerRect.top+this.backupProperty.innerRect.bottom)/2],width:this.getPDFPage().getWidth(),height:this.getPDFPage().getHeight(),rotate:this.getPDFPage().getRotation()-this.rotate,borderStyle:n,endingStyle:this.annot.getCalloutLineEndingStyle()});this.setCalloutLinePoints(o.calloutLinePoints).then((function(t){var n,o=e._getShapeControllerBoundaryBox();n=e.getBoundary(),e.shapeControl.active(e.$rect,n,o)}))}},t.prototype.onStartUpdateShape=function(e){this.backup()},t.prototype.onShapeMoving=function(e,t,n,r){var a=this,s=this.annot.page.reverseDeviceOffset([n,r],this.scale,this.rotate),c=o(s,2),u=c[0],l=c[1];return this.updatePromise=this.updatePromise||Promise.resolve(),this.updatePromise=this.updatePromise.then((function(){switch(e){case i.ACTION_TEXT:return a.updateTextRect(u,l);case i.ACTION_AREA:return a.updateRect(u,l);case i.ACTION_POINT:return a.updatePoint(t,u,l)}})).then((function(e){if(a.annot.isGrouped()){var t=a.annot.info.rect,n=a.annot.info.innerRect,o=a.annot.info.calloutLinePoints;a.editDebouncePromiseQueue.push((function(){return a._flushEdit(t,n,o)}))}return e}))},t.prototype.onShapeUpdateEnd=function(e){var t=this,n=this.annot.info.rect,o=this.annot.info.innerRect,r=this.annot.info.calloutLinePoints;return this._flushEdit(n,o,r).then((function(n){t.pdfViewer.eventEmitter.emit(s.default.updateActionAnnotation,t),e==i.ACTION_AREA&&t.pdfViewer.eventEmitter.emit(s.default.annotationMovedPosition,[t.annot],t.annot.page,t.annot)}))},t.prototype._flushEdit=function(e,t,n){var o=this,r=Promise.resolve();return this.annot.isGrouped()&&(r=this.annot.moveTo({left:e.left,top:e.top})),r.then((function(){return o.setRectInPDF(e,!1)})).then((function(e){return o.activeRect(),o.setInnerRect(t)})).then((function(e){return o.setCalloutLinePoints(n)})).then((function(e){o.redraw()}))},t.prototype.updateRect=function(e,t){var n=Object.assign({},this.backupProperty.rect);if(n.left+=e,n.right+=e,n.bottom+=t,n.top+=t,!this.checkRect(n,!0))return Promise.resolve(!1);if(e=n.left-this.backupProperty.rect.left,t=n.top-this.backupProperty.rect.top,0==e&&0==t)return Promise.resolve();var o=Object.assign({},this.backupProperty.innerRect);o.left+=e,o.right+=e,o.top+=t,o.bottom+=t;var r=JSON.parse(JSON.stringify(this.backupProperty.points));return r[0].x+=e,r[0].y+=t,r[1].x+=e,r[1].y+=t,r[2].x+=e,r[2].y+=t,this.annot.info.rect=n,this.annot.info.innerRect=o,this.annot.info.calloutLinePoints=r,Promise.resolve({rect:this.getRect(),innerRect:this.getInnerBoundary(),points:this.getCalloutPointers()})},t.prototype.updateTextRect=function(e,t){var n=Object.assign({},this.backupProperty.innerRect),o=this.annot.getCalloutLinePoints();if(n.left+=e,n.right+=e,n.top+=t,n.bottom+=t,!this.checkRect(n,!0))return Promise.resolve(!1);if(!(o=u.default.checkKneePoint(0,o,n)))return Promise.resolve(!1);var r=this.getPDFPage(),i=u.default.recalculateRect({points:o,innerRect:n,width:r.getWidth(),height:r.getHeight(),rotate:r.getRotation(),borderInfo:this.annot.getBorderInfo(),endingStyle:this.annot.getCalloutLineEndingStyle()});return this.annot.info.rect=i,this.annot.info.innerRect=n,this.annot.info.calloutLinePoints=o,Promise.resolve({rect:this.getRect(),innerRect:this.getInnerBoundary(),points:this.getCalloutPointers()})},t.prototype.updatePoint=function(e,t,n){var o=this.annot.page,r=this.backupProperty.points,i=JSON.parse(JSON.stringify(this.annot.getCalloutLinePoints())),a=!0,s=Object.assign({},this.backupProperty.innerRect);switch(e){case"calloutStart":i[0].x=r[0].x+t,i[0].y=r[0].y+n;if(s.left-20<i[0].x&&i[0].x<s.right+20&&s.bottom-20<i[0].y&&i[0].y<s.top+20)return Promise.resolve();break;case"calloutKnee":if(i[1].x==i[2].x){if(t=0,r[1].y<r[2].y&&r[1].y+n>=r[2].y)return Promise.resolve();if(r[1].y>r[2].y&&r[1].y+n<=r[2].y)return Promise.resolve()}else if(i[1].y==i[2].y){if(n=0,r[1].x<r[2].x&&r[1].x+t>=r[2].x)return Promise.resolve();if(r[1].x>r[2].x&&r[1].x+t<=r[2].x)return Promise.resolve()}if(r[1].x+t<0||r[1].y+n<0)return Promise.resolve();a=!1,i[1].x=r[1].x+t,i[1].y=r[1].y+n;break;default:for(var c=[].concat(m),l=0;l<this.rotate/90+this.annot.page.getRotation();l++){var f=c.shift();c.push(f)}switch(e){case"left":s[c[0]]+=y(c[0],t,n);break;case"bottom":s[c[1]]+=y(c[1],t,n);break;case"right":s[c[2]]+=y(c[2],t,n);break;case"top":s[c[3]]+=y(c[3],t,n)}}if(a&&!(i=u.default.checkKneePoint(0,i,s)))return Promise.resolve(!1);var p=u.default.recalculateRect({points:i,innerRect:s,width:o.getWidth(),height:o.getHeight(),rotate:o.getRotation(),borderStyle:this.annot.getBorderInfo(),endingStyle:this.annot.getCalloutLineEndingStyle()});return this.checkRect(p)?(this.annot.info.rect=p,this.annot.info.innerRect=s,this.annot.info.calloutLinePoints=i,Promise.resolve({rect:this.getRect(),innerRect:this.getInnerBoundary(),points:this.getCalloutPointers()})):Promise.resolve()},t.prototype.setEndingStyle=function(e,t){var n=this;return this.annot.setCalloutLineEndingStyle(+t).then((function(){return n.annot.update()})).then((function(){n.activeRect(),n.redraw()}))},t.prototype.setFillColor=function(e){var t=this;return this.annot.setFillColor(e).then((function(e){return e?t.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(s.default.updateActionAnnotation,t),e})):e}))},t.prototype.setBorderWidth=function(e){var t=this;return this.annot.setBorderWidth(e).then((function(e){return e?t.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(s.default.updateActionAnnotation,t),e})):e}))},t.prototype.setBorderStyle=function(e,t){var n=this;return this.annot.setBorderStyle(e,t).then((function(){return n.updateRender().then((function(){n.pdfViewer.eventEmitter.emit(s.default.updateActionAnnotation,n)}))}))},t.prototype.getPropertyOptions=function(){e.prototype.getPropertyOptions.call(this);var t=this.annot,n=(0,c.colorConvertor)(t.getBorderColor(),"#"),o=t.getOpacity(),r=this.annot.getFillColor(),i=t.getBorderWidth(),a=this.propertyDisabled(),s=t.getFontColor(),u=t.getDefaultAppearance().textSize;return{color:n,opacity:o,fillColor:r,lineStartStyle:t.getCalloutLineEndingStyle(),borderWidth:i,cloudy:!0,disabled:a,fontColor:s,fontSize:u}},t.prototype.getCalloutPointers=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot.getCalloutLinePoints(),t=[],n=0;n<e.length;n++){var o=this.annot.page.getDevicePoint([e[n].x,e[n].y],this.scale,this.rotate);t.push(o)}return t},t.prototype.setInnerRectHeight=function(e){var t=Object.assign({},this.backupProperty.innerRect),n=this.annot.getBorderWidth();5===this.annot.getBorderInfo().style&&(n=0);var o={left:e.left-t.left-n,right:e.right-t.right+n,top:e.top-t.top+n,bottom:e.bottom-t.bottom-n},r=0;return Math.abs(o.left)<3&&(r++,o.left=0),Math.abs(o.right)<3&&(r++,o.right=0),Math.abs(o.top)<3&&(r++,o.top=0),Math.abs(o.bottom)<3&&(r++,o.bottom=0),4==r?Promise.resolve(!1):this.setInnerRectProperty({left:t.left+o.left,bottom:t.bottom+o.bottom,top:t.top+o.top,right:t.right+o.right})},t.prototype.setInnerRectProperty=function(e){var t=this,n=JSON.parse(JSON.stringify(this.backupProperty.points));if(!(n=u.default.checkKneePoint(0,n,e)))return Promise.resolve(!1);var o=this.annot.page,r=u.default.recalculateRect({points:n,innerRect:e,width:o.getWidth(),height:o.getHeight(),rotate:o.getRotation(),borderStyle:this.annot.getBorderInfo(),endingStyle:this.annot.getCalloutLineEndingStyle()});Promise.resolve(),this.annot.getRect();return this.setRectInPDF(r,!1).then((function(n){return t.setInnerRect(e)})).then((function(e){return t.setCalloutLinePoints(n)}))},t.prototype.checkRect=function(e,t){var n=this.annot.page,r=this.shapeControl.getMargin(),i=n.reverseDeviceOffset([r.left,r.top],this.scale,this.rotate),a=o(i,2),s=a[0],c=a[1],u=n.reverseDeviceOffset([r.right,r.bottom],this.scale,this.rotate),l=o(u,2),f=l[0],p=l[1],d=Math.abs(s),h=Math.abs(p),g=Math.abs(f),m=Math.abs(c),v=n.getOriginX()+d,y=n.getOriginX()+n.getMediaWidth()-g,b=n.getOriginY()+h,w=n.getOriginY()+n.getMediaHeight()-m;if(t){if(e.left<v+2){var _=d+2-e.left;e.left+=_,e.right+=_}else if(e.right>y-1){var P=y-1-e.right;e.left+=P,e.right+=P}if(e.bottom<b+2){var O=h+2-e.bottom;e.bottom+=O,e.top+=O}else if(e.top>w-2){var E=w-2-e.top;e.bottom+=E,e.top+=E}return!0}return!(e.left<v||e.bottom<b||e.top>w||e.right>y)},t.prototype.createRectDom=function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui},t.prototype.redraw=function(t){return this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),e.prototype.redraw.call(this,t)},t.prototype.setHeight=function(e,t){this.annot.page.getRotationAngle(),this.annot.getRotation();e[0].style.height=e[0].scrollTop+e[0].scrollHeight+"px";var n=e[0].getBoundingClientRect(),o=this.parent("pdfPageRender").getPDFRectFromClientRect(n);this.setInnerRectHeight(o)},t}(r.default),y=function(e,t,n){return"left"===e||"right"==e?t:n};t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.calcCalloutPosition=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.start,o=t.end,i=t.page,a=t.width,s=void 0===a?o[0]+110:a,c=t.height,u=void 0===c?o[1]+30:c,l=t.borderStyle,f=t.endingStyle,p=t.scale,d=t.rotate;o[0]=Math.max(o[0],2),o[1]=Math.max(o[1],12);var h=100*p*4/3,g=20*p*2/3,m=i.getOriginX(),v=i.getOriginY(),y=i.reverseDeviceRect({left:o[0],right:o[0]+h,top:o[1]-g,bottom:o[1]+g},p,d);n=i.reverseDevicePoint(n,p,d),o=i.reverseDevicePoint(o,p,d),y.left<m&&(y.left=m),y.bottom<v&&(y.bottom=v);var b=[{x:n[0],y:n[1]},{x:y.left-15,y:y.top+10},{x:y.left-.1,y:y.top+10}];if(!(b=e.checkKneePoint(0,b,y))||r(b[0],b[1])<15||r(b[2],b[1])<15)return{invalid:!0};var w=e.recalculateRect({points:b,innerRect:y,width:s,height:u,borderStyle:l,endingStyle:f}),_=w.left<m+5||w.right>s-5||w.bottom<v+5||w.top>u-5;return _?{invalid:!0}:{calloutLinePoints:b,rect:w,innerRect:y}},e.checkKneePoint=function(t,n,o){if(t>3||n.length<2)return null;var i=JSON.parse(JSON.stringify(n));switch(t){case 0:i[2]={x:o.left-.1,y:(o.top+o.bottom)/2-.1},i[1]={x:i[2].x-15,y:i[2].y};break;case 1:i[1]={x:(o.left+o.right)/2,y:o.bottom-15},i[2]={x:i[1].x-.1,y:o.bottom-.1};break;case 2:i[1]={x:o.right+15,y:(o.top+o.bottom)/2},i[2]={x:o.right-.1,y:i[1].y-.1};break;case 3:i[1]={x:(o.left+o.right)/2,y:o.top+15},i[2]={x:i[1].x-.1,y:o.top-.1}}var a=r(i[2],i[0]),s=r(i[2],i[1]),c=r(i[1],i[0]),u=Math.acos((a-s-c)/(2*Math.sqrt(s)*Math.sqrt(c)));return Math.PI>u&&u>Math.PI/2?e.checkKneePoint(t+1,n,o):i},e.recalculateRect=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.points,n=e.innerRect,o=e.width,r=void 0===o?1e4:o,i=e.height,a=void 0===i?1e4:i,s=e.rotate,c=e.borderInfo,u=e.endingStyle,l=1/0,f=l,p=-l,d=-l,h=l,g=0;g<3;g++)t[g].x<f&&(f=t[g].x),t[g].x>p&&(p=t[g].x),t[g].y>d&&(d=t[g].y),t[g].y<h&&(h=t[g].y);s%2&&(r^=a,r^=a^=r);var m=0;c&&5==c.style&&(m=1==c.cloudIntensity?6:9);var v={left:Math.max(Math.min(f,n.left)-1,0),top:Math.max(d,n.top)+1,right:Math.min(Math.max(p,n.right)+1,r),bottom:Math.min(h,n.bottom)-1};0!==m&&(Math.abs(v.left-n.left)<2&&(v.left-=m),Math.abs(v.right-n.right)<2&&(v.right+=m),Math.abs(v.top-n.top)<2&&(v.top+=m),Math.abs(v.bottom-n.bottom)<2&&(v.bottom-=m));var y=0;switch(u){case 7:case 8:y=8;break;case 2:case 1:case 3:case 6:case 9:y=6}return 0!=y&&(v.left-=y,v.right+=y,v.top+=y,v.bottom-=y),v},e}(),r=function(e,t){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(295)),r=s(n(1)),i=n(12),a=s(n(946));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=function(e){function t(n,o,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r,i));return a.name="textbox",a.$ui.removeClass("fv__pdf-page-typewritter-annot-container"),a.$handler.removeClass("fv__pdf-page-typewritter-annot-handler-container"),a.$ui.addClass("fv__pdf-page-textbox-annot-container"),a.$handler.addClass("fv__pdf-page-textbox-annot-handler-container"),a.$pre.addClass("fv__textbox_ui"),a}return c(t,e),t.prototype.active=function(){e.prototype.active.call(this),this.fontSizeScale<1&&this.$handler.css("transform","scale(1)")},t.prototype.getShapeOptions=function(){var t=e.prototype.getShapeOptions.call(this);return t.resizable=!0,t},t.prototype.generateApRenderer=function(){return this.isHTMLSimulate("freetext")?new a.default(this):e.prototype.generateApRenderer.call(this)},t.prototype.getPropertyOptions=function(){e.prototype.getPropertyOptions.call(this);var t=this.annot,n=(0,i.colorConvertor)(t.getBorderColor(),"#"),o=t.getOpacity(),r=t.getBorderWidth();return{color:n,opacity:o,fillColor:t.getFillColor(),borderWidth:r,cloudy:!0,disabled:this.propertyDisabled(),fontColor:t.getFontColor(),fontSize:t.getDefaultAppearance().textSize}},t.prototype.setHeight=function(e,t){e[0].style.height=e[0].scrollTop+e[0].scrollHeight+"px";var n=e[0].getBoundingClientRect(),o=this.parent("pdfPageRender").getPDFRectFromClientRect(n);this.setInnerRectHeight(o)},t.prototype.setBorderWidth=function(e){var t=this;return this.annot.setBorderWidth(e).then((function(e){return t.pdfViewer.eventEmitter.emit(r.default.updateActionAnnotation,t),e}))},t.prototype.setFillColor=function(e){var t=this;return this.annot.setFillColor(e).then((function(e){return t.pdfViewer.eventEmitter.emit(r.default.updateActionAnnotation,t),e}))},t.prototype.setBorderStyle=function(e,t){var n=this;return this.annot.setBorderStyle(e,t).then((function(e){return n.pdfViewer.eventEmitter.emit(r.default.updateActionAnnotation,n),e}))},t.prototype.setInnerRectHeight=function(e){var t=this,n=void 0,o=this.annot.getBorderInfo(),r=Object.assign({},this.backupProperty.rect),i=this.getPadding();n=5==o.style?Object.assign({},this.backupProperty.innerRect):{left:r.left+i,right:r.right-i,top:r.top-i,bottom:r.bottom+i};var a={left:e.left-n.left,right:e.right-n.right,top:e.top-n.top,bottom:e.bottom-n.bottom},s=0;return Math.abs(a.left)<3&&(s++,a.left=0),Math.abs(a.right)<3&&(s++,a.right=0),Math.abs(a.top)<3&&(s++,a.top=0),Math.abs(a.bottom)<3&&(s++,a.bottom=0),4==s?Promise.resolve():(r={left:r.left+a.left,right:r.right+a.right,top:r.top+a.top,bottom:r.bottom+a.bottom},n={left:n.left+a.left,right:n.right+a.right,top:n.top+a.top,bottom:n.bottom+a.bottom},this.annot.setInnerRectNoAction(e).then((function(e){return t.annot._setRect(r)})))},t.prototype.beforeBlur=function(){return!1},t}(o.default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutocompleteModel=void 0;var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.shouldFieldAutoComplete=u;var r=n(950),i=n(7),a=n(39);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e){return/^[\d\(\)\.\-\s]*\d+[\d\(\)\.\-\s]*$/.test(e)}function u(e){var t=e.getFlags();return e.getType()===a.FieldType.Text&&!a.FieldFlag.isPassword(t)&&!a.FieldFlag.isHidden(t)&&!a.FieldFlag.isReadOnly(t)}function l(e){return{text:e}}t.AutocompleteModel=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;s(this,e);var n=this.dbName="autocomplete",o=this.primaryName="text";this.db=new r.IndexDBStore(n,i.DB_PREFIX+n,1,o),this.pdfViewer=t}return e.prototype.getFormEntries=function(){var e=this;return this.pdfViewer?this.pdfViewer.getCurrentPDFDoc().loadPDFForm().then((function(t){var n=[],o=t.fields,r=e.pdfViewer.getAutoCompleteSetting().rememberNumericalData,i=!0,a=!1,s=void 0;try{for(var f,p=o[Symbol.iterator]();!(i=(f=p.next()).done);i=!0){var d=f.value;if(u(d)){var h=d.getValue();if(!r&&c(h))continue;n.push(l(d.getValue()))}}}catch(e){a=!0,s=e}finally{try{!i&&p.return&&p.return()}finally{if(a)throw s}}return n})):Promise.resolve([])},e.prototype.getDbEntries=function(){return this.db.getAll()},e.prototype.getAllEntries=function(){var e=this;return Promise.all([this.getFormEntries(),this.getDbEntries()]).then((function(t){var n=o(t,2),r=n[0],i=n[1];r=r||[],i=i||[];var a={},s=!0,c=!1,u=void 0;try{for(var l,f=r[Symbol.iterator]();!(s=(l=f.next()).done);s=!0){var p=l.value;a[p[e.primaryName]]=p}}catch(e){c=!0,u=e}finally{try{!s&&f.return&&f.return()}finally{if(c)throw u}}var d=!0,h=!1,g=void 0;try{for(var m,v=i[Symbol.iterator]();!(d=(m=v.next()).done);d=!0){var y=m.value;a[y[e.primaryName]]=y}}catch(e){h=!0,g=e}finally{try{!d&&v.return&&v.return()}finally{if(h)throw g}}return Object.values(a)}))},e.prototype.saveDbEntry=function(e){!this.pdfViewer.getAutoCompleteSetting().rememberNumericalData&&c(e)||this.db.add(l(e))},e.prototype.clearDbEntries=function(){return this.db.clear()},e.prototype.deleteEntry=function(e){return this.db.remove(e)},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.html2Escape=function(e){return e.toString().replace(/[<>&"]/g,(function(e){return{"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"}[e]}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={properties:{name:"properties",nameI18nKey:"viewer_:contextmenu.annot.properties",callback:function(e,t,n,o){this.data("annotComponent").showPropertiesDialog(e,t,n,o)}},remove:{name:"delete",nameI18nKey:"viewer_:contextmenu.annot.delete",callback:function(){this.data("annotComponent").removeAnnot()},disabled:function(){return this.data("annotComponent").deleteDisabled()}}};t.getFieldEditContextMenu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-handler-rect";return{selector:e,items:o,events:{show:function(){return this.data("annotComponent").updateDeleteStatus(!0),!0},hide:function(){return this.data("annotComponent").updateDeleteStatus(!1),!0}}}},t.defaultAnnotComponentKey="annotComponent"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=x(n(82)),i=x(n(117)),a=n(33),s=n(103),c=x(n(4)),u=x(n(64)),l=n(963),f=n(18),p=x(n(1)),d=x(n(40)),h=n(12),g=x(n(177)),m=x(n(292)),v=n(24),y=n(179),b=x(n(2)),w=x(n(54)),_=n(34),P=n(14),O=x(n(58)),E=x(n(65));function x(e){return e&&e.__esModule?e:{default:e}}function C(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function D(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var T=void 0,I=void 0,R=(0,l.getImageContextMenu)(".fv__pdf-page-annot-handler-rect"),M=(0,l.getMultiMediaContextMenu)(".fv__pdf-page-annot-handler-rect"),j=function(e){function t(){return A(this,t),S(this,e.apply(this,arguments))}return D(t,e),t.prototype._resize=function(t,n,o){t==y.DIR_NORTH||t==y.DIR_SOUTH||t==y.DIR_EAST||t==y.DIR_WEST?this.enableUniform=!1:this.enableUniform=!0,e.prototype._resize.call(this,t,n,o)},t}(u.default),k=function(e){function t(n,o,r,i){A(this,t);var a=S(this,e.call(this,n,o,r,i));a.name="screen",a.$ui.addClass("fv__pdf-page-screen-annot-container"),a.$handler.addClass("fv__pdf-page-screen-annot-handler-container"),a.fileExt="",a.isVideoAudio=n.info.isAudioVideo,w.default.property(a,"shapeControl",(function(){var e=new j({start:function(e,t,n){return a.onStartUpdateShape(e,t,n)},update:function(e,t){return a.onShapeUpdating(e,t)},moving:function(e,t,n){return a.onShapeMoving(e,t,n)},end:function(e,t,n){return a.onShapeUpdateEnd(e,t,n)},resizable:!0,enableDiagonally:!0,annotRender:i});return a.processShapeControlPermissionCtrl(e),a.addDestroyHook((function(){e.destroy()})),e}));var s=a.pdfViewer.i18n;return b.default.i18n=function(e){return s.t(e)},a}return D(t,e),t.getDefaultContextMenuConfig=function(){return R},t.getMultiMediaContextMenuConfig=function(){return M},t.setContextMenuConfig=function(e){T=e},t.setMultiMediaContextMenuConfig=function(e){I=e},t.prototype.processShapeControlPermissionCtrl=function(e){var t=this,n=this.pdfViewer.getAnnotAuthorityManager();this.addDestroyHook(n.subscribe(this.annot,(function(n){if(!t.isDestroyed){!!t.groupMoveDisabled()||(n.ignorable()?t.moveDisabled():!n.isAdjustable())?e.disable():e.enable()}})))},t.prototype.isMultiMedia=function(){return this.isVideoAudio},t.prototype.redraw=function(e){return this.activeRect(),this.groupMoveDisabled()||this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),e&&this.tileCanvas&&this.tileCanvas.clearCache(),this.render()},t.prototype.getTileConfig=function(e,t){var n=this.pdfViewer,o=n.getSmartScale(e),r=n.config.tileSize,i=this.annot,a=i.getDeviceRect(1,t),s=i.getDeviceRect(o,t),c=s.right-s.left,u=s.bottom-s.top;return[Math.ceil(u/r),Math.ceil(c/r),c,u,r,o,e,t,a.left,a.top]},t.prototype.render=function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,r=this.annot;this.scale=n,this.rotate=o;var s=this.getAnnotFlag();if(s.checkInvisible()||s.checkHidden()||r.isEmpty()||r.isDeleted()||r.rectIsEmpty())return this.tileCanvas&&this.tileCanvas.hideContainer(),Promise.resolve();this.updatePayerRect(),this.tileCanvas&&this.tileCanvas.showContainer();var u,l=this.getTileConfig(n,o),f=this.tileCanvas;return f?(u=f).redraw.apply(u,C(l)):(f=this.tileCanvas=new i.default((function(e,n,o,i,s,c,u,l,f){return t.getPDFPage().getAnnotBitmap(r.getId(),(0,a.pt2px)(c),f,{x:u*c+n*s,y:l*c+e*s,width:o,height:i})}),this.$ui),this.isMultiMedia()&&(this.iconContainer=(0,c.default)('<div class="fv__pdf-page-multi-media-annot-container play"></div>'),this.$ui.append(this.iconContainer)),(e=f).redraw.apply(e,C(l)))},t.prototype.afterRender=function(e){if(e.transformed){if(this.isActive){this.activeRect();var t=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),t)}if(this.isMultiMedia()&&this.$player&&this.$player.is(":visible")){var n=this.annot.getDeviceRect(this.scale,this.rotate);this.$player.css({left:n.left+"px",top:n.top+"px",width:n.right-n.left+"px",height:n.bottom-n.top+"px"})}}},t.prototype.onShapeRotated=function(e){e<0&&(e+=360),e<=45||e>315?e=0:e>45&&e<=135?e=270:e>135&&e<=225?e=180:e>225&&e<=315||e>-135&&e<=-45?e=90:console.warn("degree error: "+e);var t=this.annot.getRotation();return(t+=e)>=360&&(t-=360),this.setRotation(t)},t.prototype.onStartUpdateShape=function(e,t,n){this.editDebouncePromise||(this.editDebouncePromise=new f.DebounceAsyncTaskExecutor(0))},t.prototype.onShapeUpdating=function(e,t){var n=this;if(this.pdfViewer.config.highPerformance)return this.editDebouncePromise?this.editDebouncePromise.exec((function(){return n.setRect(e)})):Promise.resolve()},t.prototype.onShapeMoving=function(e,t){var n=this;if(this.pdfViewer.config.highPerformance)return this.editDebouncePromise?this.editDebouncePromise.exec((function(){return n.moveTo(e.left,e.top)})):Promise.resolve()},t.prototype.onShapeUpdateEnd=function(e,t,n){var o=this;return this.editDebouncePromise.exec((function(){return o.setRect(e).then((function(e){"move"==n&&o.pdfViewer.eventEmitter.emit(p.default.annotationMovedPosition,[o.annot],o.getPDFPage(),o.annot)}))}))},t.prototype.active=function(){e.prototype.active.call(this),this.activeRect(),this.$handler.addClass("active"),this._applyShapeChange()},t.prototype._applyShapeChange=function(){var e=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),e)},t.prototype.movedByOther=function(){this.isActive&&this._applyShapeChange()},t.prototype.getMultiMediaUrl=function(){var e=this,t=this.pdfViewer.resourceGenerator(O.default.PDF_DOCUMENT_CLOSING,E.default.OBJECT_URL).expose().URL;return this.annot.getActionPromise().then((function(n){var o=n.info;if(e.multiMediaUrl)return e.multiMediaUrl;if(o&&"TypeRendition"==o.type)for(var r=0;r<o.renditions.length;r++){var i=o.renditions[r].fileName,a=o.renditions[r].contentType;if(i){var s=i.substr(i.lastIndexOf(".")).toLowerCase();if(e.fileExt=s,[".mp4",".mp3",".wav",".ogg",".m4a",".mov",".avi"].indexOf(s)>-1){e.isMultiMediaAnnot=!0;var c=o.renditions[r].buffer,u=new Blob([c.buffer],{type:a}),l=t.createObjectURL(u);e.multiMediaUrl=l,e.multiMediaFilename=i,e.actionBlob=u;break}}}return e.multiMediaUrl}))},t.prototype.play=function(){var e=this;this.getAppPermission().then((function(t){e.isPaused()?t.isPlayable()&&e.doAction():e.pause()}))},t.prototype.pause=function(){this.player&&this.player.pause()},t.prototype.isPaused=function(){return!this.player||this.player.paused},t.prototype.updatePayerRect=function(){if(this.$player){var e=this.annot.getDeviceRect(this.scale,this.rotate);this.$player.css({left:e.left+"px",top:e.top+"px",width:e.right-e.left+"px",height:e.bottom-e.top+"px"})}},t.prototype.doAction=function(){var e=this;this.isMultiMedia()?this.getMultiMediaUrl().then((function(t){if(t){if(e.$handler.addClass("active"),e.$player)e.$player.show();else{if([".mp3",".wav",".ogg"].indexOf(e.fileExt)>-1){var n=P.isMobile||_.isSafari?"":"fv__hide";e.$handler.append('<div class="fv__pdf-player '+n+'" style="position:absolute;" ><audio class="player" src="'+t+'" poster="#" width="100%" height="100%" controls="controls" controlsList="nodownload" style="width: 100%; height: 100%;">Your browser does not support the video tag.</audio><button><i class="fv__close-video"></i></button></div>')}else e.$handler.append('<div class="fv__pdf-player" style="position:absolute;" ><video class="player" src="'+t+'" poster="#" width="100%" height="100%" controls="controls" controlsList="nodownload">Your browser does not support the video tag.</video><button><i class="fv__close-video"></i></button></div>');e.$player=e.$handler.find(".fv__pdf-player"),e.player=e.$handler[0].querySelector(".fv__pdf-player .player"),(_.isIE||_.isEdge)&&e.player.addClass("IE-player");var o=e.$handler[0].querySelector(".fv__close-video").parentNode;o.addEventListener("click",(function(t){e.player&&e.player.pause&&e.player.pause(),e.$player.hide(),t.stopPropagation()})),o.addEventListener("mousedown",(function(e){e.stopPropagation()})),o.addEventListener("pointerdown",(function(e){e.stopPropagation()})),o.addEventListener("touchstart",(function(e){e.stopPropagation()}));var r=function(t){e.iconContainer.removeClass("play pause").addClass("pause")},i=function(t){e.iconContainer.removeClass("play pause").addClass("play")},a=function(t){e.iconContainer.removeClass("play pause").addClass("play")},s=function(e){e.preventDefault()};e.player.addEventListener("play",r),e.player.addEventListener("pause",i),e.player.addEventListener("ended",a),e.player.addEventListener("click",s),e.addDestroyHook((function(){e.player.removeEventListener("play",r),e.player.removeEventListener("pause",i),e.player.removeEventListener("ended",a),e.player.removeEventListener("click",s)}))}if(e.updatePayerRect(),e.$rect&&e.$rect.css({left:"-100px",top:"-100px",width:0,height:0}),e.player)if(e.player.paused){var c=e.player.play();void 0!==c&&c.then((function(){_.isSafari&&e.player.play()})).catch((function(t){if(!_.isSafari){var n=e.pdfViewer.i18n.t("viewer_:contextmenu.annot.noSptPlayPlsDownload");e.$player.remove(),e.pdfViewer.viewerUI.alert(n)}}))}else e.player.pause()}})):this.pdfViewer.actionManager.get(this.annot.action,this).active()},t.prototype.download=function(){var e=this;this.getAppPermission().then((function(t){t.isAttachmentDownloadable()&&e.isMultiMedia()&&e.getMultiMediaUrl().then((function(t){(0,s.download)(e.actionBlob,e.multiMediaFilename,e.actionBlob.type)}))}))},t.prototype.activeRect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot,t=this.$rect=this.$rect||this.rectInit(),n=this.scale,o=this.rotate,r=e.getDeviceRect(n,o);t.css({left:r.left+"px",top:r.top+"px",width:r.right-r.left+"px",height:r.bottom-r.top+"px"})},t.prototype.rectInit=function(){var e=this,t=this.$handler,n=(0,c.default)(this.createRectDom());t.append(n);var o=n[0],r=this.rectHammer=new Hammer.Manager(o,{recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}]]});return r.add(new Hammer.Tap({event:"doubletap",taps:2})),r.add(new Hammer.Tap({event:"singletap"})),r.get("doubletap").recognizeWith("singletap"),r.get("singletap").requireFailure("doubletap"),r.on("singletap",(function(t){e.rectSingleTap(t)})),t.on("contextmenu",(function(e){e.preventDefault()})),t.on("mouseup",(function(e){e.stopPropagation()})),this.contextMenu=this.pdfViewer.viewerUI.createContextMenu(this,t.get(0),this.getContextMenuConfig()),n.data(l.defaultAnnotComponentKey,this),this.addDestroyHook((function(){r.destroy()})),n},t.prototype.showContextMenu=function(e,t){this.contextMenu&&(this.contextMenu.setCurrentTarget(this),this.contextMenu.showAt(e,t))},t.prototype.createRectDom=function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui},t.prototype._getShapeControllerBoundaryBox=function(){var e=this.getPDFPage(),t=(0,a.getWHByMatrix)(e.getPxWidth(),e.getPxHeight(),this.scale,this.rotate),n=o(t,2);return{left:0,top:0,right:n[0],bottom:n[1]}},t.prototype.getContextMenuConfig=function(){var e=void 0;if(this.isMultiMedia()){if(I)return I;e=this.constructor.getMultiMediaContextMenuConfig()}else{if(T)return T;e=this.constructor.getDefaultContextMenuConfig()}for(var t in e)switch(t){case"items":var n=e[t],o=this.pdfViewer.i18n;for(var r in n){var i=n[r];i.nameI18nKey&&(i.name=o.t(i.nameI18nKey))}}return this.isMultiMedia()?this.constructor.setMultiMediaContextMenuConfig(e):this.constructor.setContextMenuConfig(e),e},t.prototype.updateRender=function(){return this.updateSize(),Promise.resolve()},t.prototype.unActive=function(){e.prototype.unActive.call(this),this.$handler&&this.$handler.removeClass("active")},t.prototype.unActiveMore=function(){},t.prototype.rectSingleTap=function(e){},t.prototype.removeAnnot=function(){var e=this;return this.getAppPermission().then((function(t){return t.ignorable()&&e.deleteDisabled()?Promise.resolve():t.isDeletable()?e.doRemoveAnnot():void 0})).then((function(t){var n=e.pdfViewer.getCurrentActivatable();return n&&n.remove&&n.remove(e),t}))},t.prototype.doRemoveAnnot=function(){var e=this,t=this.pdfViewer,n=t.eventEmitter,o=this.annot;return Promise.resolve((t.customs.removeAnnotBefore||d.default)(this)).then((function(t){if(n.emit(p.default.removeActionAnnotationBefore,e),!1!==t)return o.getPDFPage().removeAnnot(o).then((function(t){if(t)return n.emit(p.default.removeActionAnnotationSuccess,e);n.emit(p.default.removeActionAnnotationFailed,e)}),(function(){n.emit(p.default.removeActionAnnotationFailed,e)}))}))},t.prototype.removeAnnotRender=function(){this.renderDestroy(),this.parent().remove()},t.prototype.getPropertyOptions=function(){var e=this.annot,t=(0,h.colorConvertor)(e.getBorderColor(),"#");-1==t&&(t=0);var n=e.getBorderWidth(),o=e.getBorderStyle(),r=360-e.getRotation();return{color:t,opacity:e.getOpacity(),borderWidth:n,borderStyle:o,disabled:this.propertyDisabled(),rotation:r}},t.prototype.updateContextMenu=function(){var e=this.getContextMenuConfig();this.isMultiMedia()&&(this.player.paused?delete e.items.pause:delete e.items.play),this.$handler.contextMenu(e)},t.prototype.showPropertiesDialog=function(){this.$propertiesControl=new g.default(this,document.body),this.updateDeleteStatus(!0)},t.prototype.hidePropertiesDialog=function(){this.$propertiesControl&&this.$propertiesControl.close(),this.updateDeleteStatus(!1)},t.prototype.showActionsDialog=function(){this.$actionsControl=new m.default(this,document.body,this.annot.action),this.updateDeleteStatus(!0)},t.prototype.hideActionsDialog=function(){this.$actionsControl.close(),this.updateDeleteStatus(!1)},t.prototype.setBorderWidth=function(e){var t=this;return this.annot.setBorderWidth(e).then((function(e){return e?t.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(p.default.updateActionAnnotation,t),e})):e}))},t.prototype.setColor=function(e){var t=this;return this.annot.setBorderColor(e).then((function(e){return e?t.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(p.default.updateActionAnnotation,t),e})):e}))},t.prototype.setBorderStyle=function(e,t){var n=this;return this.annot.setBorderStyle(e,t).then((function(e){return e?n.updateRender().then((function(){n.pdfViewer.eventEmitter.emit(p.default.updateActionAnnotation,n)})):e}))},t.prototype.setOpacity=function(e){var t=this;return e==this.annot.getOpacity()?Promise.resolve(!0):this.annot.setOpacity(e).then((function(e){return e?t.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(p.default.updateActionAnnotation,t),e})):e}))},t.prototype.setRotation=function(e){var t=this,n=this.annot.getRotation(),o=Math.abs(e-n);if(0==o)return!0;var r=this.annot.getRect(),i=r.right-r.left,a=r.top-r.bottom;if(90==o||270==o){var s=(i-a)/2;r.left+=s,r.right-=s,r.top+=s,r.bottom-=s}return this.annot.setRect(r).then((function(n){return n?t.annot.setRotation(e).then((function(e){return e?t.updateRender().then((function(){return t.active(),t.pdfViewer.eventEmitter.emit(p.default.updateActionAnnotation,t),e})):e})):n}))},t.prototype.renderDestroy=function(){this.tileCanvas&&this.tileCanvas.destroy(),this.tileCanvas&&this.$handler.remove()},t.prototype.doubleTapAnnot=function(){return!1},t.prototype.tapAnnot=function(t){return this.pdfViewer.getStateHandlerManager().getCurrentStates().getStateName()===v.STATE_HANDLER_HAND?this.play():e.prototype.tapAnnot.call(this,t)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.contextMenu&&this.contextMenu.destroy()},t}(r.default);t.default=k},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(286);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=function(e){function t(n,o,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r,i)),s=n.getGroupHeader();return s&&"Replace"===s.getIntent()&&(a.isReplace=!0,a.caretAnnot=s),a}return i(t,e),t.prototype.onRightChangeSuccess=function(e){if(this.isReplace)return this.caretAnnot.moveRectByCharIndex(e.charIndex)},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=S(n(74)),i=(S(n(82)),S(n(64))),a=S(n(1)),s=n(33),c=n(12),u=n(18),l=n(179),f=S(n(117)),p=n(103),d=n(965),h=S(n(40)),g=S(n(177)),m=S(n(292)),v=n(24),y=S(n(2)),b=n(966),w=S(n(54)),_=S(n(4)),P=n(14),O=n(34),E=S(n(53)),x=S(n(58)),C=S(n(65)),A=S(n(293));function S(e){return e&&e.__esModule?e:{default:e}}function D(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function R(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var M=void 0,j=(0,d.getSoundContextMenu)(".fv__pdf-page-annot-handler-rect"),k=function(e){function t(){return T(this,t),I(this,e.apply(this,arguments))}return R(t,e),t.prototype._resize=function(t,n,o){t==l.DIR_NORTH||t==l.DIR_SOUTH||t==l.DIR_EAST||t==l.DIR_WEST?this.enableUniform=!1:this.enableUniform=!0,e.prototype._resize.call(this,t,n,o)},t}(i.default),N=function(e){function t(n,o,r,i){T(this,t);var a=I(this,e.call(this,n,o,r,i));a.name="sound",a.$ui.addClass("fv__pdf-page-sound-annot-container"),a.$handler.addClass("fv__pdf-page-sound-annot-handler-container"),n.action&&(a.actionViewer=a.pdfViewer.actionManager.get(n.action,a)),a.isVideoAudio=n.info.isAudioVideo,a.audioUrl="",a.audioBlobData=null,a.multiMediaFilename="",w.default.property(a,"shapeControl",(function(){var e=new k({emitter:a.pdfViewer.eventEmitter,start:function(e,t,n){return a.onStartUpdateShape(e,t,n)},update:function(e,t){return a.onShapeUpdating(e,t)},moving:function(e,t,n){return a.onShapeMoving(e,t,n)},end:function(e,t,n){return a.onShapeUpdateEnd(e,t,n)},resizable:!1,enableDiagonally:!0,moveable:!1,rotatable:!1,annotRender:i,enableSizeBox:!a.isMultiMedia()});return a.processShapeControlPermissionCtrl(e),a.addDestroyHook((function(){e.destroy()})),e}));var s=a.pdfViewer.i18n;return y.default.i18n=function(e){return s.t(e)},a.apRenderer=new A.default(a),a}return R(t,e),t.getDefaultContextMenuConfig=function(){return j},t.setContextMenuConfig=function(e){M=e},t.prototype.isMultiMedia=function(){return this.isVideoAudio},t.prototype.redraw=function(){return this.groupMoveDisabled()||this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),this.render()},t.prototype.getTileConfig=function(e,t){var n=this.pdfViewer,o=n.getSmartScale(e),r=n.config.tileSize,i=this.annot,a=i.getDeviceRect(1,t),s=i.getDeviceRect(o,t),c=s.right-s.left,u=s.bottom-s.top;return[Math.ceil(u/r),Math.ceil(c/r),c,u,r,o,e,t,a.left,a.top]},t.prototype.swapLowHighBit=function(e){for(var t=new Int8Array(e).length,n=new DataView(e),o=new Int8Array(t),r=0;r<t;r+=2)o[r]=r+1==t?0:n.getInt8(r+1),o[r+1]=n.getInt8(r);return o},t.prototype.getMultiMediaUrl=function(){var e=this.annot;if(!this.audioBlobData){var t=e.info.soundObj,n=t.data;this.multiMediaFilename=e.info.title;var o=t.sampleRate,r=t.sampleBits,i=t.channel,a=this.swapLowHighBit(n),s=(a.length,(0,b.encodeWAV)(a,i,o,r)),c=new Blob([new Int8Array(s.buffer)],{type:"audio/wav"});this.audioBlobData=c}var u=this.pdfViewer.resourceGenerator(x.default.PDF_DOCUMENT_CLOSING,C.default.OBJECT_URL).expose().URL;return this.audioUrl=u.createObjectURL(this.audioBlobData,{type:"audio/wav"}),this.audioUrl},t.prototype.render=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,o=arguments[2],r=this.annot;this.scale=e,this.rotate=n;var i,a,c=this.getTileConfig(e,n),u=this.tileCanvas,l=this.getAnnotFlag();return l.checkInvisible()||l.checkHidden()||r.isEmpty()||r.isDeleted()||r.rectIsEmpty()?(u&&u.hideContainer(),Promise.resolve()):(u&&u.showContainer(),this.isHTMLSimulate()?this.apRenderer.render(e,n):u?(u.setVisibleRect(o),(i=u).redraw.apply(i,D(c))):(u=this.tileCanvas=new f.default((function(e,n,o,i,a,c,u,l){return t.getPDFPage().getAnnotBitmap(r.getId(),(0,s.pt2px)(c),t.rotate,{x:u*c+n*a,y:l*c+e*a,width:o,height:i})}),this.$ui),this.isMultiMedia()&&this.$ui.append('<div class="fv__pdf-page-sound-annot-container"></div>'),u.setVisibleRect(o),(a=u).redraw.apply(a,D(c))))},t.prototype.afterRender=function(e){if(e.transformed){if(this.isActive){this.activeRect();var t=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),t)}if(this.isMultiMedia()&&this.$player&&this.$player.is(":visible")){var n=this.annot.getDeviceRect(this.scale,this.rotate);this.$player.css({left:n.left+"px",top:n.top+"px",width:n.right-n.left+"px",height:n.bottom-n.top+"px"})}}},t.prototype.activeRect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot,t=this.$rect=this.$rect||this.rectInit(),n=this.scale,o=this.rotate,r=e.getDeviceRect(n,o);t.css({left:r.left+"px",top:r.top+"px",width:r.right-r.left+"px",height:r.bottom-r.top+"px"})},t.prototype.rectInit=function(){var e=this,t=this.$handler,n=(0,_.default)(this.createRectDom());t.append(n);var o=n[0],r=this.rectHammer=new Hammer.Manager(o,{recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}]]});return r.add(new Hammer.Tap({event:"doubletap",taps:2})),r.add(new Hammer.Tap({event:"singletap"})),r.get("doubletap").recognizeWith("singletap"),r.get("singletap").requireFailure("doubletap"),r.on("doubletap",(function(t){!1!==e.onDoubleTap(t)&&e.rectDoubleTap()})),this.contextMenuIsEnable()&&(this.contextMenu=this.pdfViewer.viewerUI.createContextMenu(this,t.get(0),this.getContextMenuConfig()),n.data(d.defaultAnnotComponentKey,this)),this.addDestroyHook((function(){r.destroy()})),n},t.prototype.getContextMenuConfig=function(){if(M)return M;var e=this.constructor.getDefaultContextMenuConfig();for(var t in e)switch(t){case"items":var n=e[t],o=this.pdfViewer.i18n;for(var r in n){var i=n[r];i.nameI18nKey&&(i.name=o.t(i.nameI18nKey))}}return this.constructor.setContextMenuConfig(e),e},t.prototype.onShapeRotated=function(e){e<0&&(e+=360),e<=45||e>315?e=0:e>45&&e<=135?e=270:e>135&&e<=225?e=180:e>225&&e<=315||e>-135&&e<=-45?e=90:console.warn("degree error: "+e);var t=this.annot.getRotation();return(t+=e)>=360&&(t-=360),this.setRotation(t)},t.prototype.onStartUpdateShape=function(e,t,n){this.editDebouncePromise||(this.editDebouncePromise=new u.DebounceAsyncTaskExecutor(0))},t.prototype.onShapeUpdating=function(e,t){var n=this;this.pdfViewer.config.highPerformance&&this.editDebouncePromise&&this.editDebouncePromise.exec((function(){return n.setRect(e)}))},t.prototype.onShapeMoving=function(e,t){var n=this;this.pdfViewer.config.highPerformance&&this.editDebouncePromise&&this.editDebouncePromise.exec((function(){return n.moveTo(e.left,e.top).then((function(e){n.setMargin()}))}))},t.prototype.onShapeUpdateEnd=function(e,t,n){var o=this;return this.editDebouncePromise?this.editDebouncePromise.exec((function(){return o.moveTo(e.left,e.top,n).then((function(t){return o.setRect(e)})).then((function(e){o.setMargin()}))})):Promise.resolve()},t.prototype.setMargin=function(){var e=this.getGroupRect(),t=this.getRect();this.shapeControl.setMargin(E.default.expandOffset(t,e))},t.prototype.active=function(){e.prototype.active.call(this),this.activeRect(),this.$handler.addClass("active")},t.prototype.play=function(){var e=this;this.getAppPermission().then((function(t){e.isPaused()?t.isPlayable()&&e.doAction():e.pause()}))},t.prototype.pause=function(){this.player&&this.player.pause()},t.prototype.isPaused=function(){return!this.player||this.player.paused},t.prototype.doAction=function(){var e=this;if(this.isMultiMedia()){var t=this.getMultiMediaUrl();if(!t)return;if(this.$handler.addClass("active"),this.$player)this.$player.show();else{if(O.isIE&&!O.isEdge){var n=this.pdfViewer.i18n.t("viewer_:contextmenu.annot.noSptPlayPlsDownload");return this.pdfViewer.viewerUI.alert(n),!1}this.$handler.append('<div class="fv__pdf-player fv__hide" style="position:absolute;" ><audio style="width: 200px" src="'+t+'" poster="#" width="100px" height="100%" controls="controls" controlsList="nodownload">Your browser does not support the video tag.</audio><button><i class="fv__close-video"></i></button></div>'),this.$player=this.$handler.find(".fv__pdf-player"),this.player=this.$handler[0].querySelector(".fv__pdf-player audio"),(O.isIE||O.isEdge)&&this.player.addClass("IE-player"),(P.isMobile||P.isTablet)&&this.player.removeAttribute("controls"),this.$handler[0].querySelector(".fv__close-video").addEventListener("click",(function(t){URL.revokeObjectURL(e.audioUrl),e.player&&e.player.pause&&e.player.pause(),e.$player.hide()}))}var o=this.annot.getDeviceRect(this.scale,this.rotate);if(this.$player.css({left:o.left+"px",top:o.top+"px",width:o.right-o.left+"px",height:o.bottom-o.top+"px"}),this.$rect&&this.$rect.css({left:"-100px",top:"-100px",width:0,height:0}),!this.player)return;this.player.paused?this.player.play&&this.player.play():this.player.pause&&this.player.pause()}else this.actionViewer&&this.actionViewer.active()},t.prototype.download=function(){var e=this;this.getAppPermission().then((function(t){if(t.isAttachmentDownloadable()){var n=e.audioBlobData;O.isIE&&!O.isEdge&&(e.multiMediaFilename=e.multiMediaFilename+".wav"),(0,p.download)(n,e.multiMediaFilename,{type:"audio/wav"})}}))},t.prototype.addAction=function(e){this.actionViewer=this.pdfViewer.actionManager.get(e,this)},t.prototype.showContextMenu=function(e,t){this.contextMenu&&(this.contextMenu.setCurrentTarget(this),this.contextMenu.showAt(e,t))},t.prototype.createRectDom=function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui},t.prototype._getShapeControllerBoundaryBox=function(){var e=this.getPDFPage(),t=(0,s.getWHByMatrix)(e.getPxWidth(),e.getPxHeight(),this.scale,this.rotate),n=o(t,2);return{left:0,top:0,right:n[0],bottom:n[1]}},t.prototype.updateRender=function(){return Promise.resolve()},t.prototype.unActive=function(){e.prototype.unActive.call(this),this.$handler.removeClass("active")},t.prototype.removeAnnot=function(){var e=this;return this.getAppPermission().then((function(t){return t.ignorable()&&("function"==typeof e.deleteDisabled&&e.deleteDisabled()||!e.deleteDisabled)?Promise.resolve():t.isDeletable()?e.doRemoveAnnot():void 0})).then((function(t){var n=e.pdfViewer.getCurrentActivatable();return n&&n.remove&&n.remove(e),t}))},t.prototype.doRemoveAnnot=function(){var e=this,t=this.pdfViewer,n=t.eventEmitter,o=this.annot;return Promise.resolve((t.customs.removeAnnotBefore||h.default)(this)).then((function(t){if(n.emit(a.default.removeActionAnnotationBefore,e),!1!==t)return o.getPDFPage().removeAnnot(o).then((function(t){if(t)return n.emit(a.default.removeActionAnnotationSuccess,e);n.emit(a.default.removeActionAnnotationFailed,e)}),(function(){n.emit(a.default.removeActionAnnotationFailed,e)}))}))},t.prototype.removeAnnotRender=function(){this.renderDestroy(),this.parent().remove()},t.prototype.removeAction=function(){this.actionViewer=null},t.prototype.getPropertyOptions=function(){var e=this.annot,t=(0,c.colorConvertor)(e.getBorderColor(),"#");-1==t&&(t=0);var n=e.getBorderWidth(),o=e.getBorderStyle();return{color:t,opacity:e.getOpacity(),borderWidth:n,borderStyle:o,disabled:this.propertyDisabled()}},t.prototype.updateContextMenu=function(){var e=this.getContextMenuConfig();this.isMultiMedia()&&(this.player.paused?delete e.items.pause:delete e.items.play),this.$handler.contextMenu(e)},t.prototype.showPropertiesDialog=function(){this.$propertiesControl=new g.default(this,document.body),this.updateDeleteStatus(!0)},t.prototype.hidePropertiesDialog=function(){this.$propertiesControl&&this.$propertiesControl.close(),this.updateDeleteStatus(!1)},t.prototype.showActionsDialog=function(){this.$actionsControl=new m.default(this,document.body,this.annot.action),this.updateDeleteStatus(!0)},t.prototype.hideActionsDialog=function(){this.$actionsControl.close(),this.updateDeleteStatus(!1)},t.prototype.setBorderWidth=function(e){var t=this;return this.annot.setBorderWidth(e).then((function(e){return e?t.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(a.default.updateActionAnnotation,t),e})):e}))},t.prototype.setColor=function(e){var t=this;return this.annot.setBorderColor(e).then((function(e){return e?t.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(a.default.updateActionAnnotation,t),e})):e}))},t.prototype.setBorderStyle=function(e,t){var n=this;return this.annot.setBorderStyle(e,t).then((function(e){return e?n.updateRender().then((function(){n.pdfViewer.eventEmitter.emit(a.default.updateActionAnnotation,n)})):e}))},t.prototype.setOpacity=function(e){var t=this;return e==this.annot.getOpacity()?Promise.resolve(!0):this.annot.setOpacity(e).then((function(e){return e?t.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(a.default.updateActionAnnotation,t),e})):e}))},t.prototype.setRotation=function(e){var t=this,n=this.annot.getRotation(),o=Math.abs(e-n);if(0==o)return!0;var r=this.annot.getRect(),i=r.right-r.left,s=r.top-r.bottom;if(90==o||270==o){var c=(i-s)/2;r.left+=c,r.right-=c,r.top+=c,r.bottom-=c}return this.annot.setRect(r).then((function(n){return n?t.annot.setRotation(e).then((function(e){return e?t.updateRender().then((function(){return t.active(),t.pdfViewer.eventEmitter.emit(a.default.updateActionAnnotation,t),e})):e})):n}))},t.prototype.renderDestroy=function(){this.tileCanvas&&this.tileCanvas.destroy(),this.tileCanvas&&this.$handler.remove()},t.prototype.doubleTapAnnot=function(){return!1},t.prototype.tapAnnot=function(t){return this.pdfViewer.getStateHandlerManager().getCurrentStates().getStateName()===v.STATE_HANDLER_HAND?this.play():e.prototype.tapAnnot.call(this,t)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.contextMenu&&this.contextMenu.destroy()},t}(r.default);t.default=N},function(e,t,n){(function(e,o){var r;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(i){t&&t.nodeType,e&&e.nodeType;var a="object"==typeof o&&o;a.global!==a&&a.window!==a&&a.self;var s,c=2147483647,u=/^xn--/,l=/[^\x20-\x7E]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=Math.floor,h=String.fromCharCode;function g(e){throw new RangeError(p[e])}function m(e,t){for(var n=e.length,o=[];n--;)o[n]=t(e[n]);return o}function v(e,t){var n=e.split("@"),o="";return n.length>1&&(o=n[0]+"@",e=n[1]),o+m((e=e.replace(f,".")).split("."),t).join(".")}function y(e){for(var t,n,o=[],r=0,i=e.length;r<i;)(t=e.charCodeAt(r++))>=55296&&t<=56319&&r<i?56320==(64512&(n=e.charCodeAt(r++)))?o.push(((1023&t)<<10)+(1023&n)+65536):(o.push(t),r--):o.push(t);return o}function b(e){return m(e,(function(e){var t="";return e>65535&&(t+=h((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=h(e)})).join("")}function w(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function _(e,t,n){var o=0;for(e=n?d(e/700):e>>1,e+=d(e/t);e>455;o+=36)e=d(e/35);return d(o+36*e/(e+38))}function P(e){var t,n,o,r,i,a,s,u,l,f,p,h=[],m=e.length,v=0,y=128,w=72;for((n=e.lastIndexOf("-"))<0&&(n=0),o=0;o<n;++o)e.charCodeAt(o)>=128&&g("not-basic"),h.push(e.charCodeAt(o));for(r=n>0?n+1:0;r<m;){for(i=v,a=1,s=36;r>=m&&g("invalid-input"),((u=(p=e.charCodeAt(r++))-48<10?p-22:p-65<26?p-65:p-97<26?p-97:36)>=36||u>d((c-v)/a))&&g("overflow"),v+=u*a,!(u<(l=s<=w?1:s>=w+26?26:s-w));s+=36)a>d(c/(f=36-l))&&g("overflow"),a*=f;w=_(v-i,t=h.length+1,0==i),d(v/t)>c-y&&g("overflow"),y+=d(v/t),v%=t,h.splice(v++,0,y)}return b(h)}function O(e){var t,n,o,r,i,a,s,u,l,f,p,m,v,b,P,O=[];for(m=(e=y(e)).length,t=128,n=0,i=72,a=0;a<m;++a)(p=e[a])<128&&O.push(h(p));for(o=r=O.length,r&&O.push("-");o<m;){for(s=c,a=0;a<m;++a)(p=e[a])>=t&&p<s&&(s=p);for(s-t>d((c-n)/(v=o+1))&&g("overflow"),n+=(s-t)*v,t=s,a=0;a<m;++a)if((p=e[a])<t&&++n>c&&g("overflow"),p==t){for(u=n,l=36;!(u<(f=l<=i?1:l>=i+26?26:l-i));l+=36)P=u-f,b=36-f,O.push(h(w(f+P%b,0))),u=d(P/b);O.push(h(w(u,0))),i=_(n,v,o==r),n=0,++o}++n,++t}return O.join("")}s={version:"1.4.1",ucs2:{decode:y,encode:b},decode:P,encode:O,toASCII:function(e){return v(e,(function(e){return l.test(e)?"xn--"+O(e):e}))},toUnicode:function(e){return v(e,(function(e){return u.test(e)?P(e.slice(4).toLowerCase()):e}))}},void 0===(r=function(){return s}.call(t,n,t,e))||(e.exports=r)}()}).call(this,n(969)(e),n(125))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.jsApp=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=l(n(981)),a=l(n(982)),s=l(n(984)),c=l(n(986)),u=(n(14),l(n(454)));function l(e){return e&&e.__esModule?e:{default:e}}var f=new c.default,p=function(){function e(t,n){for(var o in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.jsEngine=t,this.viewerApp=n,this._calculate=!0,this._fullscreen=!0,this._fs=f,this.dialogQueue=Promise.resolve(),this)"function"==typeof this[o]&&(this[o].toString=function(){return"function(){[native code]}"})}return e.prototype.popUpMenu=function(){for(var e=this.viewerApp.i18n.t("viewer_:pdfjs.popupMenu"),t={},n=function n(o){var r=1;return function(i){var a=Object.prototype.toString.call(i);if(a.indexOf("String")>-1&&"-"!==i){var s=void 0;s=void 0!==o?o+"-"+r:String(r),e+=s+". "+i+" \n",t[s.trim()]=i,r++}else if(a.indexOf("Array")>-1){var c=void 0;c=o?o+"-"+r:String(r),e+=c+". "+i[0]+" \n",t[c.trim()]=i[0],void 0!==o?i.slice(1).forEach(n("  "+o+"-"+r)):i.slice(1).forEach(n("  "+r)),r++}}},o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];r.forEach(n());var a=prompt(e,"");if(null===a)return null;for(var s in t)if(t.hasOwnProperty(s)&&a.trim()===s)return t[s]},e.prototype.response=function(e){var t=e.cQuestion,n=(e.cTitle,e.cDefault);e.bPassword,e.cLabel;return window.prompt(t,n||"")},e.prototype.beep=function(e){var t=void 0;switch(e){case 0:t="error";break;case 1:t="warning";break;default:t="error"}var n=new Audio(i.default[t]);n.addEventListener("load",(function(){n.play()}),!0),n.autoplay=!0},e.prototype.alert=function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!this.jsEngine.getEvent().isSensitiveCheck&&!this.jsEngine.getEvent().isLoading){var r=this.jsEngine.getEvent();if(!r.isSensitiveCheck&&!r.isLoading){var i,a;e&&e.nType;switch(i=n,e&&void 0!==e.nType&&(i=e.nType),a=null==e?"undefined":"object"!==(void 0===e?"undefined":o(e))||Array.isArray(e)||1!==arguments.length?e+"":e.cMsg+"",i){default:case 0:return alert(a),0;case 1:return confirm(a)?1:2;case 2:case 3:return confirm(a)?4:3}}}})),e.prototype.clearInterval=function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){clearInterval(e)})),e.prototype.clearTimerOut=function(e){clearTimeout(e)},e.prototype.launchURL=function(e){if(this.jsEngine.getEvent().isSensitiveCheck||this.jsEngine.getEvent().isLoading)this.jsEngine.sensitiveOp=!0;else{if(/\w*:\/\/[\s\S]*/.test(e)){if("file"===e.match(/(\w*):\/+[\s\S]*/)[0])return}else e="http://"+e;var t=e.lastIndexOf("@"),n=e;if(-1!=t){n=e.substr(t+1);var o=e.indexOf("//");-1!=o&&(n=e.substr(0,o+2)+n)}var r=this.viewerApp.i18n.t("viewer_:pdfjs.launchURLHint");confirm(r+"\n"+u.default.toASCII(n))&&window.open(e)}},e.prototype._execDialog=function(e){var t=this;return new Promise((function(n,o){var r=new a.default(e,(function(e){n(e)}));r.initialize(t.jsEngine.PDFViewer),r.doModal()}))},e.prototype.execDialog=function(e,t,n){return this._execDialog(e,t,n)},e.prototype.execMenuItem=function(){console.warn("app.execMenuItem is not completed now.")},e.prototype.setInterval=function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){return setInterval(window.eval(e),t)})),e.prototype.setTimeOut=function(e,t){var n=this;return setTimeout((function(t){return n.jsEngine.exec(e)}),t)},r(e,[{key:"activeDocs",get:function(){return[this.jsEngine.cacheJSDoc]}},{key:"calculate",get:function(){return this._calculate},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return this._calculate=e}},{key:"constants",get:function(){return{algin:{left:0,center:1,right:2,top:3,bottom:4}}}},{key:"focusRect",get:function(){return this._focusRect},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return this._focusRect=e}},{key:"formsVersion",get:function(){return 7}},{key:"fullscreen",get:function(){return this._fullscreen},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return this._fullscreen=e}},{key:"fs",get:function(){return this._fs}},{key:"runtimeHighlight",get:function(){return this.viewerApp.highlightControls()},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return this.viewerApp.highlightForm(e)}},{key:"runtimeHighlightColor",get:function(){return this.viewerApp.getDisplayHighlightColor(this.viewerApp._runtimeColor,this.viewerApp._runtimeColorOpacity,"RGB")},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return this.viewerApp.setFormHighlightColor(e)}},{key:"viewerVersion",get:function(){return 7}},{key:"viewerType",get:function(){return"Exchange-Pro"}},{key:"viewerVariation",get:function(){return"Business Tools"}},{key:"printerNames",get:function(){return["Web Printer"]}},{key:"platform",get:function(){var e=window.navigator.platform,t=null;return-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(e)?t="MAC":-1!==["Win32","Win64","Windows","WinCE"].indexOf(e)?t="WIN":!t&&/Linux/.test(e)&&(t="UNIX"),t}},{key:"language",get:function(){var e=void 0,t=navigator.language||navigator.userLanguage;return[{language:"zh-CN",code:"CHS"},{language:"zh-HK",code:"CHT"},{language:"zh-TW",code:"CHT"},{language:"da",code:"DAN"},{language:"de",code:"DEU"},{language:"en",code:"ENU"},{language:"es",code:"ESP"},{language:"fr",code:"FRA"},{language:"it",code:"ITA"},{language:"ko",code:"KOR"},{language:"ja",code:"JPN"},{language:"nl",code:"NLD"},{language:"nb",code:"NOR"},{language:"pt-BR",code:"PTB"},{language:"fi",code:"SUO"},{language:"sv",code:"SVE"}].some((function(n){t.indexOf(n.language)>-1&&(e=n.code)})),e}},{key:"numPlugIns",get:function(){return 2}},{key:"plugIns",get:function(){return[{name:"Annots",certified:!0,loaded:!0,path:"",version:7},{name:"Forms",certified:!0,loaded:!0,path:"",version:7}]}},{key:"media",get:function(){return new s.default(this.jsEngine)}}]),e}();t.jsApp=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={yellow:["CMYK",0,0,1,0],white:["G",1],transparent:["T"],red:["RGB",1,0,0],magenta:["CMYK",0,1,0,0],ltGray:["G",.75],green:["RGB",0,1,0],gray:["G",.5],dkGray:["G",.25],cyan:["CMYK",1,0,0,0],blue:["RGB",0,0,1],black:["G",0],equal:function(e,t){},convert:function(e,t){var n,o,r;if(t==e[0])return[].concat(e);switch(e[0]){case"T":n=-1,o=-1,r=-1;break;case"G":n=o=r=e[1];break;case"RGB":n=e[1],o=e[2],r=e[3];break;case"CMYK":n=(1-e[4])*(1-e[1]),o=(1-e[4])*(1-e[2]),r=(1-e[4])*(1-e[3])}switch(t){case"T":return;case"G":return["G",(n+r+o)/3];case"RGB":return["RGB",n,o,r];case"CMYK":var i=1-n,a=1-o,s=1-r,c=Math.min(Math.min(i,a),s);return 0!=c?(temp2=Math.round(rep_v/100*c),Math.round(100*temp2),Math.round(100*(i-temp2)),Math.round(100*(a-temp2)),Math.round(100*(s-temp2))):(Math.round(100*i),Math.round(100*a),Math.round(100*s),0),["CMYK",n,o,r]}}};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={always:0,never:1,tooBig:2,tooSmall:3}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(12),a=n(57),s=(o=a)&&o.__esModule?o:{default:o};var c=function(){function e(t,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.delayValue=!1,this.changePropsQueue=[],this.annot=t,this.annotData=n,this.app=o}return e.prototype._delayOrExec=function(e){if(!this.delay)return e();this.changePropsQueue.push(e)},e.prototype.destroy=function(){var e=this;this.annot&&this.annot.getPage().removeAnnotById(this.annot.getId()).then((function(){e.annot=null}))},e.prototype.getProps=function(){var e=this,t={},n=[],o=Object.getOwnPropertyNames(this.constructor.prototype),r=this;return o.map((function(t){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);o&&!o.get||n.push(t)})),Object.getOwnPropertyNames(this.constructor.prototype.__proto__.__proto__).map((function(t){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype.__proto__.__proto__,t);o&&!o.get||n.push(t)})),console.log("key:",n),n.map((function(e){var n=r[e];void 0!==n?(t[e]=n,console.log("this."+e+"=",t[e])):console.log("this."+e+'="undefined"')})),t},e.prototype.setProps=function(e){var t=this,n=[];Object.getOwnPropertyNames(this.constructor.prototype).map((function(e){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);o&&!o.set||n.push(e)}));var o=Object.getOwnPropertyNames(this.constructor.prototype.__proto__.__proto__);for(var r in o.map((function(e){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype.__proto__.__proto__,e);o&&!o.set||n.push(e)})),this.delay=!0,e)this[r]=e[r],console.log("this."+r+"=",e[r]);this.delay=!1},e.prototype.getStateInModel=function(e){if(this.annot&&"text"===this.annot.info.type)return"Marked"===e?[this.annot.getMarkedState(0)]:"Review"===e?[this.annot.getReviewState(0)]:void 0},r(e,[{key:"type",get:function(){return"Annotation"}},{key:"component",get:function(){return this.app.viewerApp.getPDFPageRender(this.annotData.page).annotsRender.getAnnotRender(this.name).component}},{key:"author",get:function(){return this.annot?this.annot.getTitle():this.annotData.author},set:function(e){var t=this;(0,s.default)((function(n){return t._delayOrExec((function(){return t.annot.setTitle(e)}))}))}},{key:"borderEffectIntensity",get:function(){return this.annot?this.annot.getCloudIntensity():this.annotData.borderEffectIntensity},set:function(e){var t=this;(0,s.default)((function(n){return t._delayOrExec((function(){return t.annot.setBorderStyle(5,e)}))}))}},{key:"borderEffectStyle",get:function(){return this.annot?5===this.annot.getBorderStyle()?"C":"":this.annotData.borderEffectStyle},set:function(e){var t=this;(0,s.default)((function(n){return t._delayOrExec((function(){if(""!==e&&"C"!==e)throw new TypeError('effectStyle either empty string or "C"');return"C"===e?t.annot.setBorderStyle(5,1):t.annot.setBorderStyle(0,[])}))}))}},{key:"contents",get:function(){return this.annot?this.annot.getContent():this.annotData.contents},set:function(e){var t=this;(0,s.default)((function(n){return t._delayOrExec((function(){return t.annot.setContent(e)}))}))}},{key:"creationDate",get:function(){return this.annot?this.annot.getCreateDateTime():this.annotData.creationDate}},{key:"delay",get:function(){return this.delayValue},set:function(e){!1===e?(this.delayValue=!1,this.changePropsQueue.forEach((function(e){e&&e()})),this.changePropsQueue=[]):!0===e&&(this.delayValue=!0)}},{key:"doc",get:function(){return this.annot.page.doc}},{key:"hidden",get:function(){return this.annot?2==(2&this.annot.getFlags()):this.annotData.hidden||!1},set:function(e){var t=this;(0,s.default)((function(n){return t._delayOrExec((function(){var n=t.annot.getFlags();return e?n|=2:n&=-3,t.annot.setFlags(n)}))}))}},{key:"inReplyTo",get:function(){return this.annot?this.annot.info.IRT:this.annotData.inReplyTo},set:function(e){}},{key:"intent",get:function(){return this.annot?this.annot.getIntent():this.annotData.intent},set:function(e){var t=this;(0,s.default)((function(n){return t._delayOrExec((function(){return t.annot.setIntent(e)}))}))}},{key:"lock",get:function(){return this.annot?128==(128&this.annot.getFlags()):this.annotData.lock||!1},set:function(e){var t=this;(0,s.default)((function(n){return t._delayOrExec((function(){var n=t.annot.getFlags();return e?n|=128:n&=-129,t.annot.setFlags(n)}))}))}},{key:"modDate",get:function(){return this.annot?this.annot.getModifiedDateTime():this.annotData.modDate},set:function(e){var t=this;(0,s.default)((function(n){return t._delayOrExec((function(){return t.annot.setModifiedDateTime(e)}))}))}},{key:"name",get:function(){return this.annot?this.annot.id:this.annotData.name},set:function(e){var t=this;(0,s.default)((function(n){return t._delayOrExec((function(){return t.annot.id=e,t.annot.setUniqueID(e)}))}))}},{key:"noView",get:function(){return this.annot?32==(32&this.annot.getFlags()):this.annotData.noView||!1},set:function(e){var t=this;(0,s.default)((function(n){return t._delayOrExec((function(){var n=t.annot.getFlags();return e?n|=32:n&=-33,t.annot.setFlags(n)}))}))}},{key:"opacity",get:function(){return this.annot?this.annot.getOpacity():this.annotData.opacity||1},set:function(e){var t=this;(0,s.default)((function(n){return t._delayOrExec((function(){if(Object.prototype.toString.call(e).indexOf("Number")<0)throw new Error("only accept Number");if(e<0||e>1)throw new Error("opacity range: 0 - 1");return t.annot.setOpacity(e)}))}))}},{key:"page",get:function(){return this.annot?this.annot.getPage().getIndex():this.annotData.page},set:function(e){}},{key:"print",get:function(){return this.annot?4==(4&this.annot.getFlags()):this.annotData.print||!1},set:function(e){var t=this;(0,s.default)((function(n){return t._delayOrExec((function(){var n=t.annot.getFlags();return e?n|=4:n&=-5,t.annot.setFlags(n)}))}))}},{key:"rect",get:function(){if(!this.annot)return this.annotData.rect;var e=this.annot.getRect(),t=e.left,n=e.right,o=e.top;return[t,e.bottom,n,o]},set:function(e){var t=this;(0,s.default)((function(n){return t._delayOrExec((function(){if(!Array.isArray(e))throw new Error("only accept Array");return t.annot.setRect({left:e[0],right:e[2],top:e[3],bottom:e[1]})}))}))}},{key:"readOnly",get:function(){return this.annot?64==(64&this.annot.getFlags()):this.annotData.readOnly||!1},set:function(e){var t=this;(0,s.default)((function(n){return t._delayOrExec((function(){var n=t.annot.getFlags();return e?n|=64:n&=-65,t.annot.setFlags(n)}))}))}},{key:"refType",get:function(){if(!this.annot)return this.annotData.refType;this.annot.info.RT},set:function(e){var t=this;(0,s.default)((function(n){t._delayOrExec((function(){if("R"!==e&&"Group"!==e)throw new TypeError('refType should be "R" or "Group"');t.annot.info.RT=e}))}))}},{key:"richContents",get:function(){},set:function(e){}},{key:"seqNum",get:function(){return this.annot?this.annot.info.objNumber:0}},{key:"strokeColor",get:function(){return this.annot?(0,i.convertFromNumberToJSColor)(this.annot.info.borderColor):this.annotData.strokeColor},set:function(e){var t=this;(0,s.default)((function(n){return t._delayOrExec((function(){var n=(0,i.colorConvertor)(e,"int",t.annot.getOpacity());return t.annot.setBorderColor(n)}))}))}},{key:"style",get:function(){return this.annot?this.annot.getBorderStyle():this.annotData.style},set:function(e){var t=this;(0,s.default)((function(n){return t._delayOrExec((function(){var n=e.borderStyle,o=e.styleParam;return t.annot.setBorderStyle(n,o)}))}))}},{key:"subject",get:function(){return this.annot?this.annot.getSubject():this.annotData.subject},set:function(e){var t=this;(0,s.default)((function(n){return t._delayOrExec((function(){return t.annot.setSubject(e)}))}))}},{key:"toggleNoView",get:function(){return this.annot?256==(256&this.annot.getFlags()):this.annotData.toggleNoView},set:function(e){var t=this;(0,s.default)((function(n){return t._delayOrExec((function(){var n=t.annot.getFlags();return e?n|=256:n&=-257,t.annot.setFlags(n)}))}))}},{key:"popupOpen",get:function(){if("freetext"!==this.type&&"sound"!==this.type&&"fileattachment"!==this.type)return this.annot?this.annot.getPopup().getOpenStatus():this.annotData.popupOpen},set:function(e){var t=this;"freetext"!==this.type&&"sound"!==this.type&&"fileattachment"!==this.type&&(0,s.default)((function(n){return t._delayOrExec((function(){return t.annot.getPopup().setOpenStatus(e).then((function(){e&&t.component.showReplyDialog("comment")}))}))}))}},{key:"popupRect",get:function(){if("freetext"!==this.type&&"sound"!==this.type&&"fileattachment"!==this.type){if(!this.annot)return this.annotData.popupRect;var e=this.annot.getPopup().getRect(),t=e.left,n=e.right,o=e.top;return[t,e.bottom,n,o]}},set:function(e){var t=this;"freetext"!==this.type&&"sound"!==this.type&&"fileattachment"!==this.type&&(0,s.default)((function(n){return t._delayOrExec((function(){if(!Array.isArray(e))throw new Error("only accept Array");return t.annot.getPopup().setRect({left:e[0],right:e[2],top:e[3],bottom:e[1]})}))}))}}]),e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={clear:function(){window.console.clear()},show:function(){return!0},hide:function(){return!0},println:function(e){window.console.log(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=(f(n(461)),f(n(298))),i=f(n(1020)),a=(f(n(300)),f(n(13))),s=n(52),c=f(n(1021)),u=f(n(30)),l=n(42);function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var d=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return o.pdfViewer=n,o.prepare(),o.eventBinderMap=[],o.eventBinders=[],o.activeBinders=[],o.defaultBinderName=null,o.activationStack=[],o}return p(t,e),t.prototype.setDefaultBinderName=function(e){this.defaultBinderName=e},t.prototype.activeDefaultBinder=function(){return!!this.defaultBinderName&&(this.activeBinder(this.defaultBinderName),!0)},t.prototype.getDefaultKeyboardEventBinder=function(){return this.getBinder(this.defaultBinderName)},t.prototype.getBinder=function(e){return this.eventBinderMap[e]},t.prototype.registerKeybinding=function(e,t,n){this.eventBinderMap[e].registerKeybinding(t,n)},t.prototype.unRegisterKeybinding=function(e,t,n){var o=this.eventBinderMap[e];o&&o.unRegisterKeybinding(t,n)},t.prototype.activeBinder=function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=this.activeBinders.slice(0),r=this.eventBinderMap[e];if(o.indexOf(r)>-1||!r)return u.default;r.isActive=!0,n?(o.forEach((function(e){e.isActive=!1})),this.activeBinders=[r]):this.activeBinders.push(r);var i={};this.activationStack.push(i);var a=this.activationStack.length-1;return function(){if(!(a>=t.activationStack.length))if(t.activationStack.splice(a,t.activationStack.length-a),r.isActive=!1,n)o.forEach((function(e){e.isActive=!0})),t.activeBinders=o.slice(0);else{var e=t.activeBinders.indexOf(r);e>-1&&t.activeBinders.splice(e,1)}}},t.prototype.getActiveBinders=function(){return this.activeBinders.slice(0)},t.prototype.findCommandsInActiveBinders=function(e){var t=new r.default(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,e.keyCode);return this.activeBinders.map((function(e){var n=e.getCommandOfKeybinding(t);if(n)return{command:n,binder:e}})).filter((function(e){return!!e}))},t.prototype.findCommands=function(e){var t=new r.default(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,e.keyCode);return this.findCommandsByKeyBinding(t)},t.prototype.findCommandsByKeyBinding=function(e){return this.eventBinders.map((function(t){var n=t.getCommandOfKeybinding(e);if(n)return{command:n,binder:t}})).filter((function(e){return!!e}))},t.prototype.addEventBinder=function(e,t){if(t){var n=this.eventBinderMap[t];if(!n)throw new Error("cannot found the event binder you attach to: "+t+"!");n.attach(e)}else this.eventBinders.push(e);this.eventBinderMap[e.name]=e,e.setKeyboard(this)},t.prototype.prepare=function(){var e=this,t=void 0,n=function(n){if(e.pdfViewer.isShortcutKeyEnabled())for(var i=new r.default(n.ctrlKey,n.shiftKey,n.altKey,n.metaKey,n.keyCode),a=(0,s.eventPath)(n),u=function(o){var r=a[o],s=e.activeBinders.some((function(e){var o=e.acceptElement(r);return o&&(t=new c.default(n),e.handleKeydownEvent(i,t)),o})),u=e.getBinder(l.CUSTOM_BINDER);if(u.acceptElement(r)&&u.handleKeydownEvent(i,t),s)return{v:void 0}},f=0;f<a.length;f++){var p=u(f);if("object"===(void 0===p?"undefined":o(p)))return p.v}},a=function(n){if(e.pdfViewer.isShortcutKeyEnabled()&&(!t||!t.isStopped)){for(var o=new r.default(n.ctrlKey,n.shiftKey,n.altKey,n.metaKey,n.keyCode),a=new i.default(n.ctrlKey,n.shiftKey,n.altKey,n.metaKey,o.keyCode,n),c=(0,s.eventPath)(n),u=function(t){var r=c[t],i=e.activeBinders.some((function(e){return!!e.acceptElement(r)&&e.handleEvent(o,a)})),s=e.getBinder(l.CUSTOM_BINDER);return s.acceptElement(r)&&s.handleEvent(o,a),i?"break":a.propagationStopped?(n.stopPropagation(),"break"):void 0},f=0;f<c.length;f++){if("break"===u(f))break}a.preventedDefault&&n.preventDefault()}};window.addEventListener("keydown",n),window.addEventListener("keyup",a),this.addDestroyHook((function(){return window.removeEventListener("keydown",n)})),this.addDestroyHook((function(){return window.removeEventListener("keyup",a)}))},t}(a.default);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeyBindingRule=void 0;var o,r=n(298);(o=r)&&o.__esModule;function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.KeyBindingRule=function(){function e(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;i(this,e),this.command=t,this.keybinding=n,this.priority=o}return e.prototype.equals=function(e){return this.keybinding.equals(e.keybinding)},e}();var a=function(){function e(){i(this,e),this._keybindingRules=[]}return e.prototype.registerKeyBindingRule=function(e){var t=this._keybindingRules.filter((function(t){return t.equals(e)}));if(t.length>0){var n=!0,o=!1,r=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;if(s.equals(e)){if(s.command===e.command)return void(s.priority=e.priority);throw new Error("shortcut conflict: "+s.command+" and "+e.command+" has the same keybindings: "+e.keybinding.toString())}}}catch(e){o=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(o)throw r}}}this._keybindingRules.push(e)},e.prototype.unRegisterKeyBindingRule=function(e){var t=this._keybindingRules.findIndex((function(t){return t.equals(e)}));-1!==t&&this._keybindingRules.splice(t,1)},e.prototype.getKeyBindings=function(e){return this._keybindingRules.filter((function(t){return t.command===e})).sort((function(e,t){return e.priority>t.priority?-1:1})).reduce((function(e,t){var n=!0,o=!1,r=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){if(i.value.equals(t))return}}catch(e){o=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(o)throw r}}return e.push(t),e}),[]).map((function(e){return e.keybinding}))},e.prototype.getCommandOfKeybinding=function(e){var t=this._keybindingRules.filter((function(t){return e.equals(t.keybinding)}));if(t.length>0)return t[0].command},e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(21),i=(o=r)&&o.__esModule?o:{default:o};function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.render,o=void 0===n?function(e){return e}:n,r=t.payloadFieldName,i=void 0===r?"file":r,s=t.origin,c=void 0===s?"":s,u=t.uploadSnapshotAPIPath,l=t.method,f=void 0===l?"POST":l;a(this,e),this.render=o,this.payloadFieldName=i,this.origin=c,this.uploadSnapshotAPIPath=u,this.method=f}return e.prototype.uploadImage=function(e){var t=new XMLHttpRequest,n=(0,i.default)();return t.addEventListener("readystatechange",(function(e){4==t.readyState&&(t.status>=200&&t.status<300||304==t.status?n.resolve(t.responseText):n.reject(t))})),t.open(this.method,this.origin+"/"+this.uploadSnapshotAPIPath+"?filefield="+this.payloadFieldName,!0),t.setRequestHeader("Content-Type","image/png"),t.setRequestHeader("X_File_Name","snapshot.png"),t.send(e),n.promise},e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=s(n(176)),i=s(n(9)),a=s(n(40));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f=i.default.getLogger("WebAppLifecycleInvoker"),p=function(){function e(){l(this,e),this.$hooks=[]}return e.resolveInstance=function(t){if("object"===(void 0===t?"undefined":o(t))){if(t.invoke)return function(e){function n(){return l(this,n),c(this,e.apply(this,arguments))}return u(n,e),n.prototype.prepare=function(){"function"==typeof t.prepare&&t.prepare.apply(this,arguments)},n.prototype.generate=function(){return t.invoke.apply(this,arguments)},n}(e)}else if("function"==typeof t)return r.default.isSubClassOf(t,e)?t:function(e){function n(){return l(this,n),c(this,e.apply(this,arguments))}return u(n,e),n.prototype.generate=function(){return t.apply(this,arguments)},n}(e);throw new Error("incorrect lifecycle invoker")},e.prototype.addReleaseHook=function(e){var t=this;return"function"==typeof e?(this.$hooks.push(e),function(){var n=t.$hooks.indexOf(e);n>-1&&t.$hooks.splice(n,1)}):a.default},e.prototype.prepare=function(){},e.prototype.generate=function(){},e.prototype.release=function(){var e=[];this.$hooks.forEach((function(t,n){try{!1===t()&&e.push(t)}catch(e){f.error("An error occurred while release a resource",e)}})),this.$hooks=e},e.prototype.expose=function(){return{}},e.prototype.wrap=function(e,t,n){var r=Object.create(e),i=e[t];if("function"!=typeof i)throw new Error("Unable to wrap a member that is not function. Actual type: "+(void 0===i?"undefined":o(i)));return r[t]=n(i.bind(r)),r},e}();t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(7);var r=new Error("Method not implemented."),i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.option=t}return e.prototype.loadForm=function(e){throw Error(r+": loadForm")},e.prototype.formFillerEvent=function(e,t,n,o){throw Error(r+": formFillerEvent")},e.prototype.updateField=function(e,t,n,o){throw Error(r+": updateField")},e.prototype.updateFormControl=function(e,t,n,o,i){throw Error(r+": updateFormControl")},e.prototype.updateMKProperty=function(e,t,n,o,i){throw Error(r+": updateMKProperty")},e.prototype.setWidgetAS=function(e,t,n,o){throw Error(r+": setWidgetAS")},e.prototype.setFieldValue=function(e,t,n){throw Error(r+": setFieldValue")},e.prototype.getFieldsValue=function(e){throw Error(r+": getFieldsValue")},e.prototype.addControl=function(e,t,n,o,i){throw Error(r+": addControl")},e.prototype.validateFieldName=function(e,t,n){throw Error(r+": validateFieldName")},e.prototype.renameField=function(e,t,n){throw Error(r+": renameField")},e.prototype.removeField=function(e,t){throw Error(r+": removeField")},e.prototype.removeControl=function(e,t,n){throw Error(r+": removeControl")},e.prototype.fixPageFields=function(e,t){throw Error(r+": fixPageFields")},e.prototype.init=function(){return Promise.resolve(!0)},e.prototype.getPDFDocIdByFile=function(e){throw Error(r+": getPDFDocIdByFile")},e.prototype.getPDFDocIdByChunk=function(e,t){throw Error(r+": getPDFDocIdByChunk")},e.prototype.getPDFDocIdByHttpRangeRequest=function(e){throw Error(r+": getPDFDocIdByHttpRangeRequest")},e.prototype.getPDFDocIdByStream=function(e){throw Error(r+": getPDFDocIdByStream")},e.prototype.parsePDFDocByPassword=function(e){arguments.length>1&&void 0!==arguments[1]||o.EMPTY_STR;throw Error(r+": parsePDFDocByPassword")},e.prototype.setIcons=function(){throw Error(r+": setIcons")},e.prototype.addIcon=function(e){throw Error(r+": addIcon")},e.prototype.removeIcon=function(e,t,n){throw Error(r+": removeIcon")},e.prototype.getPDFDocInfoById=function(e){throw Error(r+": getPDFDocInfoById")},e.prototype.getMetadata=function(e){throw Error(r+": getMetadata")},e.prototype.setMetadataValue=function(e,t,n){throw Error(r+": setMetadataValue")},e.prototype.getFileVersion=function(e){throw Error(r+": getFileVersion")},e.prototype.getPageInfoByIndex=function(e,t){throw Error(r+": getPageInfoByIndex")},e.prototype.getPageInfoById=function(e,t){throw Error(r+": getPageInfoById")},e.prototype.getPageBitmap=function(e,t,n,o,i,a,s){throw Error(r+": getPageBitmap")},e.prototype.getPageAndHighlightBitmap=function(e,t,n,o,i){throw Error(r+": getPageAndHighlightBitmap")},e.prototype.setRenderFlag=function(e,t){throw Error(r+": setRenderFlag")},e.prototype.getAnnot=function(e,t,n){throw Error(r+": getAnnot")},e.prototype.getPageAnnotIDList=function(e,t){throw Error(r+": getPageAnnotIDList")},e.prototype.clearDesignerAssitCache=function(e,t){throw Error(r+": clearDesignerAssitCache")},e.prototype.getAnnots=function(e,t,n){throw Error(r+": getAnnots")},e.prototype.getAnnotBitmap=function(e,t,n,o,i,a){throw Error(r+": getAnnotBitmap")},e.prototype.getAnnotBitmapByRange=function(e,t,n,o,i,a){throw Error(r+": getAnnotBitmapByRange")},e.prototype.getAnnotIdAtPoint=function(e,t,n,o){n.x,n.y;throw Error(r+": getAnnotIdAtPoint")},e.prototype.getAnnotIdAtDevicePoint=function(e,t,n,o,i){n.x,n.y;throw Error(r+": getAnnotIdAtDevicePoint")},e.prototype.getCharInfoAtPoint=function(e,t,n,o){n.x,n.y;throw Error(r+": getCharInfoAtPoint")},e.prototype.updateAnnotQuadPointsByCharIndex=function(e,t,n,o,i){throw Error(r+": updateAnnotQuadPointsByCharIndex")},e.prototype.setAnnotContent=function(e,t,n,o){throw Error(r+": setAnnotContent")},e.prototype.setAnnotBorderColor=function(e,t,n,o){throw Error(r+": setAnnotBorderColor")},e.prototype.setAnnotBorderStyle=function(e,t,n,o,i){throw Error(r+": setAnnotBorderStyle")},e.prototype.setAnnotBorderWidth=function(e,t,n,o){throw Error(r+": setAnnotBorderWidth")},e.prototype.setAnnotFillColor=function(e,t,n,o){throw Error(r+": setAnnotFillColor")},e.prototype.setAnnotBorderInfo=function(e,t,n,o){throw Error(r+": setAnnotBorderInfo")},e.prototype.setAnnotOpacity=function(e,t,n,o){throw Error(r+": setAnnotOpacity")},e.prototype.removeAnnot=function(e,t,n){throw Error(r+": removeAnnot")},e.prototype.annotAddReply=function(e,t,n,o){throw Error(r+": annotAddReply")},e.prototype.annotRemoveReply=function(e,t,n,o){throw Error(r+": annotRemoveReply")},e.prototype.annotRemoveAllStateAnnots=function(e,t,n){throw Error(r+": annotRemoveAllStateAnnots")},e.prototype.annotRemoveAllReply=function(e,t,n){throw Error(r+": annotRemoveAllReply")},e.prototype.setAnnotRect=function(e,t,n,o){throw Error(r+": setAnnotRect")},e.prototype.getAnnotInnerRect=function(e,t,n){throw Error(r+": getAnnotInnerRect")},e.prototype.moveAnnotTo=function(e,t,n,o){throw Error(r+": moveAnnotTo")},e.prototype.getPDFDocStream=function(e,t,n){throw Error(r+": getPDFDocStream")},e.prototype.setAnnotEndingStyle=function(e,t,n,o,i){throw Error(r+": setAnnotEndingStyle")},e.prototype.enableLineCaption=function(e,t,n,o){throw Error(r+": enableLineCaption")},e.prototype.setLineStartPoint=function(e,t,n,o,i){throw Error(r+": setLineStartPoint")},e.prototype.setLineEndPoint=function(e,t,n,o,i){throw Error(r+": setLineEndPoint")},e.prototype.setAnnotLeaderLineLength=function(e,t,n,o){throw Error(r+": setAnnotLeaderLineLength")},e.prototype.updateAnnotVertexes=function(e,t,n,o,i,a){throw Error(r+": updateAnnotVertexes")},e.prototype.setAnnotVertexes=function(e,t,n,o){throw Error(r+": setAnnotVertexes")},e.prototype.setAnnotAPBitmap=function(e,t,n,o,i){throw Error(r+": setAnnotAPBitmap")},e.prototype.setAction=function(e,t,n,o){throw Error(r+": setAction")},e.prototype.setDefaultAppearance=function(e,t,n,o){throw Error(r+": setDefaultAppearance")},e.prototype.setAnnotInnerRect=function(e,t,n,o){o.left,o.right,o.top,o.bottom;throw Error(r+": setAnnotInnerRect")},e.prototype.setAnnotFlag=function(e,t,n,o){throw Error(r+": setAnnotFlag")},e.prototype.importFromFDFFile=function(e,t,n){throw Error(r+": importFromFDFFile")},e.prototype.importFromFDF=function(e,t,n){throw Error(r+": importFromFDF")},e.prototype.exportToFDF=function(e,t,n){throw Error(r+": exportToFDF")},e.prototype.addAnnot=function(e){throw Error(r+": addAnnot")},e.prototype.getTextRectsAtRect=function(e,t,n){throw Error(r+": getTextRectsAtRect")},e.prototype.getTextContinuousRectsAtRect=function(e,t,n){throw Error(r+": getTextContinuousRectsAtRect")},e.prototype.getTextContinuousRectsAtPoints=function(e,t,n,o,i,a,s){throw Error(r+": getTextContinuousRectsAtPoints")},e.prototype.getTextContinuousCharsAtRect=function(e,t,n){throw Error(r+": getTextContinuousCharsAtRect")},e.prototype.getTextSearch=function(e,t,n,o){throw Error(r+": getTextSearch")},e.prototype.textSearchFindNext=function(e){throw Error(r+": textSearchFindNext")},e.prototype.textSearchFindPrev=function(e){throw Error(r+": textSearchFindPrev")},e.prototype.textSearchDestroy=function(e){throw Error(r+": textSearchDestroy")},e.prototype.registerSecurityCallback=function(e,t){throw Error(r+": registerSecurityCallback")},e.prototype.destroyDoc=function(e){throw Error(r+": destroyDoc")},e.prototype.destroyPage=function(e,t){throw Error(r+": destroyPage")},e.prototype.setPopupOpenStatus=function(e,t,n,o){throw Error(r+": setPopupOpenStatus")},e.prototype.moveCaretRectByCharIndex=function(e,t,n,o){throw Error(r+": moveCaretRectByCharIndex")},e.prototype.setAnnotIntent=function(e,t,n,o){throw Error(r+": setAnnotIntent")},e.prototype.setUserName=function(e){throw Error(r+": setUserName")},e.prototype.getUserName=function(){throw Error(r+": getUserName")},e.prototype.addAnnotReviewState=function(e,t,n,o){throw Error(r+": addAnnotReviewState")},e.prototype.addAnnotMarkedState=function(e,t,n,o){throw Error(r+": addAnnotMarkedState")},e.prototype.setStateName=function(e,t,n,o){throw Error(r+": setStateName")},e.prototype.setNoteOpenStatus=function(e,t,n,o){throw Error(r+": setNoteOpenStatus")},e.prototype.removeAllStateAnnots=function(e,t,n){throw Error(r+": removeAllStateAnnots")},e.prototype.setDynamicInfoFormula=function(e,t){throw Error(r+": setDynamicInfoFormula")},e.prototype.getGraphicObjectsInfo=function(e,t){throw Error(r+": getGraphicObjectsInfo")},e.prototype.updatePageInfo=function(e,t){throw Error(r+": updatePageInfo")},e.prototype.setPageRotation=function(e,t,n){throw Error(r+": setPageRotation")},e.prototype.addPageImage=function(e,t,n,o,i,a,s){throw Error(r+": addPageImage")},e.prototype.addWatermark=function(e,t,n){throw Error(r+": addWatermark")},e.prototype.getGraphicsObjectAtPoint=function(e,t,n,o,i,a){throw Error(r+": getGraphicsObjectAtPoint")},e.prototype.setGraphicsObjectMatrix=function(e,t,n,o){throw Error(r+": setGraphicsObjectMatrix")},e.prototype.setGraphicsObjectRect=function(e,t,n,o){throw Error(r+": setGraphicsObjectRect")},e.prototype.getGraphicsObjectBitmap=function(e,t,n,o,i){throw Error(r+": getGraphicsObjectBitmap")},e.prototype.setGraphicsObjectBorderStyle=function(e,t,n,o,i){throw Error(r+": setGraphicsObjectBorderStyle")},e.prototype.setGraphicsObjectBorderWidth=function(e,t,n,o){throw Error(r+": setGraphicsObjectBorderWidth")},e.prototype.setGraphicsObjectBorderColor=function(e,t,n,o){throw Error(r+": setGraphicsObjectBorderColor")},e.prototype.setGraphicsObjectFillColor=function(e,t,n,o){throw Error(r+": setGraphicsObjectFillColor")},e.prototype.setGraphicsObjectOpacity=function(e,t,n,o){throw Error(r+": setGraphicsObjectOpacity")},e.prototype.addGraphicsObject=function(e,t,n){throw Error(r+": addGraphicsObject")},e.prototype.setImageObjectOpacity=function(e,t,n,o){throw Error(r+": setImageObjectOpacity")},e.prototype.setImageObjectRotation=function(e,t,n,o){throw Error(r+": setImageObjectRotation")},e.prototype.insertSubAction=function(e,t,n,o){throw Error(r+": insertSubAction")},e.prototype.setSubAction=function(e,t,n,o){throw Error(r+": setSubAction")},e.prototype.removeAllSubActions=function(e,t){throw Error(r+": removeAllSubActions")},e.prototype.removeSubAction=function(e,t,n){throw Error(r+": removeSubAction")},e.prototype.setActionData=function(e,t,n){throw Error(r+": setActionData")},e.prototype.removeGraphicsObject=function(e,t,n){throw Error(r+": removeGraphicsObject")},e.prototype.removePageAllAnnot=function(e,t){throw Error(r+": removePageAllAnnot")},e.prototype.setTextObjectChar=function(e,t,n,o){throw Error(r+": setTextObjectChar")},e.prototype.setTextObjectItalic=function(e,t,n,o){throw Error(r+": setTextObjectItalic")},e.prototype.setTextObjectBold=function(e,t,n,o){throw Error(r+": setTextObjectBold")},e.prototype.setTextObjectFontSize=function(e,t,n,o){throw Error(r+": setTextObjectFontSize")},e.prototype.setTextObjectStandardFont=function(e,t,n,o){throw Error(r+": setTextObjectStandardFont")},e.prototype.setTextObjectFontByName=function(e,t,n,o,i,a){throw Error(r+": setTextObjectFontByName")},e.prototype.getTextObjectWoff=function(e,t,n){throw Error(r+": getTextObjectWoff")},e.prototype.getAnnotWoff=function(e,t,n){throw Error(r+": getAnnotWoff")},e.prototype.drmEncrypt=function(e,t){throw Error(r+": drmEncrypt")},e.prototype.getAction=function(e,t,n){throw Error(r+": getAction")},e.prototype.getActionFileStream=function(e,t,n){throw Error(r+": getActionFileStream")},e.prototype.getTemplates=function(e){throw Error(r+": getTemplates")},e.prototype.hideTemplate=function(e,t,n){throw Error(r+": hideTemplate")},e.prototype.spawnPage=function(e,t,n,o,i){throw Error(r+": spawnPage")},e.prototype.setFieldsValue=function(e,t,n){throw Error(r+": setFieldsValue")},e.prototype.removeTemplate=function(e,t){throw Error(r+": removeTemplate")},e.prototype.setUniqueId=function(e,t,n,o){throw Error(r+": setUniqueId")},e.prototype.getFontBufferByName=function(e,t){throw Error(r+": getFontBufferByName")},e.prototype.getPageSizes=function(e,t){throw Error(r+": getPageSizes")},e.prototype.setMeasureRatio=function(e,t,n,o){throw Error(r+": setMeasureRatio")},e.prototype.setMeasureUnit=function(e,t,n,o){throw Error(r+": setMeasureUnit")},e.prototype.setMeasureConversionFactor=function(e,t,n,o){throw Error(r+": setMeasureConversionFactor")},e.prototype.startImportPages=function(e,t,n,o,i,a,s,c){throw Error(r+": startImportPages")},e.prototype.extractPages=function(e,t,n,o,i){throw Error(r+": extractPages")},e.prototype.getHeaderFooter=function(e){throw Error(r+": getHeaderFooter")},e.prototype.updateHeaderFooter=function(e,t){throw Error(r+": updateHeaderFooter")},e.prototype.addHeaderFooter=function(e,t){throw Error(r+": addHeaderFooter")},e.prototype.removeHeaderFooter=function(e){throw Error(r+": removeHeaderFooter")},e.prototype.paste=function(e,t,n,o,i,a){throw Error(r+": paste")},e.prototype.setDefaultAp=function(e,t,n,o){throw Error(r+": setDefaultAp")},e.prototype.addAnnotGroup=function(e,t,n,o){throw Error(r+": addAnnotGroup")},e.prototype.verifySignature=function(e,t){throw Error(r+": verifySignature")},e.prototype.setCalloutLinePoints=function(e,t,n,o){throw Error(r+": setCalloutLinePoints")},e.prototype.getGraphicsObjectByIndex=function(e,t,n){throw Error(r+": getGraphicsObjectByIndex")},e.prototype.getGraphicsObjectByIndex=function(e,t,n){throw Error(r+": getGraphicsObjectByIndex")},e.prototype.getGraphicsObjectsCount=function(e,t){throw Error(r+": getGraphicsObjectsCount")},e.prototype.getFontsInfo=function(e){notImplemented()},e.prototype.setInkList=function(e,t,n,o){throw Error(r+": setInkList")},e.prototype.getBookmarks=function(e){throw Error(r+": getBookmarks")},e.prototype.createRootBookmark=function(e){throw Error(r+": createRootBookmark")},e.prototype.insertBookmark=function(e,t,n,o,i,a,s){throw Error(r+": insertBookmark")},e.prototype.setBookmarkProperty=function(e,t,n){throw Error(r+": setBookmarkProperty")},e.prototype.removeBookmark=function(e,t){throw Error(r+": removeBookmark")},e.prototype.getLayerNodes=function(e){throw Error(r+": getLayerNodes")},e.prototype.setLayerNodeVisiable=function(e,t,n){throw Error(r+": setLayerNodeVisiable")},e.prototype.getThumb=function(e,t,n){throw Error(r+": getThumb")},e.prototype.movePageTo=function(e,t,n){throw Error(r+": movePageTo")},e.prototype.insertPage=function(e,t,n,o){throw Error(r+": insertPage")},e.prototype.removePage=function(e,t){throw Error(r+": removePage")},e.prototype.setAnnotIconName=function(e,t,n,o){throw Error(r+": setAnnotIconName")},e.prototype.setCalloutLineEndingStyle=function(e,t,n,o){throw Error(r+": setCalloutLineEndingStyle")},e.prototype.getDocAdditionalActions=function(e){throw Error(r+": getDocAdditionalActions")},e.prototype.calcPageContentBBox=function(e,t,n){throw Error(r+": calcPageContentBBox")},e.prototype.getPageBox=function(e,t,n){throw Error(r+": getPageBox")},e.prototype.setDocColors=function(e,t){throw Error(r+": setDocColors")},e.prototype.markRedactAnnot=function(e,t,n,o){throw Error(r+": markRedactAnnot")},e.prototype.applyRedaction=function(e){throw Error(r+": applyRedaction")},e.prototype.redactApply=function(e,t,n){throw Error(r+": redactApply")},e.prototype.setRedactApplyFillColor=function(e,t,n,o){throw Error(r+": setRedactApplyFillColor")},e.prototype.getAnnotsRawData=function(e,t){throw Error(r+": getAnnotsRawData")},e.prototype.hasForm=function(e){throw Error(r+": hasForm")},e.prototype.setSubject=function(e,t,n,o){throw Error(r+": setSubject")},e.prototype.setTitle=function(e,t,n,o){throw Error(r+": setTitle")},e.prototype.setCreateDateTime=function(e,t,n,o){throw Error(r+": setCreateDateTime")},e.prototype.setModifiedDateTime=function(e,t,n,o){throw Error(r+": setModifiedDateTime")},e.prototype.setTabOrder=function(e,t,n){throw Error(r+": setTabOrder")},e.prototype.getTabOrder=function(e,t){throw Error(r+": getTabOrder")},e.prototype.setStructureOrder=function(e,t,n){throw Error(r+": setStructureOrder")},e.prototype.setAlignment=function(e,t,n,o){throw Error(r+": setAlignment")},e.prototype.getStdCipherOptions=function(e){throw Error(r+": getStdCipherOptions")},e.prototype.setAnnotRotation=function(e,t,n,o){throw Error(r+": setAnnotRotation")},e.prototype.setImage=function(e,t,n,o){throw Error(r+": setImage")},e.prototype.getWidgetMkOption=function(e,t,n){throw Error(r+": getWidgetMkOption")},e.prototype.setWidgetIconCaptionRelation=function(e,t,n,o){throw Error(r+": setWidgetIconCaptionRelation")},e.prototype.setWidgetHighlighting=function(e,t,n,o){throw Error(r+": setWidgetHighlighting")},e.prototype.setWidgetMkCaption=function(e,t,n,o,i){throw Error(r+": setWidgetMkCaption")},e.prototype.setWidgetMkIcon=function(e,t,n,o,i){throw Error(r+": setWidgetMkIcon")},e.prototype.getWidgetIconFitOption=function(e,t,n){throw Error(r+": getWidgetIconFitOption")},e.prototype.setWidgetIconFitOption=function(e,t,n,o){throw Error(r+": setWidgetIconFitOption")},e.prototype.getAllModuleLicenseRight=function(){throw Error(r+": getAllModuleLicenseRight")},e.prototype.moveGraphicsObjectByPosition=function(e,t,n,o,i){throw Error(r+": moveGraphicsObjectByPosition")},e.prototype.setDictionaryEntry=function(e,t,n,o,i){throw Error(r+": setDictionaryEntry")},e.prototype.getDictionaryEntry=function(e,t,n,o){throw Error(r+": getDictionaryEntry")},e.prototype.resetAppearanceStream=function(e,t,n){throw Error(r+": resetAppearanceStream")},e.prototype.renderTemplatesByObjNum=function(e,t){throw Error(r+": renderTemplatesByObjNum")},e.prototype.getNameTree=function(e,t){throw Error(r+": getNameTree")},e.prototype.addNameTreeObj=function(e,t,n,o){throw Error(r+": addNameTreeObj")},e.prototype.removeNameTreeObj=function(e,t,n){throw Error(r+": removeNameTreeObj")},e.prototype.replaceNameTreeObj=function(e,t,n,o){throw Error(r+": replaceNameTreeObj")},e.prototype.renameNameTreeObj=function(e,t,n,o){throw Error(r+": renameNameTreeObj")},e.prototype.getPageIndexByObjNum=function(e,t){throw Error(r+": getPageIndexByObjNum")},e.prototype.nameTreeTemplatesToPages=function(e,t){throw Error(r+": nameTreeTemplatesToPages")},e.prototype.nameTreePagesToTemplates=function(e,t){throw Error(r+": nameTreePagesToTemplates")},e.prototype.showNameTreePageAtTheEnd=function(e){throw Error(r+": showNameTreePageAtTheEnd")},e.prototype.hideNameTreePage=function(e,t){throw Error(r+": hideNameTreePage")},e.prototype.moveControl=function(e,t,n,o){throw Error(r+": moveControl")},e.prototype.getAnnotIdArrayByOrder=function(e,t){throw Error(r+": getAnnotIdArrayByOrder")},e.prototype.getPageDictionary=function(e,t){throw Error(r+": getPageDictionary")},e.prototype.getSuggestedFormDesignerRect=function(e,t){throw Error(r+": getSuggestedFormDesignerRect")},e.prototype.getPDFDictInfo=function(e){throw Error(r+": getInfo")},e.prototype.getPageLabels=function(e,t){throw Error(r+": getPageLabels")},e.prototype.startFormDesignerAssit=function(e){throw Error(r+": startFormDesignerAssit")},e.prototype.stopFormDesignerAssit=function(e){throw Error(r+": stopFormDesignerAssit")},e.prototype.hasKey=function(e,t,n){throw Error(r+": getInfo")},e.prototype.setAt=function(e,t,n,o){throw Error(r+": setAt")},e.prototype.getAt=function(e,t,n){throw Error(r+": getAt")},e.prototype.autoRecognitionForm=function(e){throw Error(r+": autoRecognitionForm")},e.prototype.isStaticXFA=function(e){throw Error(r+": isStaticXFA")},e.prototype.removeXFA=function(e){throw Error(r+": removeXFA")},e.prototype.moveBookmark=function(e,t,n,o){throw Error(r+": moveBookmark")},e.prototype.combineFormsToCSV=function(e,t){throw Error(r+": combineFormsToCSV")},e.prototype.movePagesTo=function(e,t,n){throw Error(r+": movePagesTo")},e.prototype.removePages=function(e,t){throw Error(r+": removePages")},e.prototype.insertBlankPages=function(e,t,n,o){throw Error(r+": insertBlankPages")},e.prototype.rotatePages=function(e,t,n){throw Error(r+": rotatePages")},e.prototype.getFolioTreeRoot=function(e){throw Error(r+": getFolioTreeRoot")},e.prototype.getFolioFileInfo=function(e){throw Error(r+": getFolioFileInfo")},e.prototype.getSnappedPoint=function(e,t,n,o){throw new Error(r+": getSnappedPoint")},e.prototype.getPageTextRectCount=function(e,t){throw new Error(r+": getPageTextRectCount")},e.prototype.getPageTextByRectIndex=function(e,t,n){throw new Error(r+": getPageTextByRectIndex")},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=n(33),i=g(n(151)),a=g(n(19)),s=n(303),c=g(n(466)),u=(g(n(270)),g(n(59))),l=g(n(21)),f=g(n(32)),p=n(268),d=n(85),h=g(n(467));function g(e){return e&&e.__esModule?e:{default:e}}function m(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var v=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.info=t,this.isDestroyed=!1,this.doc=n,this.engine=n.engine,this.api=n.api,this._pxWdith=(0,r.pt2px)(this.getWidth()),this._pxHeight=(0,r.pt2px)(this.getHeight()),this.annots=[],this.annotIdMap={},this.graphicObjects=[],this.info.AA[0]&&(this.openAction=this.doc.engine.actionFactory.createAction(this.info.AA[0],n,this.doc.api,this.doc.engine.eventEmitter,this)),this.info.AA[1]&&(this.closeAction=this.doc.engine.actionFactory.createAction(this.info.AA[1],n,this.doc.api,this.doc.engine.eventEmitter,this))}return e.prototype.getAction=function(e){return"open"==e?this.openAction:this.closeAction},e.prototype.getId=function(){return this.info.id},e.prototype.getInfo=function(){return this.info},e.prototype.getPDFDoc=function(){return this.doc},e.prototype.getIndex=function(){return this.info.index},e.prototype.getWidth=function(){return this.info.width},e.prototype.getHeight=function(){return this.info.height},e.prototype.updateInfo=function(){var e=this;return this.doc.api.updatePageInfo(this.getPDFDoc().getId(),this.getId()).then((function(t){e.info=t,e.doc.updatePageSize(t.index,e.getWidth(),e.getHeight()),e._pxWdith=(0,r.pt2px)(e.getWidth()),e._pxHeight=(0,r.pt2px)(e.getHeight()),e.doc.engine.eventEmitter.emit(a.default.pageInfoChange,e)}))},e.prototype.getRotation=function(){return this.info.rotation},e.prototype.setRotation=function(e){var t=this;if(!this.doc.checkPermission(f.default.assemble|f.default.modify))throw new Error("Permission error");var n=this.getRotation();return e===n?Promise.resolve():this.doc.api.setPageRotation(this.getPDFDoc().getId(),this.getId(),e).then((function(e){return Promise.all([e,t.updateInfo()])})).then((function(e){var r=o(e,1)[0];t.doc.engine.eventEmitter.emit(a.default.pageRotationChange,t,r,n)}))},e.prototype.getRotationAngle=function(){var e=this.getRotation();if(4===e)throw new Error("Unknown rotation angle value: "+e);return 90*e},e.prototype.getPxWidth=function(){return this._pxWdith},e.prototype.getPxHeight=function(){return this._pxHeight},e.prototype.getOriginX=function(){return this.info.cropBox.left},e.prototype.getOriginY=function(){return this.info.cropBox.bottom},e.prototype.getPDFMatrix=function(){return new i.default(this.info.matrix)},e.prototype.getDeviceMatrix=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.getPDFMatrix(),n=this.getHeight(),o=this.getWidth();t.translate(0,-n);var i=(0,r.pt2px)(1);switch(t.scale(i,-i),e){case 90:t.rotate(e/180*Math.PI),t.translate(i*n,0);break;case 180:t.rotate(e/180*Math.PI),t.translate(i*o,i*n);break;case 270:t.rotate(e/180*Math.PI),t.translate(0,i*o)}return t},e.prototype.getDeviceMatrix2=function(){var e=this.getPDFMatrix(),t=this.getRotation(),n=(0,r.pt2px)(1);switch(t%4){case 0:e.translate(0,-this.getHeight()),e.scale(n,-n);break;case 1:e.scale(-n,n),e.rotate(Math.PI/2);break;case 2:e.translate(-this.getWidth(),0),e.scale(-n,n);break;case 3:e.translate(this.getWidth(),this.getHeight()),e.rotate(Math.PI/2),e.scale(n,-n)}return e},e.prototype.getDevicePoint=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=this.getDeviceMatrix(n);return o.scale(t,t),o.transformPoint(e[0],e[1])},e.prototype.getDeviceRect=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=this.getDeviceMatrix(n);o.scale(t,t);var r=o.transformRect(e.left,e.top,e.right,e.bottom);return{left:r[0],top:r[1],right:r[2],bottom:r[3]}},e.prototype.reverseDevicePoint=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=this.getDeviceMatrix(n);return o.scale(t,t),o.setReverse(),o.transformPoint(e[0],e[1])},e.prototype.reverseDeviceOffset=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=this.getDeviceMatrix(n);return o.e=o.f=0,o.scale(t,t),o.setReverse(),o.transformPoint(e[0],e[1])},e.prototype.reverseDeviceRect=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.getDeviceMatrix(n);r.scale(t,t),r.setReverse();var i=r.transformRect(e.left,e.top,e.right,e.bottom),a=o(i,4),s=a[0],c=a[1],u=a[2],l=a[3],f=Math.min(s,u),p=Math.max(s,u),d=Math.max(c,l),h=Math.min(c,l);return{left:f,top:d,right:p,bottom:h}},e.prototype.render=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:["page"],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"view";if(!this.doc.checkPermission(f.default.print||f.default.printHigh))throw new Error("Permission error");if(e*=4/3,-1==o.indexOf("page")&&o.push("page"),"view"!=r&&"print"!=r)throw new Error("Param error: usage should be one of 'view', 'print'. Got '"+r+"' instead.");return this.getPageBitmap(e,t,n,o,r)},e.prototype.getPageBitmap=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:["page"],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"view",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return this.doc.api.getPageBitmap(this.getPDFDoc().getId(),this.getId(),e,t,n,o,r,i)},e.prototype.clearDesignerAssitCache=function(){return this.doc.api.clearDesignerAssitCache(this.getPDFDoc().getId(),this.getId())},e.prototype.getPageAndHighlightBitmap=function(e,t,n,o){return this.doc.api.getPageAndHighlightBitmap(this.getPDFDoc().getId(),this.getId(),e,t,n,o)},e.prototype.getAnnotBitmap=function(e,t,n,o){return this.doc.api.getAnnotBitmap(this.getPDFDoc().getId(),this.getId(),e,t,n,o)},e.prototype.getAnnotBitmapByRange=function(e,t,n,o){return this.doc.api.getAnnotBitmapByRange(this.getPDFDoc().getId(),this.getId(),e,t,n,o)},e.prototype.getAnnotCount=function(){return this.info.annotCount},e.prototype.getAnnots=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t&&(this.annots=[],this.annotIdMap={},this.annotsPromise=null),this.annotIdMap){var n=Object.keys(this.annotIdMap);if(this.annots.length&&n.length)return Promise.resolve(n.map((function(t){return e.annotIdMap[t]})))}return this.annotsPromise=this.annotsPromise||this.doc.api.getAnnots(this.getPDFDoc().getId(),this.getId()).then((function(t){return t.map((function(t){return e.doc.engine.annotManager.get(t,e)}))})).then((function(t){var n=[];e.annotIdMap=t.reduce((function(e,t,o){var r=t.getId();return r in e||n.push(t),e[r]=t,e}),e.annotIdMap);var o=t.map((function(t){return t.reviseSummary((function(t){return e.annotIdMap[t]}))}));return Promise.all(o).then((function(){return e.annots=t,e.annotsPromise=null,e.doc.engine.eventEmitter.emit(a.default.annotationLoaded,e,n,t),e.annots}))}))},e.prototype.getMarkupAnnots=function(){var e=!0===arguments[0];return this.getAnnots().then((function(e){return t(e)}));function t(t){t=t.filter((function(e){return e.isMarkup()&&!e.isDeleted()&&!("popup"===e.getType())&&!function(e){return"widget"===e}(e.getType())&&e.getReplies&&(!e.isStateAnnot||!e.isStateAnnot())}));var n=[],o=[];t.forEach((function(e){var t=e.getReplies();n.push.apply(n,m(t)),n.forEach((function e(t){if(!t&&t.getReplies){var o=t.getReplies();n.push.apply(n,m(o)),o.forEach(e)}})),o.push.apply(o,m(e.getReviewStates())),o.push.apply(o,m(e.getMarkedStates()))}));var r=t.filter((function(e){return-1===n.indexOf(e)&&-1===o.indexOf(e)}));return e?r.reduce((function(e,t){var n=t.getGroupHeader&&t.getGroupHeader()||t;return-1===e.indexOf(n)&&e.push(n),e}),[]):(r.forEach((function(e){"Replace"===e.getIntent()&&e.groupElements.forEach((function(t){if(t!==e){var n=r.indexOf(t);n>-1&&r.splice(n,1)}}))})),r)}},e.prototype.filterAnnot=function(e,t){for(var n=!e,o=0;o<this.annots.length;o++){var r=this.annots[o];if(n&&r.getType()==t)return r;r.info.objectNumber==e&&(n=!0)}return null},e.prototype.filterPrevAnnot=function(e,t){for(var n=!e,o=this.annots.length-1;o>=0;o--){var r=this.annots[o];if(n&&r.getType()==t)return r;r.info.objectNumber==e&&(n=!0)}return null},e.prototype.getAnnotTree=function(){var e=this,t=!0===arguments[0];return this.getMarkupAnnots(t).then((function(t){return e.getAnnots().then((function(e){var n=e.filter((function(e){return!e.isMarkup()&&!e.isDeleted()&&"popup"!==e.info.type}));return t.concat(n).sort((function(t,n){return e.indexOf(t)-e.indexOf(n)}))}))}))},e.prototype.getAnnotIdAtDevicePoint=function(e,t,n){return this.doc.api.getAnnotIdAtDevicePoint(this.getPDFDoc().getId(),this.getId(),{x:e[0],y:e[1]},t,n)},e.prototype.getCharInfoAtPoint=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!this.doc.checkPermission(f.default.extract||f.default.extractAccess))throw new Error("Permission error");return this.doc.api.getCharInfoAtPoint(this.getPDFDoc().getId(),this.getId(),{x:e[0],y:e[1]},t)},e.prototype.removeAnnot=function(e){return this.removeAnnotById(e.getId())},e.prototype.removeAnnotById=function(e){var t=this;if(!this.doc.checkPermission(f.default.annotForm))throw new Error("Permission error");return this.getAnnots().then((function(n){return t.doc.api.removeAnnot(t.getPDFDoc().getId(),t.getId(),e)})).then((function(e){return t.clearRelatives(e),t.clearAnnotIds(e)})).then((function(e){for(var n=e.reduce((function(e,t){return e[t.id]=1,e}),{}),o=t.annots,r=o.length;r--;){n[o[r].id]&&o.splice(r,1)}return t.annots=o,t.doc.engine.eventEmitter.emit(a.default.annotationRemoved,e,t),e}))},e.prototype.changeAnnotId=function(e,t){e in this.annotIdMap&&(this.annotIdMap[t]=this.annotIdMap[e],delete this.annotIdMap[e])},e.prototype.removeAllAnnot=function(){var e=this;if(!this.doc.checkPermission(f.default.annotForm))throw new Error("Permission error");var t=void 0;return this.getAnnots().then((function(n){return t=Object.keys(e.annotIdMap),e.doc.api.removePageAllAnnot(e.getPDFDoc().getId(),e.getId())})).then((function(){return e.clearRelatives(t),e.clearAnnotIds(t)})).then((function(t){return e.doc.engine.eventEmitter.emit(a.default.annotationRemoved,t,e),t}))},e.prototype.getThumb=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;(0,d.assertThat)((0,d.isValidRotationAngle)(e),"Incorrect rotation degree: "+e+", it should be 0, 90, 180, or 270");var t=this.getPDFDoc().getId(),n=this.getId();return this.doc.api.getThumb(t,n,e)},e.prototype.clearRelatives=function(e){if(Array.isArray(e)&&e){var t=e.slice(0);this.getAnnots().then((function(e){e.some((function(e){return e instanceof u.default&&0==(t=e.removeRepliesByIdLocaly(t)).length}))}))}},e.prototype.clearAnnotIds=function(e){for(var t=[],n=this.annotIdMap,o=this.info,r=e.length;r--;){var i=e[r];t[r]=n[i],t[r]&&(t[r].info.isDeleted=!0,delete n[i],o.annotCount--)}for(var a=t.length;a--;)t[a]||t.splice(a,1);return this.annots=this.annots.filter((function(t){return-1==e.indexOf(t.getId())})),t},e.prototype.addReplyAnnot=function(e){if(!this.doc.checkPermission(f.default.annotForm))throw new Error("Permission error");return this.addAddonAnnot(e)},e.prototype.addAddonAnnot=function(e){var t=this,n=e.getId();return this.info.annotCount++,this.annotIdMap[n]=e,e.reviseSummary((function(e){return t.annotIdMap[e]}))},e.prototype.removeAddonAnnotById=function(e){return!!this.annotIdMap[e]&&(this.info.annotCount-=1,delete this.annotIdMap[e])},e.prototype.addAnnot=function(e){var t=this;if(-1==y.indexOf(e.type))throw new Error("Annot type error");if(e.iconCatagory&&(e.iconCategory=e.iconCatagory),e.iconInfo&&e.iconInfo.catagory&&(e.iconInfo.category=e.iconInfo.catagory),!this.doc.checkPermission(f.default.annotForm))throw new Error("Permission error");e.iconInfo;"number"==typeof e.page&&(e=(0,p.xfdfJsonToAddJson)(e));var n=this.getPDFDoc().getId(),o=this.getId(),r=this.doc.engine.getDefaultAnnotConfig()(e.type,e.intent);return e=Object.assign({},r,e),this.doc.api.addAnnot(n,o,e).then((function(e){return t._doAfterAddAnnots(e)}),(function(e){var t=(0,l.default)();return t.reject(e),t.promise}))},e.prototype.markRedactAnnot=function(e){var t=this,n=void 0;if(arguments&&arguments[1]&&(n=arguments[1]),!this.doc.checkPermission(f.default.annotForm))throw new Error("Permission error");var o=this.getPDFDoc().getId(),r=this.getId();return this.doc.api.markRedactAnnot(o,r,e,n).then((function(e){return t._doAfterAddAnnots(e)}))},e.prototype.addAnnotGroup=function(e,t){var n=this;if(!this.doc.checkPermission(f.default.annotForm))throw new Error("Permission error");e.forEach((function(e){if(!e.type)throw new Error("Annot type error")}));var o=this.getPDFDoc().getId(),r=this.getId();return e=e.map((function(e){var t=n.doc.engine.getDefaultAnnotConfig()(e.type,e.intent,e.typeAlias);return Object.assign({},t,e)})),this.doc.api.addAnnotGroup(o,r,e,t).then((function(e){return n._doAfterAddAnnots(e)}))},e.prototype._doAfterAddAnnots=function(e){var t=this,n=e.map((function(e){return e&&t.doc.engine.annotManager.get(e,t)}));n.reduce((function(e,t){return e[t.getId()]=t,e}),this.annotIdMap);var o=n.map((function(e){return e.reviseSummary((function(e){return t.annotIdMap[e]}))}));return this.annots=this.annots.concat(n),this.info.annotCount=this.annots.length,Promise.all(o).then((function(){return t.doc.engine.eventEmitter.emit(a.default.annotationAdd,n,t),n}))},e.prototype.getUnloadedAnnots=function(){var e=this,t=this.getPDFDoc().getId(),n=this.getId();return this.doc.api.getPageAnnotIDList(t,n).then((function(o){var r=o.filter((function(t){return!e.annotIdMap[t]}));return(r.length?e.doc.api.getAnnots(t,n,r):Promise.resolve([])).then((function(t){return t.map((function(t){return t?e.doc.engine.annotManager.get(t,e):null})).filter((function(e){return!!e}))})).then((function(t){var n=t.reduce((function(e,t){return e[t.getId()]=t,e}),{});return e.annotIdMap=o.reduce((function(t,o){var r=e.annotIdMap[o]||n[o];return r&&(t[o]=r),t}),{}),Promise.all(Object.keys(e.annotIdMap).map((function(t){var n=e.annotIdMap[t];return n&&n.update()}))).then((function(e){return t}))})).then((function(t){e.annots=e.annots.concat(t),e.info.annotCount=e.annots.length;var n=e.annots.map((function(t){return t.reviseSummary((function(t){return e.annotIdMap[t]}))}));return Promise.all(n).then((function(){e.doc.engine.eventEmitter.emit(a.default.annotationLoaded,e,t,e.annots)})),t}))}))},e.prototype.getTextRectsAtRect=function(e){return this.doc.api.getTextRectsAtRect(this.getPDFDoc().getId(),this.getId(),e)},e.prototype.getTextContinuousRectsAtRect=function(e){return this.doc.api.getTextContinuousRectsAtRect(this.getPDFDoc().getId(),this.getId(),e)},e.prototype.getTextContinuousRectsAtPoints=function(e,t,n,o,r){return this.doc.api.getTextContinuousRectsAtPoints(this.getPDFDoc().getId(),this.getId(),e,t,n,o,r)},e.prototype.getTextContinuousCharsAtRect=function(e){return this.doc.api.getTextContinuousCharsAtRect(this.getPDFDoc().getId(),this.getId(),e)},e.prototype.getTextSearch=function(e,t){var n=this;return this.doc.api.getTextSearch(this.getPDFDoc().getId(),this.getId(),e,t).then((function(e){return new c.default(e,n)}))},e.prototype.destroy=function(){return this.isDestroyed=!0,this.annots.forEach((function(e){return e.destroy()})),this.graphicObjects.forEach((function(e){return e.destroy()})),this.graphicObjects=null,this.annots=null,this.annotIdMap=null,this.info=null,this.doc=null,this.api=null,Promise.resolve()},e.prototype.getAnnotsByIdArray=function(e){var t=this;return this.getAnnots().then((function(){for(var n=t.annotIdMap,o=[],r=0,i=e.length;r<i;r++){var a;(a=n[e[r]])&&o.push(a)}return o}))},e.prototype.flatten=function(e){var t=this;if((e|3-e)<0)throw new Error("Param option error.");var n=this.doc;if(!(n.checkPermission(f.default.annotForm)&&n.checkPermission(f.default.modify)&&n.checkPermission(f.default.assemble|f.default.modify)))throw new Error("Permission error");return this.doc.api.flatten(this.getPDFDoc().getId(),this.getId(),e).then((function(e){t.annotIdMap={},t.annots.length=0,t.info.annotCount=0;var o=void 0;return(o=t.doc.getPDFForm())&&o.reduceControl(t.getIndex(),e),t.doc.engine.eventEmitter.emit(a.default.flattened,t.getIndex()),t.doc.engine.eventEmitter.emit(a.default.docModified,n),!0}))},e.prototype.addImage=function(e,t){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!this.doc.checkPermission(8))throw new Error("Permission error");var r={x:t.left,y:t.bottom},i=t.right-t.left,s=t.top-t.bottom;return this.doc.api.addPageImage(this.getPDFDoc().getId(),this.getId(),e,r,i,s,o).then((function(e){if(e){var t=n.doc.engine.graphicsObjectManager.get(e,n);return t&&n.graphicObjects.push(t),n.doc.engine.eventEmitter.emit(a.default.imageAdded,n),t}return e}))},e.prototype.addWatermark=function(e){var t=this,n=e.type,o=e.text;if("text"!==n||!(0,s.allIsSpace)(o)){if(!this.doc.checkPermission(f.default.modify))throw new Error("Permission error");return this.doc.api.addWatermark(this.getPDFDoc().getId(),this.getId(),e).then((function(e){if(e)if(e.typeInEngine&&"AnnotType_e_Watermark"===e.typeInEngine){var n=[].concat(t.doc.engine.annotManager.get(e,t));t.doc.engine.eventEmitter.emit(a.default.annotationAdd,n,t),t.doc.engine.eventEmitter.emit(a.default.watermarkAdded,t)}else t.doc.engine.eventEmitter.emit(a.default.watermarkAdded,t);return e}))}},e.prototype.getGraphicsObjectsInRect=function(e,t,n){var o=this;if(n<0||n>3)throw new Error("Type error, only 0~3 are available. current is: "+n);return this.doc.api.getGraphicsObjectAtPoint(this.getPDFDoc().getId(),this.getId(),null,t,n,e).then((function(e){return e.map((function(e){var t=o.doc.engine.graphicsObjectManager.get(e,o);return t&&o.graphicObjects.push(t),t}))}))},e.prototype.getGraphicsObjectAtPoint=function(e,t,n){var o=this;return this.doc.api.getGraphicsObjectAtPoint(this.getPDFDoc().getId(),this.getId(),e,t,n).then((function(e){var t=o.doc.engine.graphicsObjectManager.get(e,o);return t&&o.graphicObjects.push(t),t}))},e.prototype.getGraphicsObjectByIndex=function(e){var t=this;return e<0?Promise.resolve(null):this.doc.api.getGraphicsObjectByIndex(this.getPDFDoc().getId(),this.getId(),e).then((function(e){var n=t.doc.engine.graphicsObjectManager.get(e,t);return n&&t.graphicObjects.push(n),n}))},e.prototype.getGraphicsObjectsCount=function(){return this.doc.api.getGraphicsObjectsCount(this.getPDFDoc().getId(),this.getId())},e.prototype.setGraphicsObjectMatrix=function(e){var t=this;if(!this.doc.checkPermission(f.default.modify))throw new Error("Permission error");return this.doc.api.setGraphicsObjectRect(this.getPDFDoc().getId(),e).then((function(e){t.doc.engine.eventEmitter.emit(a.default.graphicsUpdated,t)}))},e.prototype.addGraphicsObject=function(e){var t=this;if(!this.doc.checkPermission(f.default.modify))throw new Error("Permission error");return this.doc.api.addGraphicsObject(this.getPDFDoc().getId(),this.getId(),e).then((function(e){var n=t.doc.engine.graphicsObjectManager.get(e,t);return n&&t.graphicObjects.push(n),t.doc.engine.eventEmitter.emit(a.default.graphicsUpdated,t),n}))},e.prototype.removeGraphicsObject=function(e){var t=this;if(!this.doc.checkPermission(f.default.modify))throw new Error("Permission error");return this.graphicObjects=this.graphicObjects.filter((function(e){return e.getId()!=e.getId()})),this.doc.api.removeGraphicsObject(this.getPDFDoc().getId(),this.getId(),e.getId()).then((function(e){t.doc.engine.eventEmitter.emit(a.default.graphicsUpdated,t)}))},e.prototype.pasteAnnot=function(e,t){var n=this;if(!this.doc.checkPermission(f.default.annotForm))throw new Error("Permission error");var o=this.getPDFDoc().getId(),r=this.getId();return this.doc.api.paste(o,r,e.getPage().getId(),"annot",e.getId(),t).then((function(e){return n._doAfterAddAnnots(e)}),(function(e){return Promise.reject(e)}))},e.prototype.pasteGraphicObject=function(e,t,n){var o=this;if(!this.doc.checkPermission(f.default.modify))throw new Error("Permission error");if(this.graphicObjects.some((function(t){return t.getId()==e}))){var r=this.getPDFDoc().getId(),i=this.getId();return this.doc.api.paste(r,i,this.doc.pageCache[t].getId(),"graphicObject",e,n).then((function(e){return o.doc.engine.eventEmitter.emit(a.default.graphicsUpdated,o),o.doc.engine.graphicsObjectManager.get(e,o)}),(function(e){var t=(0,l.default)();return t.reject(e),t.promise}))}},e.prototype.getMediaWidth=function(){return this.info.mediaWidth},e.prototype.getMediaHeight=function(){return this.info.mediaHeight},e.prototype.isCropped=function(){return this.info.isCropped},e.prototype.calcPageContentBBox=function(e){return this.doc.api.calcPageContentBBox(this.getPDFDoc().getId(),this.getIndex(),e)},e.prototype.getPageBox=function(e){return this.doc.api.getPageBox(this.getPDFDoc().getId(),this.getIndex(),e)},e.prototype.getAnnotIdArrayByOrder=function(){return this.doc.api.getAnnotIdArrayByOrder(this.getPDFDoc().getId(),this.getId())},e.prototype.getDict=function(){var e=this;return this.doc.api.getPageDictionary(this.getPDFDoc().getId(),this.getId()).then((function(t){return new h.default(e.doc,t.id,e.doc.engine)}))},e.prototype.getSuggestedFormDesignerRect=function(e){return this.doc.api.getSuggestedFormDesignerRect(this.getPDFDoc().getId(),this.getId(),e)},e.prototype.getSnappedPoint=function(e,t){var n=this.getPDFDoc().getId(),o=this.getId();return this.doc.api.getSnappedPoint(n,o,e,t)},e.prototype.getTextRectCount=function(){var e=this.getPDFDoc().getId(),t=this.getId();return this.doc.api.getPageTextRectCount(e,t)},e.prototype.getTextByRectIndex=function(e){var t=this.getPDFDoc().getId(),n=this.getId();return this.doc.api.getPageTextByRectIndex(t,n,e)},e}(),y=["highlight","strikeout","underline","squiggly","caret","text","fileattachment","freetext","ink","line","link","circle","square","polygon","polyline","stamp","screen"];t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(1042),i=(o=r)&&o.__esModule?o:{default:o};var a=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t,this.page=n,this.api=n.api}return e.prototype.getId=function(){return this.id},e.prototype.findNext=function(){return this.page.doc.api.textSearchFindNext(this.getId()).then((function(e){return e?new i.default(e):null}))},e.prototype.findPrev=function(){return this.page.doc.api.textSearchFindPrev(this.getId()).then((function(e){return e?new i.default(e):null}))},e.prototype.destroy=function(){return this.page.doc.api.textSearchDestroy(this.getId())},e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(19),i=(o=r)&&o.__esModule?o:{default:o};var a=function(){function e(t,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.doc=t,this.id=n,this.engine=o}return e.prototype.hasKey=function(e){return this.doc.api.hasKey(this.doc.getId(),this.id,e)},e.prototype.setAt=function(e,t){var n=this;return this.doc.api.setAt(this.doc.getId(),this.id,e,t).then((function(e){return n.engine.eventEmitter.emit(i.default.docModified,n.doc),e}))},e.prototype.getAt=function(e){return this.doc.api.getAt(this.doc.getId(),this.id,e)},e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(304);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=function(e){function t(n,o,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r))}return i(t,e),t.prototype.isSigned=function(){return this.info.isSigned},t.prototype.getByteRange=function(){return this.info.byteRange},t.prototype.getFilter=function(){return this.info.filter},t.prototype.getSubfilter=function(){return this.info.subfilter},t.prototype.getSigner=function(){return this.info.signer},t.prototype.setLockAction=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Array.isArray(n)||(n=n.split(",")),this.form.addTask((function(o){return t.doc.api.setLockAction(t.doc.id,t.info.name,e,n).then((function(o){return t.info.lockAction={type:e,fields:n}}))}))},t.prototype.getLockAction=function(){return this.info.lockAction},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t?this.json=t:(this.json={contentFormats:{},margin:{left:72,right:36,top:72,bottom:36},textSize:12,textColor:4278190080,hasTextShrinked:!1,hasFixedSized:!1,startPageNumber:1,underline:!1},this.empty=!0)}return e.prototype.destroy=function(){this.json=null},e.prototype.isEmpty=function(){return this.empty},e.prototype.getContent=function(e){return this.json.contentFormats[e]||this.json.contents[e]},e.prototype.setFont=function(e){this.json.fontId=e},e.prototype.setContentFormat=function(e,t){this.empty=!1,this.json.contentFormats[e]=t},e.prototype.setRange=function(e){if(e.start<1||e.end<1)throw new Error("page range is wrong.");if(e.filter<0||e.filter>2)throw new Error("Wrong filter.");this.json.range=e},e.prototype.setMargin=function(e){this.json.margin=e},e.prototype.setTextSize=function(e){this.json.textSize=e},e.prototype.setTextColor=function(e){this.json.textColor=e},e.prototype.enableTextShrinked=function(e){this.json.hasTextShrinked=e},e.prototype.enableFixedSizedForPrint=function(e){this.json.hasFixedSized=e},e.prototype.setStartDisplayingPage=function(e){this.json.startPageNumber=e},e.prototype.setUnderline=function(e){this.json.underline=e},e.prototype.getUnderline=function(){return this.json.underline},e}();t.default=o},function(e,t,n){"use strict";n.r(t);var o,r=n(7),i=n(13),a=n.n(i),s=n(9),c=n.n(s),u=n(28),l=n(1),f=n.n(l),p=n(166),d=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),h=c.a.getLogger("AnnotationAuthorityManager"),g=function(e){function t(t,n){var o=e.call(this)||this;o.pdfViewer=t,o.getAnnotPermissionCallback=n,o.store=new u.Store,o.cachedAnnots={};var r=function(e){Array.isArray(e)&&e.length>0&&e.forEach((function(e){var t=o.generateKey(e);delete o.cachedAnnots[t]}))},i=function(e){e.forEach((function(e){return o.update(e)}))},a=function(e){o.update(e)},s=function(e,t){t.forEach((function(e){e.newAnnots.forEach((function(e){return o.update(e)}))}))},c=function(e,t,n){t.forEach((function(e){o.update(e)}))},l=function(e){e.forEach((function(e){o.update(e)}))};return t.eventEmitter.on(f.a.annotationRemoved,r),t.eventEmitter.on(f.a.annotationAdd,i),t.eventEmitter.on(f.a.annotationImported,s),t.eventEmitter.on(f.a.annotationLoaded,c),t.eventEmitter.on(f.a.annotationReplyAdd,a),t.eventEmitter.on(f.a.annotationUpdated,l),o.addDestroyHook((function(){t.eventEmitter.off(f.a.annotationRemoved,r),t.eventEmitter.off(f.a.annotationAdd,i),t.eventEmitter.off(f.a.annotationImported,s),t.eventEmitter.off(f.a.annotationLoaded,c),t.eventEmitter.off(f.a.annotationReplyAdd,a),t.eventEmitter.on(f.a.annotationUpdated,l),o.clear(),o.store.destroy()})),o}return d(t,e),t.prototype.getPermission=function(e){var t=this.generateKey(e);return this.store.has(t)||this.update(e),this.store.takeWhile(t)},t.prototype.update=function(e){var t=this,n=this.generateKey(e);if(e.isDeleted()){var o=Promise.resolve(p.default.ignorable());return this.store.dispatch(n,o),delete this.cachedAnnots[n],o}var i=this.store.getCurrentValue(n)||r.RESOLVED_PROMISE_VOID,a=(this.getAnnotPermissionCallback(e)||r.RESOLVED_PROMISE_VOID).then((function(n){var o;return o=n?0===n.length?p.default.none():new p.default(n):p.default.ignorable(),i.then((function(n){if(!o.equalsTo(n))try{t.pdfViewer.eventEmitter.emit(f.a.annotationPermissionChanged,e,o,n)}catch(e){h.error("An error occurred inside the listener of ViewerEvents.annotationPermissionChanged",e)}})),o}));return this.store.dispatch(n,a),this.cachedAnnots[n]=e,a},t.prototype.subscribe=function(e,t){var n=this.generateKey(e);return this.store.subscribe(n,(function(n){n.then((function(n){t(n,e)}))}))},t.prototype.updateAll=function(){var e=this;return Promise.all(Object.keys(this.cachedAnnots).filter((function(t){var n=e.cachedAnnots[t].isDeleted();return n&&delete e.cachedAnnots[t],!n})).map((function(t){return e.update(e.cachedAnnots[t])})))},t.prototype.generateKey=function(e){return e.page.getId()+"/"+e.getId()},t.prototype.clear=function(){this.store.clear(),this.cachedAnnots={}},t}(a.a);t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(118),i=(o=r)&&o.__esModule?o:{default:o},a=n(8);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.ORIENTATION_HORIZONTAL,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"no";s(this,t);var r=c(this,e.call(this));return r.orientation=n,r.gap=o,r}return u(t,e),t.getName=function(){return"flow"},t.prototype.render=function(e,t){var n=document.createElement("div");n.classList.add("fv__layout-flow",this.orientation,"gap_"+this.gap);var o=e.map((function(e){var t=document.createElement("div");return t.classList.add("fv__layout-flow-item"),t.appendChild(e),t}));n.append.apply(n,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(o)),t.appendChild(n)},t}(i.default);t.default=l},function(e,t,n){"use strict";var o=a(n(6)),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(84)),i=a(n(488));function a(e){return e&&e.__esModule?e:{default:e}}n(427);var s=o.default.root().getRegistry();for(var c in r)s.registerComponent(r[c]);s.registerComponent(i.default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(27);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=function(e){function t(n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r));return i.selectable=!0===n.selectable,i}return i(t,e),t.getName=function(){return"dropdown-item"},t.prototype.createDOMElement=function(){return document.createElement("li")},t.prototype.doDisable=function(){this.element.classList.add("disabled")},t.prototype.doEnable=function(){this.element.classList.remove("disabled")},t.prototype.render=function(){e.prototype.render.call(this),this.element.classList.add("fv__ui-dropdown-item")},t.prototype.acceptText=function(){return!0},t.prototype.sync=function(t,n){switch(t){case"text":this.element.setAttribute("data-i18n",n),this.localize();break;default:e.prototype.sync.call(this,t,n)}},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(27)),r=a(n(1105)),i=a(n(1106));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(n,o,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,a)),c=n.shrinkSize||parseInt(s.viewConfig.attrs["shrink-size"]);return s.shrinkSize=c||(s.parent?s.parent.shrinkSize:1024),s.shrinkTitle=n.shrinkTitle||s.viewConfig.attrs["shrink-title"]||"",s.according=n.according||s.viewConfig.attrs.according||"root",s.layout=new r.default,s.isShrinked=!1,s.retainCount=n.retainCount||parseInt(s.viewConfig.attrs["retain-count"])||1,s.btnList=new i.default(s,o,a),s.setRetainCount(s.retainCount),s}return s(t,e),t.getName=function(){return"group"},t.prototype.setPDFUIInstance=function(t){e.prototype.setPDFUIInstance.call(this,t),this.btnList.setPDFUIInstance(t)},t.prototype.render=function(){e.prototype.render.call(this),this.btnList.render()},t.prototype.createDOMElement=function(){var e=document.createElement("div");return e.classList.add("fv__ui-grouplist-item"),e},t.prototype.setRetainCount=function(e){if(e<0)throw new Error("Illegal argument: retainCount must large then -1 but actual "+e);this.retainCount=e,this.rerenderChildren()},t.prototype.setShrinkTitle=function(e){this.btnList.setShrinkTitle(e),this.shrinkTitle=this.btnList.title},t.prototype.rerenderChildren=function(){var e=this;if(!this.isDestroyed){var t=this.children();0===t.length?(this.element.clear(),this.element.classList.add("fv__ui-is-empty")):this.element.classList.remove("fv__ui-is-empty");var n=t.slice(0,this.retainCount).reduce((function(e,t){return e.concat(t.getRenderingElements())}),[]);t.slice(this.retainCount).forEach((function(t){e.btnList.append(t)})),t.length>this.retainCount&&n.push(this.btnList.moreElement),n.push(this.btnList.element);var o=this.$temporaries.children().reduce((function(e,t){return e.concat(t.getRenderingElements())}),[]);this.diffRenderer(this.element,n.concat(o)),this.btnList.updateShrinkComponents(t.slice(this.retainCount))}},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this),this.btnList.mounted();var n=function(){t.updateShrinkStatus()};window.addEventListener("resize",n),this.addDestroyHook((function(){window.removeEventListener("resize",n)})),this.updateShrinkStatus()},t.prototype.updateShrinkStatus=function(){if(!(this.shrinkSize<=0)){var e=void 0;switch(this.according){case"screen":e=window.innerWidth;break;default:e=this.getRoot().element.offsetWidth}if(e<=this.shrinkSize){var t=!this.isShrinked;this.element.classList.add("shrink"),this.isShrinked=!0,t&&(this.parent.trigger("shrink",this,!0),this.trigger("shrink",!0))}else{var n=this.isShrinked;this.element.classList.remove("shrink"),this.isShrinked=!1,n&&(this.parent.trigger("shrink",this,!1),this.trigger("shrink",!1))}}},t.prototype.doDestroy=function(){e.prototype.doDestroy.call(this),this.btnList.destroy()},t}(o.default);t.default=c},function(e,t,n){"use strict";n.r(t),n.d(t,"BorderStyle",(function(){return r})),n.d(t,"SelectionEventType",(function(){return i})),n.d(t,"createAreaLimitationReducer",(function(){return f})),n.d(t,"Selections",(function(){return p}));n(1112);var o,r,i,a=n(13),s=n.n(a),c=n(28),u=n(43),l=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function f(e){return e instanceof HTMLElement?function(n,o){return o===i.UPDATE&&n?t(n,e.getBoundingClientRect()):n}:function(n,o){return o===i.UPDATE&&n?t(n,e):n};function t(e,t){var n=e.clientLeft,o=e.clientTop,r=n+e.width,i=o+e.height;return n<t.left&&(n=t.left),o<t.top&&(o=t.top),r>t.right&&(r=t.right),i>t.bottom&&(i=t.bottom),{clientLeft:n,clientTop:o,width:r-n,height:i-o}}}!function(e){e.NONE="none",e.DASHED="dashed",e.SOLID="solid",e.DOTTED="dotted"}(r||(r={})),function(e){e.START="selection-start",e.UPDATE="selection-update",e.END="selection-end",e.CANCEL="selection-cancel"}(i||(i={}));var p=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return n.anchorElement=document.body,n.fillColor="rgba(125,186,255, 0.3)",n.borderColor="#7DBAFF",n.borderStyle=r.SOLID,n.borderWidth=1,n.removeMaskOnEnd=!0,n.areaEl=document.createElement("div"),n.builtInInteraction=!0,n.isPrepared=!1,n.isAvailable=!0,n.store=new c.Store,n.interceptors=[],Object.keys(t).forEach((function(e){n[e]=t[e]})),n.areaEl.className="fv__viewer-selections-area",n.areaEl.style.cssText+="\n            outline: "+n.borderWidth+"px "+n.borderStyle+" "+n.borderColor+";\n            background-color: "+n.fillColor+";\n        ",n.store.subscribe(i.UPDATE,(function(e){n.areaEl.style.cssText+="\n                width: "+e.width+"px;\n                height: "+e.height+"px;\n                left: "+e.clientLeft+"px;\n                top: "+e.clientTop+"px;\n            "})),n.addDestroyHook((function(){n.store.destroy()})),n}return l(t,e),t.prototype.eventInterceptor=function(e){this.interceptors.push(e)},t.prototype.reducer=function(e){this.store.reducer(e)},t.prototype.on=function(e,t){return this.builtInInteraction&&this.prepare(),this.store.subscribe(e,t)},t.prototype.start=function(e,t){document.body.appendChild(this.areaEl);var n=this.anchorElement.getBoundingClientRect();this.store.dispatch(i.START,{clientLeft:e,clientTop:t,left:e-n.left,top:t-n.top,width:0,height:0})},t.prototype.adjust=function(e,t){var n=this.store.getCurrentValue(i.START),o=n.clientLeft+e,r=n.clientTop+t,a=Math.min(n.clientLeft,o),s=Math.min(n.clientTop,r),c=Math.abs(e),u=Math.abs(t),l=this.anchorElement.getBoundingClientRect();this.store.dispatch(i.UPDATE,{clientLeft:a,clientTop:s,left:a-l.left,top:s-l.top,width:c,height:u})},t.prototype.end=function(){this.removeMaskOnEnd&&this.removeMask();var e=this.store.getCurrentValue(i.UPDATE);this.store.dispatch(i.END,e)},t.prototype.cancel=function(){this.removeMask(),this.store.dispatch(i.CANCEL,void 0)},t.prototype.removeMask=function(){this.areaEl.parentElement===document.body&&document.body.removeChild(this.areaEl)},t.prototype.enable=function(){this.isAvailable=!0},t.prototype.disable=function(){this.isAvailable=!1},t.prototype.prepare=function(){var e=this;if(!this.isPrepared){var t=new u.Manager(this.anchorElement);t.add(new u.Pan({direction:u.DIRECTION_ALL}));var n,o=!1;t.on("panstart",(function(t){e.isAvailable&&(e.interceptors.some((function(e){return!e(t)}))||(o=!0,n=t.center,e.start(t.center.x,t.center.y)))})),t.on("panmove",(function(t){if(e.isAvailable&&o){var r=t.center.x-n.x,i=t.center.y-n.y;e.adjust(r,i)}})),t.on("panend",(function(t){e.isAvailable&&o&&(o=!1,e.end())})),t.on("pancancel",(function(t){e.isAvailable&&o&&(o=!1,e.cancel())})),this.addDestroyHook((function(){t.destroy(),e.end()}))}},t}(s.a)},function(e,t,n){"use strict";n.r(t),n.d(t,"FakeSquareAnnotation",(function(){return c}));var o,r=n(145),i=n.n(r),a=n(105),s=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.getType=function(){return"square"},t.prototype.generateApRenderer=function(){return new i.a(this)},t}(a.a)},function(e,t,n){"use strict";n.r(t),n.d(t,"FakeCircleAnnotation",(function(){return c}));var o,r=n(348),i=n.n(r),a=n(105),s=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.getType=function(){return"circle"},t.prototype.generateApRenderer=function(){return new i.a(this)},t}(a.a)},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(1116),i=(o=r)&&o.__esModule?o:{default:o};e._babelPolyfill||n(237),t.default=i.default}).call(this,n(125))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(164),i=(o=r)&&o.__esModule?o:{default:o},a=n(52);var s=function(){},c=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.worker=t,this.promises=[];var o=this.cacheMap={},r=this.callMap={},i=this.listeners={};t.onmessage=function(e){var c=e.data;if(-1===c.type)return console.log(c.params);var u=c.destroyId;if(u)delete r[u];else{var l=c.params;if(c.uiListener){var f=i[c.uiListener];if(f)for(var p=0,d=f.length;p<d;p++)f[p](l)}else{var h=c.callId;if(h)Promise.resolve((r[h]||s)(l)).then((function(e){var n=e instanceof ArrayBuffer?[e]:[];(0,a.isIE10)()&&(n=null),t.postMessage({backId:c.backId,params:e},n)}));else{var g=c.id,m=o[g];delete o[g];var v=+c.type;try{m[["resolve","reject"][v]](l)}catch(e){0}setTimeout((function(){if(Object.keys(o).length<1){var e=n.listeners.idle;e&&e.forEach((function(e){return e()}));var t=n.listeners.reset;t&&t.forEach((function(e){return e()}))}}),0)}}}},t.onerror=function(e){console.error("WorkerError",e)}}return e.prototype.emit=function(e,t){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(0,a.isIE10)()&&(o=o[0]);var s=new Promise((function(a,s){var c=(0,i.default)("worker");n.cacheMap[c]={resolve:a,reject:s};try{n.worker.postMessage({name:e,params:t,id:c,more:r},o)}catch(o){n.worker.postMessage({name:e,params:t,id:c,more:r})}}));return s},e.prototype.calls=function(e){var t=(0,i.default)("worker_call");return this.callMap[t]=e,t},e.prototype.on=function(e,t){(this.listeners[e]=this.listeners[e]||[]).push(t)},e.prototype.off=function(e,t){var n=this.listeners[e];if(n){var o=n.indexOf(t);-1!=o&&n.splice(o,1)}},e.prototype.over=function(e){},e}();t.default=c},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(1119),i=(o=r)&&o.__esModule?o:{default:o};e._babelPolyfill||n(237),t.default=i.default}).call(this,n(125))},function(e,t,n){"use strict";var o;n.r(t),n.d(t,"ThrottleTaskStatus",(function(){return o})),n.d(t,"ThrottleAsyncTaskExecutor",(function(){return r})),function(e){e.IDLE="idle",e.RUNNING="running",e.CANCELLED="cancelled"}(o||(o={}));var r=function(){function e(e,t){void 0===t&&(t=!1),this.interval=e,this.retainLastTask=t,this.status=o.IDLE,this.lastCompleteTime=Date.now(),this.lastTaskPromise=Promise.resolve()}return e.prototype.exec=function(e,t,n){var r=this,i=function(){r.status!==o.CANCELLED?(r.status=o.RUNNING,r.lastTaskPromise=e.apply(n,t||[]).finally((function(){r.lastCompleteTime=Date.now(),r.status!==o.CANCELLED&&(r.status=o.IDLE)}))):r.status=o.IDLE},a=Date.now();switch(this.status){case o.IDLE:if(a-this.lastCompleteTime>=this.interval){var s=function(){return i(),r.lastTaskPromise};return this.lastTaskPromise.then(s,s)}break;case o.CANCELLED:}return this.retainLastTask?new Promise((function(e){clearTimeout(r.retainTaskTimmerId);var t=r.interval-(Date.now()-r.lastCompleteTime)%r.interval;r.retainTaskTimmerId=setTimeout((function(){i(),e(r.lastTaskPromise)}),t)})):this.lastTaskPromise},e.prototype.waitForLastTask=function(){return this.lastTaskPromise},e.prototype.cancel=function(){this.status=o.CANCELLED},e}();window.ThrottleAsyncTaskExecutor=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(27);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=function(e){function t(n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r)),a=i.viewConfig.attrs;return i.iconCls=n.iconCls||a["icon-cls"]||a["icon-class"],i.title=n.title||a.title,delete a.title,i}return i(t,e),t.getName=function(){return"sidebar-panel"},t.getMetadata=function(){return{options:{fullwidth:{type:"boolean",default:!1}}}},t.prototype.doInsert=function(e,t){var n=this.bodyElement.children;if(t<0||t>n.length)throw new Error("index out of bounds: "+t);this.rerenderChildren()},t.prototype.getContainerElement=function(){return this.bodyElement},t.prototype.getSlotContainer=function(t){switch(t){case"header":return this.headerElement}return e.prototype.getSlotContainer.call(this,t)},t.prototype.prerender=function(){e.prototype.prerender.call(this),this.ctrlElement=document.createElement("a"),this.headerElement=document.createElement("div"),this.titleElement=document.createElement("span"),this.bodyElement=document.createElement("div")},t.prototype.render=function(){e.prototype.render.call(this),this.ctrlElement.classList.add("fv__ui-sidebar-nav-ctrl"),this.ctrlElement.innerHTML='<i class="fv__ui-sidebar-nav-icon '+this.iconCls+'"></i>',this.headerElement.classList.add("fv__ui-sidebar-panel-header"),this.titleElement.classList.add("fv__ui-sidebar-panel-title"),this.bodyElement.classList.add("fv__ui-sidebar-panel-body"),this.headerElement.appendChild(this.titleElement),this.element.appendChild(this.headerElement),this.element.appendChild(this.bodyElement),this.titleElement.setAttribute("data-i18n",this.title)},t.prototype.active=function(){this.isVisible&&e.prototype.active.call(this)},t.prototype.doActive=function(){if(this.element.classList.add("active"),this.ctrlElement.classList.add("active"),this.parent){var e=this.parent.lastActivePanel;e&&e!==this&&e.deactive(),this.parent.lastActivePanel=this,this.fullwidth&&this.parent.enableFullWidth(),this.parent.expand()}this.broadcast("active",this)},t.prototype.doDeactive=function(){this.element.classList.remove("active"),this.ctrlElement.classList.remove("active"),this.fullwidth&&this.parent.disableFullWidth()},t.prototype.doDisable=function(){this.ctrlElement.classList.add("disabled"),e.prototype.doDisable.call(this)},t.prototype.doEnable=function(){this.ctrlElement.classList.remove("disabled"),e.prototype.doEnable.call(this)},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this),this.ctrlElement.addEventListener("click",(function(e){t.disabled||(t.isActive?t.parent.collapse():t.active())}))},t.prototype.doHidden=function(){this.parent&&this.isActive&&this._activeSibling(),e.prototype.doHidden.call(this),this.ctrlElement.classList.add("fv__ui-hide")},t.prototype.doShown=function(){e.prototype.doShown.call(this),this.ctrlElement.classList.remove("fv__ui-hide")},t.prototype.removeElement=function(){this.ctrlElement.remove(),this.element.remove()},t.prototype.remove=function(){if(this.parent)return this.parent.isDestroyed||this.isActive&&this._activeSibling(),e.prototype.remove.call(this)},t.prototype._activeSibling=function(){var e=this.nextSiblings();e||(e=this.parent.first()),e&&e.active()},t.prototype.updateDisableStatus=function(){this.disabled?this.ctrlElement.classList.add("disabled"):this.ctrlElement.classList.remove("disabled")},t.prototype.updateActiveStatus=function(){var e=this.isActive,t=this.$options.active;"function"==typeof t&&(e=t.call(this)),!1===e||this.active()},t.prototype.addCSSClass=function(t){t&&(e.prototype.addCSSClass.call(this,t),this.ctrlElement.classList.add(t))},t.prototype.removeCSSClass=function(t){t&&(e.prototype.removeCSSClass.call(this,t),this.ctrlElement.classList.remove(t))},t.prototype.getTooltipAnchor=function(){return this.ctrlElement},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(27),i=(o=r)&&o.__esModule?o:{default:o},a=n(8);function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r));return i.targetName=i.attrs.component,i}return s(t,e),t.getName=function(){return"slot"},t.getMetadata=function(){return{options:{for:{type:"string",field:"slotName"},component:{type:"string",field:"targetName"}}}},t.prototype.createDOMElement=function(){var e=document.createElement("template");return window.HTMLTemplateElement||(e.style.cssText="display: none!important;"),e},t.prototype.rerenderChildren=function(){},t.prototype.mounted=function(){var t=void 0;if(!(t=this.targetName?this.getRoot().getComponentByName(this.targetName):this.parent))throw new Error("slot target not found: "+this.targetName);t.appendSlot(this.slotName,this),e.prototype.mounted.call(this)},t.prototype.acceptText=function(){return!1},t.prototype.appendText=function(e){this.$container.append(e)},t.prototype.localize=function(){return Promise.all(this.$container.map((function(e){return e.localize()})))},t.prototype.receiveBroadcast=function(t,n){e.prototype.receiveBroadcast.call(this,t,n),t===a.COMPONENT_BROADCAST_LOCALIZE&&this.$container.each((function(e){return e.localize()}))},t}(i.default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(27)),r=i(n(222));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}n(1132);var s=function(e){function t(n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r));return i.singleton=!!n.singleton||"true"===i.attrs.singleton,i}return a(t,e),t.getName=function(){return"accordion"},t.prototype.doInsert=function(e,t){if(!(e instanceof r.default||e.isIgnorable()))throw new Error("the typeof the accordion children must be <accordion-card>");var n=this.element.children;if(t<0||t>n.length)throw new Error("index out of bounds: "+t);this.rerenderChildren()},t.prototype.activeAll=function(){this.$container.each((function(e){return e.active()}))},t.prototype.deactiveAll=function(){this.$container.each((function(e){return e.deactive()}))},t.prototype.render=function(){e.prototype.render.call(this)},t}(o.default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(27),i=(o=r)&&o.__esModule?o:{default:o};n(1133);var a=n(154);function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=void 0,u=function(e){function t(n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r)),a=i.viewConfig.attrs;return i.path=n.path||a.path||[],a.listdata?i.listdata=JSON.parse(a.listdata):i.listdata=n.listdata||{},i}return s(t,e),t.getName=function(){return"listbox"},t.prototype.destroy=function(){this.path=null,this.listdata=null,e.prototype.destroy.call(this)},t.prototype.createDOMElement=function(){return document.createElement("ul")},t.prototype.selectComponent=function(e,n){var o=e+"-"+n;t.setFocus(this.getComponentByName(o))},t.prototype.updateListData=function(e){var t=this;this.empty(),c=null,this.listdata=e||{};var n=this;Object.keys(this.listdata).map((function(e){var o=t.path.concat(e),r="listbox-item"+(0,a.getSecureRandom)().toString(36).substr(2);return t.pdfUI.parseTemplate("<listbox-item name="+r+"></listbox-item>",[{target:r,config:{root:n,path:o,listdata:t.listdata[e],callback:t.$options.callback}}])})).forEach((function(e){t.append(e),e.mounted()}))},t.prototype.render=function(){e.prototype.render.call(this),this.element.classList.add("fv__ui-list-box"),this.$options.subList&&this.element.classList.add("fv__ui-sublist"),this.updateListData(this.listdata)},t.setFocus=function(e){c&&c.deactive(),c=e,e.active()},t}(i.default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(27)),r=s(n(1138)),i=s(n(223)),a=s(n(1));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=function(e){function t(n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r));return i.iconCls=n.iconCls||i.iconCls,i.openFileStatus=!0,delete i.attrs.title,i}return c(t,e),t.getName=function(){return"layer-header"},t.getMetadata=function(){return{options:{title:{type:"string"},"icon-class":{type:"string",field:"iconCls"}}}},t.prototype.setTitle=function(e){this.title=e,this.titleElement.setAttribute("data-i18n",e),this.localizer.localizeElement(this.titleElement)},t.prototype.setIconCls=function(e){this.iconCls&&this.iconElement.classList.remove(this.iconCls),this.iconElement.classList.add(e),this.iconCls=e,this.iconElement.classList.remove("fv__ui-hide"),this.localizer.localizeElement(this.iconElement)},t.prototype.render=function(){e.prototype.render.call(this),this.element.classList.add("fv__ui-layer-header"),this.element.innerHTML=(0,r.default)(),this.iconElement=this.element.querySelector(".fv__ui-layer-header-icon"),this.titleElement=this.element.querySelector(".fv__ui-layer-header-title"),this.buttonsElement=this.element.querySelector(".fv__ui-layer-header-buttons"),this.buttonElementList=this.buttonsElement.querySelectorAll(".fv__ui-layer-header-button"),this.titleElement.setAttribute("data-i18n",this.title),this.iconCls?this.iconElement.classList.add(this.iconCls):this.iconElement.classList.add("fv__ui-hide")},t.prototype.rerenderChildren=function(){},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this);var n={close:function(){(t.findClosestComponent((function(e){return e instanceof i.default}))||t.parent).hide(),t.openFileStatus||t.getPDFUI().eventEmitter.emit(a.default.openFileFailed,null)}};this.addDestroyHook(this.getPDFUI().addViewerEventListener(a.default.openFileFailed,(function(){t.openFileStatus=!1})),this.getPDFUI().addViewerEventListener(a.default.openFileSuccess,(function(){t.openFileStatus=!0}))),this.buttonElementList.forEach((function(e){var o=e.getAttribute("action"),r=n[o];if(!r)throw new Error("handler of layer header button not found: "+o);e.addEventListener("click",r),t.addDestroyHook((function(){return e.removeEventListener("click",r)}))}))},t.prototype.getSlotContainer=function(e){switch(e){case"buttons":return this.buttonsElement}},t.prototype.sync=function(t,n){switch(t){case"title":return this.setTitle(n),!0;case"icon":return this.setIconCls(n),!0}return e.prototype.sync.call(this,t,n)},t}(o.default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(17);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.getName=function(){return"contextmenu-separator"},t.prototype.createDOMElement=function(){return document.createElement("div")},t.prototype.render=function(){e.prototype.render.call(this),this.element.classList.add("fv__ui-cotextmenu-separator")},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(27)),r=i(n(278));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var s={input:"change",select:"change",button:"click",a:"click"},c=function(e){function t(n,o,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r))}return a(t,e),t.getName=function(){return"{native}"},t.getMetadata=function(){return{options:{handleon:{type:"string",required:!1}}}},t.prototype.isNative=function(){return!0},t.prototype.createDOMElement=function(){return document.createElement(this.viewConfig.nodeName)},t.prototype.acceptText=function(){return!0},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this);var n=this.handleon||s[this.element.nodeName]||"click",o=function(e){t.disabled||(t.controller instanceof r.default||t.controller.handle(e),t.trigger(n,e))};this.element.addEventListener(n,o),this.addDestroyHook((function(){t.element.removeEventListener(n,o)}))},t}(o.default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=p(n(490)),r=p(n(9)),i=p(n(45)),a=n(423),s=p(n(491)),c=p(n(1176)),u=p(n(6)),l=p(n(492)),f=n(282);function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var h=r.default.getLogger("XMLTemplateParser"),g={},m=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return n.domParser=new DOMParser,n}return d(t,e),t.prototype.parseRoot=function(e){var t=this._parseTemplateChildrenElements(e);if(t.length>1)throw new Error("Multiple root element found in template: "+t.length);this.resolvePlaceholders(t);for(var n=t.item(0),o=n.getUIXNamespace(),r=n.getUIXNodeName(),i={},a=n.attributes.length,s=0;s<a;s++){var c=n.attributes.item(s);i[c.name]=c.value}return{namespace:o,nodeName:r,attributes:i}},t.prototype.parse=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this._parseTemplateChildrenElements(e);if(t){var o=n.length;if(1!==o)throw new Error("Invalid template: quantity of root element out of bounds: "+o);var r=n[0];return this.$parseToUIXNode(r)}var i=[],a=!0,s=!1,c=void 0;try{for(var u,l=n[Symbol.iterator]();!(a=(u=l.next()).done);a=!0){var f=u.value,p=this.$parseToUIXNode(f);p&&i.push(p)}}catch(e){s=!0,c=e}finally{try{!a&&l.return&&l.return()}finally{if(s)throw c}}return i},t.prototype._parseTemplateChildrenElements=function(e){var t=void 0;if("string"==typeof e){e=e.trim();var n=void 0;if(g[e])n=g[e].cloneNode(!0);else{var o=(n=this.domParser.parseFromString(e,"text/html")).querySelector("parsererror");if(o)throw new Error("Parse template failed: "+o.innerText);g[e]=n.cloneNode(!0)}(t=n.body.children).length||(t=n.head.children)}else if("undefined"!=typeof HTMLTemplateElement&&e instanceof HTMLTemplateElement)t=e.content.children;else if(e instanceof DocumentFragment)if(e.children)t=e.children;else{var r=e.childNodes[0];for(t=[];r;)r.nodeType==Node.ELEMENT_NODE&&t.push(r),r=r.nextSibling}else{if(!(e instanceof Element))throw new TypeError("Illegal argument, template must be a html text or instance of window.Element");t=[e]}return this.resolvePlaceholders(t),t},t.prototype.resolvePlaceholders=function(e){for(var t=this,n=e.length,o=function(n){var o=e[n];if(o.nodeType==Node.TEXT_NODE){var r=o.textContent,i=(0,f.tokenize)(r),a=o.ownerDocument;i.forEach((function(e){switch(e.type){case f.TokenType.text:o.parentNode.insertBefore(a.createTextNode(e.content),o);break;case f.TokenType.placeholder:var t=a.createElement("placeholder-text");t.setAttribute("text",e.content),o.parentNode.insertBefore(t,o)}})),o.parentNode.removeChild(o)}else t.resolvePlaceholders(o.childNodes)},r=0;r<n;r++)o(r)},t.prototype.$parseToUIXNode=function(e,t,n){var o=this.$convertToUIXNode(e,t,n);if(o){o.prelink();for(var r="undefined"!=typeof HTMLTemplateElement&&e instanceof HTMLTemplateElement?e.content.firstChild:e.firstChild;r;){var i=this.$parseToUIXNode(r);i&&o.append(i),r=r.nextSibling}return o.postlink(),o}},t.prototype.$convertToUIXNode=function(e,t,n){if(e instanceof Text){var o=e.textContent.trim();if(o.length>0)return new s.default({text:o})}else{if(e instanceof HTMLElement){var r=(0,a.getUIXNamespace)(e),f=(0,a.getUIXNodeName)(e),p={},d=!0,g=!1,m=void 0;try{for(var v,y=e.attributes[Symbol.iterator]();!(d=(v=y.next()).done);d=!0){var b=v.value;p[b.name.toLowerCase()]=b.value}}catch(e){g=!0,m=e}finally{try{!d&&y.return&&y.return()}finally{if(g)throw m}}p=Object.assign(p,n);var w=u.default._nostrictModule(r);if(!w)return;if("undefined"!=typeof HTMLTemplateElement&&e instanceof HTMLTemplateElement)return new c.default({namespace:r,nodeName:f,attrs:p,template:e.outerHTML,fragmentContent:e.content});var _=e.textContent,P=w.getFragment(f);if(P){var O=this.domParser.parseFromString(P.template,"text/html"),E=O.querySelector("parsererror");if(E)throw new Error("Parse template failed: "+E.innerText);var x=O.body.children;if(1!==x.length)throw new Error("Invalid template: quantity of root element out of bounds: "+x.length);this.resolvePlaceholders(x);var C=x.item(0),A=C.getAttribute("name");return P.module=w,P.nestName=A,P.nestType=f,this.$parseToUIXNode(C,P,p)}return t?new l.default({namespace:r,nodeName:f,attrs:p,text:_,template:e.outerHTML,fragment:t}):new i.default({namespace:r,nodeName:f,text:_,attrs:p,template:e.outerHTML})}h.debug("useless node: ",e)}},t}(o.default);t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(56));r(n(45));function r(e){return e&&e.__esModule?e:{default:e}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.parseRoot=function(e){(0,o.default)()},e.prototype.parse=function(e){(0,o.default)()},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(281),i=(o=r)&&o.__esModule?o:{default:o},a=n(8);function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(n){var o=n.text;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,{namespace:a.ROOT_MODULE_NAME,type:i.default.NODE_TYPE_TEXT,text:o}));return r.$$options.text=o,r}return s(t,e),t.prototype.clone=function(){var e=new t(this.$$options);return e.setComponentOptions(this.componentOptions),e},t}(i.default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=c(n(281)),i=n(8),a=c(n(144)),s=c(n(45));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var d=c(n(9)).default.getLogger("senior-node");function h(e){var t={};return Array.isArray(e.config)?t.config=[]:e.config&&(t.config={}),(0,a.default)(!0,t,e)}var g=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.namespace,a=void 0===o?i.ROOT_MODULE_NAME:o,s=n.nodeName,c=n.attrs,p=n.text,d=n.template,g=n.fragment;l(this,t);var m=f(this,e.call(this,{namespace:a,type:r.default.NODE_TYPE_FRAGMENT,nodeName:s,attrs:Object.assign(c,u({},t.NEST_NAME_ATTR,g.nestName)),template:d,text:p}));return m.$$options.fragment=g,m.fragmentModule=g.module,m.nestName=g.nestName,m.fragmentType=g.nestType,m.isSenior=!0,m.fragment=h(g),m}return p(t,e),o(t,null,[{key:"NEST_NAME_ATTR",get:function(){return"fv__nest-name_576218"}}]),t.prototype.clone=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=new t(Object.assign({},this.$$options,{fragment:h(this.fragment)}));return n.children=this.children.map((function(t){var o=e?t.clone(e):t;return o.parent=n,o})),n.setComponentOptions(this.componentOptions),n.parent=this.parent,n},t.prototype.getFragment=function(){return h(this.fragment)},t.prototype.prelink=function(){var e=this,t=this.fragment.fragments||this.fragment.config;t&&(Array.isArray(t)||(t=[t]),t.forEach((function(t){t.target==e.nestName&&(e.componentOptions||d.info("duplicate config found",e.componentOptions,"will be covered by ",t),e.setComponentOptions(t))})))},t.prototype.postlink=function(){var e=this,t=this.fragment.config;t&&(Array.isArray(t)||(t=[t]),t.forEach((function(t){var n=e.querySelectorAll(t.target);n&&n.forEach((function(e){e.setComponentOptions(t)}))})))},t}(s.default);t.default=g},function(e,t){},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(11)),r=i(n(278));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var s=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.order=-1/0,o}return a(t,e),t.getName=function(){return"process-scope"},t.prototype.processComponentOptions=function(e){e.callback||(e.callback=r.default)},t}(o.default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(11));function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=r(n(9)).default.getLogger("@sync"),u=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.getName=function(){return"sync"},t.prototype.componentPrelink=function(){var e=this,t=this.controller.watch(this.attrValue,(function(t){var n=e.subName;e.component.sync(n,t)||c.warn("this property("+n+") is not supported by this component <"+e.component.nodeName+"> and data synchronization was failed. the component instance: ",e.component)}));this.addDestroyHook(t)},t}(o.default);t.default=u},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(11);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n))}return i(t,e),t.getName=function(){return"contextmenu-options"},t.prototype.getOptions=function(){var e=this.controller.eval(this.attrValue),t={};return t.uixSelector=e["uix-selector"]||e.uixSelector,t.cssSelector=e["css-selector"]||e.cssSelector,t.before=e.before||function(e){return!0},t},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=a},function(e,t){},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(20)),r=i(n(102));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var s=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r.default))}return a(t,e),t.getName=function(){return"HandController"},t}(o.default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(20)),r=i(n(1276));function i(e){return e&&e.__esModule?e:{default:e}}var a=o.default.ext(r.default,"CreateAreaHighlightController",32);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(20)),r=i(n(1279));function i(e){return e&&e.__esModule?e:{default:e}}var a=o.default.ext(r.default,"CreateCaretController",32);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(20)),r=i(n(1281));function i(e){return e&&e.__esModule?e:{default:e}}var a=o.default.ext(r.default,"CreateFileAttachmentController",32);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(20)),r=i(n(1285));function i(e){return e&&e.__esModule?e:{default:e}}var a=o.default.ext(r.default,"CreateImageController",32);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(20)),r=i(n(1287));function i(e){return e&&e.__esModule?e:{default:e}}var a=o.default.ext(r.default,"CreateLinkController",32);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(20)),r=i(n(1289));function i(e){return e&&e.__esModule?e:{default:e}}var a=o.default.ext(r.default,"CreatePencilController",32);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(20)),r=i(n(1293));function i(e){return e&&e.__esModule?e:{default:e}}var a=o.default.ext(r.default,"CreateSquigglyController",32);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(20)),r=i(n(1295));function i(e){return e&&e.__esModule?e:{default:e}}var a=o.default.ext(r.default,"CreateStrikeoutController",32);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(20)),r=i(n(1297));function i(e){return e&&e.__esModule?e:{default:e}}var a=o.default.ext(r.default,"CreateTextController",32);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(20)),r=i(n(1299));function i(e){return e&&e.__esModule?e:{default:e}}var a=o.default.ext(r.default,"CreateUnderlineController",32);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(20)),r=i(n(1301));function i(e){return e&&e.__esModule?e:{default:e}}var a=o.default.ext(r.default,"EraserController",32);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(224),i=(o=r)&&o.__esModule?o:{default:o};var a=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.from=new i.default(t.x,t.y),this.end=new i.default(n.x,n.y),this.length=this.end.substract(this.from).length(),this.k=(n.y-t.y)/(n.x-t.x),isFinite(this.k)?this.delta=t.y-this.k*t.x:this.x=t.x}return e.prototype.hasPoint=function(e){var t=new i.default(e.x,e.y),n=t.substract(this.from).length()+t.substract(this.end).length();return Math.abs(this.length-n)<.001},e.prototype.intersectPointInSegment=function(e){var t=this.intersectPointInFunction(e);if(t&&this.hasPoint(t)&&e.hasPoint(t))return t},e.prototype.intersectPointInFunction=function(e){if(isFinite(this.k)){if(isFinite(e.k)){if(this.k===e.k){if(this.delta!==e.delta)return null;var t=Math.min(this.from.x,this.end.x),n=Math.max(this.from.x,this.end.x),o=Math.min(e.from.x,e.end.x),r=Math.max(e.from.x,e.end.x),i=void 0;if(t>=o&&t<=r)i=t;else{if(!(n>=o&&n<=r))return null;i=n}return{x:i,y:this.k*i+this.delta}}var a=(e.delta-this.delta)/(this.k-e.k);return{x:a,y:this.k*a+this.delta}}return e.intersectPointInFunction(this)}if(isFinite(e.k))return{x:this.x,y:e.k*this.x+e.delta};if(this.x===e.x){var s=Math.min(this.from.y,this.end.y),c=Math.max(this.from.y,this.end.y),u=Math.min(e.from.y,e.end.y),l=Math.max(e.from.y,e.end.y),f=void 0;if(s>=u&&s<=l)f=s;else{if(!(c>=u&&c<=l))return null;f=c}return{x:this.x,y:f}}return null},e.prototype.hasIntersect=function(e){return!!this.intersectPointInSegment(e)},e}();t.default=a,window.Vector=i.default,window.LineSegment=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(515),i=(o=r)&&o.__esModule?o:{default:o};t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(5));n(314);var i,a=n(42),s=n(1305),c=(i=s)&&i.__esModule?i:{default:i},u=n(1306),l=n(516),f=n(85);function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var d=r.stateHandler,h=r.ViewerEvents,g=d.IStateHandler,m=r.shared,v=(m.DebouncePromiseQueue,m.keyboardStatus),y=m.ThrottleAsyncTaskExecutor,b=(r.Consts.LineEndingStyle,d.StateHandlerConsts.STATE_HANDLER_CREATE_LINE),w=d.StateHandlerUtils.getDevicePagePoint,_=function(e){function t(n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return i.startStyle=o,i.endStyle=r,i.cursorStyle="fv__cursor-crosshair",i.executor=new y(20,!0),i}return p(t,e),t.getStateName=function(){return b},t.prototype.createInteractionTool=function(e,t){return new c.default(this.pdfViewer,e,t)},t.prototype.pageHandler=function(e){var t=this;this.pageRender=e;var n=e.$handler;n.addClass(this.cursorStyle);var r=n.get(0);this.snappedPointAssistant=new l.SnappedPointAssistant(r);var i=this.interaction=this.createInteractionTool(r,{direction:Hammer.DIRECTION_ALL});i.init();var s=void 0,c=function(){return i.on("mousemove",(function(e){t.executor.exec((function(){return t.getSnappedPoint(e).then((function(n){(0,f.isSamePoint)(e,n)?(t.snappedPointAssistant.hide(),s=null):(t.snappedPointAssistant.show(),t.snappedPointAssistant.setPosition(n.x,n.y),s=n)}))}))}))};this.offMouseMoveEvent=c();var u=void 0,p=!1,d=this.pdfViewer.getKeyboardEventBinder(a.ANNOTATION_CREATING_BINDER),g=function(){t.pdfViewer.keyboard.activeDefaultBinder()};this.offCancelEvent=d.on(a.KEY_MAP_ESC_CREATING_DRAWING,(function(){p||(g(),t.cancel(),t.interaction.cancel(),p=!0)})),i.on("start",(function(e){if(t.offMouseMoveEvent(),t.pdfViewer.switchKeyboardEventBinder(a.ANNOTATION_CREATING_BINDER),p=!1,s)u=[s.x,s.y];else{var n=w(r,e);u=[n.x,n.y]}var i=t.pageRender.page.reverseDevicePoint(u,t.pageRender.scale,t.pageRender.getRotation()),c=o(i,2),l=c[0],f=c[1];t.start(l,f)})),i.on("move",(function(e){if(!p){var n=function(e,t){if(v.isShift){var n=Math.sqrt(e*e+t*t),o=Math.atan2(t,e),r=.25*Math.PI,i=Math.round(o/r)*r;e=n*Math.cos(i),t=n*Math.sin(i)}return[e,t]}(e.deltaX,e.deltaY),r=o(n,2),i=r[0],a=r[1];t.adjust(t.fakeAnnotation,{x:u[0]+i,y:u[1]+a})}})),i.on("end",(function(e){if(!p)return g(),t.offMouseMoveEvent=c(),t.end()})),i.on("cancel",(function(e){p||(g(),t.cancel(),t.offMouseMoveEvent=c())})),this.__removeZoomToSuccessEventListener=this.pdfViewer.addEventListener(h.zoomToSuccess,(function(e){!p&&t.fakeAnnotation&&(t.fakeAnnotation.zoomTo(e),t.fakeAnnotation.draw())}))},t.prototype.correctCoord=function(e,t){var n=this.pageRender.getScale(),o=e.getPxWidth()*n,r=e.getPxHeight()*n;return[Math.max(0,Math.min(o,t[0])),Math.max(0,Math.min(r,t[1]))]},t.prototype.start=function(e,t){return this.fakeAnnotation=new u.FakeLineAnnotation({pdfViewer:this.pdfViewer,pageRender:this.pageRender,info:this.createAnnotJson({flags:4,startPoint:{x:e,y:t},endPoint:{x:e+1,y:t+1},startStyle:this.startStyle,endStyle:this.endStyle})})},t.prototype.createAnnotJson=function(e){return e},t.prototype.getSnappedPoint=function(e){var t=this;return this.pageRender.getPDFPage().then((function(n){var r=t.pdfViewer.getSnapMode(t.constructor.getStateName());if(r&&r.length>0){var i=n.reverseDevicePoint([e.x,e.y],t.pageRender.scale,t.pageRender.rotate),a=o(i,2),s=a[0],c=a[1];return n.getSnappedPoint({x:s,y:c},r).then((function(e){var r=n.getDevicePoint([e.x,e.y],t.pageRender.scale,t.pageRender.rotate),i=o(r,2);return{x:i[0],y:i[1]}}))}return e}))},t.prototype.adjust=function(e,t){var n=this;this.executor.exec((function(){return n.getSnappedPoint(t).then((function(o){(0,f.isSamePoint)(t,o)?n.snappedPointAssistant.hide():(n.snappedPointAssistant.setPosition(o.x,o.y),n.snappedPointAssistant.show()),e.setEndPoint(o),e.draw()}))}))},t.prototype.end=function(){var e=this;this.fakeAnnotation&&this.executor.exec((function(){e.snappedPointAssistant.hide();var t=e.fakeAnnotation.apply().then((function(t){if(e.pdfViewer.config.showCommentList){var n=t[t.length-2];e.pageRender.annotsRender.getAnnotRender(n.getId()).component.showReplyDialog()}}));return e.fakeAnnotation=null,t}))},t.prototype.cancel=function(){this.fakeAnnotation&&(this.snappedPointAssistant.hide(),this.executor.cancel(),this.pdfViewer.eventEmitter.emit(h.cancelAddAnnot),this.fakeAnnotation.destroy(),this.fakeAnnotation=null)},t.prototype.destroyPageHandler=function(){this.offMouseMoveEvent(),this.snappedPointAssistant.destroy(),this.executor.cancel(),this.interaction&&this.interaction.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle),this.offCancelEvent&&this.offCancelEvent(),this.__removeZoomToSuccessEventListener&&this.__removeZoomToSuccessEventListener()},t.prototype.out=function(){this.destroyPageHandler()},t}(g);t.default=_},function(e,t,n){"use strict";n.r(t),n.d(t,"EndPointRenderer",(function(){return c})),n.d(t,"IntersectionPointRenderer",(function(){return u})),n.d(t,"SnappedPointAssistant",(function(){return l}));var o,r=n(189),i=n(13),a=n.n(i),s=(n(1307),o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),c=function(){function e(){}return e.prototype.render=function(e){var t=e.canvas.width;e.clearRect(0,0,t,t),e.strokeStyle="red",e.arc(t/2,t/2,2*Math.PI,0,360),e.stroke()},e}(),u=function(){function e(){}return e.prototype.render=function(e){var t=e.canvas.width;e.clearRect(0,0,t,t),e.strokeStyle="red",e.moveTo(0,0),e.lineTo(t,t),e.moveTo(0,t),e.lineTo(t,0),e.stroke()},e}(),l=function(e){function t(t){var n=e.call(this)||this;return n.container=t,n.size=16,n.renderer=new c,n.canvas=document.createElement("canvas"),n.canvas.classList.add("fv__viewer-snapped-point"),n.addDestroyHook((function(){n.canvas.parentElement===n.container&&n.container.removeChild(n.canvas)})),n.canvas.width=n.size,n.canvas.height=n.size,n}return s(t,e),t.prototype.setRenderer=function(e){this.renderer=new e,this.redraw()},t.prototype.setSize=function(e){this.size=e,this.canvas.width=e,this.canvas.height=e,this.redraw()},t.prototype.setPosition=function(e,t){Object(r.default)(this.canvas,{left:e+"px",top:t+"px",margin:.5*-this.size+"px "+.5*-this.size+"px"})},t.prototype.show=function(){this.container.appendChild(this.canvas),this.redraw()},t.prototype.hide=function(){this.canvas.parentElement===this.container&&this.container.removeChild(this.canvas)},t.prototype.redraw=function(){if(this.renderer){var e=this.canvas.getContext("2d");e&&this.renderer.render(e)}},t}(a.a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(1310),i=(o=r)&&o.__esModule?o:{default:o};t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(179),r=n(42),i=n(476),a=n(477);n(314);var s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(5));function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=s.stateHandler,l=s.ViewerEvents,f=u.IStateHandler,p=u.StateHandlerUtils.getDevicePagePoint,d=s.shared.keyboardStatus,h=function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.type=o,r.cursorStyle="fv__cursor-crosshair",r}return c(t,e),t.prototype.pageHandler=function(e){var t=this;this.pageRender=e;var n=e.$handler;n.addClass(this.cursorStyle);var o=n.get(0),i=this.hammer=new Hammer.Manager(o);i.add(new Hammer.Pan({direction:Hammer.DIRECTION_ALL}));var a=this.pdfViewer.getKeyboardEventBinder(r.ANNOTATION_CREATING_BINDER),s=!1,c=void 0,u=function(){};this.offCancelEvent=a.on(r.KEY_MAP_ESC_CREATING_DRAWING,(function(){u(),t.cancel(),s=!0})),i.on("panstart",(function(e){u=t.pdfViewer.switchKeyboardEventBinder(r.ANNOTATION_CREATING_BINDER),s=!1,c=o.getBoundingClientRect(),t.startPoint=p(o,e),t.start({left:t.startPoint.x,top:t.startPoint.y})})),i.on("panmove",(function(e){if(!s){var n=o.getBoundingClientRect(),r=n.left-c.left,i=n.top-c.top,a=t.correctPosition({x:t.startPoint.x+e.deltaX-r,y:t.startPoint.y+e.deltaY-i});return t.currentPoint=a,t.adjust(t.currentFakeAnnot,t.startPoint,a)}})),i.on("panend",(function(e){if(u(),!s){var n=o.getBoundingClientRect(),r=n.left-c.left,i=n.top-c.top,a=t.correctPosition({x:t.startPoint.x+e.deltaX-r,y:t.startPoint.y+e.deltaY-i});t.currentPoint=a,t.end(t.currentFakeAnnot,t.startPoint,a),c=null}})),i.on("pancancel",(function(e){if(u(),!s)return c=null,t.end(t.currentFakeAnnot,t.startPoint,t.currentPoint)})),this.removeZoomToSuccessEvent=this.pdfViewer.addEventListener(l.zoomToSuccess,(function(e){!s&&t.currentFakeAnnot&&(t.currentFakeAnnot.zoomTo(e),t.currentFakeAnnot.draw())}))},t.prototype.correctPosition=function(e){var t=this.pageRender.getShowWidth(),n=this.pageRender.getShowHeight();return{x:Math.max(0,Math.min(t,e.x)),y:Math.max(0,Math.min(n,e.y))}},t.prototype.start=function(e){var t=e.left,n=e.top;switch(this.type){case"circle":this.currentFakeAnnot=new a.FakeCircleAnnotation({pdfViewer:this.pdfViewer,pageRender:this.pageRender,info:{flags:4}});break;case"square":this.currentFakeAnnot=new i.FakeSquareAnnotation({pdfViewer:this.pdfViewer,pageRender:this.pageRender,info:{flags:4}});break;default:throw new Error("Will never happen")}this.currentFakeAnnot.setRect({left:t,top:n,right:t+10,bottom:n-10})},t.prototype.adjust=function(e,t,n){var o=t.x,r=t.y,i=n.x,a=n.y,s=void 0,c=void 0,u=Math.abs(o-i),l=Math.abs(r-a);d.isShift?(u=l=Math.min(u,l),s=i<o?o-u:o,c=a<r?r-l:r):(s=Math.min(o,i),c=Math.min(r,a)),u=Math.max(u,1),l=Math.max(l,1),e.setRect({left:s,top:c,right:s+u,bottom:c+l}),e.draw()},t.prototype.end=function(e,t,n){var o=this;this.currentFakeAnnot.apply().then((function(e){if(o.pdfViewer.config.showCommentList){var t=e[0];o.pageRender.annotsRender.getAnnotRender(t.getId()).component.showReplyDialog()}})),this.currentFakeAnnot=null},t.prototype.cancel=function(){this.currentFakeAnnot&&(this.currentFakeAnnot.destroy(),this.currentFakeAnnot=null)},t.prototype.currentPointDirection=function(){var e=this.startPoint.x,t=this.startPoint.y,n=this.currentPoint.x,r=this.currentPoint.y;return n<=e?r<t?o.DIR_NORTH_WEST:o.DIR_SOUTH_WEST:r<t?o.DIR_NORTH_EAST:o.DIR_SOUTH_EAST},t.prototype.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle),this.offCancelEvent&&this.offCancelEvent(),this.removeZoomToSuccessEvent&&this.removeZoomToSuccessEvent()},t.prototype.out=function(){this.destroyPageHandler()},t}(f);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(1313),i=(o=r)&&o.__esModule?o:{default:o};t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={IDLE:"idle",CONSTRUCT:"construct",CREATING:"creating"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(1315),i=(o=r)&&o.__esModule?o:{default:o};t.default=i.default},function(e,t,n){"use strict";n.r(t),n.d(t,"FakePolygonAnnotation",(function(){return f}));var o,r=n(349),i=n(347),a=n.n(i),s=n(7),c=n(53),u=n.n(c),l=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),f=function(e){function t(t){var n=e.call(this,t)||this;n.isCloudy=!1;var o=n.annotationInfo;if(o.borderStyle)switch(o.borderInfo.style=o.borderStyle,o.borderStyle){case s.BORDER_STYLE.CLOUDY:n.annotationInfo.borderInfo.cloudIntensity=o.borderStyleParam,n.isCloudy=!0;break;case s.BORDER_STYLE.DASHED:n.annotationInfo.borderInfo.dashes=o.borderStyleParam}return n}return l(t,e),t.prototype.generateApRenderer=function(){var e=this.isCloudy;return new a.a(this,e)},t.prototype.getOuterDeviceRect=function(t,n){return this.isCloudy?u.a.on(this.getDeviceRect(t,n)).expand(100*t).extract():e.prototype.getDeviceRect.call(this,t,n)},t.prototype.getType=function(){return"polygon"},t}(r.FakePolylineAnnotation)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(20)),r=a(n(1318)),i=a(n(32));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(){return s(this,t),c(this,e.apply(this,arguments))}return u(t,e),t.prototype.changePeimission=function(e){e.checkPermission(i.default.annotForm)&&e.checkPermission(i.default.modify)?this.component.lock&&this.component.unlock():this.component.lock&&this.component.lock()},t}(o.default.ext(r.default,"SelectTextAnnotationController"));t.default=l},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(20)),r=i(n(1319));i(n(32));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=function(e){function t(){return a(this,t),s(this,e.apply(this,arguments))}return c(t,e),t.prototype.stateIn=function(){this.component.parent.select&&this.component.parent.select(this.component),this.component.parent.element.classList.add("selected")},t.prototype.stateOut=function(){this.component.parent.element.classList.remove("selected")},t.prototype.handle=function(){var e=this;return this.registerPromise.then((function(t){t.getCurrentStates().getStateName()!==e.stateName&&t.switchTo(e.stateName)}))},t}(o.default.ext(r.default,"SelectTextImageController"));t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(20)),r=a(n(1320)),i=a(n(32));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(){return s(this,t),c(this,e.apply(this,arguments))}return u(t,e),t.prototype.changePeimission=function(e){e.checkPermission(i.default.modify)?this.component.unlock&&this.component.unlock():this.component.lock&&this.component.lock()},t.prototype.stateIn=function(){this.component.parent.select&&this.component.parent.select(this.component),this.component.parent.element.classList.add("selected")},t.prototype.stateOut=function(){this.component.parent.element.classList.remove("selected")},t.prototype.handle=function(){var e=this;return this.registerPromise.then((function(t){t.getCurrentStates().getStateName()!==e.stateName&&t.switchTo(e.stateName)}))},t}(o.default.ext(r.default,"SelectAnnotationController"));t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(20)),r=i(n(1321));function i(e){return e&&e.__esModule?e:{default:e}}var a=o.default.ext(r.default,"CreateTextboxController",32);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(1325));function r(e){return e&&e.__esModule?e:{default:e}}var i=r(n(20)).default.ext(o.default,"CreateCalloutController",32);t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),r=a(n(112)),i=a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.cursorStyle="fv__cursor-crosshair",o}return s(t,e),t.getStateName=function(){return"snapshot-tool"},t.prototype.pageHandler=function(e){var t=this;this.pageRender=e;var n=e.$handler.get(0);n.classList.add(this.cursorStyle);var o=new Hammer.Manager(n);this.hammer=o,o.add(new Hammer.Pan),e.getPDFPage().then((function(a){t.page=a,o.on("panstart",(function(o){var s=(0,r.default)(n,o),c={x:s.x+o.deltaX,y:s.y+o.deltaY},u=t._resolvePointsToRect(a,s,c);t.pdfViewer.eventEmitter.emit(i.default.createSnapshotArea,e,u),t.startPoint={x:u.left,y:u.top}})),o.on("panmove",(function(n){var o={x:t.startPoint.x+n.deltaX,y:t.startPoint.y+n.deltaY},r=t._resolvePointsToRect(a,t.startPoint,o);t.pdfViewer.eventEmitter.emit(i.default.updateSnapshotArea,e,r)})),o.on("panend",(function(n){var o={x:t.startPoint.x+n.deltaX,y:t.startPoint.y+n.deltaY},r=t._resolvePointsToRect(a,t.startPoint,o);t.pdfViewer.eventEmitter.emit(i.default.stabilizedSnapshotArea,e,r)}))}))},t.prototype._resolvePointsToRect=function(e,t,n){var o=this.pageRender.getScale(),r=e.getPxWidth()*o,i=e.getPxHeight()*o;return{left:Math.max(0,Math.min(t.x,n.x)),right:Math.min(r,Math.max(t.x,n.x)),top:Math.max(0,Math.min(t.y,n.y)),bottom:Math.min(i,Math.max(t.y,n.y))}},t.prototype.destroyPageHandler=function(){(this.hammer&&this.hammer.destroy(),this.pageRender)&&this.pageRender.$handler.get(0).classList.remove(this.cursorStyle)},t}(o.IStateHandler);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=c(n(3)),r=c(n(10)),i=n(47),a=c(n(48)),s=n(55);function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.data.pageNumber=0,o.data.currentPageIndex=1,o}return u(t,e),t.getName=function(){return"GotoPrevPageController"},t.services=function(){return{portfolioNodeService:a.default,portfolioLayoutService:i.PortfolioLayoutService,portfolioService:s.PortfolioService}},t.prototype.postlink=function(){var e=this;this.addDestroyHook(this.portfolioNodeService.onActiveNode((function(){e.toggle()})),this.portfolioLayoutService.onLayoutChange((function(){e.toggle()})),this.getPDFUI().addViewerEventListener(r.default.openFileSuccess,(function(t){e.data.pageNumber=t.getPageCount(),e.data.currentPageIndex=1,e.toggle(),e.digest()})),this.getPDFUI().addViewerEventListener(r.default.importPages,(function(t){e.data.pageNumber+=t.length})),this.getPDFUI().addViewerEventListener(r.default.pageNumberChange,(function(t){e.data.currentPageIndex=t,e.toggle(),e.digest()})))},t.prototype.handle=function(){return this.getPDFUI().getPDFDocRender().then((function(e){return e.prevPage()}))},t.prototype.toggle=function(){this.portfolioService.isDocumentClosed()?this.component.disable():this.data.currentPageIndex>1&&(this.portfolioLayoutService.getLayoutMode()===i.PortfolioLayoutMode.COVER||!this.portfolioNodeService.hasActiveNode())?this.component.enable():this.component.disable()},t}(o.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(n(3)),r=u(n(10)),i=u(n(110)),a=n(47),s=n(55),c=u(n(48));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var f=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.data.pageNumber=0,o.data.currentPageIndex=1,o}return l(t,e),t.getName=function(){return"GotoNextPageController"},t.services=function(){return{portfolioNodeService:c.default,portfolioLayoutService:a.PortfolioLayoutService,portfolioService:s.PortfolioService}},t.prototype.postlink=function(){var e=this;this.addDestroyHook(this.portfolioNodeService.onActiveNode((function(){e.toggle()})),this.portfolioLayoutService.onLayoutChange((function(){e.toggle()})),this.getPDFUI().addViewerEventListener(r.default.openFileSuccess,(function(t){e.data.pageNumber=t.getPageCount(),e.data.currentPageIndex=1,e.toggle()})),this.getPDFUI().addViewerEventListener(r.default.pageAdded,(function(t){e.data.pageNumber++,e.toggle()})),this.getPDFUI().addViewerEventListener(r.default.pageRemoved,(function(t){e.data.pageNumber--,e.toggle()})),this.getPDFUI().addViewerEventListener(r.default.pagesRemoved,(function(t){var n=(0,i.default)(t);e.data.pageNumber-=n.length,e.toggle()})),this.getPDFUI().addViewerEventListener(r.default.importPages,(function(t){e.data.pageNumber+=t.length,e.toggle()})),this.getPDFUI().addViewerEventListener(r.default.pageNumberChange,(function(t){e.data.currentPageIndex=t,e.toggle()})))},t.prototype.handle=function(){this.getPDFUI().getPDFDocRender().then((function(e){e.nextPage()}))},t.prototype.isLastPage=function(){return this.data.currentPageIndex>=this.data.pageNumber},t.prototype.toggle=function(){this.portfolioService.isDocumentClosed()||this.isLastPage()||this.portfolioLayoutService.getLayoutMode()!==a.PortfolioLayoutMode.COVER&&this.portfolioNodeService.hasActiveNode()?this.component.disable():this.component.enable()},t}(o.default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(185)),r=s(n(533)),i=s(n(10)),a=n(47);function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r.default.getName()))}return c(t,e),t.getName=function(){return"ContinuousFacingPageModeController"},t.prototype.mounted=function(){var t=this,n=this.getPDFUI(),o=n.addViewerEventListener(i.default.renderFileSuccess,(function(e){t.toggle()}));return this.addDestroyHook(o),this.addDestroyHook(this.portfolioNodeService.onActiveNode((function(){t.toggle()})),this.portfolioLayoutService.onLayoutChange((function(){t.toggle()}))),this.addDestroyHook(n.addViewerEventListener(i.default.pageAdded,(function(){t.toggle()}))),this.addDestroyHook(n.addViewerEventListener(i.default.insertPages,(function(){t.toggle()}))),this.addDestroyHook(n.addViewerEventListener(i.default.pageRemoved,(function(){t.toggle()}))),this.addDestroyHook(n.addViewerEventListener(i.default.pagesRemoved,(function(){t.toggle()}))),e.prototype.mounted.call(this)},t.prototype.toggle=function(){var e=this;return this.getPDFUI().getPDFViewerRender().then((function(t){return t.getViewMode().getName()===e.viewModeName?e.component.active():e.component.deactive(),e.portfolioService.isDocumentClosed()||e.portfolioNodeService.hasActiveNode()&&e.portfolioLayoutService.getLayoutMode()!==a.PortfolioLayoutMode.COVER?(e.component.disable(),!1):t.pdfDocRender?(t.pdfDocRender.getPDFDoc().getPageCount()<2?e.component.disable():e.component.enable(),!e.component.disabled):void 0}))},t}(o.default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(534);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.multipage=2,o}return i(t,e),t.getName=function(){return"facing-continuous-page-view-mode"},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(5));function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var i=o.IViewMode,a=o.vendors.jQuery,s=2,c=10,u=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.multipage=s,o.pageSpacing=c,o.isJump=!1,o}return r(t,e),t.getName=function(){return"multipage-view-mode"},t.setMultipage=function(e){s=e},t.getMultipage=function(){return s},t.setPageSpacing=function(e){c=e},t.getPageSpacing=function(){return c},t.prototype.getItems=function(){return a(e.prototype.getItems.call(this))},t.prototype.into=function(t,n){e.prototype.into.call(this,t,n);var o=this.constructor.getName(),r=["<style>","."+o+"{","overflow:hidden;","margin:0 auto;","}","."+o+" .fv__pdf-view-mode-item{","float: left;","display: -webkit-box;","display: -ms-flexbox;","display: -webkit-flex;","display: flex;","-ms-flex-pack: center;","-ms-flex-align: center;","-ms-justify-content: center;","-webkit-justify-content: center;","justify-content: center;","align-items: center;","width:calc("+100/this.multipage+"% - "+this.pageSpacing*(this.multipage-1)/this.multipage+"px)","}","."+o+" .fv__pdf-view-mode-item{","margin-right: "+this.pageSpacing+"px;","}","."+o+" .fv__pdf-page-layout{","width: 100%;","}","."+o+" .fv__pdf-view-mode-item:nth-child("+this.multipage+"n){","margin-right: 0;","}","."+o+" .fv__pdf-view-mode-item:nth-of-type(odd) .fv__pdf-page-layout{","margin-right: 0;","margin-left: 0px","}","."+o+" .fv__pdf-view-mode-item:nth-of-type(even) .fv__pdf-page-layout{","margin-left: 0;","}","</style>"].join("");this.$style=a(r),this.docRender.$container.after(this.$style),this.docRender.$container.addClass(this.constructor.getName()),this.initPageLayout()},t.prototype.bindScrollEvent=function(){var e=this;this._unwatchScrollEvent&&this._unwatchScrollEvent();var t=this.docRender.viewerRender.scrollWrap,n=!1,o=t.addScrollEventListener((function(){clearTimeout(e.scrollEventTimer),e.scrollEventTimer=setTimeout((function(){if(!n){var t=e.docRender;if(t){e.isJump=!1;var o=t.pagesRender;o&&o.renderVisiblePages().then((function(){t.isGoto?setTimeout((function(){t.isGoto=!1}),40):t.setCurrentPageIndex(e.getCurrentPageIndex())}),(function(){}))}}}),100)}));this._unwatchScrollEvent=function(){n=!0,e._unwatchScrollEvent=function(){},o()}},t.prototype.initPageLayout=function(){var e=this.getItems(),t=this.multipage,n=this.pageSpacing*(t-1)/t;e.css({width:"calc("+100/t+"% - "+n+"px)"})},t.prototype.out=function(){this.docRender.$container.removeClass(this.constructor.getName()),this.docRender.pagesRender.$ui.removeAttr("style"),this.$style&&this.$style.remove(),this._unwatchScrollEvent&&this._unwatchScrollEvent(),this.getItems().css({width:"",height:""}),e.prototype.out.call(this)},t.prototype.updatePagesRenderSize=function(){var e=this,t=this.getMaxPageWidth(),n=this.multipage,o=(n-1)*this.pageSpacing;this.docRender.getScaleRatio().then((function(r){e.docRender.pagesRender.$ui.css({width:t*n*r+o})}))},t.prototype.afterRenderVisiblePages=function(){this.updatePagesRenderSize()},t.prototype.renderViewMode=function(e,t,n,o,r){var i=this;if(this.docRender){var s=e.index,c=this.getMaxPageWidth(),u=this.multipage,l=(u-1)*this.pageSpacing;this.docRender.pagesRender.$ui.css({width:c*u*t+l});for(var f=Math.floor(s/u),p=0,d=this.docRender.doc.getPageCount(),h=[],g=this.docRender.getRotation(),m=0;m<u;m++){var v=f*u+m;v<d&&h.push(this.docRender.getPDFDoc().getPageByIndex(v).then((function(e){var t=void 0;t=90===g||270===g?e.getPxWidth():e.getPxHeight(),p=Math.max(t,p),t})))}Promise.all(h).then((function(){var e=i.getItems();a(e[s]).css({height:p*t})})).catch((function(e){0}))}},t.prototype.getPagesLayout=function(){for(var e=this.docRender.doc.pageCache,t=e.length,n=this.multipage,o=Math.ceil(t/n),r=Array(n).fill(0),i=Array(o).fill(0),a=0;a<n;a++)for(var s=a;s<t;s+=n)r[a]=Math.max(r[a],e[s].getPxWidth());for(var c=0;c<o;c++)for(var u=0;u<n;u++)e[c*n+u]&&(i[c]=Math.max(i[c],e[c*n+u].getPxHeight()));var l=[];return e.forEach((function(e,t){l.push({width:r[t%n],height:i[Math.floor(t/3)]})})),l},t.prototype.getMaxPageWidth=function(){var e=0,t=this.docRender.doc.getPageSizesSync(),n=this.docRender.getRotation(),o=void 0;for(var r in o=90===n||270===n?"height":"width",t){var i=4*t[r][o]/3;i>e&&(e=i)}return e},t.prototype.getFitHeight=function(e){var t=this.docRender.viewerRender.scrollWrap;return t.getHeight()-t.getScrollOffsetTop()},t.prototype.getFitWidth=function(e){var t=this.getMaxPageWidth(),n=this.docRender.viewerRender.scrollWrap,o=this.multipage,r=(n.getWidth()-16-o*this.pageSpacing)/o,i=this.docRender.doc.getPageSize(e),a=this.docRender.getRotation();if(i){return r*(90===a||270===a?i.height:i.width)*4/(3*t)}},t.prototype.jumpToPage=function(e,t){var n=this,o=t.x,r=void 0===o?0:o,i=t.y,a=void 0===i?0:i;this.isJump=!0;var s=this.getItems();e>=s.length?e=s.length-1:e<0&&(e=0);var c=s.eq(e),u=c.position().left+r,l=c.position().top+a;this._unwatchScrollEvent&&this._unwatchScrollEvent(),this.docRender.viewerRender.scrollWrap.scrollTo(u,l),this.currentJumpPageIndex=e,this.docRender.setCurrentPageIndex(e),setTimeout((function(){n.bindScrollEvent()}))},t.prototype.getVisibleIndexes=function(){var e=this.docRender.viewerRender.scrollWrap,t=e.getScrollTop(),n=e.getHeight(),o=t+n,r=[];this.multipage;return this.getItems().each((function(e,n){if(0>o)return!1;var i=a(n).outerHeight(!0),s=n.offsetTop;s<=o&&s+i>=t&&r.push(e)})),r},t.prototype.getCurrentPageIndex=function(){if(this.isJump)return this.currentJumpPageIndex;for(var e=this.getItems(),t=this.docRender.viewerRender.scrollWrap,n=t.getScrollTop(),o=n+t.getHeight(),r=t.getScrollLeft(),i=r+t.getWidth(),s=void 0,c=[],u=0;u<e.length;u++){var l=e[u],f=a(l).width(),p=a(l).height(),d=l.offsetTop,h=d+p,g=l.offsetLeft,m=g+f,v=void 0;if(d<=n&&h>n&&h<o?v=h-n:d>=n&&h<o?v=p:d<=n&&h>o?v=o-n:d>=n&&d<o&&h>o&&(v=o-d),v){var y=void 0;g<=r&&m>r&&m<i?(y=m-r,c.push({index:u,area:v*y})):g>=r&&m<i?(y=f,c.push({index:u,area:v*y})):g<=r&&m>i?(y=i-r,c.push({index:u,area:v*y})):g>=r&&g<i&&m>i&&(y=i-g,c.push({index:u,area:v*y}))}}for(var b=0,w=0;w<c.length;w++)c[w].area>b&&(b=c[w].area,s=c[w].index);return s},t.prototype.getNextPageIndex=function(){var e=this.docRender.doc.getPageCount(),t=this.getCurrentPageIndex();if(t<e-1){var n=this.docRender.viewerRender.scrollWrap,o=this.docRender.pagesRender.$ui.width(),r=n.getWidth()-16,i=this.multipage;if(r>=o)t=Math.ceil((t+1)/i)*i;else t++}return t>e-1&&(t=e-1),t},t.prototype.getPrevPageIndex=function(){var e=this.getCurrentPageIndex();if(e>0){var t=this.docRender.viewerRender.scrollWrap,n=this.docRender.pagesRender.$ui.width(),o=t.getWidth()-16,r=this.multipage;if(o>=n)e=(Math.ceil((e+1)/r)-2)*r;else e--}return e<0&&(e=0),e},t}(i);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(185)),r=s(n(429)),i=s(n(10)),a=n(47);function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r.default.getName()))}return c(t,e),t.getName=function(){return"ContinuousPageModeController"},t.prototype.mounted=function(){var t=this,n=this.getPDFUI(),o=n.addViewerEventListener(i.default.openFileSuccess,(function(e){t.toggle()}));return this.addDestroyHook(o),this.addDestroyHook(this.portfolioNodeService.onActiveNode((function(){t.toggle()})),this.portfolioLayoutService.onLayoutChange((function(){t.toggle()}))),this.addDestroyHook(n.addViewerEventListener(i.default.pageAdded,(function(){t.toggle()}))),this.addDestroyHook(n.addViewerEventListener(i.default.insertPages,(function(){t.toggle()}))),this.addDestroyHook(n.addViewerEventListener(i.default.pageRemoved,(function(){t.toggle()}))),this.addDestroyHook(n.addViewerEventListener(i.default.pagesRemoved,(function(){t.toggle()}))),e.prototype.mounted.call(this)},t.prototype.toggle=function(){var e=this;return this.getPDFUI().getPDFViewerRender().then((function(t){return t.getViewMode().getName()===e.viewModeName?e.component.active():e.component.deactive(),e.portfolioService.isDocumentClosed()||e.portfolioNodeService.hasActiveNode()&&e.portfolioLayoutService.getLayoutMode()!==a.PortfolioLayoutMode.COVER?(e.component.disable(),!1):t.pdfDocRender?(t.pdfDocRender.getPDFDoc().getPageCount()<2?e.component.disable():e.component.enable(),!e.component.disabled):void 0}))},t}(o.default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(185)),r=s(n(328)),i=s(n(10)),a=n(47);function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r.default.getName()))}return c(t,e),t.getName=function(){return"FacingPageModeController"},t.prototype.mounted=function(){var t=this,n=this.getPDFUI(),o=n.addViewerEventListener(i.default.renderFileSuccess,(function(e){t.toggle()}));return this.addDestroyHook(o),this.addDestroyHook(this.portfolioNodeService.onActiveNode((function(){t.toggle()})),this.portfolioLayoutService.onLayoutChange((function(){t.toggle()}))),this.addDestroyHook(n.addViewerEventListener(i.default.pageAdded,(function(){t.toggle()}))),this.addDestroyHook(n.addViewerEventListener(i.default.insertPages,(function(){t.toggle()}))),this.addDestroyHook(n.addViewerEventListener(i.default.pageRemoved,(function(){t.toggle()}))),this.addDestroyHook(n.addViewerEventListener(i.default.pagesRemoved,(function(){t.toggle()}))),e.prototype.mounted.call(this)},t.prototype.toggle=function(){var e=this;return this.getPDFUI().getPDFViewerRender().then((function(t){return t.getViewMode().getName()===e.viewModeName?e.component.active():e.component.deactive(),e.portfolioService.isDocumentClosed()||e.portfolioNodeService.hasActiveNode()&&e.portfolioLayoutService.getLayoutMode()!==a.PortfolioLayoutMode.COVER?(e.component.disable(),!1):t.pdfDocRender?(t.pdfDocRender.getPDFDoc().getPageCount()<2?e.component.disable():e.component.enable(),!e.component.disabled):void 0}))},t}(o.default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(185)),r=i(n(155));i(n(10));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var s=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r.default.getName()))}return a(t,e),t.getName=function(){return"SinglePageModeController"},t}(o.default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(3));function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=r(n(9)).default.getLogger("ZoomToScaleValueController"),u=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.getName=function(){return"ZoomToScaleValueController"},t.prototype.handle=function(){return this.getPDFUI().zoomTo(this.data.scale).catch((function(e){c.warn(e)}))},t}(o.default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(10)),r=i(n(3));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=i(n(9)).default.getLogger("EditableZoomDropdownController"),l=function(e){function t(){return a(this,t),s(this,e.apply(this,arguments))}return c(t,e),t.getName=function(){return"EditableZoomDropdownController"},t.prototype.prelink=function(){var e=this;this.getPDFUI().getPDFViewer().then((function(t){var n=Math.max.apply(null,e.getPDFUI().customScalingValues),o=Math.min.apply(null,e.getPDFUI().customScalingValues),r=Math.min(o,t.config.minScale),i=Math.min(n,t.config.maxScale);e.component.setMinValue(100*r),e.component.setMaxValue(100*i),e.component.setEditTemplate((function(e){var n=t.getPDFDocRender();if(!n)return e+"%";var o=n.getScale();switch(o){case"fitWidth":case"fitVisible":case"fitHeight":return"toolbar.buttons."+o;default:return e+"%"}}))})),this.component.on("change",(function(t){var n=e.component.querySelectorAll('dropdown-button[iconCls=""]');u.debug(n),e.getPDFUI().zoomTo(t/100).catch((function(){}))}));var t=function(){e.getPDFUI().getPDFViewerRender().then((function(e){return e.getScaleRatio()})).then((function(t){var n=Math.round(1e4*t)/100;e.component.setEditValue(n)}))};this.addDestroyHook(this.getPDFUI().addViewerEventListener(o.default.beforeZoomTo,(function(t){if("number"==typeof t){var n=Math.round(1e4*t)/100;e.component.setEditValue(n)}})),this.getPDFUI().addViewerEventListener(o.default.zoomToSuccess,t),this.getPDFUI().addViewerEventListener(o.default.openFileSuccess,t))},t}(r.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(226);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.getName=function(){return"EditableZoomActionController"},t.prototype.handle=function(){var t=this;e.prototype.handle.call(this),this.getPDFUI().getPDFViewerRender().then((function(e){return e.getScaleRatio()})).then((function(e){t.component.parent.setEditValue(100*e)}))},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DropdownZoomInAndOutController=void 0;i(n(226));var o=i(n(225)),r=i(n(1339));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}t.DropdownZoomInAndOutController=function(e){function t(){return a(this,t),s(this,e.apply(this,arguments))}return c(t,e),t.getName=function(){return"DropdownZoomInAndOutController"},t.prototype.handle=function(){e.prototype.handle.call(this),this.component.parent.select(this.component)},t}(o.default);t.default={name:"zoom-dropdown",fragment:{template:(0,r.default)()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=n(3),a=(o=i)&&o.__esModule?o:{default:o},s=n(103),c=n(5);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var p=function(e){function t(){return u(this,t),l(this,e.apply(this,arguments))}return f(t,e),t.getName=function(){return"DownloadFileController"},t.prototype.postlink=function(){var e=this;this.addDestroyHook(this.getPDFUI().addViewerEventListener(c.Events.openFileSuccess,(function(t){t.checkNoAdditionPerm(1)?e.component.disable():e.component.enable()})))},t.prototype.handle=function(){return this.getPDFUI().getPDFViewer().then((function(e){e.activeElement(null);var t=[],n=e.currentPDFDoc;return n.getStream((function(e){var n=e.arrayBuffer,o=e.blob;o?t=o:t.push(n)}),n.hasSignature()?1:0).then((function(e){return[t,n.getFileName()]}))})).then((function(e){var t=r(e,2),n=t[0],o=t[1];o&&0!==o.length||(o="download.pdf"),(0,s.download)(n,o)}))},t}(a.default);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=c(n(20)),i=c(n(332)),a=(c(n(10)),c(n(9))),s=n(7);function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}a.default.getLogger("CreateDistanceController");var l=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,i.default));return o.$throttles={},o}return u(t,e),t.getName=function(){return"CreateDistanceController"},t.prototype.mounted=function(){e.prototype.mounted.call(this),this.rulerContainer=this.getComponentByName("pdf-viewer-container-with-ruler")},t.prototype.updateMeasurementAnnotContentInfo=function(e){if(e.annot.getIntent()!==s.Intents.LINE_DIMENSION)throw new Error("incorrect annotation intent: "+e.annot.getIntent()+", it must be "+s.Intents.LINE_DIMENSION);var t=e.getLengthInInchUnit()+this.component.localizer.translateSync("measurement.units.inch"),n=e.getId(),o=this.$throttles[n]||this._throttle((function(t){requestAnimationFrame((function(n){e.setContent(t)}))}));this.$throttles[n]=o,o(t)},t.prototype._throttle=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=void 0;return function(){var o=arguments,r=this;clearTimeout(n),n=setTimeout((function(){return e.apply(r,o)}),t)}},t.prototype.stateIn=function(){this.rulerContainer&&this.rulerContainer.active(),this.component.parent.select(this.component),this.component.parent.element.classList.add("selected")},t.prototype.stateOut=function(){this.rulerContainer&&this.rulerContainer.deactive(),this.component.parent.element.classList.remove("selected")},o(t,null,[{key:"permission",get:function(){return 32}}]),t}(r.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=c(n(20)),i=c(n(227)),a=(c(n(10)),c(n(9))),s=n(7);function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}a.default.getLogger("CreatePerimeterController");var l=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,i.default));return o.$throttles={},o}return u(t,e),t.getName=function(){return"CreatePerimeterController"},t.prototype.mounted=function(){e.prototype.mounted.call(this),this.rulerContainer=this.getComponentByName("pdf-viewer-container-with-ruler")},t.prototype.updateMeasurementAnnotContentInfo=function(e){if(e.annot.getIntent()!==s.Intents.POLYLINE_DIMENSION)throw new Error("incorrect annotation intent: "+e.annot.getIntent()+", it must be "+s.Intents.POLYLINE_DIMENSION);var t=e.getLengthInInchUnit()+this.component.localizer.translateSync("measurement.units.inch"),n=e.getId(),o=this.$throttles[n]||this._throttle((function(t){requestAnimationFrame((function(n){e.setContent(t)}))}));this.$throttles[n]=o,o(t)},t.prototype._throttle=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=void 0;return function(){var o=arguments,r=this;clearTimeout(n),n=setTimeout((function(){return e.apply(r,o)}),t)}},t.prototype.stateIn=function(){this.rulerContainer&&this.rulerContainer.active(),this.component.parent.select(this.component),this.component.parent.element.classList.add("selected")},t.prototype.stateOut=function(){this.rulerContainer&&this.rulerContainer.deactive(),this.component.parent.element.classList.remove("selected")},o(t,null,[{key:"permission",get:function(){return 32}}]),t}(r.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(321);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,"create-measurement-status"));return r.target=o,r}return i(t,e),t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RulerIterator=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(63),i=(n(206),n(207)),a=n(52);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=function(){function e(t){s(this,e),this.orientation=t.orientation,this.pixelUnit=t.orientation===i.ORIENTATION_HORIZONTAL?r.PIXEL_HORIZONTAL:r.PIXEL_VERTICAL,this.setZoom(t.zoom),this.setUnit(t.unit);var n=(0,a.getDPI)();this.dpi=t.orientation===i.ORIENTATION_HORIZONTAL?n.x:n.y,this.minDivisionPixels=t.minDivisionPixels||this.dpi/this.inchRate/10}return o(e,null,[{key:"SCALE_TYPE_UNIT",get:function(){return"unit"}},{key:"SCALE_TYPE_MIDDLE",get:function(){return"middle"}},{key:"SCALE_TYPE_SCALE",get:function(){return"scale"}}]),e.prototype.setUnit=function(e){this.unit=e||r.INCH,this.inchRate=function(e){return e===r.MILLIMETER?r.CENTIMETER.fromInchRate:e.fromInchRate}(e),this.scaleRate=this.unit==r.MILLIMETER?10:1},e.prototype.setZoom=function(e){this.zoom=Math.max(e,.001)},e.prototype.iterator=function(e){return new u(this,e)},e.prototype.clone=function(){return new e({dpi:this.dpi,unit:this.unit,zoom:this.zoom,minDivisionPixels:this.minDivisionPixels})},e.prototype.scaleInfo=function(){var e=this.zoom,t=this.minDivisionPixels;if(this.zoom>1)return{divisionPixels:this.unit.convertTo(1,this.pixelUnit)/10*e*this.scaleRate,division:.1};var n=this.unit.convertTo(1,this.pixelUnit)/10*e*this.scaleRate,o=Math.max(t,n),r=Math.floor(o/n);return{divisionPixels:r*n,division:r/10}},e}();t.default=c;var u=t.RulerIterator=function(){function e(t,n){s(this,e),this.ruler=t,this.length=n,this.scaleInfo=t.scaleInfo(),this.$$offset=-this.scaleInfo.divisionPixels,this.$$scale=10*-this.scaleInfo.division,this.$$countFlag=0}return e.prototype.hasNext=function(){return this.$$offset<this.length},e.prototype.next=function(){var e=void 0;switch(this.$$countFlag%10){case 0:e=c.SCALE_TYPE_SCALE,this.$$scale+=10*this.scaleInfo.division;break;case 5:e=c.SCALE_TYPE_MIDDLE;break;default:e=c.SCALE_TYPE_UNIT}return this.$$offset+=this.scaleInfo.divisionPixels,this.$$countFlag++,{type:e,scale:this.$$scale*this.ruler.scaleRate,offset:this.$$offset}},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(3);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.getName=function(){return"CancelCreatingMeasurementController"},t.prototype.handle=function(){return this.getPDFUI().getPDFViewer().then((function(e){e.getStore().dispatch("create-measurement-status","cancel")}))},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(3);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.getName=function(){return"CompleteCreatingMeasurementController"},t.prototype.handle=function(){return this.getPDFUI().getPDFViewer().then((function(e){e.getStore().dispatch("create-measurement-status","complete")}))},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(10)),r=i(n(102));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var s=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.stateName="edit-image",o}return a(t,e),t.getName=function(){return"EditImageController"},t.prototype.postlink=function(){var e=this,t=this.getPDFUI();this.addDestroyHook(t.addViewerEventListener(o.default.switchStateHandler,(function(t,n){e.getPDFUI().getStateHandlerManager().then((function(o){t===o.get(e.stateName)?e.component.active():n===o.get(e.stateName)&&e.component.deactive()}))})))},t.prototype.handle=function(){var e=this;return this.getPDFUI().getStateHandlerManager().then((function(t){t.getCurrentStates()===t.get(e.stateName)?t.switchTo(r.default.getStateName()):t.switchTo(e.stateName)}))},t}(i(n(3)).default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=u(n(3)),a=u(n(1361)),s=u(n(10)),c=n(14);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var f=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n))}return l(t,e),t.getName=function(){return"CreateStampController"},t.prototype.postlink=function(){var t=this;e.prototype.postlink.call(this);var n=this.getPDFUI();n.stampHandlerRegistered||(n.getStateHandlerManager().then((function(e){return e.register(a.default)})),n.stampHandlerRegistered=!0),this.addDestroyHook(n.addViewerEventListener(s.default.switchStateHandler,(function(e){var n=t.component;e.getStateName()!=a.default.getStateName()&&n.doDeactive()})),n.addUIEventListener(s.default.stampSelectedChange,(function(e){var n=t.component;n.path&&e[0]==n.path[0]&&e[1]==n.path[1]?n.active():n.deactive()})));var r=function(){n.getPDFDocRender().then((function(e){return e.getUserPermission().getValue()})).then((function(e){return Promise.all([32&e,n.getComponentByName("create-custom-stamps")])})).then((function(e){var t=o(e,2),n=t[0],r=t[1];n?r.unlock():r.lock()}))};this.addDestroyHook(n.addViewerEventListener(s.default.openFileSuccess,r),n.addViewerEventListener(s.default.permissionChanged,r))},t.prototype.handle=function(e,t){if(t){var n=this.getPDFUI();return n.getStateHandlerManager().then((function(o){n.initDefaultStamps();var r=n.defaultStamps[e]&&n.defaultStamps[e][t],i=150,s=45;if(!r){if(!n.customStamps[e])throw o.then((function(e){return e.switchTo()})),new Error("No stamp found");i=(r=n.customStamps[e][t]).width||150,s=r.height||45}var u=r,l=u.url,f=u.fileType,p=l;if(!c.isTouchDevice){p=l.replace(/\.pdf$/,".svg");var d=new XMLHttpRequest;d.open("get",l),d.send()}o.switchTo(a.default.getStateName(),{category:e,name:t,url:l,fileType:f,width:i,height:s,showUrl:p}),n.eventEmitter.emit("stampSelectedChange",[e,t])}))}},r(t,null,[{key:"permission",get:function(){return 32}}]),t}(i.default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(3);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.getName=function(){return"ShowCreateStampDialogController"},t.prototype.handle=function(e){var t=this.getComponentByName("create-stamp-dialog");t.update(),t.open(document.body)},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(3)),r=a(n(10)),i=a(n(338));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.data.signatures=[],o}return s(t,e),t.getName=function(){return"InkSignListController"},t.prototype.postlink=function(){var e=this,t=this.getPDFUI();this.addDestroyHook(t.addViewerEventListener(r.default.inkSignAdded,(function(t){e.data.signatures=t.slice(0),e.digest()})),t.addViewerEventListener(r.default.inkSignDeleted,(function(t){e.data.signatures=t.slice(0),e.digest()}))),t.getStateHandlerManager().then((function(e){e.register(i.default)}))},t}(o.default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CreateInkSignDialogController=void 0;var o=u(n(3)),r=u(n(4)),i=n(8),a=u(n(338)),s=u(n(10)),c=n(109);function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}t.CreateInkSignDialogController=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.signPoints=[],o.signColor="#000000",o.signSize=4,o}return f(t,e),t.getName=function(){return"CreateInkSignDialogController"},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this),this.$tabPanel=(0,r.default)(this.component.getComponentByName("sign-dialog-tab-panel").element),this.$panelDraw=(0,r.default)(this.component.getComponentByName("sign-dialog-panel-draw").element),this.$selectColor=(0,r.default)(this.component.getComponentByName("sign-dialog-select-color").element),this.$selectSize=(0,r.default)(this.component.getComponentByName("sign-dialog-select-size").element),this.$okBtn=(0,r.default)(this.component.getComponentByName("sign-dialog-ok-btn").element),this.$closeBtn=(0,r.default)(this.component.getComponentByName("sign-dialog-close-btn").element),this.$canvas=(0,r.default)(this.component.getComponentByName("sign-dialog-canvas").element),this.$eraser=(0,r.default)(this.component.getComponentByName("sign-dialog-select-eraser").element),this.$save=(0,r.default)(this.component.getComponentByName("sign-dialog-save").element),this.$panelImage=(0,r.default)(this.component.getComponentByName("sign-dialog-panel-image").element),this.$optionConvertTo=(0,r.default)(this.component.getComponentByName("sign-dialog-option-convert-to").element),this.$eraserImage=this.$panelImage.find(".image-title > .fv__icon-toolbar-clear"),this.$inputFile=this.$panelImage.find("input[type=file]"),this.$previewImg=this.$panelImage.find(".preview-img"),this.$errorMessage=this.$panelImage.find(".preview-file-error-message"),this.originBase64="",this.$selectColor.find("[data-color='"+this.signColor+"']").addClass("circle-active"),this.$selectSize.find("[data-size='"+this.signSize+"']").addClass("circle-active"),this._bindEvent(),this.component.on(i.COMPONENT_EVENTS.SHOWN,(function(){t.$tabPanel.find(".fv__ui-sign-dialog-tab").eq(0).trigger("click"),t.resetCanvas()})),this.component.on(i.COMPONENT_EVENTS.HIDDEN,(function(){t.$eraser.trigger("click"),t.$eraserImage.trigger("click")}))},t.prototype.setOKCallback=function(e){this.callback=e},t.prototype.resetCanvas=function(){var e=this.$canvas[0],t=e.getContext("2d");t.save(),t.fillStyle="#f7f7f7",t.fillRect(0,0,e.width,e.height),t.restore()},t.prototype._bindEvent=function(){var e=this;this.hammer&&this.hammer.destroy();var t=this.hammer=new Hammer.Manager(this.$canvas[0],{recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}]]});this.addDestroyHook((function(){e.hammer.destroy(),e.hammer=null}));var n=this.$canvas[0].getContext("2d");function o(e,t){var n=e.getBoundingClientRect(),o=t.srcEvent;return{x:(0,c.getClientX)(o)-n.left,y:(0,c.getClientY)(o)-n.top}}t.on("panstart",(function(t){n.lineWidth=e.signSize,n.strokeStyle=e.signColor,n.lineJoin="round",n.lineCap="round";var r=o(e.$canvas[0],t),i={x:r.x-t.deltaX,y:r.y-t.deltaY};n.beginPath(),n.moveTo(i.x,i.y),i.size=e.signSize,i.color=e.signColor,i.lineJoin=n.lineJoin,i.lineCap=n.lineCap,i.type="moveTo",e.signPoints.push(i)})),t.on("panmove",(function(t){var r=o(e.$canvas[0],t);n.lineTo(r.x,r.y),n.stroke(),r.type="lineTo",e.signPoints.push(r)})),t.on("panend",(function(e){})),this.$tabPanel.find(".fv__ui-sign-dialog-tabs").find("*").on("click",(function(t){var n=(0,r.default)(t.currentTarget);e.$tabPanel.find(".fv__ui-sign-dialog-tab").removeClass("active"),n.closest(".fv__ui-sign-dialog-tab").addClass("active"),e.$tabPanel.find(".fv__ui-sign-dialog-panel").hide();var o=n.closest(".fv__ui-sign-dialog-tab").index();e.$tabPanel.find(".fv__ui-sign-dialog-panel").eq(o).show(),0!==o||e.$canvas.attr("width")||e.$canvas.attr("height")||(e.$canvas[0].width=e.$canvas.parent().width(),e.$canvas[0].height=e.$canvas.parent().height())})),this.$eraser.on("click",(function(){e.resetCanvas(),e.signPoints=[]})),this.$closeBtn.on("click",(function(){e.callback&&e.callback(),e.component.hide()})),this.$selectColor.find(".circle").on("click",(function(t){var o=t.target;o.classList.contains("color-wrapper")||(o=o.parentNode),e.$selectColor.find("[data-color]").removeClass("circle-active");var i=(0,r.default)(o);i.addClass("circle-active"),e.signColor=n.strokeStyle=i.data("color")})),this.$selectSize.find(".circle").on("click",(function(t){var o=t.target;o.classList.contains("color-wrapper")||(o=o.parentNode),e.$selectSize.find("[data-size]").removeClass("circle-active");var i=(0,r.default)(o);i.addClass("circle-active"),e.signSize=n.lineWidth=i.data("size")})),this.$okBtn.on("click",(function(t){var n=e.$tabPanel.find(".fv__ui-sign-dialog-tab.active").index();if(!(0===n&&0===e.signPoints.length||1===n&&!e.$previewImg.attr("src"))){var o=e.getPDFUI(),r=0===n?function(e,t,n){if(0===e.length)return f(0,0,0,0);var o=n.offsetWidth,r=n.offsetHeight,i=0,a=0,s=e.map((function(e){return e.x})),c=e.map((function(e){return e.y}));o=Math.min.apply(Math,[o].concat(l(s))),i=Math.max.apply(Math,[i].concat(l(s))),r=Math.min.apply(Math,[r].concat(l(c))),a=Math.max.apply(Math,[a].concat(l(c)));var u=t/2;return o=Math.max(0,o-u),i=Math.min(n.offsetWidth,i+u),r=Math.max(0,r-u),a=Math.min(n.offsetHeight,a+u),f(o,r,i-o,a-r);function f(t,n,o,r){var i=document.createElement("canvas");if(i.width=o,i.height=r,0===o||0===r)return i.toDataURL("image/png",1);var a=i.getContext("2d");return e.forEach((function(e){"moveTo"===e.type?(a.stroke(),a.beginPath(),a.lineWidth=e.size,a.strokeStyle=e.color,a.lineJoin=e.lineJoin,a.lineCap=e.lineCap,a.moveTo(e.x-t,e.y-n)):(a.lineTo(e.x-t,e.y-n),a.stroke())})),i.toDataURL("image/png",1)}}(e.signPoints,e.signSize,e.$canvas[0]):e.$previewImg.attr("src");e.callback?(e.callback(r),e.component.hide(),e.signPoints=[]):o.getPDFViewer().then((function(t){var n=t.getInkSignManager();if(e.$save.is(":checked")){var i=n.addInkSign();i.setDataURL(r);var c=n.push(i);n.setCurrentInkSign(c)}o.getPDFDocRender().then((function(e){return e})).then((function(e){e&&e.getUserPermission().checkModify()&&(t.getStateHandlerManager().switchTo(a.default.getStateName()),t.eventEmitter.emit(s.default.InkImageSelected,r))})),e.component.hide(),e.signPoints=[]}))}})),this.$inputFile.on("change",(function(t){var n=(0,r.default)(t.currentTarget)[0].files[0];if(e.$errorMessage.text(""),n){if("image/jpeg"!==n.type.toLocaleLowerCase()&&"image/jpg"!==n.type.toLocaleLowerCase()&&"image/png"!==n.type.toLocaleLowerCase())return e.$eraserImage.trigger("click"),void e.$errorMessage.text(e.component.localizer.translateSync("dialog.error.fileFormatError"));var o=new FileReader;o.onload=function(){var t=e.$panelImage.find(".preview-img-wrapper");t.css("background-color","#f8f8f8"),e.originBase64=o.result,e.$previewImg.attr("src",e.originBase64),setTimeout((function(){e.$optionConvertTo.trigger("change"),e.$previewImg.removeAttr("style");var n=e.$previewImg.width(),o=e.$previewImg.height(),r=t.width(),i=t.height();e.$previewImg.css(r/n*o<i?"width":"height","100%")}),0)},o.readAsDataURL(n)}})),this.$eraserImage.on("click",(function(t){e.$inputFile.val(""),e.$previewImg.removeAttr("src"),e.$panelImage.find(".preview-img-wrapper").css("background-color","unset"),e.$errorMessage.text(""),e.originBase64=""})),this.$optionConvertTo.on("change",(function(t){if(e.originBase64)if((0,r.default)(t.currentTarget).is(":checked")){var n=new Image;n.onload=function(){var t=n.width,o=n.height,r=document.createElement("canvas");r.setAttribute("width",t),r.setAttribute("height",o);var i=r.getContext("2d");i.drawImage(n,0,0,t,o);var a,s=i.getImageData(0,0,t,o),c=s.data,u=void 0,l=void 0,f=void 0,p=void 0,d=void 0;for(u=0,a=c.length;u<a;u+=4)l=c[u],f=c[u+1],p=c[u+2],c[u+3],d=Math.floor((l+f+p)/3),c[u]=d,c[u+1]=d,c[u+2]=d;i.putImageData(s,0,0,0,0,t,o);var h=r.toDataURL(e.originBase64.split(";base64,")[0].replace("data:",""),1);e.$previewImg.attr("src",h)},n.src=e.originBase64}else e.$previewImg.attr("src",e.originBase64)}))},t}(o.default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(3);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n))}return i(t,e),t.getName=function(){return"ShowCreateInkSignDialogController"},t.prototype.handle=function(e){var t=this.getComponentByName("create-signature");t.update(),t.open(document.body)},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=d(n(484)),r=d(n(556)),i=d(n(559)),a=d(n(142)),s=n(560),c=d(s),u=d(n(30)),l=n(8),f=d(n(1399)),p=d(n(1400));function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var g=(0,f.default)(),m=(0,p.default)(),v=function(e){function t(n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r)),l=i.getClosestComponentByClass(a.default);return l&&!i.timeFormatter&&(i.timeFormatter=l.timeFormatter),l&&!i.floatingTimeFormatter&&(i.floatingTimeFormatter=l.floatingTimeFormatter),i.timeFormatter||(i.timeFormatter=c.default),i.floatingTimeFormatter||(i.floatingTimeFormatter=s.commentListFloatingTimeFormatter),i.commentFilter=function(){return!0},i.lastReplyComponent=null,i.lastCommentCardComponent=null,i.lastEditComponent=null,i.clearLastEditComponent=u.default,i.clearLastReplyComponent=u.default,i.clearLastCommentCardComponent=u.default,i.addDestroyHook((function(){i.clearLastEditComponent(),i.clearLastReplyComponent(),i.clearLastCommentCardComponent()})),i.commentCardMenuVNode=i.parser.parseTemplateToNode(g,[]),i.replyCardMenuVNode=i.parser.parseTemplateToNode(m,[]),i}return h(t,e),t.getName=function(){return"comment-list"},t.getMetadata=function(){return{options:{timeFormatter:{type:"function",required:!1},floatingTimeFormatter:{type:"function",required:!1}}}},t.prototype.render=function(){e.prototype.render.call(this),this.element.classList.add("fv__ui-commentlist")},t.prototype.selectCommentItem=function(e){var t=this;this.lastEditComponent&&this.lastEditComponent!==e&&this.lastEditComponent.publishMessage(),this.lastReplyComponent&&this.lastReplyComponent.parent!==e&&(this.lastReplyComponent.switchToView(),this.lastReplyComponent.deselect(),this.lastReplyComponent.applyState(),this.lastReplyComponent=null),this.lastCommentCardComponent&&this.lastCommentCardComponent!==e&&(this.lastCommentCardComponent.deselect(),this.lastCommentCardComponent.applyState()),this.lastCommentCardComponent=e,e.selected||(e.select(),e.applyState(),this.trigger("selectCommentItem",e)),this.clearLastCommentCardComponent(),this.clearLastCommentCardComponent=e.once(l.COMPONENT_EVENTS.DESTROYED,(function(){t.lastCommentCardComponent===e&&(t.lastCommentCardComponent=null)}))},t.prototype.selectCommentReply=function(e){var t=this;this.lastReplyComponent!==e&&(this.lastEditComponent&&this.lastEditComponent!==e&&this.lastEditComponent.publishMessage(),this.lastCommentCardComponent&&e.parent!==this.lastCommentCardComponent&&(this.lastCommentCardComponent.deselect(),this.lastCommentCardComponent.applyState()),this.lastReplyComponent&&this.lastReplyComponent!==e&&(this.lastReplyComponent.deselect(),this.lastReplyComponent.applyState()),this.lastReplyComponent=e,e.parent.select(),e.parent.applyState(),this.lastCommentCardComponent=e.parent,e.select(),e.applyState(),this.trigger("selectCommentReply",e),this.clearLastReplyComponent(),this.clearLastReplyComponent=e.once(l.COMPONENT_EVENTS.DESTROYED,(function(){t.lastReplyComponent=null})),this.clearLastCommentCardComponent(),this.clearLastCommentCardComponent=e.parent.once(l.COMPONENT_EVENTS.DESTROYED,(function(){t.lastCommentCardComponent=null})))},t.prototype.selectComponent=function(e){e instanceof r.default?this.selectCommentItem(e):e instanceof i.default&&this.selectCommentReply(e)},t.prototype.editComponent=function(e){var t=this;if(e.annot&&"sound"===e.annot.getType())return!1;e!==this.lastEditComponent&&this.lastEditComponent&&this.lastEditComponent.publishMessage(),e.switchToEdit(),e.applyState(),this.lastEditComponent=e,this.clearLastEditComponent(),this.clearLastEditComponent=e.once(l.COMPONENT_EVENTS.DESTROYED,(function(){t.lastEditComponent=null}))},t.prototype.clearLastCommentCard=function(){this.lastCommentCardComponent=null},t}(o.default);t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=l(n(1397)),r=l(n(557)),i=l(n(10)),a=l(n(9)),s=l(n(555)),c=n(14),u=l(n(558));function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var p=(0,o.default)(),d={line:"fv__icon-commentlist-line",linearrow:"fv__icon-commentlist-arrow",linedimension:"fv__icon-commentlist-measure-distance",polylinedimension:"fv__icon-commentlist-measure-perimeter",polygondimension:"fv__icon-toolbar-area",circledimension:"fv__icon-toolbar-areacircle",circle:"fv__icon-commentlist-circle",square:"fv__icon-commentlist-square",polyline:"fv__icon-commentlist-polyline",polygon:"fv__icon-commentlist-polygon",polygoncloud:"fv__icon-commentlist-cloud",fileattachment:"fv__icon-commentlist-document-pin",freetexttypewriter:"fv__icon-commentlist-typewriter",typewriter:"fv__icon-commentlist-typewriter",freetextcallout:"fv__icon-commentlist-callout",callout:"fv__icon-commentlist-callout",freetexttextbox:"fv__icon-commentlist-textbox",textbox:"fv__icon-commentlist-textbox",freetext:"fv__icon-commentlist-textbox",ink:"fv__icon-commentlist-pencil",stamp:"fv__icon-commentlist-stamp",text:"fv__icon-commentlist-note-pin",areahighlight:"fv__icon-commentlist-area-highlight",highlight:"fv__icon-commentlist-highlight",caret:"fv__icon-commentlist-insert",replace:"fv__icon-commentlist-replace",sound:"fv__icon-commentlist-sound",movie:"fv__icon-commentlist-movie",squiggly:"fv__icon-commentlist-squiggly",strikeout:"fv__icon-commentlist-strikeout",redact:"fv__icon-commentlist-redact",underline:"fv__icon-commentlist-underline"},h=a.default.getLogger("pdf-ui.CommentCardComponent"),g=function(e){function t(n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r));i.selected=!1,i.hasContent=!1,i.hasStates=!1,i.operationMode="view",i.editable=!0,i.replyable=!0,i.message="";var a=i.getClosestComponentByClass(s.default);return i.timeFormatter=a.timeFormatter,i.floatingTimeFormatter=a.floatingTimeFormatter,i}return f(t,e),t.getName=function(){return"comment"},t.prototype.createDOMElement=function(){return document.createElement("div")},t.prototype.render=function(){var t=this;e.prototype.render.call(this);var n=this.element;n.classList.add("fv__ui-commentlist-comment"),n.setAttribute("z-index",-1),(0,u.default)(n,p),this.checkMarkElement=n.querySelector(".fv__ui-commentlist-comment-check-mark"),this.repliesElement=n.querySelector(".fv__ui-commentlist-replies"),this.titleElement=n.querySelector(".fv__ui-commentlist-comment-title"),this.iconElement=n.querySelector(".fv__ui-commentlist-comment-icon"),this.timeElement=n.querySelector(".fv__ui-commentlist-comment-time"),this.messageElement=n.querySelector(".fv__ui-commentlist-comment-message"),this.messageEditorElement=n.querySelector(".fv__ui-commentlist-comment-editor-area>.fv__ui-commentlist-editor"),this.addReplyContainerElement=n.querySelector(".fv__ui-commentlist-add-reply"),this.addReplyBtn=n.querySelector(".fv__ui-commentlist-comment-tools [action=add-reply]"),this.publishMessageBtn=n.querySelector(".fv__ui-commentlist-comment-tools [action=publish]"),this.commentMenu=n.querySelector("[role=comment-menu]"),this.commentMenus=n.querySelector(".fv__ui-commentlist-comment-menus"),this.handlerElement=n.querySelector(".fv__ui-commentlist-handler"),this.replyEditorElement=n.querySelector(".fv__ui-commentlist-reply-editor>.fv__ui-commentlist-editor"),this.toolsElement=n.querySelector(".fv__ui-commentlist-comment-tools");var o=n.querySelector(".fv__ui-commentlist-comment-menus"),r=this.getClosestComponentByType("comment-list"),i=this.parser.parseNode(r.commentCardMenuVNode.clone());i.localize(),o.appendChild(i.element),i.parent=this,i.resetDataScope(),this.menuComponent=i,this.addDestroyHook((function(){t.menuComponent.destroy()}))},t.prototype.addElementEventListener=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.addEventListener(t,n,o),this.addDestroyHook((function(){e.removeEventListener(t,n,o)}))},t.prototype.deselect=function(){e.prototype.deselect.call(this),this.getInputReplyContent().length>0&&this.publishReplyMessage()},t.prototype.changePeimission=function(e){32&e.getUserPermission().getValue()?this.enableReplyEditor():this.disableReplyEditor()},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this),this.menuComponent.mounted();var n=(new Date).getTime();this.addElementEventListener(this.checkMarkElement,"click",(function(e){t.trigger("change-check-mark-state",e)})),this.addElementEventListener(this.handlerElement,"click",(function(e){c.isIOS?(new Date).getTime()-n<300?t.trigger("dblclick",e):(n=(new Date).getTime(),t.trigger("click",e)):t.trigger("click",e)})),this.addElementEventListener(this.handlerElement,"dblclick",(function(e){t.trigger("dblclick",e)})),this.addElementEventListener(this.publishMessageBtn,"click",(function(e){t.publishMessage()})),this.addElementEventListener(this.addReplyBtn,"click",(function(e){t.publishReplyMessage()})),this.addElementEventListener(this.commentMenus,"click",(function(e){return e.stopPropagation()})),this.addElementEventListener(this.commentMenus,"dblclick",(function(e){return e.stopPropagation()}));var o=!1;this.addElementEventListener(this.replyEditorElement,"focus",(function(e){if(o=!1,t.element.classList.add("focus-reply-editor"),c.isMobile){t.replyEditorElement.scrollIntoViewIfNeeded?t.replyEditorElement.scrollIntoViewIfNeeded():t.replyEditorElement.scrollIntoView({block:"nearest",behavior:"smooth",inline:"nearest"})}}));var r=!1;this.addElementEventListener(this.replyEditorElement,"contextmenu",(function(){o=!0})),this.addElementEventListener(this.replyEditorElement,"blur",(function(e){if(o)o=!1;else{var n=t.getInputReplyContent();n&&0!==n.length||t.element.classList.remove("focus-reply-editor"),r?t.reqFocus(t.replyEditorElement):t.selected&&t.publishReplyMessage(),r=!1}})),this.addElementEventListener(this.messageEditorElement,"blur",(function(e){r?t.reqFocus(t.messageEditorElement):t.publishMessage()})),this.addElementEventListener(this.messageEditorElement,"focus",(function(e){if(c.isMobile){t.messageEditorElement.scrollIntoViewIfNeeded?t.messageEditorElement.scrollIntoViewIfNeeded():t.messageEditorElement.scrollIntoView({block:"nearest",behavior:"smooth",inline:"nearest"})}})),this.addElementEventListener(this.element,"mousedown",(function(e){r=!0})),this.addElementEventListener(document.body,"mouseup",(function(e){r=!1}),!0),this.addElementEventListener(this.menuComponent.element,"dblclick",(function(e){e.stopPropagation()})),this.menuComponent.controller.setParentScope(this.controller),this.pdfUI.eventEmitter.emit(i.default.appendCommentListComment,this,this.annot)},t.prototype.reqFocus=function(e){e&&!e.matches(":focus")&&e.focus()},t.prototype.hasFocusOnReplyEditor=function(){return this.replyEditorElement.matches(":focus")},t.prototype.receiveBroadcast=function(t,n){switch(e.prototype.receiveBroadcast.call(this,t,n),t){case"scroll":this.menuComponent.isActive&&this.menuComponent.deactive()}},t.prototype.publishMessage=function(){"edit"==this.operationMode&&this.trigger("publish",this.getInputMessageContent())},t.prototype.publishReplyMessage=function(){var e=this.getInputReplyContent();e&&e.trim().length>0&&this.trigger("reply",e.trim())},t.prototype.getInputReplyContent=function(){return this.replyEditorElement.innerText.trim()},t.prototype.getInputMessageContent=function(){return this.messageEditorElement.innerText.trim()},t.prototype.focusOnReplyEditor=function(){this.replyEditorElement.focus()},t.prototype.clearReplyEditor=function(){this.replyEditorElement.innerText=""},t.prototype.disableReplyEditor=function(){this.toggleReplyEditor(!1)},t.prototype.enableReplyEditor=function(){this.toggleReplyEditor(!0)},t.prototype.toggleReplyEditor=function(e){this.addReplyContainerElement.classList.toggle("fv__ui-hide",!e),this.replyable=e},t.prototype.enableDeleteMenu=function(){this.toggleDeleteMenu(!0)},t.prototype.disableDeleteMenu=function(){this.toggleDeleteMenu(!1)},t.prototype.toggleDeleteMenu=function(e){var t=this.menuComponent.getComponentByName("delete-comment-menu");t&&(e?t.enable():t.disable())},t.prototype.setAnnotTitle=function(e){this.titleElement.innerText=e||""},t.prototype.updateCheckMarkCheckboxUI=function(e){this.checkMarkElement.checked=e},t.prototype.setAnnot=function(e){if(e){var t=this.annot;this.annot=e,t&&t.getId()===e.getId()||this._updateIcon(e)}},t.prototype._updateIcon=function(e){var t=e.getType().toLowerCase(),n=e.getIntent&&e.getIntent(),o=e.getSubject&&e.getSubject(),r=void 0,i=void 0;if("highlight"===t&&e.isArea())r=d.areahighlight;else{if(n&&""!==n&&(r=d[n.toLowerCase()],i="custom-icon-"+t+"-"+n),!r)switch(t){case"freetext":o&&""!==o&&(r=d[o.toLowerCase()]);break;case"strikeout":r="string"==typeof o&&"replace"==o.toLowerCase()?d.replace:d[t];break;default:r=d[t]}r||h.info("icon not found for ",t)}this.iconElement.className="fv__ui-commentlist-comment-icon "+r+" "+i},t.prototype.setModifyTime=function(e){this.currentModifyTime=e,this.currentFormatedModifyTime=this.floatingTimeFormatter(e),this.displayingModifyTime=this.timeFormatter(e),this.timeElement.innerText=this.displayingModifyTime},t.prototype.setMessage=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.hasContent="string"==typeof e&&e.trim().length>0,this.message=e?e.replace(/[\r\n]/g," "):"",this.messageElement.innerText=this.message,t&&(this.controller.applyAll(),this.menuComponent.controller.applyAll())},t.prototype.enableEdit=function(){this.toggleEditContent(!0)},t.prototype.disableEdit=function(){this.toggleEditContent(!1)},t.prototype.toggleEditContent=function(e){var t="boolean"==typeof e?e:!this.editable;if(t!==this.editable){this.editable=t;var n=this.menuComponent.getComponentByName("edit-comment-menu");this.editable?n.enable():n.disable()}},t.prototype.switchToEdit=function(){this.editable&&(e.prototype.switchToEdit.call(this),this.messageEditorElement.innerText=this.message)},t.prototype.applyState=function(){e.prototype.applyState.call(this),this.element.classList.remove("has-content","no-content"),this.element.classList.add(this.hasContent?"has-content":"no-content"),this.controller.applyAll(),this.menuComponent.controller.applyAll(),"edit"===this.operationMode&&this.reqFocus(this.messageEditorElement)},t.prototype.applyCheckMarkState=function(e){this.checkMarkElement.checked=!!e},t.prototype.getContainerElement=function(){return this.repliesElement},t.prototype.doDestroy=function(){e.prototype.doDestroy.call(this),this.pdfUI.eventEmitter.emit(i.default.destroyCommentListComment,this,this.annot)},t.prototype.getTitleElement=function(){return this.titleElement},t.prototype.getTimeElement=function(){return this.timeElement},t.prototype.getToolsElement=function(){return this.toolsElement},t}(r.default);t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(27)),r=i(n(56));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var s=function(e){function t(n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r));return i.selected=!1,i.operationMode="view",i.hasStates=!1,i.isStateListHidden=!1,i}return a(t,e),t.prototype.select=function(){this.disabled||(this.selected=!0)},t.prototype.deselect=function(){this.selected=!1},t.prototype.switchToEdit=function(){this.disabled||(this.operationMode="edit")},t.prototype.switchToView=function(){this.operationMode="view"},t.prototype.setStates=function(e){this.states=e,this.hasStates=e.length>0,this.stateStatistics=e.reduce((function(e,t){var n=t.getState();return e[n]=(e[n]||0)+1,e}),{})},t.prototype.updateState=function(e,t){this.stateStatistics[e]--,this.stateStatistics[t]++},t.prototype.hideStateList=function(){this.isStateListHidden=!0},t.prototype.showStateList=function(){this.isStateListHidden=!1},t.prototype.publishMessage=function(){(0,r.default)()},t.prototype.applyState=function(){if(this.element.classList.remove("view","edit","not-selected","selected","has-states","no-states"),this.element.classList.add(this.operationMode,this.hasStates?"has-states":"no-states",this.selected?"selected":"not-selected"),this.hasStates){var e=this.element.querySelector(".fv__ui-commentlist-comment-status-list");if(this.isStateListHidden)e.classList.add("fv__ui-hide");else{e.classList.remove("fv__ui-hide");var t=e.querySelectorAll("[status]");for(var n in t.forEach((function(e){e.classList.add("fv__ui-hide")})),this.stateStatistics){var o=this.stateStatistics[n],r=e.querySelector("[status="+n+"]");r&&(r.classList.remove("fv__ui-hide"),r.querySelector("[role=count]").innerText=o)}}}},t}(o.default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=t.trim(),i=o[n];i||(i=o[n]=function(){r.innerHTML=n;for(var e=document.createDocumentFragment();r.firstChild;)e.appendChild(r.firstChild);return e}());i=i.cloneNode(!0);for(;e.lastChild;)e.removeChild(e.lastChild);e.appendChild(i)};var o={},r=document.createElement("div")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=c(n(557)),i=c(n(1398)),a=c(n(10)),s=c(n(558));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=(0,i.default)(),f=function(e){function t(n,o,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r))}return u(t,e),t.getName=function(){return"reply"},t.prototype.render=function(){var t=this;e.prototype.render.call(this);var n=this.element;n.classList.add("fv__ui-commentlist-reply",this.operationMode),n.setAttribute("z-index",-1),(0,s.default)(n,l),this.checkMarkElement=this.element.querySelector(".fv__ui-commentlist-reply-check-mark");var r=[".fv__ui-commentlist-reply-message",".fv__ui-commentlist-reply-handler",".fv__ui-commentlist-reply-title",".fv__ui-commentlist-reply-time",".fv__ui-commentlist-reply-menu","[role=reply-menu]",".fv__ui-commantlist-reply-editor .fv__ui-commentlist-editor","[action=edit-reply]",".fv__ui-commentlist-tools"].map((function(e){return t.element.querySelector(e)})),i=o(r,9),a=i[0],c=i[1],u=i[2],f=i[3],p=i[4],d=(i[5],i[6]),h=i[7],g=i[8];this.messageElement=a,this.handlerElement=c,this.titleElement=u,this.timeElement=f,this.replyMessageEditor=d,this.submitReplyBtn=h,this.toolsElement=g;var m=this.getClosestComponentByType("comment-list"),v=this.parser.parseNode(m.replyCardMenuVNode.clone());v.localize(),p.appendChild(v.element),v.parent=this,v.resetDataScope(),this.menuComponent=v,this.addDestroyHook((function(){t.menuComponent.destroy()}))},t.prototype.receiveBroadcast=function(e){switch(e){case"scroll":this.menuComponent.isActive&&this.menuComponent.deactive()}},t.prototype.applyCheckMarkState=function(e){this.checkMarkElement.checked=!!e},t.prototype.addEventListener=function(e,t){var n=this;this.handlerElement.addEventListener(e,t),this.addDestroyHook((function(){return n.handlerElement.removeEventListener(e,t)}))},t.prototype.addElementEventListener=function(e,t,n,o){e.addEventListener(t,n,o),this.addDestroyHook((function(){e.removeEventListener(t,n,o)}))},t.prototype.switchToEdit=function(){e.prototype.switchToEdit.call(this),this.replyMessageEditor.innerText=this.messageElement.innerText},t.prototype.reqFocus=function(e){e&&!e.matches(":focus")&&e.focus()},t.prototype.applyState=function(){e.prototype.applyState.call(this),"edit"===this.operationMode&&(this.replyMessageEditor.matches(":focus")||this.reqFocus(this.replyMessageEditor))},t.prototype.disableEdit=function(){this.replyMessageEditor.removeAttribute("contenteditable");var e=this.menuComponent.getComponentByName("commentlist-reply-menu-edit");e&&e.disable()},t.prototype.enableEdit=function(){this.replyMessageEditor.setAttribute("contenteditable","");var e=this.menuComponent.getComponentByName("commentlist-reply-menu-edit");e&&e.enable()},t.prototype.disableDeleteMenu=function(){var e=this.menuComponent.getComponentByName("fv__icon-comment-item-menu-delete");e&&e.disable()},t.prototype.enableDeleteMenu=function(){var e=this.menuComponent.getComponentByName("fv__icon-comment-item-menu-delete");e&&e.enable()},t.prototype.updateCheckMarkCheckboxUI=function(e){this.checkMarkElement.checked=e},t.prototype.mounted=function(){var t=this;if(!this.isMounted){e.prototype.mounted.call(this),this.menuComponent.mounted(),this.addElementEventListener(this.checkMarkElement,"click",(function(e){t.trigger("change-reply-check-mark-state",e)})),["click","contextmenu","dblclick"].map((function(e){t.addEventListener(e,(function(n){t.trigger(e,n),n.stopPropagation()}))})),this.addElementEventListener(this.submitReplyBtn,"click",(function(e){t.updateReplyMessage()})),this.addElementEventListener(this.menuComponent.element,"dblclick",(function(e){e.stopPropagation()}));var n=!1;this.addElementEventListener(this.element,"mousedown",(function(e){n=!0})),this.addElementEventListener(this.replyMessageEditor,"blur",(function(e){n?t.reqFocus(t.replyMessageEditor):t.publishMessage()})),this.addElementEventListener(document,"mouseup",(function(e){n=!1}),!0),this.menuComponent.controller.setParentScope(this.controller),this.pdfUI.eventEmitter.emit(a.default.appendCommentListReply,this,this.controller.data.replyItem.annot)}},t.prototype.updateReplyMessage=function(){this.trigger("reply",this.getInputReplyMessageContent())},t.prototype.publishMessage=function(){"edit"===this.operationMode&&this.updateReplyMessage()},t.prototype.getInputReplyMessageContent=function(){return this.replyMessageEditor.innerText},t.prototype.setContent=function(e){this.messageElement.innerText=e||"",this.controller.applyAll(),this.menuComponent.controller.applyAll()},t.prototype.getContent=function(){return this.messageElement.innerText},t.prototype.setTime=function(e){this.currentModifyTime=e,this.currentFormatedModifyTime=this.parent?this.parent.floatingTimeFormatter(e):"",this.displayingModifyTime=this.parent?this.parent.timeFormatter(e):"",this.timeElement.innerText=this.displayingModifyTime,this.element.title=this.currentFormatedModifyTime},t.prototype.setTitle=function(e){this.titleElement.innerText=e||""},t.prototype.rerenderChildren=function(){if(!this.isDestroyed){var e=this.$container.children().map((function(e){return e.removeElement(),e.element}));this.layout.render(e,this.element,0,this.size())}},t.prototype.doDestroy=function(){e.prototype.doDestroy.call(this),this.pdfUI.eventEmitter.emit(a.default.destroyCommentListReply,this,this.controller.data.replyItem.annot)},t.prototype.getTitleElement=function(){return this.titleElement},t.prototype.getTimeElement=function(){return this.timeElement},t.prototype.getToolsElement=function(){return this.toolsElement},t}(r.default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.commentListFloatingTimeFormatter=function(e){e=Number(e);var t=new Date(e);return[t.getFullYear(),"-",t.getMonth()+1,"-",t.getDate()," ",t.getHours(),":",t.getMinutes(),":",t.getSeconds()].map((function(e){return"number"==typeof e&&e<10?"0"+e:e})).join("")},t.default=function(e){if(e=Number(e),isNaN(e)||"number"!=typeof e)return;var t=new Date,n=t.getFullYear(),o=t.getMonth(),r=t.getDate(),i=(new Date(n,0,1,0,0,0,0).getTime(),new Date(n,o,r,0,0,0,0).getTime()),a=new Date;a.setTime(e);var s=[a.getFullYear(),a.getMonth()+1,a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds()].map((function(e){return e<10?"0"+e:e+""}));return e<i?s.slice(0,3).join("-"):s.slice(3).join(":")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={COMMENT_LIST_SIDEBAR_PANEL:"comment-list-sidebar-panel",COMMENT_LIST_EXPAND_ALL:"commentlist-expand-commentlist",COMMENT_LIST_COLLAPSE_ALL:"commentlist-collapse-commentlist",COMMENT_LIST_SHOW_ALL:"commentlist-show-all-comments",COMMENT_LIST_HIDE_ALL:"commentlist-hide-all-comments",COMMENT_PAGE_LIST:"sidebar-commentlist-pagelist",COMMENT_EXPORT_COMMENT:"commentlist-export-comment",COMMENT_IMPORT_COMMENT:"commentlist-import-comment",SNAPSHOT_BUTTON:"snapshot-button",SIDEBAR:"sidebar",BOOKMARK_SIDEBAR_PANEL:"sidebar-bookmark",LAYERS_SIDEBAR_PANEL:"sidebar-layers",SEARCH_SIDEBAR_PANEL:"sidebar-search",ATTACHMENT_SIDEBAR_PANEL:"sidebar-attachment",TOOLBAR:"toolbar",TOOBAR_TABS:"toolbar-tabs",HOME_TAB:"home-tab",HOME_TOOLBAR_GROUP_LIST:"home-toolbar-group-list",HOME_TOOLBAR_GROUP_0:"home-tab-group-hand",HOME_TOOLBAR_GROUP_1:"home-tab-group-io",HOME_TOOLBAR_GROUP_2:"home-tab-group-nav",HOME_TOOLBAR_GROUP_3:"home-tab-group-zoom",HOME_TOOLBAR_GROUP_4:"home-tab-group-page",HOME_TOOLBAR_GROUP_5:"home-tab-group-magnifier",HOME_TOOLBAR_GROUP_6:"home-tab-group-marquee",COMMENT_TAB:"comment-tab",COMMENT_TOOLBAR_GROUP_LIST:"comment-toolbar-group-list",COMMENT_TOOLBAR_GROUP_0:"comment-tab-group-hand",COMMENT_TOOLBAR_GROUP_1:"comment-tab-group-mark",COMMENT_TOOLBAR_GROUP_2:"comment-tab-group-text",COMMENT_TOOLBAR_GROUP_3:"comment-tab-group-drawing",COMMENT_TOOLBAR_GROUP_4:"comment-tab-group-media",COMMENT_TOOLBAR_GROUP_5:"comment-tab-group-inksign",COMMENT_TOOLBAR_GROUP_6:"comment-tab-group-stamp",COMMENT_TOOLBAR_GROUP_7:"comment-tab-group-other",EDIT_TAB:"edit-tab",EDIT_TOOLBAR_GROUP_LIST:"edit-toolbar-group-list",EDIT_TOOLBAR_GROUP_0:"edit-tab-group-hand",EDIT_TOOLBAR_GROUP_1:"edit-tab-group-mode",EDIT_TOOLBAR_GROUP_2:"edit-tab-group-font",EDIT_TOOLBAR_GROUP_3:"edit-tab-group-layer",EDIT_TOOLBAR_GROUP_4:"edit-tab-group-redact",PROTECT_TAB:"protect-tab",PROTECT_TOOLBAR_GROUP_LIST:"protect-toolbar-group-list",PROTECT_TOOLBAR_GROUP_0:"protect-tab-group-hand",PROTECT_TOOLBAR_GROUP_1:"protect-tab-group-sign"};(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(8))).COMPONENT_NAMES=o,t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(3)),r=i(n(1));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=function(e){function t(){return a(this,t),s(this,e.apply(this,arguments))}return c(t,e),t.prototype.postlink=function(){var t=this;e.prototype.postlink.call(this),this.addDestroyHook(this.getPDFUI().addViewerEventListener(r.default.annotationReviewStateAnnotAdd,(function(e,n){t.getCurrentAnnot().getId()===n.getId()&&t.updateStateList()})),this.getPDFUI().addViewerEventListener(r.default.removeReviewState,(function(e){t.getCurrentAnnot().getId()===e.getId()&&t.updateStateList()})),this.getPDFUI().addViewerEventListener(r.default.annotationStatesCleared,(function(e){var n=t.getCurrentAnnot(),o=e.getGroupElements();(n.getId()===e.getId()||o&&o.find((function(e){return e.getId()===n.getId()})))&&t.updateStateList()})),this.getPDFUI().addViewerEventListener(r.default.stateAnnotNameUpdated,(function(e,n,o,r){t.getCurrentAnnot().getReviewStates().indexOf(e)>-1&&t.getPDFUI().getUserName().then((function(n){stateMap[n].getId()===e.getId()&&(t.component.updateState(o,r),t.component.applyState())}))})))},t.prototype.updateStateList=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.getCurrentAnnot(),n=this.recursionReviewStates(t.getReviewStates()),o=this.processStateData(n),r=Object.keys(o).map((function(e){return o[e]}));this.component.setStates(r),e&&this.component.applyState()},t.prototype.recursionReviewStates=function(e){var t=[],n={};return function e(o){o.forEach((function(o){n[o.id]||(e(o.getReviewStates()),t.push(o),n[o.id]=!0)}))}(e),t},t.prototype.getCurrentAnnot=function(){return this.data.annot},t.prototype.processStateData=function(e){return e.reduce((function(e,t){var n=t.getTitle(),o=e[n];return o?o.getModifiedDateTime()<=t.getModifiedDateTime()&&(e[n]=t):e[n]=t,e}),{})},t}(o.default);t.default=u},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.renderMatchResult=function(e,t,n){if(t){var o=t.length,i=t[0],a=document.createDocumentFragment();i.startIndex>0&&a.appendChild(document.createTextNode(n.slice(0,i.startIndex)));for(var s=0;s<o;s++){var c=r.cloneNode();c.appendChild(document.createTextNode(n.slice(t[s].startIndex,t[s].endIndex))),a.appendChild(c),s<o-1&&a.appendChild(document.createTextNode(n.slice(t[s].endIndex,t[s+1].startIndex)))}var u=t[o-1];for(u.endIndex<n.length&&a.appendChild(document.createTextNode(n.slice(u.endIndex)));e.lastChild;)e.removeChild(e.lastChild);e.appendChild(a)}else 1===e.childNodes.length&&e.firstChild instanceof Text?e.firstChild.textContent!==n&&(e.firstChild.textContent=n):e.innerText=n},t.findMatch=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"|";if("string"!=typeof t||"string"!=typeof e)return!1;t=t.trim(),n||(e=e&&e.toLowerCase(),t=t&&t.toLowerCase());if(0===t.length)return[{index:0,str:t,endIndex:0}];var r=t.replace(/\s+/," ").split(o).reduce((function(e,t){return-1===e.indexOf(t)&&e.push(t),e}),[]).reduce((function(t,n){for(var o=0;;){var r=e.indexOf(n,o);if(!(r>-1))break;t.addSegment(new i(r,r+n.length)),o=r+n.length}return t}),new a),s=r.segments;return s.length>0&&s};var r=document.createElement("mark");r.className="fv__ui-commentlist-search-match";var i=function(){function e(t,n){o(this,e),this.startIndex=t,this.endIndex=n}return e.prototype.isSubSegmentOf=function(e){return e.inRange(this.startIndex)&&e.inRange(this.endIndex)},e.prototype.hasIntersection=function(e){return this.inRange(e.startIndex)||this.inRange(e.endIndex)},e.prototype.inRange=function(e){return e>=this.startIndex&&e<=this.endIndex},e.prototype.intersect=function(t){return new e(Math.min(this.startIndex,t.startIndex),Math.max(this.endIndex,t.endIndex))},e}(),a=function(){function e(){o(this,e),this.segments=[]}return e.prototype.addSegment=function(e){var t=this;this.segments.some((function(t){return e.isSubSegmentOf(t)}))||(this.segments.some((function(n,o){return!!n.hasIntersection(e)&&(t.segments[o]=n.intersect(e),!0)}))||this.segments.push(e))},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(n(11)),r=u(n(10)),i=n(18),a=n(84),s=n(8),c=n(161);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var f=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.annotationCount=0,o.matchAnnotationCount=0,o.completedPages=[],o.taskExecutor=new i.DebounceAsyncTaskExecutor(100),o.eventTaskExecutor=new i.DebounceAsyncTaskExecutor(300),o.redrawTaskExecutor=new i.DebounceAsyncTaskExecutor(300),o.display={},o.addDestroyHook((function(){o.eventTaskExecutor.destroy(),o.redrawTaskExecutor.destroy()})),o.loadAllPageCount=0,o}return l(t,e),t.getName=function(){return"search-comment-list"},t.prototype.handleSearch=function(e){var t=void 0;t=this.annotationDisplayingStatus&&!this.annotationDisplayingStatus.display?{}:e.getValue(),this.annotationCount=0,this.matchAnnotationCount=0,this.completedPages=[],this.component.children().length>0?(e.waiting(),this.broadcast("search",t)):this.searchComponent.updateSearchResult({searchAmount:this.matchAnnotationCount,totalAmount:this.annotationCount}),this.loadmoreComponent&&(this.controller.isAllPagesLoaded()?this.loadmoreComponent.noMore():this.loadmoreComponent.hasMore())},t.prototype.componentMounted=function(){var e=this;this.loadmoreComponent=this.controller.getComponentByName("fv--commentlist-search-loadmore"),this.loadAllComponent=this.controller.getComponentByName("fv--commentlist-search-load-all");var t=this.searchComponent=this.controller.getComponentByName(this.attrValue),n=this.component.getClosestComponentByClass(a.SidebarPanelComponent),o=this.component.getPDFUI();o.getStore().then((function(t){e.addDestroyHook(t.subscribe(c.DISPATCH_STORE_ANNOTATION_DISPLAYING,(function(t){e.annotationDisplayingStatus=t})))})),this.addDestroyHook(n.on(s.COMPONENT_EVENTS.ACTIVE,(function(){e.handleSearch(t)})),t.on("search",(function(n){e.taskExecutor.exec((function(){return Promise.resolve().then((function(){return e.handleSearch(t,n)}))}))})),o.addViewerEventListener(r.default.annotationAdded,(function(e){o.getStore().then((function(t){var n=t.getCurrentValue(c.DISPATCH_STORE_NEW_ANNOTATIONS)||[];t.dispatch(c.DISPATCH_STORE_NEW_ANNOTATIONS,n.concat(e.map((function(e){return e.getId()}))))}))})),o.addUIEventListener(r.default.commentGroupAnnotationsUpdated,(function(n){if(e.eventTaskExecutor.exec((function(){return Promise.resolve().then((function(){return e.handleSearch(t)}))})),e.loadAllComponent){e.loadAllPageCount++;var o=e.loadAllPageCount===e.controller.totalPageCount;e.controller.isAllPagesLoaded()&&o&&e.loadAllComponent.loadComplete(e.matchAnnotationCount)}})),o.addViewerEventListener([r.default.annotationImported,r.default.annotationUpdated,r.default.annotationRemoved,r.default.pageRemoved],(function(){n.isActive&&e.eventTaskExecutor.exec((function(){return Promise.resolve().then((function(){return e.handleSearch(t)}))}))})),o.addViewerEventListener([r.default.willCloseDocument,r.default.beforeOpenFile],(function(){o.getStore().then((function(e){e.dispatch(c.DISPATCH_STORE_NEW_ANNOTATIONS,[])})),t.updateSearchResult({searchAmount:0,totalAmount:0}),e.loadAllPageCount=0}))),t.updateSearchResult({searchAmount:0,totalAmount:0})},t.prototype.receiveEmit=function(e,t,n){if("pageSearchEnd"===t){var o=this.controller;this.annotationCount+=n.annotationCount,this.matchAnnotationCount+=n.matchCount;var r=n.groupIndex;return-1===this.completedPages.indexOf(r)&&this.completedPages.push(r),this.completedPages.length===o.getLoadedGroups().length&&(this.searchComponent.updateSearchResult({searchAmount:this.matchAnnotationCount,totalAmount:this.annotationCount}),this.matchAnnotationCount),!1}return!0},t}(o.default);t.default=f},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";e=e||{};var t="",r=o.$each,i=(e.$value,e.$index,e.i,o.$escape),a=function(e){return t+=e};return e.length&&(t+="\r\n    ",r(e,(function(o,r){t+='\r\n        <div class="fv__bookmarks_list">\r\n\r\n        ';for(var s=0;s<o.deep;s++)t+='\r\n            <div class="fv__tree-icon fv__line_pc_ui"></div>\r\n        ';t+="\r\n\r\n        ",1==e.length?(t+="\r\n            ",o.children.length?t+='\r\n                <a class="fv__tree-fold-btn"><div class="fv__tree-icon fv__plugonly_pc"></div></a>\r\n            ':t+='\r\n                <div class="fv__tree-icon fv__joinonly_pc"></div>\r\n            ',t+="\r\n        "):0==r?(t+="\r\n            ",o.children.length?(t+="\r\n                ",o.deep?t+='\r\n                    <a class="fv__tree-fold-btn"><div class="fv__tree-icon fv__plug_pc_ui"></div></a>\r\n                ':t+='\r\n                    <a class="fv__tree-fold-btn"><div class="fv__tree-icon fv__plugtop_pc"></div></a>\r\n                ',t+="\r\n            "):(t+="\r\n                ",o.deep?t+='\r\n                <div class="fv__tree-icon fv__join_pc_ui"></div>\r\n                ':t+='\r\n                <div class="fv__tree-icon fv__jointop_pc_ui"></div>\r\n                ',t+="\r\n            "),t+="\r\n        "):r==e.length-1?(t+="\r\n            ",o.children.length?t+='\r\n            <a class="fv__tree-fold-btn">\r\n            <div class="fv__tree-icon fv__plugbottom_pc"></div>\r\n            </a>\r\n            ':t+='\r\n            <div class="fv__tree-icon fv__joinbottom_pc_ui"></div>\r\n            ',t+="\r\n        "):(t+="\r\n\r\n            ",o.children.length?t+='\r\n            <a class="fv__tree-fold-btn">\r\n            <div class="fv__tree-icon fv__plug_pc_ui"></div>\r\n            </a>\r\n            ':t+='\r\n            <div class="fv__tree-icon fv__join_pc_ui"></div>\r\n            ',t+="\r\n        "),t+='\r\n\r\n\r\n        <div href="javascript:void(0);" class="fv__bookmark-item" data-page="',t+=i(o.page),t+='" data-top="',t+=i(o.top),t+='" data-left="',t+=i(o.left),t+='" data-id="',t+=i(o.id),t+='">\r\n        <div class="fv__bookmark_icon"></div>\r\n        <span style="color:',t+=i(o.color),t+=";",o.isBold&&(t+="font-weight:bold;"),o.isItalic&&(t+="font-style:italic;"),t+='" title="',t+=i(o.title),t+='">',t+=i(o.title),t+='</span>\r\n        </div>\r\n        </div>\r\n\r\n\r\n        <div class="fv__bookmark-child fv__hide">\r\n            ',a(n(565)(o.children)),t+="\r\n        </div>\r\n    "})),t+="\r\n"),t}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(5),i=n(1),a=(o=i)&&o.__esModule?o:{default:o},s=n(182),c=n(24);function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.data=null,o.update=o.update.bind(o),o.zoom=o.zoom.bind(o),o}return u(t,e),t.getStateName=function(){return c.STATE_HANDLER_CHECK_THE_SEARCH},t.prototype.docHandler=function(e){var t=this;this.pdfViewer.eventEmitter.on(a.default.checkTheSearch,(function(e,n){var o=t.data;o&&t.hideSelectMark(t.pdfViewer.getPDFDocRender().getPDFPageRender(o.pageIndex)),t.data=e,t.prevStateHandler=n,t.update()})),this.pdfViewer.eventEmitter.on(a.default.zoomToSuccess,this.zoom),this.pdfViewer.eventEmitter.on(a.default.fitWidthResizeViewport,this.zoom);var n=this.pdfViewer.getPDFDocRender().$ui[0];(this.hammer=new Hammer.Manager(n,{recognizers:[[Hammer.Tap]]})).on("tap",(function(e){t.pdfViewer.getStateHandlerManager().switchTo(t.prevStateHandler)}))},t.prototype.zoom=function(){var e=this,t=this.data,n=this.pageRender;if(t&&n){var o=this.pdfViewer.getPDFDocRender().pagesRender,r=this.pdfViewer.getPDFDocRender().scale;o.getPageScale(t.pageIndex,r).then((function(o){n.scale=o,n.getPDFPage().then((function(o){var r=n.transformRectArray(o,t.rects);e.showSelectMark(r)}))}))}},t.prototype.update=function(e){var t=this;e||(e=this.data);var n=this.pdfViewer.getPDFDocRender().pagesRender,o=this.pageRender=this.pdfViewer.getPDFDocRender().getPDFPageRender(e.pageIndex)||this.pageRender,r=this.pdfViewer.getPDFDocRender().scale;n.getPageScale(e.pageIndex,r).then((function(n){o.scale=n,o.getPDFPage().then((function(n){var r=o.transformRectArray(n,e.rects);t.showSelectMark(r)}))}))},t.prototype.destroyDocHandler=function(){this.hammer&&this.hammer.destroy(),this.hideSelectMark(),this.data=null,this.pageRender=null},t.prototype.out=function(){this.destroyDocHandler()},t.prototype.showSelectMark=function(e){(0,s.appendSelectMark)(this.pageRender.$handler,e)},t.prototype.hideSelectMark=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pageRender;e&&(0,s.removeSelectMark)(e.$handler)},t}(r.IStateHandler);t.default=l},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";e=e||{};var t="",r=o.$each,i=(e.$value,e.$index,e.i,o.$escape),a=function(e){return t+=e};return e.length&&(t+="\r\n",r(e,(function(o,r){t+='\r\n<div class="fv__layer_list">\r\n';for(var s=0;s<o.deep;s++)t+='\r\n    <div class="fv__tree-icon fv__line_pc_ui"></div>\r\n';t+="\r\n\r\n",1==e.length?(t+="\r\n    ",o.children.length?t+='\r\n        <a class="fv__tree-fold-btn"><div class="fv__tree-icon fv__plugonly_pc"></div></a>\r\n    ':t+='\r\n        <div class="fv__tree-icon fv__joinonly_pc"></div>\r\n    ',t+="\r\n"):0==r?(t+="\r\n    ",o.children.length?(t+="\r\n        ",o.deep?t+='\r\n            <a class="fv__tree-fold-btn"><div class="fv__tree-icon fv__plug_pc_ui"></div></a>\r\n        ':t+='\r\n            <a class="fv__tree-fold-btn"><div class="fv__tree-icon fv__plugtop_pc"></div></a>\r\n        ',t+="\r\n    "):(t+="\r\n        ",o.deep?t+='\r\n        <div class="fv__tree-icon fv__join_pc_ui"></div>\r\n        ':t+='\r\n        <div class="fv__tree-icon fv__jointop_pc_ui"></div>\r\n        ',t+="\r\n    "),t+="\r\n"):r==e.length-1?(t+="\r\n    ",o.children.length?t+='\r\n    <a class="fv__tree-fold-btn">\r\n    <div class="fv__tree-icon fv__plugbottom_pc"></div>\r\n    </a>\r\n    ':t+='\r\n    <div class="fv__tree-icon fv__joinbottom_pc_ui"></div>\r\n    ',t+="\r\n"):(t+="\r\n\r\n    ",o.children.length?t+='\r\n    <a class="fv__tree-fold-btn">\r\n    <div class="fv__tree-icon fv__plug_pc_ui"></div>\r\n    </a>\r\n    ':t+='\r\n    <div class="fv__tree-icon fv__join_pc_ui"></div>\r\n    ',t+="\r\n"),t+="\r\n\r\n",o.hasLayer&&(t+="\r\n",o.isLocked?t+='\r\n<i class="fv__layer-item-locked-icon fv__icon-sidebar-layer-locked"></i>\r\n':(t+='\r\n<input type="checkbox" class="fv__toggle-checkbox" id="fv__cb',t+=i(o.id),t+='" data-id=',t+=i(o.id),t+=" ",o.visible&&(t+="checked"),t+=" />\r\n"),t+="\r\n"),t+='\r\n<a class="fv__layer-item">\r\n<label for="fv__cb',t+=i(o.id),t+='">',t+=i(o.name),t+='</label>\r\n</a>\r\n</div>\r\n\r\n\r\n<div class="fv__layer-child fv__ly-hide">\r\n',a(n(568)(o.children)),t+="\r\n</div>\r\n"})),t+="\r\n"),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(75)),r=n(5),i=s(n(94)),a=s(n(122));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var f=function(e){function t(){return c(this,t),u(this,e.apply(this,arguments))}return l(t,e),t.getName=function(){return"ShowAnnotReplyController"},t.services=function(){return{featureService:a.default}},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this);var n=this.component,o=n.parent;this.addDestroyHook(o.on("beforeshow",(function(){t.getPDFUI().getAllActivatedElements().then((function(e){e.some((function(e){return!e.annot||!t.featureService.supportsReply(e.annot)}))?n.hide():n.show()}))})))},t.prototype.usable=function(e){var t=e.annot;return this.getPDFUI().getAnnotAuthorityManager().then((function(n){return n.getPermission(t).then((function(t){return t.ignorable()?!e.replyDisabled():t.isReplyable()}))}))},t.prototype.handle=function(){var e=this.component.parent;if(e instanceof o.default){var t=e.getCurrentTarget();t instanceof r.MarkupAnnotComponent&&t.showReplyDialog("reply")}},t}(i.default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(3)),r=a(n(75)),i=n(5);function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(){return s(this,t),c(this,e.apply(this,arguments))}return u(t,e),t.getName=function(){return"ShowAnnotPropertiesController"},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this);var n=this.component;this.component.element.addEventListener("mousedown",(function(e){t.currentMouseX=e.pageX,t.currentMouseY=e.pageY})),this.component.parent.on("beforeshow",(function(){var e=t.component.parent,o=void 0;if(!(e instanceof r.default)||(o=e.getCurrentTarget())instanceof i.AnnotComponent)return t.getPDFUI().getAnnotAuthorityManager().then((function(e){return e.getPermission(o.annot).then((function(e){return e.isModifiable()?(t.component.enable(),!0):(t.component.disable(),!1)}))})).then((function(e){if(e)return t.getPDFUI().getAllActivatedElements().then((function(e){e.filter((function(e){return e.annot&&"widget"===e.annot.getType()})).length>0?n.disable():n.enable()}))}))}))},t.prototype.handle=function(){var e=this.component.parent;if(e instanceof r.default){var t=e.getCurrentTarget();t instanceof i.AnnotComponent&&t.showPropertiesDialog(null,null,{pageX:this.currentMouseX,pageY:this.currentMouseY})}},t}(o.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(75)),r=n(5),i=a(n(94));a(n(4));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(){return s(this,t),c(this,e.apply(this,arguments))}return u(t,e),t.getName=function(){return"DeleteAnnotController"},t.prototype.usable=function(e){var t=e.annot;return this.getPDFUI().getAnnotAuthorityManager().then((function(n){return n.getPermission(t).then((function(t){return t.ignorable()?"function"==typeof e.deleteDisabled&&!e.deleteDisabled():t.isDeletable()}))}))},t.prototype.handle=function(){var e=this;if(this.component.parent instanceof o.default)return this.getPDFUI().getPDFViewer().then((function(t){return Promise.all(t.getAllActiveElements().map((function(t){return t instanceof r.AnnotComponent?t.removeAnnot():(e.getPDFUI().editingMgr.removeAnnot(t.widget),e.getPDFUI().formDesignDialog.lockedHandler(!0),Promise.resolve())})))}))},t}(i.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(75)),r=n(5),i=s(n(94)),a=s(n(122));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var f=function(e){function t(){return c(this,t),u(this,e.apply(this,arguments))}return l(t,e),t.getName=function(){return"ShowActionsController"},t.services=function(){return{featureService:a.default}},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this);var n=this.component,o=n.parent;this.addDestroyHook(o.on("beforeshow",(function(){t.getPDFUI().getAllActivatedElements().then((function(e){e.some((function(e){return!e.annot||!t.featureService.supportsShowActions(e.annot)}))?n.hide():n.show()}))})))},t.prototype.usable=function(e){return this.getPDFUI().getAnnotAuthorityManager().then((function(t){return t.getPermission(e.annot).then((function(t){return t.ignorable()?!(!e||!e.readOnlyDisabled||"function"!=typeof e.readOnlyDisabled)&&!e.readOnlyDisabled():t.isModifiable()}))}))},t.prototype.handle=function(){var e=this.component.parent;if(e instanceof o.default){var t=e.getCurrentTarget();(t instanceof r.ScreenComponent||t instanceof r.LinkAnnotComponent)&&t.showActionsDialog()}},t}(i.default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(94)),r=n(5),i=n(84),a=s(n(122));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var f=function(e){function t(){return c(this,t),u(this,e.apply(this,arguments))}return l(t,e),t.getName=function(){return"MediaDownloadController"},t.services=function(){return{featureService:a.default}},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this);var n=this.component,o=n.parent;this.addDestroyHook(o.on("beforeshow",(function(){t.getPDFUI().getAllActivatedElements().then((function(e){e.some((function(e){return!e.annot||!t.featureService.supportsDownloadMedia(e.annot)}))?n.hide():n.show()}))})))},t.prototype.usable=function(e){return this.getPDFUI().getAnnotAuthorityManager().then((function(t){return t.getPermission(e.annot).then((function(t){return t.ignorable()?"function"==typeof e.readOnlyDisabled&&!e.readOnlyDisabled():t.isAttachmentDownloadable()}))}))},t.prototype.handle=function(){var e=this.component.parent;if(e instanceof i.ContextMenuComponent){var t=e.getCurrentTarget();(t instanceof r.ScreenComponent||t instanceof r.SoundComponent||t.download&&"function"==typeof t.download)&&t.download()}},t}(o.default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(75)),r=n(5),i=s(n(94)),a=s(n(122));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var f=function(e){function t(){return c(this,t),u(this,e.apply(this,arguments))}return l(t,e),t.getName=function(){return"CopyAnnotTextController"},t.services=function(){return{featureService:a.default}},t.prototype.visibility=function(e){return!(e.isArea&&e.isArea()&&e.isReplace&&e.isReplace())},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this);var n=this.component,o=n.parent;this.addDestroyHook(o.on("beforeshow",(function(){t.getPDFUI().getAllActivatedElements().then((function(e){e.some((function(e){return!e.annot||!t.featureService.supportsCopyText(e.annot)}))?n.hide():n.show()}))})))},t.prototype.handle=function(){var e=this.component.parent;if(e instanceof o.default){var t=e.getCurrentTarget();t instanceof r.TextMarkupAnnotComponent&&t.copyText()}},t}(i.default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(3);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.getName=function(){return"ShowSearchPanelController"},t.prototype.handle=function(){var e=this.root.querySelector("sidebar-search");e&&e.active()},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(94)),r=s(n(217)),i=s(n(75)),a=s(n(122));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var f=function(e){function t(){return c(this,t),u(this,e.apply(this,arguments))}return l(t,e),t.getName=function(){return"ApplyRedactController"},t.services=function(){return{featureService:a.default}},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this);var n=this.component,o=n.parent;this.addDestroyHook(o.on("beforeshow",(function(){t.getPDFUI().getAllActivatedElements().then((function(e){e.some((function(e){return!e.annot||!t.featureService.supportsRedact(e.annot)}))?n.hide():n.show()}))})))},t.prototype.usable=function(e){return this.getPDFUI().getAnnotAuthorityManager().then((function(t){return t.getPermission(e.annot).then((function(t){return t.ignorable()?!e.assembleDocDisabled():t.isRedactionApplicable()}))}))},t.prototype.handle=function(){var e=this.component.parent,t=this.getPDFUI();if(e instanceof i.default){var n=e.getCurrentTarget();n instanceof r.default&&n.apply().catch((function(e){-6===e.error&&t.alert("dialog.error.noRedactionLicense")}))}},t}(o.default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(94)),r=s(n(217)),i=s(n(75)),a=s(n(122));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var f=function(e){function t(){return c(this,t),u(this,e.apply(this,arguments))}return l(t,e),t.getName=function(){return"ApplyAllRedactController"},t.services=function(){return{featureService:a.default}},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this);var n=this.component,o=n.parent;this.addDestroyHook(o.on("beforeshow",(function(){t.getPDFUI().getAllActivatedElements().then((function(e){e.some((function(e){return!e.annot||!t.featureService.supportsRedact(e.annot)}))?n.hide():n.show()}))})))},t.prototype.usable=function(e){return!e.assembleDocDisabled()},t.prototype.handle=function(){var e=this.component.parent,t=this.getPDFUI();if(e instanceof i.default){var n=e.getCurrentTarget();if(n instanceof r.default)return n.applyAll().catch((function(e){-6===e.error&&t.alert("dialog.error.noRedactionLicense")}))}},t}(o.default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(94)),r=s(n(75)),i=s(n(217)),a=s(n(122));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var f=function(e){function t(){return c(this,t),u(this,e.apply(this,arguments))}return l(t,e),t.getName=function(){return"ShowRedactPlaceDialogController"},t.prototype.usable=function(e){return!e.moveDisabled()},t.services=function(){return{featureService:a.default}},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this);var n=this.component,o=n.parent;this.addDestroyHook(o.on("beforeshow",(function(){t.getPDFUI().getAllActivatedElements().then((function(e){e.some((function(e){return!e.annot||!t.featureService.supportsRedact(e.annot)}))?n.hide():n.show()}))}))),this.component.element.addEventListener("mousedown",(function(e){t.currentMouseX=e.pageX,t.currentMouseY=e.pageY}))},t.prototype.handle=function(){var e=this.component.parent;if(e instanceof r.default){var t=e.getCurrentTarget();t instanceof i.default&&t.showPlaceMarkDialog(null,null,{pageX:this.currentMouseX,pageY:this.currentMouseY})}},t}(o.default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(94)),r=n(84),i=n(5),a=s(n(122));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var f=function(e){function t(){return c(this,t),u(this,e.apply(this,arguments))}return l(t,e),t.getName=function(){return"MediaPlayController"},t.services=function(){return{featureService:a.default}},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this);var n=this.component,o=n.parent;this.addDestroyHook(o.on("beforeshow",(function(){t.getPDFUI().getAllActivatedElements().then((function(e){e.some((function(e){return!e.annot||!t.featureService.supportsDownloadMedia(e.annot)}))?n.hide():n.show()}));var e=o.getCurrentTarget();(e instanceof i.SoundComponent||e instanceof i.ScreenComponent)&&t.component.setText(e.isPaused()?"contextmenu.annot.play":"contextmenu.annot.pause")})))},t.prototype.usable=function(e){return this.getPDFUI().getAnnotAuthorityManager().then((function(t){return t.getPermission(e.annot).then((function(t){return!e.isPaused()||(t.ignorable()?!(!e||!e.readOnlyDisabled||"function"!=typeof e.readOnlyDisabled)&&!e.readOnlyDisabled():t.isPlayable())}))}))},t.prototype.handle=function(){var e=this.component.parent;if(e instanceof r.ContextMenuComponent){var t=e.getCurrentTarget();(t instanceof i.SoundComponent||t instanceof i.ScreenComponent)&&t.play()}},t}(o.default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(94),i=(o=r)&&o.__esModule?o:{default:o},a=n(84),s=n(5);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var f=function(e){function t(){return c(this,t),u(this,e.apply(this,arguments))}return l(t,e),t.getName=function(){return"MediaPauseController"},t.prototype.handle=function(){var e=this.component.parent;if(e instanceof a.ContextMenuComponent){var t=e.getCurrentTarget();t instanceof s.SoundComponent&&t.pause()}},t}(i.default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(3);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.getName=function(){return"OpenFileDropdownController"},t.prototype.postlink=function(){var e=this.component.getComponentByName("open-local-file");this.component.select(e)},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=c},function(e,t,n){"use strict";n.r(t);var o=n(49),r=n(24),i=n(28),a=n(5),s=[r.STATE_HANDLER_CREATE_LINE,r.STATE_HANDLER_CREATE_ARROW,r.STATE_HANDLER_CREATE_DISTANCE,r.STATE_HANDLER_CREATE_PERIMETER,r.STATE_HANDLER_CREATE_AREA],c=function(){function e(e){var t=this;this.pdfViewer=e,this.modes=[],this.store=new i.Store,this.updateSnapMode(),this.pdfViewer.eventEmitter.on(a.Events.switchStateHandler,(function(e){var n=s.indexOf(e.getStateName())>-1;t.store.dispatch("support",n)})),this.store.dispatch("support",!1),this.store.dispatch("mode",this.modes)}return e.scope=function(){return o.ServiceScope.SINGLETON},e.prototype.toggleSnapMode=function(e){var t=this.modes.indexOf(e);t>-1?this.modes.splice(t,1):this.modes.push(e),this.store.dispatch("mode",this.modes),this.updateSnapMode()},e.prototype.onSnapModeChange=function(e){return this.store.subscribe("mode",(function(t){e(t)}))},e.prototype.onSupportedStateChange=function(e){return this.store.subscribe("support",(function(t){e(t)}))},e.prototype.hasSnapMode=function(e){return this.modes.indexOf(e)>-1},e.prototype.updateSnapMode=function(){this.pdfViewer.setSnapMode(r.STATE_HANDLER_CREATE_LINE,this.modes),this.pdfViewer.setSnapMode(r.STATE_HANDLER_CREATE_ARROW,this.modes),this.pdfViewer.setSnapMode(r.STATE_HANDLER_CREATE_DISTANCE,this.modes),this.pdfViewer.setSnapMode(r.STATE_HANDLER_CREATE_PERIMETER,this.modes),this.pdfViewer.setSnapMode(r.STATE_HANDLER_CREATE_AREA,this.modes)},e}();t.default=c},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";e=e||{};var t="",r=o.$each,i=(e.$value,e.$index,e.i,o.$escape),a=function(e){return t+=e};return e.length&&(t+="\r\n    ",r(e,(function(e,o){t+='\r\n        <div class="fv__fields_list">\r\n\r\n        ';for(var r=0;r<e.deep;r++)t+='\r\n            <div class="fv__tree-icon fv__line_pc_ui"></div>\r\n        ';t+="\r\n\r\n        ",e.deep?t+='\r\n            <a class="fv__tree-fold-btn"><div class="fv__tree-icon fv__join_pc_ui"></div></a>\r\n        ':t+='\r\n            <a class="fv__tree-fold-btn"><div class="fv__tree-icon fv__plug_pc_ui"></div></a>\r\n        ',t+='\r\n\r\n        <a class="fv__field-item" data-deep="',t+=i(e.deep),t+='" data-page="',t+=i(e.page),t+='" data-top="',t+=i(e.top),t+='" data-id="',t+=i(e.id),t+='" data-flag="',t+=i(e.flag),t+='" data-type="',t+=i(e.typeVal),t+='">\r\n            <div class="fv__field_icon fv__',t+=i(e.type),t+='"></div>\r\n            ',e.deep?(t+='\r\n                <span style="color:',t+=i(e.color),t+=";",e.isBold&&(t+="font-weight:bold;"),e.isItalic&&(t+="font-style:italic;"),t+='">',t+=i(e.title),t+="</span>\r\n            "):(t+='\r\n                <span style="color:',t+=i(e.color),t+=";",e.isBold&&(t+="font-weight:bold;"),e.isItalic&&(t+="font-style:italic;"),t+='" data-i18n="sidebar.field.page-title" i18n-options=\'{"pageNumber":',t+=i(e.page+1),t+="}'></span>\r\n            "),t+='\r\n            <input type="text" spellcheck="false" value="',t+=i(e.title),t+='">\r\n        </a>\r\n        </div>\r\n\r\n        ',e.children.length&&(t+='\r\n        <div class="fv__field-child fv__hide">\r\n            ',a(n(583)(e.children)),t+="\r\n        </div>\r\n        "),t+="\r\n\r\n    "})),t+="\r\n"),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(104),r=l(n(26)),i=n(96),a=l(n(1635));n(1636);var s=l(n(48)),c=l(n(6)),u=l(n(1637));function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}c.default.root().registerComponent(u.default);var p=function(e){function t(n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r));return i.data={},i.columnMap={},i.columns=[],i.thumbcssclass="",i}return f(t,e),t.getName=function(){return"portfolio-node"},t.getMetadata=function(){return{options:{display:{type:"enum",enums:["block","details"],defaultValue:"block"}}}},t.services=function(){return{dataService:i.PortfolioNodeDataService,nodeService:s.default}},t.prototype.ondblclick=function(){switch(this.data.type){case o.PortfolioNodeType.file:this.nodeService.downloadFile(this.data);break;case o.PortfolioNodeType.folder:this.nodeService.openFolder(this.data)}},t.prototype.onclick=function(e){this.nodeService.activeNode(this,this.data),e.stopPropagation()},t.prototype.doActive=function(){this.addCSSClass("active")},t.prototype.doDeactive=function(){this.removeCSSClass("active")},t.prototype.setData=function(e){var t=this;this.data=e||{};var n=this.nodeService.onInitKeyNameChange((function(o){e.keyName===o&&t.nodeService.activeNode(t,e),n()}));this.controller.digest()},t.prototype.sync=function(t,n){switch(t){case"display":return this.display=n,this.controller.digest(),!0;case"data":return this.setData(n),!0;case"columns":return Array.isArray(n)||(n=[]),this.columnMap={},this.columns=n,n.reduce((function(e,t){return e[t.key]=t,e}),this.columnMap),this.controller.digest(),!0;case"file-name":case"description":case"modify-time":case"create-time":case"file-size":case"compressed-size":return this.data[this.toCamelCase(t)]=n,this.controller.digest(),!0}return e.prototype.sync.call(this,t,n)},t.prototype.toCamelCase=function(e){return e.replace(/\-(.)/,(function(e,t){return t.toUpperCase()}))},t}(r.default.createSuperClass({template:(0,a.default)()}));t.default=p},function(e,t,n){"use strict";n.r(t);var o,r=n(67),i=n(44),a=n(58),s=n.n(a),c=n(65),u=n.n(c),l=(n(1639),o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),f=function(e){function t(t){var n=e.call(this)||this;return n.pdfViewer=t,n}return l(t,e),t.prototype.accept=function(e,t){return Object(r.isPDFFile)(e,t)},t.prototype.redraw=function(){},t.prototype.preview=function(e,t){var n=this,o=this.pdfViewer.resourceGenerator(s.a.PDF_DOCUMENT_CLOSING,u.a.OBJECT_URL).expose().URL.createObjectURL(new Blob([e],{type:"application/pdf"}));return this.element.innerHTML='\n            <object type="application/pdf" data="'+o+'" class="fv__viewer-native-pdf-previewer">\n                <embed type="application/pdf" src="'+o+'" class="fv__viewer-native-pdf-previewer"></embed>\n            </object>\n        ',function(){n.element.innerHTML=""}},t}(i.PortfolioFilePreviewer);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(5));function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=o.IViewMode,s=o.ViewerEvents,c=o.vendors.jQuery,u=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.multipage=2,o.pageSpacing=10,o.isMouseDown=!1,o.isScroll=!1,o.isWheel=!1,o.wheel=o.wheel.bind(o),o.mouseDown=o.mouseDown.bind(o),o.mouseUp=o.mouseUp.bind(o),o.adjust=o.adjust.bind(o),o.keyup=o.keyup.bind(o),o}return r(t,e),t.getName=function(){return"facing-cover-view-mode"},t.getMultipage=function(){return 2},t.getPageSpacing=function(){return 10},t.prototype.getItems=function(){return c(e.prototype.getItems.call(this))},t.prototype.into=function(t,n){var o=this;e.prototype.into.call(this,t,n);var r=["<style>",".facing-cover-view-mode{","overflow:hidden;","margin:0 auto;","}",".facing-cover-view-mode .fv__pdf-view-mode-item{","float: left;","display: -webkit-box;","display: -ms-flexbox;","display: -webkit-flex;","display: flex;","-ms-flex-pack: center;","-ms-flex-align: center;","-ms-justify-content: center;","-webkit-justify-content: center;","justify-content: center;","align-items: center;","width:calc("+100/this.multipage+"% - "+this.pageSpacing*(this.multipage-1)/this.multipage+"px)","}",".facing-cover-view-mode .fv__pdf-view-mode-item{","margin-right: "+this.pageSpacing+"px;","}",".facing-cover-view-mode .fv__pdf-page-layout{","width: 100%;","}",".facing-cover-view-mode .fv__pdf-view-mode-item:nth-child("+this.multipage+"n - 1){","margin-right: 0;","}",".facing-cover-view-mode .fv__pdf-view-mode-item:nth-of-type(odd) .fv__pdf-page-layout{","margin-right: 0;","}",".facing-cover-view-mode .fv__pdf-view-mode-item:nth-of-type(even) .fv__pdf-page-layout{","margin-left: 0;","}","</style>"].join("");this.$style=c(r),this.docRender.pagesRender.$ui.append(this.$style),this.docRender.$container.addClass(this.constructor.getName());var i=this.docRender.viewerRender.scrollWrap;this.scrollHost=i.getScrollHost();var a=this,u=l(150,(function(){a.isMouseDown||!a.isWheel||a.flip||(a.scroll.call(a),a.isWheel=!1)}));this.initPageLayout(),this._unwatchScrollEvent=i.addScrollEventListener((function(){o.isScroll=!0,u(),clearTimeout(o.scrollEventTimer),o.scrollEventTimer=setTimeout((function(){var e=o.docRender.pagesRender;e&&e.renderVisiblePages().then((function(){o.docRender.isGoto?setTimeout((function(){o.docRender.isGoto=!1}),40):o.docRender.setCurrentPageIndex(o.getCurrentPageIndex())}),(function(){}))}),100)})),this.scrollHost.addEventListener("wheel",this.wheel),this.scrollHost.addEventListener("mousedown",this.mouseDown),window.addEventListener("mouseup",this.mouseUp),window.addEventListener("keyup",this.keyup),this.docRender.pdfViewer.eventEmitter.on(s.zoomToSuccess,this.adjust),this.docRender.goToPage(this.docRender.getCurrentPageIndex()),(this.hammer=new Hammer.Manager(this.scrollHost,{recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}]]})).on("panend",(function(e){return o.adjust(),!1}))},t.prototype.initPageLayout=function(){for(var e=this.getItems(),t=this.multipage,n=this.pageSpacing,o=n*(t-1)/t,r=0;r<e.length;r++)e.eq(r).css({width:"calc("+100/t+"% - "+o+"px)"});e.eq(0).css({marginLeft:"calc("+100/t+"% + "+n+"px)"})},t.prototype.keyup=function(e){var t=e.keyCode;if(33===t||34===t){var n=this;setTimeout((function(){n.adjust()}),50)}else 38!==t&&40!==t||this.adjust()},t.prototype.wheel=function(e){this.isWheel=!0;var t=this.docRender.viewerRender.scrollWrap;this.currentScrollTop=t.getScrollTop(),this.currentPageIndex=this.getCurrentPageIndex();var n=t.getHeight();t.getScrollLeft();if(n>this.getItems().eq(this.currentPageIndex).children(".fv__pdf-page-layout").height()){if(this.flip=!0,e.deltaY>0){var o=this.docRender.doc.getPageCount(),r=this.currentPageIndex+2;this.docRender.goToPage(Math.min(r,o-1))}else{var i=this.currentPageIndex-2;i<=0&&(i=0),this.docRender.goToPage(i)}e.preventDefault()}else this.flip=!1},t.prototype.mouseDown=function(){this.isMouseDown=!0},t.prototype.mouseUp=function(){this.isMouseDown&&this.isScroll&&this.adjust(),this.isMouseDown=!1,this.isScroll=!1},t.prototype.adjust=function(){var e=this.docRender.viewerRender.scrollWrap,t=e.getScrollTop(),n=e.getScrollLeft(),o=this.scrollHost.clientHeight,r=t+o,i=this.getCurrentPageIndex(),a=this.getItems(),s=a.eq(i),c=(a.get(i),s.outerHeight(!0)),u=s.position().top,l=u+c;t<u&&l>r?e.scrollTo(n,u):t>u&&l<r&&e.scrollTo(n,l-o)},t.prototype.scroll=function(){var e=this.docRender.doc.getPageCount(),t=this.docRender.viewerRender.scrollWrap,n=this.currentScrollTop,o=t.getScrollTop(),r=o-n,i=t.getScrollLeft(),a=this.scrollHost.clientHeight,s=this.currentPageIndex,c=this.getItems(),u=c.eq(s),l=(c.get(s),u.position().top),f=l+u.outerHeight(!0)-a;if(r>=0)if(n-f<-1){if(o<f)return;t.scrollTo(i,f)}else{var p=s+2;if(!(p<e))return;t.scrollTo(i,c.eq(p).position().top)}else if(n-l>1){if(o>l)return;t.scrollTo(i,l)}else{var d=s-2;if(d<0&&(d=0),!(d>-1))return;t.scrollTo(i,c.eq(d).position().top+c.eq(d).outerHeight(!0)-a)}},t.prototype.out=function(){this.docRender.$container.removeClass(this.constructor.getName()),this.docRender.pagesRender.$ui.removeAttr("style"),this.$style&&this.$style.remove(),this._unwatchScrollEvent&&this._unwatchScrollEvent();var t=this.getItems();t.css({width:"",height:""}),t.eq(0).css({marginLeft:""}),this.scrollHost&&this.scrollHost.removeEventListener("wheel",this.wheel),this.scrollHost&&this.scrollHost.removeEventListener("mousedown",this.mouseDown),window.removeEventListener("mouseup",this.mouseUp),window.removeEventListener("keyup",this.keyup),this.docRender.pdfViewer.eventEmitter.off(s.zoomToSuccess,this.adjust),this.hammer.destroy(),e.prototype.out.call(this)},t.prototype.renderViewMode=function(e,t,n,o,r){var i=e.index,a=this.getMaxPageWidth(),s=this.getItems(),u=this.multipage,l=this.docRender.viewerRender.scrollWrap.getHeight(),f=(u-1)*this.pageSpacing;this.docRender.pagesRender.$ui.css({width:a*u*t+f});for(var p=Math.floor(i/u),d=0,h=this.docRender.doc.getPageCount(),g=[],m=0;m<u;m++){var v=p*u+m;v<h&&g.push(this.docRender.getPDFDoc().getPageByIndex(v).then((function(e){d=Math.max(e.getPxHeight(),d),e.getPxHeight()})))}Promise.all(g).then((function(){var e=d*t;e<l?c(s[i]).css({height:"calc("+l+"px - 1rem)"}):c(s[i]).css({height:e})})).catch((function(){}))},t.prototype.getMaxPageWidth=function(){var e=this.docRender.doc.pageCache,t=0;return e.forEach((function(e){t=Math.max(t,e.getPxWidth())})),t},t.prototype.getFitHeight=function(e){var t=this.docRender.viewerRender.scrollWrap;return t.getHeight()-t.getScrollOffsetTop()},t.prototype.getFitWidth=function(e){var t=this.docRender.doc.pageCache,n=this.getMaxPageWidth(),o=this.docRender.viewerRender.scrollWrap,r=this.multipage;return(o.getWidth()-16-r*this.pageSpacing)/r/n*t[e].getPxWidth()},t.prototype.jumpToPage=function(e,t){var n=t.x,o=void 0===n?0:n,r=t.y,i=void 0===r?0:r,a=this.getItems();e>=a.length?e=a.length-1:e<0&&(e=0);var s=a.eq(e),c=s.position().left+o,u=s.position().top+i;this.docRender.viewerRender.scrollWrap.scrollTo(c,u)},t.prototype.getVisibleIndexes=function(){var e=this.docRender.viewerRender.scrollWrap,t=e.getScrollTop(),n=e.getHeight(),o=t+n,r=[];return this.getItems().each((function(e,n){var a=c(n).outerHeight(!0),s=n.offsetTop;if(s>o)return!1;s<=o&&s+a>=t&&r.push(i)})),r},t.prototype.getCurrentPageIndex=function(){for(var e=this.getItems(),t=this.docRender.viewerRender.scrollWrap,n=t.getScrollTop(),o=n+t.getHeight(),r=t.getScrollLeft(),i=r+t.getWidth(),a=void 0,s=[],u=0;u<e.length;u++){var l=e[u],f=c(l).width(),p=c(l).height(),d=l.offsetTop,h=d+p,g=l.offsetLeft,m=g+f,v=void 0;if(d<=n&&h>n&&h<o?v=h-n:d>=n&&h<o?v=p:d<=n&&h>o?v=o-n:d>=n&&d<o&&h>o&&(v=o-d),v){var y=void 0;g<=r&&m>r&&m<i?(y=m-r,s.push({index:u,area:v*y})):g>=r&&m<i?(y=f,s.push({index:u,area:v*y})):g<=r&&m>i?(y=i-r,s.push({index:u,area:v*y})):g>=r&&g<i&&m>i&&(y=i-g,s.push({index:u,area:v*y}))}}for(var b=0,w=0;w<s.length;w++)s[w].area>b&&(b=s[w].area,a=s[w].index);return a},t.prototype.getNextPageIndex=function(){var e=this.docRender.doc.getPageCount(),t=this.getCurrentPageIndex();if(t<e-1){var n=this.docRender.viewerRender.scrollWrap,o=this.docRender.pagesRender.$ui.width(),r=n.getWidth()-16,i=this.multipage;if(r>=o)t=Math.ceil((t+2)/i)*i;else t++}return t>e-1&&(t=e-1),t},t.prototype.getPrevPageIndex=function(){var e=this.getCurrentPageIndex();if(e>0){var t=this.docRender.viewerRender.scrollWrap,n=this.docRender.pagesRender.$ui.width(),o=t.getWidth()-16,r=this.multipage;if(o>=n)e=(Math.ceil((e+2)/r)-2)*r;else e--}return e<0&&(e=0),e},t}(a);t.default=u;var l=function(e,t){var n=void 0;return function(){var o=this,r=arguments;clearTimeout(n),n=setTimeout((function(){t.apply(o,r)}),e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(5));function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var i=o.IViewMode,a=(o.ViewerEvents,o.vendors.jQuery),s=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.multipage=2,o.pageSpacing=10,o}return r(t,e),t.getName=function(){return"facing-cover-continuous-view-mode"},t.getMultipage=function(){return 2},t.getPageSpacing=function(){return 10},t.prototype.getItems=function(){return a(e.prototype.getItems.call(this))},t.prototype.into=function(t,n){var o=this;e.prototype.into.call(this,t,n);var r=["<style>",".facing-cover-continuous-view-mode{","overflow:hidden;","margin:0 auto;","}",".facing-cover-continuous-view-mode .fv__pdf-view-mode-item{","float: left;","display: -webkit-box;","display: -ms-flexbox;","display: -webkit-flex;","display: flex;","-ms-flex-pack: center;","-ms-flex-align: center;","-ms-justify-content: center;","-webkit-justify-content: center;","justify-content: center;","align-items: center;","width:calc("+100/this.multipage+"% - "+this.pageSpacing*(this.multipage-1)/this.multipage+"px)","}",".facing-cover-continuous-view-mode .fv__pdf-view-mode-item{","margin-right: "+this.pageSpacing+"px;","}",".facing-cover-continuous-view-mode .fv__pdf-page-layout{","width: 100%;","}",".facing-cover-continuous-view-mode .fv__pdf-view-mode-item:nth-child("+this.multipage+"n - 1){","margin-right: 0;","}",".facing-cover-continuous-view-mode .fv__pdf-view-mode-item:nth-of-type(odd) .fv__pdf-page-layout{","margin-right: 0;","}",".facing-cover-continuous-view-mode .fv__pdf-view-mode-item:nth-of-type(even) .fv__pdf-page-layout{","margin-left: 0;","}","</style>"].join("");this.$style=a(r),this.docRender.pagesRender.$ui.append(this.$style),this.docRender.$container.addClass(this.constructor.getName());var i=this.docRender.viewerRender.scrollWrap;this.initPageLayout(),this._unwatchScrollEvent=i.addScrollEventListener((function(){clearTimeout(o.scrollEventTimer),o.scrollEventTimer=setTimeout((function(){var e=o.docRender.pagesRender;e&&e.renderVisiblePages().then((function(){o.docRender.isGoto?setTimeout((function(){o.docRender.isGoto=!1}),40):o.docRender.setCurrentPageIndex(o.getCurrentPageIndex())}),(function(){}))}),100)}))},t.prototype.initPageLayout=function(){for(var e=this.getItems(),t=this.multipage,n=this.pageSpacing,o=n*(t-1)/t,r=0;r<e.length;r++)e.eq(r).css({width:"calc("+100/t+"% - "+o+"px)"});e.eq(0).css({marginLeft:"calc("+100/t+"% + "+n+"px)"})},t.prototype.out=function(){this.docRender.$container.removeClass(this.constructor.getName()),this.docRender.pagesRender.$ui.removeAttr("style"),this.$style.remove(),this._unwatchScrollEvent&&this._unwatchScrollEvent();for(var t=this.getItems(),n=0;n<t.length;n++)a(t[n]).css({width:"",height:""});t.eq(0).css({marginLeft:""}),e.prototype.out.call(this)},t.prototype.renderViewMode=function(e,t,n,o,r){var i=e.index,a=this.getMaxPageWidth(),s=this.getItems(),c=this.multipage,u=(c-1)*this.pageSpacing;0===i&&s.eq(0).css({"margin-left":(a*t+u)*(c-1)}),this.docRender.pagesRender.$ui.css({width:a*c*t+u});for(var l=Math.floor(i/c),f=0,p=this.docRender.getRotation(),d=this.docRender.doc.getPageCount(),h=[],g=0;g<c;g++){var m=l*c+g;m<d&&h.push(this.docRender.getPDFDoc().getPageByIndex(m).then((function(e){var t=void 0;t=90===p||270===p?e.getPxWidth():e.getPxHeight(),f=Math.max(t,f),t})))}Promise.all(h).then((function(){s.eq(i).css({height:f*t})})).catch((function(){}))},t.prototype.getMaxPageWidth=function(){var e=this.docRender.doc.pageCache,t=this.docRender.getRotation(),n=0;return 90===t||270===t?e.forEach((function(e){n=Math.max(n,e.getPxHeight())})):e.forEach((function(e){n=Math.max(n,e.getPxWidth())})),n},t.prototype.getFitHeight=function(e){var t=this.docRender.viewerRender.scrollWrap;return t.getHeight()-t.getScrollOffsetTop()},t.prototype.getFitWidth=function(e){var t=this.docRender.doc.pageCache,n=this.docRender.getRotation(),o=void 0;o=90===n||270===n?t[e].getPxHeight():t[e].getPxWidth();var r=this.getMaxPageWidth(),i=this.docRender.viewerRender.scrollWrap,a=this.multipage;return(i.getWidth()-16-a*this.pageSpacing)/a/r*o},t.prototype.jumpToPage=function(e,t){var n=t.x,o=void 0===n?0:n,r=t.y,i=void 0===r?0:r,a=this.getItems();e>=a.length?e=a.length-1:e<0&&(e=0);var s=a.eq(e),c=s.position().left+o,u=s.position().top+i;this.docRender.viewerRender.scrollWrap.scrollTo(c,u)},t.prototype.getVisibleIndexes=function(){var e=this.docRender.viewerRender.scrollWrap,t=e.getScrollTop(),n=e.getHeight(),o=t+n,r=[];return this.getItems().each((function(e,n){var i=a(n).outerHeight(!0),s=n.offsetTop;if(s>o)return!1;s<=o&&s+i>=t&&r.push(e)})),r},t.prototype.getCurrentPageIndex=function(){for(var e=this.getItems(),t=this.docRender.viewerRender.scrollWrap,n=t.getScrollTop(),o=n+t.getHeight(),r=t.getScrollLeft(),i=r+t.getWidth(),s=void 0,c=[],u=0;u<e.length;u++){var l=e[u],f=a(l).width(),p=a(l).height(),d=l.offsetTop,h=d+p,g=l.offsetLeft,m=g+f,v=void 0;if(d<=n&&h>n&&h<o?v=h-n:d>=n&&h<o?v=p:d<=n&&h>o?v=o-n:d>=n&&d<o&&h>o&&(v=o-d),v){var y=void 0;g<=r&&m>r&&m<i?(y=m-r,c.push({index:u,area:v*y})):g>=r&&m<i?(y=f,c.push({index:u,area:v*y})):g<=r&&m>i?(y=i-r,c.push({index:u,area:v*y})):g>=r&&g<i&&m>i&&(y=i-g,c.push({index:u,area:v*y}))}}for(var b=0,w=0;w<c.length;w++)c[w].area>b&&(b=c[w].area,s=c[w].index);return s},t.prototype.getNextPageIndex=function(){var e=this.docRender.doc.getPageCount(),t=this.getCurrentPageIndex();if(t<e-1){var n=this.docRender.viewerRender.scrollWrap,o=this.docRender.pagesRender.$ui.width(),r=n.getWidth()-16,i=this.multipage;if(r>=o)t=Math.ceil((t+2)/i)*i;else t++}return t>e-1&&(t=e-1),t},t.prototype.getPrevPageIndex=function(){var e=this.getCurrentPageIndex();if(e>0){var t=this.docRender.viewerRender.scrollWrap,n=this.docRender.pagesRender.$ui.width(),o=t.getWidth()-16,r=this.multipage;if(o>=n)e=(Math.ceil((e+2)/r)-2)*r;else e--}return e<0&&(e=0),e},t}(i);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFromRemote=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text",n=(0,i.default)(),o=new XMLHttpRequest;return o.onreadystatechange=function(e){var r=o.status;o.readyState===XMLHttpRequest.DONE&&(r>=200&&r<300||304===r?"json"===t&&"string"==typeof o.response?n.resolve(JSON.parse(o.response)):n.resolve(o.response):n.reject(o.response))},o.onerror=function(e){n.reject(e)},o.open("GET",e,!0),o.responseType=t,o.send(),n.promise};var o,r=n(21),i=(o=r)&&o.__esModule?o:{default:o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(66);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.prototype.construct=function(e,t){e.Vue=t.Vue},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(66)),r=(s(n(230)),s(n(591))),i=s(n(123)),a=n(5);function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var f=function(e,t,n){var o=void 0;for(var r in e){var i=e[r];for(var a in i){i[a];n?t==r&&a==n&&(delete i[a],o=!0):t?r==t&&(delete i[a],o=!0):delete i[a]}0==Object.keys(i).length&&delete e[r]}return o};function p(e,t,n){if(void 0!==this.defaultStamps)return this.defaultStamps;if(!e){if(e=(0,r.default)(this.libPath,this.currentLanguage),t){var o=t.category,i=t.name;e[o]=e[o]||{},e[o][i]=t}if(n){var a=n.category,s=n.name;delete e[a][s],0==Object.keys(e[a]).length&&delete e[a]}}return this.customStamps=this.customStamps||{},this.defaultStamps=e}function d(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.getComponentByName("create-stamp-handle-ui").then((function(n){n&&(t&&n.updateListData(e.defaultStamps),e.getComponentByName("custom-stamps-list").then((function(t){t.updateListData(e.customStamps)})))}))}function h(e){var t=e.category,n=e.name;t in this.customStamps||(this.customStamps[t]={}),this.customStamps[t][n]=e,this.updateToolbarStamps(!1)}function g(e){e.type;var t=e.category,n=e.name;!f(this.customStamps,t,n)&&f(this.defaultStamps,t,n),this.updateToolbarStamps()}function m(){var e=this;!1!==this.defaultStamps&&(delete this.defaultStamps,this.initDefaultStamps()),this.getComponentByName("create-stamp-handle-ui").then((function(t){t&&t.children().length&&t.updateListData(e.defaultStamps)}))}var v=function(e){function t(){return c(this,t),u(this,e.apply(this,arguments))}return l(t,e),t.depends=function(){return[i.default]},t.prototype.construct=function(e,t,n){var o=n.eventEmitter;o.on(a.Events.iconInited,(function(t){e.customStamps=t.stamp,e.defaultStamps=!1,e.updateToolbarStamps()})),o.on(a.Events.iconAdded,(function(t){e.initDefaultStamps(null),e.addAnnotationIcon(t)})),o.on(a.Events.iconRemoved,(function(t){e.initDefaultStamps(null,null,t.category?t:null),e.removeAnnotationIcon(t)})),e.initDefaultStamps=p,e.updateToolbarStamps=d,e.addAnnotationIcon=h,e.removeAnnotationIcon=g,e.updateStampLanguage=m},t.prototype.link=function(){this.pdfUI.defaultStamps},t}(o.default);t.default=v},function(e,t,n){"use strict";function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";e.endsWith("/")||(e+="/"),t=t.replace(/(\w*?)-(\w*)/,(function(e,t,n){return t+"-"+n.toUpperCase()}));var n=["Static","SignHere","Dynamic"];return function(n,r,i){var a;return o(a={},i,{Approved:{url:e+"stamps/"+t+"/DynamicStamps/Approved.pdf",fileType:"pdf"},Revised:{url:e+"stamps/"+t+"/DynamicStamps/Revised.pdf",fileType:"pdf"},Reviewed:{url:e+"stamps/"+t+"/DynamicStamps/Reviewed.pdf",fileType:"pdf"},Received:{url:e+"stamps/"+t+"/DynamicStamps/Received.pdf",fileType:"pdf"},Confidential:{url:e+"stamps/"+t+"/DynamicStamps/Confidential.pdf",fileType:"pdf"}}),o(a,r,{Accepted:{url:e+"stamps/"+t+"/SignHere/Accepted.pdf",fileType:"pdf"},Witness:{url:e+"stamps/"+t+"/SignHere/Witness.pdf",fileType:"pdf"},SignHere:{url:e+"stamps/"+t+"/SignHere/SignHere.pdf",fileType:"pdf"},Rejected:{url:e+"stamps/"+t+"/SignHere/Rejected.pdf",fileType:"pdf"},Initial:{url:e+"stamps/"+t+"/SignHere/Initial.pdf",fileType:"pdf"}}),o(a,n,{Approved:{url:e+"stamps/"+t+"/StandardStamps/Approved.pdf",fileType:"pdf"},Void:{url:e+"stamps/"+t+"/StandardStamps/Void.pdf",fileType:"pdf"},Verified:{url:e+"stamps/"+t+"/StandardStamps/Verified.pdf",fileType:"pdf"},Revised:{url:e+"stamps/"+t+"/StandardStamps/Revised.pdf",fileType:"pdf"},Reviewed:{url:e+"stamps/"+t+"/StandardStamps/Reviewed.pdf",fileType:"pdf"},Received:{url:e+"stamps/"+t+"/StandardStamps/Received.pdf",fileType:"pdf"},Final:{url:e+"stamps/"+t+"/StandardStamps/Final.pdf",fileType:"pdf"},Expired:{url:e+"stamps/"+t+"/StandardStamps/Expired.pdf",fileType:"pdf"},Emergency:{url:e+"stamps/"+t+"/StandardStamps/Emergency.pdf",fileType:"pdf"},Draft:{url:e+"stamps/"+t+"/StandardStamps/Draft.pdf",fileType:"pdf"},Confidential:{url:e+"stamps/"+t+"/StandardStamps/Confidential.pdf",fileType:"pdf"},Completed:{url:e+"stamps/"+t+"/StandardStamps/Completed.pdf",fileType:"pdf"}}),a}.apply(void 0,n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toggleLeftRightPannel=t.updatePreviewLeft=t.setFontSize=t.updatePreviewUI=t.generaterUI=void 0;var o,r=n(1691),i=(o=r)&&o.__esModule?o:{default:o},a=n(22);var s=function(e,t){for(var n=e.width(),o=e.height(),r=void 0,i=Math.max(n,o),a=i/2,s=0;t.css("font-size",a),(r=t.height())>=o?a=(s+(i=a))/2:r<o&&(a=((s=a)+i)/2),!(i-s<1););t.css("margin-top",(o-r)/2)},c=function(e,t){var n=e.find(".fv_sig-preview-left"),o=e.find(".fv_sig-preview-right"),r=124&t,i=384&t;r?(o.show(),i?o.removeClass("fv_sig-only"):o.addClass("fv_sig-only")):o.hide(),i?(n.show(),r?n.removeClass("fv_sig-only"):n.addClass("fv_sig-only")):n.hide();var a=e.find(".fv_sig-name-left"),c=a.parent();s(c,a)},u=function(e,t){var n=e.find(".fv_sig-preview-left"),o=128&t,r=256&t;if(o||r){if(o&&!r){n.show();var i=e.find(".fv_sig-image");i.attr("src").length&&i.show().css("display","block"),e.find(".fv_sig-name-left").hide()}else if(r&&!o){n.show(),e.find(".fv_sig-name-left").show(),e.find(".fv_sig-image").hide();var a=e.find(".fv_sig-name-left"),c=a.parent();s(c,a)}}else n.hide()};t.generaterUI=function(e,t,n){n&&e.empty(),e.append((0,i.default)(t))},t.updatePreviewUI=function(e,t,n){if(void 0!==n){var o=".fv_sig-preview-"+t+" .changable";e.find(o).html(n)}else{var r=t;for(var i in r){var s=".fv_sig-preview-"+i+" .changable";e.find(s).html(r[i])}var l=new Date,f="D"+l.getFullYear()+(l.getMonth()+1)+l.getDate()+l.getHours()+l.getMinutes()+l.getSeconds()+l.getTimezoneOffset()/60+"'00'";e.find(".fv_sig-preview-date .changable").html(f);var p=r.flag;c(e,p);var d=e.find(".fv_sig-preview-tag");p&a.Signature_Ap_Flags.showTagImage?d.show():d.hide(),["signer","distinguishName","reason","label","location","date"].forEach((function(t){var n="show"+t.replace(t[0],t[0].toUpperCase()),o=e.find(".fv_sig-preview-right .fv_sig-preview-"+t);p&a.Signature_Ap_Flags[n]?o.show():o.hide()})),e.find(".fv_sig-name-left").html(r.text||r.signer),u(e,p)}},t.setFontSize=s,t.updatePreviewLeft=u,t.toggleLeftRightPannel=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fragments=t.template=void 0;var o,r=n(1698),i=(o=r)&&o.__esModule?o:{default:o};t.template=(0,i.default)({}),t.fragments=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(10));function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n))}return i(t,e),t.prototype.afterMounted=function(t){var n=this;e.prototype.afterMounted.call(this,t);var r=this,i=function(e){["editable-zoom-dropdown-fitvisible","fv--contextmenu-item-zoom-fitvisible"].forEach((function(t){n.pdfUI.getComponentByName(t).then((function(t){t&&(e?t.enable():t.disable())}))}))};this.pdfUI.addUIEventListener(o.default.changeViewModeSuccess,(function(e){r.pdfUI.getPDFDocRender().then((function(t){if(t){var n=t.scale,o=e.getName();"single-page-view-mode"!==o&&"continuous-view-mode"!==o?(i(!1),"fitVisible"===n&&r.pdfUI.zoomTo(1)):i(!0)}}))}))},t}(r(n(162)).default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=h(n(301)),r=n(24),i=n(39),a=n(7),s=n(5),c=h(n(9)),u=h(n(1711)),l=h(n(1712)),f=h(n(1713)),p=h(n(1714)),d=h(n(21));function h(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var m=["line","linearrow","linedimension","polylinedimension","polygondimension","circle","square","polyline","polygon","polygoncloud","fileattachment","freetexttypewriter","typewriter","freetextcallout","callout","freetexttextbox","textbox","freetext","ink","stamp","text","areahighlight","highlight","caret","replace","squiggly","strikeout","redact","underline","media","image","link","sound"].reduce((function(e,t){return e[t]="fv--"+t+"-contextmenu",e}),{}),v=c.default.getLogger("XViewerUI"),y=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return n.rootComponentDefer=(0,d.default)(),n}return g(t,e),t.prototype.setRootComponent=function(e){this.rootComponent=e,this.rootComponentDefer.resolve(e)},t.prototype.getRootComponentPromise=function(){return this.rootComponentDefer.promise},t.prototype.createContextMenu=function(t,n,o){var r=this.getContextMenuNameByOwner(t),i=this.rootComponent.getComponentByName(r);return i||(t instanceof s.MarkupAnnotComponent?i=this.rootComponent.getComponentByName("fv--markup-contextmenu"):t instanceof s.TextMarkupAnnotComponent?i=this.rootComponent.getComponentByName("fv--textmarkup-contextmenu"):t instanceof s.AnnotComponent&&(i=this.rootComponent.getComponentByName("fv--default-annot-contextmenu"))),i?new u.default(this.pdfViewer,t,i,n,o):e.prototype.createContextMenu.call(this,t,n,o)},t.prototype.getContextMenuNameByOwner=function(e){switch(e){case r.STATE_HANDLER_HAND:case r.STATE_HANDLER_SELECT_TEXT_IMAGE:case r.STATE_HANDLER_SELECT_ANNOTATION:return"fv--page-contextmenu";case a.CREATING_MEASUREMENT_CONTEXTMENU:return"fv--creating-measurement-contextmenu";default:if(e instanceof s.AnnotComponent)return this.getAnnotsContextMenuName(e);if("function"==typeof e.getContextMenuComponentName)return e.getContextMenuComponentName()}},t.prototype.getAnnotsContextMenuName=function(e){var t=e.annot;if(t.isGrouped&&t.isGrouped()){var n=t.getGroupHeader();if(n){var o=n.getIntent();o&&"replace"===o.toLowerCase()&&(t=n)}}var r=t.getType().toLowerCase(),a=t.getIntent&&t.getIntent(),s=t.getSubject&&t.getSubject(),c=void 0;if("highlight"===r&&t.isArea())return"fv--areahighlight-contextmenu";if("widget"===r){if(e.$ui.hasClass("selected"))return"fv--field-edit-contextmenu";if(e.annot.info.fieldType===i.FieldType.Sign)return"fv--field-signature-contextmenu"}else if("screen"===r){var u=t.info.action,l=u?u.renditions:void 0;if(l&&l[0])l[0].contentType.match(/^(audio|video)\/.+$/)&&(c=m.media);t.info.isAudioVideo&&(c=m.media),c||(c=m.image)}else{if(a&&""!==a&&(c=m[a.toLowerCase().replace(/^freetext/,"")]),!c)switch(r){case"freetext":if(s&&""!==s){var f=s.toLowerCase().replace(/^freetext/,"");c=m[f]}break;default:c=m[r]}c||(v.warn("context menu not found for this annotation: ",t,'now using "fv--default-annot-contextmenu" instead!'),c="fv--default-annot-contextmenu")}return c},t.prototype.alert=function(e,t){return this.getRootComponentPromise().then((function(n){return n.getPDFUI().alert(e,t)}))},t.prototype.confirm=function(e,t){return this.getRootComponentPromise().then((function(n){return n.getPDFUI().confirm(e,t)}))},t.prototype.prompt=function(e,t,n){return this.getRootComponentPromise().then((function(o){return o.getPDFUI().prompt(e,t,n)}))},t.prototype.promptPassword=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"common-dialogs.prompt-message",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"common-dialogs.prompt-title",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"body",r=arguments[4],i=arguments[5];return this.getRootComponentPromise().then((function(a){return a.getPDFUI().promptPassword(e,t,n,o,r,i)}))},t.prototype.createTextSelectionTooltip=function(t){var n=this.rootComponent.getComponentByName("fv--text-selection-tooltip");return n?new f.default(this.pdfViewer,t,n):(v.warn('The tooltip component named "fv-text-selection-tooltip" cannot be found in layout-template. \n                You should define a component named after it or use the built-in "<text-sel:text-selection-tooltip>" component directly.'),e.prototype.createTextSelectionTooltip.call(this,t))},t.prototype.createFreeTextTooltip=function(t){var n=this.rootComponent.getComponentByName("fv--freetext-tooltip");return n?new l.default(this.pdfViewer,t,n):(v.warn('The tooltip component named "fv--freetext-tooltip" cannot be found in layout-template.\n            You should define a component named after it or use the built-in "freetext:freetext-tooltip" component directly.'),e.prototype.createFreeTextTooltip.call(this,t))},t.prototype.createAnnotTooltip=function(t){return this.rootComponent.getComponentByName("fv--annottext-tooltip")?new p.default(this.pdfViewer,t,this.rootComponent.getComponentByName("fv--annottext-tooltip")):(v.warn('The tooltip component named "fv--annottext-tooltip" cannot be found in layout-template.\n            You should define a component named after it or use the built-in "annottext-tooltip" component directly.'),e.prototype.createAnnotTooltip.call(this,t))},t}(o.default);t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(597)),r=s(n(594)),i=s(n(9)),a=s(n(10));n(14);function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}i.default.getLogger("mobile-appearance");var u=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.isAllDisabled=!1,o}return c(t,e),t.prototype.beforeMounted=function(t){e.prototype.beforeMounted.call(this,t),document.documentElement.classList.add("fv__ui-mobile")},t.prototype.afterMounted=function(t){var n=this;e.prototype.afterMounted.call(this,t),this.pdfUI.addUIEventListener(a.default.fullscreenchange,(function(e){e?n._handleFullscreen(t):n._handleExitFullscreen(t)}));var o=!1;this.pdfUI.addViewerEventListener(a.default.openFileSuccess,(function(){o=!1})),this.pdfUI.addViewerEventListener(a.default.renderFileSuccess,(function(e){o||(o=!0,n.pdfUI.getPDFViewerRender().then((function(e){return e.getScaleRatio().then((function(t){e.zoomTo(t)}))})).catch((function(){})))}))},t.prototype._preventPageScroll=function(){var e=function(e){(function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.offsetWidth*t.offsetHeight,o=t.parentElement;if(t===document.body||!o)return!1;var r=o.offsetWidth*o.offsetHeight;if(n>r){var i=window.getComputedStyle(o),a=function(e){return"auto"===e||"scroll"===e};if(a(i.overflowX)||a(i.overflowY))return!0}return e(o,r)})(e.target)||e.preventDefault()},t=function(e){0==window.scrollY&&0==document.body.scrollTop||document.body.scrollIntoView({block:"start"})};window.addEventListener("touchmove",e,{passive:!1}),window.addEventListener("touchend",t,{capture:!0}),this.pdfUI.addUIEventListener(a.default.applicationDestroyed,(function(){window.removeEventListener("touchmove",e,{passive:!1}),window.removeEventListener("touchend",t,{capture:!0})}))},t.prototype._handleFullscreen=function(e){var t=e.querySelectorAll("@gtab[group=mobile-tab]");if(t&&t.length>0){var n=t.filter((function(e){return e.isActive}))[0];n&&n.getTabBodyComponent().then((function(e){e.hide()}))}else{var o=e.getComponentByName("tabs").controller.currentTabName,r=e.querySelector("@toolbar [tab="+o+"]");r&&r.element.classList.remove("active")}},t.prototype._handleExitFullscreen=function(e){var t=e.querySelectorAll("@gtab[group=mobile-tab]");if(t&&t.length>0){var n=t.filter((function(e){return e.isActive}))[0];n&&n.getTabBodyComponent().then((function(e){e.show()}))}else{var o=e.getComponentByName("tabs").controller.currentTabName,r=e.querySelector("@toolbar [tab="+o+"]");r&&r.element.classList.add("active")}},t.prototype.getLayoutTemplate=function(){return o.template},t.prototype.getDefaultFragments=function(){return o.fragments},t.prototype.resolveFragments=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},n=e.fragments();n=t(n),e.fragments=function(){return n}},t.prototype.disableAll=function(){this.root&&(this.isAllDisabled||(this.isAllDisabled=!0,this.$disabledComponents=[],this.disableHeader(),this.disableToolbar(),this.disableSidebar()))},t.prototype.enableAll=function(){this.root&&this.isAllDisabled&&(this.isAllDisabled=!1,this.enableHeader(),this.enableToolbar(),this.enableSidebar())},t.prototype.disableHeader=function(){var e=this.root.querySelector("fv--mobile-header-right");e&&e.disable()},t.prototype.enableHeader=function(){var e=this.root.querySelector("fv--mobile-header-right");e&&e.enable()},t.prototype.disableToolbar=function(){var e=this;this.root.querySelectorAll("@toolbar @group-list,fv--mobile-toolbar-tabs @group-list").forEach((function(t){e.markupComponentRecursive(t),t.disable()}))},t.prototype.enableToolbar=function(){this.root.querySelectorAll("@toolbar @group-list,fv--mobile-toolbar-tabs @group-list").forEach((function(e){e.enable()}))},t.prototype.disableSidebar=function(){var e=this;this.root.getAllComponentsByType("sidebar-panel").forEach((function(t){t.children().forEach((function(t){e.markupComponentRecursive(t),t.disable()}))}))},t.prototype.enableSidebar=function(){this.root.getAllComponentsByType("sidebar-panel").forEach((function(e){e.children().forEach((function(e){return e.enable()}))}))},t.prototype.markupComponentRecursive=function(e){var t=this;e.isContainer()?e.children().forEach((function(e){return t.markupComponentRecursive(e)})):e.disabled&&this.$disabledComponents.push(e)},t}(r.default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.template=t.fragments=void 0;var o=f(n(1716));n(1717);var r=f(n(6)),i=f(n(1718)),a=f(n(1719)),s=f(n(1720)),c=f(n(1721)),u=f(n(1722)),l=f(n(1723));function f(e){return e&&e.__esModule?e:{default:e}}var p=r.default.module("mobile",[]);p.registerController(a.default),p.registerComponent(s.default),p.registerComponent(u.default),p.registerController(c.default);var d=r.default.root();d.getRegistry().registerDirective(i.default),d.getRegistry().registerDirective(l.default);t.fragments=[],t.template=(0,o.default)({})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1730);Object.defineProperty(t,"MobileWebPDFComponent",{enumerable:!0,get:function(){return a(o).default}});var r=n(1731);Object.defineProperty(t,"PageNavigationLayerComponent",{enumerable:!0,get:function(){return a(r).default}});var i=n(1734);function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"PageNavigationComponent",{enumerable:!0,get:function(){return a(i).default}})},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<?xml version="1.0" standalone="no"?><svg t="1589451362275" viewBox="-100 -100 1224 1224" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><defs><style type="text/css"></style></defs><path fill="',t+=(0,o.$escape)(e.fillColor),t+='" d="M997.888 70.144C686.592 261.12 460.8 502.272 358.912 623.104l-248.832-195.072-110.08 88.576 429.568 437.248c73.728-189.44 308.224-559.616 594.432-822.784l-26.112-60.928m0 0z"></path></svg>'}},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";var t="",n=(e=e||{}).small,r=o.$escape,i=e.fillColor;return t+='<?xml version="1.0" standalone="no"?><svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200">\r\n',0==n?(t+='\r\n<path stroke="',t+=r(i),t+='" d="M15 15 L185 185 M15 185 L185 15" style="stroke-width:12"></path></svg>\r\n'):(t+='\r\n<path stroke="',t+=r(i),t+='" d="M40 40 L160 160 M40 160 L160 40" style="stroke-width:30"></path></svg>\r\n'),t}},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<?xml version="1.0" standalone="no"?><svg t="1589451342686" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><defs><style type="text/css"></style></defs><path fill="',t+=(0,o.$escape)(e.fillColor),t+='" d="M512 69.479l442.498 442.498-442.498 442.498-442.498-442.498 442.498-442.498z"></path></svg>'}},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<?xml version="1.0" standalone="no"?><svg class="icon" viewBox="0 0 390 390" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200">  <rect height="270" width="270" y="60" x="60" fill="',t+=(0,o.$escape)(e.fillColor),t+='"/></svg>'}},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg viewBox="0 0 300 300"  width="300" height="300" xmlns="http://www.w3.org/2000/svg">\r\n  <circle cx="151" cy="151" r="85" fill="',t+=(0,o.$escape)(e.fillColor),t+='"/>\r\n</svg>'}},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg viewBox="0 0 400 400"  width="400" height="400" xmlns="http://www.w3.org/2000/svg">\r\n  <path id="svg_4" d="m30.75,155.65323l131.477663,0l40.627609,-124.90323l40.627633,124.90323l131.477639,0l-106.367469,77.193558l40.629712,124.90323l-106.367515,-77.19566l-106.367492,77.19566l40.629723,-124.90323l-106.367503,-77.193558z" fill="',t+=(0,o.$escape)(e.fillColor),t+='"/>\r\n</svg>'}},function(e,t,n){n(357),e.exports=n(809)},function(e,t,n){n(607),n(610),n(611),n(612),n(613),n(614),n(615),n(616),n(617),n(618),n(619),n(620),n(621),n(622),n(623),n(624),n(625),n(626),n(627),n(628),n(629),n(630),n(631),n(632),n(633),n(634),n(635),n(636),n(637),n(638),n(639),n(640),n(641),n(642),n(643),n(644),n(645),n(646),n(647),n(648),n(649),n(650),n(651),n(652),n(653),n(654),n(655),n(656),n(657),n(658),n(659),n(660),n(661),n(662),n(663),n(664),n(665),n(666),n(667),n(668),n(669),n(670),n(671),n(672),n(673),n(674),n(675),n(676),n(677),n(678),n(679),n(680),n(681),n(682),n(683),n(684),n(685),n(687),n(688),n(690),n(691),n(692),n(693),n(694),n(695),n(696),n(698),n(699),n(700),n(701),n(702),n(703),n(704),n(705),n(706),n(707),n(708),n(709),n(710),n(258),n(711),n(377),n(712),n(378),n(713),n(714),n(715),n(716),n(717),n(381),n(383),n(384),n(718),n(719),n(720),n(721),n(722),n(723),n(724),n(725),n(726),n(727),n(728),n(729),n(730),n(731),n(732),n(733),n(734),n(735),n(736),n(737),n(738),n(739),n(740),n(741),n(742),n(743),n(744),n(745),n(746),n(747),n(748),n(749),n(750),n(751),n(752),n(753),n(754),n(755),n(756),n(757),n(758),n(759),n(760),n(761),n(762),n(763),n(764),n(765),n(766),n(767),n(768),n(769),n(770),n(771),n(772),n(773),n(774),n(775),n(776),n(777),n(778),n(779),n(780),n(781),n(782),n(783),n(784),n(785),n(786),n(787),n(788),n(789),n(790),n(791),n(792),n(793),n(794),n(795),n(796),n(797),n(798),n(799),n(800),n(801),n(802),e.exports=n(87)},function(e,t,n){"use strict";var o=n(23),r=n(78),i=n(41),a=n(0),s=n(69),c=n(114).KEY,u=n(25),l=n(167),f=n(147),p=n(127),d=n(35),h=n(359),g=n(239),m=n(609),v=n(192),y=n(16),b=n(29),w=n(51),_=n(79),P=n(97),O=n(126),E=n(130),x=n(362),C=n(80),A=n(191),S=n(46),D=n(128),T=C.f,I=S.f,R=x.f,M=o.Symbol,j=o.JSON,k=j&&j.stringify,N=d("_hidden"),F=d("toPrimitive"),L={}.propertyIsEnumerable,V=l("symbol-registry"),B=l("symbols"),U=l("op-symbols"),H=Object.prototype,$="function"==typeof M&&!!A.f,W=o.QObject,q=!W||!W.prototype||!W.prototype.findChild,z=i&&u((function(){return 7!=E(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a}))?function(e,t,n){var o=T(H,t);o&&delete H[t],I(e,t,n),o&&e!==H&&I(H,t,o)}:I,G=function(e){var t=B[e]=E(M.prototype);return t._k=e,t},Y=$&&"symbol"==typeof M.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof M},K=function(e,t,n){return e===H&&K(U,t,n),y(e),t=P(t,!0),y(n),r(B,t)?(n.enumerable?(r(e,N)&&e[N][t]&&(e[N][t]=!1),n=E(n,{enumerable:O(0,!1)})):(r(e,N)||I(e,N,O(1,{})),e[N][t]=!0),z(e,t,n)):I(e,t,n)},X=function(e,t){y(e);for(var n,o=m(t=_(t)),r=0,i=o.length;i>r;)K(e,n=o[r++],t[n]);return e},J=function(e){var t=L.call(this,e=P(e,!0));return!(this===H&&r(B,e)&&!r(U,e))&&(!(t||!r(this,e)||!r(B,e)||r(this,N)&&this[N][e])||t)},Z=function(e,t){if(e=_(e),t=P(t,!0),e!==H||!r(B,t)||r(U,t)){var n=T(e,t);return!n||!r(B,t)||r(e,N)&&e[N][t]||(n.enumerable=!0),n}},Q=function(e){for(var t,n=R(_(e)),o=[],i=0;n.length>i;)r(B,t=n[i++])||t==N||t==c||o.push(t);return o},ee=function(e){for(var t,n=e===H,o=R(n?U:_(e)),i=[],a=0;o.length>a;)!r(B,t=o[a++])||n&&!r(H,t)||i.push(B[t]);return i};$||(s((M=function(){if(this instanceof M)throw TypeError("Symbol is not a constructor!");var e=p(arguments.length>0?arguments[0]:void 0),t=function(n){this===H&&t.call(U,n),r(this,N)&&r(this[N],e)&&(this[N][e]=!1),z(this,e,O(1,n))};return i&&q&&z(H,e,{configurable:!0,set:t}),G(e)}).prototype,"toString",(function(){return this._k})),C.f=Z,S.f=K,n(131).f=x.f=Q,n(169).f=J,A.f=ee,i&&!n(113)&&s(H,"propertyIsEnumerable",J,!0),h.f=function(e){return G(d(e))}),a(a.G+a.W+a.F*!$,{Symbol:M});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)d(te[ne++]);for(var oe=D(d.store),re=0;oe.length>re;)g(oe[re++]);a(a.S+a.F*!$,"Symbol",{for:function(e){return r(V,e+="")?V[e]:V[e]=M(e)},keyFor:function(e){if(!Y(e))throw TypeError(e+" is not a symbol!");for(var t in V)if(V[t]===e)return t},useSetter:function(){q=!0},useSimple:function(){q=!1}}),a(a.S+a.F*!$,"Object",{create:function(e,t){return void 0===t?E(e):X(E(e),t)},defineProperty:K,defineProperties:X,getOwnPropertyDescriptor:Z,getOwnPropertyNames:Q,getOwnPropertySymbols:ee});var ie=u((function(){A.f(1)}));a(a.S+a.F*ie,"Object",{getOwnPropertySymbols:function(e){return A.f(w(e))}}),j&&a(a.S+a.F*(!$||u((function(){var e=M();return"[null]"!=k([e])||"{}"!=k({a:e})||"{}"!=k(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,o=[e],r=1;arguments.length>r;)o.push(arguments[r++]);if(n=t=o[1],(b(t)||void 0!==e)&&!Y(e))return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!Y(t))return t}),o[1]=t,k.apply(j,o)}}),M.prototype[F]||n(68)(M.prototype,F,M.prototype.valueOf),f(M,"Symbol"),f(Math,"Math",!0),f(o.JSON,"JSON",!0)},function(e,t,n){e.exports=n(167)("native-function-to-string",Function.toString)},function(e,t,n){var o=n(128),r=n(191),i=n(169);e.exports=function(e){var t=o(e),n=r.f;if(n)for(var a,s=n(e),c=i.f,u=0;s.length>u;)c.call(e,a=s[u++])&&t.push(a);return t}},function(e,t,n){var o=n(0);o(o.S,"Object",{create:n(130)})},function(e,t,n){var o=n(0);o(o.S+o.F*!n(41),"Object",{defineProperty:n(46).f})},function(e,t,n){var o=n(0);o(o.S+o.F*!n(41),"Object",{defineProperties:n(361)})},function(e,t,n){var o=n(79),r=n(80).f;n(99)("getOwnPropertyDescriptor",(function(){return function(e,t){return r(o(e),t)}}))},function(e,t,n){var o=n(51),r=n(81);n(99)("getPrototypeOf",(function(){return function(e){return r(o(e))}}))},function(e,t,n){var o=n(51),r=n(128);n(99)("keys",(function(){return function(e){return r(o(e))}}))},function(e,t,n){n(99)("getOwnPropertyNames",(function(){return n(362).f}))},function(e,t,n){var o=n(29),r=n(114).onFreeze;n(99)("freeze",(function(e){return function(t){return e&&o(t)?e(r(t)):t}}))},function(e,t,n){var o=n(29),r=n(114).onFreeze;n(99)("seal",(function(e){return function(t){return e&&o(t)?e(r(t)):t}}))},function(e,t,n){var o=n(29),r=n(114).onFreeze;n(99)("preventExtensions",(function(e){return function(t){return e&&o(t)?e(r(t)):t}}))},function(e,t,n){var o=n(29);n(99)("isFrozen",(function(e){return function(t){return!o(t)||!!e&&e(t)}}))},function(e,t,n){var o=n(29);n(99)("isSealed",(function(e){return function(t){return!o(t)||!!e&&e(t)}}))},function(e,t,n){var o=n(29);n(99)("isExtensible",(function(e){return function(t){return!!o(t)&&(!e||e(t))}}))},function(e,t,n){var o=n(0);o(o.S+o.F,"Object",{assign:n(363)})},function(e,t,n){var o=n(0);o(o.S,"Object",{is:n(364)})},function(e,t,n){var o=n(0);o(o.S,"Object",{setPrototypeOf:n(243).set})},function(e,t,n){"use strict";var o=n(148),r={};r[n(35)("toStringTag")]="z",r+""!="[object z]"&&n(69)(Object.prototype,"toString",(function(){return"[object "+o(this)+"]"}),!0)},function(e,t,n){var o=n(0);o(o.P,"Function",{bind:n(365)})},function(e,t,n){var o=n(46).f,r=Function.prototype,i=/^\s*function ([^ (]*)/;"name"in r||n(41)&&o(r,"name",{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(e){return""}}})},function(e,t,n){"use strict";var o=n(29),r=n(81),i=n(35)("hasInstance"),a=Function.prototype;i in a||n(46).f(a,i,{value:function(e){if("function"!=typeof this||!o(e))return!1;if(!o(this.prototype))return e instanceof this;for(;e=r(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,n){var o=n(0),r=n(367);o(o.G+o.F*(parseInt!=r),{parseInt:r})},function(e,t,n){var o=n(0),r=n(368);o(o.G+o.F*(parseFloat!=r),{parseFloat:r})},function(e,t,n){"use strict";var o=n(23),r=n(78),i=n(89),a=n(245),s=n(97),c=n(25),u=n(131).f,l=n(80).f,f=n(46).f,p=n(149).trim,d=o.Number,h=d,g=d.prototype,m="Number"==i(n(130)(g)),v="trim"in String.prototype,y=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){var n,o,r,i=(t=v?t.trim():p(t,3)).charCodeAt(0);if(43===i||45===i){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===i){switch(t.charCodeAt(1)){case 66:case 98:o=2,r=49;break;case 79:case 111:o=8,r=55;break;default:return+t}for(var a,c=t.slice(2),u=0,l=c.length;u<l;u++)if((a=c.charCodeAt(u))<48||a>r)return NaN;return parseInt(c,o)}}return+t};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof d&&(m?c((function(){g.valueOf.call(n)})):"Number"!=i(n))?a(new h(y(t)),n,d):y(t)};for(var b,w=n(41)?u(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),_=0;w.length>_;_++)r(h,b=w[_])&&!r(d,b)&&f(d,b,l(h,b));d.prototype=g,g.constructor=d,n(69)(o,"Number",d)}},function(e,t,n){"use strict";var o=n(0),r=n(90),i=n(369),a=n(246),s=1..toFixed,c=Math.floor,u=[0,0,0,0,0,0],l="Number.toFixed: incorrect invocation!",f=function(e,t){for(var n=-1,o=t;++n<6;)o+=e*u[n],u[n]=o%1e7,o=c(o/1e7)},p=function(e){for(var t=6,n=0;--t>=0;)n+=u[t],u[t]=c(n/e),n=n%e*1e7},d=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==u[e]){var n=String(u[e]);t=""===t?n:t+a.call("0",7-n.length)+n}return t},h=function(e,t,n){return 0===t?n:t%2==1?h(e,t-1,n*e):h(e*e,t/2,n)};o(o.P+o.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(25)((function(){s.call({})}))),"Number",{toFixed:function(e){var t,n,o,s,c=i(this,l),u=r(e),g="",m="0";if(u<0||u>20)throw RangeError(l);if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(g="-",c=-c),c>1e-21)if(n=(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(c*h(2,69,1))-69)<0?c*h(2,-t,1):c/h(2,t,1),n*=4503599627370496,(t=52-t)>0){for(f(0,n),o=u;o>=7;)f(1e7,0),o-=7;for(f(h(10,o,1),0),o=t-1;o>=23;)p(1<<23),o-=23;p(1<<o),f(1,1),p(2),m=d()}else f(0,n),f(1<<-t,0),m=d()+a.call("0",u);return m=u>0?g+((s=m.length)<=u?"0."+a.call("0",u-s)+m:m.slice(0,s-u)+"."+m.slice(s-u)):g+m}})},function(e,t,n){"use strict";var o=n(0),r=n(25),i=n(369),a=1..toPrecision;o(o.P+o.F*(r((function(){return"1"!==a.call(1,void 0)}))||!r((function(){a.call({})}))),"Number",{toPrecision:function(e){var t=i(this,"Number#toPrecision: incorrect invocation!");return void 0===e?a.call(t):a.call(t,e)}})},function(e,t,n){var o=n(0);o(o.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,n){var o=n(0),r=n(23).isFinite;o(o.S,"Number",{isFinite:function(e){return"number"==typeof e&&r(e)}})},function(e,t,n){var o=n(0);o(o.S,"Number",{isInteger:n(370)})},function(e,t,n){var o=n(0);o(o.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,n){var o=n(0),r=n(370),i=Math.abs;o(o.S,"Number",{isSafeInteger:function(e){return r(e)&&i(e)<=9007199254740991}})},function(e,t,n){var o=n(0);o(o.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){var o=n(0);o(o.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){var o=n(0),r=n(368);o(o.S+o.F*(Number.parseFloat!=r),"Number",{parseFloat:r})},function(e,t,n){var o=n(0),r=n(367);o(o.S+o.F*(Number.parseInt!=r),"Number",{parseInt:r})},function(e,t,n){var o=n(0),r=n(371),i=Math.sqrt,a=Math.acosh;o(o.S+o.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:r(e-1+i(e-1)*i(e+1))}})},function(e,t,n){var o=n(0),r=Math.asinh;o(o.S+o.F*!(r&&1/r(0)>0),"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},function(e,t,n){var o=n(0),r=Math.atanh;o(o.S+o.F*!(r&&1/r(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,t,n){var o=n(0),r=n(247);o(o.S,"Math",{cbrt:function(e){return r(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e,t,n){var o=n(0);o(o.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,n){var o=n(0),r=Math.exp;o(o.S,"Math",{cosh:function(e){return(r(e=+e)+r(-e))/2}})},function(e,t,n){var o=n(0),r=n(248);o(o.S+o.F*(r!=Math.expm1),"Math",{expm1:r})},function(e,t,n){var o=n(0);o(o.S,"Math",{fround:n(372)})},function(e,t,n){var o=n(0),r=Math.abs;o(o.S,"Math",{hypot:function(e,t){for(var n,o,i=0,a=0,s=arguments.length,c=0;a<s;)c<(n=r(arguments[a++]))?(i=i*(o=c/n)*o+1,c=n):i+=n>0?(o=n/c)*o:n;return c===1/0?1/0:c*Math.sqrt(i)}})},function(e,t,n){var o=n(0),r=Math.imul;o(o.S+o.F*n(25)((function(){return-5!=r(4294967295,5)||2!=r.length})),"Math",{imul:function(e,t){var n=+e,o=+t,r=65535&n,i=65535&o;return 0|r*i+((65535&n>>>16)*i+r*(65535&o>>>16)<<16>>>0)}})},function(e,t,n){var o=n(0);o(o.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},function(e,t,n){var o=n(0);o(o.S,"Math",{log1p:n(371)})},function(e,t,n){var o=n(0);o(o.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,n){var o=n(0);o(o.S,"Math",{sign:n(247)})},function(e,t,n){var o=n(0),r=n(248),i=Math.exp;o(o.S+o.F*n(25)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(r(e)-r(-e))/2:(i(e-1)-i(-e-1))*(Math.E/2)}})},function(e,t,n){var o=n(0),r=n(248),i=Math.exp;o(o.S,"Math",{tanh:function(e){var t=r(e=+e),n=r(-e);return t==1/0?1:n==1/0?-1:(t-n)/(i(e)+i(-e))}})},function(e,t,n){var o=n(0);o(o.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},function(e,t,n){var o=n(0),r=n(129),i=String.fromCharCode,a=String.fromCodePoint;o(o.S+o.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(e){for(var t,n=[],o=arguments.length,a=0;o>a;){if(t=+arguments[a++],r(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?i(t):i(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},function(e,t,n){var o=n(0),r=n(79),i=n(37);o(o.S,"String",{raw:function(e){for(var t=r(e.raw),n=i(t.length),o=arguments.length,a=[],s=0;n>s;)a.push(String(t[s++])),s<o&&a.push(String(arguments[s]));return a.join("")}})},function(e,t,n){"use strict";n(149)("trim",(function(e){return function(){return e(this,3)}}))},function(e,t,n){"use strict";var o=n(193)(!0);n(249)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=o(t,n),this._i+=e.length,{value:e,done:!1})}))},function(e,t,n){"use strict";var o=n(0),r=n(193)(!1);o(o.P,"String",{codePointAt:function(e){return r(this,e)}})},function(e,t,n){"use strict";var o=n(0),r=n(37),i=n(251),a="".endsWith;o(o.P+o.F*n(252)("endsWith"),"String",{endsWith:function(e){var t=i(this,e,"endsWith"),n=arguments.length>1?arguments[1]:void 0,o=r(t.length),s=void 0===n?o:Math.min(r(n),o),c=String(e);return a?a.call(t,c,s):t.slice(s-c.length,s)===c}})},function(e,t,n){"use strict";var o=n(0),r=n(251);o(o.P+o.F*n(252)("includes"),"String",{includes:function(e){return!!~r(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var o=n(0);o(o.P,"String",{repeat:n(246)})},function(e,t,n){"use strict";var o=n(0),r=n(37),i=n(251),a="".startsWith;o(o.P+o.F*n(252)("startsWith"),"String",{startsWith:function(e){var t=i(this,e,"startsWith"),n=r(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),o=String(e);return a?a.call(t,o,n):t.slice(n,n+o.length)===o}})},function(e,t,n){"use strict";n(70)("anchor",(function(e){return function(t){return e(this,"a","name",t)}}))},function(e,t,n){"use strict";n(70)("big",(function(e){return function(){return e(this,"big","","")}}))},function(e,t,n){"use strict";n(70)("blink",(function(e){return function(){return e(this,"blink","","")}}))},function(e,t,n){"use strict";n(70)("bold",(function(e){return function(){return e(this,"b","","")}}))},function(e,t,n){"use strict";n(70)("fixed",(function(e){return function(){return e(this,"tt","","")}}))},function(e,t,n){"use strict";n(70)("fontcolor",(function(e){return function(t){return e(this,"font","color",t)}}))},function(e,t,n){"use strict";n(70)("fontsize",(function(e){return function(t){return e(this,"font","size",t)}}))},function(e,t,n){"use strict";n(70)("italics",(function(e){return function(){return e(this,"i","","")}}))},function(e,t,n){"use strict";n(70)("link",(function(e){return function(t){return e(this,"a","href",t)}}))},function(e,t,n){"use strict";n(70)("small",(function(e){return function(){return e(this,"small","","")}}))},function(e,t,n){"use strict";n(70)("strike",(function(e){return function(){return e(this,"strike","","")}}))},function(e,t,n){"use strict";n(70)("sub",(function(e){return function(){return e(this,"sub","","")}}))},function(e,t,n){"use strict";n(70)("sup",(function(e){return function(){return e(this,"sup","","")}}))},function(e,t,n){var o=n(0);o(o.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,t,n){"use strict";var o=n(0),r=n(51),i=n(97);o(o.P+o.F*n(25)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(e){var t=r(this),n=i(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},function(e,t,n){var o=n(0),r=n(686);o(o.P+o.F*(Date.prototype.toISOString!==r),"Date",{toISOString:r})},function(e,t,n){"use strict";var o=n(25),r=Date.prototype.getTime,i=Date.prototype.toISOString,a=function(e){return e>9?e:"0"+e};e.exports=o((function(){return"0385-07-25T07:06:39.999Z"!=i.call(new Date(-50000000000001))}))||!o((function(){i.call(new Date(NaN))}))?function(){if(!isFinite(r.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),o=t<0?"-":t>9999?"+":"";return o+("00000"+Math.abs(t)).slice(o?-6:-4)+"-"+a(e.getUTCMonth()+1)+"-"+a(e.getUTCDate())+"T"+a(e.getUTCHours())+":"+a(e.getUTCMinutes())+":"+a(e.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}:i},function(e,t,n){var o=Date.prototype,r=o.toString,i=o.getTime;new Date(NaN)+""!="Invalid Date"&&n(69)(o,"toString",(function(){var e=i.call(this);return e==e?r.call(this):"Invalid Date"}))},function(e,t,n){var o=n(35)("toPrimitive"),r=Date.prototype;o in r||n(68)(r,o,n(689))},function(e,t,n){"use strict";var o=n(16),r=n(97);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return r(o(this),"number"!=e)}},function(e,t,n){var o=n(0);o(o.S,"Array",{isArray:n(192)})},function(e,t,n){"use strict";var o=n(88),r=n(0),i=n(51),a=n(373),s=n(253),c=n(37),u=n(254),l=n(255);r(r.S+r.F*!n(195)((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,r,f,p=i(e),d="function"==typeof this?this:Array,h=arguments.length,g=h>1?arguments[1]:void 0,m=void 0!==g,v=0,y=l(p);if(m&&(g=o(g,h>2?arguments[2]:void 0,2)),null==y||d==Array&&s(y))for(n=new d(t=c(p.length));t>v;v++)u(n,v,m?g(p[v],v):p[v]);else for(f=y.call(p),n=new d;!(r=f.next()).done;v++)u(n,v,m?a(f,g,[r.value,v],!0):r.value);return n.length=v,n}})},function(e,t,n){"use strict";var o=n(0),r=n(254);o(o.S+o.F*n(25)((function(){function e(){}return!(Array.of.call(e)instanceof e)})),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)r(n,e,arguments[e++]);return n.length=t,n}})},function(e,t,n){"use strict";var o=n(0),r=n(79),i=[].join;o(o.P+o.F*(n(168)!=Object||!n(91)(i)),"Array",{join:function(e){return i.call(r(this),void 0===e?",":e)}})},function(e,t,n){"use strict";var o=n(0),r=n(242),i=n(89),a=n(129),s=n(37),c=[].slice;o(o.P+o.F*n(25)((function(){r&&c.call(r)})),"Array",{slice:function(e,t){var n=s(this.length),o=i(this);if(t=void 0===t?n:t,"Array"==o)return c.call(this,e,t);for(var r=a(e,n),u=a(t,n),l=s(u-r),f=new Array(l),p=0;p<l;p++)f[p]="String"==o?this.charAt(r+p):this[r+p];return f}})},function(e,t,n){"use strict";var o=n(0),r=n(62),i=n(51),a=n(25),s=[].sort,c=[1,2,3];o(o.P+o.F*(a((function(){c.sort(void 0)}))||!a((function(){c.sort(null)}))||!n(91)(s)),"Array",{sort:function(e){return void 0===e?s.call(i(this)):s.call(i(this),r(e))}})},function(e,t,n){"use strict";var o=n(0),r=n(100)(0),i=n(91)([].forEach,!0);o(o.P+o.F*!i,"Array",{forEach:function(e){return r(this,e,arguments[1])}})},function(e,t,n){var o=n(29),r=n(192),i=n(35)("species");e.exports=function(e){var t;return r(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!r(t.prototype)||(t=void 0),o(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){"use strict";var o=n(0),r=n(100)(1);o(o.P+o.F*!n(91)([].map,!0),"Array",{map:function(e){return r(this,e,arguments[1])}})},function(e,t,n){"use strict";var o=n(0),r=n(100)(2);o(o.P+o.F*!n(91)([].filter,!0),"Array",{filter:function(e){return r(this,e,arguments[1])}})},function(e,t,n){"use strict";var o=n(0),r=n(100)(3);o(o.P+o.F*!n(91)([].some,!0),"Array",{some:function(e){return r(this,e,arguments[1])}})},function(e,t,n){"use strict";var o=n(0),r=n(100)(4);o(o.P+o.F*!n(91)([].every,!0),"Array",{every:function(e){return r(this,e,arguments[1])}})},function(e,t,n){"use strict";var o=n(0),r=n(374);o(o.P+o.F*!n(91)([].reduce,!0),"Array",{reduce:function(e){return r(this,e,arguments.length,arguments[1],!1)}})},function(e,t,n){"use strict";var o=n(0),r=n(374);o(o.P+o.F*!n(91)([].reduceRight,!0),"Array",{reduceRight:function(e){return r(this,e,arguments.length,arguments[1],!0)}})},function(e,t,n){"use strict";var o=n(0),r=n(190)(!1),i=[].indexOf,a=!!i&&1/[1].indexOf(1,-0)<0;o(o.P+o.F*(a||!n(91)(i)),"Array",{indexOf:function(e){return a?i.apply(this,arguments)||0:r(this,e,arguments[1])}})},function(e,t,n){"use strict";var o=n(0),r=n(79),i=n(90),a=n(37),s=[].lastIndexOf,c=!!s&&1/[1].lastIndexOf(1,-0)<0;o(o.P+o.F*(c||!n(91)(s)),"Array",{lastIndexOf:function(e){if(c)return s.apply(this,arguments)||0;var t=r(this),n=a(t.length),o=n-1;for(arguments.length>1&&(o=Math.min(o,i(arguments[1]))),o<0&&(o=n+o);o>=0;o--)if(o in t&&t[o]===e)return o||0;return-1}})},function(e,t,n){var o=n(0);o(o.P,"Array",{copyWithin:n(375)}),n(115)("copyWithin")},function(e,t,n){var o=n(0);o(o.P,"Array",{fill:n(257)}),n(115)("fill")},function(e,t,n){"use strict";var o=n(0),r=n(100)(5),i=!0;"find"in[]&&Array(1).find((function(){i=!1})),o(o.P+o.F*i,"Array",{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n(115)("find")},function(e,t,n){"use strict";var o=n(0),r=n(100)(6),i="findIndex",a=!0;i in[]&&Array(1)[i]((function(){a=!1})),o(o.P+o.F*a,"Array",{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n(115)(i)},function(e,t,n){n(132)("Array")},function(e,t,n){var o=n(23),r=n(245),i=n(46).f,a=n(131).f,s=n(194),c=n(170),u=o.RegExp,l=u,f=u.prototype,p=/a/g,d=/a/g,h=new u(p)!==p;if(n(41)&&(!h||n(25)((function(){return d[n(35)("match")]=!1,u(p)!=p||u(d)==d||"/a/i"!=u(p,"i")})))){u=function(e,t){var n=this instanceof u,o=s(e),i=void 0===t;return!n&&o&&e.constructor===u&&i?e:r(h?new l(o&&!i?e.source:e,t):l((o=e instanceof u)?e.source:e,o&&i?c.call(e):t),n?this:f,u)};for(var g=function(e){e in u||i(u,e,{configurable:!0,get:function(){return l[e]},set:function(t){l[e]=t}})},m=a(l),v=0;m.length>v;)g(m[v++]);f.constructor=u,u.prototype=f,n(69)(o,"RegExp",u)}n(132)("RegExp")},function(e,t,n){"use strict";n(378);var o=n(16),r=n(170),i=n(41),a=/./.toString,s=function(e){n(69)(RegExp.prototype,"toString",e,!0)};n(25)((function(){return"/a/b"!=a.call({source:"a",flags:"b"})}))?s((function(){var e=o(this);return"/".concat(e.source,"/","flags"in e?e.flags:!i&&e instanceof RegExp?r.call(e):void 0)})):"toString"!=a.name&&s((function(){return a.call(this)}))},function(e,t,n){"use strict";var o=n(16),r=n(37),i=n(260),a=n(196);n(197)("match",1,(function(e,t,n,s){return[function(n){var o=e(this),r=null==n?void 0:n[t];return void 0!==r?r.call(n,o):new RegExp(n)[t](String(o))},function(e){var t=s(n,e,this);if(t.done)return t.value;var c=o(e),u=String(this);if(!c.global)return a(c,u);var l=c.unicode;c.lastIndex=0;for(var f,p=[],d=0;null!==(f=a(c,u));){var h=String(f[0]);p[d]=h,""===h&&(c.lastIndex=i(u,r(c.lastIndex),l)),d++}return 0===d?null:p}]}))},function(e,t,n){"use strict";var o=n(16),r=n(51),i=n(37),a=n(90),s=n(260),c=n(196),u=Math.max,l=Math.min,f=Math.floor,p=/\$([$&`']|\d\d?|<[^>]*>)/g,d=/\$([$&`']|\d\d?)/g;n(197)("replace",2,(function(e,t,n,h){return[function(o,r){var i=e(this),a=null==o?void 0:o[t];return void 0!==a?a.call(o,i,r):n.call(String(i),o,r)},function(e,t){var r=h(n,e,this,t);if(r.done)return r.value;var f=o(e),p=String(this),d="function"==typeof t;d||(t=String(t));var m=f.global;if(m){var v=f.unicode;f.lastIndex=0}for(var y=[];;){var b=c(f,p);if(null===b)break;if(y.push(b),!m)break;""===String(b[0])&&(f.lastIndex=s(p,i(f.lastIndex),v))}for(var w,_="",P=0,O=0;O<y.length;O++){b=y[O];for(var E=String(b[0]),x=u(l(a(b.index),p.length),0),C=[],A=1;A<b.length;A++)C.push(void 0===(w=b[A])?w:String(w));var S=b.groups;if(d){var D=[E].concat(C,x,p);void 0!==S&&D.push(S);var T=String(t.apply(void 0,D))}else T=g(E,p,x,C,S,t);x>=P&&(_+=p.slice(P,x)+T,P=x+E.length)}return _+p.slice(P)}];function g(e,t,o,i,a,s){var c=o+e.length,u=i.length,l=d;return void 0!==a&&(a=r(a),l=p),n.call(s,l,(function(n,r){var s;switch(r.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,o);case"'":return t.slice(c);case"<":s=a[r.slice(1,-1)];break;default:var l=+r;if(0===l)return n;if(l>u){var p=f(l/10);return 0===p?n:p<=u?void 0===i[p-1]?r.charAt(1):i[p-1]+r.charAt(1):n}s=i[l-1]}return void 0===s?"":s}))}}))},function(e,t,n){"use strict";var o=n(16),r=n(364),i=n(196);n(197)("search",1,(function(e,t,n,a){return[function(n){var o=e(this),r=null==n?void 0:n[t];return void 0!==r?r.call(n,o):new RegExp(n)[t](String(o))},function(e){var t=a(n,e,this);if(t.done)return t.value;var s=o(e),c=String(this),u=s.lastIndex;r(u,0)||(s.lastIndex=0);var l=i(s,c);return r(s.lastIndex,u)||(s.lastIndex=u),null===l?-1:l.index}]}))},function(e,t,n){"use strict";var o=n(194),r=n(16),i=n(171),a=n(260),s=n(37),c=n(196),u=n(259),l=n(25),f=Math.min,p=[].push,d="length",h=!l((function(){RegExp(4294967295,"y")}));n(197)("split",2,(function(e,t,n,l){var g;return g="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[d]||2!="ab".split(/(?:ab)*/)[d]||4!=".".split(/(.?)(.?)/)[d]||".".split(/()()/)[d]>1||"".split(/.?/)[d]?function(e,t){var r=String(this);if(void 0===e&&0===t)return[];if(!o(e))return n.call(r,e,t);for(var i,a,s,c=[],l=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,h=void 0===t?4294967295:t>>>0,g=new RegExp(e.source,l+"g");(i=u.call(g,r))&&!((a=g.lastIndex)>f&&(c.push(r.slice(f,i.index)),i[d]>1&&i.index<r[d]&&p.apply(c,i.slice(1)),s=i[0][d],f=a,c[d]>=h));)g.lastIndex===i.index&&g.lastIndex++;return f===r[d]?!s&&g.test("")||c.push(""):c.push(r.slice(f)),c[d]>h?c.slice(0,h):c}:"0".split(void 0,0)[d]?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,o){var r=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,r,o):g.call(String(r),n,o)},function(e,t){var o=l(g,e,this,t,g!==n);if(o.done)return o.value;var u=r(e),p=String(this),d=i(u,RegExp),m=u.unicode,v=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(h?"y":"g"),y=new d(h?u:"^(?:"+u.source+")",v),b=void 0===t?4294967295:t>>>0;if(0===b)return[];if(0===p.length)return null===c(y,p)?[p]:[];for(var w=0,_=0,P=[];_<p.length;){y.lastIndex=h?_:0;var O,E=c(y,h?p:p.slice(_));if(null===E||(O=f(s(y.lastIndex+(h?0:_)),p.length))===w)_=a(p,_,m);else{if(P.push(p.slice(w,_)),P.length===b)return P;for(var x=1;x<=E.length-1;x++)if(P.push(E[x]),P.length===b)return P;_=w=O}}return P.push(p.slice(w)),P}]}))},function(e,t,n){"use strict";var o,r,i,a,s=n(113),c=n(23),u=n(88),l=n(148),f=n(0),p=n(29),d=n(62),h=n(133),g=n(134),m=n(171),v=n(261).set,y=n(262)(),b=n(263),w=n(379),_=n(198),P=n(380),O=c.TypeError,E=c.process,x=E&&E.versions,C=x&&x.v8||"",A=c.Promise,S="process"==l(E),D=function(){},T=r=b.f,I=!!function(){try{var e=A.resolve(1),t=(e.constructor={})[n(35)("species")]=function(e){e(D,D)};return(S||"function"==typeof PromiseRejectionEvent)&&e.then(D)instanceof t&&0!==C.indexOf("6.6")&&-1===_.indexOf("Chrome/66")}catch(e){}}(),R=function(e){var t;return!(!p(e)||"function"!=typeof(t=e.then))&&t},M=function(e,t){if(!e._n){e._n=!0;var n=e._c;y((function(){for(var o=e._v,r=1==e._s,i=0,a=function(t){var n,i,a,s=r?t.ok:t.fail,c=t.resolve,u=t.reject,l=t.domain;try{s?(r||(2==e._h&&N(e),e._h=1),!0===s?n=o:(l&&l.enter(),n=s(o),l&&(l.exit(),a=!0)),n===t.promise?u(O("Promise-chain cycle")):(i=R(n))?i.call(n,c,u):c(n)):u(o)}catch(e){l&&!a&&l.exit(),u(e)}};n.length>i;)a(n[i++]);e._c=[],e._n=!1,t&&!e._h&&j(e)}))}},j=function(e){v.call(c,(function(){var t,n,o,r=e._v,i=k(e);if(i&&(t=w((function(){S?E.emit("unhandledRejection",r,e):(n=c.onunhandledrejection)?n({promise:e,reason:r}):(o=c.console)&&o.error&&o.error("Unhandled promise rejection",r)})),e._h=S||k(e)?2:1),e._a=void 0,i&&t.e)throw t.v}))},k=function(e){return 1!==e._h&&0===(e._a||e._c).length},N=function(e){v.call(c,(function(){var t;S?E.emit("rejectionHandled",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})}))},F=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),M(t,!0))},L=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw O("Promise can't be resolved itself");(t=R(e))?y((function(){var o={_w:n,_d:!1};try{t.call(e,u(L,o,1),u(F,o,1))}catch(e){F.call(o,e)}})):(n._v=e,n._s=1,M(n,!1))}catch(e){F.call({_w:n,_d:!1},e)}}};I||(A=function(e){h(this,A,"Promise","_h"),d(e),o.call(this);try{e(u(L,this,1),u(F,this,1))}catch(e){F.call(this,e)}},(o=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(135)(A.prototype,{then:function(e,t){var n=T(m(this,A));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=S?E.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&M(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new o;this.promise=e,this.resolve=u(L,e,1),this.reject=u(F,e,1)},b.f=T=function(e){return e===A||e===a?new i(e):r(e)}),f(f.G+f.W+f.F*!I,{Promise:A}),n(147)(A,"Promise"),n(132)("Promise"),a=n(87).Promise,f(f.S+f.F*!I,"Promise",{reject:function(e){var t=T(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(s||!I),"Promise",{resolve:function(e){return P(s&&this===a?A:this,e)}}),f(f.S+f.F*!(I&&n(195)((function(e){A.all(e).catch(D)}))),"Promise",{all:function(e){var t=this,n=T(t),o=n.resolve,r=n.reject,i=w((function(){var n=[],i=0,a=1;g(e,!1,(function(e){var s=i++,c=!1;n.push(void 0),a++,t.resolve(e).then((function(e){c||(c=!0,n[s]=e,--a||o(n))}),r)})),--a||o(n)}));return i.e&&r(i.v),n.promise},race:function(e){var t=this,n=T(t),o=n.reject,r=w((function(){g(e,!1,(function(e){t.resolve(e).then(n.resolve,o)}))}));return r.e&&o(r.v),n.promise}})},function(e,t,n){"use strict";var o=n(385),r=n(136);n(199)("WeakSet",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return o.def(r(this,"WeakSet"),e,!0)}},o,!1,!0)},function(e,t,n){"use strict";var o=n(0),r=n(200),i=n(264),a=n(16),s=n(129),c=n(37),u=n(29),l=n(23).ArrayBuffer,f=n(171),p=i.ArrayBuffer,d=i.DataView,h=r.ABV&&l.isView,g=p.prototype.slice,m=r.VIEW;o(o.G+o.W+o.F*(l!==p),{ArrayBuffer:p}),o(o.S+o.F*!r.CONSTR,"ArrayBuffer",{isView:function(e){return h&&h(e)||u(e)&&m in e}}),o(o.P+o.U+o.F*n(25)((function(){return!new p(2).slice(1,void 0).byteLength})),"ArrayBuffer",{slice:function(e,t){if(void 0!==g&&void 0===t)return g.call(a(this),e);for(var n=a(this).byteLength,o=s(e,n),r=s(void 0===t?n:t,n),i=new(f(this,p))(c(r-o)),u=new d(this),l=new d(i),h=0;o<r;)l.setUint8(h++,u.getUint8(o++));return i}}),n(132)("ArrayBuffer")},function(e,t,n){var o=n(0);o(o.G+o.W+o.F*!n(200).ABV,{DataView:n(264).DataView})},function(e,t,n){n(106)("Int8",1,(function(e){return function(t,n,o){return e(this,t,n,o)}}))},function(e,t,n){n(106)("Uint8",1,(function(e){return function(t,n,o){return e(this,t,n,o)}}))},function(e,t,n){n(106)("Uint8",1,(function(e){return function(t,n,o){return e(this,t,n,o)}}),!0)},function(e,t,n){n(106)("Int16",2,(function(e){return function(t,n,o){return e(this,t,n,o)}}))},function(e,t,n){n(106)("Uint16",2,(function(e){return function(t,n,o){return e(this,t,n,o)}}))},function(e,t,n){n(106)("Int32",4,(function(e){return function(t,n,o){return e(this,t,n,o)}}))},function(e,t,n){n(106)("Uint32",4,(function(e){return function(t,n,o){return e(this,t,n,o)}}))},function(e,t,n){n(106)("Float32",4,(function(e){return function(t,n,o){return e(this,t,n,o)}}))},function(e,t,n){n(106)("Float64",8,(function(e){return function(t,n,o){return e(this,t,n,o)}}))},function(e,t,n){var o=n(0),r=n(62),i=n(16),a=(n(23).Reflect||{}).apply,s=Function.apply;o(o.S+o.F*!n(25)((function(){a((function(){}))})),"Reflect",{apply:function(e,t,n){var o=r(e),c=i(n);return a?a(o,t,c):s.call(o,t,c)}})},function(e,t,n){var o=n(0),r=n(130),i=n(62),a=n(16),s=n(29),c=n(25),u=n(365),l=(n(23).Reflect||{}).construct,f=c((function(){function e(){}return!(l((function(){}),[],e)instanceof e)})),p=!c((function(){l((function(){}))}));o(o.S+o.F*(f||p),"Reflect",{construct:function(e,t){i(e),a(t);var n=arguments.length<3?e:i(arguments[2]);if(p&&!f)return l(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var o=[null];return o.push.apply(o,t),new(u.apply(e,o))}var c=n.prototype,d=r(s(c)?c:Object.prototype),h=Function.apply.call(e,d,t);return s(h)?h:d}})},function(e,t,n){var o=n(46),r=n(0),i=n(16),a=n(97);r(r.S+r.F*n(25)((function(){Reflect.defineProperty(o.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(e,t,n){i(e),t=a(t,!0),i(n);try{return o.f(e,t,n),!0}catch(e){return!1}}})},function(e,t,n){var o=n(0),r=n(80).f,i=n(16);o(o.S,"Reflect",{deleteProperty:function(e,t){var n=r(i(e),t);return!(n&&!n.configurable)&&delete e[t]}})},function(e,t,n){"use strict";var o=n(0),r=n(16),i=function(e){this._t=r(e),this._i=0;var t,n=this._k=[];for(t in e)n.push(t)};n(250)(i,"Object",(function(){var e,t=this._k;do{if(this._i>=t.length)return{value:void 0,done:!0}}while(!((e=t[this._i++])in this._t));return{value:e,done:!1}})),o(o.S,"Reflect",{enumerate:function(e){return new i(e)}})},function(e,t,n){var o=n(80),r=n(81),i=n(78),a=n(0),s=n(29),c=n(16);a(a.S,"Reflect",{get:function e(t,n){var a,u,l=arguments.length<3?t:arguments[2];return c(t)===l?t[n]:(a=o.f(t,n))?i(a,"value")?a.value:void 0!==a.get?a.get.call(l):void 0:s(u=r(t))?e(u,n,l):void 0}})},function(e,t,n){var o=n(80),r=n(0),i=n(16);r(r.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return o.f(i(e),t)}})},function(e,t,n){var o=n(0),r=n(81),i=n(16);o(o.S,"Reflect",{getPrototypeOf:function(e){return r(i(e))}})},function(e,t,n){var o=n(0);o(o.S,"Reflect",{has:function(e,t){return t in e}})},function(e,t,n){var o=n(0),r=n(16),i=Object.isExtensible;o(o.S,"Reflect",{isExtensible:function(e){return r(e),!i||i(e)}})},function(e,t,n){var o=n(0);o(o.S,"Reflect",{ownKeys:n(387)})},function(e,t,n){var o=n(0),r=n(16),i=Object.preventExtensions;o(o.S,"Reflect",{preventExtensions:function(e){r(e);try{return i&&i(e),!0}catch(e){return!1}}})},function(e,t,n){var o=n(46),r=n(80),i=n(81),a=n(78),s=n(0),c=n(126),u=n(16),l=n(29);s(s.S,"Reflect",{set:function e(t,n,s){var f,p,d=arguments.length<4?t:arguments[3],h=r.f(u(t),n);if(!h){if(l(p=i(t)))return e(p,n,s,d);h=c(0)}if(a(h,"value")){if(!1===h.writable||!l(d))return!1;if(f=r.f(d,n)){if(f.get||f.set||!1===f.writable)return!1;f.value=s,o.f(d,n,f)}else o.f(d,n,c(0,s));return!0}return void 0!==h.set&&(h.set.call(d,s),!0)}})},function(e,t,n){var o=n(0),r=n(243);r&&o(o.S,"Reflect",{setPrototypeOf:function(e,t){r.check(e,t);try{return r.set(e,t),!0}catch(e){return!1}}})},function(e,t,n){"use strict";var o=n(0),r=n(190)(!0);o(o.P,"Array",{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n(115)("includes")},function(e,t,n){"use strict";var o=n(0),r=n(388),i=n(51),a=n(37),s=n(62),c=n(256);o(o.P,"Array",{flatMap:function(e){var t,n,o=i(this);return s(e),t=a(o.length),n=c(o,0),r(n,o,o,t,0,1,e,arguments[1]),n}}),n(115)("flatMap")},function(e,t,n){"use strict";var o=n(0),r=n(388),i=n(51),a=n(37),s=n(90),c=n(256);o(o.P,"Array",{flatten:function(){var e=arguments[0],t=i(this),n=a(t.length),o=c(t,0);return r(o,t,t,n,0,void 0===e?1:s(e)),o}}),n(115)("flatten")},function(e,t,n){"use strict";var o=n(0),r=n(193)(!0),i=n(25)((function(){return"ð ®·"!=="ð ®·".at(0)}));o(o.P+o.F*i,"String",{at:function(e){return r(this,e)}})},function(e,t,n){"use strict";var o=n(0),r=n(389),i=n(198),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i);o(o.P+o.F*a,"String",{padStart:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},function(e,t,n){"use strict";var o=n(0),r=n(389),i=n(198),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i);o(o.P+o.F*a,"String",{padEnd:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},function(e,t,n){"use strict";n(149)("trimLeft",(function(e){return function(){return e(this,1)}}),"trimStart")},function(e,t,n){"use strict";n(149)("trimRight",(function(e){return function(){return e(this,2)}}),"trimEnd")},function(e,t,n){"use strict";var o=n(0),r=n(98),i=n(37),a=n(194),s=n(170),c=RegExp.prototype,u=function(e,t){this._r=e,this._s=t};n(250)(u,"RegExp String",(function(){var e=this._r.exec(this._s);return{value:e,done:null===e}})),o(o.P,"String",{matchAll:function(e){if(r(this),!a(e))throw TypeError(e+" is not a regexp!");var t=String(this),n="flags"in c?String(e.flags):s.call(e),o=new RegExp(e.source,~n.indexOf("g")?n:"g"+n);return o.lastIndex=i(e.lastIndex),new u(o,t)}})},function(e,t,n){n(239)("asyncIterator")},function(e,t,n){n(239)("observable")},function(e,t,n){var o=n(0),r=n(387),i=n(79),a=n(80),s=n(254);o(o.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,o=i(e),c=a.f,u=r(o),l={},f=0;u.length>f;)void 0!==(n=c(o,t=u[f++]))&&s(l,t,n);return l}})},function(e,t,n){var o=n(0),r=n(390)(!1);o(o.S,"Object",{values:function(e){return r(e)}})},function(e,t,n){var o=n(0),r=n(390)(!0);o(o.S,"Object",{entries:function(e){return r(e)}})},function(e,t,n){"use strict";var o=n(0),r=n(51),i=n(62),a=n(46);n(41)&&o(o.P+n(201),"Object",{__defineGetter__:function(e,t){a.f(r(this),e,{get:i(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var o=n(0),r=n(51),i=n(62),a=n(46);n(41)&&o(o.P+n(201),"Object",{__defineSetter__:function(e,t){a.f(r(this),e,{set:i(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var o=n(0),r=n(51),i=n(97),a=n(81),s=n(80).f;n(41)&&o(o.P+n(201),"Object",{__lookupGetter__:function(e){var t,n=r(this),o=i(e,!0);do{if(t=s(n,o))return t.get}while(n=a(n))}})},function(e,t,n){"use strict";var o=n(0),r=n(51),i=n(97),a=n(81),s=n(80).f;n(41)&&o(o.P+n(201),"Object",{__lookupSetter__:function(e){var t,n=r(this),o=i(e,!0);do{if(t=s(n,o))return t.set}while(n=a(n))}})},function(e,t,n){var o=n(0);o(o.P+o.R,"Map",{toJSON:n(391)("Map")})},function(e,t,n){var o=n(0);o(o.P+o.R,"Set",{toJSON:n(391)("Set")})},function(e,t,n){n(202)("Map")},function(e,t,n){n(202)("Set")},function(e,t,n){n(202)("WeakMap")},function(e,t,n){n(202)("WeakSet")},function(e,t,n){n(203)("Map")},function(e,t,n){n(203)("Set")},function(e,t,n){n(203)("WeakMap")},function(e,t,n){n(203)("WeakSet")},function(e,t,n){var o=n(0);o(o.G,{global:n(23)})},function(e,t,n){var o=n(0);o(o.S,"System",{global:n(23)})},function(e,t,n){var o=n(0),r=n(89);o(o.S,"Error",{isError:function(e){return"Error"===r(e)}})},function(e,t,n){var o=n(0);o(o.S,"Math",{clamp:function(e,t,n){return Math.min(n,Math.max(t,e))}})},function(e,t,n){var o=n(0);o(o.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(e,t,n){var o=n(0),r=180/Math.PI;o(o.S,"Math",{degrees:function(e){return e*r}})},function(e,t,n){var o=n(0),r=n(393),i=n(372);o(o.S,"Math",{fscale:function(e,t,n,o,a){return i(r(e,t,n,o,a))}})},function(e,t,n){var o=n(0);o(o.S,"Math",{iaddh:function(e,t,n,o){var r=e>>>0,i=n>>>0;return(t>>>0)+(o>>>0)+((r&i|(r|i)&~(r+i>>>0))>>>31)|0}})},function(e,t,n){var o=n(0);o(o.S,"Math",{isubh:function(e,t,n,o){var r=e>>>0,i=n>>>0;return(t>>>0)-(o>>>0)-((~r&i|~(r^i)&r-i>>>0)>>>31)|0}})},function(e,t,n){var o=n(0);o(o.S,"Math",{imulh:function(e,t){var n=+e,o=+t,r=65535&n,i=65535&o,a=n>>16,s=o>>16,c=(a*i>>>0)+(r*i>>>16);return a*s+(c>>16)+((r*s>>>0)+(65535&c)>>16)}})},function(e,t,n){var o=n(0);o(o.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(e,t,n){var o=n(0),r=Math.PI/180;o(o.S,"Math",{radians:function(e){return e*r}})},function(e,t,n){var o=n(0);o(o.S,"Math",{scale:n(393)})},function(e,t,n){var o=n(0);o(o.S,"Math",{umulh:function(e,t){var n=+e,o=+t,r=65535&n,i=65535&o,a=n>>>16,s=o>>>16,c=(a*i>>>0)+(r*i>>>16);return a*s+(c>>>16)+((r*s>>>0)+(65535&c)>>>16)}})},function(e,t,n){var o=n(0);o(o.S,"Math",{signbit:function(e){return(e=+e)!=e?e:0==e?1/e==1/0:e>0}})},function(e,t,n){"use strict";var o=n(0),r=n(87),i=n(23),a=n(171),s=n(380);o(o.P+o.R,"Promise",{finally:function(e){var t=a(this,r.Promise||i.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then((function(){return n}))}:e,n?function(n){return s(t,e()).then((function(){throw n}))}:e)}})},function(e,t,n){"use strict";var o=n(0),r=n(263),i=n(379);o(o.S,"Promise",{try:function(e){var t=r.f(this),n=i(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){var o=n(107),r=n(16),i=o.key,a=o.set;o.exp({defineMetadata:function(e,t,n,o){a(e,t,r(n),i(o))}})},function(e,t,n){var o=n(107),r=n(16),i=o.key,a=o.map,s=o.store;o.exp({deleteMetadata:function(e,t){var n=arguments.length<3?void 0:i(arguments[2]),o=a(r(t),n,!1);if(void 0===o||!o.delete(e))return!1;if(o.size)return!0;var c=s.get(t);return c.delete(n),!!c.size||s.delete(t)}})},function(e,t,n){var o=n(107),r=n(16),i=n(81),a=o.has,s=o.get,c=o.key,u=function(e,t,n){if(a(e,t,n))return s(e,t,n);var o=i(t);return null!==o?u(e,o,n):void 0};o.exp({getMetadata:function(e,t){return u(e,r(t),arguments.length<3?void 0:c(arguments[2]))}})},function(e,t,n){var o=n(383),r=n(392),i=n(107),a=n(16),s=n(81),c=i.keys,u=i.key,l=function(e,t){var n=c(e,t),i=s(e);if(null===i)return n;var a=l(i,t);return a.length?n.length?r(new o(n.concat(a))):a:n};i.exp({getMetadataKeys:function(e){return l(a(e),arguments.length<2?void 0:u(arguments[1]))}})},function(e,t,n){var o=n(107),r=n(16),i=o.get,a=o.key;o.exp({getOwnMetadata:function(e,t){return i(e,r(t),arguments.length<3?void 0:a(arguments[2]))}})},function(e,t,n){var o=n(107),r=n(16),i=o.keys,a=o.key;o.exp({getOwnMetadataKeys:function(e){return i(r(e),arguments.length<2?void 0:a(arguments[1]))}})},function(e,t,n){var o=n(107),r=n(16),i=n(81),a=o.has,s=o.key,c=function(e,t,n){if(a(e,t,n))return!0;var o=i(t);return null!==o&&c(e,o,n)};o.exp({hasMetadata:function(e,t){return c(e,r(t),arguments.length<3?void 0:s(arguments[2]))}})},function(e,t,n){var o=n(107),r=n(16),i=o.has,a=o.key;o.exp({hasOwnMetadata:function(e,t){return i(e,r(t),arguments.length<3?void 0:a(arguments[2]))}})},function(e,t,n){var o=n(107),r=n(16),i=n(62),a=o.key,s=o.set;o.exp({metadata:function(e,t){return function(n,o){s(e,t,(void 0!==o?r:i)(n),a(o))}}})},function(e,t,n){var o=n(0),r=n(262)(),i=n(23).process,a="process"==n(89)(i);o(o.G,{asap:function(e){var t=a&&i.domain;r(t?t.bind(e):e)}})},function(e,t,n){"use strict";var o=n(0),r=n(23),i=n(87),a=n(262)(),s=n(35)("observable"),c=n(62),u=n(16),l=n(133),f=n(135),p=n(68),d=n(134),h=d.RETURN,g=function(e){return null==e?void 0:c(e)},m=function(e){var t=e._c;t&&(e._c=void 0,t())},v=function(e){return void 0===e._o},y=function(e){v(e)||(e._o=void 0,m(e))},b=function(e,t){u(e),this._c=void 0,this._o=e,e=new w(this);try{var n=t(e),o=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){o.unsubscribe()}:c(n),this._c=n)}catch(t){return void e.error(t)}v(this)&&m(this)};b.prototype=f({},{unsubscribe:function(){y(this)}});var w=function(e){this._s=e};w.prototype=f({},{next:function(e){var t=this._s;if(!v(t)){var n=t._o;try{var o=g(n.next);if(o)return o.call(n,e)}catch(e){try{y(t)}finally{throw e}}}},error:function(e){var t=this._s;if(v(t))throw e;var n=t._o;t._o=void 0;try{var o=g(n.error);if(!o)throw e;e=o.call(n,e)}catch(e){try{m(t)}finally{throw e}}return m(t),e},complete:function(e){var t=this._s;if(!v(t)){var n=t._o;t._o=void 0;try{var o=g(n.complete);e=o?o.call(n,e):void 0}catch(e){try{m(t)}finally{throw e}}return m(t),e}}});var _=function(e){l(this,_,"Observable","_f")._f=c(e)};f(_.prototype,{subscribe:function(e){return new b(e,this._f)},forEach:function(e){var t=this;return new(i.Promise||r.Promise)((function(n,o){c(e);var r=t.subscribe({next:function(t){try{return e(t)}catch(e){o(e),r.unsubscribe()}},error:o,complete:n})}))}}),f(_,{from:function(e){var t="function"==typeof this?this:_,n=g(u(e)[s]);if(n){var o=u(n.call(e));return o.constructor===t?o:new t((function(e){return o.subscribe(e)}))}return new t((function(t){var n=!1;return a((function(){if(!n){try{if(d(e,!1,(function(e){if(t.next(e),n)return h}))===h)return}catch(e){if(n)throw e;return void t.error(e)}t.complete()}})),function(){n=!0}}))},of:function(){for(var e=0,t=arguments.length,n=new Array(t);e<t;)n[e]=arguments[e++];return new("function"==typeof this?this:_)((function(e){var t=!1;return a((function(){if(!t){for(var o=0;o<n.length;++o)if(e.next(n[o]),t)return;e.complete()}})),function(){t=!0}}))}}),p(_.prototype,s,(function(){return this})),o(o.G,{Observable:_}),n(132)("Observable")},function(e,t,n){var o=n(23),r=n(0),i=n(198),a=[].slice,s=/MSIE .\./.test(i),c=function(e){return function(t,n){var o=arguments.length>2,r=!!o&&a.call(arguments,2);return e(o?function(){("function"==typeof t?t:Function(t)).apply(this,r)}:t,n)}};r(r.G+r.B+r.F*s,{setTimeout:c(o.setTimeout),setInterval:c(o.setInterval)})},function(e,t,n){var o=n(0),r=n(261);o(o.G+o.B,{setImmediate:r.set,clearImmediate:r.clear})},function(e,t,n){for(var o=n(258),r=n(128),i=n(69),a=n(23),s=n(68),c=n(150),u=n(35),l=u("iterator"),f=u("toStringTag"),p=c.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=r(d),g=0;g<h.length;g++){var m,v=h[g],y=d[v],b=a[v],w=b&&b.prototype;if(w&&(w[l]||s(w,l,p),w[f]||s(w,f,v),c[v]=p,y))for(m in o)w[m]||i(w,m,o[m],!0)}},function(e,t,n){(function(t){!function(t){"use strict";var n=Object.prototype,o=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag",c="object"==typeof e,u=t.regeneratorRuntime;if(u)c&&(e.exports=u);else{(u=t.regeneratorRuntime=c?e.exports:{}).wrap=g;var l={},f={};f[i]=function(){return this};var p=Object.getPrototypeOf,d=p&&p(p(C([])));d&&d!==n&&o.call(d,i)&&(f=d);var h=b.prototype=v.prototype=Object.create(f);y.prototype=h.constructor=b,b.constructor=y,b[s]=y.displayName="GeneratorFunction",u.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},u.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(h),e},u.awrap=function(e){return{__await:e}},w(_.prototype),_.prototype[a]=function(){return this},u.AsyncIterator=_,u.async=function(e,t,n,o){var r=new _(g(e,t,n,o));return u.isGeneratorFunction(t)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},w(h),h[s]="Generator",h[i]=function(){return this},h.toString=function(){return"[object Generator]"},u.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},u.values=C,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,o){return a.type="throw",a.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var r=o.arg;E(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}}}function g(e,t,n,o){var r=t&&t.prototype instanceof v?t:v,i=Object.create(r.prototype),a=new x(o||[]);return i._invoke=function(e,t,n){var o="suspendedStart";return function(r,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===r)throw i;return A()}for(n.method=r,n.arg=i;;){var a=n.delegate;if(a){var s=P(a,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var c=m(e,t,n);if("normal"===c.type){if(o=n.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o="completed",n.method="throw",n.arg=c.arg)}}}(e,n,a),i}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function v(){}function y(){}function b(){}function w(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function _(e){function n(t,r,i,a){var s=m(e[t],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==typeof u&&o.call(u,"__await")?Promise.resolve(u.__await).then((function(e){n("next",e,i,a)}),(function(e){n("throw",e,i,a)})):Promise.resolve(u).then((function(e){c.value=e,i(c)}),a)}a(s.arg)}var r;"object"==typeof t.process&&t.process.domain&&(n=t.process.domain.bind(n)),this._invoke=function(e,t){function o(){return new Promise((function(o,r){n(e,t,o,r)}))}return r=r?r.then(o,o):o()}}function P(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,P(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var o=m(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,l;var r=o.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function C(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:A}}function A(){return{value:void 0,done:!0}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,n(125))},function(e,t,n){n(805),e.exports=n(87).RegExp.escape},function(e,t,n){var o=n(0),r=n(806)(/[\\^$*+?.()|[\]{}]/g,"\\$&");o(o.S,"RegExp",{escape:function(e){return r(e)}})},function(e,t){e.exports=function(e,t){var n=t===Object(t)?function(e){return t[e]}:t;return function(t){return String(t).replace(e,n)}}},function(e,t){
/*!
Copyright (C) 2013-2015 by Andrea Giammarchi - @WebReflection

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/
!function(e){"use strict";function t(){return f.createDocumentFragment()}function n(e){return f.createElement(e)}function o(e,t){if(!e)throw new Error("Failed to construct "+t+": 1 argument required, but only 0 present.")}function r(e){if(1===e.length)return i(e[0]);for(var n=t(),o=R.call(e),r=0;r<e.length;r++)n.appendChild(i(o[r]));return n}function i(e){return"object"==typeof e?e:f.createTextNode(e)}for(var a,s,c,u,l,f=e.document,p=Object.prototype.hasOwnProperty,d=Object.defineProperty||function(e,t,n){return p.call(n,"value")?e[t]=n.value:(p.call(n,"get")&&e.__defineGetter__(t,n.get),p.call(n,"set")&&e.__defineSetter__(t,n.set)),e},h=[].indexOf||function(e){for(var t=this.length;t--&&this[t]!==e;);return t},g=function(e){var t=void 0===e.className,n=t?e.getAttribute("class")||"":e.className,o=t||"object"==typeof n,r=(o?t?n:n.baseVal:n).replace(v,"");r.length&&I.push.apply(this,r.split(y)),this._isSVG=o,this._=e},m={get:function(){return new g(this)},set:function(){}},v=/^\s+|\s+$/g,y=/\s+/,b=function(e,t){return this.contains(e)?t||this.remove(e):(void 0===t||t)&&(t=!0,this.add(e)),!!t},w=e.DocumentFragment&&DocumentFragment.prototype,_=e.Node,P=(_||Element).prototype,O=e.CharacterData||_,E=O&&O.prototype,x=e.DocumentType,C=x&&x.prototype,A=(e.Element||_||e.HTMLElement).prototype,S=e.HTMLSelectElement||n("select").constructor,D=S.prototype.remove,T=e.SVGElement,I=["matches",A.matchesSelector||A.webkitMatchesSelector||A.khtmlMatchesSelector||A.mozMatchesSelector||A.msMatchesSelector||A.oMatchesSelector||function(e){var t=this.parentNode;return!!t&&-1<h.call(t.querySelectorAll(e),this)},"closest",function(e){for(var t,n=this;(t=n&&n.matches)&&!n.matches(e);)n=n.parentNode;return t?n:null},"prepend",function(){var e=this.firstChild,t=r(arguments);e?this.insertBefore(t,e):this.appendChild(t)},"append",function(){this.appendChild(r(arguments))},"before",function(){var e=this.parentNode;e&&e.insertBefore(r(arguments),this)},"after",function(){var e=this.parentNode,t=this.nextSibling,n=r(arguments);e&&(t?e.insertBefore(n,t):e.appendChild(n))},"toggleAttribute",function(e,t){var n=this.hasAttribute(e);return 1<arguments.length?n&&!t?this.removeAttribute(e):t&&!n&&this.setAttribute(e,""):n?this.removeAttribute(e):this.setAttribute(e,""),this.hasAttribute(e)},"replace",function(){this.replaceWith.apply(this,arguments)},"replaceWith",function(){var e=this.parentNode;e&&e.replaceChild(r(arguments),this)},"remove",function(){var e=this.parentNode;e&&e.removeChild(this)}],R=I.slice,M=I.length;M;M-=2)if((s=I[M-2])in A||(A[s]=I[M-1]),"remove"!==s||D._dom4||((S.prototype[s]=function(){return 0<arguments.length?D.apply(this,arguments):A.remove.call(this)})._dom4=!0),/^(?:before|after|replace|replaceWith|remove)$/.test(s)&&(O&&!(s in E)&&(E[s]=I[M-1]),x&&!(s in C)&&(C[s]=I[M-1])),/^(?:append|prepend)$/.test(s))if(w)s in w||(w[s]=I[M-1]);else try{t().constructor.prototype[s]=I[M-1]}catch(e){}var j;n("a").matches("a")||(A[s]=(j=A[s],function(e){return j.call(this.parentNode?this:t().appendChild(this),e)})),g.prototype={length:0,add:function(){for(var e,t=0;t<arguments.length;t++)e=arguments[t],this.contains(e)||I.push.call(this,s);this._isSVG?this._.setAttribute("class",""+this):this._.className=""+this},contains:function(e){return function(t){return-1<(M=e.call(this,s=function(e){if(!e)throw"SyntaxError";if(y.test(e))throw"InvalidCharacterError";return e}(t)))}}([].indexOf||function(e){for(M=this.length;M--&&this[M]!==e;);return M}),item:function(e){return this[e]||null},remove:function(){for(var e,t=0;t<arguments.length;t++)e=arguments[t],this.contains(e)&&I.splice.call(this,M,1);this._isSVG?this._.setAttribute("class",""+this):this._.className=""+this},toggle:b,toString:function(){return I.join.call(this," ")}},T&&!("classList"in T.prototype)&&d(T.prototype,"classList",m),"classList"in f.documentElement?((u=n("div").classList).add("a","b","a"),"a b"!=u&&("add"in(c=u.constructor.prototype)||(c=e.TemporaryTokenList.prototype),l=function(e){return function(){for(var t=0;t<arguments.length;)e.call(this,arguments[t++])}},c.add=l(c.add),c.remove=l(c.remove),c.toggle=b)):d(A,"classList",m),"contains"in P||d(P,"contains",{value:function(e){for(;e&&e!==this;)e=e.parentNode;return this===e}}),"head"in f||d(f,"head",{get:function(){return a||(a=f.getElementsByTagName("head")[0])}}),function(){for(var t,n=e.requestAnimationFrame,o=e.cancelAnimationFrame,r=["o","ms","moz","webkit"],i=r.length;!o&&i--;)n=n||e[r[i]+"RequestAnimationFrame"],o=e[r[i]+"CancelAnimationFrame"]||e[r[i]+"CancelRequestAnimationFrame"];o||(n?(t=n,n=function(e){var n=!0;return t((function(){n&&e.apply(this,arguments)})),function(){n=!1}},o=function(e){e()}):(n=function(e){return setTimeout(e,15,15)},o=function(e){clearTimeout(e)})),e.requestAnimationFrame=n,e.cancelAnimationFrame=o}();try{new e.CustomEvent("?")}catch(t){e.CustomEvent=function(e,t){function n(e,t,n,o){this.initEvent(e,t,n),this.detail=o}return function(o,r){var i=f.createEvent(e);if("string"!=typeof o)throw new Error("An event name must be provided");return"Event"==e&&(i.initCustomEvent=n),null==r&&(r=t),i.initCustomEvent(o,r.bubbles,r.cancelable,r.detail),i}}(e.CustomEvent?"CustomEvent":"Event",{bubbles:!1,cancelable:!1,detail:null})}try{new Event("_")}catch(t){t=function(e){function t(e,t){o(arguments.length,"Event");var n=f.createEvent("Event");return t||(t={}),n.initEvent(e,!!t.bubbles,!!t.cancelable),n}return t.prototype=e.prototype,t}(e.Event||function(){}),d(e,"Event",{value:t}),Event!==t&&(Event=t)}try{new KeyboardEvent("_",{})}catch(t){t=function(t){var n,r=0,i={char:"",key:"",location:0,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,altGraphKey:!1,repeat:!1,locale:navigator.language,detail:0,bubbles:!1,cancelable:!1,keyCode:0,charCode:0,which:0};try{var a=f.createEvent("KeyboardEvent");a.initKeyboardEvent("keyup",!1,!1,e,"+",3,!0,!1,!0,!1,!1),r="+"==(a.keyIdentifier||a.key)&&3==(a.keyLocation||a.location)&&(a.ctrlKey?a.altKey?1:3:a.shiftKey?2:4)||9}catch(e){}function s(e){for(var t=[],n=["ctrlKey","Control","shiftKey","Shift","altKey","Alt","metaKey","Meta","altGraphKey","AltGraph"],o=0;o<n.length;o+=2)e[n[o]]&&t.push(n[o+1]);return t.join(" ")}function c(e,t){for(var n in t)t.hasOwnProperty(n)&&!t.hasOwnProperty.call(e,n)&&(e[n]=t[n]);return e}function u(e,t,n){try{t[e]=n[e]}catch(e){}}function l(t,a){o(arguments.length,"KeyboardEvent"),a=c(a||{},i);var l,p=f.createEvent(n),d=a.ctrlKey,h=a.shiftKey,g=a.altKey,m=a.metaKey,v=a.altGraphKey,y=r>3?s(a):null,b=String(a.key),w=String(a.char),_=a.location,P=a.keyCode||(a.keyCode=b)&&b.charCodeAt(0)||0,O=a.charCode||(a.charCode=w)&&w.charCodeAt(0)||0,E=a.bubbles,x=a.cancelable,C=a.repeat,A=a.locale,S=a.view||e;if(a.which||(a.which=a.keyCode),"initKeyEvent"in p)p.initKeyEvent(t,E,x,S,d,g,h,m,P,O);else if(0<r&&"initKeyboardEvent"in p){switch(l=[t,E,x,S],r){case 1:l.push(b,_,d,h,g,m,v);break;case 2:l.push(d,g,h,m,P,O);break;case 3:l.push(b,_,d,g,h,m,v);break;case 4:l.push(b,_,y,C,A);break;default:l.push(char,b,_,y,C,A)}p.initKeyboardEvent.apply(p,l)}else p.initEvent(t,E,x);for(b in p)i.hasOwnProperty(b)&&p[b]!==a[b]&&u(b,p,a);return p}return n=0<r?"KeyboardEvent":"Event",l.prototype=t.prototype,l}(e.KeyboardEvent||function(){}),d(e,"KeyboardEvent",{value:t}),KeyboardEvent!==t&&(KeyboardEvent=t)}try{new MouseEvent("_",{})}catch(t){t=function(t){function n(t,n){o(arguments.length,"MouseEvent");var r=f.createEvent("MouseEvent");return n||(n={}),r.initMouseEvent(t,!!n.bubbles,!!n.cancelable,n.view||e,n.detail||1,n.screenX||0,n.screenY||0,n.clientX||0,n.clientY||0,!!n.ctrlKey,!!n.altKey,!!n.shiftKey,!!n.metaKey,n.button||0,n.relatedTarget||null),r}return n.prototype=t.prototype,n}(e.MouseEvent||function(){}),d(e,"MouseEvent",{value:t}),MouseEvent!==t&&(MouseEvent=t)}f.querySelectorAll("*").forEach||function(){function e(e){var t=e.querySelectorAll;e.querySelectorAll=function(e){var n=t.call(this,e);return n.forEach=Array.prototype.forEach,n}}e(f),e(Element.prototype)}();try{f.querySelector(":scope *")}catch(e){!function(){var e="data-scope-"+(1e9*Math.random()>>>0),t=Element.prototype,n=t.querySelector,o=t.querySelectorAll;function r(t,n,o){if(t.type!=f.ELEMENT_NODE)return n.call(t,o);t.setAttribute(e,null);var r=n.call(t,String(o).replace(/(^|,\s*)(:scope([ >]|$))/g,(function(t,n,o,r){return n+"["+e+"]"+(r||" ")})));return t.removeAttribute(e),r}t.querySelector=function(e){return r(this,n,e)},t.querySelectorAll=function(e){return r(this,o,e)}}()}}(window),function(e){"use strict";var t=e.WeakMap||function(){var e,t=0,n=!1,o=!1;function r(t,r,i){o=i,n=!1,e=void 0,t.dispatchEvent(r)}function i(e){this.value=e}function s(){t++,this.__ce__=new a("@DOMMap:"+t+Math.random())}return i.prototype.handleEvent=function(t){n=!0,o?t.currentTarget.removeEventListener(t.type,this,!1):e=this.value},s.prototype={constructor:s,delete:function(e){return r(e,this.__ce__,!0),n},get:function(t){r(t,this.__ce__,!1);var n=e;return e=void 0,n},has:function(e){return r(e,this.__ce__,!1),n},set:function(e,t){return r(e,this.__ce__,!0),e.addEventListener(this.__ce__.type,new i(t),!1),this}},s}();function n(){}function o(e,t,n){function r(e){r.once&&(e.currentTarget.removeEventListener(e.type,t,r),r.removed=!0),r.passive&&(e.preventDefault=o.preventDefault),"function"==typeof r.callback?r.callback.call(this,e):r.callback&&r.callback.handleEvent(e),r.passive&&delete e.preventDefault}return r.type=e,r.callback=t,r.capture=!!n.capture,r.passive=!!n.passive,r.once=!!n.once,r.removed=!1,r}n.prototype=(Object.create||Object)(null),o.preventDefault=function(){};var r,i,a=e.CustomEvent,s=e.dispatchEvent,c=e.addEventListener,u=e.removeEventListener,l=0,f=function(){l++},p=[].indexOf||function(e){for(var t=this.length;t--&&this[t]!==e;);return t},d=function(e){return"".concat(e.capture?"1":"0",e.passive?"1":"0",e.once?"1":"0")};try{c("_",f,{once:!0}),s(new a("_")),s(new a("_")),u("_",f,{once:!0})}catch(e){}1!==l&&(i=new t,r=function(e){if(e){var t=e.prototype;t.addEventListener=function(e){return function(t,r,a){if(a&&"boolean"!=typeof a){var s,c,u,l=i.get(this),f=d(a);l||i.set(this,l=new n),t in l||(l[t]={handler:[],wrap:[]}),c=l[t],(s=p.call(c.handler,r))<0?(s=c.handler.push(r)-1,c.wrap[s]=u=new n):u=c.wrap[s],f in u||(u[f]=o(t,r,a),e.call(this,t,u[f],u[f].capture))}else e.call(this,t,r,a)}}(t.addEventListener),t.removeEventListener=function(e){return function(t,n,o){if(o&&"boolean"!=typeof o){var r,a,s,c,u=i.get(this);if(u&&t in u&&(s=u[t],-1<(a=p.call(s.handler,n))&&(r=d(o))in(c=s.wrap[a]))){for(r in e.call(this,t,c[r],c[r].capture),delete c[r],c)return;s.handler.splice(a,1),s.wrap.splice(a,1),0===s.handler.length&&delete u[t]}}else e.call(this,t,n,o)}}(t.removeEventListener)}},e.EventTarget?r(EventTarget):(r(e.Text),r(e.Element||e.HTMLElement),r(e.HTMLDocument),r(e.Window||{prototype:e}),r(e.XMLHttpRequest)))}(self)},function(e,t,n){"use strict";n.r(t),n.d(t,"Headers",(function(){return h})),n.d(t,"Request",(function(){return _})),n.d(t,"Response",(function(){return O})),n.d(t,"DOMException",(function(){return x})),n.d(t,"fetch",(function(){return C}));var o="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==o&&o,r="URLSearchParams"in o,i="Symbol"in o&&"iterator"in Symbol,a="FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch(e){return!1}}(),s="FormData"in o,c="ArrayBuffer"in o;if(c)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(e){return e&&u.indexOf(Object.prototype.toString.call(e))>-1};function f(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function p(e){return"string"!=typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function g(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function m(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function v(e){var t=new FileReader,n=m(t);return t.readAsArrayBuffer(e),n}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:a&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:s&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():c&&a&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c&&(ArrayBuffer.prototype.isPrototypeOf(e)||l(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a&&(this.blob=function(){var e=g(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=g(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(v)}),this.text=function(){var e,t,n,o=g(this);if(o)return o;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=m(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),o=0;o<t.length;o++)n[o]=String.fromCharCode(t[o]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(P)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=f(e),t=p(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},h.prototype.delete=function(e){delete this.map[f(e)]},h.prototype.get=function(e){return e=f(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(f(e))},h.prototype.set=function(e,t){this.map[f(e)]=p(t)},h.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),d(e)},h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),d(e)},i&&(h.prototype[Symbol.iterator]=h.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function _(e,t){if(!(this instanceof _))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,o,r=(t=t||{}).body;if(e instanceof _){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=(n=t.method||this.method||"GET",o=n.toUpperCase(),w.indexOf(o)>-1?o:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(r),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var i=/([?&])_=[^&]*/;if(i.test(this.url))this.url=this.url.replace(i,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function P(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),o=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(o),decodeURIComponent(r))}})),t}function O(e,t){if(!(this instanceof O))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"",this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}_.prototype.clone=function(){return new _(this,{body:this._bodyInit})},b.call(_.prototype),b.call(O.prototype),O.prototype.clone=function(){return new O(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},O.error=function(){var e=new O(null,{status:0,statusText:""});return e.type="error",e};var E=[301,302,303,307,308];O.redirect=function(e,t){if(-1===E.indexOf(t))throw new RangeError("Invalid status code");return new O(null,{status:t,headers:{location:e}})};var x=o.DOMException;try{new x}catch(e){(x=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),x.prototype.constructor=x}function C(e,t){return new Promise((function(n,r){var i=new _(e,t);if(i.signal&&i.signal.aborted)return r(new x("Aborted","AbortError"));var s=new XMLHttpRequest;function u(){s.abort()}s.onload=function(){var e,t,o={status:s.status,statusText:s.statusText,headers:(e=s.getAllResponseHeaders()||"",t=new h,e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var n=e.split(":"),o=n.shift().trim();if(o){var r=n.join(":").trim();t.append(o,r)}})),t)};o.url="responseURL"in s?s.responseURL:o.headers.get("X-Request-URL");var r="response"in s?s.response:s.responseText;setTimeout((function(){n(new O(r,o))}),0)},s.onerror=function(){setTimeout((function(){r(new TypeError("Network request failed"))}),0)},s.ontimeout=function(){setTimeout((function(){r(new TypeError("Network request failed"))}),0)},s.onabort=function(){setTimeout((function(){r(new x("Aborted","AbortError"))}),0)},s.open(i.method,function(e){try{return""===e&&o.location.href?o.location.href:e}catch(t){return e}}(i.url),!0),"include"===i.credentials?s.withCredentials=!0:"omit"===i.credentials&&(s.withCredentials=!1),"responseType"in s&&(a?s.responseType="blob":c&&i.headers.get("Content-Type")&&-1!==i.headers.get("Content-Type").indexOf("application/octet-stream")&&(s.responseType="arraybuffer")),!t||"object"!=typeof t.headers||t.headers instanceof h?i.headers.forEach((function(e,t){s.setRequestHeader(t,e)})):Object.getOwnPropertyNames(t.headers).forEach((function(e){s.setRequestHeader(e,p(t.headers[e]))})),i.signal&&(i.signal.addEventListener("abort",u),s.onreadystatechange=function(){4===s.readyState&&i.signal.removeEventListener("abort",u)}),s.send(void 0===i._bodyInit?null:i._bodyInit)}))}C.polyfill=!0,o.fetch||(o.fetch=C,o.Headers=h,o.Request=_,o.Response=O)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(394);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})}));var r=n(818);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})})),n(1744),n(357)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(811));function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e),this.backends=[],this.type="backend",this.init(t,n)}return o(e,[{key:"init",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments[2];this.services=e,this.options=r.defaults(n,this.options||{},{}),this.options.backends&&this.options.backends.forEach((function(n,i){t.backends[i]=t.backends[i]||r.createClassOnDemand(n),t.backends[i].init(e,t.options.backendOptions[i],o)}))}},{key:"read",value:function(e,t,n){var o=this,r=this.backends.length,i=function n(r,i){if(!(r<0)){var a=o.backends[r];a.save?(a.save(e,t,i),n(r-1,i)):n(r-1,i)}};!function a(s){if(s>=r)return n(new Error("non of the backend loaded data;",!0));var c=o.backends[s];c.read?c.read(e,t,(function(e,t){t&&Object.keys(t).length>-1?(n(null,t,s),i(s-1,t)):a(s+1)})):a(s+1)}(0)}},{key:"create",value:function(e,t,n,o){this.backends.forEach((function(r){r.create&&r.create(e,t,n,o)}))}}]),e}();a.type="backend",t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaults=function(e){return r.call(i.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e},t.extend=function(e){return r.call(i.call(arguments,1),(function(t){if(t)for(var n in t)e[n]=t[n]})),e},t.createClassOnDemand=function(e){return e?"function"==typeof e?new e:e:null};var o=[],r=o.forEach,i=o.slice},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(813));function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(e,t){if(window.localStorage)try{window.localStorage.setItem(e,t)}catch(e){}},s=function(e,t){if(window.localStorage)try{return window.localStorage.getItem(e,t)}catch(e){}};var c=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e),this.init(t,n),this.type="backend"}return o(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.services=e,this.options=r.defaults(t,this.options||{},{prefix:"i18next_res_",expirationTime:6048e5,versions:{}})}},{key:"read",value:function(e,t,n){var o=(new Date).getTime();if(!window.localStorage)return n(null,null);var r=s(""+this.options.prefix+e+"-"+t);if(r&&(r=JSON.parse(r)).i18nStamp&&r.i18nStamp+this.options.expirationTime>o&&this.options.versions[e]===r.i18nVersion)return delete r.i18nVersion,delete r.i18nStamp,n(null,r);n(null,null)}},{key:"save",value:function(e,t,n){window.localStorage&&(n.i18nStamp=(new Date).getTime(),this.options.versions[e]&&(n.i18nVersion=this.options.versions[e]),a(""+this.options.prefix+e+"-"+t,JSON.stringify(n)))}}]),e}();c.type="backend",t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaults=function(e){return r.call(i.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e},t.extend=function(e){return r.call(i.call(arguments,1),(function(t){if(t)for(var n in t)e[n]=t[n]})),e},t.debounce=function(e,t,n){var o;return function(){var r=this,i=arguments,a=function(){o=null,n||e.apply(r,i)},s=n&&!o;clearTimeout(o),o=setTimeout(a,t),s&&e.apply(r,i)}};var o=[],r=o.forEach,i=o.slice},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(815)),a=n(816),s=(o=a)&&o.__esModule?o:{default:o};function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1,parse:JSON.parse,crossDomain:!1,ajax:s.default}}var l=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};c(this,e),this.init(t,n),this.type="backend"}return r(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.services=e,this.options=i.defaults(t,this.options||{},u())}},{key:"readMulti",value:function(e,t,n){var o=this.options.loadPath;"function"==typeof this.options.loadPath&&(o=this.options.loadPath(e,t));var r=this.services.interpolator.interpolate(o,{lng:e.join("+"),ns:t.join("+")});this.loadUrl(r,n)}},{key:"read",value:function(e,t,n){var o=this.options.loadPath;"function"==typeof this.options.loadPath&&(o=this.options.loadPath([e],[t]));var r=this.services.interpolator.interpolate(o,{lng:e,ns:t});this.loadUrl(r,n)}},{key:"loadUrl",value:function(e,t){var n=this;this.options.ajax(e,this.options,(function(o,r){if(r.status>=500&&r.status<600)return t("failed loading "+e,!0);if(r.status>=400&&r.status<500)return t("failed loading "+e,!1);var i=void 0,a=void 0;try{i=n.options.parse(o,e)}catch(t){a="failed parsing "+e+" to json"}if(a)return t(a,!1);t(null,i)}))}},{key:"create",value:function(e,t,n,o){var r=this;"string"==typeof e&&(e=[e]);var i={};i[n]=o||"",e.forEach((function(e){var n=r.services.interpolator.interpolate(r.options.addPath,{lng:e,ns:t});r.options.ajax(n,r.options,(function(e,t){}),i)}))}}]),e}();l.type="backend",t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaults=function(e){return r.call(i.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e},t.extend=function(e){return r.call(i.call(arguments,1),(function(t){if(t)for(var n in t)e[n]=t[n]})),e};var o=[],r=o.forEach,i=o.slice},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function r(e,t){if(t&&"object"===(void 0===t?"undefined":o(t))){var n="",r=encodeURIComponent;for(var i in t)n+="&"+r(i)+"="+r(t[i]);if(!n)return e;e=e+(-1!==e.indexOf("?")?"&":"?")+n.slice(1)}return e}t.default=function(e,t,n,i,a){i&&"object"===(void 0===i?"undefined":o(i))&&(a||(i._t=new Date),i=r("",i).slice(1)),t.queryStringParams&&(e=r(e,t.queryStringParams));try{var s;(s=XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP.3.0")).open(i?"POST":"GET",e,1),t.crossDomain||s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.withCredentials=!!t.withCredentials,i&&s.setRequestHeader("Content-type","application/x-www-form-urlencoded"),s.overrideMimeType&&s.overrideMimeType("application/json");var c=t.customHeaders;if(c)for(var u in c)s.setRequestHeader(u,c[u]);s.onreadystatechange=function(){s.readyState>3&&n&&n(s.responseText,s)},s.send(i)}catch(e){console&&console.log(e)}}},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(819);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})}));var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o);window.UIExtension=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceScope=t.components=t.SeniorComponentFactory=t.PDFViewCtrl=t.toolkit=t.controllers=t.UIConsts=t.Controller=t.vendors=t.ContainerComponent=t.Component=t.widgets=t.XViewerUI=t.getDevicePagePoint=t.TemplateParser=t.TextMarkupStateHandler=t.Appearance=t.appearances=t.StatefulController=t.UIXAddon=t.Localizer=t.Directive=t.modular=t.UIEvents=t.PDFUI=void 0;var o=n(396);Object.defineProperty(t,"PDFUI",{enumerable:!0,get:function(){return D(o).default}});var r=n(10);Object.defineProperty(t,"UIEvents",{enumerable:!0,get:function(){return D(r).default}});var i=n(6);Object.defineProperty(t,"modular",{enumerable:!0,get:function(){return D(i).default}});var a=n(11);Object.defineProperty(t,"Directive",{enumerable:!0,get:function(){return D(a).default}});var s=n(221);Object.defineProperty(t,"Localizer",{enumerable:!0,get:function(){return D(s).default}});var c=n(163);Object.defineProperty(t,"UIXAddon",{enumerable:!0,get:function(){return D(c).default}});var u=n(20);Object.defineProperty(t,"StatefulController",{enumerable:!0,get:function(){return D(u).default}});var l=n(1715);Object.defineProperty(t,"appearances",{enumerable:!0,get:function(){return D(l).default}});var f=n(162);Object.defineProperty(t,"Appearance",{enumerable:!0,get:function(){return D(f).default}});var p=n(1729);Object.defineProperty(t,"TextMarkupStateHandler",{enumerable:!0,get:function(){return D(p).default}});var d=n(490);Object.defineProperty(t,"TemplateParser",{enumerable:!0,get:function(){return D(d).default}});var h=n(112);Object.defineProperty(t,"getDevicePagePoint",{enumerable:!0,get:function(){return D(h).default}});var g=n(595);Object.defineProperty(t,"XViewerUI",{enumerable:!0,get:function(){return D(g).default}});var m=D(n(17)),v=D(n(27)),y=D(n(3)),b=S(n(84)),w=S(n(598));n(1737);var _=S(n(8)),P=S(n(1740)),O=S(n(1741)),E=S(n(5)),x=D(n(26)),C=S(n(394)),A=n(49);function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function D(e){return e&&e.__esModule?e:{default:e}}P.Controller=y.default,Object.assign(b,w);var T={Component:m.default,ContainerComponent:v.default,widgets:b};_.Loading_Mode={fromFileObject:0,fromMemory:1},t.widgets=b,t.Component=m.default,t.ContainerComponent=v.default,t.vendors=C,t.Controller=y.default,t.UIConsts=_,t.controllers=P,t.toolkit=O,t.PDFViewCtrl=E,t.SeniorComponentFactory=x.default,t.components=T,t.ServiceScope=A.ServiceScope,window.PDFViewCtrl=E},function(e,t){},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=d(n(823)),r=d(n(397)),i=d(n(826)),a=d(n(1)),s=d(n(284)),c=d(n(269)),u=n(85),l=d(n(13)),f=d(n(883)),p=d(n(9));function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var g=(0,o.default)(),m=p.default.getLogger("PDFViewerRender"),v=function(e){function t(n,o,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));a.name=t.getDefaultName(),a.pdfViewer=i,a.ViewMode=o,a.$ui=n;var u=a.scrollWrap=new(a.pdfViewer.customs.ScrollWrap||s.default)(a),l=void 0;a.unBindScrollEvent=u.addScrollEventListener((function(){clearTimeout(l);var e=a.pdfDocRender;e&&(l=setTimeout((function(){e.isDestroyed||e.move()}),100))}));var p=void 0;return n.on("scroll",".fv__pdf-view-mode-item",a._scrollPageBind=function(e){clearTimeout(p);var t=e.currentTarget,n=void 0;try{if(!(n=a.pdfDocRender.pagesRender).length)return}catch(e){return}p=setTimeout((function(){for(var e=t.previousSibling,o=0;e;)e.classList.contains("fv__pdf-view-mode-item")&&o++,e=e.previousSibling;var r=n[o];if(r)try{r.move()}catch(e){}}),100)}),a.addDestroyHook((function(){clearTimeout(p),clearTimeout(l)})),n.addClass("fv__pdf-viewer").html(g),a.$rendering=n.find(".fv__pdf-viewer-rendering"),a.$container=n.find(".fv__pdf-viewer-container"),a.pdfViewerRendering=new(i.customs.PDFViewerRendering||r.default)(a.$rendering[0],a),(a.handler=new(i.customs.PDFViewerHandler||c.default)(n.find(".fv__pdf-viewer-handler-container"),a)).active(),a.oldPdfDocRenders=[],a.touchToScrollViewer=new f.default(i,u.getScrollHost()),a}return h(t,e),t.getDefaultName=function(){return"pdfViewerRender"},t.prototype.setViewMode=function(e){var t=this;if(e!==this.ViewMode){var n=this.ViewMode;this.ViewMode=e,this.pdfViewer.eventEmitter.emit(a.default.startChangeViewMode,e,n);var o=this.pdfDocRender;if(o){var r=o.getViewMode().getVisibleIndexes();return o.setViewMode(e).then((function(){t.pdfViewer.eventEmitter.emit(a.default.changeViewModeSuccess,e,n,o.getViewMode());var i=o.getViewMode().getVisibleIndexes();if(!function(e,t){if(e.length!==t.length)return!1;return!e.some((function(e){return-1===t.indexOf(e)}))}(r,i))return o.pagesRender.renderVisiblePages()}),(function(r){t.ViewMode=n,t.pdfViewer.eventEmitter.emit(a.default.changeViewModeFailed,e,n,o.getViewMode(),r),m.warn("change view mode fail",r)}))}}return Promise.resolve()},t.prototype.getViewMode=function(){return this.ViewMode},t.prototype.rendering=function(){this.$ui.addClass("fv__view-rendering"),this.pdfViewerRendering.rendering()},t.prototype.rendered=function(){this.$ui.removeClass("fv__view-rendering"),this.pdfViewerRendering.rendered()},t.prototype.renderDoc=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.pdfViewer.config.defaultScale,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=new i.default(this.$container,e,this);return this.pdfDocRender=o,this.oldPdfDocRenders.push(o),this.rendered(),o.render(t,n)},t.prototype.rotateTo=function(e){return(0,u.assertThat)((0,u.isValidRotationAngle)(e),"Incorrect rotation degree: "+e),this.pdfDocRender?this.pdfDocRender.rotateTo(e):Promise.reject(new Error("Cannot perform rotation without document opening!"))},t.prototype.getRotation=function(){return this.pdfDocRender?this.pdfDocRender.getRotation():0},t.prototype.closeOldDocRender=function(){for(var e,t=[],n=this.oldPdfDocRenders,o=n.length;o--;)t[o]=((e=n[o]).hidden(),e.destroy()),this.pdfDocRender==n[o]&&(this.pdfDocRender=null),n.splice(o,1);return Promise.all(t)},t.prototype.bindEvent=function(){},t.prototype.zoomTo=function(e,t){try{return this.pdfDocRender.zoomTo(e,t)}catch(e){return Promise.reject(e)}},t.prototype.goToPage=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return this.pdfDocRender.goToPage(e,{x:n,y:t},o)},t.prototype.zoomAt=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0};if(!this.pdfDocRender)throw new Error("No PDF files are currently open");return this.getScaleRatio().then((function(o){return e.zoomTo(t).then((function(){return e.getScaleRatio().then((function(t){var r=t/o,i=n.x*(r-1),a=n.y*(r-1);e.scrollWrap.scrollBy(i,a)}))}))}))},t.prototype.setLayerNodeVisible=function(e,t){return this.pdfDocRender?this.pdfDocRender.setLayerNodeVisible(e,t):Promise.reject(new Error("doc renderer has not been initialized!"))},t.prototype.getScaleRatio=function(){return this.pdfDocRender?this.pdfDocRender.getScaleRatio():Promise.reject(new Error("doc renderer has not been initialized!"))},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.touchToScrollViewer.destroy(),this.pdfDocRender&&this.closeOldDocRender(),this.unBindScrollEvent(),this.$ui.off("scroll")},t}(l.default);t.default=v},function(e,t,n){n(2);e.exports=function(e){"use strict";e=e||{};return'<div class="fv__pdf-viewer-layout">\r\n    <div class="fv__pdf-viewer-rendering"></div>\r\n    <div class="fv__pdf-viewer-container"></div>\r\n    <div class="fv__pdf-viewer-handler-container"></div>\r\n</div>','<div class="fv__pdf-viewer-layout">\r\n    <div class="fv__pdf-viewer-rendering"></div>\r\n    <div class="fv__pdf-viewer-container"></div>\r\n    <div class="fv__pdf-viewer-handler-container"></div>\r\n</div>'}},function(e,t,n){"use strict";(function(t){
/*! art-template@runtime | https://github.com/aui/art-template */
var n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{},o=Object.create(n),r=/["&'<>]/;o.$escape=function(e){return function(e){var t=""+e,n=r.exec(t);if(!n)return e;var o="",i=void 0,a=void 0,s=void 0;for(i=n.index,a=0;i<t.length;i++){switch(t.charCodeAt(i)){case 34:s="&#34;";break;case 38:s="&#38;";break;case 39:s="&#39;";break;case 60:s="&#60;";break;case 62:s="&#62;";break;default:continue}a!==i&&(o+=t.substring(a,i)),a=i+1,o+=s}return a!==i?o+t.substring(a,i):o}(function e(t){"string"!=typeof t&&(t=null==t?"":"function"==typeof t?e(t.call(t)):JSON.stringify(t));return t}(e))},o.$each=function(e,t){if(Array.isArray(e))for(var n=0,o=e.length;n<o;n++)t(e[n],n);else for(var r in e)t(e[r],r)},e.exports=o}).call(this,n(125))},function(e,t,n){e.exports='<div class="fv__rendering-container">\r\n    <img class="fv__rendering-svg" src="'+n(398)+'">\r\n</div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=w(n(4)),a=w(n(827)),s=w(n(828)),c=(w(n(21)),w(n(411))),u=w(n(412)),l=n(18),f=w(n(1)),p=(w(n(849)),w(n(108))),d=(w(n(43)),w(n(269)),w(n(413))),h=w(n(850)),g=w(n(853)),m=n(418),v=n(22),y=w(n(9)),b=w(n(53));function w(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var P=x("hand"),O=(x("annot"),y.default.getLogger("PDFDocRender")),E=function(e){function t(n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,r));s.name="pdfDocRender",s.$ui=n,s.rotation=0,s.doc=o,s.lastPageNumber=0,s.currentPageNumber=0,s.currentAnnot=null,s.viewerRender=r;var p=s.pdfViewer=r.pdfViewer,d=(0,i.default)(a.default);d[0].id=o.id,n.append(d),s.$doc=d,s.$rendering=d.find(".fv__pdf-doc-rendering"),s.$container=d.find(".fv__pdf-doc-container"),s.pdfDocRendering=new(p.customs.PDFDocRendering||c.default)(s.$rendering[0],s),s.docCustomRender=new(p.customs.DocCustomRender||u.default)(d.find(".fv__pdf-doc-custom-container")[0],s),s.zoomToTaskExecutor=new l.DebounceAsyncTaskExecutor,s.bindEvent(),s.controlStateClass=P,s.$container.addClass(P),s.handlerInit(d.find(".fv__pdf-doc-handler-container")),s.watermarkConfig=p.config.watermarkConfig;var h=s.customPermission_=p.customs.getDocPermissions||function(){return-1};o.setCustomPermission("standard",h),h=p.customs.getAdditionalPerm||function(){return-1},o.setCustomPermission("additional",h),o.setCustomPermission("replaceStandard",p.customs.getStandardPermissions);var m=p.eventEmitter;return m.on(f.default.annotationAppearanceUpdated,s.annotationAppearanceUpdatedBind=function(e,t){if(t.getPDFDoc()===s.doc)try{s.getPDFPageRender(t.getIndex()).redrawAnnotRenders(e)}catch(e){}}),m.on(f.default.annotationMovedPosition,s.annotationMovedPositionBind=function(e,t,n){if(t.getPDFDoc()===s.doc)try{s.getPDFPageRender(t.getIndex()).movedAnnotRenders(e,n)}catch(e){}}),m.on(f.default.annotationRemoved,s.annotationRemovedBind=function(e,t){if(t.getPDFDoc()===s.doc)try{s.getPDFPageRender(t.getIndex()).removeAnnotRenders(e)}catch(e){}}),m.on(f.default.annotationImported,s.updateImportedAnnotsBind=function(e,t){if(e===o&&s.pagesRender)try{s.pagesRender.setRenderFlags(10),s.pagesRender.renderVisiblePages().catch((function(e){0}))}catch(e){O.warn(e)}}),m.on(f.default.annotationAdd,s.updateAddAnnotsBind=function(e,t){if(t.getPDFDoc()===s.doc)try{var n=s.getPDFPageRender(t.getIndex());n&&n.addAnnotRenders(e)}catch(e){console.error(e)}}),m.on(f.default.pageRotationChange,s.rotationPageBind=function(e,t,n){if(e.getPDFDoc()===s.doc)try{s.pagesRender.setRenderFlags(7),s.pagesRender.renderVisiblePages()}catch(e){console.error(e)}}),m.on(f.default.pagesRotated,s.rotationPagesBind=function(e,t,n){e.forEach((function(e,o){s.rotationPageBind(e,t,n[o])}))}),m.on(f.default.customDataAdd,s.customDataAddBind=function(e,t,n){if(s.doc.getId()===n)try{s.getPDFPageRender(t).addCustomRenders(e)}catch(e){}}),m.on(f.default.customDataImported,s.customDataImportedBind=function(e){if(s.doc.getId()===e)try{s.pagesRender.setRenderFlags(32),s.pagesRender.renderVisiblePages().catch((function(e){0}))}catch(e){}}),m.on(f.default.customDataRemoved,s.customDataRemovedBind=function(e,t,n){if(s.doc.getId()===n)try{s.getPDFPageRender(t).removeCustomRenders(e)}catch(e){}}),m.on(f.default.customDataUpdated,s.customDataUpdatedBind=function(e,t,n){if(s.doc.getId()===n)try{s.getPDFPageRender(t).updateCustomRenders(e)}catch(e){}}),s.noInteraction=s.getUserPermission().checkCannotModifyExcludeAssemble()&&!s.doc.hasSignature(),m.on(f.default.permissionChanged,s.permissionChangedBind=function(){var e=s.getUserPermission().checkCannotModifyExcludeAssemble();s.noInteraction=e&&!s.doc.hasSignature();s.getUserPermission();s.loadFormRender().then((function(e){s.pdfViewer.redraw(!0)}))}),s.docHandler=new g.default(p,s),s.allCommentVisible=!0,s}return _(t,e),t.prototype.getHandlerDOM=function(){return this.$doc.get(0)},t.prototype.getBoundingClientRects=function(){var e=this.$container.find(".fv__pdf-view-mode-item"),t=this.viewerRender.scrollWrap.getScrollHost();t==window&&(t=document.body);for(var n=t.getBoundingClientRect(),o=[],r=0;r<e.length;r++){var a=e[r],s=(0,i.default)(a).find(".fv__pdf-page-layout")[0].getBoundingClientRect();if(s.bottom>n.top&&s.top<n.bottom&&s.left<n.right&&s.right>n.left){var c={index:r,scale:this.getPDFPageRender(r).scale,left:Math.max(n.left,s.left)-s.left,right:Math.min(n.right,s.right)-s.left,top:Math.max(n.top,s.top)-s.top,bottom:Math.min(n.bottom,s.bottom)-s.top};c.x=c.left,c.y=c.top,c.height=c.bottom-c.top,c.width=c.right-c.left,o.push(c)}}return o},t.prototype.handlerInit=function(e){var t=this;e.on("click",(function(){t.unActiveAnnotRender()}))},t.prototype.getFormRender=function(){return this.formRender},t.prototype.setStateHandler=function(e){if(this.stateHandler){if(this.stateHandler.constructor.getStateName()===e.getStateName())return;this.stateHandler.destroyDocHandler()}(this.stateHandler=new e(this.pdfViewer)).docHandler(this)},t.prototype.setViewMode=function(e){return this.pagesRender?this.pagesRender.setViewMode(e):Promise.resolve()},t.prototype.getViewMode=function(){return this.pagesRender.getViewMode()},t.prototype.prevPage=function(){var e=this.getCurrentViewMode().getPrevPageIndex();this.goToPage(e,{x:0,y:0})},t.prototype.nextPage=function(){var e=this.getCurrentViewMode().getNextPageIndex();this.goToPage(e,{x:0,y:0})},t.prototype.goToPage=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.x,i=void 0===o?0:o,a=n.y,s=void 0===a?0:a,c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=void 0,l=void 0,f=arguments[1];f&&(u=f.width,l=f.height),this.isGoto=!0,e>this.doc.getPageCount()?e=this.doc.getPageCount()-1:e<0&&(e=0);var p=this.pagesRender,d=p.getPDFPageRender(e);if(d)return d.getPDFPage().then((function(n){return p.getPageScale(e,t.scale).then((function(e){if(c){if(void 0!==u){var o=n.getDeviceRect({left:i,right:i+u,top:s+l,bottom:s},e,t.rotation);i=o.left,s=o.top,o.right<i&&(i=o.right),o.bottom<s&&(s=o.bottom)}else{var a=n.getDevicePoint([i,s],e,t.rotation),f=r(a,2),p=f[0],d=f[1],h=n.info.height;(s>h||d<0)&&(d=0),i=p,s=d}return[e,i,s]}return[e,i,s]}))})).then((function(n){var o=r(n,3),i=o[0],a=o[1],s=o[2],c=p.goToPage(e,i,a,s);return"fitVisible"===t.scale&&c?c.then((function(){return t.zoomTo("fitVisible")})):c})).catch((function(e){0}));this.isGoto=!1},t.prototype.setCurrentPageIndex=function(e){void 0!==e&&this.pageNumberChange(e)},t.prototype.getCurrentPageIndex=function(){var e=this.getCurrentViewMode();return e&&"function"==typeof e.getCurrentPageIndex?e.getCurrentPageIndex():0},t.prototype.pageNumberChange=function(e){e>=0&&this.currentPageNumber!==e&&(this.lastPageNumber=this.currentPageNumber,this.currentPageNumber=e),this.pdfViewer.eventEmitter.emit(f.default.pageNumberChange,e+1)},t.prototype.bindEvent=function(){},t.prototype.destroy=function(){if(!this.isDestroyed){var t=this.pdfViewer.eventEmitter;this.pagesRender&&this.pagesRender.destroy(),e.prototype.destroy.call(this),this.$doc.addClass("fv__destroying"),this.stateHandler&&this.stateHandler.destroyDocHandler(),this.docCustomRender.destroy(),this.$doc.remove(),this.zoomToTaskExecutor.destroy(),this.zoomToTaskExecutor=null,t.off(f.default.annotationAppearanceUpdated,this.annotationAppearanceUpdatedBind),t.off(f.default.annotationMovedPosition,this.annotationMovedPositionBind),t.off(f.default.annotationRemoved,this.annotationRemovedBind),t.off(f.default.annotationImported,this.updateImportedAnnotsBind),t.off(f.default.annotationAdd,this.updateAddAnnotsBind),t.off(f.default.pageRotationChange,this.rotationPageBind),t.off(f.default.pagesRotated,this.rotationPagesBind),t.off(f.default.customDataAdd,this.customDataAddBind),t.off(f.default.customDataImported,this.customDataImportedBind),t.off(f.default.customDataRemoved,this.customDataRemovedBind),t.off(f.default.customDataUpdated,this.customDataUpdatedBind),t.off(f.default.permissionChanged,this.permissionChangedBind),this.formRender&&this.formRender.destroy(),this.formRender=null;var n=this.doc.destroy();return this.pdfDocRendering.destroy(),this.pdfDocRendering=null,this.pagesRender=this.docCustomRender=this.stateHandler=null,this.annotationAppearanceUpdatedBind=null,this.annotationMovedPositionBind=null,this.annotationRemovedBind=null,this.updateImportedAnnotsBind=null,this.updateAddAnnotsBind=null,this.rotationPageBind=null,this.rotationPagesBind=null,this.customDataAddBind=null,this.customDataImportedBind=null,this.customDataRemovedBind=null,this.customDataUpdatedBind=null,this.permissionChangedBind=null,this.docHandler.destroy(),n}},t.prototype.rendering=function(){this.$doc.addClass("fv__doc-rendering"),this.pdfDocRendering.rendering()},t.prototype.rendered=function(){this.$doc.removeClass("fv__doc-rendering"),this.pdfDocRendering.rendered()},t.prototype.render=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"fitWidth",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotation;return this.scale=t,this.rotation=n,this.rendering(),this.doc&&this.doc.setColors((0,m.getLocalUserChoiceColor)()),Promise.resolve(this.docCustomRender.render(t,n)).then((function(o){if(!1!==o)return e.doc.getPageSizes(0,e.pdfViewer.config.sizeCount).then((function(t){return e.doc.getLayerNodesJson()})).then((function(t){return e.doc.getTemplates()})).then((function(o){if(e.doc){var r=e.pagesRender=e.pagesRender||new s.default(e.$container,e.doc,e),i=e.loadFormRender();return r.render(t,n).then((function(e){return i})).then((function(){if(!e.stateHandler){var t=e.pdfViewer;(e.stateHandler=new(t.stateHandlerManager.getCurrentStates())(t)).docHandler(e)}Object.keys(e.doc.metadata).length<2&&e.doc.getMetadata()}))}}));e.rendered()}))},t.prototype.loadFormRender=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.getUserPermission(),o=n.checkAnnotForm()||n.checkFillForm();return(o||this.doc.hasSignature()?t?this.doc.reloadPDFForm():this.doc.loadPDFForm():this.doc.loadEmptyPDFForm()).then((function(t){return(e.formRender=new h.default(e.doc,e)).initJS()}))},t.prototype.hidden=function(){this.$doc.addClass("fv__hidden")},t.prototype.show=function(){this.$doc.removeClass("fv__hidden")},t.prototype.zoomTo=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments[1],o=this.scale;this.scale=t;var i=Promise.resolve(n);return n?"fitVisible"==t&&(i=this.getPDFPageRender(n.pageIndex).getPDFPage().then((function(e){return e.calcPageContentBBox(0)})).then((function(e){return n.x=e.left,n}))):i="fitVisible"!==t?this.getViewBoxCenter(!0,"topLeft").then((function(e){return{pageIndex:e[0].getIndex(),x:e[1][0],y:e[1][1]}})):this.getViewerStartPosition(),i.then((function(t){return Promise.all([e.pagesRender.getPageScale(0,o,e.rotation),e.getScaleRatio()]).then((function(n){var i=r(n,2),a=i[0],s=i[1];return e.zoomToTaskExecutor.exec((function(t,n,r){return n.eventEmitter.emit(f.default.beforeZoomTo,t,a),e.pagesRender.zoomTo(t,r).then((function(){return n.eventEmitter.emit(f.default.zoomToSuccess,e.scale,o,s,a),t}),(function(r){return e.scale=o,n.eventEmitter.emit(f.default.zoomToFailed,t,e.scale),Promise.reject(r)}))}),[s,e.pdfViewer,t],e)}))}))},t.prototype.getScaleRatio=function(){var e=this,t=function(){switch(o(e.scale)){case"number":return e.scale;case"string":return e.pagesRender?e.pagesRender.getScaleRatio(e.scale,e.rotate):1;default:return 1}};return this.zoomToTaskExecutor.waitForLastTask().then(t,t)},t.prototype.getScale=function(){return this.scale},t.prototype.getRotation=function(){return this.rotation},t.prototype.rotateTo=function(e){var t=this.rotation;return this.rotation=(e%360+360)%360,this.applyRotation(t,this.rotation)},t.prototype.applyRotation=function(e,t){var n=this,o=this.pdfViewer.eventEmitter;o.emit(f.default.beforeDocumentRotation,t,e);var r=this.getCurrentPageIndex();return this.pagesRender.rotateTo(t).then((function(){return n.goToPage(r)})).then((function(n){return o.emit(f.default.afterDocumentRotation,t,e),n}))},t.prototype.getPDFDoc=function(){return this.doc},t.prototype.getPDFPageRender=function(e){try{return this.pagesRender.getPDFPageRender(e)}catch(e){return null}},t.prototype.getCurrentViewMode=function(){try{return this.pagesRender.viewMode}catch(e){return null}},t.prototype.getAnnotRender=function(e,t){try{return this.getPDFPageRender(e).getAnnotRender(t)}catch(e){return null}},t.prototype.getAllAnnotRender=function(){for(var e=this.doc.getPageCount(),t=[],n=0;n<e;n++)t=t.concat(this.getPDFPageRender(n).getAllAnnotRender());return t},t.prototype.unActiveAnnotRender=function(e){if(e)return e.unActive();try{this.pagesRender.unActiveAnnotRender()}catch(e){}},t.prototype.setCurrentAnnotHandler=function(){var e=this.pdfViewer.stateHandlerManager.currentStateHandler.getStateName(),t=this.pdfViewer.getAllActiveElements();"edit-all"!==e&&t.length?(t.forEach((function(e){e.shapeControl&&(0,i.default)(e.shapeControl.ui).removeClass("current-annot")})),this.pdfViewer.isMultiSelectActive()?this.currentAnnot=t[t.length-1]:this.currentAnnot=t[0],this.currentAnnot.shapeControl&&(0,i.default)(this.currentAnnot.shapeControl.ui).addClass("current-annot")):this.currentAnnot=null},t.prototype.setWatermarkConfig=function(e){this.watermarkConfig=e},t.prototype.getWatermarkConfig=function(){return this.watermarkConfig},t.prototype.getUserPermission=function(){var e=this.doc,t=this.customPermission_(e),n=e.getPermissionsSync();return new d.default(t&n)},t.prototype.getOffsetInfo=function(){var e=0,t=0,n=0,o=this.pagesRender,i=void 0;if(!o)return(i=o.getPDFPageRender(e)).reverseDevicePoint([t,n]).then((function(t){var n=r(t,2),o=n[0],a=n[1];return{index:e,left:o,top:a,scale:i.getScale(),rotate:i.getRotation()}}));for(var a=this.pdfViewer.$ui,s=a.parent()[0].getBoundingClientRect(),c=o.viewMode.getVisibleIndexes(),u=0,l=c.length;u<l;u++){e=c[u];var f=this.getCurrentViewMode().constructor.getName(),p=e;"single-page-view-mode"===f&&(p=0);var d=a.find(".fv__pdf-page-layout").eq(p)[0].getBoundingClientRect();if(!(d.bottom<=s.top)){(t=s.left-d.left)<0&&(t=0),(n=s.top-d.top)<0&&(n=0);break}}return(i=o.getPDFPageRender(e)).reverseDevicePoint([t,n]).then((function(t){var n=r(t,2),o=n[0],a=n[1];return{index:e,left:o,top:a,scale:i.getScale(),rotation:i.getRotation()}}))},t.prototype.getViewerStartPosition=function(e){return void 0===e&&(e=this.getCurrentPageIndex()),this.doc.getPageByIndex(e).then((function(t){return t.calcPageContentBBox(v.Calc_Margin_Mode.CalcContentsBox).then((function(n){n&&void 0!==n.left&&n.left!==n.right&&n.top!==n.bottom||(n={left:0,right:t.info.mediaWidth,top:t.info.mediaHeight,bottom:0});var o=t.getRotation(),r=[n.left,n.top];switch(o){case 0:r=[n.left,n.top];break;case 1:r=[n.left,n.bottom];break;case 2:r=[n.right,n.bottom];break;case 3:r=[n.right,n.top]}return{pageIndex:e,x:r[0],y:r[1],rotation:o}}))}))},t.prototype.getViewBoxCenter=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"center",n=this.getCurrentPageIndex(),o=this.viewerRender.scrollWrap.getScrollHost(),r=void 0,i=(r=o===window?{x:0,y:0,right:window.innerWidth,height:window.innerHeight}:o.getBoundingClientRect()).x+r.width/2,a=r.y+r.height/2,s={left:i-20,right:i+20,top:a-20,bottom:a+20},c=function(t){var n=t.$ui.get(0).getBoundingClientRect(),o=n.x,r=n.y,c=r+n.height,u=n.right;if(b.default.isOverlap(s,{left:o,right:u,bottom:c,top:r},!1))return t.getPDFPage().then((function(n){if(e){var s=Math.max(0,i-o),c=Math.max(0,a-r);return Promise.all([n,n.reverseDevicePoint([s,c],t.getScale(),t.getRotation())])}return Promise.all([n,[i-o,a-r]])}))};if("topLeft"==t){var u=this.pagesRender.viewMode.getVisibleIndexes(),l=this.getPDFPageRender(u[0]),f=l.page,p=l.$ui.get(0).getBoundingClientRect();i=Math.max(r.x,p.x),a=Math.max(r.y,p.y);var d=Math.max(0,i-p.x),h=Math.max(0,a-p.y);return Promise.all([f,f.reverseDevicePoint([d,h],l.getScale(),l.getRotation())])}for(var g=n;g<this.doc.getPageCount();g++){var m=this.getPDFPageRender(g),v=c(m);if(v)return v}for(var y=n-1;y>-1;y--){var w=this.getPDFPageRender(y),_=c(w);if(_)return _}return this.doc.getPageByIndex(n).then((function(e){return Promise.all([e,[0,0]])}))},t.prototype.renderPages=function(e,t){return this.pagesRender.renderPages(e,t).catch((function(e){0}))},t.prototype.move=function(){var e=this,t=this.getCurrentViewMode(),n=this.pagesRender.pageRenders,o=this.getCurrentPageIndex();if(o>=n.length)return this.goToPage(o-1);var r=this.getContainerVisiblePageIndexes(),i=this.currentPageNumber;return this.setCurrentPageIndex(o),this.pagesRender.moveTo(r).then((function(n){var o=e.currentPageNumber;return"fitVisible"===e.scale&&t&&o!==i?("single-page-view-mode"===t.constructor.getName()&&e.zoomTo("fitVisible"),n):n}))},t.prototype.getContainerOffsetLeftTop=function(){var e=this._offsetTop;if("number"==typeof e)return{left:this._offsetLeft,top:e};e=0;for(var t=0,n=this.$container[0],o=this.viewerRender.scrollWrap.getScrollHost();n&&(e+=n.offsetTop,t+=n.offsetLeft,(n=n.offsetParent)!==o););return{left:t,top:e}},t.prototype.getContainerVisibleRect=function(){var e=document.documentElement,t=e.clientWidth,n=e.clientHeight,o=this.viewerRender.scrollWrap.getScrollHost(),r=0,i=t,a=0,s=n;if(o instanceof HTMLElement){var c=o.getBoundingClientRect();r=Math.max(r,c.left),i=Math.min(i,c.right),a=Math.max(a,c.top),s=Math.min(s,c.bottom)}return{left:r,right:i,top:a,bottom:s}},t.prototype.getContainerVisiblePageIndexes=function(){switch(this.viewerRender.getViewMode().getName()){case"single-page-view-mode":case"facing-continuous-page-view-mode":case"facing-page-view-mode":case"continuous-view-mode":return this.getViewMode().getVisibleIndexes()}for(var e=this.getCurrentPageIndex(),t=(0,i.default)(this.pagesRender.pageDOMs),n=t.length,o=e-1,r=e,a=void 0,s=void 0,c=void 0,u=void 0,l=[],f=this.getContainerVisibleRect(),p=f.left,d=f.right,h=f.top,g=f.bottom;;){if(!u&&r<n){var m=t[r],v=(0,i.default)(m).find(".fv__pdf-page-container"),y=v.length>0?v[0].getBoundingClientRect():m.getBoundingClientRect();y.right>p&&y.left<d&&y.bottom>h&&y.top<g?(l.push((0,i.default)(m).index()),c=!0):c&&(u=!0),r++}else!u&&r>=n&&(u=!0);if(!s&&o>-1){var b=t[o],w=(0,i.default)(b).find(".fv__pdf-page-container"),_=w.length>0?w[0].getBoundingClientRect():b.getBoundingClientRect();_.right>p&&_.left<d&&_.bottom>h&&_.top<g?(l.unshift((0,i.default)(b).index()),a=!0):a&&(s=!0),o--}else!s&&o<=-1&&(s=!0);if(u&&s)break}return l},t.prototype.performAction=function(e){var t=this.doc.getAdditionalAction(e);this.pdfViewer.actionManager.get(t,this).active(!0)},t}(p.default);function x(e){return"state-"+e}t.default=E},function(e,t){e.exports='<div class="fv__pdf-doc-layout">\r\n    <div class="fv__pdf-doc-rendering"></div>\r\n    <div class="fv__pdf-doc-custom-container"></div>\r\n    <div class="fv__pdf-doc-container"></div>\r\n    <div class="fv__pdf-doc-handler-container"></div>\r\n</div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=m(n(4)),a=m(n(829)),s=m(n(399)),c=n(18),u=m(n(108)),l=m(n(1)),f=n(33),p=(m(n(21)),n(85)),d=m(n(9)),h=n(22),g=m(n(110));function m(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var y=d.default.getLogger("PDFPagesRender"),b=function(e){function t(n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,r));i.name=t.getDefaultName(),i.$element=n.parent(),i.$ui=n,i.pageDOMs=[],i.doc=o,i.docRender=r;var a=r.viewerRender.ViewMode;return i.viewMode=new a(r),i.viewerRender=r.viewerRender,i.pdfViewer=i.viewerRender.pdfViewer,i.pageRenders=[],i.scale=1,i.rotate=0,i.neverRendered=!0,i.minScale=+i.pdfViewer.config.minScale,i.maxScale=+i.pdfViewer.config.maxScale,i.isPageDOMsLoaded=!1,i.pdfViewer.eventEmitter.on(l.default.layerVisibleChange,i.layerVisibleChange=function(e){i.doc===e&&(i.setRenderFlags(2),i.renderVisiblePages().catch((function(e){0})))}),i.pdfViewer.eventEmitter.on(l.default.imageAdded,i.imageAdded=function(e){i.pageRenders[e.getIndex()].redrawContent(!0)}),i.pdfViewer.eventEmitter.on(l.default.watermarkAdded,i.watermarkAdded=i.imageAdded),i.pdfViewer.eventEmitter.on(l.default.graphicsUpdated,i.graphicsUpdated=i.imageAdded),i.pdfViewer.eventEmitter.on(l.default.pageAdded,i.pageAdded=function(e){var t=e.getIndex();i.addNewPageByIndex(t)}),i.pdfViewer.eventEmitter.on(l.default.pageMoved,i.pageMoved=function(e,t){i.movePageRender(e,t)}),i.pdfViewer.eventEmitter.on(l.default.pagesMoved,i.pagesMoved=function(e,t){var n=(0,g.default)(e).sort((function(e,t){return e-t}));i.movePagesRender(n,t)}),i.pdfViewer.eventEmitter.on(l.default.pageRemoved,i.pageRemoved=function(e){i.removePageByIndex(e);var t=i.pageRenders.length,n=i.viewMode.getCurrentPageIndex();if(n===e){var o=Math.min(n,t-1);i.docRender.goToPage(o)}}),i.pdfViewer.eventEmitter.on(l.default.pagesRemoved,i.pagesRemoved=function(e){(0,g.default)(e).sort((function(e,t){return t-e})).forEach((function(e){i.removePageByIndex(e);var t=i.pageRenders.length,n=i.viewMode.getCurrentPageIndex();if(n===e){var o=Math.min(n,t-1);i.docRender.goToPage(o)}}))}),i.pdfViewer.eventEmitter.on(l.default.importPages,i.importPages=function(e){i.importPagesByArray(e)}),i.pdfViewer.eventEmitter.on(l.default.applyRedaction,i.applyRedaction=function(e){var t=i.pdfViewer;if(!1!==e){var n=t.getPDFDocRender(),o=n.pagesRender;if(!o)return;e.forEach((function(e){var t=e.pageIndex,o=e.removedAnnots,r=n.pagesRender.pageRenders[t];if(r.annotsRender)for(var i=r.annotsRender.annots,a=i.length-1;a>=0;a--){var s=i[a];-1!==o.indexOf(s.id)&&(s.info.isDeleted=!0,i.splice(a,1))}})),o.setRenderFlags(10),o.renderVisiblePages(),t.eventEmitter.emit(l.default.redactAnnotApplyed,i)}}),i.pdfViewer.eventEmitter.on(l.default.flattened,i.flattened=function(e){i.setRenderFlags(10),i.renderVisiblePages()}),i.pdfViewer.eventEmitter.on(l.default.headerFooterUpdated,i.headerFooterUpdated=i.flattened),i.pdfViewer.eventEmitter.on(l.default.headerFooterAdded,i.headerFooterAdded=i.flattened),i}return v(t,e),t.getDefaultName=function(){return"pdfPagesRender"},t.prototype.setViewMode=function(e){var t=this,n=this.viewMode,o=n.getCurrentPageIndex();return this.getScaleRatio().then((function(r){n.out(),t.viewMode=new e(t.docRender),t.viewMode.into(t.$ui.get(0),t.pageDOMs,o),t.setRenderFlags(4),t.docRender.goToPage(o,{x:0,y:0});var i=Object.keys(t.doc.getPageSizesSync());return t.loadPageSize(i,0).then((function(e){return t.renderVisiblePages(r)})).then((function(){"fitWidth"===t.scale&&t.renderVisiblePages()})).catch((function(e){0}))}))},t.prototype.getViewMode=function(){return this.viewMode},t.prototype.render=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;this.scale=t,this.rotate=n;var o=this.createPagesStructure();this.$ui;return o.forEach((function(o,r){var a=o.firstElementChild;if(!e.pageRenders[r]){var c=e.pageRenders[r]=new s.default((0,i.default)(a),r,e.doc,e);e.getScaleSyncOrNot((function(e){return c.rendering(e,n)}),r,t,n)}})),this.pageDOMs=o,this.isPageDOMsLoaded=!0,this.viewMode.into(this.$ui.get(0),this.pageDOMs),this.docRender.rendered(),Promise.resolve().then((function(t){return e.docRender.move()}))},t.prototype.getScaleSyncOrNot=function(e,t,n,o){"fitVisible"!==n?e(this.getPageScaleSync(t,n,o)):this.getPageScale(t,n,o).then((function(t){e(t)}))},t.prototype.movePageRender=function(e,t){var n=this,o=this.pageRenders[e];if(o){var r=o.$ui.parent(),i=this.pageRenders[t];if(i){var a=i.$ui.parent();e<t?r.insertAfter(a):r.insertBefore(a),this.pageRenders.splice(e,1),this.pageRenders.splice(t,0,o);for(var s=Math.min(e,t),c=Math.max(e,t),u=s;u<=c;u++)this.pageRenders[u].updateIndex(u);this.updatePageDOMs(),this.getScaleRatio().then((function(e){return n.renderVisiblePages(e).catch((function(e){0}))}))}}},t.prototype.movePagesRender=function(e,t){var n=this,o=e.filter((function(e){return e<t})),r=e.filter((function(e){return e>t})),i=this.pageRenders.length,a=t===i,s=function(e,t){var o=n.pageRenders[e];if(o){var r=o.$ui.parent(),i=n.pageRenders[t];if(i){var a=i.$ui.parent();r.insertBefore(a)}}};o.reverse().forEach((function(e,o){var r=n.pageRenders[e];s(e,t-o),n.pageRenders.splice(e,1),n.pageRenders.splice(t-o-1,0,r)})),r.forEach((function(e,o){var r=n.pageRenders[e];s(e,t+o),n.pageRenders.splice(e,1),n.pageRenders.splice(t+o,0,r)}));for(var c=a?t-1:t,u=Math.min(Math.min.apply(null,e),c),l=Math.max(Math.max.apply(null,e),c),f=u;f<=l;f++)this.pageRenders[f].updateIndex(f);this.updatePageDOMs(),this.getScaleRatio().then((function(e){return n.renderVisiblePages(e).catch((function(e){0}))}))},t.prototype.addNewPageByIndex=function(e){var t=this,n=(0,i.default)(a.default),o=n.get(0);if(this.pageRenders[e]){var r=this.pageRenders[e].$ui.parent();n.insertBefore(r),this.pageDOMs.splice(e,0,o)}else this.$ui.append(n),this.pageDOMs.push(o);var c=n.find(".fv__pdf-page-layout"),u=new s.default(c,e,this.doc,this);this.pageRenders.splice(e,0,u);for(var l=e+1;l<this.pageRenders.length;l++)this.pageRenders[l].updateIndex(l);return this.updatePageDOMs(),this.getScaleRatio().then((function(n){return t.getScaleSyncOrNot((function(e){return u.rendering(e,t.rotate)}),e,n,t.rotate),t.renderVisiblePages(n).catch((function(e){0}))}))},t.prototype.importPagesByArray=function(e){var t=this;return e.forEach((function(e){var n=(0,i.default)(a.default),o=n.get(0),r=e.getIndex();if(t.pageRenders[r]){var c=t.pageRenders[r].$ui.parent();n.insertBefore(c),t.pageDOMs.splice(r,0,o)}else t.$ui.append(n),t.pageDOMs.push(o);var u=n.find(".fv__pdf-page-layout"),l=new s.default(u,r,t.doc,t);t.pageRenders.splice(r,0,l);for(var f=r+1;f<t.pageRenders.length;f++)t.pageRenders[f].updateIndex(f);t.updatePageDOMs(),t.getScaleSyncOrNot((function(e){return l.rendering(e,t.rotate)}),r,t.scale,t.rotate)})),this.docRender.loadFormRender(!0).then((function(e){return t.renderVisiblePages(t.scale)})).catch((function(e){0}))},t.prototype.removePageByIndex=function(e){if(this.pageRenders[e]){this.pageRenders.splice(e,1)[0].$ui.parent().remove().next(".fv__pdf-view-mode-item-split").remove();for(var t=e;t<this.pageRenders.length;t++)this.pageRenders[t].updateIndex(t);this.pageDOMs.splice(e,1)}this.updatePageDOMs(),this.renderVisiblePages(this.scale).catch((function(e){0}))},t.prototype.updatePageDOMs=function(){this.pageDOMs=this.pageRenders.map((function(e){return e.$element.get(0)})),this.viewMode.updatePageDOMs(this.pageDOMs)},t.prototype.setRenderFlags=function(e){for(var t=this.pageRenders,n=0,o=t.length;n<o;n++)t[n].updateRenderFlags(e)},t.prototype.loadPageSize=function(e){for(var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=0;this.doc.getPageSize(e[o]);)o++;var i=void 0;if(o==e.length)i=Promise.resolve();else{var a=e[o];i=this.doc.getPageSizes(a+n,7)}return i.then((function(e){var n=t.doc.getPageSizesSync(),o=function(e){if(e=+e,!t.pageRenders[e])return{v:void 0};t.getScaleSyncOrNot((function(n){return t.pageRenders[e].rendering(n,t.rotate)}),e,t.scale,t.rotate),i=e};for(var i in n){var a=o(i);if("object"===(void 0===a?"undefined":r(a)))return a.v}}))},t.prototype.renderVisiblePages=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.docRender.getScale(),n=(arguments.length>1&&void 0!==arguments[1]||this.rotate,function(t){var n=e.viewMode,o=n.getVisibleIndexes(),r=void 0;return r=e.loadPageSize(o,-3).then((function(e){o=n.getVisibleIndexes()})),e.scale=t,r.then((function(){return e.adjustRenderVisiblePages(t,e.rotate)})).then((function(){n.afterRenderVisiblePages(),e.pdfViewer.eventEmitter.emit(l.default.visiblePagesRenderCompleted),e.renderingTask=null}))});return this.renderingTask="number"!=typeof t?this.getScaleRatio().then(n):n(t)},t.prototype.adjustRenderVisiblePages=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,o=this.viewMode,r=o.getVisibleIndexes();return this.renderPages(r,t,n).then((function(){if(o.getVisibleIndexes().filter((function(e){return-1===r.indexOf(e)})).length>0)return e.adjustRenderVisiblePages(t,n)}))},t.prototype.renderPages=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.docRender.getScale(),o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rotate,r=this.renderPagesSerial;r&&r.end().catch((function(e){0})),r=this.renderPagesSerial=new c.SerialPromise;for(var i=0;this.doc.getPageSize(e[i]);)i++;var a=[];i<e.length&&a.push((function(n){return t.doc.getPageSizes(e[i],e.length)}));for(var s=0,u=e.length;s<u;s++){var l=e[s];a.push(function(e,n){return function(){return t.getPageScale(e,n,o).then((function(n){var r=t.pageRenders[e];return r?r.render(n,o):Promise.resolve()}))}}(l,n))}return r.serial(a)},t.prototype.renderPagesLayout=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale,o=this.renderPagesSerial;o&&o.end().catch((function(e){0})),o=this.renderPagesSerial=new c.SerialPromise;for(var r=0;this.doc.getPageSize(t[r++]););for(var i=[function(n){return e.doc.getPageSizes(t[r],t.length-r)}],a=0,s=t.length;a<s;a++){var u=t[a];i.push(function(t,n){return function(){return e.getPageScale(t,n).then((function(n){if(e.pageRenders[t])return e.pageRenders[t].renderLayout(n)}))}}(u,n))}return o.serial(i)},t.prototype.destroy=function(){var t=this;e.prototype.destroy.call(this);for(var n=this.pageRenders.length;n--;)this.pageRenders[n].destroy();this.pageRenders=[],this.renderPagesSerial&&this.renderPagesSerial.end().catch((function(e){0})),this.viewMode.out(),this.viewMode=null,this.$ui.empty(),this.pageDOMs.length=0;var o=this.pdfViewer.eventEmitter;["actionAdd","actionRemove","actionUpdated","layerVisibleChange","imageAdded","watermarkAdded","graphicsUpdated","pageAdded","pagesInserted","pageMoved","pagesMoved","pageRemoved","pagesRemoved","importPages","applyRedaction","flattened","headerFooterUpdated","headerFooterAdded"].forEach((function(e){o.off(l.default[e],t[e]),t[e]=null})),this.renderPagesSerial&&this.renderPagesSerial.end(),this.renderPagesSerial=null},t.prototype.goToPage=function(e,t){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=this.getPDFPageRender(e);if(i)return i.getPDFPage().then((function(a){a.getRotation();return i.renderLayout(t).then((function(){return n.viewMode.jumpToPage(e,{x:o,y:r}),n.renderVisiblePages()})).then((function(){n.viewMode.jumpToPage(e,{x:o,y:r})})).catch((function(e){y.debug(e)}))}))},t.prototype.zoomTo=function(e,t){var n=this;return this.scale=e,this.getScaleRatio().then((function(o){var r=[];return n.pageRenders.forEach((function(e){e.page&&(r.push(e.page.clearDesignerAssitCache()),r.push(e.renderLayout(o)))})),Promise.all(r).then((function(o){var r=t.pageIndex;if("device"!=t.type)return n.pageRenders[r].getPDFPage().then((function(o){var i=o.getDevicePoint([t.x,t.y],e,n.rotate);return n.viewMode.jumpToPage(r,{x:i[0],y:i[1]})}));n.viewMode.jumpToPage(r,t)})).then((function(e){return n.renderVisiblePages(o)}))}))},t.prototype.getScaleRatio=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.docRender.getScale(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,n=this.viewMode.getCurrentPageIndex();return this.getPageScale(n,e,t)},t.prototype.rotateTo=function(e){var t=this;return(0,p.assertThat)((0,p.isValidRotationAngle)(e),"Illegal rotation angle: "+e+", it should be 0,90,180 or 270"),this.rotate=(e%360+360)%360,Promise.all(this.pageRenders.map((function(e){return e.renderLayout(void 0,t.rotate)}))).then((function(e){return t.setRenderFlags(7),t.renderVisiblePages(t.scale,t.rotate)})).finally((function(e){t.pdfViewer.eventEmitter.emit(l.default.fitWidthResizeViewport)}))},t.prototype.adjustFitPage=function(e){var t=void 0,n=void 0,o=this.doc.getPageSize(e);return o&&(t=o.height,n=o.width),t||(t=(o=this.doc.getPageSize(0)).height,n=o.width),t/n>this.viewMode.getFitHeight(e)/this.viewMode.getFitWidth(e)?"fitHeight":"fitWidth"},t.prototype.getPageScaleSync=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(n=(n%360+360)%360,"fitHeight"===t&&(t=this.adjustFitPage(e)),+t>this.minScale)return Math.min(+t,this.maxScale);if(+t<=this.minScale)return this.minScale;if("fitWidth"===t){var o=this.doc.getPageSize(e);if(o){var r=this.viewMode.getFitWidth(e),i=90===n||270===n?o.height:o.width;return r/(i*(0,f.pt2px)(1))}}else if("fitHeight"===t){var a=this.doc.getPageSize(e);if(a){var s=90===n||270===n?a.width:a.height;return this.viewMode.getFitHeight(e)/(s*(0,f.pt2px)(1))}}return-1},t.prototype.getPageScale=function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rotate;return"fitHeight"===t&&(t=this.adjustFitPage(e)),+t>this.minScale?Promise.resolve(Math.min(+t,this.maxScale)):+t<=this.minScale?Promise.resolve(this.minScale):"fitWidth"===t?this.doc.getPageByIndex(e).then((function(t){t.getRotation();return n.viewMode.getFitWidth(e)/(90===r||270===r?t.getPxHeight():t.getPxWidth())})):"fitVisible"===t?this.doc.getPageByIndex(e).then((function(t){return t.calcPageContentBBox(h.Calc_Margin_Mode.CalcContentsBox).then((function(o){var i=1,a=t.getRotation(),s=n.viewMode.getFitWidth(e);return o&&void 0!==o.left&&o.left!==o.right&&o.top!==o.bottom&&(i=(i=1===a||3===a?t.info.mediaHeight/Math.abs(o.top-o.bottom):t.info.mediaWidth/Math.abs(o.right-o.left))>1.5?1.5:i),s*i/(90===r||270===r?t.getPxHeight():t.getPxWidth())}))})):"fitHeight"===t?Promise.all([this.viewMode.getFitHeight(e),this.pageRenders[e].getPDFPage().then((function(e){return 90===r||270===r?e.getPxWidth():e.getPxHeight()}))]).then((function(e){var t=o(e,2);return t[0]/t[1]})):Promise.resolve(1)},t.prototype.createPagesStructure=function(){var e=this.doc.getPageCount(),t=function(){var e=document.createElement("div");e.innerHTML=a.default;var t=e.firstElementChild;return e.removeChild(t),t}();return Array(e).fill(0).map((function(e){return t.cloneNode(!0)}))},t.prototype.getPDFPageRender=function(e){try{return this.pageRenders[e]}catch(e){return null}},t.prototype.unActiveAnnotRender=function(){for(var e=this.pageRenders||[],t=e.length;t--;){e[t].unActiveAnnotRender()}},t.prototype.moveTo=function(e){return this.pagesEndRender(e),this.renderPages(e)},t.prototype.pagesEndRender=function(e){var t=this.pageRenders||[],n=t.length,o=e[0]||0;if(--o>-1)for(var r=o;r--;){var i=t[r];i&&i.invisibleRender()}var a=e[e.length-1]||0;if(++a<n)for(var s=a;s<n;s++){var c=t[s];c&&c.invisibleRender()}},t}(u.default);t.default=b},function(e,t){e.exports='<div class="fv__pdf-view-mode-item">\r\n    <div class="fv__pdf-page-layout">\r\n        <div class="fv__pdf-page-rendering" style="position: absolute;width: 100%;z-index: 1000;"></div>\r\n        <div class="fv__pdf-custom-page-container"></div>\r\n        <div class="fv__pdf-page-container">\r\n        </div>\r\n        <div class="fv__pdf-page-annots-container"></div>\r\n        <div class="fv__pdf-page-customs-container"></div>\r\n        <div class="fv__pdf-page-handler-container"></div>\r\n    </div>\r\n</div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pageMatrix=void 0;var o,r=n(151),i=(o=r)&&o.__esModule?o:{default:o};function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}t.pageMatrix=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=void 0;switch(o%360){case 0:r=[n,0,0,n,0,0];break;case 90:r=[0,n,-n,0,n*t,0];break;case 180:r=[-n,0,0,-1,n*e,n*t];break;case 270:r=[0,-n,n,0,0,n*e];break;default:throw new Error("Unsupported rotation value: "+o)}return new(Function.prototype.bind.apply(i.default,[null].concat(a(r))))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=h(n(4)),r=h(n(832)),i=h(n(108)),a=h(n(1));n(172);var s=n(18),c=n(153),u=h(n(404)),l=n(7),f=h(n(54)),p=(n(14),h(n(116))),d=h(n(71));function h(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var m=function(){},v=function(e){function t(n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,r));i.name="annotsRender",i.$ui=n,i.annots=o,i.pageRender=r,i.annotRenders={};var a=i.pdfViewer.customs||{};return i.activeAnnotBefore=a.activeAnnotBefore||m,i.activeAnnotAfter=a.activeAnnotAfter||m,i.unActiveAnnotBefore=a.unActiveAnnotBefore||m,i.unActiveAnnotAfter=a.unActiveAnnotAfter||m,i.mouseEnterAnnots=[],i.initAnnotEvent(),i}return g(t,e),t.prototype.initAnnotEvent=function(){var e=this,t=this.pdfViewer.getEventEmitter(),n=new Hammer.Manager(this.$ui.get(0));n.add(new Hammer.Tap({event:"doubletap",taps:2})),n.add(new Hammer.Tap({event:"singletap"})),n.get("doubletap").recognizeWith("singletap"),n.get("singletap").requireFailure("doubletap"),n.add(new Hammer.Press),n.on("singletap",(function(n){if(!(0,u.default)(n.target)){var o=e._findAnnotRender(n.target);o&&!e._isFormWidget(o)&&(t.emit(a.default.tapAnnotation,o,n),o.component.tapAnnot(n))}})),n.on("doubletap",(function(n){if(!(0,u.default)(n.target)){var o=e._findAnnotRender(n.target);if(o&&!e._isFormWidget(o)){var r=o.annot.getId();t.emit(a.default.doubleTapAnnotation,o,n),e.doubleTapAnnot(r)}}})),n.on("press",(function(n){if(!(0,u.default)(n.target)){var o=e._findAnnotRender(n.target);o&&!e._isFormWidget(o)&&t.emit(a.default.pressAnnotation,o,n)}}));var o=function(t,n){e.updateAnnotRendersId(n,t)};t.on(a.default.annotationIDUpdated,o),this.addDestroyHook((function(){n.destroy(),t.off(a.default.annotationIDUpdated,o)}),(0,c.attachContextMenuEvent)(this.$ui.get(0),(function(n){var o=e._findAnnotRender(n.target);if(o){var r=o.annot.getId();"link"!=o.annot.getType()?(t.emit(a.default.rightClickAnnotation,o,n),e.showContextMenu(r,n.clientX,n.clientY),n.preventDefault()):n.preventDefault()}}),{capture:!0}))},t.prototype._isFormWidget=function(e){return"widget"===e.annot.getType()},t.prototype._findAnnotRender=function(e){var t=this,n=e.closest(".fv__pdf-page-annot-container"),o=function(){return Object.keys(t.annotRenders).map((function(e){return t.annotRenders[e]}))};if(n)return o().filter((function(e){return e.component.$ui.get(0)===n}))[0];var r=e.closest(".fv__pdf-page-annot-handler-container");return r?o().filter((function(e){return e.component.$handler.get(0)===r}))[0]:e.closest(".fv__shape-control.callout")?o().filter((function(e){var t=e.component;return!(e.annot.getIntent()!==l.Intents.FREETEXT_CALLOUT||!f.default.isPropertyIntialized(t,"shapeControl"))&&t.shapeControl.annot.getId()===e.annot.getId()}))[0]:void 0},t.prototype.updateSize=function(e,t){var n=this;this.annots.map((function(o){var r=o.getId(),i=n.annotRenders[r];i&&i.updateSize(e,t)}))},t.prototype.render=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments[2];if(this.isDestroyed)return Promise.resolve();var a=this.renderSerialPromise;a&&a.end().catch(m);e!==this.scale||this.rotate;this.scale=e,this.rotate=n;var c=this.annots,u=c.filter((function(e){return!t.annotRenders[e.getId()]})).map((function(e){return new r.default((0,o.default)("<div>"),(0,o.default)("<div>"),e,t)})),l=this.$ui;l.append(u.reduce((function(e,t){return e.append(t.$ui,t.$handler),e}),(0,o.default)(document.createDocumentFragment())));u.forEach((function(e){return t.annotRenders[e.annot.getId()]=e}));var f=function(){return t.isDestroyed},p=c.map((function(o){var r=o.getId(),a=t.annotRenders[r];return function(){return function(){if(f())return Promise.resolve();try{return Promise.resolve(a.render(e,n,i))}catch(e){return Promise.reject(e)}}()}}));return(a=this.renderSerialPromise=new s.SerialPromise(0)).serial(p)},t.prototype.adjustHighlightsRender=function(){return Promise.resolve()},t.prototype.adjustHighlightAnnots=function(){var e=[];for(var t in this.annotRenders){var n=this.annotRenders[t];"highlight"===n.annot.getType()&&e.push(n.redraw())}return Promise.all(e)},t.prototype.destroy=function(){for(var t in e.prototype.destroy.call(this),this.annotRenders){var n=this.annotRenders[t];n&&n.destroy()}this.invisibleRender(),this.annots=[],this.pageRender=null,this.annotRenders=null},t.prototype.clickNoteAt=function(e){var t=this.annotRenders[e];t&&t.focus()},t.prototype.unActiveAnnot=function(e){var t=this,n=this.pdfViewer.getAllActiveElements();if(!n.length)return Promise.resolve();var o=this.pdfViewer.eventEmitter;return e||this.pdfViewer.clearMultiSelectActiveFlag(),Promise.resolve(this.unActiveAnnotBefore()).then((function(r){if(!1!==r&&null!=t.pageRender){var i=n.filter((function(e){return e.annot}));e instanceof d.default?i=i.filter((function(t){return t.annot===e})):"string"==typeof e&&(i=i.filter((function(t){return t.annot.id===e}))),i.forEach((function(e){t.pdfViewer.deactivateElement(e),o.emit(a.default.unActiveAnnotation,e,e.annot.getId(),t),t.unActiveAnnotAfter(e)}))}}))},t.prototype._unActiveAnnot=function(e){e.unActive()},t.prototype._forEachRenderer=function(e){for(var t in this.annotRenders)e.call(this,this.annotRenders[t],t,this.annotRenders)},t.prototype.activeAnnot=function(e){var t=this,n=this.annotRenders[e];if(!n)return Promise.resolve();var o=this.pdfViewer;if(o.activationManager.currentActivableIs(n.component)&&!p.default.isShiftDown)return Promise.resolve(n);var r=o.eventEmitter,i=this.pdfViewer.customs;return Promise.resolve((i.activeAnnotBefore||m)(n,e,this)).then((function(o){if(r.emit(a.default.activeAnnotationBefore,n,e,t),!1===o)return n;if(n.annot.isGrouped&&n.annot.isGrouped()){var s=[];return n.getGroupRenders().map((function(e){"popup"!==e.annot.getType()&&s.push(e.active())})),Promise.all(s).then((function(){return r.emit(a.default.activeAnnotation,n,e,t),Promise.resolve((i.activeAnnotationAfter||m)(n,e,t))})).then((function(){return r.emit(a.default.activeAnnotationAfter,n,e,t),n}))}return n.active().then((function(){return r.emit(a.default.activeAnnotation,n,e,t),Promise.resolve((i.activeAnnotationAfter||m)(n,e,t))})).then((function(){return r.emit(a.default.activeAnnotationAfter,n,e,t),n}))}))},t.prototype._activeAnnot=function(e,t){var n=this.annotRenders[e];return n?n.active():Promise.resolve()},t.prototype.splitAnnotIndexArr=function(e,t,n){for(var o=[],r=[],i=e+1,a=e-1,s=-1,c=0,u=t.length;c<u;c++){var l=t[c],f=l.length;if(1===f&&l[0]===e)return!1;for(var p=0,d=f;p<d;p++){var h=l[p];if(h instanceof Array){var g=h[0],m=h[1];if(e===g){s=c,o=l.slice(0,p),r=(r=m>i?[[i,m]]:[m]).concat(l.slice(p+1));break}if(e===m){s=c,o=l.slice(0,p),g<a?o.push([g,a]):o.push(g),r=l.slice(p+1);break}if(e>g&&e<m){s=c,o=l.slice(0,p),a===g?o.push(g):o.push([g,a]),r=(r=i===m?[m]:[[i,m]]).concat(l.slice(p+1));break}}else if(h===e){s=c,o=l.slice(0,p),r=l.slice(p+1);break}}if(-1!==s)break}if(-1===s)return!1;var v=JSON.stringify(t[s]),y=n[v],b=[s,1];return o.length&&b.push(o),b.push([e]),r.length&&b.push(r),t.splice.apply(t,b),{removeTileCanvas:y,beforeIndexArr:o,splitIndexArr:[e],afterIndexArr:r,tileCanvasMap:n,splitKey:v}},t.prototype.splitTileCanvas=function(e,t,n,r,i,a,s,c,u,l){var f=e.beforeIndexArr,p=e.splitIndexArr,d=e.afterIndexArr,h=e.removeTileCanvas,g=e.tileCanvasMap,m=e.splitKey,v=(0,o.default)(document.createDocumentFragment()),y=[];return f.length&&y.push(this.rangeAnnotTileCanvasRedraw(t,n,f,g,v,r,i,a,s,c,u,l)),y.push(this.renderSplitAnnots(p,t,n,v,r,u,l)),d.length&&y.push(this.rangeAnnotTileCanvasRedraw(t,n,d,g,v,r,i,a,s,c,u,l)),Promise.all(y).then((function(){h.$container.before(v),h.destroy(),delete g[m]}))},t.prototype.getAnnotRender=function(e){return this.annotRenders[e]},t.prototype.getAnnotRenderSafely=function(e){var t=this.annots.find((function(t){return t.getId()===e}));return t?this.getOrCreateAnnotRender(t):null},t.prototype.removeAnnotRender=function(e){var t=e.annot.getId();delete this.annotRenders[t]},t.prototype.showContextMenu=function(e,t,n){return this.activeAnnot(e).then((function(e){return e&&e.showContextMenu(t,n)}))},t.prototype.doubleTapAnnot=function(e){return this.activeAnnot(e).then((function(e){return e&&e.doubleTapAnnot()}))},t.prototype.getOrCreateAnnotRender=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.$ui[0],n=e.getId();if(this.annotRenders[n])return this.annotRenders[n];var i=(0,o.default)("<div></div>"),a=(0,o.default)("<div></div>");return t.appendChild(i[0]),t.appendChild(a[0]),this.annotRenders[n]=new r.default(i,a,e,this)},t.prototype.addAnnots=function(e){var t=this,n=(0,o.default)(document.createDocumentFragment());this.annots.reduce((function(e,o){var r=o.getId();return e[r]||(e[r]=t.getOrCreateAnnotRender(o,n[0])),e}),this.annotRenders),this.$ui.append(n);for(var r=!1,i=0,a=e.length;i<a;i++){if("highlight"===e[i].getType()){r=!0;break}}r&&this.parent("pdfPageRender").redrawContent(!0)},t.prototype.getAnnotRenders=function(){return this.annotRenders},t.prototype.removeAnnotRenders=function(e){var t=this,n=this.annotRenders,o=e.map((function(e){var n=e.getId(),o=t.getAnnotRender(n);return o&&o.remove(!0)}));return Promise.all(o).then((function(){var o=t.annots.map((function(e){return e.getId()}));e.forEach((function(e){var r=e.getId();delete n[r];var i=o.indexOf(r);i>-1&&(o.splice(i,1),t.annots.splice(i,1))}))}))},t.prototype.redrawAnnotRenders=function(e){for(var t=e.length;t--;){var n=e[t].getId(),o=this.getAnnotRender(n);o&&o.redraw(!1,!0)}},t.prototype.movedAnnotRenders=function(e,t){for(var n=e.length;n--;){var o=e[n].getId(),r=this.getAnnotRender(o);r&&r.moved(t)}},t.prototype.addAnnotRenders=function(e){var t,n=this,i=[];e.filter((function(e){var t=e.getId(),o=n.annots.findIndex((function(e){return e.getId()===t}));o>-1?n.annots[o]=e:i.push(e)})),(t=this.annots).push.apply(t,i);var a=i.map((function(e){var t=new r.default((0,o.default)("<div>"),(0,o.default)("<div>"),e,n);return n.scale=n.pageRender.scale,t.render(n.scale,n.rotate),t}));if(a.length>0){var s=(0,o.default)(document.createDocumentFragment());a.forEach((function(e){s.append(e.$ui,e.$handler),n.annotRenders[e.annot.getId()]=e})),this.$ui.append(s)}},t.prototype.updateAnnotRendersId=function(e,t){e in this.annotRenders&&(this.annotRenders[t]=this.annotRenders[e],delete this.annotRenders[e])},t.prototype.endRender=function(){var e=this.renderSerialPromise;e&&e.end().catch(m)},t.prototype.invisibleRender=function(){this.endRender();var e=this.annotRenders;for(var t in e)e[t].invisibleRender()},t}(i.default);t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(108),i=(o=r)&&o.__esModule?o:{default:o};function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var s=function(){},c=function(e){function t(n,o,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,i));return a.name=t.getDefaultName(),a.$ui=n,a.$handler=o,a.$page=i.$ui,a.annot=r,a.component=new(a.pdfViewer.annotManager.get(r))(r,n[0],o[0],a),a}return a(t,e),t.getDefaultName=function(){return"annotRender"},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.annot=null,this.component.destroy(),this.component=null},t.prototype.updateSize=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return this.component.updateSize(e,t)},t.prototype.render=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,n=arguments[2];if(this.isDestroyed||this.component.isDestroyed)return Promise.resolve();var o=this.scale,r=this.rotate;this.scale=e,this.rotate=t;var i=this.component;if(i.setVisibleRect(n),i.isHidden()){if(i.$ui.addClass("fv__markup-annot-invisible"),!i.isFormControl())return Promise.resolve()}else i.isUIVisible()&&i._showUI();return i.isUIVisible()?Promise.resolve(i.render(e,t)).then((function(n){var a=o!==e||r!==t;return Promise.resolve(i.afterRender({transformed:a,prescale:o,scale:e,prerotate:r,rotate:t})).then((function(e){return n}))})).catch(s):Promise.resolve()},t.prototype.add=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return this.scale=e,this.rotate=t,Promise.resolve(this.component.add(e,t))},t.prototype.active=function(){return Promise.resolve(this.component.active())},t.prototype.unActive=function(){return Promise.resolve(this.component.unActive())},t.prototype.destroy=function(){this.component.destroy()},t.prototype.focus=function(){return this.component.focus(this.$page)},t.prototype.blur=function(){return this.component.blur(this.$page)},t.prototype.remove=function(e){var t=this,n=this.parent();if(e)return n.unActiveAnnot(this.annot).then((function(){t.component.remove(),n.removeAnnotRender(t)}));for(var o=this.getRelevanceRenders(),r=[],i=o.length;i--;)r[i]=o[i].remove(!0);return Promise.all(r)},t.prototype.showContextMenu=function(e,t){this.component.showContextMenu(e,t)},t.prototype.doubleTapAnnot=function(){this.component.doubleTapAnnot()},t.prototype.redraw=function(e,t){if(e)return Promise.resolve(this.component.redraw(t));for(var n=this.getGroupRenders(),o=[],r=n.length;r--;)o[r]=n[r].redraw(!0,t);return Promise.all(o)},t.prototype.getAnnot=function(){return this.getPDFAnnot()},t.prototype.getPDFAnnot=function(){return this.annot},t.prototype.getGroupRenders=function(){var e=this.annot,t=[e];if(!e.IsGrouped||!e.IsGrouped())return[this];t=[].concat(e.getGroupElements());var n=this.parent().getAnnotRenders(),o=[];for(var r in n){var i=n[r],a=t.indexOf(i.getPDFAnnot());if(a>-1&&(o.push(i),t.splice(a,1)),!t.length)break}return o},t.prototype.getRelevanceRenders=function(){var e,t=[],n=this.annot;(e=(n=n.getGroupHeader&&n.getGroupHeader()||n).getPopup&&n.getPopup())&&t.push(e),function(e,t){u(e,"getReplies",t)}(n,t),l(n,t),f(n,t);var o=n.isGrouped&&n.isGrouped()?n.getGroupElements():[n];t=t.concat(o);var r=this.parent().getAnnotRenders(),i=[];try{for(var a in r){var s=r[a],c=t.indexOf(s.getPDFAnnot());if(c>-1&&(i.push(s),t.splice(c,1)),!t.length)break}}catch(e){}return i},t.prototype.moved=function(e){this.component.moved(),this.component.movedByOther(e)},t.prototype.getComponent=function(){return this.component},t.prototype.invisibleRender=function(){this.component.invisibleRender()},t.prototype.clearCache=function(){this.component.clearCache()},t}(i.default);function u(e,t,n){if(e[t]){var o=e[t](),r=o.length;if(r){n.push.apply(n,o);for(var i=r;i--;){var a=o[i];l(a,n),f(a,n),u(a,t,n)}}}}function l(e,t){return u(e,"getMarkedStates",t)}function f(e,t){return u(e,"getReviewStates",t)}t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={MARKED:"marked",UNMARKED:"unmarked",ACCEPTED:"accepted",REJECTED:"rejected",CANCELLED:"cancelled",COMPLETED:"completed",NONE:"none"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(t,n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.left=t,this.bottom=n,this.right=o,this.top=r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(269)),r=i(n(836));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var s=function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o));return i.handlers={hand:r.default},i.destroyStateHandlers={},i}return a(t,e),t.prototype.active=function(){this.activated||(this.activated=!0,this.$handler.addClass("fv__active"));this.states.length||this.resetState()},t.prototype.destroy=function(){this.$handler.removeClass("fv__active")},t.prototype.intoState=function(e){var t=this.states;if(-1===t.indexOf(e)){t.push(e);var n=this.handlers[e];n&&(this.destroyStateHandlers[e]=n.bind(this)())}},t.prototype.outState=function(e){var t=void 0;(t=this.destroyStateHandlers[e])&&(t.bind(this)(),delete this.destroyStateHandlers[e]);var n;-1!==(n=this.states.indexOf(e))&&this.states.splice(n,1)},t.prototype.resetState=function(){this.setStates(["hand"])},t.prototype.setStates=function(e){for(var t=this.states,n=0,o=t.length;n<o;n++)this.outState(t[n]);for(var r=0,i=e.length;r<i;r++)this.intoState(e[r])},t.prototype.getStates=function(){return this.states},t}(o.default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=this,t=e.$handler,n=t[0],i=this.render,a=i.pdfViewer.eventEmitter,s=new o.default.Manager(n,{recognizers:[[o.default.Pan,{direction:o.default.DIRECTION_ALL}]]});s.add(new o.default.Tap({event:"doubletap",taps:2})),s.add(new o.default.Tap({event:"singletap"})),s.get("doubletap").recognizeWith("singletap"),s.get("singletap").requireFailure("doubletap"),s.on("singletap",(function(e){var t=i.annotsRender;t?(t.unActiveAnnot(),i.parent("pdfDocRender").getFormRender().blurControl(),a.emit(r.default.tapPage,e)):a.emit(r.default.tapPage,e)})),s.on("doubletap",(function(e){var t=i.annotsRender;t?(t.unActiveAnnot(),i.parent("pdfDocRender").getFormRender().blurControl(),a.emit(r.default.doubleTapPage,e)):a.emit(r.default.doubleTapPage,e)})),s.on("press",(function(e){var t=i.annotsRender;t?(t.unActiveAnnot(),i.parent("pdfDocRender").getFormRender().blurControl(),a.emit(r.default.pressPage,e)):a.emit(r.default.pressPage,e)})),n.oncontextmenu=function(e){e.preventDefault()};var c=void 0;return t.on("mouseup",c=function(e){if(3===e.which){var t=i.annotsRender;t?(t.unActiveAnnot(),a.emit(r.default.rightClickPage,e)):a.emit(r.default.rightClickPage,e)}}),function(){s.destroy(),t.off("mouseup",c);e=void 0,t=void 0,n=void 0,a=void 0,c=void 0}};var o=i(n(43)),r=i(n(1));n(172);n(109);function i(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(154);function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(t,n,o){var i=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];r(this,e),this.pageRender=t,this.secondaryScale=a,this.fixedPosition=s;var c=document.createElement("div");c.classList.add("fv__page-area-renderer");var u=document.createElement("canvas");c.appendChild(u),this.canvas=u,this.element=c,this.setDimension(n,o),this.offsetPageX=0,this.offsetPageY=0,t.getPDFPage().then((function(e){i.api=e.doc.api,i.offRender=function(e){i.tasks&&i.api.continueProgress(i.tasks.id).then(i.displayImage.bind(i))},i.api.on("idle",i.offRender)}))}return e.prototype.setDimension=function(e,t){this.width=e,this.height=t,this.canvas.width=e,this.canvas.height=t,this.element.style.cssText+="width: "+e+"px;height:"+t+"px"},e.prototype.setPosition=function(e,t){this.offsetPageX=e,this.offsetPageY=t},e.prototype.setSecondaryScale=function(e){e=Number(e),(!isFinite(e)||e<=0)&&(e=1),this.secondaryScale=e},e.prototype.update=function(){var e=this,t=this.pageRender;return t.getPDFPage().then((function(n){var r=e.api;e.tasks&&(r.cancleProgress(e.tasks.id),e.tasks=null);var i=t.scale,a=e.canvas,s=4*i/3*e.secondaryScale,c=t.getShowWidth()*e.secondaryScale,u=t.getShowHeight()*e.secondaryScale,l=a.width,f=a.height,p=l/2,d=f/2,h=e.offsetPageX*e.secondaryScale,g=e.offsetPageY*e.secondaryScale,m=h-p,v=h+p,y=g-d,b=g+d,w=0,_=0;e.fixedPosition?(m<0&&(v=(m=0)+l),v>c&&(m=(v=c)-l),y<0&&(b=(y=0)+f),b>u&&(y=(b=u)-f)):(m<0?w=Math.min(-m,p):v>c&&(w=Math.max(c-v,-p)),y<0?_=Math.min(-y,d):b>u&&(_=Math.max(u-b,-d)),a.style.cssText+="left: "+w+"px; top: "+_+"px");var P=Math.max(0,m),O=Math.min(v,c),E=Math.max(0,y),x=Math.min(b,u),C=Math.round(O-P),A=Math.round(x-E),S=Math.abs(Math.min(0,w)),D=Math.abs(Math.min(0,_)),T=""+Date.now()+(0,o.getSecureRandom)();return e.tasks={id:T,canvasDrawingLeft:S,canvasDrawingTop:D},n.getPageBitmap(s,e.pageRender.rotate,{x:P,y:E,width:C,height:A},["page","annot"],"print",T).then(e.displayImage.bind(e))}))},e.prototype.displayImage=function(e){var t=e.buffer,n=e.image,o=e.progressiveId,r=(e.x,e.y,e.width),i=e.height,a=e.rate;if(!e.isEmpty&&this.tasks){if(this.tasks.id==o){var s=this.canvas,c=s.getContext("2d");if(n)return new Promise((function(e,t){try{var o=new Image;o.onload=function(){c.drawImage(o,0,0,r,i),URL.revokeObjectURL(o.src),e(s)},o.src=URL.createObjectURL(n)}catch(e){console.log(e)}}));var u=c.createImageData(r,i);return u.data.set(new(Uint8ClampedArray||Uint8Array)(t)),c.putImageData(u,this.tasks.canvasDrawingLeft,this.tasks.canvasDrawingTop),100==a&&(this.tasks=null),s}}else this.tasks=null},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(839)),r=a(n(840)),i=a(n(21));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=function(){function e(t,n,i,a){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{position:"Center",offsetX:0,offsetY:0,scaleX:1,scaleY:1,rotation:-45,opacity:100},u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{font:"Microsoft Yahei",fontSize:20,color:"#000000",fontStyle:"normal",lineSpace:10,alignment:"center"};s(this,e),this.showWidth=t,this.showHeight=n,this.tileSize=i,this.smartScale=a;var l=c.position,f=c.offsetX,p=c.offsetY,d=c.scaleX,h=c.scaleY,g=c.rotation,m=c.opacity,v=u.font,y=u.fontSize,b=u.color,w=u.fontStyle,_=u.lineSpace,P=u.alignment;this.watermarkSettings=new o.default(l,f,p,d,h,g,m),this.watermarkTextProperties=new r.default(v,y,b,w,_,P)}return e.prototype.exportDataURL=function(e){var t=e.content,n=e.type;return"text"===n?this.createTextWatermark(t):"image"===n?this.createImageWatermark(t):void 0},e.prototype.createImageWatermark=function(e){var t=this,n=(0,i.default)(),o=document.createElement("canvas");o.width=this.showWidth,o.height=this.showHeight;var r=o.getContext("2d"),a=o.getContext("2d"),s=new Image;s.src=e;var c=this.watermarkSettings,f=c.getOffsetX(),p=c.getOffsetY(),d=c.getScaleX(),h=c.getScaleY(),g=c.getRotation(),m=this.showWidth,v=this.showHeight;return s.onload=function(){s.width=s.width*d*t.smartScale,s.height=s.height*h*t.smartScale,u(r,c.getOpacity()),r.save();var e=l(s.width,s.height,g),i=e.x,y=e.y;switch(c.getPosition()){case"TopLeft":a.translate(i+s.width/2,y+s.height/2);break;case"TopCenter":a.translate(m/2,y+s.height/2);break;case"TopRight":a.translate(m-i-s.width/2,y+s.height/2);break;case"CenterLeft":a.translate(i+s.width/2,v/2);break;case"Center":a.translate(m/2,v/2);break;case"CenterRight":a.translate(m-i-s.width/2,v/2);break;case"BottomLeft":a.translate(i+s.width/2,v-y-s.height/2);break;case"BottomCenter":a.translate(m/2,v-y-s.height/2);break;case"BottomRight":a.translate(m-i-s.width/2,v-y-s.height/2)}a.rotate(g*Math.PI/180),a.drawImage(s,-s.width/2+f,-s.height/2+p,s.width,s.height),r.restore(),n.resolve(o.toDataURL())},s.onerror=function(e){var t=new Error("Failed to load image");t.originEvent=e,n.reject(t)},s.oncancel=function(e){var t=new Error("Load image has been cancelled");t.originEvent=e,n.reject(t)},n.promise},e.prototype.createTextWatermark=function(e){var t=(0,i.default)(),n=document.createElement("canvas");n.width=this.showWidth,n.height=this.showHeight;var o=e.split("\n"),r=n.getContext("2d"),a=n.getContext("2d"),s=this.showWidth,c=this.showHeight,f=this.watermarkTextProperties,p=f.getFontSize()*this.smartScale,d=f.getLineSpace()*this.smartScale,h=f.getFontStyle(),g=f.getColor(),m=f.getAlignment(),v=f.getFont();a.font=p+"px "+v,a.fillStyle=g;var y=this.watermarkSettings,b=y.getOffsetX(),w=y.getOffsetY(),_=(y.getScaleX(),y.getScaleY(),y.getRotation()),P=0,O=o.length,E=O*p+(O-1)*d;o.map((function(e){var t=e.replace(/\s+/g,"");P=Math.max(t.length*p,P)})),a.lineWidth=1,a.strokeStyle=g,r.textBaseline="top",u(r,y.getOpacity());var x=l(P,E,_),C=x.x,A=x.y;switch(y.getPosition()){case"TopLeft":a.translate(C+P/2,A+E/2);break;case"TopCenter":a.translate(s/2,A+E/2);break;case"TopRight":a.translate(s-C-P/2,A+E/2);break;case"CenterLeft":a.translate(C+P/2,c/2);break;case"Center":a.translate(s/2,c/2);break;case"CenterRight":a.translate(s-C-P/2,c/2);break;case"BottomLeft":a.translate(C+P/2,c-A-E/2);break;case"BottomCenter":a.translate(s/2,c-A-E/2);break;case"BottomRight":a.translate(s-C-P/2,c-A-E/2)}return a.rotate(_*Math.PI/180),p<12&&a.scale(p/12,p/12),o.map((function(e,t){var n=e.replace(/(^\s*)|(\s*$)/g,""),o=n.length*p,i=void 0,s=void 0,c=0,u=0;switch(m){case"left":r.textAlign="left",i=-o/2-(P-o)/2,s=o/2-(P-o)/2,c=-P/2,u=-E/2;break;case"right":r.textAlign="right",i=-o/2+(P-o)/2,s=o/2+(P-o)/2,c=P/2,u=-E/2;break;default:r.textAlign="center",i=-o/2,s=o/2,u=-E/2}a.fillText(n,c+b,u+t*(d+p)+w),"underline"===h&&(a.moveTo(i,-E/2+p+t*(p+d)),a.lineTo(s,-E/2+p+t*(p+d)),a.stroke())})),t.resolve(n.toDataURL()),t.promise},e.prototype.getWatermarkSettings=function(){return this.watermarkSettings},e.prototype.getWatermarkTextProperties=function(){return this.watermarkTextProperties},e.prototype.getHeight=function(){return this.showHeight},e.prototype.getWidth=function(){return this.showWidth},e}();function u(e,t){e.globalAlpha=t/100}function l(e,t,n){var o=Math.sqrt(Math.pow(e/2,2)+Math.pow(t/2,2)),r=Math.asin(t/2/o)/(Math.PI/180),i=void 0,a=void 0,s=(n+360)%360;s>=270&&s<360||s>=90&&s<180?(i=n-r,a=r+n):(i=n+r,a=n-r);var c=o*Math.abs(Math.sin(i*Math.PI/180));return{x:o*Math.abs(Math.cos(a*Math.PI/180))-e/2,y:c-t/2}}t.default=c},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Center",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:-45,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:100;o(this,e),this.position=t,this.offsetX=n,this.offsetY=r,this.scaleX=i,this.scaleY=a,this.rotation=s,this.opacity=c}return e.prototype.setPosition=function(e){this.position=e},e.prototype.getPosition=function(){return this.position},e.prototype.setOffsetX=function(e){this.offsetX=e},e.prototype.getOffsetX=function(){return this.offsetX},e.prototype.setOffsetY=function(e){this.offsetY=e},e.prototype.getOffsetY=function(){return this.offsetY},e.prototype.setScaleX=function(e){this.scaleX=e},e.prototype.getScaleX=function(){return this.scaleX},e.prototype.setScaleY=function(e){this.scaleY=e},e.prototype.getScaleY=function(){return this.scaleY},e.prototype.setRotation=function(e){this.rotation=e},e.prototype.getRotation=function(){return this.rotation},e.prototype.setOpacity=function(e){this.opacity=e},e.prototype.getOpacity=function(){return this.opacity},e}();t.default=r},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Microsoft Yahei",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#000000",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"normal",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:10,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"center";o(this,e),this.font=t,this.fontSize=n,this.color=r,this.fontStyle=i,this.lineSpace=a,this.alignment=s}return e.prototype.setFont=function(e){this.font=e},e.prototype.getFont=function(){return this.font},e.prototype.setFontSize=function(e){this.fontSize=e},e.prototype.getFontSize=function(){return this.fontSize},e.prototype.setColor=function(e){this.color=e},e.prototype.getColor=function(){return this.color},e.prototype.setFontStyle=function(e){this.fontStyle=e},e.prototype.getFontStyle=function(){return this.fontStyle},e.prototype.setLineSpace=function(e){this.lineSpace=e},e.prototype.getLineSpace=function(){return this.lineSpace},e.prototype.setAlignment=function(e){this.alignment=e},e.prototype.getAlignment=function(){return this.alignment},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(108);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=function(e){function t(n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,r));return i.name="customsRender",i.$ui=n,i.customs=o,i.customRenders={},i}return i(t,e),t.prototype.render=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.scale=e,this.rotate=t;var n=this.customs;this.adjustCustomsRenderInit(n);var o=this.pdfViewer.customRenderManager,r=this.customRenders;return Promise.all(n.map((function(n){return r[o.getCustomDataId(n)].render(e,t)})))},t.prototype.activeCustom=function(e){var t=this.customRenders[this.customManager.getCustomDataId(e)];return t?(this.currentActiveCustomRender=t,t.render(this.scale,this.rotate)):Promise.reject(new Error("Custom render not found!"))},t.prototype.unActiveCustoms=function(){var e=this.currentActiveCustomRender;if(e)return e.unActive()},t.prototype.adjustCustomsRenderInit=function(e){var t=this,n=this.pdfViewer.customRenderManager,o=this.customRenders,r=document.createDocumentFragment();e.filter((function(e){return!o[n.getCustomDataId(e)]})).map((function(e){var i=document.createElement("div"),a=document.createElement("div");r.appendChild(i),r.appendChild(a),o[n.getCustomDataId(e)]=new(n.get(e))(i,a,e,t)})).length&&this.$ui.append(r)},t.prototype.addCustomRenders=function(e){this.adjustCustomsRenderInit(e);var t=this.pdfViewer.customRenderManager,n=this.customRenders,o=this.scale,r=this.rotate;return Promise.all(e.map((function(e){return n[t.getCustomDataId(e)].render(o,r)})))},t.prototype.removeCustomRenders=function(e){var t={},n=this.pdfViewer.customRenderManager,o=this.customRenders;e.map((function(e){var r=n.getCustomDataId(e);t[r]=1,delete o[r]}));for(var r=this.customs,i=r.length;i--;)t[n.getCustomDataId(r[i])]&&r.splice(i,1)},t.prototype.destroy=function(){e.prototype.destroy.call(this);var t=this.customRenders;for(var n in t){var o=t[n];o&&o.destroy()}this.customRenders=null},t.prototype.updateCustomRenders=function(e){for(var t=this,n={},o=this.pdfViewer.customRenderManager,r=this.customRenders,i=e.map((function(e){var t=o.getCustomDataId(e);return n[t]=e,r[t]})),a=this.customs,s=a.length;s--;){var c=o.getCustomDataId(a[s]);n[c]&&(a[s]=n[c])}return Promise.all(i.map((function(e){return e&&e.render(t.scale,t.rotate)})))},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(72));r(n(71)),r(n(19));function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=function(e){function t(n,o,r,i,a,s){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r,i,a,s))}return i(t,e),t.prototype.getName=function(){return this.info.name},t.prototype.checkOutData=function(e){return e&&e.name},t}(o.default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(72)),r=i(n(137));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var s=function(e){function t(n,o,i,a,s,c){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var u=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,i,a,s,c));return u.fileSpec=u.info.fileSpec&&new r.default(u.info.fileSpec)||null,u}return a(t,e),t.prototype.getDestinationName=function(){return this.info.destinationName},t.prototype.getDestination=function(){return this.info.destination},t.prototype.getFileSpec=function(){return this.fileSpec},t.prototype.getNewWindowFlag=function(){return this.info.newWindowFlag},t.prototype.getFileSpecStream=function(){var e=[];return this.doc.api.getActionFileStream(this.doc.getId(),this.info.objNumber,(function(t){var n=t.arrayBuffer;e.push(n)})).then((function(){return e}))},t.prototype.checkOutData=function(e){return function(e){var t=void 0;return t=!!e.type,{ZoomXYZ:function(){t=e.pageIndex!=null&&e.left!=null&&e.top!=null&&e.zoomFactor!=null},ZoomFitPage:function(){t=!!(e.pageIndex!=null)},ZoomFitHorz:function(){t=e.pageIndex!=null&&e.top!=null},ZoomFitVert:function(){t=e.pageIndex!=null&&e.left},ZoomFitRect:function(){t=e.pageIndex!=null&&e.left&&e.top!=null&&e.bottom!=null&&e.right!=null},ZoomFitBBox:function(){t=!!(e.pageIndex!=null)},ZoomFitBHorz:function(){t=e.pageIndex!=null&&e.top!=null},ZoomFitBVert:function(){t=e.pageIndex!=null&&e.left!=null}}[e.type](),t&&e.buffer&&e.newWindowFlag}(e)},t}(o.default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(72)),r=i(n(137));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var s=function(e){function t(n,o,i,a,s,c){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var u=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,i,a,s,c));return u.rootFile=u.info.rootFile&&new r.default(u.info.rootFile)||null,u}return a(t,e),t.prototype.getDestinationName=function(){return this.info.destinationName},t.prototype.getDestination=function(){return this.info.destination},t.prototype.getRootFile=function(){return this.rootFile},t.prototype.getNewWindowFlag=function(){return this.info.newWindowFlag},t.prototype.checkOutData=function(e){return function(e){var t=void 0;return t=!!e.type,{ZoomXYZ:function(){t=e.pageIndex!=null&&e.left!=null&&e.top!=null&&e.zoomFactor!=null},ZoomFitPage:function(){t=!!(e.pageIndex!=null)},ZoomFitHorz:function(){t=e.pageIndex!=null&&e.top!=null},ZoomFitVert:function(){t=e.pageIndex!=null&&e.left},ZoomFitRect:function(){t=e.pageIndex!=null&&e.left&&e.top!=null&&e.bottom!=null&&e.right!=null},ZoomFitBBox:function(){t=!!(e.pageIndex!=null)},ZoomFitBHorz:function(){t=e.pageIndex!=null&&e.top!=null},ZoomFitBVert:function(){t=e.pageIndex!=null&&e.left!=null}}[e.type](),t&&e.buffer&&e.newWindowFlag}(e)},t}(o.default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(138);var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.format=function(e,t,n){return[{type:"string",value:"["+this.levelText(t)+"]"},{type:"string",value:"{"+e+"}"}].concat(n.map((function(e){return null==e?{type:void 0===e?"undefined":o(e),value:e+""}:{type:void 0===e?"undefined":o(e),value:e}})))},e.prototype.levelText=function(e){switch(e){case r.LEVEL_DEBUG:return"DEBUG";case r.LEVEL_INFO:return"INFO";case r.LEVEL_WARN:return"WARN";case r.LEVEL_ERROR:return"ERROR"}return"UNKNOWN LEVEL"},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoLogger=void 0;var o=n(138),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(276));function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=function(){function e(t,n,o,r){s(this,e),this.appender=t,this.layout=n,this.module=o,this.minLevel=r,this.logOff=!1}return e.prototype.toggle=function(e){this.logOff="boolean"==typeof e?e:!r.logOff},e.prototype.setLevel=function(e){this.minLevel=e},e.prototype.doLog=function(e,t){if(!this.isLoggable(e)){var n=this.layout.format(this.module,e,t);this.appender.print(n,e)}},e.prototype.log=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];this.doLog(e,n)},e.prototype.debug=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.doLog(o.LEVEL_DEBUG,t)},e.prototype.info=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.doLog(o.LEVEL_INFO,t)},e.prototype.warn=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.doLog(o.LEVEL_WARN,t)},e.prototype.error=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.doLog(o.LEVEL_ERROR,t)},e.prototype.isLoggable=function(e){return this.logOff||r.logOff||e<this.minLevel||e<r.logLevel},e}();t.default=c;t.NoLogger=function(e){function t(){return s(this,t),i(this,e.apply(this,arguments))}return a(t,e),t.prototype.doLog=function(){},t}(c)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(138);var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.format=function(e,t,n){var r=this,i=(new Error).stack,a=void 0;i&&(a="\n  "+i.split("\n")[4].trim());return[{type:"string",style:"color: "+this.levelColor(t)+";",value:"["+this.levelText(t)+"]"},{type:"string",style:"color: magenta",value:"{"+e+"}"}].concat(n.map((function(e){return null==e?{type:void 0===e?"undefined":o(e),style:"color: megenta;font-weight: bold",value:e+""}:"string"==typeof e?{type:void 0===e?"undefined":o(e),style:"color: "+r.levelColor(t),value:e}:{type:void 0===e?"undefined":o(e),value:e}}))).concat({type:"string",style:"color: grey;",value:a})},e.prototype.levelColor=function(e){switch(e){case r.LEVEL_DEBUG:return"blue";case r.LEVEL_INFO:return"green";case r.LEVEL_WARN:return"#5C3C00";case r.LEVEL_ERROR:return"red"}return"#000"},e.prototype.levelText=function(e){switch(e){case r.LEVEL_DEBUG:return"DEBUG";case r.LEVEL_INFO:return"INFO";case r.LEVEL_WARN:return"WARN";case r.LEVEL_ERROR:return"ERROR"}return"UNKNOWN LEVEL"},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});o(n(410));function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var i=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return o.appenders=n||[],o}return r(t,e),t.prototype.print=function(e,t){this.appenders.forEach((function(n){return n.print(e,t)}))},t}(o(n(277)).default);t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e.x,o=e.y,r=t.x,i=t.y,a=Math.abs(n-r),s=Math.abs(o-i);return Math.sqrt(Math.pow(a,2)+Math.pow(s,2))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=g(n(108)),i=n(12),a=g(n(209)),s=n(39),c=g(n(4)),u=g(n(1)),l=g(n(73)),f=n(42),p=g(n(30)),d=g(n(851)),h=g(n(852));n(414);function g(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var w=["CreatePushButtonStateHandler","CreateCheckBoxStateHandler","CreateRadioButtonStateHandler","CreateComboBoxStateHandler","CreateListBoxStateHandler","CreateTextStateHandler","CreateSignStateHandler","CreateDateStateHandler","CreateImageStateHandler"];!function(){function e(){b(this,e),this.tasks=[]}e.prototype.appendTask=function(e,t){var n=this;this.tasks.push(e.bind(t)),this.runner||(setTimeout((function(){n.execute()}),10),this.runner=setInterval((function(e){n.execute()}),30))},e.prototype.execute=function(){this.tasks.pop()(),0==this.tasks.length&&(clearInterval(this.runner),this.runner=0)},e.prototype.destroy=function(){clearInterval(this.runner),delete this.tasks,this.dt&&this.dt.destroy()}}();var _=function(e){function t(n,o){var r;b(this,t);var i=v(this,e.call(this,o));i.doc=n,i.docRender=o,i.isRunningAction=!1;var a=i.pdfViewer.getDefaultKeyboardEventBinder(),s=n.getPDFForm(),c=[f.KEY_MAP_FIELD_LEFT,f.KEY_MAP_FIELD_RIGHT,f.KEY_MAP_FIELD_DOWN,f.KEY_MAP_FIELD_UP,f.KEY_MAP_FIELD_ENTER],l=[f.KEY_MAP_FIELD_TAB_NEXT,f.KEY_MAP_FIELD_TAB_PREVIOUS];if(!s)return v(i);s.setActionHandler((function(e,t,n,o){return i.execAction("Field",e,t,n,o)}));var p=new d.default(i.pdfViewer);i.offKeyHandle=l.map((function(e){return a.on(e,(function(e){i.doc.getAnnots().then((function(t){var n=!1,o=!0,r=!1,a=void 0;try{for(var s,c=t[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var u=s.value;if(n)break;var l=!0,f=!1,p=void 0;try{for(var d,h=u[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){if("widget"===d.value.getType()){n=!0;break}}}catch(e){f=!0,p=e}finally{try{!l&&h.return&&h.return()}finally{if(f)throw p}}}}catch(e){r=!0,a=e}finally{try{!o&&c.return&&c.return()}finally{if(r)throw a}}n&&i.goPreviousOrNextWidget(e)}))}),(function(e){var t=e.nativeEvent.target;return!(!t.closest(".fv__pdf-form-control-handler-container")&&"BODY"!==t.nodeName)||(e.stop(),!1)}))})),i.offKeysHandler=c.map((function(e){return a.on(e,(function(e){return p.setShortcutsByField(e)}),!1)}));var h=i.viewerEvents=(m(r={},u.default.switchStateHandler,(function(e,t){i.blurControl()})),m(r,u.default.tapPage,(function(){i.blurControl(),i.initTabParams()})),m(r,u.default.tapAnnotation,(function(){i.blurControl()})),m(r,u.default.openFileSuccess,(function(){i.control=null,i.initTabParams()})),m(r,u.default.renderPageSuccess,(function(e){i.currentDocId!==e.doc.id&&i.initTabParams(),i.currentDocId=e.doc.id,i.afterPageRender&&(i.afterPageRender(),i.afterPageRender=null)})),m(r,u.default.activeAnnotation,(function(e){var t=e.getAnnot();i.initTabParams(t)})),m(r,"tap-field",(function(e){i.initTabParams(e)})),r);for(var g in h)i.pdfViewer.eventEmitter.on(g,h[g]);return i}return y(t,e),t.prototype.usingHTML=function(e){var t,n=(t={},m(t,s.FieldType.Unknown,""),m(t,s.FieldType.PushButton,"pushButton"),m(t,s.FieldType.CheckBox,""),m(t,s.FieldType.RadioButton,"radioButton"),m(t,s.FieldType.Text,"textField"),m(t,s.FieldType.ListBox,""),m(t,s.FieldType.ComboBox,"comboBox"),m(t,s.FieldType.Sign,""),t)[e];return"canvas"===this.pdfViewer.config.annotRenderingMode[n]},t.prototype.addTask=function(e,t){return this.doc.getPDFForm()?this.doc.getPDFForm().addTask(e,t):Promise.resolve(e())},t.prototype.initJS=function(){var e=this.doc.getJsNameTree(),t="";for(var n in e)"!ADBE::0200_VersChkCode_XFACheck"!==n&&(t+=e[n]+"\n");var o=this.doc.action;o&&o.getScript&&(t+=o.getScript());var r=this.pdfViewer.JSEngine;r.initEvent(13,null,null,"Init",{doc:this.doc}),r.resetClosure(t);var i=this.doc.getPDFForm();if(i&&!i.isEmpty())return i.addTask().then((function(e){return i.setState("jsInited")}));i&&i.setState("jsInited")},t.prototype.goPreviousOrNextWidget=function(e){var t=this,n=this.pdfViewer.getStateHandlerManager().getCurrentStates().getStateName(),o=this.pdfViewer.getPDFPageRender(this.currentPageNumber).page;o.getAnnotIdArrayByOrder().then((function(n){if(t.tabIndex+=e.shiftKey?-1:1,!(t.tabIndex<0||t.tabIndex>n.length-1)){var r=n[t.tabIndex];return o.getAnnotsByIdArray([r])}t.goToPreviousOrNextPage(e)})).then((function(o){if(o){var r=o[0];if(r&&"widget"===r.getType())if("hand"===n){var i=r.getField();if(!i)return;var a=1===s.FieldFlag.isReadOnly(i.getFlags()),c=t.checkWidgetVisibleType(r);a||"hidden"===c||"hiddenButPrintable"===c?t.goPreviousOrNextWidget(e):(r.updateUI&&r.updateUI({type:"focus"}),t.pdfViewer.eventEmitter.emit("tab-active",r))}else"hand"!==n&&t.pdfViewer.eventEmitter.emit("tab-active",r);else t.goPreviousOrNextWidget(e)}}))},t.prototype.goToPreviousOrNextPage=function(e){var t=this,n=this.doc.getPageCount(),r=this.currentPageNumber,i=e.shiftKey?r-1:r+1;i<0?i=n-1:i>=n&&(i=0),this.doc.getPageByIndex(i).then((function(e){return e.getAnnotIdArrayByOrder().then((function(t){var n=!1,o=!0,r=!1,i=void 0;try{for(var a,s=e.annots[Symbol.iterator]();!(o=(a=s.next()).done);o=!0){if("widget"===a.value.getType()){n=!0;break}}}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return[t,n]}))})).then((function(r){var a=o(r,2),s=a[0],c=a[1];if(t.currentPageNumber=i,c){if(t.tabIndex=e.shiftKey?s.length:-1,t.docRender.currentPageNumber===i)return void t.goPreviousOrNextWidget(e);t.docRender.goToPage(i,0,0,!1).then((function(){1===n?t.goPreviousOrNextWidget(e):t.afterPageRender=function(){return t.goPreviousOrNextWidget(e)}}))}else t.goToPreviousOrNextPage(e)}))},t.prototype.setTabIndexByAnnotId=function(e){},t.prototype.initTabParams=function(e){var t=this;if(this.tabIndex=-1,this.currentPageNumber=this.docRender.currentPageNumber,e){var n=e.id,o=e.getPage();this.currentPageNumber=o.getIndex(),o.getAnnotIdArrayByOrder().then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.tabIndex=e.indexOf(n)}))}},t.prototype.checkWidgetVisibleType=function(e){var t=e.getFlags(),n=(t&a.default.hidden)+"_"+(t&a.default.print)+"_"+(t&a.default.noView);switch(n){case"0_4_0":n="visible";break;case"2_4_0":n="hidden";break;case"0_0_0":n="visibleButUnprintable";break;case"0_4_32":n="hiddenButPrintable"}return n},t.prototype.showWigetInArea=function(e,t){var n=document.getElementsByClassName("fv__ui-pdfviewer")[0],o=e.annotsRender.getAnnotRender(t.getId()).component.$handler[0],r=o.getBoundingClientRect(),i=document.body.clientWidth,a=document.body.clientHeight;(i-r.x<r.width||r.x<r.width)&&(n.scrollLeft=o.offsetLeft),(a-r.y<r.height||r.y<r.height)&&(n.scrollTop=o.offsetTop)},t.prototype.getNextStepWidget=function(e,t){var n=this.pageIndex;return t?this.getPreviousWidget(e,n):this.getNextWidget(e,n)},t.prototype.getFilterAnnot=function(){var e=this,t={},n={},o=this.pdfViewer.currentPDFDoc.getPDFForm().fields,r=[];return o.map((function(e){return e.controls.map((function(e){return e.getWidgetAnnot()}))})).forEach((function(e){r=r.concat(e)})),Promise.all(r).then((function(o){return(o=o.sort((function(e,t){return e.getPage().getIndex()<t.getPage().getIndex()?-1:1}))).forEach((function(e,t){null==n[e.getPage().getIndex()]&&(n[e.getPage().getIndex()]=[]),n[e.getPage().getIndex()].push(e)})),Object.keys(n).forEach((function(o){var r=e.filterWidgets(n[o]);r.length>0&&(t[o]=r)})),t}))},t.prototype.filterWidgets=function(e){var t=e.filter((function(e){return"widget"==e.getType()&&261!==e.getField().getFlags()}));return t=(t=t.filter((function(e){var t=e.getFlags()&a.default.hidden,n=e.getFlags()&a.default.print,o=e.getFlags()&a.default.noView;return!(s.FieldFlag.isReadOnly(e.getField().getFlags())||2==t&&4==n&&0==o||0==t&&4==n&&32==o)}))).sort((function(e,t){return e.info.index<t.info.index?-1:1}))},t.prototype.getPreviousWidget=function(e,t){var n=this,o={},r=Object.keys(e),i=e[t].findIndex((function(e){e.getField().getControlById(n.widget.getObjNum());return n.widget.getObjNum()==e.getObjNum()}));if(0==i){var a=r[r.length-1];if(t>0){var s=r.findIndex((function(e){return e==t}));t=r[s-=1]}else t=a;o=e[t][e[t].length-1]}else i>0&&i<=e[t].length-1&&--i,o=e[t][i];return o},t.prototype.getNextWidget=function(e,t){var n=this,o={},r=Object.keys(e),i=e[t].findIndex((function(e){return n.widget.getObjNum()==e.getObjNum()}));if(i==e[t].length-1){var a=r[r.length-1];if(t<a){var s=r.findIndex((function(e){return e==t}));t=r[s+=1]}else t=0;o=e[t][0]}else i>=0&&i<e[t].length-1&&++i,o=e[t][i];return o},t.prototype.destroy=function(){this.offKeyHandle.forEach((function(e){e&&e(),e=p.default})),this.offKeysHandler.forEach((function(e){e&&e(),e=p.default}));var e=this.viewerEvents;for(var t in e)this.pdfViewer.eventEmitter.off(t,e[t]),e[t]=null;this.viewerEvents=null,this.msgQueue&&(this.msgQueue.destroy(),delete this.msgQueue)},t.prototype.setRuntimeHighlight=function(e){var t=".fv__ui-form-foreground:not(.form-field-readonly)";e&&this.pdfViewer.highlightControlsUI()?(0,c.default)(t).show():(0,c.default)(t).hide()},t.prototype.setRuntimeHighlightColor=function(e,t,n,o){[t,o].forEach((function(t,o){var r=".fv__ui-form-foreground"+(0==o?":not(.required)":".required");(0,c.default)(r).css("background-color",(0,i.colorConvertor)(0==o?e:n,"HTML",t))}))},t.prototype.isReadOnly=function(){var e=this.docRender.getUserPermission().getValue();return!(32&e||256&e)},t.prototype.isSameTarget=function(e){return this.control==e},t.prototype.focusControl=function(e,t){var n=this;if(this.control!=e){if(e&&function(e){var t=e.getBoundingClientRect(),n=Math.max(document.documentElement.clientHeight,window.innerHeight);return t.bottom<100||t.top>n}(e.$handler[0])){var o=e.annot,r=o.getPage().getIndex(),i=o.getRect();this.pdfViewer.getPDFDocRender().goToPage(r,{x:i.left,y:i.bottom,width:i.right-i.left,height:i.top-i.bottom},!0)}return(this.control?Promise.resolve(this.blurControl()):Promise.resolve(!1)).then((function(o){o&&!t||(n.control=e,e&&e.focus(t))}))}},t.prototype.blurControl=function(){if(!this.isRunningAction){var e=this.pdfViewer,t=e.getStateHandlerManager().getCurrentStates().getStateName();w.indexOf(t)>-1?e.setHighlightControlsUI(!1):e.setHighlightControlsUI(e.highlightControls());var n=this.control;return this.control=null,document.activeElement&&document.activeElement.blur(),n?(e.unActiveElement(n),n.blur()):void 0}},t.prototype.setValue=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=e.getField(),r=o.getValue();o.setValueWithoutAction(t);var i={rc:!0},a=!0;t===r&&(a=!1);var s=!1,c=o.getAction(l.default.FieldKeyStroke);return a&&c&&(i=this.execAction("Field",c,null,o,l.default.FieldKeyStroke,{change:t,willCommit:n}))&&-1!==i&&(i.rc?(i.changed||(i.change=t),o.setValueWithoutAction(i.change)):(s=!0,t=r)),s?o.setValue(r).then((function(){return Promise.resolve(i.rc)})):(c=o.getAction(l.default.FieldValueChanged),a&&c&&-1!==(i=this.execAction("Field",c,null,o,l.default.FieldValueChanged))&&(i.rc?(void 0===i.value&&(i.value=t),o.setValueWithoutAction(i.value)):s=!0),s?o.setValue(r).then((function(){return Promise.resolve(i.rc)})):a?o.syncValue(o.getValue(),this).then((function(){return o.form.calculate(o),Promise.resolve(i&&i.rc)})):(c=o.getAction(l.default.FieldWillFormat),o.getValue()&&c&&(i=this.execAction("Field",c,null,o,l.default.FieldWillFormat)),i&&!i.rc?o.setValue(r).then((function(){return Promise.resolve(i.rc)})):Promise.resolve(i&&i.rc)))},t.prototype.calculate=function(e){this.doc.getPDFForm().calculate(e)},t.prototype.execAction=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=this,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};if(!t)return!0;var s=this.pdfViewer.actionManager.get(t,this);s.setSourceTarget(n,o);var c=t.getType();switch(c){case"TypeJavaScript":return s.setTypeName(e,i),s.setParam(a),s.active();case"TypeURI":return this.isRunningAction=!0,s.active((function(e){if(r.isRunningAction=!1,r.control){var t=r.control.$textInput;t&&t.focus()}}));default:s.active()}return-1},t.prototype.getFormatedData=function(e){var t=this,n={},o=this.doc.getPDFForm();return o.enumFields([],0,(function(r,i,a){var s=o.getField(i),c=s.getAction(l.default.FieldWillFormat);if(6==r&&c){var u=a;if("display"==e)if(s.getDisplayValue())n[i]=s.getDisplayValue();else{var f=a.length>0&&c&&t.execAction("Field",c,null,s,l.default.FieldWillFormat);!1!==f&&f&&f.rc&&(u=f.value),n[i]=u}else n[i]=u}})),n},t.prototype.reshowDTPicker=function(e){this.dt._input||(this.dt._input=this.dt._inputTemp),this.dt.open(null,e)},t.prototype.showDateTimePicker=function(e,t,n,o){var r=this,i=-1!==t.indexOf("H"),a=-1!==t.indexOf("s")||-1!==t.indexOf("S"),s={onClose:[o],onMonthChange:[function(e,n,i){var a=new Date(e[0].getTime());a.setMonth(i.currentMonth),a.setFullYear(i.currentYear);var s=i.formatDate(a,t);r.dt.setDate(s,!1,t),o("",s)}],onYearChange:[function(e,n,i){if(t.match(/y|Y/)){var a=new Date(e[0].getTime());a.setMonth(i.currentMonth),a.setFullYear(i.currentYear);var s=i.formatDate(a,t);r.dt.setDate(s,!1,t),o("",s)}}],clickOpens:!1,now:new Date,allowInput:!0,dateFormat:t,enableTime:!0,time_24hr:!1,enableSeconds:!0},u=this.dt=this.dt||(0,h.default)(n,s);this.dt._input||(this.dt._input=this.dt._inputTemp),(0,c.default)(u.timeContainer).toggle(!!t.match(/h|H|i/));var l=!!t.match(/m|d|y|F|M|Y/);(0,c.default)(u.monthNav).toggle(l),(0,c.default)(u.innerContainer).toggle(l),i?u.amPMTemp||(u.amPMTemp=u.amPM,delete u.amPM):u.amPM||(u.amPM=u.amPMTemp,delete u.amPMTemp),(0,c.default)(u.amPM||u.amPMTemp).toggle(!i),i?((0,c.default)(u.hourElement).attr("min",0),(0,c.default)(u.hourElement).attr("max",23)):((0,c.default)(u.hourElement).attr("min",0),(0,c.default)(u.hourElement).attr("max",12)),u.element=u.input=n,s.time_24hr=i,s.enableSeconds=a,Object.assign(u.config,s),u.setDate(e,!1,t),(0,c.default)(u).find(".flatpickr-time .flatpickr-time-separator").toggle(!!t.match(/d/));var f=(0,c.default)(u.timeContainer).find(".flatpickr-second").parent();f.toggle(a),f.prev().toggle(a),setTimeout((function(){u.redraw(),u.open(null,n)}),10),delete n._flatpickr},t}(r.default);t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(1),i=(o=r)&&o.__esModule?o:{default:o},a=n(39);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{PREVIOUS:[37,38],NEXT:[39,40],CONFIRM:[13]};s(this,e);var o=t.getPDFDocRender().getPDFDoc().getPDFForm();this.pdfViewer=t,this.fields=o.fields,this.pdfViewerRender=t.getPDFViewerRender(),this.objectNumber=-1,this.KEYBOAD_SETTING=n,this.EVENT_FUNCTIONS={PREVIOUS:this.prevRadioField,NEXT:this.nextRadioField,CONFIRM:this.fieldConfirmEvent}}return e.prototype.getRadioObjNums=function(e){var t={};return e.forEach((function(e){t[e.getPage().getIndex()]||(t[e.getPage().getIndex()]=[]),t[e.getPage().getIndex()].push(e)})),Object.keys(t).forEach((function(e){t[e]=t[e].sort((function(e,t){return e.getIndex()<t.getIndex()?-1:1}))})),t},e.prototype.prevRadioField=function(e,t){var n=e.getRadioObjNums(t),o=e.pageIndex,r=n[e.pageIndex].findIndex((function(t){return t.getIndex()==e.widgetIndex}));if(r>0)r=--r,r=n[e.pageIndex][r].getIndex();else{var i=Object.keys(n),a=n[o=0==o?i.length-1:--o];if(!a||!a.length)return new Promise((function(e,t){e(r)}));r=n[o][n[o].length-1].getIndex()}return e.pageIndex=o,new Promise((function(e,t){e(r)}))},e.prototype.nextRadioField=function(e,t){var n=e.getRadioObjNums(t),o=e.pageIndex,r=Object.keys(n),i=n[e.pageIndex].findIndex((function(t){return t.getIndex()==e.widgetIndex}));if(i<n[e.pageIndex].length-1)i=++i,i=n[e.pageIndex][i].getIndex();else{var a=n[o=o<r.length-1?++o:0];if(!a||!a.length)return new Promise((function(e,t){e(i)}));i=n[o][0].getIndex()}return e.pageIndex=o,new Promise((function(e,t){e(i)}))},e.prototype.fieldConfirmEvent=function(e,t){var n=t.find((function(t){return t.getIndex()==e.widgetIndex&&e.pageIndex==t.getPage().getIndex()})),o=e.pageRender.annotsRender.getAnnotRender(n.getId()).component,r=e.field;switch(r.getType()){case 1:var s=n.getAction();s||(s=n.getAdditionalAction(13)),e.pdfViewer.getPDFDocRender().getFormRender().execAction("Field",s,null,n.getField(),13,void 0);break;case 2:var c="Off"==n.getInfo().ApState?n.getInfo().ApStates[1]:"Off";n.getInfo().ApState=c,r.setValue(c,n).then((function(e){r.form.calculate(r)}));break;case 3:n.switchAS();break;case 4:o.isActive?e.pdfViewerRender.pdfDocRender.getFormRender().blurControl():n.updateUI({type:"focus"});break;case 6:a.FieldFlag.isMultiline(r.getFlags())||e.pdfViewerRender.pdfDocRender.getFormRender().blurControl();break;case 7:e.pdfViewer.eventEmitter.emit(i.default.signatureFieldMouseLButtonUp,n)}return Promise.resolve()},e.prototype.getSelectedField=function(){var e=this;if(!this.pdfViewer.getCurrentActivatable()&&null==this.pdfViewerRender.pdfDocRender.getFormRender().control)return Promise.resolve({});var t=this.pdfViewer.getPDFDocRender().getFormRender().control;if(!t)return Promise.resolve({});var n=t;return this.pageRender=t.annotsRender.pageRender,new Promise((function(t){e.fields.map((function(o){o.getLoadedWidgets().map((function(r){if(n.annot&&n.annot.getId()==r.getId()){var i=r.getIndex();e.pageIndex=r.getPage().getIndex(),t({field:o,widgetIndex:i,pageIndex:r.getPage().getIndex()})}}))})),t({})}))},e.prototype.setShortcutsByField=function(e){var t=this;this.pageRender={},this.field={},this.getSelectedField().then((function(n){var o=n.field,r=n.widgetIndex,i=n.pageIndex;if(o&&o.getType()!=a.FieldType.Text){t.field=o,t.widgetIndex=r;var s=t.getEventName(e.keyCode);o&&s&&Promise.all(o.controls.map((function(e){return e.getWidgetAnnot()}))).then((function(e){s(t,e).then((function(n){if(null!=n){t.widgetIndex=n;var o=e.find((function(e){return e.getIndex()==n&&e.getPage().getIndex()==t.pageIndex})),a=e.find((function(e){return e.getIndex()==r&&e.getPage().getIndex()==i}));o.getPage().getIndex()!==a.getPage().getIndex()?t.pdfViewer.getPDFDocRender().goToPage(o.getPage().getIndex(),{x:0,y:0}).then((function(){o.updateUI({type:"focus"})})):(t.pageRender.annotsRender&&t.showWigetInArea(t.pageRender,o),o.updateUI({type:"focus"}))}}))}))}}))},e.prototype.getEventName=function(e){var t=this,n=void 0;return Object.keys(this.KEYBOAD_SETTING).map((function(o){t.KEYBOAD_SETTING[o].find((function(t){return t==e}))&&(n=o)})),!!n&&this.EVENT_FUNCTIONS[n]},e.prototype.showWigetInArea=function(e,t){var n=document.getElementsByClassName("fv__ui-pdfviewer")[0],o=e.annotsRender.getAnnotRender(t.getId()).component.$handler[0],r=o.getBoundingClientRect(),i=document.body.clientWidth,a=document.body.clientHeight;(i-r.x<r.width||r.x<r.width)&&(n.scrollLeft=o.offsetLeft),(a-r.y<r.height||r.y<r.height)&&(n.scrollTop=o.offsetTop)},e}();t.default=c},function(e,t,n){
/* flatpickr v4.6.9, @license MIT */
e.exports=function(){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var e=function(){return(e=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function t(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,r++)o[r]=i[a];return o}var n=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],o={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(e){return"undefined"!=typeof console&&console.warn(e)},getWeek:function(e){var t=new Date(e.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var n=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},r={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(e){var t=e%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},i=function(e,t){return void 0===t&&(t=2),("000"+e).slice(-1*t)},a=function(e){return!0===e?1:0};function s(e,t){var n;return function(){var o=this;clearTimeout(n),n=setTimeout((function(){return e.apply(o,arguments)}),t)}}var c=function(e){return e instanceof Array?e:[e]};function u(e,t,n){if(!0===n)return e.classList.add(t);e.classList.remove(t)}function l(e,t,n){var o=window.document.createElement(e);return t=t||"",n=n||"",o.className=t,void 0!==n&&(o.textContent=n),o}function f(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function p(e,t){var n=l("div","numInputWrapper"),o=l("input","numInput "+e),r=l("span","arrowUp"),i=l("span","arrowDown");if(-1===navigator.userAgent.indexOf("MSIE 9.0")?o.type="number":(o.type="text",o.pattern="\\d*"),void 0!==t)for(var a in t)o.setAttribute(a,t[a]);return n.appendChild(o),n.appendChild(r),n.appendChild(i),n}function d(e){try{return"function"==typeof e.composedPath?e.composedPath()[0]:e.target}catch(t){return e.target}}var h=function(){},g=function(e,t,n){return n.months[t?"shorthand":"longhand"][e]},m={D:h,F:function(e,t,n){e.setMonth(n.months.longhand.indexOf(t))},G:function(e,t){e.setHours(parseFloat(t))},H:function(e,t){e.setHours(parseFloat(t))},J:function(e,t){e.setDate(parseFloat(t))},K:function(e,t,n){e.setHours(e.getHours()%12+12*a(new RegExp(n.amPM[1],"i").test(t)))},M:function(e,t,n){e.setMonth(n.months.shorthand.indexOf(t))},S:function(e,t){e.setSeconds(parseFloat(t))},U:function(e,t){return new Date(1e3*parseFloat(t))},W:function(e,t,n){var o=parseInt(t),r=new Date(e.getFullYear(),0,2+7*(o-1),0,0,0,0);return r.setDate(r.getDate()-r.getDay()+n.firstDayOfWeek),r},Y:function(e,t){e.setFullYear(parseFloat(t))},Z:function(e,t){return new Date(t)},d:function(e,t){e.setDate(parseFloat(t))},h:function(e,t){e.setHours(parseFloat(t))},i:function(e,t){e.setMinutes(parseFloat(t))},j:function(e,t){e.setDate(parseFloat(t))},l:h,m:function(e,t){e.setMonth(parseFloat(t)-1)},n:function(e,t){e.setMonth(parseFloat(t)-1)},s:function(e,t){e.setSeconds(parseFloat(t))},u:function(e,t){return new Date(parseFloat(t))},w:h,y:function(e,t){e.setFullYear(2e3+parseFloat(t))}},v={D:"(\\w+)",F:"(\\w+)",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"(\\w+)",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"(\\w+)",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},y={Z:function(e){return e.toISOString()},D:function(e,t,n){return t.weekdays.shorthand[y.w(e,t,n)]},F:function(e,t,n){return g(y.n(e,t,n)-1,!1,t)},G:function(e,t,n){return i(y.h(e,t,n))},H:function(e){return i(e.getHours())},J:function(e,t){return void 0!==t.ordinal?e.getDate()+t.ordinal(e.getDate()):e.getDate()},K:function(e,t){return t.amPM[a(e.getHours()>11)]},M:function(e,t){return g(e.getMonth(),!0,t)},S:function(e){return i(e.getSeconds())},U:function(e){return e.getTime()/1e3},W:function(e,t,n){return n.getWeek(e)},Y:function(e){return i(e.getFullYear(),4)},d:function(e){return i(e.getDate())},h:function(e){return e.getHours()%12?e.getHours()%12:12},i:function(e){return i(e.getMinutes())},j:function(e){return e.getDate()},l:function(e,t){return t.weekdays.longhand[e.getDay()]},m:function(e){return i(e.getMonth()+1)},n:function(e){return e.getMonth()+1},s:function(e){return e.getSeconds()},u:function(e){return e.getTime()},w:function(e){return e.getDay()},y:function(e){return String(e.getFullYear()).substring(2)}},b=function(e){var t=e.config,n=void 0===t?o:t,i=e.l10n,a=void 0===i?r:i,s=e.isMobile,c=void 0!==s&&s;return function(e,t,o){var r=o||a;return void 0===n.formatDate||c?t.split("").map((function(t,o,i){return y[t]&&"\\"!==i[o-1]?y[t](e,r,n):"\\"!==t?t:""})).join(""):n.formatDate(e,t,r)}},w=function(e){var t=e.config,n=void 0===t?o:t,i=e.l10n,a=void 0===i?r:i;return function(e,t,r,i){if(0===e||e){var s,c=i||a,u=e;if(e instanceof Date)s=new Date(e.getTime());else if("string"!=typeof e&&void 0!==e.toFixed)s=new Date(e);else if("string"==typeof e){var l=t||(n||o).dateFormat,f=String(e).trim();if("today"===f)s=new Date,r=!0;else if(/Z$/.test(f)||/GMT$/.test(f))s=new Date(e);else if(n&&n.parseDate)s=n.parseDate(e,l);else{s=n&&n.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0);for(var p=void 0,d=[],h=0,g=0,y="";h<l.length;h++){var b=l[h],w="\\"===b,_="\\"===l[h-1]||w;if(v[b]&&!_){y+=v[b];var P=new RegExp(y).exec(e);P&&(p=!0)&&d["Y"!==b?"push":"unshift"]({fn:m[b],val:P[++g]})}else w||(y+=".");d.forEach((function(e){var t=e.fn,n=e.val;return s=t(s,n,c)||s}))}s=p?s:void 0}}if(s instanceof Date&&!isNaN(s.getTime()))return!0===r&&s.setHours(0,0,0,0),s;n.errorHandler(new Error("Invalid date provided: "+u))}}};function _(e,t,n){return void 0===n&&(n=!0),!1!==n?new Date(e.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):e.getTime()-t.getTime()}var P=864e5;function O(e){var t=e.defaultHour,n=e.defaultMinute,o=e.defaultSeconds;if(void 0!==e.minDate){var r=e.minDate.getHours(),i=e.minDate.getMinutes(),a=e.minDate.getSeconds();t<r&&(t=r),t===r&&n<i&&(n=i),t===r&&n===i&&o<a&&(o=e.minDate.getSeconds())}if(void 0!==e.maxDate){var s=e.maxDate.getHours(),c=e.maxDate.getMinutes();(t=Math.min(t,s))===s&&(n=Math.min(c,n)),t===s&&n===c&&(o=e.maxDate.getSeconds())}return{hours:t,minutes:n,seconds:o}}function E(h,m){var y={config:e(e({},o),C.defaultConfig),l10n:r};function E(e){return e.bind(y)}function x(){var e=y.config;!1===e.weekNumbers&&1===e.showMonths||!0!==e.noCalendar&&window.requestAnimationFrame((function(){if(void 0!==y.calendarContainer&&(y.calendarContainer.style.visibility="hidden",y.calendarContainer.style.display="block"),void 0!==y.daysContainer){var t=(y.days.offsetWidth+1)*e.showMonths;y.daysContainer.style.width=t+"px",y.calendarContainer.style.width=t+(void 0!==y.weekWrapper?y.weekWrapper.offsetWidth:0)+"px",y.calendarContainer.style.removeProperty("visibility"),y.calendarContainer.style.removeProperty("display")}}))}function A(e){if(0===y.selectedDates.length){var t=void 0===y.config.minDate||_(new Date,y.config.minDate)>=0?new Date:new Date(y.config.minDate.getTime()),n=O(y.config);t.setHours(n.hours,n.minutes,n.seconds,t.getMilliseconds()),y.selectedDates=[t],y.latestSelectedDateObj=t}void 0!==e&&"blur"!==e.type&&function(e){e.preventDefault();var t="keydown"===e.type,n=d(e),o=n;void 0!==y.amPM&&n===y.amPM&&(y.amPM.textContent=y.l10n.amPM[a(y.amPM.textContent===y.l10n.amPM[0])]);var r=parseFloat(o.getAttribute("min")),s=parseFloat(o.getAttribute("max")),c=parseFloat(o.getAttribute("step")),u=parseInt(o.value,10),l=e.delta||(t?38===e.which?1:-1:0),f=u+c*l;if(void 0!==o.value&&2===o.value.length){var p=o===y.hourElement,h=o===y.minuteElement;f<r?(f=s+f+a(!p)+(a(p)&&a(!y.amPM)),h&&N(void 0,-1,y.hourElement)):f>s&&(f=o===y.hourElement?f-s-a(!y.amPM):r,h&&N(void 0,1,y.hourElement)),y.amPM&&p&&(1===c?f+u===23:Math.abs(f-u)>c)&&(y.amPM.textContent=y.l10n.amPM[a(y.amPM.textContent===y.l10n.amPM[0])]),o.value=i(f)}}(e);var o=y._input.value;S(),be(),y._input.value!==o&&y._debouncedChange()}function S(){if(void 0!==y.hourElement&&void 0!==y.minuteElement){var e,t,n=(parseInt(y.hourElement.value.slice(-2),10)||0)%24,o=(parseInt(y.minuteElement.value,10)||0)%60,r=void 0!==y.secondElement?(parseInt(y.secondElement.value,10)||0)%60:0;void 0!==y.amPM&&(e=n,t=y.amPM.textContent,n=e%12+12*a(t===y.l10n.amPM[1]));var i=void 0!==y.config.minTime||y.config.minDate&&y.minDateHasTime&&y.latestSelectedDateObj&&0===_(y.latestSelectedDateObj,y.config.minDate,!0);if(void 0!==y.config.maxTime||y.config.maxDate&&y.maxDateHasTime&&y.latestSelectedDateObj&&0===_(y.latestSelectedDateObj,y.config.maxDate,!0)){var s=void 0!==y.config.maxTime?y.config.maxTime:y.config.maxDate;(n=Math.min(n,s.getHours()))===s.getHours()&&(o=Math.min(o,s.getMinutes())),o===s.getMinutes()&&(r=Math.min(r,s.getSeconds()))}if(i){var c=void 0!==y.config.minTime?y.config.minTime:y.config.minDate;(n=Math.max(n,c.getHours()))===c.getHours()&&o<c.getMinutes()&&(o=c.getMinutes()),o===c.getMinutes()&&(r=Math.max(r,c.getSeconds()))}T(n,o,r)}}function D(e){var t=e||y.latestSelectedDateObj;t&&T(t.getHours(),t.getMinutes(),t.getSeconds())}function T(e,t,n){void 0!==y.latestSelectedDateObj&&y.latestSelectedDateObj.setHours(e%24,t,n||0,0),y.hourElement&&y.minuteElement&&!y.isMobile&&(y.hourElement.value=i(y.config.time_24hr?e:(12+e)%12+12*a(e%12==0)),y.minuteElement.value=i(t),void 0!==y.amPM&&(y.amPM.textContent=y.l10n.amPM[a(e>=12)]),void 0!==y.secondElement&&(y.secondElement.value=i(n)))}function I(e){var t=d(e),n=parseInt(t.value)+(e.delta||0);(n/1e3>1||"Enter"===e.key&&!/[^\d]/.test(n.toString()))&&J(n)}function R(e,t,n,o){return t instanceof Array?t.forEach((function(t){return R(e,t,n,o)})):e instanceof Array?e.forEach((function(e){return R(e,t,n,o)})):(e.addEventListener(t,n,o),void y._handlers.push({remove:function(){return e.removeEventListener(t,n)}}))}function M(){he("onChange")}function j(e,t){var n=void 0!==e?y.parseDate(e):y.latestSelectedDateObj||(y.config.minDate&&y.config.minDate>y.now?y.config.minDate:y.config.maxDate&&y.config.maxDate<y.now?y.config.maxDate:y.now),o=y.currentYear,r=y.currentMonth;try{void 0!==n&&(y.currentYear=n.getFullYear(),y.currentMonth=n.getMonth())}catch(e){e.message="Invalid date supplied: "+n,y.config.errorHandler(e)}t&&y.currentYear!==o&&(he("onYearChange"),$()),!t||y.currentYear===o&&y.currentMonth===r||he("onMonthChange"),y.redraw()}function k(e){var t=d(e);~t.className.indexOf("arrow")&&N(e,t.classList.contains("arrowUp")?1:-1)}function N(e,t,n){var o=e&&d(e),r=n||o&&o.parentNode&&o.parentNode.firstChild,i=ge("increment");i.delta=t,r&&r.dispatchEvent(i)}function F(e,t,n,o){var r=Z(t,!0),i=l("span","flatpickr-day "+e,t.getDate().toString());return i.dateObj=t,i.$i=o,i.setAttribute("aria-label",y.formatDate(t,y.config.ariaDateFormat)),-1===e.indexOf("hidden")&&0===_(t,y.now)&&(y.todayDateElem=i,i.classList.add("today"),i.setAttribute("aria-current","date")),r?(i.tabIndex=-1,me(t)&&(i.classList.add("selected"),y.selectedDateElem=i,"range"===y.config.mode&&(u(i,"startRange",y.selectedDates[0]&&0===_(t,y.selectedDates[0],!0)),u(i,"endRange",y.selectedDates[1]&&0===_(t,y.selectedDates[1],!0)),"nextMonthDay"===e&&i.classList.add("inRange")))):i.classList.add("flatpickr-disabled"),"range"===y.config.mode&&function(e){return!("range"!==y.config.mode||y.selectedDates.length<2)&&_(e,y.selectedDates[0])>=0&&_(e,y.selectedDates[1])<=0}(t)&&!me(t)&&i.classList.add("inRange"),y.weekNumbers&&1===y.config.showMonths&&"prevMonthDay"!==e&&n%7==1&&y.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+y.config.getWeek(t)+"</span>"),he("onDayCreate",i),i}function L(e){e.focus(),"range"===y.config.mode&&ne(e)}function V(e){for(var t=e>0?0:y.config.showMonths-1,n=e>0?y.config.showMonths:-1,o=t;o!=n;o+=e)for(var r=y.daysContainer.children[o],i=e>0?0:r.children.length-1,a=e>0?r.children.length:-1,s=i;s!=a;s+=e){var c=r.children[s];if(-1===c.className.indexOf("hidden")&&Z(c.dateObj))return c}}function B(e,t){var n=Q(document.activeElement||document.body),o=void 0!==e?e:n?document.activeElement:void 0!==y.selectedDateElem&&Q(y.selectedDateElem)?y.selectedDateElem:void 0!==y.todayDateElem&&Q(y.todayDateElem)?y.todayDateElem:V(t>0?1:-1);void 0===o?y._input.focus():n?function(e,t){for(var n=-1===e.className.indexOf("Month")?e.dateObj.getMonth():y.currentMonth,o=t>0?y.config.showMonths:-1,r=t>0?1:-1,i=n-y.currentMonth;i!=o;i+=r)for(var a=y.daysContainer.children[i],s=n-y.currentMonth===i?e.$i+t:t<0?a.children.length-1:0,c=a.children.length,u=s;u>=0&&u<c&&u!=(t>0?c:-1);u+=r){var l=a.children[u];if(-1===l.className.indexOf("hidden")&&Z(l.dateObj)&&Math.abs(e.$i-u)>=Math.abs(t))return L(l)}y.changeMonth(r),B(V(r),0)}(o,t):L(o)}function U(e,t){for(var n=(new Date(e,t,1).getDay()-y.l10n.firstDayOfWeek+7)%7,o=y.utils.getDaysInMonth((t-1+12)%12,e),r=y.utils.getDaysInMonth(t,e),i=window.document.createDocumentFragment(),a=y.config.showMonths>1,s=a?"prevMonthDay hidden":"prevMonthDay",c=a?"nextMonthDay hidden":"nextMonthDay",u=o+1-n,f=0;u<=o;u++,f++)i.appendChild(F(s,new Date(e,t-1,u),u,f));for(u=1;u<=r;u++,f++)i.appendChild(F("",new Date(e,t,u),u,f));for(var p=r+1;p<=42-n&&(1===y.config.showMonths||f%7!=0);p++,f++)i.appendChild(F(c,new Date(e,t+1,p%r),p,f));var d=l("div","dayContainer");return d.appendChild(i),d}function H(){if(void 0!==y.daysContainer){f(y.daysContainer),y.weekNumbers&&f(y.weekNumbers);for(var e=document.createDocumentFragment(),t=0;t<y.config.showMonths;t++){var n=new Date(y.currentYear,y.currentMonth,1);n.setMonth(y.currentMonth+t),e.appendChild(U(n.getFullYear(),n.getMonth()))}y.daysContainer.appendChild(e),y.days=y.daysContainer.firstChild,"range"===y.config.mode&&1===y.selectedDates.length&&ne()}}function $(){if(!(y.config.showMonths>1||"dropdown"!==y.config.monthSelectorType)){var e=function(e){return!(void 0!==y.config.minDate&&y.currentYear===y.config.minDate.getFullYear()&&e<y.config.minDate.getMonth()||void 0!==y.config.maxDate&&y.currentYear===y.config.maxDate.getFullYear()&&e>y.config.maxDate.getMonth())};y.monthsDropdownContainer.tabIndex=-1,y.monthsDropdownContainer.innerHTML="";for(var t=0;t<12;t++)if(e(t)){var n=l("option","flatpickr-monthDropdown-month");n.value=new Date(y.currentYear,t).getMonth().toString(),n.textContent=g(t,y.config.shorthandCurrentMonth,y.l10n),n.tabIndex=-1,y.currentMonth===t&&(n.selected=!0),y.monthsDropdownContainer.appendChild(n)}}}function W(){var e,t=l("div","flatpickr-month"),n=window.document.createDocumentFragment();y.config.showMonths>1||"static"===y.config.monthSelectorType?e=l("span","cur-month"):(y.monthsDropdownContainer=l("select","flatpickr-monthDropdown-months"),y.monthsDropdownContainer.setAttribute("aria-label",y.l10n.monthAriaLabel),R(y.monthsDropdownContainer,"change",(function(e){var t=d(e),n=parseInt(t.value,10);y.changeMonth(n-y.currentMonth),he("onMonthChange")})),$(),e=y.monthsDropdownContainer);var o=p("cur-year",{tabindex:"-1"}),r=o.getElementsByTagName("input")[0];r.setAttribute("aria-label",y.l10n.yearAriaLabel),y.config.minDate&&r.setAttribute("min",y.config.minDate.getFullYear().toString()),y.config.maxDate&&(r.setAttribute("max",y.config.maxDate.getFullYear().toString()),r.disabled=!!y.config.minDate&&y.config.minDate.getFullYear()===y.config.maxDate.getFullYear());var i=l("div","flatpickr-current-month");return i.appendChild(e),i.appendChild(o),n.appendChild(i),t.appendChild(n),{container:t,yearElement:r,monthElement:e}}function q(){f(y.monthNav),y.monthNav.appendChild(y.prevMonthNav),y.config.showMonths&&(y.yearElements=[],y.monthElements=[]);for(var e=y.config.showMonths;e--;){var t=W();y.yearElements.push(t.yearElement),y.monthElements.push(t.monthElement),y.monthNav.appendChild(t.container)}y.monthNav.appendChild(y.nextMonthNav)}function z(){y.weekdayContainer?f(y.weekdayContainer):y.weekdayContainer=l("div","flatpickr-weekdays");for(var e=y.config.showMonths;e--;){var t=l("div","flatpickr-weekdaycontainer");y.weekdayContainer.appendChild(t)}return G(),y.weekdayContainer}function G(){if(y.weekdayContainer){var e=y.l10n.firstDayOfWeek,n=t(y.l10n.weekdays.shorthand);e>0&&e<n.length&&(n=t(n.splice(e,n.length),n.splice(0,e)));for(var o=y.config.showMonths;o--;)y.weekdayContainer.children[o].innerHTML="\n      <span class='flatpickr-weekday'>\n        "+n.join("</span><span class='flatpickr-weekday'>")+"\n      </span>\n      "}}function Y(e,t){void 0===t&&(t=!0);var n=t?e:e-y.currentMonth;n<0&&!0===y._hidePrevMonthArrow||n>0&&!0===y._hideNextMonthArrow||(y.currentMonth+=n,(y.currentMonth<0||y.currentMonth>11)&&(y.currentYear+=y.currentMonth>11?1:-1,y.currentMonth=(y.currentMonth+12)%12,he("onYearChange"),$()),H(),he("onMonthChange"),ve())}function K(e){return!(!y.config.appendTo||!y.config.appendTo.contains(e))||y.calendarContainer.contains(e)}function X(e){if(y.isOpen&&!y.config.inline){var t=d(e),n=K(t),o=t===y.input||t===y.altInput||y.element.contains(t)||e.path&&e.path.indexOf&&(~e.path.indexOf(y.input)||~e.path.indexOf(y.altInput)),r="blur"===e.type?o&&e.relatedTarget&&!K(e.relatedTarget):!o&&!n&&!K(e.relatedTarget),i=!y.config.ignoredFocusElements.some((function(e){return e.contains(t)}));r&&i&&(void 0!==y.timeContainer&&void 0!==y.minuteElement&&void 0!==y.hourElement&&""!==y.input.value&&void 0!==y.input.value&&A(),y.close(),y.config&&"range"===y.config.mode&&1===y.selectedDates.length&&(y.clear(!1),y.redraw()))}}function J(e){if(!(!e||y.config.minDate&&e<y.config.minDate.getFullYear()||y.config.maxDate&&e>y.config.maxDate.getFullYear())){var t=e,n=y.currentYear!==t;y.currentYear=t||y.currentYear,y.config.maxDate&&y.currentYear===y.config.maxDate.getFullYear()?y.currentMonth=Math.min(y.config.maxDate.getMonth(),y.currentMonth):y.config.minDate&&y.currentYear===y.config.minDate.getFullYear()&&(y.currentMonth=Math.max(y.config.minDate.getMonth(),y.currentMonth)),n&&(y.redraw(),he("onYearChange"),$())}}function Z(e,t){var n;void 0===t&&(t=!0);var o=y.parseDate(e,void 0,t);if(y.config.minDate&&o&&_(o,y.config.minDate,void 0!==t?t:!y.minDateHasTime)<0||y.config.maxDate&&o&&_(o,y.config.maxDate,void 0!==t?t:!y.maxDateHasTime)>0)return!1;if(!y.config.enable&&0===y.config.disable.length)return!0;if(void 0===o)return!1;for(var r=!!y.config.enable,i=null!==(n=y.config.enable)&&void 0!==n?n:y.config.disable,a=0,s=void 0;a<i.length;a++){if("function"==typeof(s=i[a])&&s(o))return r;if(s instanceof Date&&void 0!==o&&s.getTime()===o.getTime())return r;if("string"==typeof s){var c=y.parseDate(s,void 0,!0);return c&&c.getTime()===o.getTime()?r:!r}if("object"==typeof s&&void 0!==o&&s.from&&s.to&&o.getTime()>=s.from.getTime()&&o.getTime()<=s.to.getTime())return r}return!r}function Q(e){return void 0!==y.daysContainer&&-1===e.className.indexOf("hidden")&&-1===e.className.indexOf("flatpickr-disabled")&&y.daysContainer.contains(e)}function ee(e){e.target!==y._input||!(y.selectedDates.length>0||y._input.value.length>0)||e.relatedTarget&&K(e.relatedTarget)||y.setDate(y._input.value,!0,e.target===y.altInput?y.config.altFormat:y.config.dateFormat)}function te(e){var t=d(e),n=y.config.wrap?h.contains(t):t===y._input,o=y.config.allowInput,r=y.isOpen&&(!o||!n),i=y.config.inline&&n&&!o;if(13===e.keyCode&&n){if(o)return y.setDate(y._input.value,!0,t===y.altInput?y.config.altFormat:y.config.dateFormat),t.blur();y.open()}else if(K(t)||r||i){var a=!!y.timeContainer&&y.timeContainer.contains(t);switch(e.keyCode){case 13:a?(e.preventDefault(),A(),ue()):le(e);break;case 27:e.preventDefault(),ue();break;case 8:case 46:n&&!y.config.allowInput&&(e.preventDefault(),y.clear());break;case 37:case 39:if(a||n)y.hourElement&&y.hourElement.focus();else if(e.preventDefault(),void 0!==y.daysContainer&&(!1===o||document.activeElement&&Q(document.activeElement))){var s=39===e.keyCode?1:-1;e.ctrlKey?(e.stopPropagation(),Y(s),B(V(1),0)):B(void 0,s)}break;case 38:case 40:e.preventDefault();var c=40===e.keyCode?1:-1;y.daysContainer&&void 0!==t.$i||t===y.input||t===y.altInput?e.ctrlKey?(e.stopPropagation(),J(y.currentYear-c),B(V(1),0)):a||B(void 0,7*c):t===y.currentYearElement?J(y.currentYear-c):y.config.enableTime&&(!a&&y.hourElement&&y.hourElement.focus(),A(e),y._debouncedChange());break;case 9:if(a){var u=[y.hourElement,y.minuteElement,y.secondElement,y.amPM].concat(y.pluginElements).filter((function(e){return e})),l=u.indexOf(t);if(-1!==l){var f=u[l+(e.shiftKey?-1:1)];e.preventDefault(),(f||y._input).focus()}}else!y.config.noCalendar&&y.daysContainer&&y.daysContainer.contains(t)&&e.shiftKey&&(e.preventDefault(),y._input.focus())}}if(void 0!==y.amPM&&t===y.amPM)switch(e.key){case y.l10n.amPM[0].charAt(0):case y.l10n.amPM[0].charAt(0).toLowerCase():y.amPM.textContent=y.l10n.amPM[0],S(),be();break;case y.l10n.amPM[1].charAt(0):case y.l10n.amPM[1].charAt(0).toLowerCase():y.amPM.textContent=y.l10n.amPM[1],S(),be()}(n||K(t))&&he("onKeyDown",e)}function ne(e){if(1===y.selectedDates.length&&(!e||e.classList.contains("flatpickr-day")&&!e.classList.contains("flatpickr-disabled"))){for(var t=e?e.dateObj.getTime():y.days.firstElementChild.dateObj.getTime(),n=y.parseDate(y.selectedDates[0],void 0,!0).getTime(),o=Math.min(t,y.selectedDates[0].getTime()),r=Math.max(t,y.selectedDates[0].getTime()),i=!1,a=0,s=0,c=o;c<r;c+=P)Z(new Date(c),!0)||(i=i||c>o&&c<r,c<n&&(!a||c>a)?a=c:c>n&&(!s||c<s)&&(s=c));for(var u=0;u<y.config.showMonths;u++)for(var l=y.daysContainer.children[u],f=function(o,r){var c,u,f,p=l.children[o],d=p.dateObj.getTime(),h=a>0&&d<a||s>0&&d>s;return h?(p.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach((function(e){p.classList.remove(e)})),"continue"):i&&!h?"continue":(["startRange","inRange","endRange","notAllowed"].forEach((function(e){p.classList.remove(e)})),void(void 0!==e&&(e.classList.add(t<=y.selectedDates[0].getTime()?"startRange":"endRange"),n<t&&d===n?p.classList.add("startRange"):n>t&&d===n&&p.classList.add("endRange"),d>=a&&(0===s||d<=s)&&(u=n,f=t,(c=d)>Math.min(u,f)&&c<Math.max(u,f))&&p.classList.add("inRange"))))},p=0,d=l.children.length;p<d;p++)f(p)}}function oe(){!y.isOpen||y.config.static||y.config.inline||se()}function re(e){return function(t){var n=y.config["_"+e+"Date"]=y.parseDate(t,y.config.dateFormat),o=y.config["_"+("min"===e?"max":"min")+"Date"];void 0!==n&&(y["min"===e?"minDateHasTime":"maxDateHasTime"]=n.getHours()>0||n.getMinutes()>0||n.getSeconds()>0),y.selectedDates&&(y.selectedDates=y.selectedDates.filter((function(e){return Z(e)})),y.selectedDates.length||"min"!==e||D(n),be()),y.daysContainer&&(ce(),void 0!==n?y.currentYearElement[e]=n.getFullYear().toString():y.currentYearElement.removeAttribute(e),y.currentYearElement.disabled=!!o&&void 0!==n&&o.getFullYear()===n.getFullYear())}}function ie(){return y.config.wrap?h.querySelector("[data-input]"):h}function ae(){"object"!=typeof y.config.locale&&void 0===C.l10ns[y.config.locale]&&y.config.errorHandler(new Error("flatpickr: invalid locale "+y.config.locale)),y.l10n=e(e({},C.l10ns.default),"object"==typeof y.config.locale?y.config.locale:"default"!==y.config.locale?C.l10ns[y.config.locale]:void 0),v.K="("+y.l10n.amPM[0]+"|"+y.l10n.amPM[1]+"|"+y.l10n.amPM[0].toLowerCase()+"|"+y.l10n.amPM[1].toLowerCase()+")",void 0===e(e({},m),JSON.parse(JSON.stringify(h.dataset||{}))).time_24hr&&void 0===C.defaultConfig.time_24hr&&(y.config.time_24hr=y.l10n.time_24hr),y.formatDate=b(y),y.parseDate=w({config:y.config,l10n:y.l10n})}function se(e){if("function"!=typeof y.config.position){if(void 0!==y.calendarContainer){he("onPreCalendarPosition");var t=e||y._positionElement,n=Array.prototype.reduce.call(y.calendarContainer.children,(function(e,t){return e+t.offsetHeight}),0),o=y.calendarContainer.offsetWidth,r=y.config.position.split(" "),i=r[0],a=r.length>1?r[1]:null,s=t.getBoundingClientRect(),c=window.innerHeight-s.bottom,l="above"===i||"below"!==i&&c<n&&s.top>n,f=window.pageYOffset+s.top+(l?-n-2:t.offsetHeight+2);if(u(y.calendarContainer,"arrowTop",!l),u(y.calendarContainer,"arrowBottom",l),!y.config.inline){var p=window.pageXOffset+s.left,d=!1,h=!1;"center"===a?(p-=(o-s.width)/2,d=!0):"right"===a&&(p-=o-s.width,h=!0),u(y.calendarContainer,"arrowLeft",!d&&!h),u(y.calendarContainer,"arrowCenter",d),u(y.calendarContainer,"arrowRight",h);var g=window.document.body.offsetWidth-(window.pageXOffset+s.right),m=p+o>window.document.body.offsetWidth,v=g+o>window.document.body.offsetWidth;if(u(y.calendarContainer,"rightMost",m),!y.config.static)if(y.calendarContainer.style.top=f+"px",m)if(v){var b=function(){for(var e=null,t=0;t<document.styleSheets.length;t++){var n=document.styleSheets[t];try{n.cssRules}catch(e){continue}e=n;break}return null!=e?e:(o=document.createElement("style"),document.head.appendChild(o),o.sheet);var o}();if(void 0===b)return;var w=window.document.body.offsetWidth,_=Math.max(0,w/2-o/2),P=b.cssRules.length,O="{left:"+s.left+"px;right:auto;}";u(y.calendarContainer,"rightMost",!1),u(y.calendarContainer,"centerMost",!0),b.insertRule(".flatpickr-calendar.centerMost:before,.flatpickr-calendar.centerMost:after"+O,P),y.calendarContainer.style.left=_+"px",y.calendarContainer.style.right="auto"}else y.calendarContainer.style.left="auto",y.calendarContainer.style.right=g+"px";else y.calendarContainer.style.left=p+"px",y.calendarContainer.style.right="auto"}}}else y.config.position(y,e)}function ce(){y.config.noCalendar||y.isMobile||($(),ve(),H())}function ue(){y._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(y.close,0):y.close()}function le(e){e.preventDefault(),e.stopPropagation();var t=function e(t,n){return n(t)?t:t.parentNode?e(t.parentNode,n):void 0}(d(e),(function(e){return e.classList&&e.classList.contains("flatpickr-day")&&!e.classList.contains("flatpickr-disabled")&&!e.classList.contains("notAllowed")}));if(void 0!==t){var n=t,o=y.latestSelectedDateObj=new Date(n.dateObj.getTime()),r=(o.getMonth()<y.currentMonth||o.getMonth()>y.currentMonth+y.config.showMonths-1)&&"range"!==y.config.mode;if(y.selectedDateElem=n,"single"===y.config.mode)y.selectedDates=[o];else if("multiple"===y.config.mode){var i=me(o);i?y.selectedDates.splice(parseInt(i),1):y.selectedDates.push(o)}else"range"===y.config.mode&&(2===y.selectedDates.length&&y.clear(!1,!1),y.latestSelectedDateObj=o,y.selectedDates.push(o),0!==_(o,y.selectedDates[0],!0)&&y.selectedDates.sort((function(e,t){return e.getTime()-t.getTime()})));if(S(),r){var a=y.currentYear!==o.getFullYear();y.currentYear=o.getFullYear(),y.currentMonth=o.getMonth(),a&&(he("onYearChange"),$()),he("onMonthChange")}if(ve(),H(),be(),r||"range"===y.config.mode||1!==y.config.showMonths?void 0!==y.selectedDateElem&&void 0===y.hourElement&&y.selectedDateElem&&y.selectedDateElem.focus():L(n),void 0!==y.hourElement&&void 0!==y.hourElement&&y.hourElement.focus(),y.config.closeOnSelect){var s="single"===y.config.mode&&!y.config.enableTime,c="range"===y.config.mode&&2===y.selectedDates.length&&!y.config.enableTime;(s||c)&&ue()}M()}}y.parseDate=w({config:y.config,l10n:y.l10n}),y._handlers=[],y.pluginElements=[],y.loadedPlugins=[],y._bind=R,y._setHoursFromDate=D,y._positionCalendar=se,y.changeMonth=Y,y.changeYear=J,y.clear=function(e,t){if(void 0===e&&(e=!0),void 0===t&&(t=!0),y.input.value="",void 0!==y.altInput&&(y.altInput.value=""),void 0!==y.mobileInput&&(y.mobileInput.value=""),y.selectedDates=[],y.latestSelectedDateObj=void 0,!0===t&&(y.currentYear=y._initialDate.getFullYear(),y.currentMonth=y._initialDate.getMonth()),!0===y.config.enableTime){var n=O(y.config),o=n.hours,r=n.minutes,i=n.seconds;T(o,r,i)}y.redraw(),e&&he("onChange")},y.close=function(){y.isOpen=!1,y.isMobile||(void 0!==y.calendarContainer&&y.calendarContainer.classList.remove("open"),void 0!==y._input&&y._input.classList.remove("active")),he("onClose")},y._createElement=l,y.destroy=function(){void 0!==y.config&&he("onDestroy");for(var e=y._handlers.length;e--;)y._handlers[e].remove();if(y._handlers=[],y.mobileInput)y.mobileInput.parentNode&&y.mobileInput.parentNode.removeChild(y.mobileInput),y.mobileInput=void 0;else if(y.calendarContainer&&y.calendarContainer.parentNode)if(y.config.static&&y.calendarContainer.parentNode){var t=y.calendarContainer.parentNode;if(t.lastChild&&t.removeChild(t.lastChild),t.parentNode){for(;t.firstChild;)t.parentNode.insertBefore(t.firstChild,t);t.parentNode.removeChild(t)}}else y.calendarContainer.parentNode.removeChild(y.calendarContainer);y.altInput&&(y.input.type="text",y.altInput.parentNode&&y.altInput.parentNode.removeChild(y.altInput),delete y.altInput),y.input&&(y.input.type=y.input._type,y.input.classList.remove("flatpickr-input"),y.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach((function(e){try{delete y[e]}catch(e){}}))},y.isEnabled=Z,y.jumpToDate=j,y.open=function(e,t){if(void 0===t&&(t=y._positionElement),!0===y.isMobile){if(e){e.preventDefault();var n=d(e);n&&n.blur()}return void 0!==y.mobileInput&&(y.mobileInput.focus(),y.mobileInput.click()),void he("onOpen")}if(!y._input.disabled&&!y.config.inline){var o=y.isOpen;y.isOpen=!0,o||(y.calendarContainer.classList.add("open"),y._input.classList.add("active"),he("onOpen"),se(t)),!0===y.config.enableTime&&!0===y.config.noCalendar&&(!1!==y.config.allowInput||void 0!==e&&y.timeContainer.contains(e.relatedTarget)||setTimeout((function(){return y.hourElement.select()}),50))}},y.redraw=ce,y.set=function(e,t){if(null!==e&&"object"==typeof e)for(var o in Object.assign(y.config,e),e)void 0!==fe[o]&&fe[o].forEach((function(e){return e()}));else y.config[e]=t,void 0!==fe[e]?fe[e].forEach((function(e){return e()})):n.indexOf(e)>-1&&(y.config[e]=c(t));y.redraw(),be(!0)},y.setDate=function(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=y.config.dateFormat),0!==e&&!e||e instanceof Array&&0===e.length)return y.clear(t);pe(e,n),y.latestSelectedDateObj=y.selectedDates[y.selectedDates.length-1],y.redraw(),j(void 0,t),D(),0===y.selectedDates.length&&y.clear(!1),be(t),t&&he("onChange")},y.toggle=function(e){if(!0===y.isOpen)return y.close();y.open(e)};var fe={locale:[ae,G],showMonths:[q,x,z],minDate:[j],maxDate:[j],clickOpens:[function(){!0===y.config.clickOpens?(R(y._input,"focus",y.open),R(y._input,"click",y.open)):(y._input.removeEventListener("focus",y.open),y._input.removeEventListener("click",y.open))}]};function pe(e,t){var n=[];if(e instanceof Array)n=e.map((function(e){return y.parseDate(e,t)}));else if(e instanceof Date||"number"==typeof e)n=[y.parseDate(e,t)];else if("string"==typeof e)switch(y.config.mode){case"single":case"time":n=[y.parseDate(e,t)];break;case"multiple":n=e.split(y.config.conjunction).map((function(e){return y.parseDate(e,t)}));break;case"range":n=e.split(y.l10n.rangeSeparator).map((function(e){return y.parseDate(e,t)}))}else y.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(e)));y.selectedDates=y.config.allowInvalidPreload?n:n.filter((function(e){return e instanceof Date&&Z(e,!1)})),"range"===y.config.mode&&y.selectedDates.sort((function(e,t){return e.getTime()-t.getTime()}))}function de(e){return e.slice().map((function(e){return"string"==typeof e||"number"==typeof e||e instanceof Date?y.parseDate(e,void 0,!0):e&&"object"==typeof e&&e.from&&e.to?{from:y.parseDate(e.from,void 0),to:y.parseDate(e.to,void 0)}:e})).filter((function(e){return e}))}function he(e,t){if(void 0!==y.config){var n=y.config[e];if(void 0!==n&&n.length>0)for(var o=0;n[o]&&o<n.length;o++)n[o](y.selectedDates,y.input.value,y,t);"onChange"===e&&(y.input.dispatchEvent(ge("change")),y.input.dispatchEvent(ge("input")))}}function ge(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}function me(e){for(var t=0;t<y.selectedDates.length;t++)if(0===_(y.selectedDates[t],e))return""+t;return!1}function ve(){y.config.noCalendar||y.isMobile||!y.monthNav||(y.yearElements.forEach((function(e,t){var n=new Date(y.currentYear,y.currentMonth,1);n.setMonth(y.currentMonth+t),y.config.showMonths>1||"static"===y.config.monthSelectorType?y.monthElements[t].textContent=g(n.getMonth(),y.config.shorthandCurrentMonth,y.l10n)+" ":y.monthsDropdownContainer.value=n.getMonth().toString(),e.value=n.getFullYear().toString()})),y._hidePrevMonthArrow=void 0!==y.config.minDate&&(y.currentYear===y.config.minDate.getFullYear()?y.currentMonth<=y.config.minDate.getMonth():y.currentYear<y.config.minDate.getFullYear()),y._hideNextMonthArrow=void 0!==y.config.maxDate&&(y.currentYear===y.config.maxDate.getFullYear()?y.currentMonth+1>y.config.maxDate.getMonth():y.currentYear>y.config.maxDate.getFullYear()))}function ye(e){return y.selectedDates.map((function(t){return y.formatDate(t,e)})).filter((function(e,t,n){return"range"!==y.config.mode||y.config.enableTime||n.indexOf(e)===t})).join("range"!==y.config.mode?y.config.conjunction:y.l10n.rangeSeparator)}function be(e){void 0===e&&(e=!0),void 0!==y.mobileInput&&y.mobileFormatStr&&(y.mobileInput.value=void 0!==y.latestSelectedDateObj?y.formatDate(y.latestSelectedDateObj,y.mobileFormatStr):""),y.input.value=ye(y.config.dateFormat),void 0!==y.altInput&&(y.altInput.value=ye(y.config.altFormat)),!1!==e&&he("onValueUpdate")}function we(e){var t=d(e),n=y.prevMonthNav.contains(t),o=y.nextMonthNav.contains(t);n||o?Y(n?-1:1):y.yearElements.indexOf(t)>=0?t.select():t.classList.contains("arrowUp")?y.changeYear(y.currentYear+1):t.classList.contains("arrowDown")&&y.changeYear(y.currentYear-1)}return function(){y.element=y.input=h,y.isOpen=!1,function(){var t=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],r=e(e({},JSON.parse(JSON.stringify(h.dataset||{}))),m),i={};y.config.parseDate=r.parseDate,y.config.formatDate=r.formatDate,Object.defineProperty(y.config,"enable",{get:function(){return y.config._enable},set:function(e){y.config._enable=de(e)}}),Object.defineProperty(y.config,"disable",{get:function(){return y.config._disable},set:function(e){y.config._disable=de(e)}});var a="time"===r.mode;if(!r.dateFormat&&(r.enableTime||a)){var s=C.defaultConfig.dateFormat||o.dateFormat;i.dateFormat=r.noCalendar||a?"H:i"+(r.enableSeconds?":S":""):s+" H:i"+(r.enableSeconds?":S":"")}if(r.altInput&&(r.enableTime||a)&&!r.altFormat){var u=C.defaultConfig.altFormat||o.altFormat;i.altFormat=r.noCalendar||a?"h:i"+(r.enableSeconds?":S K":" K"):u+" h:i"+(r.enableSeconds?":S":"")+" K"}Object.defineProperty(y.config,"minDate",{get:function(){return y.config._minDate},set:re("min")}),Object.defineProperty(y.config,"maxDate",{get:function(){return y.config._maxDate},set:re("max")});var l=function(e){return function(t){y.config["min"===e?"_minTime":"_maxTime"]=y.parseDate(t,"H:i:S")}};Object.defineProperty(y.config,"minTime",{get:function(){return y.config._minTime},set:l("min")}),Object.defineProperty(y.config,"maxTime",{get:function(){return y.config._maxTime},set:l("max")}),"time"===r.mode&&(y.config.noCalendar=!0,y.config.enableTime=!0),Object.assign(y.config,i,r);for(var f=0;f<t.length;f++)y.config[t[f]]=!0===y.config[t[f]]||"true"===y.config[t[f]];for(n.filter((function(e){return void 0!==y.config[e]})).forEach((function(e){y.config[e]=c(y.config[e]||[]).map(E)})),y.isMobile=!y.config.disableMobile&&!y.config.inline&&"single"===y.config.mode&&!y.config.disable.length&&!y.config.enable&&!y.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),f=0;f<y.config.plugins.length;f++){var p=y.config.plugins[f](y)||{};for(var d in p)n.indexOf(d)>-1?y.config[d]=c(p[d]).map(E).concat(y.config[d]):void 0===r[d]&&(y.config[d]=p[d])}r.altInputClass||(y.config.altInputClass=ie().className+" "+y.config.altInputClass),he("onParseConfig")}(),ae(),y.input=ie(),y.input?(y.input._type=y.input.type,y.input.type="text",y.input.classList.add("flatpickr-input"),y._input=y.input,y.config.altInput&&(y.altInput=l(y.input.nodeName,y.config.altInputClass),y._input=y.altInput,y.altInput.placeholder=y.input.placeholder,y.altInput.disabled=y.input.disabled,y.altInput.required=y.input.required,y.altInput.tabIndex=y.input.tabIndex,y.altInput.type="text",y.input.setAttribute("type","hidden"),!y.config.static&&y.input.parentNode&&y.input.parentNode.insertBefore(y.altInput,y.input.nextSibling)),y.config.allowInput||y._input.setAttribute("readonly","readonly"),y._positionElement=y.config.positionElement||y._input):y.config.errorHandler(new Error("Invalid input element specified")),function(){y.selectedDates=[],y.now=y.parseDate(y.config.now)||new Date;var e=y.config.defaultDate||("INPUT"!==y.input.nodeName&&"TEXTAREA"!==y.input.nodeName||!y.input.placeholder||y.input.value!==y.input.placeholder?y.input.value:null);e&&pe(e,y.config.dateFormat),y._initialDate=y.selectedDates.length>0?y.selectedDates[0]:y.config.minDate&&y.config.minDate.getTime()>y.now.getTime()?y.config.minDate:y.config.maxDate&&y.config.maxDate.getTime()<y.now.getTime()?y.config.maxDate:y.now,y.currentYear=y._initialDate.getFullYear(),y.currentMonth=y._initialDate.getMonth(),y.selectedDates.length>0&&(y.latestSelectedDateObj=y.selectedDates[0]),void 0!==y.config.minTime&&(y.config.minTime=y.parseDate(y.config.minTime,"H:i")),void 0!==y.config.maxTime&&(y.config.maxTime=y.parseDate(y.config.maxTime,"H:i")),y.minDateHasTime=!!y.config.minDate&&(y.config.minDate.getHours()>0||y.config.minDate.getMinutes()>0||y.config.minDate.getSeconds()>0),y.maxDateHasTime=!!y.config.maxDate&&(y.config.maxDate.getHours()>0||y.config.maxDate.getMinutes()>0||y.config.maxDate.getSeconds()>0)}(),y.utils={getDaysInMonth:function(e,t){return void 0===e&&(e=y.currentMonth),void 0===t&&(t=y.currentYear),1===e&&(t%4==0&&t%100!=0||t%400==0)?29:y.l10n.daysInMonth[e]}},y.isMobile||function(){var e=window.document.createDocumentFragment();if(y.calendarContainer=l("div","flatpickr-calendar"),y.calendarContainer.tabIndex=-1,!y.config.noCalendar){if(e.appendChild((y.monthNav=l("div","flatpickr-months"),y.yearElements=[],y.monthElements=[],y.prevMonthNav=l("span","flatpickr-prev-month"),y.prevMonthNav.innerHTML=y.config.prevArrow,y.nextMonthNav=l("span","flatpickr-next-month"),y.nextMonthNav.innerHTML=y.config.nextArrow,q(),Object.defineProperty(y,"_hidePrevMonthArrow",{get:function(){return y.__hidePrevMonthArrow},set:function(e){y.__hidePrevMonthArrow!==e&&(u(y.prevMonthNav,"flatpickr-disabled",e),y.__hidePrevMonthArrow=e)}}),Object.defineProperty(y,"_hideNextMonthArrow",{get:function(){return y.__hideNextMonthArrow},set:function(e){y.__hideNextMonthArrow!==e&&(u(y.nextMonthNav,"flatpickr-disabled",e),y.__hideNextMonthArrow=e)}}),y.currentYearElement=y.yearElements[0],ve(),y.monthNav)),y.innerContainer=l("div","flatpickr-innerContainer"),y.config.weekNumbers){var t=function(){y.calendarContainer.classList.add("hasWeeks");var e=l("div","flatpickr-weekwrapper");e.appendChild(l("span","flatpickr-weekday",y.l10n.weekAbbreviation));var t=l("div","flatpickr-weeks");return e.appendChild(t),{weekWrapper:e,weekNumbers:t}}(),n=t.weekWrapper,o=t.weekNumbers;y.innerContainer.appendChild(n),y.weekNumbers=o,y.weekWrapper=n}y.rContainer=l("div","flatpickr-rContainer"),y.rContainer.appendChild(z()),y.daysContainer||(y.daysContainer=l("div","flatpickr-days"),y.daysContainer.tabIndex=-1),H(),y.rContainer.appendChild(y.daysContainer),y.innerContainer.appendChild(y.rContainer),e.appendChild(y.innerContainer)}y.config.enableTime&&e.appendChild(function(){y.calendarContainer.classList.add("hasTime"),y.config.noCalendar&&y.calendarContainer.classList.add("noCalendar");var e=O(y.config);y.timeContainer=l("div","flatpickr-time"),y.timeContainer.tabIndex=-1;var t=l("span","flatpickr-time-separator",":"),n=p("flatpickr-hour",{"aria-label":y.l10n.hourAriaLabel});y.hourElement=n.getElementsByTagName("input")[0];var o=p("flatpickr-minute",{"aria-label":y.l10n.minuteAriaLabel});if(y.minuteElement=o.getElementsByTagName("input")[0],y.hourElement.tabIndex=y.minuteElement.tabIndex=-1,y.hourElement.value=i(y.latestSelectedDateObj?y.latestSelectedDateObj.getHours():y.config.time_24hr?e.hours:function(e){switch(e%24){case 0:case 12:return 12;default:return e%12}}(e.hours)),y.minuteElement.value=i(y.latestSelectedDateObj?y.latestSelectedDateObj.getMinutes():e.minutes),y.hourElement.setAttribute("step",y.config.hourIncrement.toString()),y.minuteElement.setAttribute("step",y.config.minuteIncrement.toString()),y.hourElement.setAttribute("min",y.config.time_24hr?"0":"1"),y.hourElement.setAttribute("max",y.config.time_24hr?"23":"12"),y.hourElement.setAttribute("maxlength","2"),y.minuteElement.setAttribute("min","0"),y.minuteElement.setAttribute("max","59"),y.minuteElement.setAttribute("maxlength","2"),y.timeContainer.appendChild(n),y.timeContainer.appendChild(t),y.timeContainer.appendChild(o),y.config.time_24hr&&y.timeContainer.classList.add("time24hr"),y.config.enableSeconds){y.timeContainer.classList.add("hasSeconds");var r=p("flatpickr-second");y.secondElement=r.getElementsByTagName("input")[0],y.secondElement.value=i(y.latestSelectedDateObj?y.latestSelectedDateObj.getSeconds():e.seconds),y.secondElement.setAttribute("step",y.minuteElement.getAttribute("step")),y.secondElement.setAttribute("min","0"),y.secondElement.setAttribute("max","59"),y.secondElement.setAttribute("maxlength","2"),y.timeContainer.appendChild(l("span","flatpickr-time-separator",":")),y.timeContainer.appendChild(r)}return y.config.time_24hr||(y.amPM=l("span","flatpickr-am-pm",y.l10n.amPM[a((y.latestSelectedDateObj?y.hourElement.value:y.config.defaultHour)>11)]),y.amPM.title=y.l10n.toggleTitle,y.amPM.tabIndex=-1,y.timeContainer.appendChild(y.amPM)),y.timeContainer}()),u(y.calendarContainer,"rangeMode","range"===y.config.mode),u(y.calendarContainer,"animate",!0===y.config.animate),u(y.calendarContainer,"multiMonth",y.config.showMonths>1),y.calendarContainer.appendChild(e);var r=void 0!==y.config.appendTo&&void 0!==y.config.appendTo.nodeType;if((y.config.inline||y.config.static)&&(y.calendarContainer.classList.add(y.config.inline?"inline":"static"),y.config.inline&&(!r&&y.element.parentNode?y.element.parentNode.insertBefore(y.calendarContainer,y._input.nextSibling):void 0!==y.config.appendTo&&y.config.appendTo.appendChild(y.calendarContainer)),y.config.static)){var s=l("div","flatpickr-wrapper");y.element.parentNode&&y.element.parentNode.insertBefore(s,y.element),s.appendChild(y.element),y.altInput&&s.appendChild(y.altInput),s.appendChild(y.calendarContainer)}y.config.static||y.config.inline||(void 0!==y.config.appendTo?y.config.appendTo:window.document.body).appendChild(y.calendarContainer)}(),function(){if(y.config.wrap&&["open","close","toggle","clear"].forEach((function(e){Array.prototype.forEach.call(y.element.querySelectorAll("[data-"+e+"]"),(function(t){return R(t,"click",y[e])}))})),y.isMobile)!function(){var e=y.config.enableTime?y.config.noCalendar?"time":"datetime-local":"date";y.mobileInput=l("input",y.input.className+" flatpickr-mobile"),y.mobileInput.tabIndex=1,y.mobileInput.type=e,y.mobileInput.disabled=y.input.disabled,y.mobileInput.required=y.input.required,y.mobileInput.placeholder=y.input.placeholder,y.mobileFormatStr="datetime-local"===e?"Y-m-d\\TH:i:S":"date"===e?"Y-m-d":"H:i:S",y.selectedDates.length>0&&(y.mobileInput.defaultValue=y.mobileInput.value=y.formatDate(y.selectedDates[0],y.mobileFormatStr)),y.config.minDate&&(y.mobileInput.min=y.formatDate(y.config.minDate,"Y-m-d")),y.config.maxDate&&(y.mobileInput.max=y.formatDate(y.config.maxDate,"Y-m-d")),y.input.getAttribute("step")&&(y.mobileInput.step=String(y.input.getAttribute("step"))),y.input.type="hidden",void 0!==y.altInput&&(y.altInput.type="hidden");try{y.input.parentNode&&y.input.parentNode.insertBefore(y.mobileInput,y.input.nextSibling)}catch(e){}R(y.mobileInput,"change",(function(e){y.setDate(d(e).value,!1,y.mobileFormatStr),he("onChange"),he("onClose")}))}();else{var e=s(oe,50);y._debouncedChange=s(M,300),y.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&R(y.daysContainer,"mouseover",(function(e){"range"===y.config.mode&&ne(d(e))})),R(window.document.body,"keydown",te),y.config.inline||y.config.static||R(window,"resize",e),void 0!==window.ontouchstart?R(window.document,"touchstart",X):R(window.document,"mousedown",X),R(window.document,"focus",X,{capture:!0}),!0===y.config.clickOpens&&(R(y._input,"focus",y.open),R(y._input,"click",y.open)),void 0!==y.daysContainer&&(R(y.monthNav,"click",we),R(y.monthNav,["keyup","increment"],I),R(y.daysContainer,"click",le)),void 0!==y.timeContainer&&void 0!==y.minuteElement&&void 0!==y.hourElement&&(R(y.timeContainer,["increment"],A),R(y.timeContainer,"blur",A,{capture:!0}),R(y.timeContainer,"click",k),R([y.hourElement,y.minuteElement],["focus","click"],(function(e){return d(e).select()})),void 0!==y.secondElement&&R(y.secondElement,"focus",(function(){return y.secondElement&&y.secondElement.select()})),void 0!==y.amPM&&R(y.amPM,"click",(function(e){A(e),M()}))),y.config.allowInput&&R(y._input,"blur",ee)}}(),(y.selectedDates.length||y.config.noCalendar)&&(y.config.enableTime&&D(y.config.noCalendar?y.latestSelectedDateObj:void 0),be(!1)),x();var t=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!y.isMobile&&t&&se(),he("onReady")}(),y}function x(e,t){for(var n=Array.prototype.slice.call(e).filter((function(e){return e instanceof HTMLElement})),o=[],r=0;r<n.length;r++){var i=n[r];try{if(null!==i.getAttribute("data-fp-omit"))continue;void 0!==i._flatpickr&&(i._flatpickr.destroy(),i._flatpickr=void 0),i._flatpickr=E(i,t||{}),o.push(i._flatpickr)}catch(e){console.error(e)}}return 1===o.length?o[0]:o}"function"!=typeof Object.assign&&(Object.assign=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!e)throw TypeError("Cannot convert undefined or null to object");for(var o=function(t){t&&Object.keys(t).forEach((function(n){return e[n]=t[n]}))},r=0,i=t;r<i.length;r++){var a=i[r];o(a)}return e}),"undefined"!=typeof HTMLElement&&"undefined"!=typeof HTMLCollection&&"undefined"!=typeof NodeList&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(e){return x(this,e)},HTMLElement.prototype.flatpickr=function(e){return x([this],e)});var C=function(e,t){return"string"==typeof e?x(window.document.querySelectorAll(e),t):e instanceof Node?x([e],t):x(e,t)};return C.defaultConfig={},C.l10ns={en:e({},r),default:e({},r)},C.localize=function(t){C.l10ns.default=e(e({},C.l10ns.default),t)},C.setDefaults=function(t){C.defaultConfig=e(e({},C.defaultConfig),t)},C.parseDate=w({}),C.formatDate=b({}),C.compareDates=_,"undefined"!=typeof jQuery&&void 0!==jQuery.fn&&(jQuery.fn.flatpickr=function(e){return x(this,e)}),Date.prototype.fp_incr=function(e){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof e?parseInt(e,10):e))},"undefined"!=typeof window&&(window.flatpickr=C),C}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(4)),r=s(n(854)),i=n(415),a=s(n(82));function s(e){return e&&e.__esModule?e:{default:e}}var c=["movingstart","movingend","movingcancel"],u=["mousemove"],l=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pdfviewer=t,this.docRender=n,this.state=0,this.initHammer(t,n)}return e.prototype.initHammer=function(e,t){var n=this;if("JR"===e.config.engineMode){var s=t.$doc;this.movingstart=function(i){i.deltaX,i.deltaY;var a=i.srcEvent;if(0==n.state){var c=n.shapeManager=new r.default(e,t);n.mousemove=function(e){if(!(n.state<2)){n.state=2;var t,r,i=(t=e.target,(r=(0,o.default)(t).parents(".fv__pdf-page-layout")).length?r.data("index"):-1),a=n.getActiveElement();if(-1!=i&&a&&a.length)if(!n.toggleShapeControl(a,i))c.initPageShapes(i)?(c.update(e.clientX,e.clientY),n.state=3):(n.state=1,n.getActiveElement().forEach((function(e){var t=e.shapeControl;t&&(t.show(),t.enable())})))}},u.forEach((function(e){return s.on(e,n[e])}))}n.shapeManager&&(n.shapeManager.setOffset(a.clientX,a.clientY),n.state=2)},this.movingend=function(e){n.shapeManager&&(3==n.state&&n.shapeManager&&n.shapeManager.moveAnnot(n.getActiveElement()).then((function(e){(0,i.getShapeController)().enable(),n.getActiveElement().forEach((function(e){var t=e.shapeControl;t&&(e instanceof a.default?(e._applyShapeChange(),t.show(),t.enable()):e.shapeControlOnEnd())}))})),n.state=1)},this.movingcancel=function(e){n.shapeManager&&(n.shapeManager.hide(),n.state=1)},c.forEach((function(t){return e.eventEmitter.on(t,n[t])}))}},e.prototype.toggleShapeControl=function(e,t){var n=this,o=e[0].annot.getPDFPage().getIndex(),r=!1;return e.forEach((function(e){var i=e.shapeControl;-1==t||t==o?(i&&(i.show(),i.enable()),e instanceof a.default||e.$label.show(),n.shapeManager.hide(),r=!0):(i&&(i.hide(),i.disable()),e instanceof a.default||e.$label.hide())})),r},e.prototype.getActiveElement=function(){return this.pdfviewer.getAllActiveElements()},e.prototype.destroy=function(){var e=this,t=this.pdfviewer;c.forEach((function(n){t.eventEmitter.off(n,e[n]),e[n]=null}));var n=this.docRender.$doc;u.forEach((function(t){n.off(t,e[t]),e[t]=null})),this.pdfviewer=null,this.docRender=null,this.shapeManager&&this.shapeManager.destroy()},e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(4));n(855);var r=a(n(82)),i=(a(n(1)),n(15));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var c=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pdfviewer=t,this.docRender=n,this.$ui=(0,o.default)('<canvas class="fv_shapes_ui"></canvas>')}return e.prototype.initPageShapes=function(e){if(this.targetPage&&this.targetPage.index==e)return!0;var t=this.targetPage=this.docRender.pagesRender.pageRenders[e],n=this.targetPage.$ui[0].getBoundingClientRect(),o=this.$ui.width(),r=this.$ui.height();return o>n.width||r>n.height?(this.targetPage=null,this.hide(),!1):(t.$ui.append(this.$ui.show()),this.drawShape(),!0)},e.prototype.setOffset=function(e,t){var n=1e6,o=1e6,i=0,a=0,s=this.path={};for(var c in this.pdfviewer.getAllActiveElements().forEach((function(e){var t=e[e instanceof r.default?"$ui":"$label"][0].getBoundingClientRect();t.left<n&&(n=t.left),t.top<o&&(o=t.top),t.right>i&&(i=t.right),t.bottom>a&&(a=t.bottom),s[e.annot.getId()]={left:t.left,top:t.top,width:t.width,height:t.height}})),this.path){var u=this.path[c];u.left-=n,u.top-=o}this.deltaX=e-n,this.deltaY=t-o;var l={width:i-n+2,height:a-o+2};this.$ui.css(l).attr(l)},e.prototype.drawShape=function(){var e=this.$ui[0],t=e.getContext("2d");for(var n in t.clearRect(0,0,e.offsetWidth,e.offsetHeight),t.save(),t.beginPath(),t.strokeStyle="#5aa",t.lineWidth=2,this.path){var o=this.path[n];t.rect(o.left+1,o.top+1,o.width,o.height)}t.stroke(),t.restore()},e.prototype.update=function(e,t){if(this.targetPage){var n=this.targetPage.$ui[0].getBoundingClientRect(),o=Math.max(n.left,e-this.deltaX),r=Math.max(n.top,t-this.deltaY),i=this.$ui[0];o+i.offsetWidth>n.right&&(o=n.right-i.offsetWidth),r+i.offsetHeight>n.bottom&&(r=n.bottom-i.offsetHeight),this.$ui.css({left:o-n.left,top:r-n.top})}},e.prototype.hide=function(){return this.targetPage=null,this.$ui&&this.$ui.hide(),!1},e.prototype.destroy=function(){this.pdfviewer=null,this.docRender=null,this.$ui&&(this.$ui.remove(),this.$ui=null)},e.prototype.moveAnnot=function(e){var t=this,n=e[0].annot.getPDFPage(),o=this.targetPage;if(!o)return Promise.resolve(this.hide());var r=o.page,a=n.getIndex(),c=o.index;if(c==a)return Promise.resolve(this.hide());var u=n.doc,l=e.reduce((function(e,t){return t.getRelevanceRenders?[].concat(s(e),s(t.getRelevanceRenders(!0))):[].concat(s(e),[t.annot.getId()])}),[]).reduce((function(e,r){var i=n.annotIdMap[r],s={},c={},u=t.path[r];if(u){var l=t.pdfviewer.getAnnotRender(a,r);l=l.component,s="FreeTextCallout"==i.getIntent()?l.backupProperty.rect:i.getRect();var f=u.left,p=u.top,d=t.$ui[0].getBoundingClientRect(),h=l.getRect();d={width:h.right-h.left,height:h.bottom-h.top,left:d.left+f,top:d.top+p},c=o.getPDFRectFromClientRect(d)}return e[r]={rect:c,oldRect:s},e}),{});return u.moveAnnotsToPage(n,r,l).then((function(e){return t.pdfviewer.collaborate(i.COLLABORATION_ACTION.MOVE_ANNOTS_BETWEEN_PAGES,{fromPageIndex:a,toPageIndex:c,annots:l}),e})).then((function(e){return t.hide(),e}))},e}();t.default=c},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={zIndexDown:{name:"zIndexDown",nameI18nKey:"viewer_:contextmenu.annot.zIndexDown",callback:function(){this.data("zIndexContextMenu").zIndexDown()},visible:function(){return this.data("zIndexContextMenu").checkZIndexDown()}},zIndexRecover:{name:"zIndexRecover",nameI18nKey:"viewer_:contextmenu.annot.zIndexRecover",callback:function(){this.data("zIndexContextMenu").zIndexRecover()},visible:function(){return!this.data("zIndexContextMenu").checkZIndexDown()}}};t.getZIndexContextMenu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-container";return{selector:e,items:o,events:{show:function(){return this.data("zIndexContextMenu").updateDeleteStatus(!0),!0},hide:function(){return this.data("zIndexContextMenu").updateDeleteStatus(!1),!0}}}},t.annotZIndexComponentKey="zIndexContextMenu"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={annotation:"annotation"}},function(e,t,n){n(2);e.exports=function(e){"use strict";e=e||{};return'<div class="fv-callout">\r\n    <div class="fv__shape-control callout">\r\n        <canvas class="fv__shape-control-previewer"></canvas>\r\n        <div class="fv__shape-control-move-area"></div>\r\n        <div class="fv__shape-control-inner-area">\r\n            <div class="fv__shape-controller callout left text"></div>\r\n            <div class="fv__shape-controller callout top text"></div>\r\n            <div class="fv__shape-controller callout right text"></div>\r\n            <div class="fv__shape-controller callout bottom text"></div>\r\n        </div>\r\n        <div class="fv__shape-control-text-area"></div>\r\n        <div class="fv__shape-controller callout calloutStart"></div>\r\n        <div class="fv__shape-controller callout calloutKnee"></div>\r\n    </div>\r\n</div>','<div class="fv-callout">\r\n    <div class="fv__shape-control callout">\r\n        <canvas class="fv__shape-control-previewer"></canvas>\r\n        <div class="fv__shape-control-move-area"></div>\r\n        <div class="fv__shape-control-inner-area">\r\n            <div class="fv__shape-controller callout left text"></div>\r\n            <div class="fv__shape-controller callout top text"></div>\r\n            <div class="fv__shape-controller callout right text"></div>\r\n            <div class="fv__shape-controller callout bottom text"></div>\r\n        </div>\r\n        <div class="fv__shape-control-text-area"></div>\r\n        <div class="fv__shape-controller callout calloutStart"></div>\r\n        <div class="fv__shape-controller callout calloutKnee"></div>\r\n    </div>\r\n</div>'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(416),i=n(4),a=(o=i)&&o.__esModule?o:{default:o};var s=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.control=t,this.annot=t.annot,this.companions=[],this.shape={getRect:function(){return n.annot.getRect()}},this.deltaX=0,this.deltaY=0,this.companionMargin={left:0,top:0,bottom:0,right:0}}return e.prototype.companion=function(e){this!==e&&(this.companions.indexOf(e)>-1||(this.companions.push(e),this.updateMargin()))},e.prototype.updateMargin=function(){if(0!==this.companions.length){var e=this.shape.getRect(),t=e.left,n=e.right,o=e.top,r=e.bottom;this.companions.forEach((function(e){var i=e.shape.getRect();t=Math.min(i.left,t),o=Math.min(i.top,o),n=Math.max(i.right,n),r=Math.max(i.bottom,r)}));var i=e.left-t,a=n-e.right,s=e.top-o,c=r-e.bottom;this.companionMargin={left:i,right:a,top:s,bottom:c}}else this.companionMargin={left:0,top:0,bottom:0,right:0}},e.prototype.doStart=function(){this.deltaX=0,this.deltaY=0,this.control.showShape(),this.control.start(r.ACTION_AREA)},e.prototype.move=function(e,t,n){var o=this;this.deltaX+=e,this.deltaY+=t,this.control.move(r.ACTION_AREA,-1,this.deltaX,this.deltaY).then((function(e){if(e){var t=e.rect,n=e.innerRect,r=e.points;(0,a.default)(o.control.calloutController).css(o.annot.getBoundary()),o.control.showShape(r,t,n)}}))},e.prototype.resize=function(e,t,n,o){},e.prototype.end=function(e,t){this.control.calloutShape.hide(),"move"===e&&this.control.end(r.ACTION_AREA)},e.prototype.cancel=function(e){},e.prototype.rotateStart=function(){},e.prototype.updateRotateDegreeBox=function(e){},e.prototype.rotate=function(e,t){},e.prototype.rotateEnd=function(){},e.prototype.clearCompanions=function(){this.companions.length=0,this.companionMargin={left:0,top:0,bottom:0,right:0}},e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(56));function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return r.subject=n,r.part=o,r.destinations=[],r.preValue=void 0,r.prepare(),r}return i(t,e),t.prototype.prepare=function(){(0,o.default)()},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.disconnectAll()},t.prototype.notify=function(e,t){var n=this;this.isFreezed||(this.preValue=e,this.destinations.forEach((function(o){return o.receive(e,t,n)})))},t.prototype.connect=function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.destinations.push(e),n&&e.receive(this.preValue,this.preValue,this),function(){var n=t.destinations.indexOf(e);n>-1&&(t.destinations.splice(n,1),e.lost(t))}},t.prototype.freeze=function(){var e=this;return this.isFreezed=!0,function(){e.isFreezed=!1}},t.prototype.disconnectAll=function(){var e=this;this.destinations.forEach((function(t){return t.lost(e)})),this.destinations=[]},t}(r(n(13)).default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=(d(n(17)),n(8)),i=(d(n(175)),d(n(118)),d(n(3))),a=d(n(424)),s=(d(n(176)),d(n(211))),c=d(n(9)),u=n(7),l=n(28),f=n(880),p=n(881);function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var v=function(){function e(t){m(this,e),this.module=t,this.controllers={},this.directives={},this.layouts={},this.fragments=new l.Store,this.components=new l.Store,this.pipes=new l.Store,this.services=new l.Store}return e.prototype.getPipe=function(e){if(this.pipes.has(e))return this.pipes.getCurrentValue(e);var t=void 0;return this.module.depends.some((function(n){return!!(t=n.registry.getPipe(e))})),t},e.prototype.registerPipe=function(e,t){if("function"!=typeof t)throw new Error("Pipe Must be a function, but actual: "+(void 0===t?"undefined":o(t))+", name: "+e);this.pipes.dispatch(e,t),this.triggerRegisterAction(f.RegisterType.pipe,e)},e.prototype.triggerRegisterAction=function(e,t){var n=p.actions.getCurrentValue("register")||[];n.push({module:this.module.name,type:e,name:t}),p.actions.dispatch("register",n)},e.prototype.getComponentDefAsync=function(e){var t=[this];return this.module.depends.forEach((function e(n){-1===t.indexOf(n.registry)&&t.push(n.registry),n.depends.forEach(e)})),new Promise((function(n,o){var r=[];t.forEach((function(t){r.push(t.components.subscribeOnce(e,(function(e){r.forEach((function(e){return e()})),n({componentClass:e,type:"component"})})),t.fragments.subscribeOnce(e,(function(e){r.forEach((function(e){return e()})),n({fragmentsConfig:e,type:"fragment"})})))}))}))},e.prototype.registerDirective=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getName().toLowerCase(),o=this.directives[n];if(o!==e){if(o&&!o.isFake()&&!t)throw new Error("Duplicated directive name "+n);this.directives[n]=e,this.triggerRegisterAction(f.RegisterType.directive,n)}},e.prototype.getDirectiveClass=function(e){e=e.toLowerCase();var t=this.directives[e];if(!t){var n=!0,o=!1,r=void 0;try{for(var i,a=this.module.depends[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){if(t=i.value.getDirectiveClass(e))break}}catch(e){o=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(o)throw r}}}return t},e.prototype.registerController=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getName(),o=this.controllers[n];if(o!==e){if(o&&!o.isFake()&&!t)throw new Error("Duplicated controller class name: "+n);this.controllers[n]=e,this.triggerRegisterAction(f.RegisterType.controller,n)}},e.prototype.controller=function(e,t){var n=s.default.getProxyClass(i.default,(function(e,n,o,r){return t[r].apply(e,o)}),i.default,!1,(function(e){return"function"==typeof t[e]})),o=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,function(n){function o(){m(this,o);for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];var a=h(this,n.call.apply(n,[this].concat(r)));return"function"==typeof t.init&&t.init.apply(a,r),a}return g(o,n),o.getName=function(){return e},o}(n)),r=o[e].prototype;for(var a in t)void 0===r[a]&&(r[a]=t[a]);return this.registerController(o[e]),this},e.prototype.getControllerClass=function(e){var t=this.controllers[e];if(!t){var n=!0,o=!1,r=void 0;try{for(var i,a=this.module.depends[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){if(t=i.value.getControllerClass(e))break}}catch(e){o=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(o)throw r}}}return t},e.prototype.registerComponent=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getName().toLowerCase(),o=this.components.getCurrentValue(n);if(o!==e){if(o&&!o.isFake()&&!t)throw new Error("Duplicated component name '"+n+"', component names must be unique and case-insensitive");if("{native}"!==n){var i=this.module.name,s=void 0;if(i.length>0){var l=""+i+r.NAMESPACE_SEPERATOR+n;document.createElementNS("http://www.w3.org/1999/xhtml",l),s=document.createElement(l)}else s=document.createElement(n);s instanceof HTMLUnknownElement||"template"===n||"slot"===n||"input"===n||-1===u.STANDARD_HTML_ELEMENTS.indexOf(n)||c.default.getLogger("UIXRegistry").warn("Incorrect component name <"+n+">, It should'nt be a name of the W3C HTML standard element",e)}e.$metadata=new a.default(e),this.components.dispatch(n,e),this.triggerRegisterAction(f.RegisterType.component,n)}},e.prototype.getComponentClass=function(e){e=e.toLowerCase();var t=this.components.getCurrentValue(e);if(!t){var n=!0,o=!1,r=void 0;try{for(var i,a=this.module.depends[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){if(t=i.value.getComponentClass(e))break}}catch(e){o=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(o)throw r}}}return t},e.prototype.registerLayout=function(e){var t=e.getName().toLowerCase();this.layouts[t]=e},e.prototype.getLayoutClass=function(e){e=e.toLowerCase();var t=this.layouts[e];if(!t){var n=!0,o=!1,r=void 0;try{for(var i,a=this.module.depends[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){if(t=i.value.getLayoutClass(e))break}}catch(e){o=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(o)throw r}}}return t},e.prototype.registerPreConfiguredComponent=function(e,t){return this.registerFragment(e,t)},e.prototype.getPreConfiguredComponent=function(e){return this.getFragment(e)},e.prototype.registerFragment=function(e,t){e=e.toLowerCase();var n=this.getComponentClass(e);if(n&&!n.isFake())throw new Error("conflict: a component names "+e+" is already exists.");if(this.fragments.has(e))throw new Error("Duplicate fragment name: "+e);this.fragments.dispatch(e,t),this.triggerRegisterAction(f.RegisterType.fragment,e)},e.prototype.getFragment=function(e){e=e.toLowerCase();var t=this.fragments.getCurrentValue(e);if(!t){var n=!0,o=!1,r=void 0;try{for(var i,a=this.module.depends[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){if(t=i.value.getFragment(e))break}}catch(e){o=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(o)throw r}}}return t},e.prototype.service=function(e,t){if(void 0===t)return getService(e);this.services.dispatch(e,t)},e.prototype.getService=function(e){if(this.services.has(e))return this.services.getCurrentValue(e);var t=!0,n=!1,o=void 0;try{for(var r,i=this.module.depends[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var a=r.value.registry.getService(e);if(a)return a}}catch(e){n=!0,o=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw o}}},e}();t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(n(3)),r=u(n(863)),i=u(n(278)),a=u(n(176)),s=u(n(864)),c=u(n(40));function u(e){return e&&e.__esModule?e:{default:e}}var l=["mounted","prelink","postlink","destroy","uninstall"],f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.newControllerInstance=function(e,t){var n=e.callback,u=e.proxyControllers,f=void 0;"function"==typeof n?f=a.default.isSubClassOf(n,o.default)?new n(t):new r.default(t,n):n instanceof o.default?(f=Object.create(n),l.forEach((function(e){f[e]=i.default.prototype[e]})),n.setParentScope===c.default&&(f.setParentScope=o.default.prototype.setParentScope),f.component=t,f.methods={},f.data=Object.assign({},e.$initData||{}),t.parent&&f.setParentScope(t.parent.controller)):f=new i.default(t);var p=u.reduce((function(e,t){var n=t.method||"handle";return(e[n]=e[n]||[]).push(t),e}),{});for(var d in p){var h=p[d];"function"==typeof f[d]&&(f[d]=h.reduce((function(e,t){return e.proxy(t)}),s.default.on(f[d])).extract())}return f},e}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(3);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.callbackfn=o,r}return i(t,e),t.getName=function(){return"CallbackController"},t.prototype.handle=function(){for(var e,t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return(e=this.callbackfn).call.apply(e,[this].concat(n))},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.originfn=t,this.beforeHooks=[],this.afterHooks=[],this.thrownHooks=[],this.aroundHooks=[]}return e.on=function(t){if("function"==typeof t)return new e(t);if(t instanceof e)return new e(t.extract());throw new TypeError("Unexpected type: "+(void 0===t?"undefined":o(t)))},e.prototype.before=function(e){return"function"==typeof e&&this.beforeHooks.push(e),this},e.prototype.after=function(e){return"function"==typeof e&&this.afterHooks.push(e),this},e.prototype.thrown=function(e){return"function"==typeof e&&this.thrownHooks.push(e),this},e.prototype.around=function(e){return"function"==typeof e&&this.aroundHooks.push(e),this},e.prototype.proxy=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.before,n=e.after,o=e.thrown,r=e.around;return this.before(t),this.after(n),this.thrown(o),this.around(r),this},e.prototype.extract=function(){var e=this.beforeHooks,t=this.afterHooks,n=this.thrownHooks,o=this.aroundHooks,r=this.originfn;function i(){for(var o=this,i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];e.forEach((function(e){return e.call(o,a)}));try{var c=r.apply(this,a);return t.forEach((function(e){return e.call(o,c,a)})),c instanceof Promise&&c.catch((function(e){n.forEach((function(t){return t.call(o,e,a)}))})),c}catch(e){n.forEach((function(t){return t.call(o,e,a)}))}}return i.origin=r,o.reduceRight((function(e,t){return function(){for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];return t(this,e,o)}}),i)},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={},r={};function i(e,t){if(t in e)return e[t];var n=t.toLowerCase();if(n in e)return e[n];var i=r[t];return i||(i=t.replace(/[A-Z]/g,(function(e,t){return 0===t?e.toLowerCase():"-"+e.toLowerCase()})),r[t]=i),i in e?e[i]:o}function a(e,t,n){var o=n.field||t,r=e.$options;return o in r?r[o]:t in r?r[t]:i(e.attrs,t)}function s(e,t,n){var r=a(e,t,n);if(r===o)return void 0!==n.defaultValue&&n.defaultValue;if("string"==typeof r&&(r=0==(r=r.trim().toLowerCase()).length||(!0===n.defaultValue?"false"!==r:"true"===r)),"boolean"!=typeof r&&(r=n.defaultValue),"boolean"!=typeof r&&n.required)throw new Error("Illegal component parameter("+t+"): "+t+" is required for <"+e.name+">");return r}function c(e,t,n){var r=a(e,t,n);if((r===o||"string"!=typeof r)&&n.required)throw new Error("Illegal component parameter("+t+"): "+t+" is required for <"+e.name+">");if("string"!=typeof r&&(r=n.defaultValue),"lower"===n.case?r=r.toLowerCase():"upper"===n.case&&(r=r.toUpperCase()),n.match){var i=n.match;if("string"==typeof n.match&&(i=new RegExp(i)),i instanceof RegExp&&!i.test(r))throw new Error("Illegal component parameter("+t+"): "+r+" doesn't match regex: "+i)}return r}function u(e,t,n){var r=a(e,t,n);if((r===o||"string"!=typeof r)&&n.required)throw new Error("Illegal component parameter("+t+"): "+t+" is required for <"+e.name+">");"string"!=typeof r&&(r=n.defaultValue),"lower"===n.case?r=r.toLowerCase():"upper"===n.case&&(r=r.toUpperCase());var i=n.enums||[];if(-1==i.indexOf(r))throw new Error("'"+r+"' is not in list of valid values: ["+i.join(",")+"]");return r}function l(e,t,n){var o=n.min,r=n.max;isFinite(o)||(o=-1/0),isFinite(r)||(r=1/0);var i=[Math.min(o,r),Math.max(o,r)];o=i[0],r=i[1];var s=Number(a(e,t,n));if("number"!=typeof s&&n.required)throw new Error("Illegal component parameter("+t+"): "+t+" is required for <"+e.name+">");if(("number"!=typeof s||isNaN(s))&&(s=n.defaultValue),s<o||s>r)throw new Error("Illegal component parameter("+t+"): "+s+" is out of range ["+o+", "+r+"]");return s}function f(e,t,n){var o=Number(a(e,t,n));if("number"!=typeof o&&n.required)throw new Error("Illegal component parameter("+t+"): "+t+" is required for <"+e.name+">");if(("number"!=typeof o||isNaN(o))&&(o=n.defaultValue),void 0===o&&!n.required)return o;if(isNaN(o)||!isFinite(o))throw new Error("Illegal component parameter("+t+"): "+o+" is not a valid number for <"+e.name+">");return o}function p(e,t,n){var r=n.field||t;if(r in e.$options){var a=e.$options[r];if(!a&&n.required)throw new Error("Illegal component parameter("+t+"): "+t+" is required for <"+e.name+">");if("function"!=typeof a)throw new Error("Illegal component parameter("+t+"): "+a+" is not a function");return a}var s=i(e.attrs,t);if(s==o&&n.required)throw new Error("Illegal component parameter("+t+"): "+t+" is required for <"+e.name+">");if(s!==o){var c=[];return"string"==typeof n.args?c.push(n.args):Array.isArray(n.args)&&c.push.apply(c,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(n.args)),function(){var t=arguments;return e.controller.eval(s,c.reduce((function(e,n,o){return e[n]=t[o],e}),{$args:Array.prototype.slice.call(arguments,0)}))}}return n.defaultValue}function d(e,t,n){var r=a(e,t,n);if(void 0===r&&(r=n.defaultValue),(r===o||void 0===r)&&n.required)throw new Error("Illegal component parameter("+t+"): "+t+" is required for <"+e.name+">");if(r!==o)return r}function h(e,t,n){return n.call(e,e,t)}var g=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.resolvers=[],this.init(t)}return e.prototype.init=function(e){for(var t in e){var n=e[t],o=this.getResolver(n);this.resolvers.push({field:n.field||t,name:t,config:n,resolve:o})}},e.prototype.getResolver=function(e){if("function"==typeof e)return h;switch(e.type){case"boolean":return s;case"string":return c;case"range":return l;case"number":return f;case"function":return p;case"enum":return u;default:return d}},e.prototype.resolve=function(e){this.resolvers.forEach((function(t){e[t.field]=t.resolve(e,t.name,t.config)}))},e}();t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(11);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,{}));return o.component=n,o}return i(t,e),t.getName=function(){return"<native-noop>"},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(101);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,null,null));return o.selectors=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(n)),o}return i(t,e),t.prototype.selectFrom=function(e){return this.selectors.reduce((function(t,n){return n.selectFrom(e).forEach((function(e){-1===t.indexOf(e)&&t.push(e)})),t}),[])},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(869),r=n(425);var i=[o.all,o.dchildren,o.whitespace,o.name,o.type,o.attribute,o.method,o.root],a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.tokenize=function(e){for(var t=e.replace(r.rTrim,"$1"),n=[];t.length>0;){var o=!1,a=!0,s=!1,c=void 0;try{for(var u,l=i[Symbol.iterator]();!(a=(u=l.next()).done);a=!0){var f=(0,u.value)(t);f&&(o=!0,t=t.substring(f.token.length),n.push(f))}}catch(e){s=!0,c=e}finally{try{!a&&l.return&&l.return()}finally{if(s)throw c}}if(!o)throw new Error("'"+e+"' is not a valid selector: at "+(e.length-t.length))}return n},e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.whitespace=function(e){var t=o.rWhitespace.exec(e);if(t)return{type:"whitespace",token:t[0],step:t[0].length}},t.dchildren=function(e){var t=o.rDirectlyChildren.exec(e);if(t)return{type:"dchildren",token:t[0],step:t[0].length}},t.type=function(e){var t=o.rType.exec(e);if(t)return{type:"type",token:t[0],options:{type:t[3],module:t[2]},step:t[0].length}},t.name=function(e){var t=o.rName.exec(e);if(t)return{type:"name",token:t[0],options:{name:t[0]},step:t[0].length}},t.attribute=function(e){var t=o.rAttribute.exec(e);if(t)return{type:"attribute",token:t[0],options:{key:t[1],compare:t[2],value:t[3]||t[4]||t[5]},step:t[0].length}},t.method=function(e){var t=o.rMethods.exec(e);if(t)return{type:"method",token:t[0],options:{name:t[1],parameter:t[2]},step:t[0].length}},t.all=function(e){if("*"===e[0])return{type:"all",token:"*",options:{},step:1}},t.root=function(e){var t=o.rRoot.exec(e);if(t)return{type:"root",token:t[0],options:{},step:t[0].length}};var o=n(425)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=f(n(426)),r=f(n(871)),i=f(n(872)),a=f(n(873)),s=f(n(874)),c=f(n(875)),u=f(n(876)),l=f(n(877));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.create=function(e,t){switch(e){case"whitespace":return new o.default(t);case"name":return new r.default(t);case"type":return new i.default(t);case"attribute":return new a.default(t);case"method":return new s.default(t);case"all":return new c.default(t);case"dchildren":return new l.default(t);case"root":return new u.default(t);default:throw new Error("Unsupported selector: "+e)}},e}();t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(101)),r=i(n(45));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var s=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.name=n.name,o}return a(t,e),t.prototype.selectFrom=function(e,t){var n=this;return t?e.reduce((function(e,t){return t instanceof r.default?e.concat(t.findChildren((function(e){return e.attrs.name===n.name}))):e.concat(t.findChildren((function(e){return e.name===n.name})))}),[]):e.filter((function(e){return e instanceof r.default?e.attrs.name===n.name:e.name===n.name}))},t}(o.default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(101)),r=a(n(45)),i=n(8);function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.type=n.type,o.moduleName=n.module||i.ROOT_MODULE_NAME,o}return s(t,e),t.prototype.selectFrom=function(e,t){var n=this,o=function(e){return e.module.name===n.moduleName&&(e.nodeName===n.type||e.nestName===n.type)},i=function(e){var t=e.constructor.getName(),o=e.node.fragmentType;if("{native}"===t)return e.element.nodeName.toLowerCase()===n.type;var r=e.node.fragmentModule;return r&&r.name===n.moduleName&&o===n.type||e.node.module.name===n.moduleName&&t===n.type};return t?e.reduce((function(e,t){return t instanceof r.default?e.concat(t.findChildren(o,!1)):e.concat(t.findChildren(i,!1))}),[]):e.filter((function(e){return e instanceof r.default?o(e):i(e)}))},t}(o.default);t.default=c},function(e,t,n){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=c(n(101)),a=c(n(45)),s=c(n(17));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=(l(o={},"^=",(function(e,t){return"string"==typeof t&&0===t.indexOf(e)})),l(o,"=",(function(e,t){return function(e){switch(void 0===e?"undefined":r(e)){case"string":case"boolean":case"number":case"bigint":case"undefined":return!0}return null===e}(t)&&e==t+""})),l(o,"*=",(function(e,t){return"string"==typeof t&&t.indexOf(e)>-1})),l(o,"!=",(function(e,t){return e!==t})),l(o,"|=",(function(e,t){return"string"==typeof t&&t.split("-").indexOf(e)>-1})),l(o,"$=",(function(e,t){return"string"==typeof t&&e.length<=t.length&&t.slice(t.length-e.length)===e})),o),p=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.key=n.key,o.value=n.value,o.matcher=f[n.compare],o}return u(t,e),t.prototype.selectFrom=function(e,t){var n=this;return t?this.selectDeeply(e):e.filter((function(e){if(n.value){if(e instanceof a.default)return n.isNodeValueMatch(e);if(e instanceof s.default)return n.isComponentValueMatch(e)}else{if(e instanceof a.default)return n.isNodeContains(e);if(e instanceof s.default)return n.isComponentContains(e)}return!1}))},t.prototype.selectDeeply=function(e){var t=this;return e.reduce((function(e,n){if(t.value){if(n instanceof a.default)return e.concat(n.findChildren((function(e){return t.isNodeValueMatch(e)})));if(n instanceof s.default)return e.concat(n.findChildren((function(e){return t.isComponentValueMatch(e)})))}else{if(n instanceof a.default)return e.concat(n.findChildren((function(e){return t.isNodeContains(e)})));if(n instanceof s.default)return e.concat(n.findChildren((function(e){return t.isComponentContains(e)})))}return e}),[])},t.prototype.isMatch=function(e){return this.matcher.call(null,this.value,e)},t.prototype.isNodeContains=function(e){return this.key in e.attrs},t.prototype.isComponentContains=function(e){return this.key in e||this.key in e.attrs},t.prototype.isNodeValueMatch=function(e){return this.key in e.attrs&&this.isMatch(e.attrs[this.key])},t.prototype.isComponentValueMatch=function(e){return this.isMatch(e[this.key])||this.key in e.attrs&&this.isMatch(e.attrs[this.key])},t}(i.default);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(101)),r=s(n(9)),i=s(n(45)),a=s(n(17));s(n(280));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}r.default.getLogger("method-selector");var u={eq:function(e,t){var n=parseInt(t);if(isNaN(n)||n<0)throw new Error("invalid selector: illegal parameter for ::childAt() selector: "+t);return n>=e.length?[]:[e[n]]},childAt:function(e,t){var n=parseInt(t);if(isNaN(n)||n<0)throw new Error("invalid selector: illegal parameter for ::childAt() selector: "+t);return e.map((function(e){return e instanceof i.default||e instanceof a.default&&e.isContainer()?e.childAt(n):void 0}))},parent:function(e,t){return e.map((function(e){return e.parent}))},first:function(e){return e.length>0?[e[0]]:[]},last:function(e){return e.length>0?[e[e.length-1]]:[]},allAfter:function(e){return e.reduce((function(e,t){var n=t.brothers(),o=n.indexOf(t);return e.concat(n.slice(o+1))}),[]).reduce((function(e,t){return-1===e.indexOf(t)&&e.push(t),e}),[])},allBefore:function(e){return e.reduce((function(e,t){var n=t.brothers(),o=n.indexOf(t);return e.concat(n.slice(0,o))}),[]).reduce((function(e,t){return-1===e.indexOf(t)&&e.push(t),e}),[])}},l=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));if(o.name=n.name,o.params=n.parameter,o.selector=u[o.name],!o.selector)throw new Error("Invalid selector: method not found: "+n.name);return o}return c(t,e),t.prototype.selectFrom=function(e){return this.selector(e,this.params).filter((function(e){return!!e}))},t}(o.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(426);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.prototype.selectFrom=function(t,n){return n?e.prototype.selectFrom.call(this,t,n):t},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(101);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.prototype.selectFrom=function(e){return e.map((function(e){return e.getRoot()})).reduce((function(e,t){return-1===e.indexOf(t)&&e.push(t),e}),[])},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(101)),r=a(n(45)),i=a(n(17));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(){return s(this,t),c(this,e.apply(this,arguments))}return u(t,e),t.prototype.selectFrom=function(e){return e.reduce((function(e,t){return t instanceof r.default?e.concat(t.children):t instanceof i.default&&t.isContainer()?e.concat(t.children()):e}),[])},t}(o.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(101);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,{}));return o.selectors=n,o}return i(t,e),t.prototype.selectFrom=function(e){return this.selectors.reduce((function(e,t,n){return e.length<1?e:t.selectFrom(e,0===n)}),e)},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(11);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.directives=o,r.addDestroyHook((function(){r.directives.forEach((function(e){return e.destroy()}))})),r}return i(t,e),t.getName=function(){return"<native-multiple>"},t.prototype.processComponentOptions=function(e){this.directives.forEach((function(t){return t.processComponentOptions(e)}))},t.prototype.init=function(t){t.setDirective(this),e.prototype.init.call(this,t),this.directives.forEach((function(e){e.init(t),t.element.classList&&t.element.classList.add("fv__ui-directive-"+e.directiveName)}))},t.prototype.emit=function(e,t,n){this.directives.forEach((function(o){o.emit(e,t,n)}))},t.prototype.receiveEmit=function(e,t,n){var o=!0;this.directives.forEach((function(r){var i=0!=r.receiveEmit(e,t,n);o=o&&i})),o&&this.parentComponent&&this.parentComponent.directive.emit(t,n,e)},t.prototype.receiveBroadcast=function(e,t){this.directives.forEach((function(n){n.receiveBroadcast(e,t)})),this.component.isContainer()&&this.component.children().forEach((function(n){n.directive.receiveBroadcast(e,t)}))},t.prototype.beforeComponentRender=function(){this.directives.forEach((function(e){return e.beforeComponentRender()}))},t.prototype.afterComponentRender=function(){this.directives.forEach((function(e){return e.afterComponentRender()}))},t.prototype.componentPrelink=function(){this.directives.forEach((function(e){return e.componentPrelink()}))},t.prototype.componentPostlink=function(){this.directives.forEach((function(e){return e.componentPostlink()}))},t.prototype.componentMounted=function(){this.directives.forEach((function(e){return e.componentMounted()}))},t.prototype.componentDestroyed=function(){this.directives.forEach((function(e){return e.componentDestroyed()})),this.destroy()},t.prototype.getDirective=function(e){return this.getDirectives(e)[0]},t.prototype.getDirectives=function(e){return this.directives.filter((function(t){return t.directiveName===e}))},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=a},function(e,t,n){"use strict";var o;n.r(t),n.d(t,"RegisterType",(function(){return o})),function(e){e.directive="directive",e.controller="controller",e.component="component",e.pipe="pipe",e.fragment="fragment"}(o||(o={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.actions=void 0;var o=n(28);t.actions=new o.Store},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.splitExpression=function(e){var t=[],n=e;for(;;){var r=o.exec(n);if(!r){t.unshift(n);break}var i=n.slice(r.index+1);n=n.slice(0,r.index),t.unshift(i)}return t};var o=/\|(\w+|\w+\(.*?\))(?=$)/},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(52),r=u(n(13)),i=n(18),a=u(n(102)),s=u(n(1)),c=u(n(155));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var f=function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return r.pdfViewer=n,r.scrollHost=o,r.prepare(),r}return l(t,e),t.prototype.addViewerEventListener=function(e,t){var n=this;this.pdfViewer.eventEmitter.on(e,t),this.addDestroyHook((function(){n.pdfViewer.eventEmitter.off(e,t)}))},t.prototype.prepare=function(){var e=this;this.taskExecutor=new i.DebounceAsyncTaskExecutor(66);var t=void 0,n=void 0,r=!1,u=this.pdfViewer,l=u.getStateHandlerManager().getCurrentStates()===a.default,f=l;this.addViewerEventListener(s.default.switchStateHandler,(function(e){l=e===a.default,f=l})),this.addViewerEventListener(s.default.updateScrollableStatus,(function(e){var o=e.disableHorizontal,r=e.disableVertical;t=o,n=r})),this.addViewerEventListener(s.default.changeViewModeSuccess,(function(e){e!==c.default&&(t=!1,n=!1)}));var p=this.scrollHost,d=function(e,t){p.scrollBy?p.scrollBy(e,t):(p.scrollLeft=p.scrollLeft+e,p.scrollTop=p.scrollTop+t)},h=new Hammer.Manager(p);h.add(new Hammer.Pan({direction:Hammer.DIRECTION_ALL}));var g=0,m=0,v=0,y=0,b=0,w=function(e){g=0,m=0,b=0},_=!1,P=!0,O=void 0,E=!1,x=function(e){var t=e.clientX,n=void 0,o=void 0,r=void 0;if(p instanceof Window)n=0,o=0,r=0;else{n=p.getBoundingClientRect().left;var i=getComputedStyle(p);o=parseInt(i.borderLeftWidth)||0,r=parseInt(i.borderRightWidth)||0}var a=o+r,s=p.offsetWidth,c=s-p.clientWidth-a;E=t>=s-c+n},C=function(){E=!1};p.addEventListener("mousedown",x),p.addEventListener("touchstart",x),p.addEventListener("mouseup",C),p.addEventListener("touchend",C),p.addEventListener("touchcancel",C);var A=function(e){var t=(0,o.eventPath)(e).some((function(e){return!!e.classList&&e.classList.contains("fv__pdf-page-annots-container")}));r=t};window.addEventListener("mousedown",A,!0),window.addEventListener("touchstart",A,!0);var S=["fv__pdf-page-handler-container","fv__hand-state-contextmenu-container","fv__rendering-container"],D=function(e){var t=e.classList;return l||S.some((function(e){return t.contains(e)}))},T=!1,I=!1;h.on("panstart",(function(e){T=!1,!f||r||E||(I?I=!1:(D(e.srcEvent.srcElement)&&(T=!0,u.eventEmitter.emit(s.default.startScrollingPage,{})),v=0,y=0,_=!1,P=!0,cancelAnimationFrame(O),e.pointers.length))})),h.on("panmove",(function(o){T&&D(o.srcEvent.srcElement)?_||!f||r||o.pointers.length>1||function(o,r){if(f){var i=o-g,a=r-m;if(t&&(i=0),n){var c=r-b;if(Math.abs(c)>10)return e.scrollSinglePage(c),void(b=r);a=0}d(-i,-a),u.eventEmitter.emit(s.default.scrollingPage,{touched:!0,distanceX:v,distanceY:y}),g=o,m=r,v=o,y=r}}(o.deltaX,o.deltaY):T=!1})),h.on("panend",(function(e){if(T&&D(e.srcEvent.srcElement)){if(!(e.pointers.length>1||!f||r)){var o=e.velocityX*(1e3/60),i=e.velocityY*(1e3/60);t&&(o=0),n&&(i=0),w();var a=o<0?-.8:.8,c=i<0?-.8:.8;P=!1,O=requestAnimationFrame((function e(){var t=Math.abs(o),n=Math.abs(i);t<.8&&n<.8||P?u.eventEmitter.emit(s.default.endScrollingPage,{distanceX:v,distanceY:y}):(O=requestAnimationFrame(e),d(-o,-i),t>=.8&&(o-=a),n>=.8&&(i-=c),v+=o,y+=i,u.eventEmitter.emit(s.default.scrollingPage,{touched:!1,distanceX:v,distanceY:y}))}))}}else T=!1})),h.on("pancancel",w);var R=function(){_=!0,w()};window.addEventListener("touchend",R),window.addEventListener("touchcancel",R),window.addEventListener("mouseup",R);var M=function(e){var t=window[e];return window[e]=function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];var r=t.apply(window,n);return I=!0,r},function(){window[e]=t}};this.addDestroyHook(M("alert"),M("confirm"),M("prompt")),this.addDestroyHook((function(){h.destroy(),O&&cancelAnimationFrame(O),p.removeEventListener("mousedown",x),p.removeEventListener("touchstart",x),p.removeEventListener("mouseup",C),p.removeEventListener("touchend",C),p.removeEventListener("touchcancel",C),window.removeEventListener("touchend",R),window.removeEventListener("mouseup",R),window.removeEventListener("touchcancel",R),window.removeEventListener("mousedown",A,!0),window.removeEventListener("touchstart",A,!0)}))},t.prototype.scrollSinglePage=function(e){var t=this;0!==e&&this.taskExecutor.exec((function(){return Promise.resolve().then((function(){var n=t.pdfViewer.getPDFDocRender().getViewMode();n instanceof c.default&&(e>0?n.jumpToPrevPage():n.jumpToNextPage())}))}))},t}(r.default);t.default=f},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=c(n(342)),r=c(n(265)),i=c(n(266)),a=c(n(267)),s=c(n(886));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var n=l(e);return{loadPath:function(e,o){var r=void 0;try{r=n.versions[e.join(" ")][o.join(" ")]}catch(e){r=n.version}return t+"/{{lng}}/{{ns}}.json?v="+r}}}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({},s.default,e)}t.default=function(e){var t,n=o.default.createInstance();return n.use(r.default).init(Object.assign({},{load:"currentOnly",fallbackLng:"en-US",backend:{backends:[i.default,a.default],backendOptions:e.backendOptions||[(t=e.version,{prefix:"foxit_pdf_sdk_for_web_i18next_",expirationTime:6048e6,versions:l(t).versions}),u(e.version,e.absolutePath)]}},e.initOption)),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={version:"d4d6a0f27df21b9bf4f5ced19bd54d13",versions:{"en-US":{ui_:"5f6861989b12a67ce03176677249f957",viewer_:"c2e68f453dfebedb8a08218657f2720d"},"ja-JP":{ui_:"c1d8b910f3866aadf15b8c192305000a",viewer_:"6180b2158fef53a60847337b030fac77"},"zh-CN":{ui_:"4c250453ba35041cf0c9b6124850c4a0",viewer_:"6e0e4ef873dad6e740569c2f6a464b5b"},"zh-TW":{ui_:"c0c8c6983f676027a9e9c3863f0fb1df",viewer_:"0288f71ab74211073a7f50fc6af3ed7b"}},languageVersions:{"en-US":"87af2d899cfcc54239d46f3ee0643691","ja-JP":"fc22f78cdcc2e4c1cd7c08c32e88108e","zh-CN":"9e18bb33936cdad5415085a6f758cdce","zh-TW":"5ba62c9f2df301eb415fb33ed1f4bf1c"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return new Promise((function(t,n){var o=new XMLHttpRequest;o.open("GET",e),o.responseType="arraybuffer",o.onreadystatechange=function(){4===o.readyState&&(o.status>=200&&o.status<300||304===o.status?t(o.response):n(new Error("Could not load image!")))},o.onerror=function(){n(new Error("Could not load image!"))},o.send()}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(429)),r=i(n(155));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ViewModes={},this.pdfViewer=t,this.register(o.default),this.register(r.default)}return e.prototype.register=function(e){return this.ViewModes[e.getName()]=e},e.prototype.get=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.default.getName();return this.ViewModes[e]||o.default},e.prototype.switchTo=function(e){var t=this.currentViewMode,n=this.get(e);if(t!==n){this.currentViewMode=n;var o=this.pdfViewer,r=o.pdfViewerRender;if(r)return o.activeElement(null),r.setViewMode(n)}},e.prototype.getCurrentViewMode=function(){return this.currentViewMode||o.default},e.prototype.getAll=function(){return this.ViewModes},e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=M(n(82)),r=(M(n(74)),M(n(157)),M(n(433))),i=M(n(286)),a=M(n(434)),s=M(n(435)),c=M(n(215)),u=M(n(901)),l=M(n(288)),f=M(n(291)),p=M(n(437)),d=M(n(438)),h=M(n(439)),g=M(n(440)),m=M(n(441)),v=M(n(294)),y=M(n(442)),b=M(n(443)),w=M(n(217)),_=M(n(444)),P=n(7),O=M(n(295)),E=M(n(445)),x=M(n(447)),C=M(n(947)),A=M(n(451)),S=M(n(452)),D=M(n(964)),T=M(n(188)),I=M(n(453)),R=M(n(1));function M(e){return e&&e.__esModule?e:{default:e}}var j=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pdfViewer=t,this.matchRules=[],this.getAnnotFlag_=function(){return 0}}return e.prototype.registerMatchRule=function(e){return this.matchRules.push(e),e},e.prototype.unRegisterMatchRule=function(e){var t=this.matchRules.indexOf(e);-1!==t&&this.matchRules.splice(t,1)},e.prototype.get=function(e){for(var t=this.matchRules,n=this.getDefault(e),o=void 0,r=0,i=t.length;r<i;r++){var a=t[r];if("function"==typeof a){var s=a(e,n);s&&(o=s,n=s)}}return o||n},e.prototype.getDefault=function(e){switch(e.getType()){case"highlight":return r.default;case"squiggly":return s.default;case"strikeout":switch(e.getIntent()){case P.Intents.STRIKEOUT_TEXTEDIT:return S.default}return i.default;case"underline":return a.default;case"line":switch(e.getIntent()){case P.Intents.LINE_DIMENSION:return u.default}return c.default;case"polyline":return l.default;case"fileattachment":return g.default;case"text":return h.default;case"circle":return d.default;case"caret":return m.default;case"freetext":switch(e.getIntent()){case P.Intents.FREETEXT_TYPEWRITER:return O.default;case P.Intents.FREETEXT_CALLOUT:return E.default;default:return x.default}case"ink":return b.default;case"polygon":switch(e.getIntent()){case P.Intents.POLYGON_CLOUD:return _.default;case P.Intents.POLYGON_DIMENSION:default:return f.default}case"square":return v.default;case"sound":return I.default;case"stamp":return y.default;case"link":return p.default;case"widget":return(0,C.default)(this.pdfViewer,e);case"screen":return A.default;case"redact":return w.default;case"watermark":return D.default;default:return o.default}},e.prototype.getAnnotFlag=function(e){var t=new T.default(e.getFlags());return t.or(this.getAnnotFlag_(e)),t},e.prototype.setViewerAnnotFlag=function(e){this.getAnnotFlag_=e,this.pdfViewer.eventEmitter.emit(R.default.globalAnnotFlagChanged)},e}();t.default=j},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";var t="",n=(e=e||{}).disabledAttr,r=e.disabled,i=e.i18nRoot,a=e.hlm,s=e.endingStyle,c=e.borderWidth,u=o.$escape,l=e.minBorderWidth,f=e.borderStyle,p=e.cloudy,d=e.highlightingMode,h=e.rotation,g=e.fillColor,m=e.checked,v=e.strFillColor,y=e.color,b=e.lineStartStyle,w=e.startStyle,_=e.lineEndStyle,P=e.endStyle,O=e.hasCap,E=(e.hasCapChecked,e.opacity);t+='<div class="fv__annot-properties-dialog">\r\n<div>\r\n    ';n=r?"disabled=disabled":"",a=(i="viewer_:dialog.")+"highlightingMode.",s=i+"endingStyle.";if(t+="\r\n    ",void 0!==c&&(t+='\r\n        <div class="fv__property-item">\r\n            <span class="fv__property-item-name-container">',t+=u(o.i18n(i+"borderWidth")),t+='</span>\r\n            <div class="fv__property-item-field-container">\r\n                <input id="thickness-input-tx" type="number"\r\n                       min="',t+=u(null!=l?l:1),t+='" max="12" step="1" value="',t+=u(c),t+='"\r\n                       ',t+=u(n),t+='>\r\n                <input id="thickness-input" type="range"\r\n                       value="',t+=u(c),t+='" min="1" max="12" step="1"\r\n                       ',t+=u(n),t+=">\r\n            </div>\r\n        </div>\r\n    "),!1!==f&&(t+='\r\n        <div class="fv__property-item">\r\n            <span class="fv__property-item-name-container">',t+=u(o.i18n(i+"borderStyle")),t+='</span>\r\n            <div class="fv__property-item-field-container">\r\n                <select id="borderStyle-select" ',t+=u(n),t+='>\r\n                    <option value="0">âââââââââââ</option>\r\n                    <option value="1">. . . . . . . . . . . . . . . . . . . . .</option>\r\n                    <option value="2">-  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -</option>\r\n                    <option value="3">â  â  â  â  â  â  â  â  â</option>\r\n                    <option value="4">â  -  â  -  â  -  â  -  â  -  â  -</option>\r\n                    <option value="5">ââ  -  ââ  -  ââ  -  ââ  -</option>\r\n                    <option value="6">-   âââ   -   âââ   -   âââ</option>\r\n                    ',!0===p&&(t+='\r\n                    <option value="7">ï¹ï¹ï¹ï¹ï¹ï¹ï¹ï¹ï¹ï¹ï¹</option>\r\n                    <option value="8">~~~~~~~~~~~~~~~~~~~</option>\r\n                    '),t+="\r\n                </select>\r\n            </div>\r\n        </div>\r\n    "),void 0!==d&&(t+='\r\n        <div class="fv__property-item">\r\n            <span class="fv__property-item-name-container">',t+=u(o.i18n(a+"title")),t+='</span>\r\n            <div class="fv__property-item-field-container">\r\n                <select id="highlighting-select" ',t+=u(n),t+='>\r\n                    <option value="0">',t+=u(o.i18n(a+"none")),t+='</option>\r\n                    <option value="1">',t+=u(o.i18n(a+"invert")),t+='</option>\r\n                    <option value="2">',t+=u(o.i18n(a+"outline")),t+='</option>\r\n                    <option value="3">',t+=u(o.i18n(a+"push")),t+='</option>\r\n                    <option value="4">',t+=u(o.i18n(a+"toggle")),t+="</option>\r\n                </select>\r\n            </div>\r\n        </div>\r\n    "),void 0!==h&&(t+='\r\n            <div class="fv__property-item">\r\n                <span class="fv__property-item-name-container">',t+=u(o.i18n(i+"rotate")),t+='</span>\r\n                <div class="fv__property-item-field-container">\r\n                    <select id="rotation-select" ',t+=u(n),t+='>\r\n                        <option value="0">0</option>\r\n                        <option value="1">90</option>\r\n                        <option value="2">180</option>\r\n                        <option value="3">270</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n        '),void 0!==g){m="",r="",v=g;if(0==g)r="disabled=1",m="checked=1",v="#FFFFFF";else{for(v=(g&=16777215).toString(16);v.length<6;)v="0"+v;v="#"+v}t+='\r\n        <div class="fv__property-item">\r\n            <span class="fv__property-item-name-container">',t+=u(o.i18n(i+"fillColor")),t+='</span>\r\n\r\n            <div class="fv__property-item-field-container">\r\n                <input id="fillcolor-input" type="color" value="',t+=u(v),t+='" ',t+=u(r),t+=" ",t+=u(n),t+='>\r\n\r\n                <label>\r\n                    <input id="fillColor-transparent-input" type="checkbox" ',t+=u(m),t+=" ",t+=u(n),t+=">\r\n                    ",t+=u(o.i18n(i+"transparent")),t+="\r\n                </label>\r\n            </div>\r\n        </div>\r\n    "}(void 0!==y&&(0===y&&(y="#ffffff"),t+='\r\n    <div class="fv__property-item">\r\n        <label>\r\n            <span class="fv__property-item-name-container">',t+=u(o.i18n(i+"color")),t+='</span>\r\n            <div class="fv__property-item-field-container">\r\n                <input id="color-input" type="color" value="',t+=u(y),t+='" ',t+=u(n),t+=">\r\n            </div>\r\n        </label>\r\n    </div>\r\n    "),b&&(t+='\r\n        <div class="fv__property-item">\r\n            <span class="fv__property-item-name-container">',t+=u(o.i18n(i+"startStyle")),t+='</span>\r\n            <div class="fv__property-item-field-container">\r\n                <select id="startstyle-select" value="',t+=u(w),t+='" ',t+=u(n),t+='>\r\n                    <option value="0">',t+=u(o.i18n(s+"none")),t+='</option>\r\n                    <option value="1">',t+=u(o.i18n(s+"square")),t+='</option>\r\n                    <option value="2">',t+=u(o.i18n(s+"circle")),t+='</option>\r\n                    <option value="3">',t+=u(o.i18n(s+"diamond")),t+='</option>\r\n                    <option value="4">',t+=u(o.i18n(s+"openArrow")),t+='</option>\r\n                    <option value="5">',t+=u(o.i18n(s+"closedArrow")),t+='</option>\r\n                    <option value="6">',t+=u(o.i18n(s+"butt")),t+='</option>\r\n                    <option value="7">',t+=u(o.i18n(s+"reverseOpenArrow")),t+='</option>\r\n                    <option value="8">',t+=u(o.i18n(s+"reverseClosedArrow")),t+='</option>\r\n                    <option value="9">',t+=u(o.i18n(s+"slash")),t+="</option>\r\n                </select>\r\n            </div>\r\n        </div>\r\n        "),_&&(t+='\r\n        <div class="fv__property-item">\r\n            <span class="fv__property-item-name-container">',t+=u(o.i18n(i+"endStyle")),t+='</span>\r\n            <div class="fv__property-item-field-container">\r\n                <select id="endstyle-select" value="',t+=u(P),t+='" ',t+=u(n),t+='>\r\n                    <option value="0" >',t+=u(o.i18n(s+"none")),t+='</option>\r\n                    <option value="1" >',t+=u(o.i18n(s+"square")),t+='</option>\r\n                    <option value="2" >',t+=u(o.i18n(s+"circle")),t+='</option>\r\n                    <option value="3" >',t+=u(o.i18n(s+"diamond")),t+='</option>\r\n                    <option value="4" >',t+=u(o.i18n(s+"openArrow")),t+='</option>\r\n                    <option value="5" >',t+=u(o.i18n(s+"closedArrow")),t+='</option>\r\n                    <option value="6" >',t+=u(o.i18n(s+"butt")),t+='</option>\r\n                    <option value="7" >',t+=u(o.i18n(s+"reverseOpenArrow")),t+='</option>\r\n                    <option value="8" >',t+=u(o.i18n(s+"reverseClosedArrow")),t+='</option>\r\n                    <option value="9" >',t+=u(o.i18n(s+"slash")),t+="</option>\r\n                </select>\r\n            </div>\r\n        </div>\r\n        "),void 0!==O)&&(t+='\r\n    <div class="fv__property-item">\r\n        <label class="fv__property-item-only-field-container">\r\n            <input id="hasCap-input" type="checkbox" ',t+=u(O?"checked=true":""),t+=" ",t+=u(n),t+=">\r\n            ",t+=u(o.i18n(i+"hasCap")),t+="\r\n        </label>\r\n    </div>\r\n    ");return!1!==E&&(t+='\r\n    <div class="fv__property-item">\r\n        <label class="fv__property-item-name-container">',t+=u(o.i18n(i+"opacity")),t+='</label>\r\n        <div class="fv__property-item-field-container">\r\n            <input id="opacity-input" type="range" value="',t+=u(E),t+='" min="0" max="1" step="0.01" ',t+=u(n),t+=">\r\n        </div>\r\n    </div>\r\n    "),t+='\r\n</div>\r\n<div class="fv__btn-close-container">\r\n    <button type="button" class="fv__btn fv__btn-close">',t+=u(o.i18n(i+"close")),t+="</button>\r\n</div>\r\n</div>"}},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";e=e||{};var t="",r=o.$escape,i=e.content,a=function(e){return t+=e},s=e.replies;return t+='<dialog class="fv__dialog fv__annot-reply-dialog">\r\n    <div class="fv__textarea-container">\r\n        <label>\r\n            <span class="fv__label-block-text">',t+=r(o.i18n("viewer_:dialog.content")),t+='</span>\r\n            <textarea class="fv__block-textarea content-textarea">',t+=r(i),t+='</textarea>\r\n        </label>\r\n    </div>\r\n    <div class="fv__textarea-container">\r\n        <label>\r\n            <span class="fv__label-block-text">',t+=r(o.i18n("viewer_:dialog.reply")),t+='</span>\r\n            <textarea class="fv__block-textarea reply-textarea"></textarea>\r\n        </label>\r\n    </div>\r\n    <div class="fv__btn_reply_container">\r\n        <button type="button" class="fv__btn fv__btn-reply" disabled>',t+=r(o.i18n("viewer_:dialog.reply")),t+='</button>\r\n    </div>\r\n    <div class="fv__dialog-replies-block">\r\n        ',a(n(430)(s)),t+='\r\n    </div>\r\n    <div class="fv__btn-close-container">\r\n        <button type="button" class="fv__btn fv__btn-close">',t+=r(o.i18n("viewer_:dialog.close")),t+="</button>\r\n    </div>\r\n</dialog>"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getDefaultConfig=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"annotComponent",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".fv__pdf-page-annot-handler-rect";return{selector:t,items:{copy:{name:"copy",nameI18nKey:"viewer_:contextmenu.annot.copy",callback:function(t,n,o){this.data(e).copyText()},visible:function(){var t=this.data(e);if(!t.annot.isArea())return!t.annot.isReplace||!t.annot.isReplace()}},reply:{name:"reply",nameI18nKey:"viewer_:contextmenu.annot.reply",callback:function(){this.data(e).showReplyDialog("reply")},disabled:function(){return this.data(e).replyDisabled()}},properties:{name:"properties",nameI18nKey:"viewer_:contextmenu.annot.properties",callback:function(t,n,o){this.data(e).showPropertiesDialog(t,n,o)}},remove:{name:"delete",nameI18nKey:"viewer_:contextmenu.annot.delete",callback:function(){this.data(e).removeAnnot()},disabled:function(){return this.data("annotComponent").deleteDisabled()}}},events:{show:function(){return this.data("annotComponent").updateDeleteStatus(!0),!0},hide:function(){return this.data("annotComponent").updateDeleteStatus(!1),!0}}}},t.defaultAnnotComponentKey="annotComponent"},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<div class="fv__text-boundary fv__text-boundary-',t+=(0,o.$escape)(e.direction),t+='">\r\n    <div class="fv__text-boundary-blank">\r\n        <div class="fv__text-boundary-cursor"></div>\r\n        <div class="fv__text-boundary-sign"></div>\r\n    </div>\r\n</div>'}},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";e=e||{};var t="",n=o.$escape,r=e.previewer,i=e.moveable,a=e.resizable,s=e.enableFrame,c=e.enableDiagonally,u=e.enableSizeBox,l=e.rotatable,f=e.degreeInitVisibility;return t+='<div class="fv__shape-control">\r\n    <canvas class="fv__shape-control-previewer" ',t+=n(r?"":"style=display:none"),t+=" ></canvas>\r\n    ",i&&(t+='\r\n    <div class="fv__shape-control-move-area"></div>\r\n    '),t+="\r\n    ",a&&(t+="\r\n    ",s&&(t+='\r\n    <div class="fv__shape-controller" direction="north"></div>\r\n    <div class="fv__shape-controller" direction="south"></div>\r\n    <div class="fv__shape-controller" direction="west"></div>\r\n    <div class="fv__shape-controller" direction="east"></div>\r\n    '),t+="\r\n    ",c&&(t+='\r\n    <div class="fv__shape-controller" direction="north-west"></div>\r\n    <div class="fv__shape-controller" direction="north-east"></div>\r\n    <div class="fv__shape-controller" direction="south-west"></div>\r\n    <div class="fv__shape-controller" direction="south-east"></div>\r\n    '),t+="\r\n    ",u&&(t+='\r\n    <div class="fv__shape-size"></div>\r\n    '),t+="\r\n    "),t+="\r\n    ",l&&(t+='\r\n    <div class="fv__shape-rotate">\r\n        <div class="fv-shape-rotate-handle fv__cursor-rotation"></div>\r\n        <div class="fv-shape-rotate-degree" ',t+=n(f?"":"style=visibility:hidden"),t+=' ></div>\r\n        <div class="fv-shape-rotate-bound"></div>\r\n    </div>\r\n    '),t+="\r\n</div>"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(179),i=s(n(40)),a=s(n(53));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.left,o=void 0===n?0:n,r=t.right,i=void 0===r?0:r,a=t.bottom,s=void 0===a?0:a,u=t.top,l=void 0===u?0:u,f=t.box,p=t.marginBox,d=void 0===p?{left:0,top:0,right:0,bottom:0}:p,h=t.expansion,g=void 0===h?{left:0,top:0,right:0,bottom:0}:h;c(this,e),this.processing=!1,this.boundary={left:o,right:i,bottom:s,top:l},this.freeBoundary=null,this.marginBox=d,this.shape=this.calculateShape(),this.setBoundaryBox(f),this.tasks=[],this.expansion=g}return o(e,null,[{key:"ADJUST_MODE_FREE",get:function(){return"free"}},{key:"ADJUST_MODE_UNIFORM",get:function(){return"uniform"}},{key:"ADJUST_MODE_SQUARE",get:function(){return"square"}}]),e.prototype.process=function(){this.tasks=[],this.processing=!0,this.freeBoundary=Object.assign({},this.boundary)},e.prototype.end=function(){this.tasks=[],this.processing=!1,this.boundary=this.squareBoundary||this.freeBoundary,this.freeBoundary=null,this.squareBoundary=null,this.shape=this.calculateShape()},e.prototype.cancel=function(){this.tasks=[],this.processing=!1,this.freeBoundary=null,this.squareBoundary=null},e.prototype.setBoundaryBox=function(e){var t=this;this.box=e,this.boxStrict=e?function(n){return t._adjustBoundaryByBox(e,n)}:i.default},e.prototype.undo=function(){var e=this.tasks.pop();"function"==typeof e&&e()},e.prototype.addTask=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];this.tasks.push((function(){return e.apply(void 0,n)}))},e.prototype.recordFreeBoundary=function(){var e=this,t=this.freeBoundary?Object.assign({},this.freeBoundary):null;this.addTask((function(t){e.freeBoundary=t}),t)},e.prototype.recordSquareBoundary=function(){var e=this,t=this.squareBoundary?Object.assign({},this.squareBoundary):null;this.addTask((function(t){e.squareBoundary=t}),t)},e.prototype.adjustWest=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.ADJUST_MODE_FREE;this.recordFreeBoundary();var o=this.freeBoundary,i=this.freeBoundary.left+t,a=this.freeBoundary.right;switch(o.left=Math.min(i,a),o.right=Math.max(i,a),n){case e.ADJUST_MODE_SQUARE:this._adjustToSquareH();break;case e.ADJUST_MODE_UNIFORM:}return this.boxStrict(this.freeBoundary),a<i?r.DIR_EAST:r.DIR_WEST},e.prototype.adjustEast=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.ADJUST_MODE_FREE;this.recordFreeBoundary();var o=this.freeBoundary.right+t,i=this.freeBoundary.left;switch(this.freeBoundary.left=Math.min(i,o),this.freeBoundary.right=Math.max(i,o),n){case e.ADJUST_MODE_SQUARE:this._adjustToSquareH();break;case e.ADJUST_MODE_UNIFORM:}return this.boxStrict(this.freeBoundary),o<i?r.DIR_WEST:r.DIR_EAST},e.prototype._adjustToSquareH=function(){var e=this.freeBoundary,t=e.right-e.left,n=e.bottom-e.top,o=e.top+n/2-t/2,r=o+t;e.top=o,e.bottom=r},e.prototype.adjustNorth=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.ADJUST_MODE_FREE;this.recordFreeBoundary();var o=this.freeBoundary.top+t,i=this.freeBoundary.bottom;switch(this.freeBoundary.top=Math.min(o,i),this.freeBoundary.bottom=Math.max(o,i),n){case e.ADJUST_MODE_SQUARE:this._adjustToSquareV();break;case e.ADJUST_MODE_UNIFORM:}return this.boxStrict(this.freeBoundary),i<o?r.DIR_SOUTH:r.DIR_NORTH},e.prototype.adjustSouth=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.ADJUST_MODE_FREE;this.recordFreeBoundary();var o=this.freeBoundary.bottom+t,i=this.freeBoundary.top;switch(this.freeBoundary.top=Math.min(i,o),this.freeBoundary.bottom=Math.max(i,o),n){case e.ADJUST_MODE_SQUARE:this._adjustToSquareV();break;case e.ADJUST_MODE_UNIFORM:}return this.boxStrict(this.freeBoundary),o<i?r.DIR_NORTH:r.DIR_SOUTH},e.prototype._adjustToSquareV=function(){var e=this.freeBoundary,t=e.right-e.left,n=e.bottom-e.top,o=e.left+t/2-n/2,r=o+n;e.left=o,e.right=r},e.prototype._adjustToSquare=function(e,t){var n=this.freeBoundary.right-this.freeBoundary.left,o=this.freeBoundary.bottom-this.freeBoundary.top,i=Math.min(n,o);this.squareBoundary=Object.assign({},this.freeBoundary),t==r.DIR_WEST?this.squareBoundary.left=this.freeBoundary.right-i:this.squareBoundary.right=this.freeBoundary.left+i,e==r.DIR_SOUTH?this.squareBoundary.bottom=this.freeBoundary.top+i:this.squareBoundary.top=this.freeBoundary.bottom-i},e.prototype.adjustNorthWest=function(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.ADJUST_MODE_FREE,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;switch(this.recordFreeBoundary(),this.recordSquareBoundary(),this.squareBoundary=null,o){case e.ADJUST_MODE_UNIFORM:return this._adjustNorthWestUniform(t,n,i),this.boxStrict(this.freeBoundary),r.DIR_NORTH_WEST;case e.ADJUST_MODE_FREE:case e.ADJUST_MODE_SQUARE:var a=this.adjustNorth(n),s=this.adjustWest(t);return o==e.ADJUST_MODE_SQUARE&&(this._adjustToSquare(a,s),this.boxStrict(this.squareBoundary)),a+"-"+s}},e.prototype._adjustNorthWestUniform=function(e,t,n){var o=this.freeBoundary,r=o.right,i=o.bottom,a=o.left,s=o.top,c=r-(a+e),u=i-(s+t),l=r-a,f=i-s,p=Math.min(c,u);p>=n&&(p===c?u=p/l*f:c=p/f*l,this.freeBoundary.left=r-c,this.freeBoundary.top=i-u)},e.prototype.adjustNorthEast=function(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.ADJUST_MODE_FREE,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;switch(this.recordFreeBoundary(),this.recordSquareBoundary(),o){case e.ADJUST_MODE_UNIFORM:return this._adjustNorthEastUniform(t,n,i),this.boxStrict(this.freeBoundary),r.DIR_NORTH_EAST;case e.ADJUST_MODE_FREE:case e.ADJUST_MODE_SQUARE:var a=this.adjustNorth(n),s=this.adjustEast(t);return this.squareBoundary=null,o==e.ADJUST_MODE_SQUARE&&(this._adjustToSquare(a,s),this.boxStrict(this.squareBoundary)),a+"-"+s}},e.prototype._adjustNorthEastUniform=function(e,t,n){var o=this.freeBoundary,r=o.right,i=o.bottom,a=o.left,s=o.top,c=r+e-a,u=i-(s+t),l=r-a,f=i-s,p=Math.min(c,u);p>=n&&(p===c?u=p/l*f:c=p/f*l,this.freeBoundary.right=a+c,this.freeBoundary.top=i-u)},e.prototype.adjustSouthWest=function(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.ADJUST_MODE_FREE,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;switch(this.recordFreeBoundary(),this.recordSquareBoundary(),o){case e.ADJUST_MODE_UNIFORM:return this._adjustSouthWestUniform(t,n,i),this.boxStrict(this.freeBoundary),r.DIR_SOUTH_WEST;case e.ADJUST_MODE_FREE:case e.ADJUST_MODE_SQUARE:var a=this.adjustSouth(n),s=this.adjustWest(t);return this.squareBoundary=null,o==e.ADJUST_MODE_SQUARE&&(this._adjustToSquare(a,s),this.boxStrict(this.squareBoundary)),a+"-"+s}},e.prototype._adjustSouthWestUniform=function(e,t,n){var o=this.freeBoundary,r=o.right,i=o.bottom,a=o.left,s=o.top,c=r-(a+e),u=i+t-s,l=r-a,f=i-s,p=Math.min(c,u);p>=n&&(p===c?u=p/l*f:c=p/f*l,this.freeBoundary.left=r-c,this.freeBoundary.bottom=s+u)},e.prototype.adjustSouthEast=function(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.ADJUST_MODE_FREE,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;switch(this.recordFreeBoundary(),this.recordSquareBoundary(),o){case e.ADJUST_MODE_UNIFORM:return this._adjustSouthEastUniform(t,n,i),this.boxStrict(this.freeBoundary),r.DIR_SOUTH_EAST;case e.ADJUST_MODE_FREE:case e.ADJUST_MODE_SQUARE:var a=this.adjustSouth(n),s=this.adjustEast(t);return this.squareBoundary=null,o==e.ADJUST_MODE_SQUARE&&(this._adjustToSquare(a,s),this.boxStrict(this.squareBoundary)),a+"-"+s}},e.prototype._adjustSouthEastUniform=function(e,t,n){var o=this.freeBoundary,r=o.right,i=o.bottom,a=o.left,s=o.top,c=r+e-a,u=i+t-s,l=r-a,f=i-s,p=Math.min(c,u);p>=n&&(p===c?u=p/l*f:c=p/f*l,this.freeBoundary.right=a+c,this.freeBoundary.bottom=s+u)},e.prototype.adjustPosition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.recordFreeBoundary(),this.freeBoundary.left+=e,this.freeBoundary.right+=e,this.freeBoundary.top+=t,this.freeBoundary.bottom+=t,this.boxStrict(this.freeBoundary)},e.prototype.adjustPositionTo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.freeBoundary.left,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.freeBoundary.top;this.adjustPosition(e-this.freeBoundary.left,t-this.freeBoundary.top)},e.prototype._adjustMovingBoundaryByBox=function(e,t){var n=t.right-t.left,o=t.bottom-t.top;this.boundary.right>e.right&&(this.boundary.right=e.right,this.boundary.left=e.right-n),this.boundary.bottom>e.bottom&&(this.boundary.bottom=e.bottom,this.boundary.top=e.bottom-o),this.boundary.left<e.left&&(this.boundary.left=e.left,this.boundary.right=e.left+n),this.boundary.top<e.top&&(this.boundary.top=e.top,this.boundary.bottom,e.top)},e.prototype._adjustBoundaryByBox=function(e,t){var n=this.marginBox;n||(n={}),n.left=n.left||0,n.top=n.top||0,n.bottom=n.bottom||0,n.right=n.right||0;var o=a.default.on(t).expand(n.top,n.left,n.bottom,n.right).extract(),r=o.right-o.left,i=o.bottom-o.top;o.right>e.right&&(o.right=e.right,o.left=e.right-r),o.bottom>e.bottom&&(o.bottom=e.bottom,o.top=e.bottom-i),o.left<e.left&&(o.left=e.left,o.right=e.left+r),o.top<e.top&&(o.top=e.top,o.bottom=e.top+i);var s=a.default.on(o).shrink(n.top,n.left,n.bottom,n.right).extract();a.default.copyTo(s,t)},e.prototype.setMargin=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.marginBox,t=e.left,n=void 0===t?0:t,o=e.top,r=void 0===o?0:o,i=e.right,a=void 0===i?0:i,s=e.bottom,c=void 0===s?0:s;this.marginBox={left:n,top:r,right:a,bottom:c}},e.prototype.getAdjustRect=function(){var e=this.squareBoundary||this.freeBoundary;return e?Object.assign({},e):null},e.prototype.getAdjustShape=function(){var e=this.squareBoundary||this.freeBoundary;return e?{left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top}:null},e.prototype.getRect=function(){return Object.assign({},this.boundary)},e.prototype.getShape=function(){return Object.assign({},this.shape)},e.prototype.calculateShape=function(){var e=this.boundary;return{left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top}},e.prototype.applyToDom=function(e,t){t=t||this.getShape();var n=this.expansion;e.style.cssText+="\n                left: "+(t.left-n.left)+"px;\n                top: "+(t.top-n.top)+"px;\n                width: "+(t.width+(n.left+n.right))+"px;\n                height: "+(t.height+(n.top+n.bottom))+"px;\n                "},e.prototype.applyAdjustingToDom=function(e,t){t=t||this.getAdjustShape();var n=this.expansion;e.style.cssText+="\n                left: "+(t.left-n.left)+"px;\n                top: "+(t.top-n.top)+"px;\n                width: "+(t.width+(n.left+n.right))+"px;\n                height: "+(t.height+(n.top+n.bottom))+"px;\n                "},e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=n(33),a=n(92),s=(o=a)&&o.__esModule?o:{default:o};n(52);function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.lastRenderPromise=Promise.resolve(),o.lastX=0,o.lastY=0,o}return c(t,e),t.prototype.resetCanvasSize=function(){},t.prototype.closeTo=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-4;return Math.abs(e-t)<n},t.prototype.render=function(t,n){var o=this;this.prepared||this.prepare();var a=this.component,s=a.getRenderingData(t,n),c=(s.page,this.canvas.getContext("2d")),u=r(s.tileConfig,10),l=(u[0],u[1],u[2],u[3],u[4],u[5]),f=(u[6],u[7],u[8]),p=u[9],d=(s.rect,s.engineRenderingRect),h=s.outerDeviceRect,g=h.right-h.left,m=h.bottom-h.top,v=d.right-d.left,y=d.bottom-d.top;if((!this.closeTo(d.left,this.lastX)||!this.closeTo(d.top,this.lastY))&&this.canvas.width){var b=d.left-this.lastX,w=d.top-this.lastY,_=c.getImageData(0,0,this.canvas.width,this.canvas.height);e.prototype.resetCanvasSize.call(this,v,y),this.canvas.style.cssText+="width: "+g+"px;height: "+m+"px;",this.container.style.cssText+="\n                left: "+h.left+"px;\n                top: "+h.top+"px;\n            ",c.putImageData(_,-b,-w)}return this.lastX=d.left,this.lastY=d.top,a.getPDFPage().getPageAndHighlightBitmap((0,i.pt2px)(l),n,{x:Math.ceil(f*l),y:Math.ceil(p*l),width:v,height:y}).then((function(t){var n=t.buffer,r=t.width,i=t.height,a=t.image;if(a){var s=new Image;s.onload=function(){c.drawImage(s,0,0,r,i),URL.revokeObjectURL(s.src)},s.src=URL.createObjectURL(a)}else{var u=new(Uint8ClampedArray||Uint8Array)(n),l=c.createImageData(r,i);l.data.set(u),e.prototype.resetCanvasSize.call(o,r,i),o.container.style.cssText+="\n                    left: "+h.left+"px;\n                    top: "+h.top+"px;\n                ",o.canvas.style.cssText+="width: "+g+"px;height: "+m+"px;",c.putImageData(l,0,0)}}))},t}(s.default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(214);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.prototype.doRender=function(t){var n=this;e.prototype.doRender.call(this,t);var o=t.renderingData,r=o.annotInfo,i=o.rotate,a=t.quadRects,s=this.canvas.getContext("2d");s.clearRect(0,0,this.canvas.width,this.canvas.height),s.save(),s.globalAlpha=r.opacity,a.forEach((function(e){s.beginPath();var t=90==i||270==i?.12568*e.width:.12568*e.height;0===t||!1===r.hasBorderColor?s.strokeStyle="transparent":s.strokeStyle=n.numberToRGBAString(r.color),s.lineWidth=Math.max(1,t);var o=e.left,a=e.right,c=e.top+e.textBlockHeight/2;switch(i){case 90:s.moveTo(a-e.width/2,0),s.lineTo(a-e.width/2,e.textBlockHeight);break;case 180:s.moveTo(e.right,e.top+e.height/2),s.lineTo(e.left,e.top+e.height/2);break;case 270:s.moveTo(a-e.width/2,e.bottom),s.lineTo(a-e.width/2,e.bottom-e.textBlockHeight);break;default:s.moveTo(o,c),s.lineTo(a,c)}s.stroke()})),s.restore()},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(214);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.prototype.doRender=function(t){e.prototype.doRender.call(this,t);var n=t.renderingData,o=n.annotInfo,r=n.rotate,i=t.quadRects,a=this.canvas.getContext("2d");a.clearRect(0,0,this.canvas.width,this.canvas.height),a.save(),a.globalAlpha=o.opacity,0===Math.max(1,.12568*i[0].height)||!1===o.hasBorderColor?a.strokeStyle="transparent":a.strokeStyle=this.numberToRGBAString(o.color),i.forEach((function(e){a.beginPath();var t=e.left,n=e.right,o=90==r||270==r?.22568*i[0].width:.12568*i[0].height,s=e.top+e.textBlockHeight-o/2;switch(r){case 90:a.moveTo(t+o/2,e.bottom),a.lineTo(t+o/2,e.top);break;case 180:a.moveTo(e.right,e.top+o/2),a.lineTo(e.left,e.top+o/2);break;case 270:a.moveTo(n,e.bottom),a.lineTo(n,e.bottom-e.textBlockHeight);break;default:a.moveTo(t,s),a.lineTo(n,s)}a.lineWidth=o,a.stroke()})),a.restore()},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(214);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.prototype.doRender=function(t){e.prototype.doRender.call(this,t);var n=this.component.annot.info,o=t.renderingData.page.getRotationAngle(),r=t.renderingData.rotate+o,i=t.quadRects,a=this.canvas.getContext("2d");a.clearRect(0,0,this.canvas.width,this.canvas.height),a.save(),a.globalAlpha=n.opacity;var s=this.numberToRGBAString(n.color);i.forEach((function(e){var t=r;switch(r){case 0:case 180:2*e.width<e.height&&(t+=90);break;case 90:case 270:2*e.height<e.width&&(t+=90)}var o=90==(t%=360)||270==t?i[0].width:i[0].height;0===o||!1===n.hasBorderColor?a.strokeStyle="transparent":a.strokeStyle=s,a.lineWidth=Math.max(1,.12568*o),a.beginPath();var c=0,u=0,l=0,f=0;switch(t){case 90:c=.2504*e.width,u=Math.ceil(e.height/c),l=e.right-c,f=e.right,a.moveTo(e.left,e.bottom);for(var p=1;p<=u;p++){var d=p%2==0?0:c;a.lineTo(e.left+d,e.bottom-p*c)}break;case 180:c=.2504*e.height,u=Math.ceil(e.width/c),l=e.bottom-c,f=e.bottom,a.moveTo(e.left,e.top);for(var h=1;h<=u;h++){var g=h%2==0?0:c;a.lineTo(e.left+h*c,e.top+g)}break;case 270:c=.2504*e.width,u=Math.ceil(e.height/c),l=e.right-c,f=e.right,a.moveTo(e.right,e.bottom);for(var m=1;m<=u;m++){var v=m%2==0?0:c,y=e.bottom-m*c;y=y<=0?0:y,a.lineTo(e.right-v,y)}break;default:c=.2504*e.height,u=Math.ceil(e.width/c),l=e.bottom-c,f=e.bottom,a.moveTo(e.left,l);for(var b=1;b<=u;b++)a.lineTo(e.left+b*c,b%2==0?l:f)}a.stroke()})),a.restore()},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=c},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";var t="",n=(e=e||{}).i,r=(e.pointIndex,o.$escape);for(n=0;n<e.anchorCount;n++){t+="\r\n";t+='\r\n<div class="fv__pdf-annot-line-point" data-index="',t+=r(n),t+='"><div class="fv__pdf-annot-line-point-item"></div></div>\r\n'}return t+="\r\n\r\n"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(215),i=(o=r)&&o.__esModule?o:{default:o},a=n(63);function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(n,o,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r,i));return a.name="lineMeasurement",a}return s(t,e),t.prototype.getLengthInInchUnit=function(){var e=this.getDimension(),t=e.width,n=e.height;return this._getLengthInInchUnit(t,n)},t.prototype._getLengthInInchUnit=function(e,t){var n=a.PIXEL_HORIZONTAL.convertTo(e,a.INCH),o=a.PIXEL_VERTICAL.convertTo(t,a.INCH);return Math.round(100*Math.sqrt(n*n+o*o))/100},t}(i.default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={properties:{name:"properties",nameI18nKey:"viewer_:contextmenu.annot.properties",callback:function(e,t,n){this.data("annotComponent").showPropertiesDialog(e,t,n)}},actions:{name:"actions",nameI18nKey:"viewer_:contextmenu.annot.actions",callback:function(){this.data("annotComponent").showActionsDialog()},disabled:function(){return this.data("annotComponent").actionsDisabled()}},remove:{name:"delete",nameI18nKey:"viewer_:contextmenu.annot.delete",callback:function(){this.data("annotComponent").removeAnnot()},disabled:function(){return this.data("annotComponent").deleteDisabled()}}};t.getLinkContextMenu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-handler-rect";return{selector:e,items:o,events:{show:function(){return this.data("annotComponent").updateDeleteStatus(!0),!0},hide:function(){return this.data("annotComponent").updateDeleteStatus(!1),!0}}}},t.defaultAnnotComponentKey="annotComponent"},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";e=e||{};var t="",n=o.$escape;return t+='<dialog class="fv__ui-layer fv__action-dialog" >\r\n   <div class="fv__action-dialog-header">\r\n      <div class="fv__action-dialog-title">',t+=n(o.i18n("viewer_:dialog.actionDialog.title")),t+='</div>\r\n      <div class="fv__action-dialog-close"><i class="fv__action-dialog-close-icon">x</i></div>\r\n   </div>\r\n   <div class="fv__action-dialog-body">\r\n      <div class="fv__action-dialog-select">\r\n         <span class="fv__action-dialog-select-title">',t+=n(o.i18n("viewer_:dialog.actionDialog.selectKey")),t+=':</span>\r\n         <select id="select-action">\r\n            <option value="TypeGoto">',t+=n(o.i18n("viewer_:dialog.actionDialog.selectAction.goto")),t+='</option>\r\n            <option value="TypeURI">',t+=n(o.i18n("viewer_:dialog.actionDialog.selectAction.webLink")),t+='</option>\r\n         </select>\r\n      </div>\r\n      <div class="fv__action-dialog-url fv__action-dialog-box" data-type="TypeURI">\r\n         <div class="fv__action-dialog-url-title fv__action-box-title">',t+=n(o.i18n("viewer_:dialog.actionDialog.URLAction.title")),t+='</div>\r\n         <div class="fv__action-dialog-url-input">\r\n            <input class="fv__action-dialog-input" id="url-input"/>\r\n         </div>\r\n      </div>\r\n      <div class="fv__action-dialog-goto fv__action-dialog-box" style="display:block;"  data-type="TypeGoto">\r\n         <div class="fv__action-dialog-goto-title fv__action-box-title">',t+=n(o.i18n("viewer_:dialog.actionDialog.GotoAction.title")),t+='</div>\r\n         <div class="fv__action-dialog-goto-container">\r\n            <div class="fv__action-dialog-goto-center">\r\n               <div class="fv__action-dialog-goto-left">\r\n                  <div class="fv__action-dialog-goto-target">',t+=n(o.i18n("viewer_:dialog.actionDialog.GotoAction.target")),t+=':</div>\r\n               </div>\r\n               <div class="fv__action-dialog-goto-right">\r\n                  <div class="fv__action-dialog-goto-input">\r\n                     <input type="number" min="1" class="fv__action-dialog-input" id="goto-input"/>\r\n                  </div>\r\n                  <div class="fv__action-dialog-goto-position">\r\n                     <span class="fv__action-dialog-goto-position-left">',t+=n(o.i18n("viewer_:dialog.actionDialog.GotoAction.left")),t+=':</span><span class="fv__action-dialog-goto-left-value">0</span>\r\n                     <span class="fv__action-dialog-goto-position-top">',t+=n(o.i18n("viewer_:dialog.actionDialog.GotoAction.top")),t+=':</span><span class="fv__action-dialog-goto-top-value">0</span>\r\n                  </div>\r\n               </div>\r\n            </div>\r\n         </div>\r\n      </div>\r\n   </div>\r\n   <div class="fv__action-dialog-footer">\r\n      <div class="fv__action-dialog-btns">\r\n          <button type="button" class="fv__action-btn fv__action-btn-cancel ">',t+=n(o.i18n("viewer_:dialog.actionDialog.Cancel")),t+='</button>\r\n          <button type="button" class="fv__action-btn fv__action-btn-ok">',t+=n(o.i18n("viewer_:dialog.actionDialog.OK")),t+="</button>\r\n      </div>\r\n   </div>\r\n</dialog>"}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(145)),r=n(7);i(n(53));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=function(e){function t(){return a(this,t),s(this,e.apply(this,arguments))}return c(t,e),t.prototype.doPrepare=function(){e.prototype.doPrepare.call(this),this.canvas.style.cssText+="box-sizing: content-box;"},t.prototype.doRender=function(e){var t=e.renderingData;return t.highlightModeIsActive?this.doRenderHighlightMode(e):(t.highlightingMode===r.HIGHLIGHTING_MODE.PUSH&&(this.canvas.style.cssText+="border: none; border-color: none;"),this.doRenderNormal(e))},t.prototype.doRenderHighlightMode=function(e){switch(e.renderingData.highlightingMode){case r.HIGHLIGHTING_MODE.NONE:return this.doRenderNormal(e);case r.HIGHLIGHTING_MODE.OUTLINE:return this.renderOutline(e);case r.HIGHLIGHTING_MODE.INVERT:return this.renderInvert(e);case r.HIGHLIGHTING_MODE.PUSH:return this.renderPush(e);case r.HIGHLIGHTING_MODE.TOGGLE:return this.renderToggle(e)}},t.prototype.doRenderNormal=function(e){this.renderSquare(e)},t.prototype.getLineWidth=function(e,t){return this.convertPointToPixel(e,t)/2},t.prototype.renderSquare=function(e){var t=e.renderingData.annotInfo,n=t.borderInfo,o=this.getLineWidth(n.width,e.scale);if(0!=o||-1!=t.borderColor||t.fillColor){var i=this.canvas.getContext("2d");switch(i.clearRect(0,0,this.canvas.width,this.canvas.height),i.save(),e.lineWidth=o,i.globalAlpha=t.opacity,0===o||!1===t.hasBorderColor?i.strokeStyle="transparent":i.strokeStyle=this.numberToRGBAString(t.color),i.lineWidth=o,n.style){case r.BORDER_STYLE.DASHED:this.renderDashed(i,t,e);break;default:this.renderSolid(i,t,e)}i.stroke()}},t.prototype.renderInvert=function(e){var t=this,n=this.canvas.getContext("2d"),o=e.renderingData,r=o.page,i=o.annotInfo.borderInfo||{},a=(this.getLineWidth(i.width||0,e.scale),e.outerRect),s={x:a.left,y:a.top,width:a.width,height:a.height};r.getPageBitmap(4*e.scale/3,e.rotate,s,["page","annot"]).then((function(e){var o=e.width,r=e.height,i=e.buffer;n.clearRect(0,0,t.canvas.width,t.canvas.height);var a=new(Uint8ClampedArray||Uint8Array)(i),s=n.createImageData(o,r);s.data.set(a),n.save();for(var c=s.data,u=0;u<c.length;u+=4)c[u]^=255,c[u+1]^=255,c[u+2]^=0;n.putImageData(s,0,0),n.restore()}))},t.prototype.renderToggle=function(e){},t.prototype.renderPush=function(e){var t=this,n=this.canvas.getContext("2d");n.clearRect(0,0,this.canvas.width,this.canvas.height),this.canvas.style.cssText+="\n            border: 1px solid;\n            border-color: black #aaa #aaa black;\n        ";var o=e.renderingData.page,r=e.outerRect,i={x:r.left,y:r.top,width:r.width,height:r.height};o.getPageBitmap(4*e.scale/3,e.rotate,i,["page","annot"]).then((function(o){var r=o.width,i=o.height,a=o.buffer;n.clearRect(0,0,t.canvas.width,t.canvas.height);var s=new(Uint8ClampedArray||Uint8Array)(a),c=n.createImageData(r,i);c.data.set(s),n.putImageData(c,0,0),t.renderSquare(e)}))},t.prototype.renderOutline=function(e){var t=this.canvas.getContext("2d");t.clearRect(0,0,this.canvas.width,this.canvas.height);var n=e.renderingData.annotInfo.borderInfo||{};this.renderSquare(e);var o=5*this.getLineWidth(n.width||0,e.scale)/6,r=.5*o,i=e.outerRect;t.save(),t.lineWidth=o,t.strokeStyle="black",t.strokeRect(r,r,i.width-o,i.height-o),t.restore()},t}(o.default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r,i){var a=Math.max(r,i),s=r/a,c=i/a;e.save(),e.scale(s,c),e.beginPath(),e.arc(t/s,n/c,a,0,o.TOWPI,!1),e.closePath(),e.restore()};var o=n(907)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TOWPI=2*Math.PI},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCircleContextMenu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-handler-rect";return(0,o.getCommonContextMenu)(e)};var o=n(212)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSvgIcon=function(e,t,n){if(!e||!t)return"";var a=e+t+n;if(a in s)return s[a];var c=void 0;"text"===e?c=o.default:"fileattachment"===e?c=r.default:"sound"===e&&(c=i.default);if(!c)return"";var u=c[t]({fillColor:n});return s[a]=u};n(12);var o=a(n(910)),r=a(n(926)),i=a(n(931));function a(e){return e&&e.__esModule?e:{default:e}}var s={}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=y(n(911)),r=y(n(912)),i=y(n(913)),a=y(n(914)),s=y(n(915)),c=y(n(916)),u=y(n(917)),l=y(n(918)),f=y(n(919)),p=y(n(920)),d=y(n(921)),h=y(n(922)),g=y(n(923)),m=y(n(924)),v=y(n(925));function y(e){return e&&e.__esModule?e:{default:e}}t.default={Check:o.default,Circle:r.default,Comment:i.default,Cross:a.default,Help:s.default,Insert:c.default,Key:u.default,NewParagraph:l.default,Note:f.default,Paragraph:p.default,RightArrow:d.default,RightPointer:h.default,Star:g.default,UpArrow:m.default,UpLeftArrow:v.default}},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\r\n    <path fill="',t+=(0,o.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\r\n          d="M2.56,16.77a1,1,0,0,1,0-1.41L6.5,11.42a1,1,0,0,1,1.41,0l5.75,5.75a1,1,0,0,0,1.41,0h0l9.43-9.43a1,1,0,0,1,1.41,0l3.94,3.94a1,1,0,0,1,0,1.41L15.08,27.88a1,1,0,0,1-1.41,0Z"/>\r\n</svg>'}},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\r\n    <path fill="',t+=(0,o.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\r\n          d="M16,2A14.13,14.13,0,0,0,1.77,16,14.12,14.12,0,0,0,16,29.94,14.13,14.13,0,0,0,30.32,16h0A14.13,14.13,0,0,0,16.06,2Zm0,26a12,12,0,1,1,.09,0Z"/>\r\n</svg>'}},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\r\n    <path fill="',t+=(0,o.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\r\n          d="M27.6,2H4.75a3,3,0,0,0-3,3V21.63a3,3,0,0,0,3,3H6.2l1.22,6.24V31l6.37-6.37H27.6a3,3,0,0,0,3-3V5A3,3,0,0,0,27.6,2Z"/>\r\n    <path fill="#3f3f3f" isolation="isolate"\r\n          d="M27.24,6.92a.52.52,0,0,1-.52.52H6.22a.52.52,0,0,1-.52-.52h0a.52.52,0,0,1,.52-.52h20.5a.52.52,0,0,1,.52.52Z"/>\r\n    <path fill="#3f3f3f" isolation="isolate"\r\n          d="M27.35,12.07a.51.51,0,0,1-.5.52H6.33a.51.51,0,0,1-.51-.51h0a.51.51,0,0,1,.51-.51H26.84a.51.51,0,0,1,.51.51Z"/>\r\n    <path fill="#3f3f3f" isolation="isolate"\r\n          d="M22,17.19c0,.29-.18.52-.39.52H6.2c-.22,0-.39-.23-.39-.52h0c0-.28.17-.52.39-.52H21.63c.21,0,.39.24.39.52Z"/>\r\n</svg>'}},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\r\n    <path fill="',t+=(0,o.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\r\n          d="M24,1.4a1.55,1.55,0,0,0-2.18,0L17.17,6A1.55,1.55,0,0,1,15,6L10.35,1.4a1.55,1.55,0,0,0-2.18,0L1.59,8a1.55,1.55,0,0,0,0,2.18L6.22,14.8a1.56,1.56,0,0,1,0,2.19l-4.63,4.6a1.56,1.56,0,0,0,0,2.19l6.58,6.58a1.56,1.56,0,0,0,2.19,0L15,25.73a1.56,1.56,0,0,1,2.19,0l4.62,4.63a1.55,1.55,0,0,0,2.18,0l6.58-6.58a1.56,1.56,0,0,0,0-2.19L25.93,17a1.55,1.55,0,0,1,0-2.18h0l4.62-4.62a1.55,1.55,0,0,0,0-2.18Z"/>\r\n</svg>'}},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\r\n    <path fill="',t+=(0,o.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\r\n          d="M30.68,16.17A14.48,14.48,0,1,1,16.19,1.7h0A14.47,14.47,0,0,1,30.68,16.17Z"/>\r\n    <path fill="#fff" stroke="#3f3f3f" stroke-miterlimit="10"\r\n          d="M11.23,13.28c0-2.28.95-5.29,5-5.29,3.2,0,5,2,5,4a4.9,4.9,0,0,1-1.35,3.6c-1.59,1.58-1.8,2.38-1.8,3.84h0c0,.19-.5.35-1.12.35H15.51c-.61,0-1.11-.32-1.11-.71a7.58,7.58,0,0,1,.33-1.77,11.61,11.61,0,0,1,1.21-2.63c.32-.41,1.56-.95,1.56-2.33,0-.88-.37-1.37-1.35-1.37C15.33,11,15,12.2,15,12.2a1.51,1.51,0,0,1-1.38,1.08Zm3.17,9a1.13,1.13,0,0,1,1.11-1.12h1.43a1.12,1.12,0,0,1,1.12,1.12h0V24a1.12,1.12,0,0,1-1.12,1.12H15.51A1.13,1.13,0,0,1,14.4,24Z"/>\r\n</svg>'}},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\r\n    <path fill="',t+=(0,o.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\r\n          d="M30.16,24.36,17.49,6.08a2,2,0,0,0-1.64-.92,2,2,0,0,0-1.63.92L1.55,24.36a2.06,2.06,0,0,0-.41,1.19,1.56,1.56,0,0,0,1.29,1.54H29.28a1.56,1.56,0,0,0,1.29-1.54A2.06,2.06,0,0,0,30.16,24.36Z"/>\r\n</svg>'}},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\r\n    <path fill="',t+=(0,o.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\r\n          d="M27.65,5.25A9.26,9.26,0,0,0,12.4,15L3,24.32a4.53,4.53,0,0,0-1.15,2.8v1.67a2,2,0,0,0,2,2h1.7a4.3,4.3,0,0,0,2.74-1.1,3.53,3.53,0,0,0,1-2.29.89.89,0,0,0,0-.23v-.05a.23.23,0,0,1,.07-.19.4.4,0,0,1,.28-.08,1.86,1.86,0,0,0,2-1.48.63.63,0,0,1,.46-.53,1.57,1.57,0,0,0,1.44-1.66v-.09a.38.38,0,0,1,0-.15h.18a2,2,0,0,0,2.15-.59,12.55,12.55,0,0,1,1.31-1.51l.46-.47a9.23,9.23,0,0,0,10-15.09Zm-2.1,4.86a1.92,1.92,0,1,1,0-2.72h0A1.93,1.93,0,0,1,25.55,10.11Z"/>\r\n</svg>'}},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";e=e||{};var t="",n=o.$escape,r=e.fillColor;return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\r\n    <polygon fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\r\n             points="5.88 28.59 4.82 24.23 5.06 5.18 6 2.71 9.65 2.59 19.29 3.06 21.65 4.47 25.41 7.76 25.65 9.53 26.1 21.8 25.52 28.58 23.53 29.29 9.41 28.94 5.88 28.59"/>\r\n    <path fill="#3f3f3f"\r\n          d="M22.26,18.19a.35.35,0,0,1-.35.35H8.73a.35.35,0,0,1-.35-.35h0a.34.34,0,0,1,.33-.35h13.2a.35.35,0,0,1,.35.35Z"/>\r\n    <path fill="#3f3f3f"\r\n          d="M22.26,21.8a.35.35,0,0,1-.35.35H8.73a.34.34,0,0,1-.35-.33v0h0a.35.35,0,0,1,.35-.35H21.91a.35.35,0,0,1,.35.35Z"/>\r\n    <path fill="#3f3f3f"\r\n          d="M22.14,25.18a.35.35,0,0,1-.35.35H8.61a.35.35,0,0,1-.35-.35h0a.35.35,0,0,1,.35-.35H21.79a.35.35,0,0,1,.35.35Z"/>\r\n    <path fill="#3f3f3f"\r\n          d="M22.26,14.69a.35.35,0,0,1-.35.35H8.73a.35.35,0,0,1-.35-.35h0a.35.35,0,0,1,.35-.35H21.91a.35.35,0,0,1,.35.35Z"/>\r\n    <path fill="#3f3f3f"\r\n          d="M24.48,30.13H6.3A2.28,2.28,0,0,1,4,27.87V4.07A2.28,2.28,0,0,1,6.29,1.8H20.41l.14.13.13.14,5.8,5.69.14.13.14.14V27.85a2.28,2.28,0,0,1-2.28,2.28ZM6.73,3.83a.82.82,0,0,0-.81.81V27.29a.82.82,0,0,0,.81.8H24a.81.81,0,0,0,.82-.8h0V9.69H18.29V3.83ZM20.29,7.69h3.25L20.29,4.5Z"/>\r\n    <path fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\r\n          d="M23.28,28.58A.58.58,0,0,1,22.7,28V26.36a.58.58,0,0,0-.58-.58H20.48a.58.58,0,0,1-.58-.58V23a.58.58,0,0,1,.58-.58h1.64a.58.58,0,0,0,.58-.58V20.17a.6.6,0,0,1,.58-.59h2.24a.6.6,0,0,1,.58.59V21.8a.58.58,0,0,0,.58.58h1.63a.58.58,0,0,1,.58.58V25.2a.58.58,0,0,1-.58.58H26.68a.58.58,0,0,0-.58.58V28a.58.58,0,0,1-.58.58Z"/>\r\n</svg>'}},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\r\n    <polygon fill="',t+=(0,o.$escape)(e.fillColor),t+='"\r\n             points="6.35 4 5.88 28.59 7.53 29.77 19.88 29.41 22 28.82 26.23 24.47 27.06 10.94 26.71 3.41 24.94 2.47 6.71 3.06 6.35 4"/>\r\n    <path fill="#3f3f3f"\r\n          d="M23.17,16.73a.37.37,0,0,0-.36-.35H9.33a.37.37,0,0,0-.36.35H9a.36.36,0,0,0,.36.36H22.81a.36.36,0,0,0,.36-.36Z"/>\r\n    <path fill="#3f3f3f"\r\n          d="M23.17,13a.36.36,0,0,0-.36-.36H9.33A.36.36,0,0,0,9,13H9a.37.37,0,0,0,.36.35H22.81A.37.37,0,0,0,23.17,13Z"/>\r\n    <path fill="#3f3f3f"\r\n          d="M23.17,9.35A.37.37,0,0,0,22.81,9H9.33A.37.37,0,0,0,9,9.35H9a.36.36,0,0,0,.36.36H22.81a.36.36,0,0,0,.36-.36Z"/>\r\n    <path fill="#3f3f3f"\r\n          d="M23.17,20.31a.37.37,0,0,0-.36-.35H9.33a.37.37,0,0,0-.36.35H9a.36.36,0,0,0,.36.36H22.81a.36.36,0,0,0,.36-.36Z"/>\r\n    <path fill="#3f3f3f"\r\n          d="M25.62,2a2.32,2.32,0,0,1,2.32,2.32V24.63l-.14.14-.14.13-5.93,5.82-.14.14-.14.14H7a2.32,2.32,0,0,1-2.32-2.32h0V4.34A2.32,2.32,0,0,1,7,2H25.62ZM7.46,28.92H19.28v-6H26v-18a.83.83,0,0,0-.83-.83H7.46a.83.83,0,0,0-.83.83V28.09A.83.83,0,0,0,7.46,28.92Zm13.87-4v3.27L24.65,25Z"/>\r\n</svg>'}},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\r\n    <path fill="',t+=(0,o.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\r\n          d="M10.36,2.52A7.93,7.93,0,0,0,9,2.77H9A6.45,6.45,0,0,0,4.51,9.1a6.52,6.52,0,0,0,6.23,6.77H11V29.19l1.49.69v.95h2.1L14.54,6h3.54V29.19l1.5.69v.95h2.09L21.59,6h3.7V2.52Z"/>\r\n</svg>'}},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\r\n    <path fill="',t+=(0,o.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\r\n          d="M28.87,16.67a.82.82,0,0,0,.3-1.12.86.86,0,0,0-.3-.3L13.94,4.65c-.54-.39-1-.16-1,.52V9.78A1.22,1.22,0,0,1,11.73,11H4.32a1.22,1.22,0,0,0-1.21,1.22v7.49a1.22,1.22,0,0,0,1.21,1.22h7.41a1.21,1.21,0,0,1,1.21,1.21h0v4.61c0,.67.46.9,1,.52Z"/>\r\n</svg>'}},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\r\n    <path fill="',t+=(0,o.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\r\n          d="M29,16h0a1.3,1.3,0,0,0-.07-.33c0-.42-.84-1.16-1.28-1.43L7.17,2a1.76,1.76,0,0,0-1.32-.26h0A1.16,1.16,0,0,0,5.33,2h0l7.25,14L5.33,30h0a1.09,1.09,0,0,0,.52.27h0A1.76,1.76,0,0,0,7.17,30L27.63,17.83c.44-.27,1.28-1,1.28-1.43a1.3,1.3,0,0,0,.07-.33h0Z"/>\r\n</svg>'}},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\r\n    <path fill="',t+=(0,o.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\r\n          d="M24.28,29.33A2.58,2.58,0,0,1,23.1,29l-4.89-2.64A3.73,3.73,0,0,0,16.47,26a3.7,3.7,0,0,0-1.73.37L9.85,29a2.56,2.56,0,0,1-1.18.34,1.43,1.43,0,0,1-1.14-.52,2,2,0,0,1-.33-1.75l1-5.47a4.17,4.17,0,0,0-1.08-3.3l-4-3.84a1.88,1.88,0,0,1-.7-2,1.84,1.84,0,0,1,1.72-1.17l5.5-.74a4.22,4.22,0,0,0,2.81-2l2.4-5a1.87,1.87,0,0,1,1.64-1.26,1.87,1.87,0,0,1,1.64,1.26l2.41,5a4.15,4.15,0,0,0,2.8,2l5.51.74a1.85,1.85,0,0,1,1.71,1.17,1.83,1.83,0,0,1-.7,2l-4,3.84a4.14,4.14,0,0,0-1.07,3.29l1,5.47a2,2,0,0,1-.33,1.75,1.43,1.43,0,0,1-1.14.52Z"/>\r\n</svg>'}},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\r\n    <path fill="',t+=(0,o.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\r\n          d="M16.49,3.74a.78.78,0,0,0-1.07-.28.75.75,0,0,0-.28.28L5,18.08c-.37.52-.15,1,.49,1H9.91a1.17,1.17,0,0,1,1.17,1.17h0v7.1a1.18,1.18,0,0,0,1.17,1.16h7.18a1.17,1.17,0,0,0,1.17-1.17h0v-7.1A1.17,1.17,0,0,1,21.7,19h4.51c.64,0,.86-.43.48-.95Z"/>\r\n</svg>'}},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\r\n    <path fill="',t+=(0,o.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10" \r\n          d="M7.4,5C7,4.8,6.6,5,6.4,5.4c-0.1,0.1-0.1,0.3,0,0.4l1.3,17.5c0,0.6,0.5,0.8,1,0.4l3.4-2.8\r\n\tc0.5-0.4,1.2-0.3,1.6,0.2c0,0,0,0,0,0l4.5,5.5c0.4,0.5,1.1,0.6,1.6,0.2c0,0,0,0,0,0l5.5-4.6c0.5-0.4,0.6-1.1,0.2-1.6c0,0,0,0,0,0\r\n\tL21,15.1c-0.4-0.5-0.3-1.2,0.1-1.6l3.4-2.8c0.5-0.4,0.4-0.9-0.2-1.1L7.4,5z"/>\r\n</svg>\r\n'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(927)),r=s(n(928)),i=s(n(929)),a=s(n(930));function s(e){return e&&e.__esModule?e:{default:e}}t.default={Graph:o.default,Paperclip:r.default,PushPin:i.default,Tag:a.default}},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";e=e||{};var t="",n=o.$escape,r=e.fillColor;return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\r\n    <path fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\r\n          d="M7.2,14.9H3.7c-.4,0-.7.3-.8.8V28.5c0,.4.3.7.8.8H7.2c.4,0,.7-.3.8-.8V15.7C7.9,15.2,7.6,14.9,7.2,14.9Z"/>\r\n    <path fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\r\n          d="M10.8,7.9h3.5a.79.79,0,0,1,.8.8V28.5a.79.79,0,0,1-.8.8H10.8a.79.79,0,0,1-.8-.8V8.7C10.1,8.3,10.4,7.9,10.8,7.9Z"/>\r\n    <path fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\r\n          d="M25.1,8h3.5a.79.79,0,0,1,.8.8V28.6a.79.79,0,0,1-.8.8H25.1a.79.79,0,0,1-.8-.8V8.8A.86.86,0,0,1,25.1,8Z"/>\r\n    <path fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\r\n          d="M17.9,19.9h3.5a.79.79,0,0,1,.8.8v7.8a.79.79,0,0,1-.8.8H17.9a.79.79,0,0,1-.8-.8V20.7C17.2,20.2,17.5,19.9,17.9,19.9Z"/>\r\n</svg>'}},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 56">\r\n  <path stroke="#3f3f3f" transform="rotate(-44 14.147195816040043,29.311956405639645) " d="m22.48496,6.139239a10.573254,11.136632 0 0 1 3.338127,0.652288a9.244045,9.736598 0 0 1 5.769976,9.259314a9.4253,9.927512 0 0 1 -2.733941,7.127445l-18.503194,19.727748a6.585627,6.936531 0 0 1 -1.827662,1.272758a4.380348,4.613748 0 0 1 -2.129755,0.572741a5.603824,5.902415 0 0 1 -2.114651,-0.572741a5.55851,5.854687 0 0 1 -1.510465,-1.272758a6.177801,6.506975 0 0 1 -1.208372,-1.925046a4.531394,4.772842 0 0 1 -0.302093,-2.227326a8.307556,8.750211 0 0 1 1.510465,-4.168282l16.977624,-18.534538a2.326116,2.450059 0 0 1 1.223476,-0.636379a2.311011,2.43415 0 0 1 1.510465,0.636379a1.706825,1.797771 0 0 1 0.619291,1.288667a2.054232,2.163689 0 0 1 -0.619291,1.590947l-17.294822,18.216348a2.311011,2.43415 0 0 0 -0.604186,1.590947a1.9485,2.052322 0 0 0 1.782348,1.940956a1.510465,1.590947 0 0 0 1.223476,-0.636379l18.533403,-19.823205a5.060057,5.329674 0 0 0 1.510465,-4.168282a6.404371,6.745617 0 0 0 -1.510465,-4.152373a4.531394,4.772842 0 0 0 -3.64022,-1.909137a4.863697,5.122851 0 0 0 -3.957418,1.909137l-18.503194,19.807296a11.14723,11.741192 0 0 0 -2.114651,3.181895a9.334672,9.832055 0 0 0 0,7.381996a11.14723,11.741192 0 0 0 2.114651,3.181895a8.790905,9.259314 0 0 0 6.343952,2.879615a8.594545,9.052491 0 0 0 6.404371,-2.879615l18.820391,-19.489106a1.510465,1.590947 0 0 1 1.208372,-0.636379a1.842767,1.940956 0 0 1 1.208372,0.636379a1.616197,1.702314 0 0 1 0.619291,1.288667a1.510465,1.590947 0 0 1 -0.619291,1.272758l-18.503194,19.807296a14.878078,15.670832 0 0 1 -4.244406,3.181895a12.400916,13.061679 0 0 1 -4.863697,0.970478a12.325393,12.982131 0 0 1 -4.848592,-0.970478a9.87844,10.404796 0 0 1 -4.244406,-3.181895a12.400916,13.061679 0 0 1 -2.733941,-4.470562a13.760334,14.493531 0 0 1 -0.906279,-5.106941a15.512474,16.33903 0 0 1 0.906279,-5.44104a12.627486,13.300321 0 0 1 2.733941,-4.470562l18.503194,-19.807296a9.379986,9.879784 0 0 1 6.676254,-2.895524z" stroke-miterlimit="10" fill="',t+=(0,o.$escape)(e.fillColor),t+='"/>\r\n</svg>\r\n'}},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\r\n    <path fill="',t+=(0,o.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\r\n          d="M26.9,20.3h0l-.1-.1-.1-.1-4.9-5.2h0V4.1H23a.94.94,0,0,0,1-1V2.5a.94.94,0,0,0-1-1H8.4a.94.94,0,0,0-1,1v.6a.94.94,0,0,0,1,1H9.7V14.9h0l-5,5.2-.1.1-.1.1h0c-.1.1-.1.2-.1.4a.79.79,0,0,0,.8.8H15v8.6a1,1,0,0,0,.8.9h0a1.22,1.22,0,0,0,.8-.9V21.5h9.7a.77.77,0,0,0,.8-.7v-.1A.76.76,0,0,1,26.9,20.3Z"/>\r\n</svg>'}},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\r\n    <path fill="',t+=(0,o.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\r\n          d="M30.2,20.4,13.6,2.4H3L2.4,3v9.4L19.5,31l1.1-.2L30,21.5ZM6.2,7.5A1.75,1.75,0,0,1,4.5,5.8,1.75,1.75,0,0,1,6.2,4.1,1.75,1.75,0,0,1,7.9,5.8,1.69,1.69,0,0,1,6.2,7.5Z"/>\r\n</svg>'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(932)),r=a(n(933)),i=a(n(934));function a(e){return e&&e.__esModule?e:{default:e}}t.default={Ear:o.default,Mic:r.default,Speaker:i.default}},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";e=e||{};var t="",n=o.$escape,r=e.fillColor;return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\r\n    <circle fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10" cx="7.53" cy="27.68" r="1"/>\r\n    <circle fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10" cx="25.53" cy="27.68" r="1"/>\r\n    <path fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\r\n          d="M26.53,15.76V14.61A10,10,0,0,0,16.6,4.68h-.14a10,10,0,0,0-9.93,9.93v1.15a6.5,6.5,0,0,0,1,12.92l.68-.3.32-.7v-13a8,8,0,0,1,16,0v13l.35.61.65.39a6.5,6.5,0,0,0,1-12.92Z"/>\r\n    <rect fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10" x="10.53" y="18.68" width="2" height="8" rx="0.99"/>\r\n    <rect fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10" x="20.53" y="18.68" width="2" height="8" rx="0.99"/>\r\n    <rect fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10" x="15.53" y="19.68" width="2" height="6" rx="0.99"/>\r\n</svg>'}},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";e=e||{};var t="",n=o.$escape,r=e.fillColor;return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\r\n    <path fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\r\n          d="M9,12v2c0,4.4,2.6,8,7,8s7-3.6,7-8V12h2v2.07C25,19.53,21.53,24,16.07,24h-.14C10.47,24,7,19.53,7,14.07V12Z"/>\r\n    <circle fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10" cx="8" cy="12" r="1"/>\r\n    <circle fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10" cx="24" cy="12" r="1"/>\r\n    <rect fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10" x="15" y="23" width="2" height="5" rx="0.99"/>\r\n    <rect fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10" x="8" y="27" width="16" height="2" rx="0.99"/>\r\n    <rect fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10" x="12" y="4" width="8" height="16" rx="3.95"/>\r\n</svg>'}},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";e=e||{};var t="",n=o.$escape,r=e.fillColor;return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\r\n    <path fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\r\n          d="M18.7,4.62a5.88,5.88,0,0,0-3,1.79l-5.12,4.74H4.91a2,2,0,0,0-2,2v6.38a2,2,0,0,0,2,2h5.66l5.12,4.73a6,6,0,0,0,3,1.8.48.48,0,0,0,.51-.45V5.13C19.14,4.75,19,4.62,18.7,4.62Z"/>\r\n    <rect fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10" x="24" y="20.12" width="2" height="8" rx="0.99" transform="translate(-9.73 24.74) rotate(-45)"/>\r\n    <rect fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10" x="20.95" y="6.88" width="8" height="2" rx="0.99"\r\n          transform="translate(1.74 19.95) rotate(-45)"/>\r\n    <rect fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10" x="22" y="15" width="6" height="2" rx="0.99"/>\r\n</svg>'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(178);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.prototype.doRender=function(t,n,o){var r=this;return e.prototype.doRender.call(this,t,n,o).then((function(){r.tileCanvas.$container.get(0).style.cssText+="\n                transform-origin: center;\n                transform: rotate(-"+n+"deg);\n            "}))},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(92)),r=a(n(289)),i=a(n(83));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(){return s(this,t),c(this,e.apply(this,arguments))}return u(t,e),t.prototype.doRender=function(e){var t=this.component.annot.info,n=e.outerRect,o=(e.rotate%360+360)%360;if(-1!=t.borderColor){var a=this.canvas.getContext("2d");a.clearRect(0,0,this.canvas.width,this.canvas.height),a.save(),a.globalAlpha=t.opacity;var s=.2*n.width;0===s||!1===t.hasBorderColor?a.strokeStyle="transparent":a.strokeStyle=this.numberToRGBAString(t.color);var c=.5*s,u=c,l=n.width-c,f=n.height-2*c/3,p=Math.atan2(f,n.width/2),d=s/Math.sin(p)+.3*c,h=new r.default([new i.default(u,f),new i.default(n.width/2,d),new i.default(l,f)],!1);a.lineWidth=s;var g=o/180*Math.PI,m=0,v=0;switch(o){case 90:m=-u,v=-(f+d);break;case 270:m=-l;break;case 180:m=-(u+l),v=-f}a.rotate(g),a.translate(m,v),h.render(a),a.stroke(),a.restore()}},t}(o.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments[3],r=arguments[4];e.save(),e.beginPath(),e.rect(t,n,o,r),e.closePath(),e.restore()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=n(92),a=(o=i)&&o.__esModule?o:{default:o},s=n(18);function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.executor=new s.DebounceAsyncTaskExecutor(260),o}return c(t,e),t.prototype.resetCanvasSize=function(e,t){this.canvas.style.cssText+="\n            width: "+Math.floor(e)+"px;\n            height: "+Math.floor(t)+"px;\n        "},t.prototype.doRender=function(e){var t=this;e.renderingData.inkList.length>1e3?this.executor.exec((function(){t.component.isDestroyed||t.executeRender(e)})):this.executeRender(e)},t.prototype.getMinDistance=function(){return 1.13136},t.prototype.executeRender=function(t){var n=t.renderingData,o=n.page,i=n.annotInfo,a=i.borderInfo||{},s=t.scale,c=t.rotate,u=this.convertPointToPixel(a.width,s);if(0!=u||-1!=i.borderColor||i.fillColor){var l=t.outerRect;e.prototype.resetCanvasSize.call(this,l.width,l.height);var f=this.canvas.getContext("2d");f.clearRect(0,0,this.canvas.width,this.canvas.height),f.beginPath(),f.save(),t.lineWidth=u,f.lineCap="round",f.lineJoin="round",f.imageSmoothingEnabled=!0,f.imageSmoothingQuality="high",f.globalAlpha=i.opacity,f.lineWidth=u,0===u||!1===i.hasBorderColor?f.strokeStyle="transparent":f.strokeStyle=this.numberToRGBAString(i.color);var p=this.getMinDistance();n.inkList.map((function(e){var t=e.x,n=e.y,i=e.type,a=o.getDevicePoint([t,n],s,c),u=r(a,2),f=u[0],p=u[1];return{x:f-l.left,y:p-l.top,type:i}})).reduce((function(e,t,n){if(0===n||1===t.type)e.push(t);else{var o=e[e.length-1];Math.abs(t.x-o.x)+Math.abs(t.y-o.y)>=p&&e.push(t)}return e}),[]).forEach((function(e,t,n){var o=e.x,r=e.y;1===e.type?(f.stroke(),f.beginPath(),f.moveTo(o,r)):f.lineTo(o,r)})),f.stroke(),f.restore()}},t}(a.default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(940)),r=a(n(173)),i=a(n(4));function a(e){return e&&e.__esModule?e:{default:e}}n(941);var s=function(){function e(t,n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.viewerComponent=t,this.docPageCount=a;var s="max page: "+a,c=(0,o.default)(s);n||(c='<dialog class="fv__dialog fv__annot-properties-dialog">'+c+"</dialog>");var u=this.$dialog=(0,i.default)(c);this.bindChangeEvent();var l=n||document.body;if(u.appendTo(l),!n){var f=u[0];r.default.registerDialog(f),f.showModal()}}return e.prototype.bindChangeEvent=function(){var e=this;this.$dialog.on("click",".fv__redaction-cancel",(function(){e.close()})).on("click",".fv__place-redaction-dialog-close-icon",(function(){e.close()})).on("click",".fv__redaction-btn",(function(t){e.submit()})).on("change",".redaction-page-radio",(function(t){t.target.checked&&(e.hideError(),"1"==t.target.value?(0,i.default)(".fv__redaction-page-range").attr("disabled",""):(0,i.default)(".fv__redaction-page-range").removeAttr("disabled"))})).on("keydown",".fv__redaction-page-range",(function(t){e.hideError()}))},e.prototype.submit=function(){var e=this,t=this.docPageCount,n=[];if("1"==(0,i.default)(".redaction-page-radio:checked").val())for(var o=0;o<t;o++)n.push(o);else{var r=(0,i.default)(".fv__redaction-page-range").val();if(new RegExp(/[^\d\-,]/).test(r))return void this.showError();for(var a=r.split(","),s=0;s<a.length;s++){var c=a[s];if(c.indexOf("-")>-1){var u=c.split("-");if(u.length>2)return void this.showError();if(u[0]<1||u[0]>t||u[1]<1||u[1]>t)return void this.showError();for(var l=Math.min(u[0],u[1]),f=Math.max(u[0],u[1]),p=l;p<=f;p++)-1===n.indexOf(p)&&n.push(p-1)}else{if(c<1||c>t)return void this.showError();-1===n.indexOf(n)&&n.push(c-1)}}}this.viewerComponent.placeRedact(n).then((function(t){e.close()}))},e.prototype.reset=function(){this.hideError(),this.element.querySelector(".redaction-page-radio").checked=!0,this.element.querySelector(".fv__redaction-page-range").value=""},e.prototype.showError=function(){this.$dialog[0].querySelector(".fv__redaction-page-range").classList.add("fv__redaction-error")},e.prototype.hideError=function(){this.$dialog[0].querySelector(".fv__redaction-page-range").classList.remove("fv__redaction-error")},e.prototype.close=function(){var e=this.$dialog;e&&(e[0].close(),e.remove(),this.$dialog=null)},e}();t.default=s},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";e=e||{};var t="",n=o.$escape;return t+='<dialog class="fv__ui-layer fv__place-redaction-dialog" >\r\n   <div class="fv__place-redaction-dialog-header">\r\n      <div class="fv__place-redaction-dialog-title">',t+=n(o.i18n("viewer_:dialog.placeRedactionDialog.title")),t+='</div>\r\n      <div class="fv__place-redaction-dialog-close"><i class="fv__place-redaction-dialog-close-icon">x</i></div>\r\n   </div>\r\n   <div class="fv__place-redaction-dialog-body">\r\n        <div class="fv__redaction-container">\r\n        <label>\r\n            <input name="redaction-page-type" class="redaction-page-radio" type="radio" checked value="1" /><span>',t+=n(o.i18n("viewer_:dialog.placeRedactionDialog.allPage")),t+='</span>\r\n        </label>\r\n        </div>\r\n        <div class="fv__redaction-container">\r\n            <label>\r\n                <input name="redaction-page-type" class="redaction-page-radio" type="radio" value="2" /><span>',t+=n(o.i18n("viewer_:dialog.placeRedactionDialog.specificPage")),t+='</span>\r\n                <div class="fv__redaction-range">',t+=n(o.i18n("viewer_:dialog.placeRedactionDialog.pageRange")),t+=': <input type="text" class="fv__redaction-page-range" disabled placeholder="',t+=n(e),t+='"/></div>\r\n                </label>\r\n        </div> \r\n   </div>\r\n   <div class="fv__place-redaction-dialog-footer">\r\n        <div class="fv__redaction-container" style="text-align:right">\r\n            <button type="button" class="fv__redaction-btn fv__ui-dialog-ok-button">',t+=n(o.i18n("viewer_:dialog.placeRedactionDialog.OK")),t+='</button>\r\n            <button type="button" class="fv__redaction-cancel fv__ui-dialog-cancel-button">',t+=n(o.i18n("viewer_:dialog.placeRedactionDialog.Cancel")),t+="</button>\r\n        </div>\r\n   </div>\r\n</dialog>"}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={reply:{name:"reply",nameI18nKey:"viewer_:contextmenu.annot.reply",callback:function(){this.data("annotComponent").showReplyDialog("reply")},disabled:function(){return this.data("annotComponent").replyDisabled()}},remove:{name:"delete",nameI18nKey:"viewer_:contextmenu.annot.delete",callback:function(){this.data("annotComponent").removeAnnot()},disabled:function(){return this.data("annotComponent").deleteDisabled()}},apply:{name:"apply",nameI18nKey:"viewer_:contextmenu.annot.apply",callback:function(){return this.data("annotComponent").apply()},disabled:function(){return this.data("annotComponent").assembleDocDisabled()}},applyAll:{name:"applyAll",nameI18nKey:"viewer_:contextmenu.annot.applyAll",callback:function(){return this.data("annotComponent").applyAll()},disabled:function(){return this.data("annotComponent").assembleDocDisabled()}},place:{name:"place",nameI18nKey:"viewer_:contextmenu.annot.place",callback:function(e,t,n){this.data("annotComponent").showPlaceMarkDialog(e,t,n)},disabled:function(){return this.data("annotComponent").moveDisabled()}},properties:{name:"properties",nameI18nKey:"viewer_:contextmenu.annot.properties",callback:function(e,t,n){this.data("annotComponent").showPropertiesDialog(e,t,n)}}};t.getCommonContextMenu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-handler-rect";return{selector:e,items:o,events:{show:function(){return this.data("annotComponent").updateDeleteStatus(!0),!0},hide:function(){return this.data("annotComponent").updateDeleteStatus(!1),!0}}}},t.defaultAnnotComponentKey="annotComponent"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=void 0,r=void 0,i={};"function"==typeof FontFace?(t.addFont=o=function(e,t){return i[e]?i[e]:i[e]=new Promise((function(n,o){t().then((function(t){if(!t)return o(),void i[e];var r=new FontFace(e,t.buffer||t.url);r.load().then((function(){document.fonts.add(r),n(r)}),(function(){o(),delete i[e]}))}),(function(){o(),delete i[e]}))}))},t.removeFont=r=function(e){i[e]&&i[e].then((function(t){delete i[e],document.fonts.delete(t)}))}):(t.addFont=o=function(e,t){return i[e]?i[e]:i[e]=new Promise((function(n,o){t().then((function(t){return t?t.buffer?URL.createObjectURL(new Blob([t.buffer],"application/x-font-woff")):t.url:(o("woff is invalid"),void delete i[e])})).then((function(t){if(!t)return o();var r=document.createElement("style");r.innerHTML='@font-face{font-family:"'+e+'"; src:url("'+t+'");}',document.head.appendChild(r),n(r)}))}))},t.removeFont=r=function(e){i[e]&&i[e].then((function(t){delete i[e],t.parentNode.removeChild(t)}))}),t.addFont=o,t.removeFont=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={properties:{name:"properties",nameI18nKey:"viewer_:contextmenu.annot.properties",callback:function(e,t,n){this.data("annotComponent").showPropertiesDialog(e,t,n)}},remove:{name:"delete",nameI18nKey:"viewer_:contextmenu.annot.delete",callback:function(){this.data("annotComponent").removeAnnot()},disabled:function(){return this.data("annotComponent").deleteDisabled()}}};t.getDefaultConfig=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-handler-rect";return{selector:e,items:o,events:{show:function(){return this.data("annotComponent").updateDeleteStatus(!0),!0},hide:function(){return this.data("annotComponent").updateDeleteStatus(!1),!0}}}},t.defaultAnnotComponentKey="annotComponent"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=l(n(92)),i=n(7),a=l(n(83)),s=n(216),c=l(n(53)),u=l(n(287));function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var p=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.helper=new u.default(n),o}return f(t,e),t.prototype.doPrepare=function(){e.prototype.doPrepare.call(this),this.canvas.classList.add("fv__viewer-render-square-canvas")},t.prototype.doRender=function(e){e.renderingData;var t=this.component.annot,n=t.info,o=n.borderInfo||{},r=e.scale,a=e.rotate,s=this.convertPointToPixel(o.width||1,r),c=t.page,u=e.outerRect,l=t.getCalloutLinePoints().map((function(e){var t=c.getDevicePoint([e.x,e.y],r,a);return[t[0]-u.left,t[1]-u.top]})),f=this.canvas.getContext("2d");f.clearRect(0,0,this.canvas.width,this.canvas.height),f.save(),e.lineWidth=s,0===s||!1===n.hasBorderColor?f.strokeStyle="transparent":f.strokeStyle=this.numberToRGBAString(n.color),f.lineWidth=s;try{switch(o.style){case i.BORDER_STYLE.BEVELED:case i.BORDER_STYLE.UNDERLINE:case i.BORDER_STYLE.SOLID:this.renderSolid(f,n,e);break;case i.BORDER_STYLE.DASHED:this.renderDashed(f,n,e);break;case i.BORDER_STYLE.CLOUDY:this.renderCloud(f,n,e)}var p=n.fillColor;p?(p=this.numberToRGBAString(p),f.fillStyle=p,f.fill()):p="transparent",e.renderingData.fillColor=p,this.renderCallout(f,e,n.borderColor,t.getCalloutLineEndingStyle(),l,s),this.component.$pre.css({height:e.innerRect.height,overflow:"hidden"}),f.stroke()}finally{f.restore()}this.afterRender(e)},t.prototype.convertToPathPoint=function(e,t,n,r){var i=r.getDevicePoint([e.x,e.y],t),s=o(i,2),c=s[0],u=s[1];return new a.default(c-n.left,u-n.top)},t.prototype.shrinkRect=function(e,t){var n=c.default.on(e).shrink(t).extract();return Object.assign(n,{width:n.right-n.left,height:n.bottom-n.top})},t.prototype.renderCloud=function(e,t,n){t.fillColor;var o=t.borderInfo.cloudIntensity,r=this.shrinkRect(n.innerRect,0),i=this.shrinkRect(n.outerRect,0),c=r.width,u=r.height;new s.CloudyPathGenerator([new a.default(0,u),new a.default(c,u),new a.default(c,0),new a.default(0,0)],r,i).generate(32/3/o).render(e)},t.prototype.renderDashed=function(e,t,n){var o=this,r=t.borderInfo,i=r.dashes||[],a=r.dashPhase||0,s=n.scale;e.save(),e.setLineDash&&e.setLineDash(i.map((function(e){return o.convertPointToPixel(e,s)}))),e.lineDashOffset=this.convertPointToPixel(a,s),this.renderSolid(e,t,n)},t.prototype.renderSolid=function(e,t,n){var o=n.outerRect,r=n.innerRect,i=n.lineWidth,a=r.width,s=r.height,c=r.left-o.left,u=r.top-o.top,l=.5*i;e.beginPath(),e.rect(c+l,u+l,a-i,s-i),e.closePath()},t.prototype.renderCallout=function(e,t,n,o,r,i){e.save();e.lineWidth=i,e.strokeStyle=this.numberToRGBAString(n),e.moveTo(r[0][0],r[0][1]),r.map((function(t){e.lineTo(t[0],t[1])})),e.stroke();var a={x:r[1][0],y:r[1][1]},s={x:r[0][0],y:r[0][1]};this.helper.renderLineEnd(e,i,t,o,a,s),e.restore()},t.prototype.afterRender=function(t){var n=t.outerRect,o=t.innerRect;e.prototype.afterRender.call(this);var r=this.component,i=r.annot,a=r.$pre;a.html(i.getContent());var s=r.getStyle(!1);delete s.background;var c=4*i.getBorderWidth()/3*r.scale;5===i.getBorderInfo().style&&(c=0);var u=r.fontSizeScale;s.margin=[(o.top-n.top+c)/u,(n.right-o.right+c)/u,(n.bottom-o.bottom+c)/u,(o.left-n.left+c)/u].join("px ")+"px",r.$ui.find(".fv__ftui-container").css({transform:"scale("+u+")",width:100/u+"%"}),a.css(s),r.$ui.css("opacity",i.getOpacity())},t}(r.default);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(145);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.prototype.doRender=function(t){isNaN(t.innerRect.left)||(e.prototype.doRender.call(this,t,!1),this.afterRender())},t.prototype.afterRender=function(){e.prototype.afterRender.call(this);var t=this.component,n=t.annot,o=t.$pre;o.html(n.getContent());var r=t.getStyle(!0);delete r.background,delete r.left,delete r.top,r.padding=4*t.getPadding()/3*t.scale,o.css(r);var i=t.$ui.find(".fv__ftui-container"),a=t.fontSizeScale;i.css({transform:"scale("+a+")",width:100/a+"%"}),t.$ui.css("opacity",n.getOpacity())},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=d(n(95)),r=d(n(948)),i=d(n(952)),a=d(n(954)),s=d(n(957)),c=d(n(959)),u=d(n(960)),l=d(n(961)),f=(d(n(962)),n(39)),p=d(n(82));function d(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){var n=void 0,d=t.page.doc.getPDFForm();if(!d||d.isEmpty()||!(n=t.getField())||n.isDAFontEmbedded()&&1&n.getFlags())return o.default;switch(n.getType()){case f.FieldType.Text:case f.FieldType.File:return r.default;case f.FieldType.ListBox:return i.default;case f.FieldType.ComboBox:return a.default;case f.FieldType.Sign:return e.config.enableSignature?s.default:p.default;case f.FieldType.PushButton:return"canvas"==e.config.annotRenderingMode.pushButton?c.default:o.default;case f.FieldType.CheckBox:return l.default;case f.FieldType.RadioButton:return u.default;default:return o.default}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=g(n(95)),r=g(n(949)),i=n(39),a=g(n(4)),s=n(448),c=n(951),u=g(c),l=g(n(73)),f=n(12),p=n(42),d=n(34),h=(g(n(1)),n(414));function g(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var v=function(e){function t(n,o,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r,i));return a.engineForm=a.parent("pdfDocRender").doc.getPDFForm(),a.$ui.addClass("form_text_field"),n.setRenderNotifier((function(e){return a.updateUI(e)})),a.defaultEvnet=!1,a.generateHandler(1)&&a.bindInputEvent(),a}return m(t,e),t.prototype.destroy=function(){this.$textInput.off("change keydown keyup blur dblclick input"),this.$input.remove(),this.$input=null,this.$textInput=null,e.prototype.destroy.call(this),this.engineForm=null,this.destroyAutocomplete()},t.prototype.generateHandler=function(e){var t=this.annot,n=t.getField();if(!n)return!1;var o=90*(4-this.annot.getRotation()+t.getPage().getRotation()),s=this.checkReadOnly(),c=4*t.getBorderWidth()/3*e,u=(0,f.getTransparentOrColor)(t.getMKProperty("borderColor")),l=(0,f.getTransparentOrColor)(t.getMKProperty("fillColor"));this.$handler.css("background-color",l);var p=t.getAlignment(),h=i.FieldFlag.isMultiline(n.getFlags()),g=i.FieldFlag.isPassword(n.getFlags()),m=i.FieldFlag.isNoScroll(n.getFlags()),v=i.FieldFlag.isNoSpellCheck(n.getFlags()),y=i.FieldFlag.isComb(n.getFlags())&&n.getMaxLength()>0,b=!this.checkInvisible(),w=(0,f.colorConvertor)(16777215&t.getDAFontColor(),"#"),_=this.getFontSize(n,t);_?_+="px":_=h?"16px":"xx-large";var P=n.getValue(),O=(0,r.default)({borderWidth:c,borderColor:u,background:"transparent",isSafari:d.isSafari,isMultiline:h,isPassword:g,isNoScroll:m,isNoSpellCheck:v,comb:y,readonly:s,align:p,value:P,maxLength:n.getMaxLength(),visible:b,color:w,fontSize:_,rotation:o+this.rotate,left:"0",top:"0",width:"100%",height:"100%"}),E=this.$input=(0,a.default)(O),x=this.$textInput=E.find("input");if(0==x.length&&(x=this.$textInput=E.find("textarea")),this.$foreground.before(E),y&&x.hide(),this.formRender.usingHTML(6)){this.$input.hide();var C=this.annotsRender.pageRender;this.render(C.getScale(),C.getRotation())}else this.$input.css("visibility","hidden");return!0},t.prototype.getFontSize=function(e,t){var n=t.getDefaultAppearance(),o=e.getDAFontSize();return n.textSize&&(o=n.textSize),4*o/3},t.prototype.updateSize=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.render(e,t,n)},t.prototype.render=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.annot,a=r.getField();this.scale=t,this.rotate=n;this.getTileConfig(t,n);var s=this.updateForgroundAndHandler(t,n);r.getRotation(),r.getPage().getRotation();if(a){var c=this.getFontSize(a,r)*t;if(c)c+="px";else if(i.FieldFlag.isMultiline(a.getFlags()))c=16*t+"px";else{clearTimeout(this.autoFontSizeTimeout);var u=this;this.autoFontSizeTimeout=setTimeout((function(){u.annot&&u.formRender&&(u.autoFontSize(),u.formRender.usingHTML(6)&&u.$input.show())}),20)}var f=((this.getPDFPage().getRotationAngle()+n-90*r.getRotation())%360+360)%360,p="center",d=void 0,h=void 0;switch(f){case 90:case 270:d=s.height,h=s.width,p=270===f?d/2+"px "+d/2+"px":h/2+"px";break;default:d=s.width,h=s.height}var g=i.FieldFlag.isComb(a.getFlags())&&a.getMaxLength()>0;g&&this.$input.find(".textComb").css({width:s.width/a.getMaxLength(),height:s.height,"line-height":s.height+"px",fontSize:c});var m=a.getType()==i.FieldType.Text;if(m){var v=a.getAction(l.default.FieldWillFormat);if(0!=a.getValue().length&&v){var y=this.formRender.execAction("Field",v,null,a,l.default.FieldWillFormat);y.rc||(a.setValue(this.lastAvailableValue,this.annot),this.valueChange(!1,a))}}var b=4*r.getBorderWidth()/3*t,w={"font-size":c,"border-width":b+"px",transform:"rotate("+f+"deg)","transform-origin":p,width:d+"px",height:h+"px","line-height":h-2*b+"px"};this.$input.show(),this.$textInput.css(w)}return this.formRender.usingHTML(6)?Promise.resolve():e.prototype.render.call(this,t,n,o)},t.prototype.focus=function(e){var t=this;this.$handler.find(".fv__tiles-row").hide(),this.$input.css("visibility","visible");var n=this.annot.getField(),o=this.$textInput;e||(this.lastAvailableValue=n.getValue()),setTimeout((function(){t.$foreground.hide(),document.activeElement!=o[0]&&o[0].focus()}),50),this.$input.find(".textCombContainer").hide(),o.show();var r=n.getAction(l.default.FieldWillFormat),i=this.getDateTimeFormat();if(i&&(o.val(h.CFR_Utils.FormatDateTimeString(n.getValue(),i)),0==(i=h.CFR_Utils.switchFormat(i,"toLib")).length&&(i="m-d-y"),this.formRender.showDateTimePicker(o.val(),i,o[0],(function(e,t,n){o.val(t)}))),"basic"===this.pdfViewer.getAutoCompleteSetting().level&&(0,s.shouldFieldAutoComplete)(n)&&!this.isDate){var a=new s.AutocompleteModel(this.pdfViewer),f=n.getMaxLength(),p=this.$autocomplete=new u.default(this.$textInput,{entryGetter:a.getAllEntries.bind(a),parent:this.parent("pdfPageRender").$annotsContainer});f&&p.setMatcher((0,c.getMaxLengthMatcher)(f)),p.on("select",(function(){t.valueChanged=!0,t.formRender.blurControl()}))}n&&o.val(n.getValue()||""),(r=this.annot.getAdditionalAction(l.default.AnnotReceiveInputFocus))&&this.formRender.execAction("Field",r,null,n),this.isActive=!0},t.prototype.handleEvent=function(e,t){if(!this.$ui.hasClass("selected")&&!this.$ui.hasClass("editing")){var n=this.formRender;if(this.checkReadOnly()||this.checkInvisible())e!=l.default.AnnotMouseButtonReleased&&e!=l.default.AnnotReceiveInputFocus||n.blurControl();else{switch(l.default.AnnotMouseButtonReleased,e){case l.default.AnnotMouseButtonPressed:n.focusControl(this);break;case l.default.AnnotMouseButtonReleased:if(!n.isSameTarget(this))return;var o=this.annot.action;o&&n.execAction("Field",o,null,this.annot.getField());var r=this.$textInput;setTimeout((function(){document.activeElement!=r[0]&&r.focus()}),50),this.$input.find(".textCombContainer").hide(),r.show(),this.getDateTimeFormat()&&this.formRender.reshowDTPicker(r[0])}this.performAction(e)}}},t.prototype.bindInputEvent=function(){var e=this;this.__off__esc__event__&&this.__off__esc__event__(),this.__off__esc__event__=this.pdfViewer.getKeyboardEventBinder(p.ACTIVATION_ANNOTATION_BINDER).on(p.KEY_MAP_UNACTIVE_ANNOTATION,(function(t){e.unActive()})),this.$textInput.on("keydown",(function(t){27==t.keyCode&&t.preventDefault();var n=e.$autocomplete;n&&(38===t.keyCode&&n.isOpen&&(n.previous(),t.preventDefault()),40===t.keyCode&&(n.isOpen?n.next():n.evaluate(),t.preventDefault()),13===t.keyCode&&n.isOpen&&(n.select(),t.preventDefault(),t.stopPropagation()))})).on("keyup",(function(t){if(27==t.keyCode&&t.preventDefault(),!e.checkReadOnly()){if(e.valueChanged=!0,setTimeout((function(){e.autoFontSize(e.$textInput.val())}),0),13===t.keyCode){var n=e.annot.getField();!i.FieldFlag.isMultiline(n.getFlags())&&e.blur()}var o=e.formRender.dt;o&&(o._inputTemp||(o._inputTemp=o._input),delete o._input,o.close())}})).on("dblclick",(function(t){e.$autocomplete&&e.$autocomplete.evaluate()})).on("input",(function(t){e.$autocomplete&&e.$autocomplete.evaluate()})).on("blur",(function(t){e.getDateTimeFormat()||e.$autocomplete||e.formRender.blurControl()}))},t.prototype.updateUIMore=function(t){var n=this,o=t.type,r=t.value,a=this.annot,s=this.$input,c=this.$textInput,u=a.getField();if(u){var p=Promise.resolve();switch(o){case"value":var d=u.getAction(l.default.FieldWillFormat),h=u.getAction(l.default.FieldValueChanged);if(u.NeedExecuteValidateAction&&0!=u.getValue().length&&h)if(!this.formRender.execAction("Field",h,null,u,l.default.FieldValueChanged).rc){u.setValue(this.lastAvailableValue,this.annot),this.valueChange(!1,u);break}p.then((function(e){0!=u.getValue().length&&d&&(n.formRender.execAction("Field",d,null,u,l.default.FieldWillFormat).rc||(u.setValue(n.lastAvailableValue,n.annot),n.valueChange(!1,u)))}));break;case"displayValue":if(i.FieldFlag.isComb(u.getFlags())&&u.getMaxLength()>0){var g=u.getMaxLength();switch(u.getAlignment()){default:for(var m=0;m<r.length;m++)s.find(".textComb[data-index="+m+"]").html(r[m]);for(var v=r.length;v<g;v++)s.find(".textComb[data-index="+v+"]").html("");break;case 2:var y=s.find(".textComb").length,b=r.length,w=y-r.length-1,_=0;w<-1&&(w=-1),r.length>y&&(_=r.length-y);for(var P=y-1;P>w;P--)s.find(".textComb[data-index="+P+"]").html(r[P-y+b-_]);for(var O=w;O>-1;O--)s.find(".textComb[data-index="+O+"]").html("")}}p=u.setDisplayValue(r),c.val(r);break;case"align":c.css("text-align",r);break;case"borderStyle":c.css("border-style",r);break;case"borderColor":r=(0,f.getTransparentOrColor)(r),s.find(".textComb").css("border-color",r),c.css("border-color",r);break;case"maxLength":void 0===r?c.removeAttr("maxlength"):(c.attr("maxlength",r),c.val(c.val().substr(0,r)));break;case"noSpellCheck":c.prop("spellcheck",!r);break;case"noScroll":case"comb":case"multiline":case"lineSpace":s.remove(),this.generateHandler(this.scale),this.bindInputEvent(),this.isActive&&this.focus(),this.render(this.scale,this.rotate,!0);break;case"fillColor":this.$handler.css("background-color",(0,f.getTransparentOrColor)(r));break;case"password":c.attr("type",r?"password":"text");break;case"readonly":r?(this.$foreground.addClass("form-field-readonly").css("visibility","hidden"),c.attr("readonly",!0)):(this.checkReadOnly()||this.checkInvisible()||this.$foreground.removeClass("form-field-readonly").css("visibility","visible"),c.removeAttr("readonly"));var E=(0,f.getTransparentOrColor)(a.getMKProperty("fillColor"));r&&(E="transparent"),c.css("background-color",E);break;case"hidden":var x=this.$handler;r?x.hide():x.show();break;case"textColor":c.css("color",r)}this.formRender.usingHTML(6)||p.then((function(t){return n.annot&&e.prototype.render.call(n,n.scale,n.rotate,!0)}))}},t.prototype.blur=function(){var e=this,t=this.$textInput;return setTimeout((function(){e.destroyAutocomplete()}),0),this.isActive=!1,this.formRender.usingHTML(6)||this.$input.css("visibility","hidden"),this.$handler.find(".fv__tiles-row").show(),this.setValue(t.val())},t.prototype.setValue=function(e){var t=this.annot.getField();t.setValueWithoutAction(e);var n=void 0;e===this.lastAvailableValue&&(this.valueChanged=!1);var o=!1,r=t.getAction(l.default.FieldKeyStroke);return this.valueChanged&&r&&-1!==(n=this.formRender.execAction("Field",r,null,t,l.default.FieldKeyStroke,{change:e,willCommit:!0}))&&(n.rc?(n.changed||(n.change=e),t.setValueWithoutAction(n.change)):(o=!0,e=this.lastAvailableValue)),o?(t.setValue(this.lastAvailableValue,this.annot),this.valueChange(o,t)):(r=t.getAction(l.default.FieldValueChanged),this.valueChanged&&r&&-1!==(n=this.formRender.execAction("Field",r,null,t,l.default.FieldValueChanged))&&(n.rc?(void 0===n.value&&(n.value=e),t.setValueWithoutAction(n.value)):o=!0),o?t.setValue(this.lastAvailableValue,this.annot):this.valueChanged?t.syncValue(t.getValue()):(r=t.getAction(l.default.FieldWillFormat),(n=t.getValue()&&r&&this.formRender.execAction("Field",r,null,t,l.default.FieldWillFormat))&&!n.rc?(t.setValue(this.lastAvailableValue,this.annot),this.valueChange(!1,t)):t.syncValue(t.getValue())),this.valueChange(o,t))},t.prototype.valueChange=function(t,n){return this.valueChanged&&!t&&this.formRender.calculate(n),this.valueChanged=!1,!t&&"basic"===this.pdfViewer.getAutoCompleteSetting().level&&(0,s.shouldFieldAutoComplete)(n)&&new s.AutocompleteModel(this.pdfViewer).saveDbEntry(n.getValue()),n&&i.FieldFlag.isComb(n.getFlags())&&n.getMaxLength()>0&&(this.$textInput.hide(),this.$input.find(".textCombContainer").show()),e.prototype.blur.call(this),t},t.prototype.isComb=function(){var e=this.annot.getField();return i.FieldFlag.isComb(e.getFlags())&&e.getMaxLength()>0},t.prototype.destroyAutocomplete=function(){this.$autocomplete&&this.$autocomplete.destroy(),this.$autocomplete=null},t.prototype.getDateTimeFormat=function(){var e=this.annot.getField().getAction(l.default.FieldWillFormat);if(e&&e.getScript){var t=void 0,n=e.getScript();if(-1!==n.indexOf("AFDate_Format")){t=/AFDate_Format(?:Ex)?\("([\s\S]*?)"\)/;var o=n.match(t);if(o&&2==o.length)return o[1].trim()}else if(-1!==n.indexOf("AFTime_Format")){t=/AFTime_Format(?:Ex)?\(([\s\S]*?)\)/;var r=n.match(t);if(r&&2==r.length)return y[r[1]]||r[1].replace(/"/g,"")}}},t}(o.default),y=["HH:MM","h:MM tt","HH:MM:ss","h:MM:ss tt"];t.default=v},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";var t="",n=(e=e||{}).border,r=e.borderWidth,i=e.borderColor,a=e.position,s=e.left,c=e.top,u=e.height,l=e.width,f=e.background,p=e.transform,d=e.rotation,h=e.alignStyle,g=e.align,m=(e.fs,e.fontSize),v=(e.fcolor,e.color),y=e.transformStyle,b=e.style,w=e.maxLengthAttr,_=e.maxLength,P=e.spellCheckAttr,O=e.isNoSpellCheck,E=e.isMultiline,x=o.$escape,C=e.isNoScroll,A=e.ro,S=e.value,D=e.comb,T=e.diffLen,I=e.i,R=e.v,M=e.type,j=e.isPassword,k=e.readonly,N=e.isSafari;n="border:"+r+"px solid "+i+";",a="left:"+s+";top:"+c+";height:"+u+";width:"+l+";",f="background-color:"+f+";",p="";switch(0!==d&&(p="transform:rotate("+d+"deg)"),g){case 0:h="text-align:left;";break;case 1:h="text-align:center;";break;case 2:h="text-align:right;"}y=p,b=n+a+f+h+("font-size:"+m+";")+("color:"+v+";"),w=_?"maxlength="+_:"",P="spellcheck="+!O;if(E)b+="resize: none;",t+='\r\n        <div class="textCombInput"><textarea class="fv__pdf-form-field-combo-textarea ',t+=x(C?"fv__no-scroll-text":"fv__scroll-text"),t+='" ',t+=x(A),t+=' style="',t+=x(b),t+='">',t+=x(S),t+="</textarea></div>\r\n";else if(D){t+='\r\n        <div class="textCombInput" >\r\n            <div class="textCombContainer">\r\n';for(T=_-S.length,I=0;I<_;I++){R=S[I];2==g&&_>S.length&&I<T&&(R=""),2==g&&I>=T&&(R=S[I-T]),t+='\r\n                <div class="textComb" style="',t+=x(n),t+='" data-index="',t+=x(I),t+='">',t+=x(R),t+="</div>\r\n"}t+='\r\n            </div>\r\n\r\n            <input type="',t+=x(M),t+='" ',t+=x(A),t+=' style="',t+=x(b),t+='" ',t+=x(w),t+=" ",t+=x(P),t+=' value="',t+=x(S),t+='">\r\n        </div>\r\n    '}else{A=k?"readonly":"";t+='\r\n        <div class="textCombInput">\r\n        <input  type="',t+=x(M=j?"password":"text"),t+='" ',t+=x(A),t+=" ",t+=x(w),t+=" ",t+=x(P),t+=' style="',t+=x(b+y),t+=x(N&&"box-sizing: content-box; padding: 0;"),t+='" value="',t+=x(S),t+='"/>\r\n            <div class="dtbox"></div>\r\n    </div>\r\n        '}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IndexDBStore=void 0;var o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(21),a=(o=i)&&o.__esModule?o:{default:o};function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l="object"===("undefined"==typeof window?"undefined":r(window))?window:"function"==typeof importScripts?self:{},f=l.indexedDB||l.mozIndexedDB||l.webkitIndexedDB||l.msIndexedDB,p=l.IDBTransaction||l.webkitIDBTransaction||l.msIDBTransaction,d={},h=function(){function e(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;u(this,e),this.dbName=n,this.storeName=t,this.keyPath="id",this.version=o}return e.prototype._getDB=function(){var e=this,t=this.dbName,n=d[t];if(n)return n;var o=(0,a.default)(),r=d[t]=o.promise,i=f.open(t,this.version),s=this.keyPath;return i.onerror=function(e){o.reject(e)},i.onupgradeneeded=function(t){var n=t.target.result;n.objectStoreNames.contains(e.storeName)||n.createObjectStore(e.storeName,{keyPath:s})},i.onsuccess=function(e){o.resolve(e.target.result)},r},e.prototype.set=function(e,t){var n=this;return f?this._getDB().then((function(o){var r=n.storeName,i=n.keyPath,s=o.transaction([r],p.READ_WRITE||"readwrite").objectStore(r),c={value:t};c[i]=e.toString();var u=s.put(c),l=(0,a.default)();return u.onsuccess=function(e){l.resolve()},u.onerror=function(e){l.reject(e)},l.promise})):Promise.resolve()},e.prototype.get=function(e){var t=this;return f?this._getDB().then((function(n){var o=(0,a.default)(),r=t.storeName;if(!n.objectStoreNames.contains(r))return o.resolve();var i=n.transaction([r]).objectStore(r).get(e);return i.onsuccess=function(e){var t=e.target.result;if(!t)return o.resolve();o.resolve(t.value)},i.onerror=function(e){o.reject(e)},i.oncomplete=function(e){},o.promise})):Promise.resolve(null)},e.prototype.remove=function(e){var t=this;return f?this._getDB().then((function(n){var o=t.storeName;if(n.objectStoreNames.contains(o)){var r=n.transaction([o],p.READ_WRITE||"readwrite").objectStore(o).delete(e),i=(0,a.default)();return r.onsuccess=function(e){i.resolve()},r.onerror=function(e){i.reject()},i.promise}})):Promise.resolve()},e.prototype.clear=function(){var e=this;return f?this._getDB().then((function(t){var n=e.storeName;if(t.objectStoreNames.contains(n)){var o=t.transaction([n],p.READ_WRITE||"readwrite").objectStore(n).clear(),r=(0,a.default)();return o.onsuccess=function(e){r.resolve()},o.onerror=function(e){r.reject()},r.promise}})):Promise.resolve()},e.prototype.destroy=function(){var e=this.dbName;delete d[e],f&&f.deleteDatabase(e)},e}();t.default=h;t.IndexDBStore=function(e){function t(n,o){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"id";u(this,t);var a=s(this,e.call(this,n,o,r));return a.keyPath=i,a}return c(t,e),t.prototype.set=function(){throw new Error('This method is duplicated, please use "add" instead.')},t.prototype.add=function(e){var t=this;return f?this._getDB().then((function(n){var o=t.storeName,r=(t.keyPath,n.transaction([o],p.READ_WRITE||"readwrite").objectStore(o).put(e)),i=(0,a.default)();return r.onsuccess=function(e){i.resolve()},r.onerror=function(e){i.reject(e)},i.promise})):Promise.resolve()},t.prototype.getAll=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments[1];return f?this._getDB().then((function(o){var r=(0,a.default)(),i=e.storeName;if(!o.objectStoreNames.contains(i))return r.resolve();var s=o.transaction([i]).objectStore(i);if(IDBObjectStore.prototype.getAll){var c=s.getAll(t,n);return c.onsuccess=function(e){var t=e.target.result;if(!t)return r.resolve();r.resolve(t)},c.onerror=function(e){r.reject(e)},r.promise}var u=s.openCursor(t),l=[];return u.onsuccess=function(e){var t=e.target.result;t&&(l.push(t.value),void 0===n||l.length<n)?t.continue():r.resolve(l)},u.onerror=function(e){r.reject(e)},r.promise})):Promise.resolve(null)},t}(h)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMaxLengthMatcher=function(e){return function(t,n){return t.filter((function(t){var o=t.text;return o.startsWith(n)&&o!==n&&o.length<=e}))}};var o=i(n(4)),r=i(n(61));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var s=function(e){function t(n,r){var i=r.bindInputEvent,a=void 0===i||i,s=r.entryGetter,c=r.entryMatcher,u=void 0===c?t.defaultMatcher:c,l=r.entrySorter,f=void 0===l?t.defaultSorter:l,p=r.parent,d=void 0===p?"body":p;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var h=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return h.bindInputEvent=a,h.entryGetter=s,h.entryMatcher=u,h.entrySorter=f,h.isOpen=!1,h.focusIndex=0,h.$input="string"==typeof n?(0,o.default)(n):n,h.parent="string"==typeof d?(0,o.default)(d):d,h._initData(),h._initUI(),h._initEvent(),h}return a(t,e),t.prototype._initData=function(){this.entries=this.entryGetter()},t.prototype._initUI=function(){var e=this.$input.offset(),t=e.top,n=e.left,r=this.parent.offset(),i=r.top,a=r.left,s="top: "+(t-i+this.$input.outerHeight())+"px; left: "+(n-a)+"px";this.$ul=(0,o.default)('\n            <ul class="fv__autocomp-ul fv__autocomp-close" style="'+s+'"></ul>\n        '),this.parent.append(this.$ul)},t.prototype._initEvent=function(){this.bindInputEvent&&(this._unbindInputEvent=this._bindInputEvent()),this._unbindUlEvent=this._bindUlEvent()},t.prototype._bindInputEvent=function(){},t.prototype._bindUlEvent=function(){var e=this,t=function(t){e.$input.val((0,o.default)(t.target).data("text")),e.emit("select"),e.close()};return this.$ul.on("click","li",t),function(){return e.$ul.off("click","li",t)}},t.prototype.evaluate=function(){var e=this;this.$ul.empty(),this.focusIndex=0;var t=this.entries;t instanceof Promise?t.then((function(t){e.entries=t,e._displayEntries(t)})):this._displayEntries(t)},t.prototype._displayEntries=function(e){if((e=this.entrySorter(this.entryMatcher(e,this.$input.val()))).length>0){var t=[];for(var n in e){var r=e[n],i=this.focusIndex==n?"active":"";t.push((0,o.default)('<li class="fv__autocomp-li '+i+'" data-text="'+r.text+'">'+r.text+"</li>"))}this.$ul.append(t),this.open()}else this.close()},t.prototype.open=function(){this.$ul.removeClass("fv__autocomp-close"),this.$ul.addClass("fv__autocomp-open"),this.isOpen=!0},t.prototype.close=function(){this.$ul.removeClass("fv__autocomp-open"),this.$ul.addClass("fv__autocomp-close"),this.focusIndex=0,this.isOpen=!1},t.prototype.goto=function(e){if(this.isOpen){this.$ul.children().eq(this.focusIndex).removeClass("active");var t=this.$ul.children().eq(e);t.addClass("active"),this.focusIndex=e;var n=this.$ul,o=n.height(),r=n.scrollTop(),i=t.outerHeight(),a=t.position().top-n.children().first().position().top;a+i>o+r&&n.scrollTop(a+i-o),a<r&&n.scrollTop(a)}},t.prototype.next=function(){var e=this.$ul.find("li.fv__autocomp-li").length;if(this.isOpen&&this.entries&&0!==e){var t=(this.focusIndex+1)%e;this.goto(t)}},t.prototype.previous=function(){var e=this.$ul.find("li.fv__autocomp-li").length;if(this.isOpen&&this.entries&&0!==e){var t=(this.focusIndex-1)%e;t<0&&(t=e-1),this.goto(t)}},t.prototype.select=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.focusIndex;this.$input.val(this.$ul.children().eq(e).data("text"))},t.prototype.destroy=function(){this._unbindInputEvent&&this._unbindInputEvent(),this._unbindUlEvent&&this._unbindUlEvent(),this.$ul.remove()},t.prototype.setMatcher=function(e){this.entryMatcher=e},t.defaultMatcher=function(e,t){return e.filter((function(e){return e.text.startsWith(t)&&t!==e.text}))},t.defaultSorter=function(e){return e},t}(r.default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=d(n(95)),i=d(n(953)),a=n(39),s=d(n(4)),c=d(n(73)),u=n(12),l=d(n(116)),f=n(14),p=n(449);function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var g=function(e){function t(n,o,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r,i));return a.engineForm=a.parent("pdfDocRender").doc.getPDFForm(),a.$ui.addClass("form_listbox_field"),n.setRenderNotifier((function(e){return a.updateUI(e)})),a.generateHandler(1),a}return h(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this),this.$input.remove(),this.engineForm=null},t.prototype.render=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;this.scale=e,this.rotate=t;this.getTileConfig(e,t);this.updateForgroundAndHandler(e,t);var n=this.annot.getField(),o=n.getDAFontSize()*e*4/3;o||(o=16*e),o+="px";var r=4*this.annot.getBorderWidth()/3*e;this.$input.css({"font-size":o,"border-width":r+"px"});var i=this.getRect(e,t),a=i.right-i.left,s=i.bottom-i.top,c=((this.getPDFPage().getRotationAngle()+t-90*this.annot.getRotation())%360+360)%360,u="center",l=void 0,f=void 0;switch(c){case 90:case 270:l=s,f=a,u=270===c?l/2+"px "+l/2+"px":f/2+"px";break;default:l=a,f=s}this.$input.css({width:l,height:f,transform:"rotate("+c+"deg)","transform-origin":u});var p=this.$input.find(".selected");p.length>0&&(this.$input[0].scrollTop=p[0].offsetTop)},t.prototype.generateHandler=function(e){var t=this.annot.getField();if(t){var n=this.checkReadOnly(),r=4*this.annot.getBorderWidth()/3*e,a=this.annot.getMKProperty("borderColor"),c=(0,u.getTransparentOrColor)(a),l=this.annot.getMKProperty("fillColor"),f=(0,u.getTransparentOrColor)(l),p=t.getAlignment(),d=t.getOptions(),h=t.getOptions(),g=t.getValue();h.map((function(e){"object"==(void 0===e?"undefined":o(e))&&g===e.value&&(g=e.label)}));var m=this.annot.getDefaultAppearance()||{},v=(0,u.colorConvertor)(16777215&m.textColor,"#"),y=4*t.getDAFontSize()/3;y?y+="px":y="12px";var b=(0,i.default)({borderWidth:r,borderColor:c,background:f,options:d,align:p,readonly:n,value:g,color:v,fontSize:y});this.checkInvisible()&&this.$handler.hide();var w=this.$input=(0,s.default)(b);this.$handler.append(w)}},t.prototype.focus=function(){e.prototype.focus.call(this),this.lastAvailableValue=this.annot.getField().getValue()},t.prototype.handleEvent=function(e,t){var n=this,o=this.formRender,r=this.annot;if(this.checkReadOnly())e!=c.default.AnnotMouseButtonReleased&&e!=c.default.AnnotReceiveInputFocus||o.blurControl();else{var i=r.getField();if(i){if(t.isTrigger)return!1;switch(e){case c.default.AnnotMouseButtonPressed:o.focusControl(this);break;case c.default.AnnotMouseButtonReleased:if((0,s.default)(t.target).hasClass("form-field-option")){var u=(0,s.default)(t.target).index(),p=a.FieldFlag.isChoiceMultiSelect(i.getFlags())&&(f.isMac?l.default.isWinDown:l.default.isCtrlDown),d=i.getOptions(),h=d[u];p?h.selected?h.selected=!1:h.selected=!0:(d.forEach((function(e){return e.selected=!1})),h.selected=!0);var g=d.reduce((function(e,t){return t.selected&&e.push(t.value),e}),[]);p||(g=g[0]),i.setValueWithoutAction(""),o.setValue(r,g).then((function(e){i.setOptions(d,!0),n.lastAvailableValue=g}))}setTimeout((function(){var e=r.action;o.execAction("Field",e,null,r.getField())}),0)}this.performAction(e)}}},t.prototype.updateUIMore=function(e){var t=this,n=e.type,o=e.value,r=this.$input,i=this.annot.getField(),a=Promise.resolve();switch(n){case"value":var c=r.find(".form-field-option");i.getOptions().forEach((function(e,t){(0,s.default)(c.get(t)).toggleClass("selected",e.selected)}));break;case"align":return r.css("text-align",o);case"borderStyle":return r.css("border-style",o);case"clearItems":return this.updateUIMore({type:"value",value:i.getValue()}),r.find(".form-field-option").remove();case"deleteItems":this.updateUIMore({type:"value",value:i.getValue()}),r.find(".form-field-option:nth-child("+(o+1)+")").remove(),this.updateUIMore({type:"value",value:i.getValue()});break;case"insertItemAt":var l=this.annot.getField().getOptions()[o],f='<div class="form-field-option" data-val="'+l.value+'" data-index="'+o+'" style="white-space: nowrap; overflow-x: hidden;">'+(0,p.html2Escape)(l.label||"")+"</div>";r.children().length<=o?r.append(f):r.find(".form-field-option:nth-child("+(o+1)+")").before(f),this.updateUIMore({type:"value",value:i.getValue()});break;case"borderColor":r.css("border-color",(0,u.getTransparentOrColor)(o));break;case"fillColor":r.css("background-color",(0,u.getTransparentOrColor)(o));break;case"setItems":var d=this.annot.getField().getOptions().map((function(e){return'<div class="form-field-option '+(e.selected?"selected":"")+'" data-val="'+e.value+'" data-index="'+o+'" style="white-space: nowrap; overflow-x: hidden;">'+(0,p.html2Escape)(e.label||"")+"</div>"}));r.find(".form-field-option").remove(),r.append(d.join(""));break;case"textColor":r.find(".form-field-option").css("color",(0,u.getTransparentOrColor)(o))}this.formRender.usingHTML(6)||a.then((function(e){return t.annot&&t.render(t.scale,t.rotate,!0)}))},t}(r.default);t.default=g},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";var t="",n=(e=e||{}).border,r=e.borderWidth,i=e.borderColor,a=(e.position,e.background),s=e.align,c=(e.fs,e.fontSize),u=(e.fcolor,e.color),l=(e.style,e.optsClass,o.$escape),f=e.i,p=e.options,d=e.optClass,h=e.readonly;n="border-width:"+r+"px;border-style:solid;border-color:"+i+";box-sizing:border-box;",a="background-color:"+a+";outline:none;";switch(s){case 0:s="text-align:left;";break;case 1:s="text-align:center;";break;case 2:s="text-align:right;"}t+='\r\n<div class="form-field-options" style="',t+=l(n+"left:0px;top:0px;height:100%;width:100%;"+a+s+"overflow-y:auto;"+("font-size:"+c+";")+("color:"+u+";")),t+='">\r\n';for(f=0;f<p.length;f++){d="form-field-option";p[f].selected&&(d+=" selected"),h&&(d+=" readonly"),t+='\r\n<div \r\n    class="',t+=l(d),t+='" \r\n    data-val="',t+=l(p[f].value),t+='" \r\n    data-index="',t+=l(f),t+='"\r\n    style="white-space: nowrap; overflow-x: hidden;"\r\n>',t+=l(p[f].label),t+="</div>\r\n"}return t+="\r\n</div>"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=d(n(95)),i=d(n(955)),a=d(n(956)),s=n(39),c=d(n(4)),u=d(n(73)),l=n(12),f=n(449),p=d(n(21));function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var g=function(e){function t(n,o,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r,i));return a.engineForm=a.parent("pdfDocRender").doc.getPDFForm(),a.$handler.addClass("fv_combobox_field"),a.available=!0,a.genDropDownUI(1),a.genLabelUI(),a.bindDropDownUIEvent(),a}return h(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this),this.$optionsList.off("click"),this.$optionsList.remove(),this.engineForm=null,this.$optionsList=null},t.prototype.render=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;if(this.scale=t,this.rotate=o,this.available){var r=this.updateForgroundAndHandler(t,o),i=r.width,a=r.height;r.left<1&&(r.left=1);var c=this.annotsRender.pageRender.getShowHeight(),u=this.annotsRender.pageRender.getShowWidth(),l=this.annot.getDirectionRTL(),f=1===l?"right":"left";this.$optionsList.css({"text-align":f,"font-size":"16px","overflow-y":"auto"});var p=4*this.annot.getBorderWidth()/3*t,d=this.annot.getField();if(!d)return!1;var h=4*d.getDAFontSize()/3,g={"text-align":f,"font-size":h=(h?2*h:16)+"px","border-width":p+"px",padding:p+"px"},m=.3*a>20?20:.3*a;r.width<m+10?g.opacity=0:g.opacity=1,this.$textInput.css(g);var v=this.getRect(t,o),y=v.right-v.left,b=v.bottom-v.top,w=void 0,_=void 0,P=void 0,O=void 0,E=void 0,x=void 0,C=200,A=((this.getPDFPage().getRotationAngle()+o-90*this.annot.getRotation())%360+360)%360;switch(A){case 270:w=y,O=P=(_=b)/2+"px "+_/2+"px",x=v.left+w,E=v.top,C+x>=u&&(C=u-x-1);break;case 90:_=b,P=(w=y)/2+"px",O=w/2+"px -"+w/2+"px",x=v.left,E=v.top+w,x-C<=0&&(C=x-1);break;case 180:_=y,w=b,P="center",O="center top",x=v.left,(E=v.top)-C<=0&&(C=E-1);break;default:_=y,w=b,P="center",O="center",E=v.top+w,x=v.left,C+E>=c&&(C=c-E)}this.formRender.usingHTML(s.FieldType.ComboBox)&&this.$handler.css({left:v.left,top:v.top,width:_,height:w,transform:"rotate("+A+"deg)","transform-origin":P}),this.$optionsList.css({top:E,left:x,width:_,maxHeight:C,transform:"rotate("+A+"deg)","transform-origin":O}),this.$handler.find(".fwr__ui-combo-dropdown").css({"border-width":m+"px "+.6*m+"px 0",top:(w-m)/2+"px"}),this.arrowRender(p,i,a,A),!h&&this.formRender.usingHTML(s.FieldType.ComboBox)?(clearTimeout(this.autoFontSizeTimeout),this.autoFontSizeTimeout=setTimeout((function(){n.autoFontSize(n.$textInput.val(),2*m)}),200)):h+="px",this.formRender.usingHTML(s.FieldType.ComboBox)||e.prototype.render.call(this,t,o)}},t.prototype.arrowRender=function(e,t,n,o){var r=void 0,i=void 0,a=void 0,s=void 0,c=this.annot.getDirectionRTL();switch(o){case 90:a=t-2*e,r=1===c?-(20-e):a+e,i=-(t-n-e),s="100% 100%";break;case 180:a=n-2*e,r=1===c?e:t-e-20,i=e,s="50% 50%";break;case 270:a=t-2*e,r=1===c?a+e:-(20-e),i=-(a-e-20),s="0 100%";break;default:a=n-2*e,r=1===c?t-e-20:e,i=e,s="0 0"}this.$arrow.css({right:r,top:i,height:a,width:20*this.scale,"max-width":20,transform:"rotate("+o+"deg)","transform-origin":s}),this.$arrow.find(">span").css({transform:"scale("+Math.min(this.scale,1)+")","transform-origin":"-36% 0"})},t.prototype.handleEvent=function(e,t){var n=this;if(this.checkReadOnly())e!=u.default.AnnotMouseButtonReleased&&e!=u.default.AnnotReceiveInputFocus||this.formRender.blurControl();else{switch(e){case u.default.AnnotMouseButtonPressed:this.optionsMounted=this.optionsMounted||this.$handler.after(this.$optionsList),this.$optionsList.show(),this.formRender.focusControl(this);break;case u.default.AnnotMouseButtonReleased:if((0,c.default)(t.target).hasClass("form-field-option")){(0,c.default)(t.target).data("val");t.stopPropagation(),this.$optionsList.hide()}setTimeout((function(){var e=n.annot.action;n.formRender.execAction("Field",e,null,n.annot.getField())}),150)}this.performAction(e)}},t.prototype.genDropDownUI=function(e){var t=this.annot,n=this.annot.getField();if(n){var o=4*t.getBorderWidth()/3*e,r=t.getMKProperty("borderColor"),a=(0,l.colorConvertor)(r,"#");0===r&&(a="gray");var s=t.getMKProperty("fillColor"),u=(0,l.colorConvertor)(s,"#");0===s&&(u="white");var f=n.getOptions(),p=n.getValue(),d=(0,i.default)({borderWidth:o,borderColorHex:a,fillColorHex:u,background:"white",options:f,value:p});this.$optionsList=(0,c.default)(d),this.$optionsList.hide()}else this.available=!1},t.prototype.bindDropDownUIEvent=function(){var e=this;if(this.available){var t=this.formRender,n=this.annot;this.$optionsList.on("click",(function(o){var r=n.getField(),i=r.getOptions();if((0,c.default)(o.target).hasClass("form-field-option")){var a=(0,c.default)(o.target).data("val")+"";if(o.stopPropagation(),e.$optionsList.hide(),e.$optionsList.find(".selected").removeClass("selected"),(0,c.default)(o.target).addClass("selected"),!r)return;i.forEach((function(e){e.selected=!1}));var u=(0,c.default)(o.target).index();if(i[u].selected=!0,r.getFlags()&s.FieldFlag.CommitOnSelChange){if(r.getValue()===a)return;t.setValue(n,a,!1)}else e.$textInput.css("visibility","visible"),e.$handler.find(".fv__tiles-row").hide(),u<i.length&&(a=i[u].label),e.$textInput.val(a),e.$textInput.focus()}setTimeout((function(){var e=n.action;t.execAction("Field",e,null,n.getField())}),150)}))}},t.prototype.blur=function(){var t=this;this.formRender.usingHTML(s.FieldType.ComboBox)||this.$input.css("visibility","hidden"),this.$arrow.css("visibility","visible");var n=this.formRender,o=this.annot;this.$optionsList.hide();var r=(0,p.default)();if(this.$textInput.length>0){var i=this.$textInput.val();setTimeout((function(){var e=o.getField();if(e){var a=i,c=e.getFlags();if(!(s.FieldFlag.ComboEdit&c))e.getOptions().forEach((function(e){e.label==i&&(a=e.value)}));n.setValue(o,a).then((function(){t.$handler.find(".fv__tiles-row").show(),r.resolve(!1)}))}}),0)}return e.prototype.blur.call(this),r.promise},t.prototype.focus=function(){var t=this;e.prototype.focus.call(this);var n=this.annot.getField();if(n){var o=n.getValue(),r=o;n.getOptions().forEach((function(e){o==e.value+""&&(r=e.label)})),this.$textInput.val(r),setTimeout((function(){s.FieldFlag.isComboEdit(n.getFlags())?(t.$textInput.css("visibility","visible").prop("readonly",!1),t.$handler.find(".fv__tiles-row").hide(),t.$textInput.focus()):(t.$textInput.css("visibility","hidden").prop("readonly",!0),t.$handler.find(".fv__tiles-row").show())}),10)}},t.prototype.genLabelUI=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,n=this.annot,o=n.getField();if(!o)return!1;var r=(0,a.default)(this.getStyle(e,t)),i=this.$input=(0,c.default)(r);return this.$foreground.after(i),this.$textInput=this.$handler.find("input"),this.formRender.usingHTML(s.FieldType.ComboBox)||this.$input.css("visibility","hidden"),this.$arrow=this.$handler.find(".fwr__ui-combo-arrow"),this.$arrow.css("visibility","visible"),!0},t.prototype.updateUIMore=function(t){var n=this,o=t.type,r=t.value,i=this.$textInput,a=this.$optionsList,p=this.annot.getField();if(p&&2!=(2&this.annot.info.flag)){var d=1===this.annot.getDirectionRTL()?"right":"left",h=Promise.resolve();switch(o){case"value":h.then((function(e){var t=p.getAction(u.default.FieldWillFormat);if(0!=p.getValue().length&&t)n.formRender.execAction("Field",t,null,p,u.default.FieldWillFormat)})),i.val(r),a.find(".selected").removeClass("selected"),a.find(".form-field-option").each((function(e,t){(0,c.default)(t).css("text-align",d),(0,c.default)(t).attr("data-val")===r&&(0,c.default)(t).addClass("selected")}));break;case"displayValue":h=p.setDisplayValue(r),i.val(r);break;case"align":i.css("text-align",r),a.css("text-align",r),this.render(this.scale,this.rotate,!0);break;case"borderStyle":i.css("border-style",r);break;case"borderColor":i.css("border-color",(0,l.getTransparentOrColor)(r));break;case"borderWidth":case"orientation":this.render(this.scale,this.rotate,!0);break;case"fillColor":this.$input.find(".textCombContainer").css("background-color",(0,l.getTransparentOrColor)(r)),i.css("background-color",(0,l.getTransparentOrColor)(r));break;case"readonly":r?(this.$foreground.hide().addClass("form-field-readonly").css("visibility","hidden"),i.attr("readonly",!0)):(this.$foreground.show().removeClass("form-field-readonly").css("visibility","visible"),i.removeAttr("readonly"));break;case"clearItems":a.find(".form-field-option").remove(),this.updateUIMore({type:"value",value:p.getValue()});break;case"deleteItems":a.find(".form-field-option:nth-child("+(r+1)+")").remove(),this.updateUIMore({type:"value",value:p.getValue()});break;case"insertItemAt":var g=this.annot.getField().getOptions(),m="";g.forEach((function(e,t){m+='<div class="form-field-option '+(e.selected?"selected":"")+'" data-val="'+e.value+'" data-index="'+t+'" style="white-space: nowrap; overflow-x: hidden;">'+(0,f.html2Escape)(e.label||"")+"</div>"})),a.empty().append(m),this.updateUIMore({type:"value",value:p.getValue()});break;case"setItems":var v=this.annot.getField().getOptions().map((function(e){return'<div class="form-field-option '+(e.selected?"selected":"")+'" data-val="'+e.value+'" data-index="'+r+'" style="white-space: nowrap; overflow-x: hidden;">'+(0,f.html2Escape)(e.label||"")+"</div>"}));a.find(".form-field-option").remove(),a.append(v.join(""));break;case"rect":this.render(this.scale,this.rotate,!0)}this.formRender.usingHTML(s.FieldType.ComboBox)||h.then((function(t){return e.prototype.render.call(n,n.scale,n.rotate,!0)}))}},t.prototype.getStyle=function(e,t){var n=this.annot,r=n.getField();if(!r)return!1;var i=this.checkReadOnly(),a=4*n.getBorderWidth()/3*e,c=n.getMKProperty("borderColor"),u=(0,l.getTransparentOrColor)(c),f=n.getMKProperty("fillColor"),p=(0,l.getTransparentOrColor)(f),d=r.getAlignment(),h=!this.checkInvisible(),g=(0,l.colorConvertor)(16777215&r.getDAFontColor(),"#"),m=4*r.getDAFontSize()/3;m=(m||16)+"px";var v=s.FieldFlag.isComboEdit(r.getFlags()),y=r.getOptions(),b=r.getValue();return y.map((function(e){"object"==(void 0===e?"undefined":o(e))&&b===e.value&&(b=e.label)})),{comboEditable:v,borderWidth:a,borderColor:u,background:p,readonly:i,align:d,value:b,maxLength:r.getMaxLength(),visible:h,color:g,fontSize:m}},t.prototype.updateSize=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return this.render(e,t)},t}(r.default);t.default=g},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";var t="",n=(e=e||{}).border,r=e.borderWidth,i=e.borderColorHex,a=(e.position,e.background),s=e.align,c=(e.style,o.$escape),u=e.i,l=e.options,f=e.optClass;n="border:"+r+"px solid "+i+";box-sizing:border-box;",a="background-color:"+a+";outline:none;";switch(s){case 0:s="text-align:left;";break;case 1:s="text-align:center;";break;case 2:s="text-align:right;"}t+='\r\n<div class="checkbox form-field-options" style="',t+=c(n+"left:0px;top:100%;max-height:200px;width:100%;position:absolute;"+a+s+"overflow-y:auto"),t+='">\r\n    ';for(u=0;u<l.length;u++){f="form-field-option";l[u].selected&&(f+=" selected"),t+='\r\n    <div \r\n        class="',t+=c(f),t+='" \r\n        data-val="',t+=c(l[u].value),t+='" \r\n        data-index="',t+=c(u),t+='"\r\n        style="white-space: nowrap; overflow-x: hidden;"\r\n    >',t+=c(l[u].label),t+="</div>\r\n    "}return t+="\r\n</div>"}},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";var t="",n=(e=e||{}).border,r=e.borderWidth,i=e.borderColor,a=(e.position,e.background),s=e.align,c=(e.readonlyAttr,e.readonly),u=e.comboEditable,l=(e.cursor,e.fs,e.fontSize),f=(e.fcolor,e.color),p=e.style,d=e.dropButtonDisplay,h=o.$escape,g=e.value;n="border:"+r+"px solid "+i+";box-sizing:border-box;",a="background-color:"+a+";outline:none;";switch(s){case 0:s="text-align:left;";break;case 1:s="text-align:center;";break;case 2:s="text-align:right;"}p=n+"left:0px;top:0px;height:100%;width:100%;position:absolute;"+a+s+("font-size:"+l+";")+("color:"+f+";")+(u?"":"cursor:pointer;"),d=c?"display:none":"display:block";return t+='\r\n<input class="fwr__ui-combo-input" ',t+=h(c||!u?"readonly":""),t+=' style="',t+=h(p),t+='" value="',t+=h(g),t+='"/>\r\n<div class="fwr__ui-combo-dropdown" style="',t+=h(d),t+='"></div>\r\n<div class="fwr__ui-combo-arrow"><span /></div>'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=c(n(95)),r=c(n(73)),i=c(n(1)),a=c(n(4)),s=n(958);function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=void 0,f=(0,s.getTextFieldContextMenu)(".fv__pdf-page-annot-handler-rect"),p=function(e){function t(n,o,r,i){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r,i))}return u(t,e),t.getDefaultContextMenuConfig=function(){return f},t.setContextMenuConfig=function(e){l=e},t.getContextMenuConfig=function(){return l},t.prototype.getControlContext=function(){return this.contextMenu?this.contextMenu:this.contextMenu=this.pdfViewer.viewerUI.createContextMenu(this,this.$ui.get(0),this.getContextMenuConfig())},t.prototype.getContextMenuConfig=function(){var e=this.constructor,t=e.getContextMenuConfig();if(t)return t;var n=e.getDefaultContextMenuConfig();for(var o in n)switch(o){case"items":var r=n[o],i=this.pdfViewer.i18n;for(var a in r){var s=r[a];s.nameI18nKey&&(s.name=i.t(s.nameI18nKey))}}return e.setContextMenuConfig(n),n},t.prototype.showContextMenu=function(e,t){var n=void 0;(n=this.contextMenu)&&(n.setCurrentTarget(this),n.showAt(e,t))},t.prototype.getContextMenuComponentName=function(){return"field-signature-contextmenu"},t.prototype.handleEvent=function(t,n){var o=e.prototype.handleEvent.call(this,t,n);if(o)return o;switch(t){case"contextmenu":if(n.preventDefault(),this.checkReadOnly())return;this.contextMenu||(this.contextMenu=this.getControlContext(this));var a=void 0;return(a=this.contextMenu)&&(a.setCurrentTarget(this),this.handleContextMenu(a),a.showAt(n.clientX,n.clientY)),!1;case r.default.AnnotMouseButtonPressed:0==n.button&&this.pdfViewer.eventEmitter.emit(i.default.signatureFieldMouseLButtonDown,this.annot);break;case r.default.AnnotMouseButtonReleased:0==n.button&&this.pdfViewer.eventEmitter.emit(i.default.signatureFieldMouseLButtonUp,this.annot);break;case r.default.AnnotCursorEnter:this.pdfViewer.eventEmitter.emit(i.default.signatureFieldMouseEnter,this.annot);break;case r.default.AnnotCursorExit:this.pdfViewer.eventEmitter.emit(i.default.signatureFieldMouseExit,this.annot)}},t.prototype.render=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e.prototype.render.call(this,t,n,o)},t.prototype.focus=function(){var e=this;setTimeout((function(){e.$handler.addClass("fv__control_focus")}),50);var t=this.annot.getField(),n=this.annot.getAdditionalAction(r.default.AnnotReceiveInputFocus);n&&this.formRender.execAction("Field",n,null,t)},t.prototype.handleContextMenu=function(e){var t=this.annot.getField().isSigned(),n=e.contextMenuComponent.$container.$children;t?n.forEach((function(e){return(0,a.default)(e.element).show()})):n.forEach((function(e){var t=(0,a.default)(e.element);"fv--contextmenu-item-form-sign"==t.attr("name")?t.show():t.hide()}))},t}(o.default);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={sign:{name:"Sign",nameI18nKey:"viewer_:contextmenu.annot.sign",callback:function(e,t,n,o){this.data("annotComponent").sign(e,t,n,o)},show:function(){return this.data("annotComponent").updateDeleteStatus(!0),!0},hide:function(){return this.data("annotComponent").updateDeleteStatus(!1),!0}},properties:{name:"properties",nameI18nKey:"viewer_:contextmenu.annot.properties",callback:function(e,t,n,o){this.data("annotComponent").showPropertiesDialog(e,t,n,o)}},remove:{name:"delete",nameI18nKey:"viewer_:contextmenu.annot.delete",callback:function(){this.data("annotComponent").removeAnnot()},disabled:function(){return this.data("annotComponent").deleteDisabled()}}};t.getTextFieldContextMenu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-handler-rect";return{selector:e,items:o,events:{show:function(){return this.data("annotComponent").updateDeleteStatus(!0),!0},hide:function(){return this.data("annotComponent").updateDeleteStatus(!1),!0}}}},t.defaultAnnotComponentKey="annotComponent"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=c(n(95)),r=n(12),i=c(n(73)),a=c(n(4)),s=(c(n(1)),n(39));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l="normalCaption",f=function(e){function t(n,o,r,i){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r,i))}return u(t,e),t.prototype.generateUI=function(){var e=this.$input=(0,a.default)("<div></div>"),t=this.annot,n=t.getDefaultAppearance(),o=(0,r.colorConvertor)(n.textColor||4278190080,"#"),i=t.getMKProperty(l),s=(0,r.getTransparentOrColor)(t.getMKProperty("fillColor")),c=(0,r.getTransparentOrColor)(this.annot.getMKProperty("borderColor")),u=0===this.annot.getBorderStyle()?"solid":"dashed";e.css({color:o,fontSize:5,"background-color":s,borderWidth:1,borderColor:c,textAlign:"center",borderStyle:u}).html(i),this.$foreground.before(e),e.hide()},t.prototype.updateSize=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;this.render(e,t)},t.prototype.updateUIMore=function(t){var n=t.type,o=t.value,i=this.$input;if(!i)return e.prototype.updateUIMore.call(this,{type:n,value:o});switch(n){case"borderStyle":i.css("border-style",o);break;case"borderColor":o=(0,r.getTransparentOrColor)(o),i.css("border-color",o);break;case"fillColor":i.css("background-color",(0,r.getTransparentOrColor)(o));break;case l:i.html(o);break;case"rect":var a=this.updateForgroundAndHandler(this.scale||this.parent("annotsRender").scale,this.rotate);i.css(a)}},t.prototype.render=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!r&&t==this.scale&&o==this.rotate)return Promise.resolve();if(this.scale=t,this.rotate=o,!this.formRender.usingHTML(s.FieldType.PushButton))return e.prototype.render.call(this,t,o,r);this.$input||this.generateUI();var i=this.annot,a=this.updateForgroundAndHandler(t,o);a.borderWidth=4*i.getBorderWidth()/3*t,a.width="100%",a.height="100%",a.lineHeight="100%";var c=i.getDefaultAppearance();return c.textSize?(a.fontSize=4*c.textSize/3*t,this.$input.css(a).show()):setTimeout((function(){n.annot&&n.autoFontSize(n.annot.getMKProperty(l)+"pend"),n.$input&&n.$input.css(a).show()}),0),Promise.resolve()},t.prototype.handleEvent=function(t,n){if(!this.checkReadOnly()){var o=void 0;switch(t){case i.default.AnnotCursorEnter:0==(o=this.annot.getMKProperty("rolloverCaption")).length&&(o=this.annot.getMKProperty(l));break;case i.default.AnnotMouseButtonPressed:0==(o=this.annot.getMKProperty("downCaption")).length&&(o=this.annot.getMKProperty("rolloverCaption")),0==o.length&&(o=this.annot.getMKProperty(l));break;case i.default.AnnotMouseButtonReleased:0==(o=this.pdfViewer.getCurrentActivatable()==this?this.annot.getMKProperty("rolloverCaption"):this.annot.getMKProperty(l)).length&&(o=this.annot.getMKProperty(l));break;case i.default.AnnotCursorExit:o=this.annot.getMKProperty(l)}this.$input&&this.$input.html(o)}return e.prototype.handleEvent.call(this,t,n)},t}(o.default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(n(95)),r=n(12),i=u(n(73)),a=u(n(4)),s=n(450),c=(u(n(1)),n(39));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var f=void 0,p=(0,s.getFieldEditContextMenu)(".fv__pdf-page-annot-handler-rect"),d="normalCaption",h=function(e){function t(n,o,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r,i));return a.generateUI(),a}return l(t,e),t.getDefaultContextMenuConfig=function(){return p},t.setContextMenuConfig=function(e){f=e},t.getContextMenuConfig=function(){return f},t.prototype.generateUI=function(){var e=this.$input=(0,a.default)("<div></div>"),t=this.annot,n=t.getDefaultAppearance();if(""==t.getMKProperty("normalCaption").trim()){var o=t.getField();2==o.getType()?o.setMKProperty("normalCaption","4"):o.setMKProperty("normalCaption","l")}var i=(0,r.colorConvertor)(n.textColor||4278190080,"#"),s=t.getMKProperty(d),c=(0,r.getTransparentOrColor)(t.getMKProperty("fillColor")),u=(0,r.getTransparentOrColor)(this.annot.getMKProperty("borderColor")),l=0===this.annot.getBorderStyle()?"solid":"dashed";e.css({color:i,fontSize:5,"background-color":c,borderWidth:1,borderColor:u,textAlign:"center",borderStyle:l}).html(s),this.$foreground.before(e),e.hide()},t.prototype.updateSize=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;this.render(e,t)},t.prototype.updateUIMore=function(t){t.type,t.value;e.prototype.render.call(this,this.scale,this.rotate,!0)},t.prototype.render=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;this.annot;return this.scale=t,this.rotate=n,this.formRender.usingHTML(c.FieldType.PushButton)?Promise.resolve():e.prototype.render.call(this,t,n)},t.prototype.handleEvent=function(t,n){if(!this.checkReadOnly()){var o=void 0;switch(t){case i.default.AnnotCursorEnter:0==(o=this.annot.getMKProperty("rolloverCaption")).length&&(o=this.annot.getMKProperty(d));break;case i.default.AnnotMouseButtonPressed:0==(o=this.annot.getMKProperty("downCaption")).length&&(o=this.annot.getMKProperty("rolloverCaption")),0==o.length&&(o=this.annot.getMKProperty(d));break;case i.default.AnnotMouseButtonReleased:0==(o=this.pdfViewer.getCurrentActivatable()==this?this.annot.getMKProperty("rolloverCaption"):this.annot.getMKProperty(d)).length&&(o=this.annot.getMKProperty(d));break;case i.default.AnnotCursorExit:o=this.annot.getMKProperty(d)}}return e.prototype.handleEvent.call(this,t,n)},t}(o.default);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(n(95)),r=n(12),i=u(n(73)),a=u(n(4)),s=n(450),c=(u(n(1)),n(39));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var f=void 0,p=(0,s.getFieldEditContextMenu)(".fv__pdf-page-annot-handler-rect"),d="normalCaption",h=function(e){function t(n,o,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r,i));return a.generateUI(),a}return l(t,e),t.getDefaultContextMenuConfig=function(){return p},t.setContextMenuConfig=function(e){f=e},t.getContextMenuConfig=function(){return f},t.prototype.generateUI=function(){var e=this.$input=(0,a.default)("<div></div>"),t=this.annot,n=t.getDefaultAppearance();if(""==t.getMKProperty("normalCaption").trim()){var o=t.getField();2==o.getType()?o.setMKProperty("normalCaption","4"):o.setMKProperty("normalCaption","l")}var i=(0,r.colorConvertor)(n.textColor||4278190080,"#"),s=t.getMKProperty(d),c=(0,r.getTransparentOrColor)(t.getMKProperty("fillColor")),u=(0,r.getTransparentOrColor)(this.annot.getMKProperty("borderColor")),l=0===this.annot.getBorderStyle()?"solid":"dashed";return e.css({color:i,fontSize:5,"background-color":c,borderWidth:1,borderColor:u,textAlign:"center",borderStyle:l}).html(s),this.$foreground.before(e),e.hide(),!0},t.prototype.updateSize=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;this.render(e,t)},t.prototype.updateUIMore=function(t){t.type,t.value;e.prototype.render.call(this,this.scale,this.rotate,!0)},t.prototype.render=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;this.annot;return this.scale=t,this.rotate=n,this.formRender.usingHTML(c.FieldType.PushButton)?Promise.resolve():e.prototype.render.call(this,t,n)},t.prototype.handleEvent=function(t,n){if(!this.checkReadOnly()){var o=void 0;switch(t){case i.default.AnnotCursorEnter:0==(o=this.annot.getMKProperty("rolloverCaption")).length&&(o=this.annot.getMKProperty(d));break;case i.default.AnnotMouseButtonPressed:0==(o=this.annot.getMKProperty("downCaption")).length&&(o=this.annot.getMKProperty("rolloverCaption")),0==o.length&&(o=this.annot.getMKProperty(d));break;case i.default.AnnotMouseButtonReleased:0==(o=this.pdfViewer.getCurrentActivatable()==this?this.annot.getMKProperty("rolloverCaption"):this.annot.getMKProperty(d)).length&&(o=this.annot.getMKProperty(d));break;case i.default.AnnotCursorExit:o=this.annot.getMKProperty(d)}}return e.prototype.handleEvent.call(this,t,n)},t}(o.default);t.default=h},function(e,t,n){"use strict";n.r(t);var o,r=n(95),i=n.n(r),a=n(599),s=n.n(a),c=n(600),u=n.n(c),l=n(601),f=n.n(l),p=n(602),d=n.n(p),h=n(603),g=n.n(h),m=n(604),v=n.n(m),y=n(12),b=n(4),w=n(39),_=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function P(e,t,n){var o=E("8",t,n);e.attr("src",o)}var O={};function E(e,t,n){void 0===n&&(n=0);var o,r=e+t+n;if(r in O)return O[r];switch(e){default:case"4":o=s()({fillColor:t});break;case"8":o=u()({fillColor:t,small:n});break;case"u":o=f()({fillColor:t});break;case"n":o=d()({fillColor:t});break;case"l":o=g()({fillColor:t});break;case"H":o=v()({fillColor:t})}return o=URL.createObjectURL(new Blob([o],{type:"image/svg+xml"})),O[r]=o}var x=function(e){function t(t,n,o,r){var a=this;return"canvas"!=r.pdfViewer.config.annotRenderingMode.choiceButton?new i.a(t,n,o,r):((a=e.call(this,t,n,o,r)||this).generateUI(),a)}return _(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this),this.$input.attr("src",""),this.$input.remove()},t.prototype.generateUI=function(){var e,t=this.$handler;this.$input?e=this.$input:(e=b("<div class='fv_choice_border'></div><img  class='fv_choice_icon'/>"),this.$foreground.before(e),this.$border=t.find(".fv_choice_border"),this.$input=t.find("img"),(e=this.$input).hide());var n=this.annot.getDefaultAppearance(),o=Object(y.colorConvertor)(n.textColor||4278190080),r=this.annot.getMKProperty("normalCaption");r&&""!=r||(2==this.annot.getField().getType()?(this.annot.setMKProperty("normalCaption","4"),r="4"):(this.annot.setMKProperty("normalCaption","l"),r="l"));var i=E(r,o,0);e.attr("src",i);var a,s=this.annot.getMKProperty("fillColor"),c=this.annot.getMKProperty("borderColor");switch(c=0===c?"transparent":Object(y.colorConvertor)(16777215&c,"#"),this.annot.getBorderInfo().style){default:case 0:a="solid";break;case 1:a="dashed"}this.$border.css({"border-color":c,"border-style":a,background:0==s?"transparent":Object(y.colorConvertor)(s,"#")}),this.render(this.annotsRender.pageRender.scale,0)},t.prototype.updateUIMore=function(e){var t=e.type,n=e.value,o=this.$border,r=this.$input;switch(t){case"value":"Off"==this.annot.getAS()?r.hide():r.show();break;case"borderStyle":o.css("border-style",n);break;case"borderColor":n=0===n?"transparent":Object(y.colorConvertor)(16777215&n,"#"),o.css("border-color",n);break;case"fillColor":o.css("background-color",0===n?"transparent":Object(y.colorConvertor)(16777215&n,"#"));break;case"display":this.render(this.scale,this.rotate,!0);break;case"hidden":n?this.$input.hide():this.$input.show()}},t.prototype.updateSize=function(e,t){void 0===e&&(e=this.scale),void 0===t&&(t=this.rotate),this.render(e,t)},t.prototype.render=function(e,t,n){void 0===e&&(e=this.scale),void 0===t&&(t=this.rotate),void 0===n&&(n=!1),this.scale=e,this.rotate=t;var o=this.annot;if(this.checkInvisible()||o.isEmpty()||o.isDeleted()||o.rectIsEmpty())return this.$handler.hide(),this.$input.hide(),Promise.resolve();var r=this.$input,i=this.updateForgroundAndHandler(e,t);"8"==o.getMKProperty("normalCaption")&&(i.width<20?P(this.$input,Object(y.colorConvertor)(this.annot.info.DA.textColor||4278190080),1):P(this.$input,Object(y.colorConvertor)(this.annot.info.DA.textColor||4278190080),0));var a=i.width-i.height;o.getField().getType()==w.FieldType.RadioButton&&"l"==this.annot.info.normalCaption?(i["border-radius"]="50%",a<0?(i.top+=a/-2,i.height=i.width,i["margin-top"]=a/-2,i["margin-left"]=0):(i.left+=a/2,i.width=i.height,i["margin-top"]=0,i["margin-left"]=a/2),a=0):(i["border-radius"]=0,i["margin-top"]=0,i["margin-left"]=0),i.borderWidth=4*this.annot.getBorderWidth()/3*e,this.$border.css(i),"Off"==this.annot.getAS()?r.hide():r.show();var s=((this.getPDFPage().getRotationAngle()+t-90*this.annot.getRotation())%360+360)%360;return r.css({transform:"rotate("+s+"deg)"}),Promise.resolve()},t}(i.a);t.default=x},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={properties:{name:"properties",nameI18nKey:"viewer_:contextmenu.annot.properties",callback:function(e,t,n){this.data("annotComponent").showPropertiesDialog(e,t,n)}},actions:{name:"actions",nameI18nKey:"viewer_:contextmenu.annot.actions",callback:function(){this.data("annotComponent").showActionsDialog()},disabled:function(){return this.data("annotComponent").readOnlyDisabled()}},remove:{name:"delete",nameI18nKey:"viewer_:contextmenu.annot.delete",callback:function(){this.data("annotComponent").removeAnnot()},disabled:function(){return this.data("annotComponent").deleteDisabled()}}},r={properties:o.properties,download:{name:"download",nameI18nKey:"viewer_:contextmenu.annot.download",callback:function(){this.data("annotComponent").download()},disabled:function(){return this.data("annotComponent").readOnlyDisabled()}},remove:o.remove};t.getImageContextMenu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-handler-rect";return{selector:e,items:o,events:{show:function(){return this.data("annotComponent").updateDeleteStatus(!0),!0},hide:function(){return this.data("annotComponent").updateDeleteStatus(!1),!0}}}},t.getMultiMediaContextMenu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-handler-rect";return{selector:e,items:r,events:{show:function(){return this.data("annotComponent").updateDeleteStatus(!0),!0},hide:function(){return this.data("annotComponent").updateDeleteStatus(!1),!0}}}},t.defaultAnnotComponentKey="annotComponent"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(82)),r=n(33),i=a(n(117));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=function(e){function t(n,o,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r,i));return a.$ui.addClass("fv__pdf-page-watermark-annot-container"),a}return c(t,e),t.prototype.getTileConfig=function(e,t){var n=this.pdfViewer,o=n.getSmartScale(e),r=n.config.tileSize,i=this.annot,a=i.getDeviceRect(1,t),s=i.getDeviceRect(o,t),c=s.right-s.left,u=s.bottom-s.top;return[Math.ceil(u/r),Math.ceil(c/r),c,u,r,o,e,t,a.left,a.top]},t.prototype.render=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,a=arguments[2],c=this.annot;if(this.scale=t,this.rotate=o,c.isEmpty()||c.isDeleted()||c.rectIsEmpty())return this.renderDestroy(),Promise.resolve();var u=this.tileCanvas,l=c.getBorderWidth();if(!l)return u&&u.hideContainer(),Promise.resolve();var f=this.getTileConfig(t,o);return u||(u=this.tileCanvas=new i.default((function(e,t,o,i,a,s,u,l){return n.getPDFPage().getAnnotBitmap(c.getId(),(0,r.pt2px)(s),n.rotate,{x:u*s+t*a,y:l*s+e*a,width:o,height:i})}),this.$ui)),u.setVisibleRect(a),u.showContainer(),(e=u).redraw.apply(e,s(f))},t}(o.default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={play:{name:"play",nameI18nKey:"viewer_:contextmenu.annot.play",callback:function(){this.data("annotComponent")},disabled:function(){return this.data("annotComponent").readOnlyDisabled()}},pause:{name:"pause",nameI18nKey:"viewer_:contextmenu.annot.pause",callback:function(){this.data("annotComponent")},disabled:function(){return this.data("annotComponent").readOnlyDisabled()}},remove:{name:"delete",nameI18nKey:"viewer_:contextmenu.annot.delete",callback:function(){this.data("annotComponent").removeAnnot()},disabled:function(){return this.data("annotComponent").deleteDisabled()}}};t.getSoundContextMenu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-handler-rect";return{selector:e,items:o,events:{show:function(){return this.data("annotComponent").updateDeleteStatus(!0),!0},hide:function(){return this.data("annotComponent").updateDeleteStatus(!1),!0}}}},t.defaultAnnotComponentKey="annotComponent"},function(e,t,n){"use strict";function o(e,t,n){for(var o=0;o<n.length;o++,t++){var r=n[o];e.setInt8(t,r)}}function r(e,t,n){for(var o=0;o<n.length;o++)e.setUint8(t+o,n.charCodeAt(o))}Object.defineProperty(t,"__esModule",{value:!0}),t.encodeWAV=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments[2],i=arguments[3],a=new ArrayBuffer(44+e.length),s=new DataView(a);return r(s,0,"RIFF"),s.setUint32(4,36+e.length,!0),r(s,8,"WAVE"),r(s,12,"fmt "),s.setUint32(16,16,!0),s.setUint16(20,1,!0),s.setUint16(22,t,!0),s.setUint32(24,n,!0),s.setUint32(28,n*t,!0),s.setUint16(32,t,!0),s.setUint16(34,i,!0),r(s,36,"data"),s.setUint32(40,e.length,!0),o(s,44,e),s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=h(n(93)),r=h(n(968)),i=h(n(970)),a=h(n(972)),s=h(n(973)),c=h(n(974)),u=h(n(975)),l=h(n(976)),f=h(n(977)),p=h(n(978)),d=h(n(979));function h(e){return e&&e.__esModule?e:{default:e}}var g=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pdfViewer=t,this.actionOptions=t.actionOptions;var n=this.actionOptions.remoteGotoActionInit;n&&n()}return e.prototype.get=function(e,t){switch(e&&e.getType()||null){case"TypeURI":return new r.default(e,t);case"TypeLaunch":return new i.default(e,t);case"TypeNamed":return new a.default(e,t);case"TypeJavaScript":return new s.default(e,t);case"TypeSubmitForm":return new c.default(e,t);case"TypeResetForm":return new u.default(e,t);case"TypeImportData":return new l.default(e,t);case"TypeHide":return new p.default(e,t);case"TypeGoto":return new f.default(e,t);case"TypeGoToR":return new d.default(e,t);default:return new o.default(e,t)}},e}();t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(93)),r=a(n(30)),i=a(n(454));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(n,o){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o))}return s(t,e),t.prototype.active=function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.default,o=this.annot.pdfViewer,a=o.customs;Promise.resolve((a.URIActionCallback||r.default)(this.getURI())).then((function(e){if(!1!==e){var r=t.getURI();if(/\w*:\/\/[\s\S]*/.test(r)){if("file"===r.match(/(\w*):\/+[\s\S]*/)[0])return}else r="http://"+r;if(o.getSafeReadingMode()){var a=r.lastIndexOf("@"),s=r;if(-1!=a){s=r.substr(a+1);var c=r.indexOf("//");-1!=c&&(s=r.substr(0,c+2)+s)}var u=o.i18n.t("viewer_:pdfjs.launchURLHint");return o.viewerUI.confirm(u+"\n"+i.default.toASCII(s)).then((function(){window.open(r),n(!0)}),(function(){return n(!1)}))}window.open(r)}})),e.prototype.active.call(this)},t.prototype.getURI=function(){return this.action.getURI()},t.prototype.setURI=function(e){return this.action.setURI(e)},t}(o.default);t.default=c},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(93)),r=a(n(971)),i=a(n(30));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o));return i.fileSpec=i.getFileSpec()&&new r.default(i.getFileSpec())||null,i}return s(t,e),t.prototype.active=function(){var t=this.annot.pdfViewer.customs;Promise.resolve((t.launchActionCallback||i.default)(this.getFileSpec())).then((function(e){})),e.prototype.active.call(this)},t.prototype.getFileSpec=function(){return this.action.getFileSpec()},t}(o.default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.fileSpec=t}return e.prototype.getChecksum=function(){return this.fileSpec.getChecksum()},e.prototype.getCreationDateTime=function(){return this.fileSpec.getCreationDateTime()},e.prototype.getDescription=function(){return this.fileSpec.getDescription()},e.prototype.getDict=function(){return this.fileSpec.dict},e.prototype.getFileData=function(){return this.fileSpec.fileData},e.prototype.getFileName=function(){return this.fileSpec.getFileName()},e.prototype.getFileSize=function(){return this.fileSpec.fileSize},e.prototype.getModifiedDateTime=function(){return this.fileSpec.modifiedDateTime},e.prototype.getSubtype=function(){return this.fileSpec.subtype},e.prototype.isEmbedded=function(){return this.fileSpec.isEmbedded},e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(93)),r=i(n(30));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var s=function(e){function t(n,o){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o))}return a(t,e),t.prototype.active=function(){var t=this,n=this.annot.pdfViewer.customs;Promise.resolve((n.namedActionCallback||r.default)(this.getName())).then((function(e){if(!1!==e){var n=t.pdfViewer.getPDFDocRender();switch(t.getName()){case"NextPage":n.nextPage();break;case"PrevPage":n.prevPage();break;case"FirstPage":n.goToPage(0,{x:0,y:0});break;case"LastPage":var o=n.doc.getPageCount();n.goToPage(o-1,{x:0,y:0})}}})),e.prototype.active.call(this)},t.prototype.setActionData=function(e){return this.action.setActionData(e)},t.prototype.getName=function(){return this.action.getName()},t}(o.default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(93)),r=i(n(30));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var s=function(e){function t(n,o){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o))}return a(t,e),t.prototype.active=function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=this.annot.pdfViewer.JSEngine,i=void 0,a=this.annot.pdfViewer.customs;return o.getEnableJS()?n?Promise.resolve((a.javascriptActionCallback||r.default)(this.getScript())).then((function(e){if(!1!==e){o.initEvent(t.getType(),t.source,t.target,t.name);var n=t.getScript();i=o.exec(n)}})):!1!==(i=(a.javascriptActionCallback||r.default)(this.getScript()))&&(o.initEvent(this.getType(),this.source,this.target,this.name,this.param),i=o.exec(this.getScript())):((a.javascriptDisabledActionCallback||r.default)(),i={rc:!0}),e.prototype.active.call(this),i},t.prototype.setTypeName=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.type=e,this.name=t},t.prototype.getType=function(){return this.type},t.prototype.executeScript=function(){var e=this.annot.pdfViewer.JSEngine,t=this.getScript();if("string"==typeof t&&t.trim().length>0)return e.exec(t)},t.prototype.getScript=function(){return this.action.getScript()},t.prototype.setScript=function(e){return this.action.setScript(e)},t.prototype.setParam=function(e){this.param=e},t}(o.default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(93)),r=i(n(30));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var s=function(e){function t(n,o){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o))}return a(t,e),t.prototype.active=function(){var t=this,n=this.annot.pdfViewer.customs;Promise.resolve((n.submitFormActionCallback||r.default)({flags:this.getFlags(),url:this.getURL(),fieldNames:this.getFieldNames()})).then((function(e){if(!1!==e&&-1===t.action.getURL().indexOf("mail"))if(t.annot.pdfViewer.getSafeReadingMode()){if(!n.submitFormActionCallback){var o=t.pdfViewer.i18n.t("viewer_:pdfjs.safeModeSubmit",{URL:t.getURL(),interpolation:{escapeValue:!1}});if(!confirm(o))return}t.pdfViewer.getCurrentPDFDoc().getPDFForm().submitForm(t.getURL(),t.getFieldNames(),t.getFlags())}else t.pdfViewer.getCurrentPDFDoc().getPDFForm().submitForm(t.getURL(),t.getFieldNames(),t.getFlags())})),e.prototype.active.call(this)},t.prototype.setActionData=function(e){return this.action.setActionData(e)},t.prototype.getFlags=function(){return this.action.getFlags()},t.prototype.getURL=function(){return this.action.getURL()},t.prototype.getFieldNames=function(){return this.action.getFieldNames()},t}(o.default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(93)),r=i(n(30));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var s=function(e){function t(n,o){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o))}return a(t,e),t.prototype.active=function(){var t=this,n=this.annot.pdfViewer.customs;Promise.resolve((n.resetFormActionCallback||r.default)(this.getFlags(),this.getFieldNames())).then((function(e){!1!==e&&t.annot.pdfViewer.pdfViewerRender.pdfDocRender.doc.getPDFForm().resetForm(t.getFieldNames(),t.getFlags(),t.source)})),e.prototype.active.call(this)},t.prototype.setActionData=function(e){return this.action.setActionData(e)},t.prototype.getFlags=function(){return this.action.getFlags()},t.prototype.getFieldNames=function(){return this.action.getFieldNames()},t}(o.default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(93)),r=i(n(30));i(n(4));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var s=function(e){function t(n,o){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o))}return a(t,e),t.prototype.active=function(){var t=this.annot.pdfViewer.customs;Promise.resolve((t.importDataActionCallback||r.default)(this.getFileSpec())).then((function(e){})),e.prototype.active.call(this)},t.prototype.getFileSpec=function(){return this.action.getFileSpec()},t}(o.default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(93)),r=i(n(30));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var s=function(e){function t(n,o){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o))}return a(t,e),t.prototype.active=function(){var t=this,n=this.annot.pdfViewer.customs;Promise.resolve((n.gotoActionCallback||r.default)(this.getDestination())).then((function(e){!1!==e&&function(e,t){var n=t.getPDFDocRender();if(!e)return;n.getPDFDoc().getPageByIndex(e.pageIndex).then((function(n){var o=e.zoomFactor;switch(e.zoomMode){case"ZoomXYZ":0===o?t.getPDFDocRender().goToPage(e.pageIndex,{x:e.left,y:e.top},0!==e.top):t.zoomTo(o,{x:e.left,y:e.top,pageIndex:e.pageIndex});break;case"ZoomFitHorz":t.zoomTo("fitWidth",{x:e.left,y:e.top,pageIndex:e.pageIndex});break;case"ZoomFitPage":t.zoomTo("fitHeight",{x:e.left,y:e.top,pageIndex:e.pageIndex});break;case"ZoomFitRect":var r=t.getPDFViewerRender().scrollWrap.getScrollHost(),i=r.clientWidth,a=r.clientHeight,s=t.getPDFPageRender(e.pageIndex);s.getPDFPage().then((function(n){var r=n.getDeviceRect({left:e.left,top:e.top,bottom:e.bottom,right:e.right},1,s.getRotation()),c=r.right-r.left,u=r.bottom-r.top;o=Math.min(i/c,a/u),t.zoomTo(o,{x:e.left,y:e.top,pageIndex:e.pageIndex})}));break;case"ZoomFitBHorz":t.zoomTo("fitVisible",{x:e.left,y:e.top,pageIndex:e.pageIndex});break;default:t.zoomTo(o,{x:e.left,y:e.top,pageIndex:e.pageIndex})}}))}(t.getDestination(),t.pdfViewer)})),e.prototype.active.call(this)},t.prototype.getDestination=function(){return this.action.getDestination()},t.prototype.setActionData=function(e){return this.action.setActionData(e)},t}(o.default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(93));r(n(30));function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=function(e){function t(n,o){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o))}return i(t,e),t.prototype.active=function(){var t=this,n=this.annot.pdfViewer.getPDFDocRender().getPDFDoc();this.getFieldNames().forEach((function(e){var o=n.getPDFForm().getField(e);o&&o.setHidden(t.getHideState())})),e.prototype.active.call(this)},t.prototype.getFieldNames=function(){return this.action.getFieldNames()},t.prototype.getHideState=function(){return this.action.getHideState()},t.prototype.setActionData=function(e){return this.action.setActionData(e)},t}(o.default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=c(n(93)),r=c(n(30)),i=n(152),a=c(n(58)),s=c(n(65));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(n,o){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o))}return u(t,e),t.prototype.active=function(){var t=this,n=this.annot.pdfViewer,o=n.resourceGenerator(a.default.PDF_DOCUMENT_CLOSING,s.default.OBJECT_URL).expose().URL,c=this.annot.pdfViewer.customs,u=this;Promise.resolve((c.remoteGotoActionCallback||r.default)(this.getDestination())).then((function(e){if(!1!==e){var r=t.action.getFileSpec();if(r.isEmbedded()){var a=t.getDestination();t.action.getFileSpecStream().then((function(e){var n=new Blob(e,{type:"application/pdf"}),r=o.createObjectURL(n);window.open((0,i.prop)("href",location)+"#FOXITPDFREMOTE");function s(e){e.source!==window&&e.data.isReady&&e.source.postMessage(Object.assign({foxitSdkActionType:u.action.getType(),foxitSdkActionUrl:r,foxitSdkActionFileName:u.action.getFileSpec().getFileName()},a),window.location.origin)}window.addEventListener("message",s,!1),t.addDestroyHook((function(){window.removeEventListener("message",s,!1)}))}))}else{var s=n.i18n.t("viewer_:dialog.action.remoteGoto.message");n.viewerUI.alert(s+"("+r.getFileName()+")")}}})),e.prototype.active.call(this)},t.prototype.getDestination=function(){return this.action.getDestination()},t}(o.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(455),r=n(987),i=l(n(1008)),a=l(n(73)),s=l(n(1014)),c=n(154),u=l(n(1015));function l(e){return e&&e.__esModule?e:{default:e}}function f(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function p(e){return e+"yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*(0,c.getSecureRandom)()|0;return("x"==e?t:3&t|8).toString(16)}))}var d=[],h=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.events={},this.curEvent=null,this.PDFViewer=t,this.hasInitAnnots=!1;var a=t.config.enableJS;this.enableJS=null==a||a;var s=new o.jsApp(this,t),c=new u.default(s);this.originJSApp=s,this.app=c;var l=new r.JSDoc(this,c),f=t.config.noJSFrame;this.jsEnv=new i.default(this,c,l,f),setTimeout((function(){n.jsEnv.init()}),0),this.cacheJSDoc=l,this.PDFViewer.eventEmitter.on("open-file-success",(function(e){n.cacheJSDoc.dirty=!1,(0,r.cleanFieldMap)()})),this.PDFViewer.eventEmitter.on("will-close-document",(function(e){n.cacheJSDoc.dirty=!1,n.events={},n.curEvent=null,(0,r.cleanFieldMap)()})),this.PDFViewer.eventEmitter.on("doc-modified",(function(){n.cacheJSDoc.dirty=!0}))}return e.prototype.setActionCallback=function(e){if(e){var t=new e(this.originJSApp);t.app||(t.app=this.originJSApp),this.app.setActionCallback(t)}else this.app.setActionCallback(null)},e.prototype.setStatus=function(e,t){this.status=e,this.eventSource=t},e.prototype.getEvent=function(e){return e?this.events[e]:this.events[this.cacheJSDoc.timeStamp||this.curEvent]||{}},e.prototype.getEnableJS=function(){return this.enableJS},e.prototype.setEnableJS=function(e,t){var n=this.enableJS;if(this.enableJS=e,!n&&e&&t){var o=t.getJsNameTree(),r="";for(var i in o)r+=o[i]+"\n";var a=t.action;a&&a.getScript&&(r+=a.getScript()),this.initEvent(13,null,null,"Init"),this.resetClosure(r)}},e.prototype.resetClosure=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.enableJS&&this.jsEnv.resetClosure({event:this.curEvent},e)},e.prototype.getPDFDoc=function(){return this.PDFViewer.currentPDFDoc},e.prototype.getFieldValue=function(e){return this.getPDFForm().getField(e).getValue()},e.prototype.getPDFForm=function(){return this.getPDFDoc().getPDFForm()},e.prototype.destroyEvent=function(e){e.target=null,e.engineTarget=null,e.source=null,e.doc=null},e.prototype.initEvent=function(e,t,n,o){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};"Init"==o&&(this.events={},this.cacheJSDoc.cleanFields());var i=new s.default;i.engineTarget=n,i.target=this.cacheJSDoc.getField(n&&n.getName()),i.name=o,i.source=this.cacheJSDoc.getField(t&&t.getName()),i.type=e,i.rc=!0,i.v="";var c=p((new Date).valueOf()+""+o);for(t&&(c+=t.getName()+"_"),n&&(c+=n.getName());this.events[c];)c+="p";i.timeStamp=this.curEvent=c,this.events[c]=i,i.changed=!1;var u=void 0;switch(Object.defineProperty(i,"change",{get:function(){return u},set:function(e){u=e,i.changed=!0}}),i.param=r,o){case a.default.FieldKeyStroke:i.v=n.getValue(),i.changeEx=n.getValue();break;case a.default.FieldRecalculateValue:case a.default.FieldValueChanged:i.v=n.getValue();break;case"WillPrint":break;case"Focus":case a.default.AnnotReceiveInputFocus:i.v=n.getValue();break;case"DidPrint":break;case"Blur":case a.default.AnnotLoseInputFocus:i.v=n.getValue();break;case"WillSave":break;case"Format":case a.default.FieldWillFormat:i.rc=!0,i.v=n.getValue()}return c},e.prototype.closeDoc=function(){this.PDFViewer.pdfViewerRender.pdfDocRender.destroy()},e.prototype.postRunScripts=function(e){var t="";switch(e.name){case a.default.FieldRecalculateValue:if(t=e.rc,void 0!==e.value&&e.valueSetted){var n=e.engineTarget,o=n.getType();if(4===o||5===o){var r=n.getOptions();r.forEach((function(t){t.value==e.value?t.selected=!0:t.selected=!1})),n.setOptions(r,!0),n.updateWidgetsUI(n.form,n.info.name,"setItems")}n.setValue(e.value)}break;case a.default.FieldWillFormat:e.rc&&e.engineTarget.showDisplayValue(e.value),t={rc:e.rc,format:e.format,value:e.value};break;case a.default.FieldKeyStroke:t=e.change,t={rc:e.rc,format:e.format,change:t};break;case a.default.FieldValueChanged:t={rc:e.rc,format:e.format,value:e.value}}return"calculate"==this.status&&(this.getPDFForm().calculate(this.eventSource),this.status=""),this.destroyEvent(e),delete this.events[e.timeStamp],e=null,t},e.prototype.handleJavaScripts=function(e,t,n){var o=void 0,r=this.events[n.event]||{};try{if(this.isBusy=!0,o=this.jsEnv.exec(e,!!t,n),this.isBusy=!1,"boolean"==typeof o)return this.postRunScripts(r)}catch(e){0,this.isBusy=!1,r.rc=!0,this.postRunScripts(r),o=-1}return o},e.prototype.delayHandle=function(){var e=this;setTimeout((function(){if(e.isBusy)e.delayHandle();else for(var t=d.pop();t;)e.exec.apply(e,f(t)),t=d.pop()}),10)},e.prototype.exec=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e&&0!==e.trim().length&&this.enableJS?(n.event=n.event||this.curEvent,this.handleJavaScripts(e,t,n)):{rc:!0}},e.prototype.destroy=function(){this.PDFViewer=null,this.jsEnv.destroy()},e}();t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={error:"data:audio/mp3;base64,SUQzBAAAAAAAJ1RTU0UAAAATAAADVVBZVU4gVHJhbnNjb2RpbmcAAAAAAAAAAAAAAP/zwMAAAAAAAAAAAABJbmZvAAAADwAAAA4AABh8ACIiIiIiIiIzMzMzMzMzRERERERERFVVVVVVVVVmZmZmZmZmd3d3d3d3d4iIiIiIiIiZmZmZmZmZmaqqqqqqqqq7u7u7u7u7zMzMzMzMzN3d3d3d3d3u7u7u7u7u/////////wAAAABMYXZjNTguMzUAAAAAAAAAAAAAAAAkAuAAAAAAAAAYfNJCphkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/zwMQAUHwOTAdawAEmXGgLFAkxKU3Mk6dc6s04bESZmMQHJlnHdmnKhwOmpVby2ZccsgYQUY4kZIcAiDNS3ZhQoGDlrEAiRDEIpdfdh6p0AhdwtgWULIFmEADTKFYQv4WUMAAEBAAwSldtdiwipExEVEVFNISw8tgAAGARkIZiGQRdhkJjWfvH7RyUGAfUuuWTL5w0X/RTdeu6aX6Adf6NhrWaRo5y5yHcsV7fPwqRh2HcnJW1hYRQBIRIhYjXJ1212MQZZLOZ/hSRu/KIxYm3bh+1Dcbt/Xlcbn5Q1tr8Py/uGGG6TD+6lEYsStyHIhyWYfnTxt/IcpOf/1425DuP5GJZSWMMKent9lD+OQ7ksl+eqljn1H8Ym1+H6enjb/w/L+aqUlJYwqRhy4fn9UljCpSP+/7tuW5blv/fiDO2vw/flEMP5GLHf/CpSUgGAAZMWhiMZldMDSOMgUPABaGRbgnPqSmaoJnuYgms5DHh4SmrooGFwTFAImIADAYPDBQCRgIjRRg1g+OGRjM2gyxCOUKzJVA2lEMrQwgqMuAjAf/zwsRSbOQWeUGd2AAJMnIjSA8AAQUCBKCCqMa+YhcUHkwyMHNJBzBSk18QNKLTdAAwwtMDCACTmCghpQwr8UFCZEMoFTgx0FHAgLx0QMTHTC0ImUzDyUILSJOAwgYIJmjppiZ6JHQ8RG6EgWK14GzFxhDUY+BGKiBoIqAAEyozNFWzA1My0oLhg0XBIYBTQORC38lfZZbpmCCxjpwAScwYmIids6uyANMRATCyMwUqNcBjBykmBn+0MgVKYSEtqt1PRCgSD42iorG7bwS6XiqKWAuDUxwYAhAEGCcsZXSohN1xAgAJETkFUJJQkaDC4sPKTa2ls6z/xuKNYguWSGXxFnb9vxJZfAk9Xv0jxvbFlJS+H3NiEXjtDHIy9Lk3HYbu3yg8XiTuO5F4xBU3XiNSV2oHr34foJZar5Z4apO7vd4zClmH2fqSN1f2TWX8lcPPz8/R5Uk9pxJC9blTVO772xjCVReVU7y0NmtnScoAAFxgMgBGya0Gigx3CwsODHM9AoiMj105eUjQYmNvloyuEjVLUMagIBCIwGOjJoLMNir/88LEM2YsEpInnNAAHjOEBdACGejmgjKAzRgTfiDDHzBIQwalCRbkAaJpEVEC8LAQN4QACxwUCApqAhw9WCo4aJGQJBi8RhQ41NAUkZoOq0CA1jAwQRapoLiSySUpnBSUapGsGYKBQO4xpgxiCwcCLyGBGpymEFmZImFLgkE0kEjAQPSjNYGMsGCBwcER9hgwAxMF0tQwwpIhS5R0cIl9luRWlZ6+wwDAgcDBC4aZsmqrAl4xESWVVWysHIV5yuN33SpfMCIKAicW2dpcW1Y3vkawVPIgShUNlyTiSzNVaI/FI0vqG5uQOsxZyUe2JOomIw1O1AIwaGmJyqJNHymyUA3N2H0pWVtfo4+1l53YZRFXmVNJ5svDKm4sqZk48teliGLxXVKEPUQGGK2Kna8y1kTIl8yBEZ/WCzrKJe2lxrLLVZUTGPtYYm4sQhl9ZI56jL3uPm5fJmRI9tbeFdD2syVlhDYIMa4xZerFnOgqMSal7QAACYAQoNjKPfMFhwzHyTCQUMu6MwqvAULDVDOM2B85YrjKRDEiWYBBaCcYE5hQ//PCxC9fZA6J45zQAUxiQkmOMnWCgvgASR0kAS5MmcMEYMOdQBEQkcRGJJGjGoEysMBmQqbHugANgqiaUyEVBQQgBAx0InCM4a8EPIUhzaGxYaWYNWWEA8jbu8YUgGETAnTHEkmwoUDgRjEI4JL6mdbmPXmDELtK35gAoQPN0kM8WByIWWGYFiMCp8GnRCVRAV6FxRgDJpQ4AFPzCm5NUXGIxIIEiEaAiTK4feZVYKAhEISFMyiMABVroIBeNiKkUWlwNiT0QvWM2N1IKeJj8vCiRJaDVg21X8n9FHYmo889pAcPAFnLJUPgGCWgPZHJc06/Q15tu1IzidoZulppRUqTcTuT0alz8P7Vzk0hlGolK5uU3ex+OUUO0fY5QcmZu3SV6CmoKstksrr1LHfp4VP3Mr9/+xDKPR37duP1KWclMpl9/f2//T+ZvVdkEKkteWU0rwi9TDOtYtCFIABMP0Bs1BIVQCAghGTAngoBE4Dl4zD5HCXgzIwKQETA7AlMMkRUxuh90Uk3QcAmycxxT45FxY8/yJgLZlzL8TnXuYlEGf/zwsRGaTwOLAue6ACTSBmwTstKi9gFA2KAAHAAZbKmaFDeY2HaZ2tBVrQDSgYGBUAQ4AwcDYKkYx+Hsw6IUw2HQzPMatAMM0kdBgGBAKGEQGJSojmW6pAqCzS50wuKpnknZn0MJiUOcZj0fiMCuk4S/03wgCxIE2gJhhgBmEwtGeq3GSRwmGhDGPoRGFgkmFALmDgSiAN5e9UNV4Khq3U0lohQHAI7dSpVi+jJ40zLAgTAkDiULzJ5BzDUZjE0MDD8WjAUHjB0BBgAzA4NzDgI6aIwzSR2U83vn75Vl7lw04i1I/P09axIL4KBlHlghgiFw6BhheHBhaDBf0Kg4YZhoDQKDAeMFBFBIDGAoBA4AssvrZd//xx+rjzdJLP/+/3WFjPD8PMAwYDgaUWAAKmCgJmCgImAANmEgOlmFSp7MHLmkABAoEkvnmWBUyk8R/mv+tl3LXf/8cf3jz8cqSc7hf5nP8zv7zn+W7agYDSZHEcDgcDgZGJNsx9TDzafmvkAXAvhoKgUn8a7ybFSKBgBAEIWmA4AAJAEmGwMGYt4OKL/88LENmiD9sJfnvIDISAMmAsACAADzO8UMNxqCY3JDmC8RgCABAYBlKpRZSRlIh3mB6F+Yyoms2py3OlgaCTtUi6Nzpxo28kEDVzKXj8SvuQ0+G3zrGWWsebmaQ5kQBEmBkR0ZwhIUmcaeppDWW58M0Zx6ugmm+TOYYguBoelUmSiPaYLIVhlYiOQRk7TawmVW3Vhqdaky65TGWcTUYGAe5wVJRGEcL2YcoCphyA3GCuG+YWIGJmGmiy+OwXHL36uZy2GYpP4/3KoZAo9Zi0hEmHsGYYKAKZhnhJmDQEWYfYdphAgEmEaB+BQGzBVA3MNAHIwHABU5XfhEAO5D/ZHbr7orDMLm78k7LMedrY+WvSgScBwCBgXgShwD8ohpxIm5Lvv2AgBFLIEuY6r5y/9bu4freOf7s8ztawyyt/97vFTuO/6VjKGmLvZfU44cjQBsvtILqb0c01h+Kmdi3e7T5/jVynrNT9/v+0GpqJ53ebzv5Y2ZgUCAVAgMFIICEzHBkwUC0xYXU+0NYCBKYiGqa0D2AidIhBMbASSMRSL0uyF//PCxClfZAZ0Ad3YAUEDA4RDAkJK5lGBQXApHkyJJIZCgaA0EkLDBwBNMCwcTFBqm6kKloBogWgzJQIqh5ADgZQMMVyJjYgBDwWOjBilYUISjExswlsN6BwYCiEACCxlYhDBUPMaIzAREBBBWCMVOFCRgqfAwgMAJoHBhmomQlCIZyg474OCwdumFlCV5c4VIC8gVDWdP8ASYaDBI4QSI2jVkYmQAJhS4BAuEIwGL3ZkTSqaRuQz2wpg2NLgGiq2FmrjCpIMDrXYaDhtPSHqezChoRgJewJE2fKEOIm8lgrVDjQWmwLBzPMYQ0iflRICVZVAeFqkuyqgotTMYd7ll08FP3HhZ1I4FsbpatiWP9DMVci3Aj1XbV2HMoo/sc3Zcegn6fuo1K4s9N2vM5Uz72rzgcn8e7huTTkQqwfGY3KsJbDFyjrzNHepqSVRmMVKK9KaSWT2r1i7Lbuu16aeuLwKC04vkIzkPMk4zQrA9KDUw6CUwVNE/d8w5YGKDRDRwFKkY2xKbmkOtyFhJ/hyRDBD+ZyEcVggoMUyKBxn4BewiP/zwsRAVgQWfALfdCBLutIbiBeiQIQ0UsTSMUHMMCJpTzkMBq5mQyihEnGDxYmDYiGCoAIiDYGfFDMdYLQIogULFg+BUSYyCgyDTiBxUwBYVIA4Md9Wl8W+OqGLBomDJujo4eOFrIsx8KoU9FeqLCAYMDBlaVgk5S4AsbLUSi0/M18bbHJnHdNQguwvpoa5VZg7u97+rmaVGMnglQ0LhqbJAz9LMkaqTQFiw1ZVWi3wuWXoalmC0mhyaW26LVSilWNDjZgG/jCZVLqePt49N/PVNT09iEx/GV5RWVx2mrflM7k03N0tNS7lMbhOdqGt0VnOXw5U+L3a9PO5yimkUNcwuXZVvVDLsKty3G6T3hlb8VJe/Ev5Ny2SZVqSXzOfK+Wt473aEKGy6IVGEHHEYBgmYaPMcCEaYPBYBBLNVwDAwFkIIGKYBsHcVRZsEMiw9ICxIADF8P13IkmPYsCoKIklm3WRLJBRUcka+l9JrGEYRiQcA4ISAApgmnlSQGDlxjLQiGGeArAEQ4VUlioRXXbIAmTU1tjxoxYkGAhABR/V0Jz/88LEfVS0FnwE7pk8ERD2IlrguZKBphjr4Bhc4EJGwoRHAIkAgmVFUIsooirDR1iwYJTOFk7/vYHbQY7L5oREBoMBEgWHLzTrkHwxBsIhL4MdLPPwRC0piUSYMM3bSoXfbNSvRTlvIAlw6HgBTiGWMSFZUGU605VC2w9nobnLDlreder2XZUVNcpal6BXQlVd0oAZpGYahl2YftuZuD8XamESATLuLdcbgdctF3IulfVGVZn25V4uJOuHh9x080kdOVx0zqq3I4nF7+GpNJw2KZahYMC02nNzo8SMtNTmJJYhfkxBTUUzLjEwMKqqqqqqqqqqqqoluQ+g0VSaDiUIguK3g0KXwwRGDCkaHEymoJAYGIS27a3YAZAYUACSqqphIYS1iBlISjAEU8gpDaURkQL6Tji77xoAdrOFk22UxQSCsiAyqKiDyhNOsExccIJOChSUJtNCrqJusBCXaJmxUEgOC4qHF30gBxFfYOmWuXiM+dRJk4HWR2KClzthKyFVXjnB0x6UsnrHQQgNERC9khKc+SSUu3AtS1L5uQxZ8J1J//PCxKxQTBaIBuZe/NaPA0DNHIsJNBj/tju7Yj8E/SS+Fqbi0choMQ73i0arWtJy7tEy0Db1JSNT6cYGobVEV+HJPw0DiRBpBycFfN4bsrC62UauWEG1vXF+4zrhpcG5mT7ZGXTCulQpynZ/M3zk1gxUwwYzd+0vpCrQyO3Ipl20oTBc19/cuS8eJxHswahubA/mMNDmGDRzrHcJIMNitBs5VUxP0qAIiIQEwHQHDAaADMIUpw01Q3zAnBVBgnx2pUGJAEAR+Z6EA8DBYDAYDwGMg0CEskFIXAhiRaumGBw4OaiEbCwNBR2QgYcDGwm40GkS+pik6nSZ1MA5fMtBhCOs4NGCRYXNaAlLwSFkVAaINCAkKCsgVQDQDTioyKhQ0pgICEAmBkQKMyCcBKwAEkmSl2EYkEERCJgQZBy+bAECAtHisA1hgQ8Y6BnDDoVEg6LBAQSCossig5HB4MMFNQAImNAy2IbNtCjAXQqAgEBQKECzIRJj6Tia8NV2sQCjCX9TKfEGES2y7AwEpLGoCKtsNiw0pqrXcj7aGBhS8H5MIP/zwsT+ZMwWbAD3NlBVrhEIMRHQJHMcBKRbxe5ddAzp8oYaJF6dHkaAGCwFSx+7UkUAXIhEoFa4/cLchrb1y+IqxMyfiK9tRa9p22ZwtwNPZUm5yPbkER058pxh61C4egLNyYap3Esyycymm+g+jbDTbiee3RgqzEX7jkPWKO7WrNvWiE3Nv5ledl9oGf6kzq2KDCNQ7AM1I5RbnrNzeFnt/qoOkozAdDZAQXCoTAvA7NMcEwwhQKTBlAcMfAF9cZgZAMGDMBOOgGF8wCAIxwDAMGCqBkKANmBOBKYPITRgGALGBsBAYdAPIGA2L1gIpMJDUGjUkcx8dAwUOACPCKhm8cBlg0QEAQaTA5pIeYyugaQMIAjDzcDRhjYeABoSLzBkwwaUMrGRYDTLIlJAGyAygLCDoSPTOAQwIuBpGa4kGHFzQzBRAIABJvNHIQCVgYCC1KlWZWImxsgCGCh6Gh4VFzGQkiIwwAeUwYrQqMWCUcmeGsBAwpDRADgZSZEykREyCCVq1nOfOGEmVFFsCwUYCDBgIHDq7U+ha/c9h40AOIr/88LE/2b0FnADXtgATf+LKaAAR62UQjjxI0vtkRDaA5tY0hPaFArptpFWiW6j8kQK154L8Qnp2I/AvYYkbCs5Io5WV12KJmwO3sxSdkv5vw7cQpIAlboU83TxyRy/CET8teSYkV6YlbKs67XpZYq3Y6tnKYeGG6PdHYlL2UEhe+NRhtb0RiNufo7MnpXifqD5x06CbiF2LT85fnr0a07NeNz+Nmlpbcut6gEYQ43poHJHggGIw9wwIarm/+UcZKgPZhVDPiEFRmStxh4g5mCoHsYNoFhgRgsPfSGNxunCipAtMzCIKTCkbgwj8u6MLSiNWwMMfSWBIIDQJmAwF5d4aFI+YsDSaIDgabFGYDgwkOYChgYSid/47NHR8NgSeMXSiMNT1MQhdMLwDMQhRfwdAUwyF/lbK1VMZjnEkEMHBHMm26MymJMWTJBIlmBYVGF4XGHIjAUMDGMYDA8O3dx5r/35g2exlOLZiQbpkYboYUgYI4FA4wCGoIGwGgQCgKQZMFAlMKApZinyYAgwMgR+v////DjkMsQ9MOQUMBBaMWSH//PCxPhnw7ZQA57oATDMGy8piQGZgYFYVBwLBkTDKUAuYShQBgPUxSOFARQZMBgFSRoXVCoEJpL+///f////+FwCYACgTJAEGQIAIKlyQCBRVB0Kgk5ZYAQtegssoLgfDMNSuHXShTAX2kTAd7fWU0r6//////////+IQBL8l0QcDrzFQCCYEEvkx1yhQAVFIuRACs9SoCAWtjj+RtwXlYE0plymS8kimXTVO7OMqnppypFFTEFNRTMuMTAwqqqqqqqqqqqqqqqqAlZVvVpAgyZUZmWDoYCGKlBmZgZKJItAQdNXgjnaQ5lyMhAzQGc3h1NcMxAPGhrxoyaaEcmXD4QCGUohqKcZ6OEoqZcgmbMGPDA4E1sCBTEBwgC3AGggAFMIFBQFtC3RgwRfJ4y6pd5AMmFC1yoqrpljSlMUxVNYwgmLTIpOMxkCijJljJiE6zCEzMFzHA1WAUsZxmb6GbpSEFDOtDgvjYmC65lFpqWxu3Rs0QYPMwxN05NURHAxnVRnD5mCJiga6DBjjJkAUSSdMMNAQJ+qbcZf2W3I1GaWl//zwsTZW6P9CZXb0AEfyy3jVjMtwlT/S67GY1TU1reONa1NO0/1uGXJh25DUZjMts1qamy3Ko1Ls5S/strRqzrLL8asMxVuKQqYMUUyQeWtBqmK7nejVeGXdis0/0t53//VNaiTWmvUcMuTDtA/0trU3caWlpb0Ray12ifZyn6vxF2mdONTuCzl+Zp2pbzLv/ulszLku7YdpyoeoXZjVr4ooKpMQU1FMy4xMDCqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqo=",warning:"data:audio/mp3;base64,SUQzBAAAAAADBVRDT04AAAAHAAADT3RoZXIAVElUMgAAACEAAAPDlcK+wrPCpMOLw5jCssOEKHNjLmNoaW5hei5jb20pAFRYWFgAAAApAAADY29tbWVudADDlcK+wrPCpMOLw5jCssOEKHNjLmNoaW5hei5jb20pAFRBTEIAAAAhAAADw5XCvsKzwqTDi8OYwrLDhChzYy5jaGluYXouY29tKQBUWFhYAAAAJgAAA1RZRVIAw5XCvsKzwqTDi8OYwrLDhChzYy5jaGluYXouY29tKQBUWFhYAAAALAAAA2x5cmljcy1jaGkAw5XCvsKzwqTDi8OYwrLDhChzYy5jaGluYXouY29tKQBUUEUxAAAAIQAAA8OVwr7Cs8Kkw4vDmMKyw4Qoc2MuY2hpbmF6LmNvbSkAUFJJVgAAABEAAEF2ZXJhZ2VMZXZlbAB7DAAAUFJJVgAAAA4AAFBlYWtWYWx1ZQAhewAAVFNTRQAAABMAAANVUFlVTiBUcmFuc2NvZGluZwAAAAAAAAAAAAAA//uQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAARAAAdYgAcHBwcHCoqKioqKjg4ODg4OEdHR0dHR1VVVVVVVWNjY2NjY3FxcXFxcX9/f39/f46Ojo6OnJycnJycqqqqqqqquLi4uLi4x8fHx8fH1dXV1dXV4+Pj4+Pj8fHx8fHx//////8AAAAATGF2YzU4LjM1AAAAAAAAAAAAAAAAJAJAAAAAAAAAHWJUiMoVAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//uQZAAI81BSOKmGTTAAAA0gAAABD/09FhTGAAAAADSCgAAEAJAVbVtVpKZFAPBHOIWq2r/9/TOMqjc8XwGpRbVm9nOIhwsIPKmlLVlTqk4uIts2C6zjCOE6TWIRcTihGldXJzE6/9Xu5ue5Re2xf91F72NzYLpMubYnC/8zc3JRacSI1Llm5v+5ubjbcKr218Dh21VYSCYlBMD5PfzU4Cw/o2wXxLBoTIvqSxHecmxIdX/S7B+dk+BkzXnZPilOZiWjcbucKDs/YZEMRyeeVX4weOQ2P70c6862s67FJ9juO4zisY4Fi9X0kV5zfXktX0ziwwP2N9gSCYeV5iI7fmWKHZPfYcxYspkJmSy2/Hz3Do0EgdDgjCIRAQTrYEsCm0aRgGMVvUeViS3EjDGkRylySjhmxgdxXG/fuMiSRxdNidBmjkuuwE9DCzgACh524Etu/qKQKGCGWCgu/cTj0zSTkIrLFQBQplk465sKGgVI5TIeySkfyWUsDwmlS4MgQxBERJGtCvGsqtyilD8zEtp6LO+rhOtx77bvBFKSekMd//uSZEmABw1hTG5nIAAAAA0gwAAAGIVhVfmcAAAAADSDAAAA7XlGrFB9i3Us8zl0sYApoXbfNphjil83vpu6jd7tLe7Uln2Kt3VJR7uWtloyy6a7E0v2TwI4brq4pf//////////5+HP//////tssjF2wzkyiYAQAQBRngYBAUAwGkHUoYnESIx7LX2ulnAECj5bFhUPhACWAlaFlstL1KXQU6SkQcdGWRRZdkAR9lTeO+XrcJbwQJgEu3FJFYpZ5dKpUJKwxfHH+x+KQPKKK/J00XwjrVWYSScfnt6iksUpLkowuyuT3KatfiMQy53/ktNUm7+GqXCT09qNWsKaNSXnLef4Ycp62X0EooOXr04+1FJqCdlupmzbsW6etup+dr62W7n4b+r/43c8f//////+1ij6yyI8AAAAAJmuneg/VEzFQEeKTqBQDEqDqVrgJqhUMARsYFhmLYpnAWLGKKRhIUQhxiIgYaNmhG5sAjByWEPJjRJ+nKW2NBa73HpZTP7lqMwoBF7GGN2et/KRhqsIkOlz0vlFmLwxDDwoBQEGlv/7kmQ1hvYzStNPb2ACAAANIOAAARVdOU3OYZVAAAA0gAAABO1xrBLPgiPRNMVlLS4Bp2TTWD/OnA09RQLbtcvRvLnMr9itTUkZkeql7dqpL4blj+UWGu00WlU5Kae5LK9PKrmFPT50dWlraxzq4U9vDD8+6u5Uk0iMZdj/2/+E8qAAGnjg/chdiKQM8RZcw2jU4pDbiDnQ4lWIBmYJpAVA5MAJibUeYe3JgJgkhGbxXF37ncu4y1hICCLbyv7q1pdOonAprrWIdoLMaXkhKOPAlFPHtyO+zqRMoCNyu/Fo3yasOCiByW52t8vRJVNpEm/9bxxjMFQdK8Zl2+uror6tqfPFMRN33LLmoDYDiy9v8xQiUHcc1eZd7vZv/w12uTMp2gVO4C4AFgaqLJMAYAACAAADkWKMvaXbdpCe8CW4YABk5It4snXkYGALxqoDwuJIsAj3G2mt9SQ+2r8rHMQBRZ8st6q1Y02BNQOB1atjr/rtLMGgJ87tacwyyX2ikWta64N+9N+9aEtUi3Gfuo1qn+MJykxGnjYVhoCGrN9Rb1//+5JkO4D1UFfTe49HEgAADSAAAAEVIT9HjeF1QAAANIAAAAQrutoSjEIkUB0TFXLFi4hiFbMtiyi4YepW4MQQgUqan1KE+pMTc39CCIj/enAs73/qMfMfIAAAAAASrePMwSwuxw0bBYXOSQR4MgeO3mxMDUgZaVmVnQEGEV1gViMoeGqmOF00MYYMjbu35XjNI7AqTfYT2Vj5XEW4SudrWq9FA0uR9UFdWb+3WjyYggKzVtbvZzGcgtB8WTKZjG/nT226M/X7Oa1lW+5N1LPP2fYeBIMS2nq1uG8fScfW10RvTDEhTJLcXSwxLzptZxhyp1WVzLUuPuuO1En4qc4lSmQAEAAAAAAmIwa6Cy3jhuUPiSESbmmbOQNdjLxRsyR03Ng0ClSxY0jguUL2MIXMKeMEDmrTdS/+zmbYFY2cVkg2lit0kHTKvryy5awsq0fQ4jNgB/FubTQuLpNQySrrgSsVvn831ONlVVn6wrcn+7++K8JIg02W6GCsYNTis+LnSDvhMlikI33fwWMvR9gbE87DK10pXL9l8Nvw+7I0njDi//uSZFED9FRD0nNPTTIAAA0gAAABEUEvPgykdcgAADSAAAAEPKkUAVdLk62bufGkvmDLmgaGRfzJVW2rmclNrREBRdk1iA6kWsmPxFCwhD6ECASPoCoqZVILApphps+nLEBV9IVftNybfGJk2qik2cVDyN0KqPGJB/Wj5nZTUeirQ99kilXPilC1JvX1MkFgW9M9uS9WijVIAAAoTqNmBhM+noBoC7lwS9A2kfNpCfDqtqDvjzYS0lhTTr6bRZJ4MBDWpfKSRW+tNZ0JdR9FoESoS5ZNBUoEEItQojmGniTQQ+UEl2jbC0q0rXXh3y3h6ddciVZ2TBckcziirgehSNAZ//BC9VFvbbD+cdzXwGIUtXJkggAJRl0QUGadflbKnPS9fCGpVFokuZp8OkA4nWgEGTxCKh4gEIZMo3QPQuQZSclrRBOhIVkwfNVbmVlRMyqowXWXZRY487H3C4MAjCh934SVB4MMiU7pzLTUxkJIdkTZZNuLmDTXU1EBKdsxfyYRNaZebMNoNoF76p5CoAAAADFBRYyxmsMXkErZDFXWev/7kmSFg/PjStBDDDSQAAANIAAAAQ81GT0MJNFAAAA0gAAABKHn1dKYo6WMhkGwZlZh+IjEkaFIhx1RImTWSm5pemaqa0tganV45rygnCp5BOcqu2JrRqSubsN6cJM0rOC87KpQIunHIKrtIUqe+ElJtKu9xtIi9MqHIehJgdJn8l/+1v/oACwIIGAAC0nnp44a4wsCsLQO5BxkypGIg9lMw3htzpmzrSXtgSuahaJc2lQ1AdiWU4OOHFZgRtBD7SNht6kx0CmgsKMsGLlujJo1SXYYoZ+kj4ACGCAmbBlqBADoNWqt2My+extwucHgQXCIapaFvhkDAFBGozLIaq137qX5flgnokmY0KhISPHi4OERN5WdSK7EpZA8Ay3CM0taWO5PwwkwOAlWp4GAKFwRZi3QLgZa+jty1wW4QVA7k8yfi3J5Rbmrkss0/QSJac6NE0FDdnSqq11Nl0TP1qb///////7n////////8YZP2mdWhoiFhWdkRrvNrbI2gADIQYqAaiJaD0cpgMDy+YABJhMIigBQFGAwUYQF5UIZlSP/+5JkyYADtUFP5WEgAgAADSCgAAEdXYEbGa0AAAAANIMAAADhAiMHDsws9M7Ozt3A0sHkb1Gok5sRwBA00x3MxRjVR5f0NNeBwuRAjS1vNCYe87oz8qcJQZWUu3GlrwwmVRgQAFgkvbEZxpTYlBntSbhxpj0PA6q5SIMWQ+S5XK1T9Xkps7DQ4Ga5AjXWT4NxdiBlV5BFrUq07NyNP85MBuBDTbvi6kMZwbDM1DbrZulp6u1ZTr62NWq4rfNbcedrUMzF5dduXcKWcs6q1Q0HcjKf3EhxONwOCQ2GMJAkAgAE8beG31SsmvGwQ+6YODjQhowECDB2nZaYkZCILMeNzBAd+XVP9kxb1FIPf9y6wFINAgAXKxLveliiYEArHAB5csYlMUovzDCwyLwGPJQAYAZASaaeZisGQWuUHSq4gRTGLNPVqRTZgrSLAMLRmR4KBkeR0FWiXtJjluWw1Rw/DExFJu+4S2H6aarbDK3oddqEtu0d/KK3UwvZ9tZVXCtQdBeDrvhH5ZFm3jzWmCv+0yIOhz//n7//905JG4KpalLT//uSZNeABwdJUP5zYAAAAA0gwAAAHFU/M7m8gBAAADSDAAAAZ0e4W/dE883Uikows2v6hifgqH76IEAAAD8FUBYq/bwTjiukyyMx19JK6anbhOyygIye4gBRn4QQuJLlWaQ9Tef5TWgn6n3BVPXZxqZXKlgWHiPY1avFwWE8ag9nZQHyfrCXJDDMsb4sK2rH1mKp2TotdFGfbaquiJ1sqjnmkcZsMZ0p85k64rCAqfieZXNYcF0ha4MhUSsU1G1WlmkzGaCamUYch9phFLgv6BPYvk6TRxmKM+TXSa4VzabsiPUDcwttUQ8guLdElhv82vSPOS0CQ5oiAIAGFjEQKjURYEqbyJjN6jkUDS3wF2sOiUs2Ss0SwIIChzo5Dxql4JQp2qT9qMmoq+mZoGGkNtrh31CCKDCVP1aMTRUlOYZL7EMgdtLhR0tVvWnmYx6xlBrLMkyxsDF0laVDE00KNMUg9G5M71O8LjkL5XTVO6ABEQAAAAMEoxh4VBpHvglBugQB4LtD0PUQtitHcL8I4Ogv51nGJIdI/znW106HyDiAg//7kmS0gvXhVEzHZeACAAANIOAAAQ8BNUXHpM/AAAA0gAAABBBml4QPYmd4wHOZpTjUBRbgOosqTjBpkqeYy3aT3p3aO0Z3b/2zd2aHxHTKxHi3cvEgM9OxTkSzdc2bgwhDpvSRQQKg9bFSKuhe4pUAQRhlVdUkCp7GKB8YWahkQLpyiQNMCAFW4woNBATQ1vnpngbnOJqsJJoATUcPDoi5A6RtPjpiGoUKTHWeZhg6GpgklOgYNAO/bXHbgB3l6M0bG762mku0tEuuGDsPa2/S4Ef33X0vFW9myPaDSChbB7V0WH7ijW1lo5y+XOxSx5+AKGMY5vQCeW1pYb1vVk5+Oo1hMQlNqLFjeMPOwXfbYpNkKpy5SzeWZWa26savjyd5O4kGhOFAA0IW8tYqS0NAAgAAAAMWBFdRF9YKWWMk43AHTEgQBQAZPAbpF7jHdJNumUw8CJIw9iA0DzCxWBIRBAEQrljV0nkGjLQDX40F7qGVU6TJEfZnN8lCuhaRm8Yk0GRmXHMchgny5D6v4tkEVKqK4Ze9LyVwagPoF2Ii7z7/+5Jk2QHz6EnS8e8xcAAADSAAAAEYBSVJbmWPwAAANIAAAATx9eZuJLkb1rcdc7QXPT4axL5hucuYCkHDcgo79PVXvhf8/XHIMwaOEMte0ZlQsOYsfgtE2v/IBWJaljkbR6fq2FTLDJ2vpt61bX5T8v1/cnOlgd1gxLvyZSwCAAAA2bjLHDrrLU6MYgYmCjcHApq60jAhNONlEDCNqDtMfiAJDBlUxGVAdDMjwtvgZZHeqsfzOMrfYudBtbnMZ2XIIlLKLd+kT2QvCKOvTaxbkXeJDtkhNNOwIpkqMoAweXY4u0xJEFRxmlm/H2VOu0Fl8j+/DMJay+j8WMasM2FnwkShUMiA+QPihyElG/7gzKEHLkTXlresUDToQRfMdybFBZF/u/8OVWtQAgAAAAAAAUiGr5l2UCDAVDFZwslw4Bw/m6k67AUGJ0iSDwEg2o3idKd4MARq4VsOma16bwFCR66rvleZgoQmSmz3CUWoALhzmtyuFXhGEaQF3tqzUgsxEziKX9DsxlecICiNfyqRu9thooO396pjQYTitzyZ1rkz//uSZPkD9mNRU3OZZVAAAA0gAAABFVkPVc5hM4gAADSAAAAE9M7tH+vdQfSUdiFnF4ZFnCh5hUIMde5K3DcLSOfTt1Gwe7uXUpZqt9bbufq3rt/+WO//LjtPv4TPAhP85rPyVoABEwExWNuxI3ySvMTBHAyBhcDUGV9w6pUYCAecXreYBAKqZT5cYwPARyTAQQhKFmfQ6+rrUccHGwMQ7saxg+346lM0/34rTVAo2wfHN+J+y+4umyyVXH/qx0YMNjuFwzBjrzUpTQH04HlDpy3T/Er6/71aG7tLOA1VUMeudnpVgX+tYfn8xcIgYpGtXu8iVz692lxwjbQs6ZmJgOgQRSPixW0rAyqtt4Nx2xFOerBdEV7SFu/b0Qv/+frV8tTyykxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqfQCAAAAAABqtFdpCy482NFwwspgMLodYa1SDWqAwIHdFQBgvzBeiCrgA0IhE4NBbnc76h4s2z2zf7ivKtf+bsbmE9IVV3J9Q+/gsmM45xq7BQP/7kmT8BvXLWlR7mVzgAAANIAAAARgBW0ku5XPAAAA0gAAABMUA9RWTxCesLAGIiFWeUZ+gUoKEyfH6mUslBMHP8bXx932S0VrDsCGDbeJthQPjronGBwEo8fEPCALB8qQ9JDVC2/VVd1Uul89s8/+9f/lSjNvsABKA5FGIsndVq6QoCwYsYE0BUGK7Y0IQeYaoxoOKmBhAWrVjKAIRApXZVtBzsE24lKaebMRNXuNPTWvxQpnO/qVVET0odVbExWQbMlBpuqSVZx4wlD3CXteh6H50ZBA2yENarf3gXsLttpFn9fa88K3jMDajZlGdRrAiBdWU/PcwCgVY3Fl0ZSZ+p2qcCcK6TUXAGNarvZUK5BOLmZpTuWfHbaCCYVI1I49MQU1FMy4xMDCqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqpJUAEAAB9AABeJgJp1kTHLWAUPMiFsOCbponvxAzeGGSQc1Co0H2WQA+r4x8QJX5znb9WmRyT5VUcOCIrI3oTNo6O/y22J2a/f/83ZREn/+5Jk6Ab1HVbT65hEcAAADSAAAAEVbSdHbmUxwAAANIAAAAR/MKnI4FWUmdSU7vLAjxb28a3aiqzN93M7X0KQsD/ju9uAmn26mvz0b3iKg7KjTbZWDwkMV1qKmJqMHmQ2FAXDxBTJcBNl0fmjAAAwAAAAQJTsGQHHl9jgaMA4oRgZrhEGYkIwCKAoxnNzoswMPhEIAiJi8xYMlzTApvDAu5Fi7SZ3DEPSraRk28ZfFsUX+M25VYm2GK+7fxkdVsZwqtChiT1JywIIkI2hxrOHo2wsCjMSpppypVEY2GLX4znuUQY+Is1LLFJH6FYAaEfOGKs5RXc8refb05XaPB0/rCtnYvfvLHCRABnF4K05G76zZG/ba2/nXjuuSKuFT+pFTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUpAAAAACoAAF4oEZWsKxqZboxkzdtVDEljSiKppGDKZ8AghC/z9xpyHZBQaRBdNnzW5tPpjzeTL301Z//uSZOYA9LREVHuYLHAAAA0gAAABFoUtQ05lM8AAADSAAAAEmE9/3tVppxtfz8tI7qmleGGV2UEgNEI/3uGZ+I11WucZPdLdqxukMkUe2fhyMBH7gw83oBV/1fd/rtUXMyx8XEzViqX7w+381u81qg64FJqx3D47AGAAEgSnHKLk32YpvGdRUIxvGBgBc9pjxGCgkHDwYlACOs/LJk0k7iAUAwFovPSm1SEqR4ER1MyibvNSpfvXLOmqKEUm5dWjESMUWAyuxPyGNjhBg7THehcXkbcQaRmt14cJiVpppDN/HZdTzDZQLMiDKc4ei/IZYNIreNDK62IAETmxRhITMecU9KFVG2Wji0C7PwgQio8VG8BEkM6qnEy1vOfuM3/mVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVSmAYAAACAAABUoAKqun9yWLLzjUtoalKg0plLuGGhx+wG51SihxmEKQ/j2OO98IQurKIjWmZDUg7HX//twluVnerLxojSfCYxp6q//7kmTchPRvTVR7b0cQAAANIAAAARUtNUWO4ROAAAA0gAAABAT3WMqeesugLNnJmkqZ6T13c7dsyhfbmZa7q/K1g7W7V7LUTfliZsgYlHJCwqkaXpFeHPIjjCxKLh4+ULDDt7nDq/UmAAJCGITwoAmsAgAFgcm9nYnDAwOFqhphkTmPzSbR8Z7QdGSBcDAOYLHZAMEakgb7KoOjedE4RgWX7n8bnv+1hrNq5Z3Mu2kE887B0tvsHKhSizsx5riuIRNDhWDSqal7GmWp1DeKCRPtDkpec8mgx9Yu69I6gp+OuBIofuwtP8u9Tuo5HJmWihZqKagy9MZ/fr27FSxFf1fy1OUE/nf/l3Kkzsdyps7NvOraxoLdb7/eVdVcbrERthVMQU1FMy4xMDBVVVWUgAAABJpLQABGcoWEIyBAUMB0BmDgYYmJRmNamJggZOXBicFiqzGjYYNsoZNQriTGgBMJV0wgFHBB5nDRDOM1Q5iRIAPLPuMEIEwc2ALBQCG1vP0i++jsXFO3sTTXfmsR0wEo8bNGoRItzWLADNJQjUx9rzv/+5Jk5IT0cUPTe3gccAAADSAAAAEXJS9AlcwACAAANIKAAARYltbRATG41Cih6eXKx9tW6oAHMZ8s9nCimlH2KS9kTWhYGq4Fm21FgduULyc6NR9472U7ParU3c9WcblWvLKsYgSYf+V08CTFLQV5+H6TWM3b7qtZqS+vSYz93H3HgvF5HUkz/wHNu5GP/////////+5c7///////4S+X25ZSWJfT26SksU9P////4EDGraAAABARclN0elZN4txOjSUTeT4gw9RClUiRbQcoGUAIRj5cuXLjIyWrQUFBQYKCgoKN/wUG/+BQKCisjgoKfF+KCgov//IFFfFBv/4X//Tf/gUK//v/+FX/+kv/8gUV0FBgr4QUCiugoMFPCgoFTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//uSZPmACBVmUmZzIAAAAA0gwAAADew7Vbz2AAgAADSDgAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ=="}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(4),i=(o=r)&&o.__esModule?o:{default:o};n(983);var a=n(14);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=document.createElement(e);if(t)for(var r in t)null!==t[r]&&o.setAttribute(r,t[r]);return n&&n.forEach((function(e){if(e)if("string"==typeof e){var t=document.createElement("span");t.innerText=e,o.appendChild(t)}else"string"==typeof e.html?o.innerHTML+=e.html:o.appendChild(e)})),o}var u=function(){function e(){s(this,e),this.storeMap={},this.itemMap={}}return e.prototype.setStore=function(e,t){this.storeMap=e,this.itemMap=t},e.prototype.updateStoreByElements=function(e,t){var n=this;e.map((function(e){if(e.type&&"gap"!==e.type&&"ok"!==e.type&&"ok_cancel"!==e.type&&"ok_cancel_other"!==e.type)if("cluster"!==e.type&&"view"!==e.type){if(e.item_id)switch(e.type){case"check_box":case"radio":var o=(0,i.default)("#"+t+" #"+e.item_id).is(":checked");n.storeMap[e.item_id].value=o;break;case"static_text":case"button":var r=(0,i.default)("#"+t+" #"+e.item_id).text();n.storeMap[e.item_id].value=r;break;case"edit_text":var a=(0,i.default)("#"+t+" #"+e.item_id).val();n.storeMap[e.item_id].value=a}}else n.updateStoreByElements(e.elements,t)}))},e.prototype.getAlignStyle=function(e){var t="";switch(e){case"align_left":t+="text-align:left;";break;case"align_center":t+="text-align:center;";break;case"align_right":t+="text-align:right;"}return t},e.prototype.getElementStyle=function(e){var t="";if(e.width&&!a.isMobile&&(t+="width:"+e.width+"px;"),e.height&&(a.isMobile?t+="min-height:200px;":t+="height:"+e.height+"px;"),e.char_width&&!a.isMobile&&(t+="width:"+10*e.char_width+"px;"),e.char_height&&(t+="height:"+10*e.char_height+"px;"),"edit_text"===e.type){var n="resize:none;";e.width||e.char_width||(n+="width:100%;"),t+=n}else"check_box"===e.type||e.type;e.align_children&&(t+=this.getAlignStyle(e.align_children)),e.alignment&&(t+=this.getAlignStyle(e.alignment)),e.multiline||"static_text"!==e.type&&"edit_text"!==e.type||(t+="white-space: nowrap;");var o;return(o=e.whiteSpace)&&(t+="white-space: "+o+";"),e.bold&&(t+="font-weight:600;"),e.italic&&(t+="font-style:italic;"),e.border&&(t+="border:"+e.border),t},e.prototype.buildWithWrapper=function(e,t){var n="js-item-wrapper";return t&&"button"===t.type&&(n+=" btn-wrapper"),c("div",{class:n},[e])},e.prototype.buildCheckBox=function(e,t){var n=e.name,o=this.storeMap[e.item_id],r=document.createDocumentFragment();return r.appendChild(c("input",{type:"checkbox",checked:o&&!0===o.value?o.value:null,id:e.item_id,style:t})),r.appendChild(c("span",{},[n])),this.buildWithWrapper()},e.prototype.buildRadio=function(e,t){var n=e.name,o=e.group_id,r=this.storeMap[e.item_id],i=document.createDocumentFragment();return i.appendChild(c("input",{type:"radio",checked:r&&!0===r.value?r.value:null,name:o,id:e.item_id,style:t})),i.appendChild(c("span",{},[n])),this.buildWithWrapper(i)},e.prototype.buildStaticText=function(e,t){var n=e.name?e.name:"";if(n=unescape(n.replace(/\\/g,"%")),e.item_id){var o=this.storeMap[e.item_id];o&&o.value&&(n=o.value+"")}return this.buildWithWrapper(c("div",{id:e.item_id,style:t},[n]))},e.prototype.buildButton=function(e,t,n){if(!n){n=e.name?e.name:"",n=unescape(n.replace(/\\/g,"%"));var o=this.storeMap[e.item_id];o&&o.value&&(n=o.value+"")}return n||(n=c("span",{style:"color: transparent"},["A"])),this.buildWithWrapper(c("button",{style:t,type:"submit",id:e.item_id,class:"pdf_js_btn btn btn-outline btn-xs btn-circle"},[n]))},e.prototype.buildEditText=function(e,t){e.readonly;var n=this.storeMap[e.item_id],o="";n&&n.value&&(o=n.value),0==o.length&&(o=e.value);var r=void 0;return r=e.multiline?e.readonly?c("div",{style:t+";height:unset",name:"",id:e.item_id,readonly:"true"},[c("pre",{style:"white-space:pre-line"},[o])]):c("textarea",{style:t,name:"",id:e.item_id},[o]):e.password?c("input",{style:t,type:"password",value:o,name:"",id:e.item_id,readonly:e.readonly?"true":null}):e.SpinEdit?c("input",{style:t,type:"number",value:o,name:"",id:e.item_id,readonly:e.readonly?"true":null}):c("input",{style:t,type:"text",value:o,name:"",id:e.item_id,readonly:e.readonly?"true":null}),this.buildWithWrapper(r||document.createDocumentFragment())},e.prototype.buildListBox=function(e,t){},e.prototype.buildView=function(e,t){var n=[];for(var o in e.elements)n.push(this.JSWindowToHTML(e.elements[o]));var r="js-view-component";return"align_row"===e.align_children&&(r+=" children-in-row"),c("div",{class:r,style:t},n)},e.prototype.buildCluster=function(e,t){var n=[];for(var o in e.elements)n.push(this.JSWindowToHTML(e.elements[o]));var r="js-cluster-component";"align_row"===e.align_children&&(r+=" children-in-row");var i=e.name?e.name:"";return c("div",{class:r,style:t+"position:relative;"},[c("fieldset",{style:"text-align: left; border-color: gray; border-style: solid; border-width: 1px;"},[c("legend",{style:"background:white"},[c("span",{},[i=unescape(i.replace(/\\/g,"%"))])]),c("div",{},n)])])},e.prototype.buildOkCancelOther=function(e,t){var n=document.createDocumentFragment(),o=this.buildButton({item_id:"jscancle",type:"button"},"",e.cancel_name?e.cancel_name:"Cancel"),r=this.buildButton({item_id:"jsok",type:"button"},"",e.ok_name?e.ok_name:"Ok"),i=this.buildButton({item_id:"jsother",type:"button"},"",e.other_name?e.other_name:"Other");if("ok"===e.type)n.appendChild(r);else if("ok_cancel"===e.type)n.appendChild(r),n.appendChild(o);else{if("ok_cancel_other"!==e.type)return n;n.appendChild(r),n.appendChild(i),n.appendChild(o)}return c("div",{class:"js-buttons",style:t},[n])},e.prototype.JSWindowToHTML=function(e){e&&e.item_id&&e.type&&(this.itemMap[e.item_id]||(this.itemMap[e.item_id]={}),this.storeMap[e.item_id]||(this.storeMap[e.item_id]={}),this.storeMap[e.item_id].type=e.type,this.itemMap[e.item_id].type=e.type);var t=this.getElementStyle(e),n=void 0;switch(e.type){case"button":n=this.buildButton(e,t);break;case"check_box":n=this.buildCheckBox(e,t);break;case"radio":n=this.buildRadio(e,t);break;case"list_box":case"hier_list_box":break;case"static_text":n=this.buildStaticText(e,t);break;case"edit_text":n=this.buildEditText(e,t);break;case"popup":break;case"ok":case"ok_cancel":case"ok_cancel_other":n=this.buildOkCancelOther(e,t);break;case"view":n=this.buildView(e,t);break;case"cluster":n=this.buildCluster(e,t)}return n||document.createDocumentFragment()},e.prototype.buildDialogWrapper=function(e,t,n){return'<div id="'+e+'" class="js-window-modal modal fade bs" ><div class="js-modal-dialog modal-dialog " style="'+t+'" ><div class="modal-content "><div class="modal-header" ><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><div class="modal-title">'+n.i18n.t("viewer_:pdfjs.windowTitle")+'</div></div><div class="modal-body" ></div><div class="js-warning-footer" ><div class="js-warning" ><span >'+n.i18n.t("viewer_:pdfjs.windowWarning")+"</span></div></div></div></div></div>"},e}(),l=function(){function e(t,n){s(this,e),this.componentUtils=new u,this.callback=n,this.dialogId="jsWindow",this.monitor=t,this.width=void 0,this.height=void 0,this.storeMap={},this.itemMap={},this.componentUtils.setStore(this.storeMap,this.itemMap)}return e.prototype.updateComponents=function(){if((0,i.default)("#"+this.dialogId).length>0)for(var e in this.itemMap){this.itemMap[e].disabled?(0,i.default)("#"+this.dialogId+" #"+e).addClass("disabled"):(0,i.default)("#"+this.dialogId+" #"+e).removeClass("disabled")}},e.prototype.enable=function(e){for(var t in e){var n=e[t];this.itemMap[t]||(this.itemMap[t]={}),this.itemMap[t].disabled=!n}this.updateComponents()},e.prototype.end=function(e){this.callback&&this.callback(e),(0,i.default)("#"+this.dialogId).hide()},e.prototype.load=function(e){for(var t in e){var n=e[t];this.updateStoreItem(t,n)}},e.prototype.store=function(){if(0===(0,i.default)("#"+this.dialogId).length)return{};this.componentUtils.updateStoreByElements(this.monitor.description.elements,this.dialogId);var e={};for(var t in this.storeMap){var n=this.storeMap[t];e[t]=n.value}return e},e.prototype.updateStoreItem=function(e,t){this.storeMap[e]={value:t}},e.prototype.getStore=function(){return this.storeMap},e.prototype.getCallbacks=function(e){var t="";for(var n in e)if("description"!==n&&"initialize"!==n&&"validate"!==n&&"commit"!==n&&"destroy"!==n){var o=e[n];"function"==typeof o&&(this.itemMap[n]||(this.itemMap[n]={}),""!==t&&(t+=","),t+="#"+n,this.itemMap[n].callback=o)}return t},e.prototype.initialize=function(e){var t=this,n="";void 0!==this.monitor.description.width&&(this.width=this.monitor.description.width,n+="width:"+this.width+"px;"),void 0!==this.monitor.description.height&&(this.height=this.monitor.description.height,n+="min-height:"+this.height+"px;"),this.monitor.initialize(this);var o=document.createDocumentFragment();for(var r in this.monitor.description.elements)o.appendChild(this.componentUtils.JSWindowToHTML(this.monitor.description.elements[r]));var a=this.dialogId,s=this.componentUtils.buildDialogWrapper(a,n,e),c=this.getCallbacks(this.monitor);(0,i.default)("#"+a).length>0&&(0,i.default)("#"+a).remove();var u=(0,i.default)(s);return u.find(".modal-body").append(o),(0,i.default)("body").append(u),this.updateComponents(),(0,i.default)("#"+a+" #jsok").off("click").on("click",(function(e){t.monitor.validate&&t.monitor.validate(t),t.monitor.commit&&t.monitor.commit(t),t.monitor.ok&&t.monitor.ok(t),t.monitor.destroy&&t.monitor.destroy(t),t.end("ok")})),(0,i.default)("#"+a+" #jscancle, #"+a+" .close").off("click").on("click",(function(e){t.monitor.cancel&&t.monitor.cancel(t),t.monitor.destroy&&t.monitor.destroy(t),t.end("cancel")})),(0,i.default)("#"+a+" #jsother").off("click").on("click",(function(e){t.monitor.other&&t.monitor.other(t),t.monitor.destroy&&t.monitor.destroy(t),t.end("other")})),(0,i.default)("#"+a+" .modal-dialog").off("click",c).on("click",c,(function(e){for(var n=e.target;!n.id;)n=n.parentElement;var o=n.id;t.itemMap[o].callback&&t.itemMap[o].callback(t)})),!0},e.prototype.doModal=function(){(0,i.default)("#"+this.dialogId).show()},e}();t.default=l},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(985),a=(o=i)&&o.__esModule?o:{default:o};var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.addStockEvent=function(){},e.prototype.alertFileNotFount=function(){},e.prototype.alertSelectFailed=function(){},e.prototype.argsDWIM=function(){},e.prototype.canPlayOrAlert=function(){},e.prototype.computerFloatWinRect=function(){},e.prototype.constrainRectToScreen=function(){},e.prototype.createPlayer=function(){},e.prototype.Events=function(e){return new a.default(e)},e.prototype.getAltTextData=function(){},e.prototype.getAltTextSettings=function(){},e.prototype.getAnnotStockEvents=function(){},e.prototype.getAnnotTraceEvents=function(){},e.prototype.getPlayers=function(){},e.prototype.getPlayerStockEvents=function(){},e.prototype.getPlayerTraceEvents=function(){},e.prototype.getURLData=function(){},e.prototype.getURLSettings=function(){},e.prototype.getWindowBorderSize=function(){},e.prototype.openPlayer=function(){},e.prototype.removeStockEvents=function(){},e.prototype.startPlayer=function(){},r(e,[{key:"align",get:function(){}},{key:"canResize",get:function(){}},{key:"closeReason",get:function(){}},{key:"ifOffScreen",get:function(){}},{key:"layout",get:function(){}},{key:"monitorType",get:function(){}},{key:"openCode",get:function(){}},{key:"over",get:function(){}},{key:"pageEventNames",get:function(){}},{key:"raiseCode",get:function(){}},{key:"raiseSystem",get:function(){}},{key:"renditionType",get:function(){}},{key:"stauts",get:function(){}},{key:"trace",get:function(){}},{key:"version",get:function(){}},{key:"windowType",get:function(){}}]),e}();t.default=s},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){o(this,e);var t=arguments[0];this.change="",this.changeEx="",this.events=[],this.init(t)}return e.prototype.init=function(e){for(var t in e){var n={};n[t]=e[t],this.add(n)}},e.prototype.add=function(e){for(var t in e)this.events[t]||(this.events[t]=[]),this.events[t]=e[t]},e.prototype.dispatch=function(){},e.prototype.remove=function(e){},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(456),a=(o=i)&&o.__esModule?o:{default:o};var s=2,c=function(){function e(t,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._backgroudColor=a.default.yellow,this._clickAdvances=!1,this._isFullScreen=!0,this._cursor=s,this._defaultTransition="",this._escapeExits=!1,this._loop=!1,this._timedelay=3,this._transitions="",this._usePageTiming=!1,this._useTimer=!1}return r(e,[{key:"backgroudColor",get:function(){return this._backgroudColor},set:function(e){}},{key:"clickAdvances",get:function(){return this._clickAdvances},set:function(e){}},{key:"cursor",get:function(){return this._cursor},set:function(e){}},{key:"defaultTransition",get:function(){return this._defaultTransition},set:function(e){}},{key:"escapeExits",get:function(){return this._escapeExits},set:function(e){}},{key:"isFullScreen",get:function(){return this._isFullScreen},set:function(e){this._isFullScreen=e}},{key:"loop",get:function(){return this._loop},set:function(e){}},{key:"timedelay",get:function(){return this._timedelay},set:function(e){}},{key:"transitions",get:function(){return this._transitions},set:function(e){}},{key:"usePageTiming",get:function(){return this._usePageTiming},set:function(e){}},{key:"useTimer",get:function(){return this._useTimer},set:function(e){}}]),e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cleanFieldMap=t.JSDoc=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=d(n(988)),a=d(n(989)),s=n(39),c=d(n(990)),u=d(n(111)),l=n(297),f=d(n(1007)),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(103));function d(e){return e&&e.__esModule?e:{default:e}}var h=function(e){return e.jsEngine.getPDFDoc()},g=function(e){return e.jsEngine.getPDFForm()},m={},v=function(){function e(t,n){for(var o in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.jsEngine=t,this.jsApp=n,this._dirty=!1,this._layout="",this._arrTemplate=new Array,this.printParams=new a.default(this.jsEngine,this),this.annotManage=u.default,this)"function"==typeof this[o]&&(this[o].toString=function(){return"function(){[native code]}"})}return e.prototype.addField=function(e,t,n,o){switch(t){case"text":t=6;break;case"button":t=1;break;case"combobox":t=4;break;case"listbox":t=5;break;case"checkbox":t=2;break;case"radiobutton":t=3;break;case"signature":return null}return g(this).addControlSync({fieldName:e,fieldType:t,pageIndex:n,rect:{left:o[0],top:o[1],right:o[2],bottom:o[3]}}),this.getField(e)},e.prototype.getOCGs=function(){var e=[],t=h(this).ocgs;for(var n in t.children)y(t.children[n],e,h(this));return e},e.prototype.getPrintParams=function(){return this.printParams},e.prototype.getTemplate=function(e){if(!e||""===e)return null;if(this._arrTemplate.length<=0){var t=h(this).visibleTemplates;if(t&&t.length>0)for(var n=0;n<t.length;n++){if(e===t[n].name)return new c.default(t[n],!1,h(this))}if((t=h(this).invisibleTemplates)&&t.length>0)for(var o=0;o<t.length;o++){if(e===t[o].name)return new c.default(t[o],!0,h(this))}return null}for(var r=0;r<this._arrTemplate.length;r++){var i=this._arrTemplate[r];if(i.name===e)return i}return null},e.prototype.removeTemplate=function(e){if(!e||""===e)return!1;if(h(this)){var t=this;h(this).removeTemplate(e).then((function(n){for(var o=0;o<t._arrTemplate.length;o++){if(t._arrTemplate[o].name===e){t._arrTemplate.splice(o,1);break}}}))}},e.prototype.print=function(e,t,n,r,i,a,s,c,u){var l=this;if(!this.jsEngine.PDFViewer.webPDFSRPromise&&!this.jsEngine.getEvent().isSensitiveCheck){var f=void 0;f="object"==(void 0===e?"undefined":o(e))?{startIndex:e.firstPage,endIndex:e.lastPage,silent:e.interactive,printType:["page","annot"]}:u?{startIndex:u.firstPage,endIndex:u.lastPage+1,silent:u.interactive,printType:["page","annot"]}:{ui:e,startIndex:t,endIndex:n,silent:r,shrinkToFit:i,asImage:a,reverse:s,printType:["page","annot"]},g(this).addTask((function(e){return l.jsEngine.PDFViewer.printPDFDocument(f)}))}},e.prototype.addAnnot=function(e){return"FileAttachment"!==e.type&&"Sound"!==e.type?this.annotManage.addAnnot(e,this.jsEngine.PDFViewer):this.annotManage.showFileDialog(e)},e.prototype.syncAnnotScan=function(){return h(this).getAnnots()},e.prototype.getAnnots=function(e){var t=this,n=-1,o=l.ANFB_ShouldNone,r=l.ANSB_None,i=!1;e&&(e.nPage>=0&&(n=e.nPage),e.nSortBy>=0&&(r=e.nSortBy),e.nFilterBy>=0&&(o=e.nFilterBy),e.bReverse&&(i=e.bReverse));var a=this.numPages,s=h(this).pageCache,c=0,u=[];if(-1!==n&&(c=n),c>=a)return null;var f=function(){var e=s[c];if(!e)return c++,"continue";var t=Object.keys(e.annotIdMap);if(!t.length)return c++,"continue";var o=t.map((function(t){return{pageIndex:c,annot:e.annotIdMap[t]}}));if(u.push.apply(u,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(o)),-1!==n)return"break";c++};e:do{switch(f()){case"continue":continue;case"break":break e}}while(c<a);var p=[];return u.map((function(e){var n=e.pageIndex,o=e.annot,r=t.annotManage.getAnnot(o,n);r&&p.push(r)})),this.annotManage.getAnnots(p,o,r,i)},e.prototype.getAnnot=function(e,t){var n,o=h(this).pageCache;if(!(n=o[e]))return null;var r=Object.keys(n.annotIdMap);if(!r.length)return null;var i=r.map((function(e){return n.annotIdMap[e]})).find((function(e){return e.getId()==t}));return this.annotManage.getAnnot(i,e,this.jsApp)},e.prototype.calculateNow=function(){},e.prototype.closeDoc=function(){this.jsEngine.getEvent().isSensitiveCheck||this.jsEngine.closeDoc()},e.prototype.exportAsFDF=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.aFields,n=e.bAnnotations,o=void 0!==n&&n,r=h(this),i=0,a=this.documentFileName.replace(/.pdf$/i,".fdf"),s=1;o&&(s=3);var c=Promise.resolve(),u=[];t&&(c=r.getAnnots().then((function(e){e.forEach((function(e){e.forEach((function(e){var n=e.id,o=e.getPage().getId();if(t.indexOf(n)>-1){var r=u[o]||[];r.push(n),u[o]=r}}))}))}))),c.then((function(){return r.api.exportToFDF(r.id,i,s,u)})).then((function(e){p.download(e,a,"application/vnd.fdf")}))},e.prototype.getField=function(e){if(!e)return null;var t=h(this).getPDFForm().getField(e),n=void 0;return t||(n=h(this).getPDFForm().getField(e,!0))?m[e]?m[e]:m[e]=new i.default(this.jsEngine,t,n):null},e.prototype.getNthFieldName=function(e){if("number"!=typeof e&&(e=parseInt(e),isNaN(e)))throw new Error("Invalid index number: "+e);return h(this).getPDFForm().getFieldByIndex(e).getName()},e.prototype.getPageBox=function(e,t){return[0,0,612,792]},e.prototype.getPageRotation=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return 90*h(this).pageCache[e].getRotation()},e.prototype.getURL=function(){},e.prototype.importAnFDF=function(){var e=this,t=document.querySelector(".import-an-fdf");t&&t.remove();var n=document.createElement("label");n.setAttribute("class","import-an-fdf"),n.style.display="none";var o=document.createElement("input");o.type="file",o.accept=".fdf",n.addEventListener("change",(function(t){var o=t.target.files[0];h(e).importFormFromFile(o,0),n.remove()})),n.appendChild(o),document.body.append(n),setTimeout((function(){n.click()}),100)},e.prototype.removeField=function(e){delete m[e],g(this).removeField(e)},e.prototype.resetForm=function(e){if(!this.jsEngine.getEvent().isSensitiveCheck){var t=void 0,n=this.jsEngine.PDFViewer.getCurrentActivatable();n&&n.annot&&(t=n.annot.getField()),g(this).resetForm(e,0,t)}},e.prototype.submitForm=function(e,t,n,r,i,a,c,u,l,f,p,d,h,m,v,y,b,w,_,P,O,E,x,C){var A=this.jsEngine.PDFViewer;if(!this.jsEngine.getEvent().isSensitiveCheck){var S=0;switch(1===arguments.length&&"object"===o(arguments[0])&&(e=arguments[0].cURL,t=arguments[0].bFDF,n=arguments[0].bEmpty,r=arguments[0].aFields,i=arguments[0].bGet,a=arguments[0].bAnnotations,c=arguments[0].bXML,u=arguments[0].bIncrChanges,l=arguments[0].bPDF,f=arguments[0].bCanonical,p=arguments[0].bExclNonUserAnnots,d=arguments[0].bExclFKey,h=arguments[0].cPassword,m=arguments[0].bEmbedForm,v=arguments[0].oJavaScript,y=arguments[0].cSubmitAs,b=arguments[0].bInclNMKey,w=arguments[0].aPackets,_=arguments[0].cCharset,P=arguments[0].oXML,O=arguments[0].cPermID,E=arguments[0].cInstID,x=arguments[0].cUsageRights,C=arguments[0].bHTMLForm),i&&(S|=s.FormActionFlags.FlagGetMethod),(l||"PDF"==y)&&(S|=s.FormActionFlags.FlagSubmitAsPDF),(d||"EXCL"==y)&&(S|=s.FormActionFlags.FlagExclFKey),C&&(S|=s.FormActionFlags.FlagExportFormat),y){case"FDF":break;case"XFDF":S|=s.FormActionFlags.FlagAsXFDF;break;case"HTML":S|=s.FormActionFlags.FlagExportFormat;break;case"XDP":case"XML":case"XFD":return void console.error("not support submition format")}var D=A.i18n.t("viewer_:pdfjs.safeModeSubmit",{URL:e,interpolation:{escapeValue:!1}});confirm(D)&&g(this).submitForm(e,r,S)}},e.prototype.cleanFields=function(){m={}},e.prototype.createIcon=function(e,t,n){return{name:"",stream:e,width:t,height:n}},r(e,[{key:"author",get:function(){return h(this).getMetadataValue("Author")},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return h(this).setMetadataValue("Author",e)}},{key:"calculate",get:function(){return g(this).calculationEnabled},set:function(e){return g(this).calculationEnabled=e}},{key:"creationDate",get:function(){return h(this).getMetadataValue("CreationDate")},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return h(this).setMetadataValue("CreationDate",e)}},{key:"dirty",get:function(){return this._dirty},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return this._dirty=e}},{key:"docID",get:function(){return h(this).info.fileID.slice(0,2)}},{key:"creator",get:function(){return h(this).getMetadataValue("Creator")},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return h(this).setMetadataValue("Creator",e)}},{key:"documentFileName",get:function(){return h(this).info.fileName}},{key:"external",get:function(){return!1}},{key:"filesize",get:function(){return h(this).info.filesize}},{key:"info",get:function(){return h(this).metadata}},{key:"icons",get:function(){return h(this).getNameTreeIcons()}},{key:"keywords",get:function(){return h(this).getMetadataValue("Keywords")}},{key:"layout",get:function(){switch(this.jsEngine.PDFViewer.getPDFDocRender().getViewMode().constructor.getName()){case"continuous-view-mode":return"OneColumn";case"single-page-view-mode":return"SinglePage";case"'multipage-view-mode'":return"TwoColumnLeft";case"facing-page-view-mode":return"TwoPageLeft"}}},{key:"modDate",get:function(){return h(this).getMetadataValue("ModDate")}},{key:"numFields",get:function(){return h(this).getPDFForm().getFieldCount()}},{key:"numPages",get:function(){return h(this).getPageCount()}},{key:"path",get:function(){return"c:/fakepath/"+h(this).info.fileName}},{key:"pageNum",get:function(){var e=this.jsEngine.PDFViewer,t=e.getCurrentActivatable();return t&&t.annot?t.annot.getPage().getIndex():e.getPDFDocRender().getCurrentViewMode().getCurrentPageIndex()},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return e>=this.numPages&&(e=this.numPages-1),this.jsEngine.PDFViewer.goToPage(e,0,0,!1),e}},{key:"templates",get:function(){}}]),e}(),y=function e(t,n,o){for(var r in t.hasLayer&&n.push(new f.default(t.id,t,o)),t.children)e(t.children[r],n,o)};t.JSDoc=v,t.cleanFieldMap=function(){for(var e in m){m[e].destroy(),delete m[e]}m={}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(39),i=u(n(4)),a=u(n(57)),s=u(n(457)),c=u(n(1));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e&&e.getControlByIndex(t).getWidget()}function f(e){var t;if(e)for(var n=0;n<e.getControlsCount();n++)if(t=e.getControlByIndex(n).getWidget())return t;return t}function p(e,t,n,o){e&&e[n].apply(e,o),t&&t.forEach((function(e){e[n].apply(e,o)}))}var d=function(){function e(t,n,o){for(var r in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.jsEngine=t,this.field=n,this.fields=o,this.targetField=this.field||this.fields[0],this._readonly="",this._required="",this._value="",this)"function"==typeof this[r]&&(this[r].toString=function(){return"function(){[native code]}"})}return e.prototype.destroy=function(){this.fields=null,this.field=null,this.targetField=null,this.jsEngine=null},e.prototype.setItems=function(e){return p(this.field,this.fields,"setItems",[e]),e},e.prototype.buttonGetIcon=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=f(this.targetField).getIconObjNum(e);return"number"==typeof t?{_objNum:t}:t},e.prototype.buttonSetIcon=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;p(this.field,this.fields,"setIconObj",[e,t])},e.prototype.browseForFileToSubmit=function(){},e.prototype.buttonGetCaption=function(e){switch(e||(e=0),e){case 0:e="normalCaption";break;case 1:e="downCaption";break;case 2:e="rolloverCaption"}return f(this.targetField).getMKProperty(e)},e.prototype.buttonImportIcon=function(e,t){var n=this;return new Promise((function(e){(0,i.default)("#jsBrowserFile").length>0&&(0,i.default)("#jsBrowserFile").remove(),(0,i.default)("body").append('<input id="jsBrowserFile" type="file" style="display: block;visibility:hidden" accept="image/jpg,image/jpeg,image/bmp,image/png"/>'),(0,i.default)("#jsBrowserFile").off("change").on("change",(function(t){var o=t.target.files[0];if(!o)return-2;var r=new FileReader;r.readAsArrayBuffer(o),r.onload=function(){var t=new Uint8Array(r.result);n.buttonSetIcon(t,0),e(0)}})),(0,i.default)("#jsBrowserFile").click()}))},e.prototype.buttonSetCaption=function(e,t){if(!this.jsEngine.getEvent().isSensitiveCheck){switch(t||(t=0),Array.isArray(e)&&1===e.length&&(e=e[0]),"string"!=typeof e&&(e+=""),t){case 0:t="normalCaption";break;case 1:t="downCaption";break;case 2:t="rolloverCaption"}p(this.field,this.fields,"setMKProperty",[t,e])}},e.prototype.checkThisBox=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.jsEngine.getEvent().isSensitiveCheck){var n=this.field;if(n.getType()===r.FieldType.RadioButton||n.getType()===r.FieldType.CheckBox){var o=n.getWidget(e);if(!o)return;t?n.setValue(o.getOnAS()):n.getValue()===o.getOnAS()&&n.setValue("Off",null,!0)}}},e.prototype.clearItems=function(){this.jsEngine.getEvent().isSensitiveCheck||p(this.field,this.fields,"clearItems",[])},e.prototype.defaultIsChecked=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.jsEngine.getEvent().isSensitiveCheck&&this.targetField&&(this.targetField.getType()===r.FieldType.RadioButton||this.targetField.getType()===r.FieldType.CheckBox)){var n=l(this.targetField,e),o="Off";t&&(o=n?n.getOnAS():"Yes"),p(this.field,this.fields,"setDefaultValue",[o]),p(this.field,this.fields,"setValue",[o])}},e.prototype.deleteItemAt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.field.getValueIndex();if(!this.jsEngine.getEvent().isSensitiveCheck){if("number"!=typeof e&&(e=parseInt(e)),void 0===e)throw new Error("invalid parameter, expected integer.");p(this.field,this.fields,"deleteItems",[e])}},e.prototype.getArray=function(){},e.prototype.getItemAt=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("number"!=typeof e&&(e=parseInt(e)),void 0===e)throw new Error("invalid parameter, expected integer.");var n=this.targetField;if(n.getType()===r.FieldType.ListBox||n.getType()===r.FieldType.ComboBox){var o=n.getOptions();-1===e&&(e=o.length-1);var i=o[e];return t?i.value:i.lable}return""},e.prototype.insertItemAt=function(e,t,n){if(!this.jsEngine.getEvent().isSensitiveCheck&&this.targetField){var o=this.targetField;o.getType()!==r.FieldType.ListBox&&o.getType()!==r.FieldType.ComboBox||p(this.field,this.fields,"insertItemAt",[e,t,n])}},e.prototype.isBoxChecked=function(e){var t=this.targetField;if(!this.targetField)return!1;if(t.getType()===r.FieldType.RadioButton||t.getType()===r.FieldType.CheckBox){var n=t.getWidget(e);if(n)return"Off"!=n.getAS()}return!1},e.prototype.isDefaultChecked=function(e){if(!this.targetField)return!1;var t=this.targetField;if(t.getType()===r.FieldType.RadioButton||t.getType()===r.FieldType.CheckBox){var n=t.getWidget(e);if(n)return t.getDefaultValue()===n.getOnAS()}return!1},e.prototype.setAction=function(e,t){p(this.field,this.fields,"setAction",[-1,t])},e.prototype.setFocus=function(){var e=this;if(this.targetField)if(this.targetField.controls[0].getWidget())this.targetField.focus();else{var t=this.targetField,n=this.jsEngine.PDFViewer.getEventEmitter();(0,a.default)((function(o){return e.targetField.controls[0].getWidgetAnnot().then((function(o){if(o){var r=o.page.info.index;n.on(c.default.renderPageSuccess,(function e(o){o.page.getIndex()==r&&(t.focus(),n.off(c.default.renderPageSuccess,e))})),e.jsEngine.PDFViewer.goToPage(r)}}))}))}},o(e,[{key:"alignment",get:function(){if(this.targetField)return"";switch(this.targetField.getAlignment()){case 0:return"left";case 1:return"center";case 2:return"right"}},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck){var t=0;switch(e){case"left":t=0;break;case"center":t=1;break;case"right":t=2}return p(this.field,this.fields,"setAlignmentWithString",[t,e]),e}}},{key:"borderStyle",get:function(){return this.targetField&&this.targetField.getBorderStyle()},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return p(this.field,this.fields,"setBorderStyle",[e]),e}},{key:"charLimit",get:function(){return this.targetField&&this.targetField.getMaxLength()},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return p(this.field,this.fields,"setMaxLength",[e]),e}},{key:"comb",get:function(){return!!r.FieldFlag.isComb(this.targetField&&this.targetField.getFlags())},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return p(this.field,this.fields,"setComb",[e]),e}},{key:"currentValueIndices",get:function(){return this.targetField&&this.targetField.getValueIndex()},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return p(this.field,this.fields,"setValueByIndex",[e]),e}},{key:"defaultValue",get:function(){return this.targetField&&this.targetField.getDefaultValue()},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return p(this.field,this.fields,"setDefaultValue",[e]),e}},{key:"display",get:function(){var e=f(this.targetField).getFlags();return 2&e?1:4&e?32&e?3:0:2},set:function(e){return p(this.field,this.fields,"setWidgetDisplay",[e,!0]),e}},{key:"exportValues",get:function(){return this.targetField&&this.targetField.getExportValues()}},{key:"fillColor",get:function(){var e=f(this.targetField).getMKProperty("fillColor");return["RGB",e>>16&1,e>>8&1,1&e]},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return p(this.field,this.fields,"setFillColor",[e]),e}},{key:"hidden",get:function(){var e=f(this.targetField).getFlags();return!!(2&e||1&e)},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return p(this.field,this.fields,"setHidden",[e]),e}},{key:"highlight",get:function(){},set:function(e){this.jsEngine.getEvent().isSensitiveCheck}},{key:"lineWidth",get:function(){},set:function(e){this.jsEngine.getEvent().isSensitiveCheck}},{key:"multiline",get:function(){return!!r.FieldFlag.isMultiline(this.targetField&&this.targetField.getFlags())},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return p(this.field,this.fields,"setMultiline",[e]),e}},{key:"name",get:function(){return this.targetField&&this.targetField.getName()}},{key:"numItems",get:function(){if(!this.targetField)return 0;if(this.targetField.getType()===r.FieldType.ListBox||this.targetField.getType()===r.FieldType.ComboBox)return this.targetField.getOptions().length;throw new Error("invalid field type: only list box and combo box available.")}},{key:"password",get:function(){return!!r.FieldFlag.isPassword(this.targetField&&this.targetField.getFlags())},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return p(this.field,this.fields,"setPassword",[e]),e}},{key:"print",get:function(){},set:function(e){this.jsEngine.getEvent().isSensitiveCheck}},{key:"radiosInUnison",get:function(){},set:function(e){this.jsEngine.getEvent().isSensitiveCheck}},{key:"readonly",get:function(){return!!r.FieldFlag.isReadOnly(this.targetField&&this.targetField.getFlags())},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return p(this.field,this.fields,"setReadonly",[e]),e}},{key:"required",get:function(){return!!r.FieldFlag.isRequired(this.targetField&&this.targetField.getFlags())},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return p(this.field,this.fields,"setRequired",[e]),e}},{key:"type",get:function(){if(!this.targetField)return"unknown";switch(this.targetField.getType()){default:case 0:return"unknown";case 1:return"button";case 2:return"checkbox";case 4:return"combobox";case 5:return"listbox";case 3:return"radiobutton";case 7:return"signature";case 6:return"text"}}},{key:"value",get:function(){if(this.targetField){var e=this.targetField.getValue();return""==e?"":isNaN(e)?e:+e}},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck&&this.targetField){var t=this.jsEngine.PDFViewer.getPDFDocRender().formRender.control,n=void 0,o=this.targetField.getType();if(Array.isArray(e)&&o!=r.FieldType.ListBox&&(e=e.join(",")),o===r.FieldType.ListBox||o===r.FieldType.ComboBox){var i=this.field.getOptions();i.forEach((function(t){t.value==e&&(t.selected=!0),Array.isArray(e)&&-1!=e.indexOf(t.value)&&(t.selected=!0)})),this.field.setOptions(i)}return t&&(n=t.annot.getField())&&this.field.getName()===n.getName()||p(this.field,this.fields,"setValue",[e]),o!==r.FieldType.RadioButton&&o!==r.FieldType.CheckBox||this.jsEngine.setStatus("calculate",this.targetField),e}}},{key:"valueAsString",get:function(){return this.targetField?this.targetField.getValue().toString():""}},{key:"strokeColor",get:function(){var e=this.targetField.getBorderColor();return["RGB",e>>16&1,e>>8&1,1&e]},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return p(this.field,this.fields,"setBorderColor",[e]),e}},{key:"textColor",get:function(){var e=this.targetField&&this.targetField.getDAFontColor();return["RGB",e>>16&1,e>>8&1,1&e]},set:function(e){return p(this.field,this.fields,"setDAFontColor",[e]),e}},{key:"userName",get:function(){return this.PDFFieldgetAlternateName()},set:function(e){if(this.field)return this.field.update("alternateName",e);this.fields.forEach((function(t){t.update("alternateName",e)}))}},{key:"rect",get:function(){var e=f(this.targetField),t=void 0;return[(t=e?e.getRect():this.targetField.rect).left,t.top,t.right,t.bottom]},set:function(e){if(Array.isArray(e)&&!(e.length<4)){if(e[0]>e[2]){var t=e[0];e[0]=e[2],e[2]=t}if(e[3]>e[1]){var n=e[3];e[3]=e[1],e[1]=n}p(this.field,this.fields,"setRect",[{left:e[0],top:e[1],right:e[2],bottom:e[3]}])}}},{key:"style",get:function(){return f(this.targetField).getMKProperty("normalCaption")},set:function(e){switch(e){case"check":e="4";break;case"cross":e="8";break;case"diamond":e="u";break;case"circle":e="l";break;case"star":e="H";break;case"square":e="n"}return p(this.field,this.fields,"setMKProperty",["normalCaption",e])}},{key:"buttonScaleWhen",get:function(){if(this.targetField&&this.targetField.getType()===r.FieldType.PushButton){var e=0;switch(f(this.targetField).info.iconFit.scaleWayType){case 1:e=0;break;case 4:e=1;break;case 2:e=2;break;case 3:e=3}return e}},set:function(e){if(this.targetField&&this.targetField.getType()===r.FieldType.PushButton){var t=f(this.targetField),n=t.info.iconFit,o=void 0;switch(e){case s.default.always:o="e_ScaleWayAlways",n.scaleWayType=1;break;case s.default.never:o="e_ScaleWayNever",n.scaleWayType=4;break;case s.default.tooBig:o="e_ScaleWayBigger",n.scaleWayType=2;break;case s.default.tooSmall:o="e_ScaleWaySmaller",n.scaleWayType=3;break;default:o="e_ScaleWayAlways",n.scaleWayType=1}var i={scale_way_type:o,is_proportional_scaling:n.isProportionalScaling+"",fit_bounds:n.fitBounds,horizontal_fraction:(100*n.horizontalFraction).toFixed(0),vertical_fraction:(100*n.verticalFraction).toFixed(0)};(0,a.default)((function(e){t.setWidgetIconFitOption(i)}))}}}]),e}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.jsEngine=t,this.doc=n,this.params={}}return o(e,[{key:"printerName",get:function(){return"Web Printer"},set:function(e){}},{key:"firstPage",get:function(){return void 0!==this.params.firstPage?this.params.firstPage:0},set:function(e){this.params.firstPage=e}},{key:"lastPage",get:function(){return void 0!==this.params.lastPage?this.params.lastPage:this.doc.numPages},set:function(e){this.params.lastPage=e}},{key:"pageHandling",get:function(){return void 0!==this.params.pageHandling?this.params.pageHandling:3},set:function(e){this.params.pageHandling=e}},{key:"constants",get:function(){return{interactionLevel:{automatic:1,full:0,silent:2},handling:{none:1,fit:2,shrink:3,tileAll:4,tileLarge:5,nUp:6,booklet:7},flagValues:{applyOverPrint:131072,applySoftProofSettings:2097152,applyWorkingColorSpaces:262144,emitHalftones:1,emitPostScriptXObjects:524288,emitFormsAsPSForms:4194304,maxJP2KRes:8388608,setPageSize:1024,suppressBG:16,suppressCenter:256,suppressCJKFontSubst:64,suppressCropClip:4,suppressRotate:128,suppressTransfer:8,suppressUCR:32,useTrapAnnots:16777216,usePrintersMarks:33554432},bookletBindings:{Left:0,Right:1,LeftTall:2,RightTall:3},bookletDuplexMode:{BothSides:0,FrontSideOnly:1,BackSideOnly:2},colorOverrides:{auto:0,gray:1,mono:2},fontPolicies:{everyPage:2,jobStart:0,pageRange:1},nUpPageOrders:{Horizontal:0,HorizontalReversed:1,Vertical:2},printContents:{doc:0,docAndComments:1,formFieldsOnly:3},rasterFlagValues:{textToOutline:1,strokesToOutline:2,allowComplexClip:4,preserveOverprint:8},subsets:{all:-3,even:-5,odd:-4},tileMarks:{none:0,west:1,east:2},usages:{auto:0,use:1,noUse:2}}}},{key:"flags",get:function(){return void 0!==this.params.flags?this.params.flags:0},set:function(e){this.params.flags=e}},{key:"interactive",get:function(){return void 0!==this.params.interactive?this.params.interactive:0},set:function(e){this.params.interactive=e}},{key:"fileName",get:function(){return void 0!==this.params.fileName?this.params.fileName:""},set:function(e){this.params.fileName=e}}]),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(57);(o=a)&&o.__esModule;var s=function(){function e(t,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.templateObject=t,this.templateHidden=n,this.pdfDoc=o}return e.prototype.spawn=function(e,t,n,o){if(this.pdfDoc){if("object"==(void 0===e?"undefined":r(e))){var i=e;e=i.nPage,t=i.bRename,n=i.bOverlay,o=i.oXObject}return o&&"object"==(void 0===o?"undefined":r(o))&&(this.pdfDoc=o.pdfDoc,this.templateObject=o.templateObject,this.templateHidden=o.templateHidden),null==e&&(e=-1),t=!1!==t,n=!0,this.pdfDoc.spawnPage(this.templateObject,e,t,n),this}},i(e,[{key:"hidden",get:function(){return this.templateHidden},set:function(e){if(e!==this.templateHidden)return this.pdfDoc?this.pdfDoc.hideTemplate(this.templateObject,e):void 0}},{key:"name",get:function(){return this.templateObject.name}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(60);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=function(e){function t(){return a(this,t),s(this,e.apply(this,arguments))}return c(t,e),r(t,[{key:"type",get:function(){return"Caret"}},{key:"caretSymbol",get:function(){},set:function(e){}}]),t}(((o=i)&&o.__esModule?o:{default:o}).default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=s(n(60)),i=n(12),a=s(n(57));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var f=function(e){function t(){return c(this,t),u(this,e.apply(this,arguments))}return l(t,e),o(t,[{key:"type",get:function(){return"Circle"}},{key:"dash",get:function(){return this.annot?this.annot.getBorderInfo().dashes:this.annotData.dash},set:function(t){var n=this;(0,a.default)((function(o){return e.prototype._delayOrExec.call(n,(function(){if(Array.isArray(t))return n.annot.setBorderStyle(1,t)}))}))}},{key:"fillColor",get:function(){if(!this.annot)return this.annotData.fillColor;var e=this.annot.getFillColor();return(0,i.convertFromNumberToJSColor)(e)},set:function(t){var n=this;(0,a.default)((function(o){return e.prototype._delayOrExec.call(n,(function(){var e=(0,i.colorConvertor)(t,"int",0);return n.annot.setFillColor(e)}))}))}},{key:"width",get:function(){return this.annot?this.annot.getBorderWidth():this.annotData.width},set:function(t){var n=this;(0,a.default)((function(o){return e.prototype._delayOrExec.call(n,(function(){return n.annot.setBorderWidth(t)}))}))}}]),t}(r.default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=a(n(57)),i=a(n(60));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l={Paperclip:"Paperclip",PushPin:"PushPin",Graph:"Graph",Tag:"Tag"},f=function(e){function t(){return s(this,t),c(this,e.apply(this,arguments))}return u(t,e),o(t,[{key:"type",get:function(){return"FileAttachment"}},{key:"attachIcon",get:function(){return this.annot?this.annot.getIconName():this.annotData.attachIcon},set:function(t){var n=this;l[t]&&(0,r.default)((function(o){return e.prototype._delayOrExec.call(n,(function(){return n.annot.setIconName(t)}))}))}},{key:"point",get:function(){if(!this.annot)return this.annotData.point;var e=this.annot.getRect();return[e.left,e.top]},set:function(t){var n=this;(0,r.default)((function(o){return e.prototype._delayOrExec.call(n,(function(){if(t&&Array.isArray(t)&&!(t.length<2))return n.annot.moveTo({left:t[0],top:t[1]})}))}))}}]),t}(i.default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=u(n(60)),i=n(12),a=n(7),s=n(111),c=u(n(57));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var d=function(e){function t(){return l(this,t),f(this,e.apply(this,arguments))}return p(t,e),o(t,[{key:"type",get:function(){return"FreeText"}},{key:"alignment",get:function(){return this.annot?this.annot.getInfo().justification:this.annotData.alignment},set:function(t){var n=this;(0,c.default)((function(o){return e.prototype._delayOrExec.call(n,(function(){return n.annot.setAlignment(t)}))}))}},{key:"callout",get:function(){if(!this.annot)return this.annotData.callout;var e=this.annot.getCalloutLinePoints(),t=[];return e.map((function(e){t.push(e.x,e.y)})),t},set:function(t){var n=this;(0,c.default)((function(o){return e.prototype._delayOrExec.call(n,(function(){var e=(0,s.buildVertexesByPoints)(t);return n.annot.setCalloutLinePoints(e)}))}))}},{key:"dash",get:function(){return this.annot?this.annot.getBorderInfo().dashes:this.annotData.dash},set:function(t){var n=this;(0,c.default)((function(o){return e.prototype._delayOrExec.call(n,(function(){if(Array.isArray(t))return n.annot.setBorderStyle(1,t)}))}))}},{key:"fillColor",get:function(){if(!this.annot)return this.annotData.fillColor;var e=this.annot.getFillColor();return(0,i.convertFromNumberToJSColor)(e)},set:function(t){var n=this;(0,c.default)((function(o){return e.prototype._delayOrExec.call(n,(function(){var e=(0,i.colorConvertor)(t,"int",0);return n.annot.setFillColor(e)}))}))}},{key:"lineEnding",get:function(){if(!this.annot)return this.annotData.lineEnding;var e=this.annot.getCalloutLineEndingStyle();return a.LineEndingName[e]},set:function(t){var n=this;t||(t="None"),(0,c.default)((function(o){return e.prototype._delayOrExec.call(n,(function(){var e=a.LineEndingStyle[t];return n.annot.setCalloutLineEndingStyle(e)}))}))}},{key:"richDefaults",get:function(){},set:function(e){}},{key:"rotate",get:function(){if(!this.annot)return this.annotData.rotate;var e=360-this.annot.getRotation();return 360===e&&(e=0),e},set:function(t){var n=this;(0,c.default)((function(o){return e.prototype._delayOrExec.call(n,(function(){var e=0;return 0!==t&&(e=360-t),n.annot.setRotation(e)}))}))}},{key:"textFont",get:function(){},set:function(e){}},{key:"textSize",get:function(){return this.annot?this.annot.getDefaultAppearance().textSize:this.annotData.textSize},set:function(t){var n=this;return(0,c.default)((function(o){e.prototype._delayOrExec.call(n,(function(){var e=n.annot.getDefaultAppearance();return e.textSize=t,n.annot.setDefaultAppearance(e).then((function(e){}))}))}))}},{key:"width",get:function(){return this.annot?this.annot.getBorderWidth():this.annotData.width||1},set:function(t){var n=this;(0,c.default)((function(o){return e.prototype._delayOrExec.call(n,(function(){return n.annot.setBorderWidth(t)}))}))}}]),t}(r.default);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=s(n(60)),i=n(111),a=s(n(57));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var f=function(e){function t(){return c(this,t),u(this,e.apply(this,arguments))}return l(t,e),o(t,[{key:"type",get:function(){return"Highlight"}},{key:"quads",get:function(){if(!this.annot)return this.annotData.quads;var e=this.annot.getQuadPoints(),t=[];return e.map((function(e){e.map((function(e){t.push(e.x,e.y)}))})),t},set:function(t){var n=this;(0,a.default)((function(o){return e.prototype._delayOrExec.call(n,(function(){var e=(0,i.buildRectByPoints)(t);return n.annot.setRect(e)}))}))}}]),t}(r.default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=s(n(60)),i=n(111),a=s(n(57));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var f=function(e){function t(){return c(this,t),u(this,e.apply(this,arguments))}return l(t,e),o(t,[{key:"type",get:function(){return"Ink"}},{key:"dash",get:function(){return this.annot?this.annot.getBorderInfo().dashes:this.annotData.dash},set:function(t){var n=this;(0,a.default)((function(o){return e.prototype._delayOrExec.call(n,(function(){if(Array.isArray(t))return n.annot.setBorderStyle(1,t)}))}))}},{key:"gestures",get:function(){if(!this.annot)return this.annotData.gestures;var e=this.annot.getInkList(),t=[],n=void 0;return e.map((function(e){1===e.type&&(n=[],t.push(n)),n.push([e.x,e.y])})),t},set:function(t){var n=this;(0,a.default)((function(o){return e.prototype._delayOrExec.call(n,(function(){var e=(0,i.buildGesturesByArrays)(t);return n.annot.setInkList(e)}))}))}},{key:"width",get:function(){return this.annot?this.annot.getBorderWidth():annotData.width||0},set:function(t){var n=this;(0,a.default)((function(o){return e.prototype._delayOrExec.call(n,(function(){return n.annot.setBorderWidth(t)}))}))}}]),t}(r.default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=c(n(60)),i=n(7),a=n(12),s=c(n(57));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var p=function(e){function t(){return u(this,t),l(this,e.apply(this,arguments))}return f(t,e),o(t,[{key:"type",get:function(){return"Line"}},{key:"arrowBegin",get:function(){if(!this.annot)return this.annotData.arrowBegin;var e=this.annot.getStartStyle();return i.LineEndingName[e]},set:function(t){var n=this;t||(t="None"),(0,s.default)((function(o){return e.prototype._delayOrExec.call(n,(function(){var e=i.LineEndingStyle[t];return n.annot.setEndingStyle(!0,e)}))}))}},{key:"arrowEnd",get:function(){if(!this.annot)return this.annotData.arrowEnd;var e=this.annot.getEndingStyle();return i.LineEndingName[e]},set:function(t){var n=this;t||(t="None"),(0,s.default)((function(o){return e.prototype._delayOrExec.call(n,(function(){var e=i.LineEndingStyle[t];return n.annot.setEndingStyle(!1,e)}))}))}},{key:"dash",get:function(){return this.annot?this.annot.getBorderInfo().dashes:this.annotData.dash},set:function(t){var n=this;(0,s.default)((function(o){return e.prototype._delayOrExec.call(n,(function(){if(Array.isArray(t))return n.annot.setBorderStyle(1,t)}))}))}},{key:"doCaption",get:function(){return this.annot?this.annot.hasCaption():this.annotData.doCaption},set:function(e){var t=this;(0,s.default)((function(n){return t.annot.enableCaption(e)}))}},{key:"fillColor",get:function(){if(!this.annot)return this.annotData.fillColor;var e=this.annot.getStyleFillColor();return(0,a.convertFromNumberToJSColor)(e)},set:function(e){var t=this;(0,s.default)((function(n){return t._delayOrExec((function(){var n=(0,a.colorConvertor)(e,"int",0);return t.annot.setStyleFillColor(n)}))}))}},{key:"leaderExtend",get:function(){return this.annot?this.annot.getLeaderLineExtend():this.annotData.leaderExtend},set:function(e){}},{key:"leaderLength",get:function(){return this.annot?this.annot.getLeaderLineLength():this.annotData.leaderLength},set:function(t){var n=this;(0,s.default)((function(o){return e.prototype._delayOrExec.call(n,(function(){return n.annot.setLeaderLineLength(t)}))}))}},{key:"width",get:function(){return this.annot?this.annot.getBorderWidth():this.annotData.width},set:function(t){var n=this;(0,s.default)((function(o){return e.prototype._delayOrExec.call(n,(function(){return n.annot.setBorderWidth(t)}))}))}}]),t}(r.default);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=u(n(60)),i=n(7),a=n(111),s=n(12),c=u(n(57));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var d=function(e){function t(){return l(this,t),f(this,e.apply(this,arguments))}return p(t,e),o(t,[{key:"type",get:function(){return"PolyLine"}},{key:"arrowBegin",get:function(){if(!this.annot)return this.annotData.arrowBegin;var e=this.annot.getStartStyle();return i.LineEndingName[e]},set:function(t){var n=this;t||(t="None"),(0,c.default)((function(o){return e.prototype._delayOrExec.call(n,(function(){var e=i.LineEndingStyle[t];return n.annot.setEndingStyle(!0,e)}))}))}},{key:"arrowEnd",get:function(){if(!this.annot)return this.annotData.arrowEnd;var e=this.annot.getEndingStyle();return i.LineEndingName[e]},set:function(t){var n=this;t||(t="None"),(0,c.default)((function(o){return e.prototype._delayOrExec.call(n,(function(e){var o=i.LineEndingStyle[t];return n.annot.setEndingStyle(!1,o)}))}))}},{key:"dash",get:function(){return this.annot?this.annot.getBorderInfo().dashes:this.annotData.dash},set:function(t){var n=this;(0,c.default)((function(o){return e.prototype._delayOrExec.call(n,(function(){if(Array.isArray(t))return n.annot.setBorderStyle(1,t)}))}))}},{key:"fillColor",get:function(){if(!this.annot)return this.annotData.fillColor;var e=this.annot.getFillColor();return(0,s.convertFromNumberToJSColor)(e)},set:function(t){var n=this;(0,c.default)((function(o){return e.prototype._delayOrExec.call(n,(function(){var e=(0,s.colorConvertor)(t,"int",0);return n.annot.setFillColor(e)}))}))}},{key:"vertices",get:function(){if(!this.annot)return this.annotData.vertices;var e=this.annot.getVertexes(),t=[];return e.map((function(e){t.push(e.x,e.y)})),t},set:function(t){var n=this;(0,c.default)((function(o){return e.prototype._delayOrExec.call(n,(function(){var e=(0,a.buildVertexesByPoints)(t);return n.annot.setVertexes(e)}))}))}}]),t}(r.default);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=c(n(60)),i=n(111),a=n(12),s=c(n(57));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var p=function(e){function t(){return u(this,t),l(this,e.apply(this,arguments))}return f(t,e),o(t,[{key:"type",get:function(){return"Polygon"}},{key:"dash",get:function(){return this.annot?this.annot.getBorderInfo().dashes:this.annotData.dash},set:function(t){var n=this;(0,s.default)((function(o){return e.prototype._delayOrExec.call(n,(function(){if(Array.isArray(t))return n.annot.setBorderStyle(1,t)}))}))}},{key:"fillColor",get:function(){if(!this.annot)return this.annotData.fillColor;var e=this.annot.getFillColor();return(0,a.convertFromNumberToJSColor)(e)},set:function(t){var n=this;(0,s.default)((function(o){return e.prototype._delayOrExec.call(n,(function(){var e=(0,a.colorConvertor)(t,"int",0);return n.annot.setFillColor(e)}))}))}},{key:"vertices",get:function(){if(!this.annot)return this.annotData.vertices;var e=this.annot.getVertexes(),t=[];return e.map((function(e){t.push(e.x,e.y)})),t},set:function(t){var n=this;(0,s.default)((function(o){return e.prototype._delayOrExec.call(n,(function(){var e=(0,i.buildVertexesByPoints)(t);return n.annot.setVertexes(e)}))}))}}]),t}(r.default);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=i(n(57));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=function(e){function t(){return a(this,t),s(this,e.apply(this,arguments))}return c(t,e),o(t,[{key:"type",get:function(){return"Sound"}},{key:"point",get:function(){if(!this.annot)return this.annotData.point;var e=this.annot.getRect();return[e.left,e.top]},set:function(t){var n=this;(0,r.default)((function(o){return e.prototype._delayOrExec.call(n,(function(){if(t&&Array.isArray(t)&&!(t.length<2))return n.annot.moveTo({left:t[0],top:t[1]})}))}))}},{key:"soundIcon",get:function(){},set:function(e){}}]),t}(i(n(60)).default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=s(n(60)),i=n(12),a=s(n(57));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var f=function(e){function t(){return c(this,t),u(this,e.apply(this,arguments))}return l(t,e),o(t,[{key:"type",get:function(){return"Square"}},{key:"dash",get:function(){return this.annot?this.annot.getBorderInfo().dashes:this.annotData.dash},set:function(t){var n=this;(0,a.default)((function(o){return e.prototype._delayOrExec.call(n,(function(){if(Array.isArray(t))return n.annot.setBorderStyle(1,t)}))}))}},{key:"fillColor",get:function(){if(!this.annot)return this.annotData.fillColor;var e=this.annot.getFillColor();return(0,i.convertFromNumberToJSColor)(e)},set:function(t){var n=this;(0,a.default)((function(o){return e.prototype._delayOrExec.call(n,(function(){var e=(0,i.colorConvertor)(t,"int",0);return n.annot.setFillColor(e)}))}))}},{key:"width",get:function(){return this.annot,this.annot.getBorderWidth()},set:function(t){var n=this;return(0,a.default)((function(o){e.prototype._delayOrExec.call(n,(function(){return n.annot.setBorderWidth(t)}))}))}}]),t}(r.default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=s(n(60)),i=n(111),a=s(n(57));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var f=function(e){function t(){return c(this,t),u(this,e.apply(this,arguments))}return l(t,e),o(t,[{key:"type",get:function(){return"Squiggly"}},{key:"quads",get:function(){if(!this.annot)return this.annotData.quads;var e=this.annot.getQuadPoints(),t=[];return e.map((function(e){e.map((function(e){t.push(e.x,e.y)}))})),t},set:function(t){var n=this;return(0,a.default)((function(o){e.prototype._delayOrExec.call(n,(function(){var e=(0,i.buildRectByPoints)(t);return n.annot.setRect(e)}))}))}}]),t}(r.default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(60),a=(o=i)&&o.__esModule?o:{default:o};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l={Approved:"Approved",AsIs:"AsIs",Confidential:"Confidential",Departmental:"Departmental",Draft:"Draft",Experimental:"Experimental",Expired:"Expired",Final:"Final",ForComment:"ForComment",ForPublicRelease:"ForPublicRelease",NotApproved:"NotApproved",NotForPublicRelease:"NotForPublicRelease",Sold:"Sold",TopSecret:"TopSecret"},f=function(e){function t(){return s(this,t),c(this,e.apply(this,arguments))}return u(t,e),r(t,[{key:"type",get:function(){return"Stamp"}},{key:"AP",get:function(){if(!this.annot)return this.annotData.AP;var e=this.annot.getIconName();if(e&&"#"===e[0]){var t=e.substr(1);(t=l[t])&&(e=t)}return e},set:function(e){}}]),t}(a.default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=s(n(60)),i=n(111),a=s(n(57));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var f=function(e){function t(){return c(this,t),u(this,e.apply(this,arguments))}return l(t,e),o(t,[{key:"type",get:function(){return"StrikeOut"}},{key:"quads",get:function(){if(!this.annot)return this.annotData.quads;var e=this.annot.getQuadPoints(),t=[];return e.map((function(e){e.map((function(e){t.push(e.x,e.y)}))})),t},set:function(t){var n=this;(0,a.default)((function(o){return e.prototype._delayOrExec.call(n,(function(){var e=(0,i.buildRectByPoints)(t);return n.annot.setRect(e)}))}))}}]),t}(r.default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=i(n(57));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var s=function(e){function t(n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r));return i.stateModelValue="Review",i}return a(t,e),o(t,[{key:"type",get:function(){return"Text"}},{key:"noteIcon",get:function(){return this.annot?this.annot.getIconName():this.annotData.noteIcon||"Note"},set:function(t){var n=this;t||(t="Note"),(0,r.default)((function(o){return e.prototype._delayOrExec.call(n,(function(){return n.annot.setIconName(t).then((function(e){}))}))}))}},{key:"point",get:function(){if(!this.annot)return this.annotData.point;var e=this.annot.getRect();return[e.left,e.top]},set:function(t){var n=this;(0,r.default)((function(o){return e.prototype._delayOrExec.call(n,(function(){if(t&&Array.isArray(t)&&!(t.length<2))return n.annot.moveTo({left:t[0],top:t[1]})}))}))}},{key:"state",get:function(){return this.annot?"Marked"===this.stateModel?this.annot.getMarkedState(0):this.annot.getReviewState(0):this.annotData.state},set:function(t){var n=this;(0,r.default)((function(o){return e.prototype._delayOrExec.call(n,(function(){if("Review"===n.stateModelValue){switch(t){case"accepted":case"rejected":case"cancelled":case"completed":case"none":break;default:t="none"}return n.annot.addReviewState(t)}if("Marked"===n.stateModelValue)return"marked"!==t&&"unmarked"!==t&&(t="unmarked"),n.annot.addMarkedState(t)}))}))}},{key:"stateModel",get:function(){return this.stateModelValue},set:function(t){var n=this;(0,r.default)((function(o){return e.prototype._delayOrExec.call(n,(function(){return"Marked"!==t&&"Review"!==t&&(t="Review"),n.stateModelValue=t}))}))}}]),t}(i(n(60)).default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=s(n(60)),i=n(111),a=s(n(57));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var f=function(e){function t(){return c(this,t),u(this,e.apply(this,arguments))}return l(t,e),o(t,[{key:"type",get:function(){return"Underline"}},{key:"quads",get:function(){if(!this.annot)return this.annotData.quads;var e=this.annot.getQuadPoints(),t=[];return e.map((function(e){e.map((function(e){t.push(e.x,e.y)}))})),t},set:function(t){var n=this;(0,a.default)((function(o){return e.prototype._delayOrExec.call(n,(function(){var e=(0,i.buildRectByPoints)(t);return n.annot.setRect(e)}))}))}}]),t}(r.default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var r=function(){function e(t,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t,this.info=n,this.doc=o}return o(e,[{key:"state",get:function(){return this.info.visible},set:function(e){return this.doc.setLayerNodeVisible(this.id,e),this.info.visible=e}},{key:"name",get:function(){return this.info.name}}]),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(1009)),r=s(n(459)),i=s(n(1010)),a=s(n(1011));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l=URL.createObjectURL(new Blob([(0,i.default)()],{type:"text/html"})),f="ActiveXObject"in self||navigator.userAgent.toLowerCase().match(/msie [\d\.]+/);var p=function(){function e(t,n,r,i){u(this,e),this.JSEngine=t;var s=function(e){function i(){u(this,i);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t,n));return a.util=new o.default(a),a.doc=r,a.this=r,a.getEvent=function(e){return t.getEvent(e)},a.postRunScripts=function(e){return t.postRunScripts(e)},a}return c(i,e),i}(a.default);this.globalVariables=new s,this.noFrame=f||i}return e.prototype.init=function(){var e,t,n,o=this;if(!this.noFrame)return this.preFrame=document.createElement("iframe"),this.preFrame.style.display="none",this.preFrame.style.position="absolute",this.preFrame.style.top=0,this.enable=!1,new Promise((function(e,t){o.preFrame.onload=e,o.preFrame.onerror=t,o.preFrame.src=l,document.body.appendChild(o.preFrame)})).then((function(e){o.enable=!0,o.preFrame.contentWindow.initJS(o.globalVariables)}));e=this.globalVariables,t=new function(){var e=this,t=Object.getOwnPropertyDescriptors(window);delete t.self,delete t.top,delete t.parent,delete t.globalThis,delete t.global;var n=function(t){if(t[0].toLowerCase()!==t[0])return"continue";Object.defineProperty(e,t,{get:function(){return window[t]},set:function(e){window[t]=e}})};for(var o in t)n(o);this.top=this,this.parent=window,this.self=this,this.globalThis=this,this.global=this},n=function(){var n=["jsEngine","_calculate","_dirty","_layout","_arrTemplate","printParams","annotManage","timeStamp","cleanFields"],o=e.doc;for(var r in o)-1==n.indexOf(r)&&function(e){"function"==typeof o[e]?t[e]=function(){return o[e].apply(o,arguments)}:Object.defineProperty(t,e,{get:function(){return o[e]},set:function(t){o[e]=t}})}(r);return{docClosure:function(n){return new Function("f","globals","window","with(globals){with(globals.doc){eval(f);return function(f){eval(f);}}}")(n,e,t)}}}(),t.appClosure=e.appClosure=n,t.runJS=e.runJS=function(t,o){var i=e.doc;e.event=o,i.timeStamp=o&&o.timeStamp;var a=function(){try{i.exec=n.docClosure.call(i,t.code)}catch(e){i.exec=n.docClosure(t.code),r.default.error(e)}};switch(t.action){case"execute":i.exec(t.code,t,o);break;case"reset":a();break;default:t.global&&a()}},this.enable=!0},e.prototype.exec=function(e,t,n,o){var i={action:"execute",code:e,global:t,event:n.event};this.enable||r.default.error("js env is not ready!!");var a=this.JSEngine.events[i.event];return this.noFrame?this.globalVariables.runJS(i,a):this.preFrame.contentWindow.runJS(i,a),a.rc},e.prototype.resetClosure=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n={action:"reset",code:t,event:e.event};this.enable||r.default.error("js env is not ready!!");var o=this.JSEngine.events[n.event];return this.noFrame?this.globalVariables.runJS(n,o):this.preFrame.contentWindow.runJS(n,o),o.rc},e.prototype.destroy=function(){this.globalVariables&&(this.globalVariables.__destroy__(),this.globalVariables=null),this.JSEngine=null,!this.noFrame&&this.preFrame&&(document.body.removeChild(this.preFrame),this.preFrame=null)},e}();t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(null==e)throw new Error("Not enough arguments for vsprintf");function n(e,t,n){if(null==t)return"s"==e?"":"0";var o,r="",i="",a=" ";if(n.short||n.long||n.long_long)switch(e){case"e":case"f":case"G":case"E":case"G":case"d":n.short?t>=32767?t=32767:t<=-32768&&(t=-32768):n.long?t>=2147483647?t=2147483647:t<=-2147483648&&(t=-2147483648):t>=0x8000000000000000?t=0x8000000000000000:t<=-0x8000000000000000&&(t=-0x8000000000000000);break;case"X":case"B":case"u":case"o":case"x":case"b":t<0&&(t=Math.abs(t)-1),n.short?t>=65535&&(t=65535):n.long?t>=4294967295&&(t=4294967295):t>=0x10000000000000000&&(t=0x10000000000000000)}switch(e){case"c":o=String.fromCharCode(parseInt(t));break;case"s":o=t.toString();break;case"d":case"u":o=new Number(parseInt(t)).toString();break;case"o":o=new Number(parseInt(t)).toString(8);break;case"x":o=new Number(parseInt(t)).toString(16);break;case"B":case"b":o=new Number(parseInt(t)).toString(2);break;case"e":var s=n.precision?n.precision:6;o=new Number(t).toExponential(s).toString();break;case"f":s=n.precision?n.precision:6;o=new Number(t).toFixed(s).toString();break;case"g":s=n.precision?n.precision:6;o=new Number(t).toPrecision(s).toString();break;case"X":o=new Number(parseInt(t)).toString(16).toUpperCase();break;case"E":s=n.precision?n.precision:6;o=new Number(t).toExponential(s).toString().toUpperCase();break;case"G":s=n.precision?n.precision:6;o=new Number(t).toPrecision(s).toString().toUpperCase()}if(n["+"]&&parseFloat(t)>0&&-1!=["d","e","f","g","E","G"].indexOf(e)&&(r="+"),n[" "]&&parseFloat(t)>0&&-1!=["d","e","f","g","E","G"].indexOf(e)&&(r=" "),n["#"]&&0!=parseInt(t))switch(e){case"o":r="0";break;case"x":case"X":r="0x";break;case"b":r="0b";break;case"B":r="0B"}if(n[0]&&!n["-"]&&(a="0"),n.width&&n.width>o.length+r.length)for(var c=n.width-o.length-r.length,u=0;u<c;++u)i+=a;return n["-"]&&!n[0]?o+=i:o=i+o,r+o}null==t&&(t=[]);for(var o="",r=0,i=0,a={long:!1,short:!1,long_long:!1},s=!1,c=!1,u=!1,l=!1,f=!1,p=!1,d=".",h=0;h<e.length;++h){var g=e.charAt(h);if(s){switch(g){case"i":g="d";break;case"D":a.long=!0,g="d";break;case"U":a.long=!0,g="u";break;case"O":a.long=!0,g="o";break;case"F":g="f"}switch(g){case"c":case"s":case"d":case"u":case"o":case"x":case"e":case"f":case"g":case"X":case"E":case"G":case"b":case"B":var m=t[i];if(f){var v=m;if(m instanceof Array)v=m;else if("string"==typeof m||m instanceof String)v=m.split("").map((function(e){return e.charCodeAt()}));else if(("number"==typeof m||m instanceof Number)&&a.bitwidth){v=[];do{v.unshift(m&~(-1<<a.bitwidth))}while(m>>>=a.bitwidth)}else v=m.toString().split("").map((function(e){return e.charCodeAt()}));o+=v.map((function(e){return n(g,e,a)})).join(d)}else o+=n(g,m,a);l||++r,i=r,a={},c=!1,s=!1,u=!1,l=!1,f=!1,p=!1,d=".";break;case"v":f=!0;break;case" ":case"0":case"-":case"+":case"#":a[g]=!0;break;case"*":c=!0;break;case".":u=!0;break;case"@":p=!0;break;case"l":a.long?(a.long_long=!0,a.long=!1):(a.long=!0,a.long_long=!1),a.short=!1;break;case"q":case"L":a.long_long=!0,a.long=!1,a.short=!1;break;case"h":a.short=!0,a.long=!1,a.long_long=!1}if(/\d/.test(g)){var y=parseInt(e.substr(h));if(h+=y.toString().length-1,"$"==e.charAt(h+1)){if(y<0||y>t.length)throw new Error("out of bound");c?(u?(a.precision=t[y-1],u=!1):"v"==e.charAt(h+2)?d=t[y-1]:a.width=t[y-1],c=!1):(l=!0,i=y-1),++h}else u?(a.precision=y,u=!1):p?(a.bitwidth=y,p=!1):a.width=y}else c&&!/\d/.test(e.charAt(h+1))&&(u?(a.precision=t[i],u=!1):"v"==e.charAt(h+1)?d=t[i]:a.width=t[i],++r,l||i++,c=!1)}else{if("%"==g){if("%"==e.charAt(h+1)){o+="%",++h;continue}s=!0;continue}o+=g}}return o},r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.jsGlobalAPI=t}return e.prototype.printd=function(e,t,n){if(!t||!t instanceof Date||isNaN(t.getTime()))return"";if(e){if("string"==typeof e)return this.jsGlobalAPI.FXFormatDate(e,t);if("number"==typeof e)switch(e){case 0:var o="D:";return o+=t.getFullYear(),o+=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,o+=t.getDate()<10?"0"+t.getDate():t.getDate(),o+=t.getUTCHours()<10?"0"+t.getUTCHours():t.getUTCHours(),o+=t.getUTCMinutes()<10?"0"+t.getUTCMinutes():t.getUTCMinutes(),o+=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds();case 1:o="";return o+=t.getFullYear()+".",o+=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,o+=".",o+=t.getDate()<10?"0"+t.getDate():t.getDate(),o+=" ",o+=t.getUTCHours()<10?"0"+t.getUTCHours():t.getUTCHours(),o+=":",o+=t.getUTCMinutes()<10?"0"+t.getUTCMinutes():t.getUTCMinutes(),o+=":",o+=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds();case 2:o="";return o+=t.getFullYear()+"/",o+=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,o+="/",o+=t.getDate()<10?"0"+t.getDate():t.getDate(),o+=" ",o+=t.getUTCHours()<10?"0"+t.getUTCHours():t.getUTCHours(),o+=":",o+=t.getUTCMinutes()<10?"0"+t.getUTCMinutes():t.getUTCMinutes(),o+=":",o+=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds();default:return""}return""}return""},e.prototype.printf=function(e,t){if(!e||!t)return"";t instanceof Array||(t=[t]);var n=arguments.length;if(n<1)return"";var r=e,i=(e=e.replace("%x","%X")).indexOf("%,"),a=!1,s=",";if(-1!=i){var c=parseInt(e.substr(i+2,1));if(c>4)return"";switch(c){case 0:a=TRUE,s=",",".";break;case 1:".";break;case 2:a=TRUE,s=".",",";break;case 3:","}var u="0",l=e.substr(i+3,1);"0"===l?u="0":"+"===l&&(u="+");var f=0,p=e.indexOf(".",i+4);f=p>i+3?parseInt(e.substr(i+4,p-i-4)):parseInt(e.substr(i+4,1));var d=e.length;if(p>-1&&i+p<d){var h=e.substr(i+1,p-1);e=e.replace(h,"")}else if("."===l&&-1===p){p=i+3;h=e.substr(i+1,p-1);e=e.replace(h,"")}else{var g=d-2;if(!(i+1+g<d&&g>=0))return t;h=e.substr(i+1,g);e=e.replace(h,"")}}var m=0,v=0,y=e;y="S"+y;for(var b=new Array,w=!1;-1!=m;){var _="",P=(_=-1===(v=y.indexOf("%",m+1))?y.substr(m):y.substr(m,v-m)).indexOf("%");if(-1!==P){var O=_.substr(P+1);"c"!==O&&"C"!==O&&"d"!==O&&"i"!==O&&"o"!==O&&"u"!==O&&"x"!==O&&"X"!==O&&"e"!==O&&"E"!==O&&"f"!==O&&"g"!==O&&"G"!==O||(w=!0)}b.push(_),m=v}for(var E="",x="",C=0;C<b.length;C++)if(x=E,x+=b[C],0!==C){if(C>=n)break;E=o(x,t)}else E=x;""===E&&(r.replace("%,","%"),E=r);var A=(E=E.substr(1)).indexOf(".");if(A<0)A=E.length;else{h=(E=E.slice(0,A)+"."+E.slice(A)).substr(A+1,1);E=E.replace(h,"")}if(a&&w)for(var S=A-3;S>0;S-=3)E=E.slice(0,S)+s+E.slice(S);var D=E.length;if(f>D)for(S=0;S<f-D;S++)E=u+E;return E},e.prototype.printx=function(e,t){if(!e||!t)return"";for(var n=t.length,o=e.length,r="",i=0,a=0;a<o;a++){var s=e[a];switch(s){case"?":r+=t[i],i++;break;case"X":for(;i<n;){if(t[i]>="0"&&t[i]<="9"||t[i]>="a"&&t[i]<="z"||t[i]>="A"&&t[i]<="Z"){r+=t[i],i++;break}i++}break;case"A":for(;i<n;){if(t[i]>="a"&&t[i]<="z"||t[i]>="A"&&t[i]<="Z"){r+=t[i],i++;break}i++}break;case"9":for(;i<n;){if(t[i]>="0"&&t[i]<="9"){r+=t[i],i++;break}i++}break;case"*":r+=t.substring(i),i=n-1;break;case"\\":break;case">":t=t.toLocaleUpperCase();break;case"<":t=t.toLocaleLowerCase();break;case"=":break;default:r+=s}}return r},e.prototype.scand=function(e,t){return new Date(t)},e}();t.default=r},function(e,t,n){n(2);e.exports=function(e){"use strict";e=e||{};return"<!DOCTYPE html>\r\n<html lang=\"en\">\r\n\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\r\n    <title>Document</title>\r\n    <script>\r\n        window.initJS=function(PDFJSGlobal){\r\n          window.PDFJSGlobal = PDFJSGlobal          \r\n          function appClosure() {\r\n            for (var i in window) {\r\n              if (i != 'PDFJSGlobal' \r\n              && i != 'location'\r\n              && i !='window'\r\n              && i != 'appClosure') {\r\n                  eval('var ' + i+ '=null');\r\n              }\r\n            }\r\n            var keys=['jsEngine',\r\n                    '_calculate',\r\n                    '_dirty',\r\n                    '_layout',\r\n                    '_arrTemplate',\r\n                    'printParams',\r\n                    'annotManage',\r\n                    'timeStamp',\r\n                    'cleanFields']\r\n            for(var key in window.PDFJSGlobal.doc){\r\n              if(keys.indexOf(key)!=-1){\r\n                continue;\r\n              }\r\n              (function(key){\r\n                if(typeof window.PDFJSGlobal.doc[key] == \"function\"){\r\n                  window[key]=function(){\r\n                    return window.PDFJSGlobal.doc[key].apply(window.PDFJSGlobal.doc,arguments)\r\n                  }\r\n                }else{\r\n                  Object.defineProperty(window,key,{get:function(){\r\n                    return window.PDFJSGlobal.doc[key]\r\n                  },set:function(val){\r\n                    window.PDFJSGlobal.doc[key] = val\r\n                  }})\r\n                }\r\n              })(key)\r\n            }\r\n\r\n            return {\r\n                docClosure: function (f) {\r\n                  with (PDFJSGlobal) {\r\n                    with (PDFJSGlobal.doc) {\r\n                    eval(f);\r\n                    return function (f) {\r\n                            return eval(f)\r\n                        }\r\n                      }\r\n                    }\r\n                }\r\n            }\r\n          }\r\n          window.app = appClosure();\r\n        }\r\n\r\n        window.runJS = function (data, engineEvent) {\r\n            var doc = window.PDFJSGlobal.doc;\r\n            window.PDFJSGlobal.event = engineEvent;\r\n\r\n            doc.timeStamp = engineEvent&&engineEvent.timeStamp;\r\n\r\n            const resetDocClosure =function(){\r\n                try{\r\n                    doc.exec = app.docClosure.call(doc,data.code);\r\n                }catch(e){\r\n                    doc.exec = app.docClosure(data.code);\r\n                    console.error(e);\r\n                }\r\n            }\r\n\r\n            switch (data.action) {\r\n                case 'execute':\r\n                    doc.exec(data.code, data, engineEvent);\r\n                    break;\r\n                case 'reset':\r\n                    resetDocClosure();\r\n                    return;\r\n                default:\r\n                    if(data.global) { // å¼å®¹æ§çæ¬\r\n                        return resetDocClosure();\r\n                    }\r\n            }\r\n            window.PDFJSGlobal.event=null;\r\n        }\r\n    <\/script>\r\n</head>\r\n\r\n<body>\r\n</body>\r\n\r\n</html>","<!DOCTYPE html>\r\n<html lang=\"en\">\r\n\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\r\n    <title>Document</title>\r\n    <script>\r\n        window.initJS=function(PDFJSGlobal){\r\n          window.PDFJSGlobal = PDFJSGlobal          \r\n          function appClosure() {\r\n            for (var i in window) {\r\n              if (i != 'PDFJSGlobal' \r\n              && i != 'location'\r\n              && i !='window'\r\n              && i != 'appClosure') {\r\n                  eval('var ' + i+ '=null');\r\n              }\r\n            }\r\n            var keys=['jsEngine',\r\n                    '_calculate',\r\n                    '_dirty',\r\n                    '_layout',\r\n                    '_arrTemplate',\r\n                    'printParams',\r\n                    'annotManage',\r\n                    'timeStamp',\r\n                    'cleanFields']\r\n            for(var key in window.PDFJSGlobal.doc){\r\n              if(keys.indexOf(key)!=-1){\r\n                continue;\r\n              }\r\n              (function(key){\r\n                if(typeof window.PDFJSGlobal.doc[key] == \"function\"){\r\n                  window[key]=function(){\r\n                    return window.PDFJSGlobal.doc[key].apply(window.PDFJSGlobal.doc,arguments)\r\n                  }\r\n                }else{\r\n                  Object.defineProperty(window,key,{get:function(){\r\n                    return window.PDFJSGlobal.doc[key]\r\n                  },set:function(val){\r\n                    window.PDFJSGlobal.doc[key] = val\r\n                  }})\r\n                }\r\n              })(key)\r\n            }\r\n\r\n            return {\r\n                docClosure: function (f) {\r\n                  with (PDFJSGlobal) {\r\n                    with (PDFJSGlobal.doc) {\r\n                    eval(f);\r\n                    return function (f) {\r\n                            return eval(f)\r\n                        }\r\n                      }\r\n                    }\r\n                }\r\n            }\r\n          }\r\n          window.app = appClosure();\r\n        }\r\n\r\n        window.runJS = function (data, engineEvent) {\r\n            var doc = window.PDFJSGlobal.doc;\r\n            window.PDFJSGlobal.event = engineEvent;\r\n\r\n            doc.timeStamp = engineEvent&&engineEvent.timeStamp;\r\n\r\n            const resetDocClosure =function(){\r\n                try{\r\n                    doc.exec = app.docClosure.call(doc,data.code);\r\n                }catch(e){\r\n                    doc.exec = app.docClosure(data.code);\r\n                    console.error(e);\r\n                }\r\n            }\r\n\r\n            switch (data.action) {\r\n                case 'execute':\r\n                    doc.exec(data.code, data, engineEvent);\r\n                    break;\r\n                case 'reset':\r\n                    resetDocClosure();\r\n                    return;\r\n                default:\r\n                    if(data.global) { // å¼å®¹æ§çæ¬\r\n                        return resetDocClosure();\r\n                    }\r\n            }\r\n            window.PDFJSGlobal.event=null;\r\n        }\r\n    <\/script>\r\n</head>\r\n\r\n<body>\r\n</body>\r\n\r\n</html>"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=l(n(1012)),i=l(n(456)),a=l(n(1013)),s=l(n(457)),c=l(n(459)),u=l(n(297));function l(e){return e&&e.__esModule?e:{default:e}}var f={border:{s:"solid",b:"beveled",d:"dashed",i:"inset",u:"underline"},style:{ch:"check",cr:"cross",di:"diamond",ci:"circle",st:"star",sq:"square"},display:{visible:0,hidden:1,noPrint:2,noView:3},global:r.default,console:c.default,color:i.default,font:a.default,scaleWhen:s.default},p=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._JSEngine=t,this._app=n}return e.prototype.__destroy__=function(){this._app=null,this._JSEngine=null},e.prototype.setJSEvent=function(e){window.jsEvent=e,this.jsEvent=e},e.prototype.AFSimple_Calculate=function(e,t){return u.default.AFSimple_Calculate(this.JSEngine,e,t)},e.prototype.AFRange_Validate=function(e,t,n,o){return u.default.AFRange_Validate(this.JSEngine,this.app,e,t,n,o)},e.prototype.AFNumber_Format=function(e,t,n,o,r,i){return u.default.AFNumber_Format(this.JSEngine,this._app,e,t,n,o,r,i)},e.prototype.AFTime_Format=function(e){return u.default.AFTime_Format(this.JSEngine,this._app,e)},e.prototype.AFTime_FormatEx=function(e){return u.default.AFTime_FormatEx(this.JSEngine,this._app,e)},e.prototype.AFDate_FormatEx=function(e){return u.default.AFDate_FormatEx(this.JSEngine,this._app,e)},e.prototype.AFPercent_Format=function(e,t){return u.default.AFPercent_Format(this.JSEngine,this._app,e,t)},e.prototype.AFMergeChange=function(e){return u.default.AFMergeChange(e)},e.prototype.AFNumber_Keystroke=function(e,t,n,o,r,i){return u.default.AFNumber_Keystroke(this.JSEngine,this._app,e,t,n,o,r,i)},e.prototype.AFParseDateEx=function(e,t){return u.default.AFParseDateEx(e,t)},e.prototype.AFMakeNumber=function(e){return u.default.AFMakeNumber(e)},e.prototype.AFDate_KeystrokeEx=function(e){return u.default.AFDate_KeystrokeEx(this.JSEngine,this._app,e)},e.prototype.AFSpecial_Format=function(e){return u.default.AFSpecial_Format(this.JSEngine,this.app,e)},e.prototype.FXFormatDate=function(e,t){return u.default.FXFormatDate(e,t)},e.prototype.AFSpecial_Keystroke=function(e){return u.default.AFSpecial_Keystroke(this.JSEngine,this._app,e)},e.prototype.AFPercent_Keystroke=function(e){return u.default.AFPercent_Keystroke.apply(u.default,[this.JSEngine,this._app].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e)))},e.prototype.AFSpecial_KeystrokeEx=function(e){return u.default.AFSpecial_KeystrokeEx(this.JSEngine,this._app,e)},o(e,[{key:"JSEngine",get:function(){if(!this._JSEngine)throw new Error("JSEngine is not initialized or destroyed!");return this._JSEngine}},{key:"app",get:function(){if(!this._app)throw new Error("JSEngine is not initialized or destroyed!");return this._app}}]),e}();t.default=p,Object.keys(u.default).forEach((function(e){"function"!=typeof u.default[e]&&(p[e]=u.default[e])})),Object.assign(p.prototype,f)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={setPersistent:function(){}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={Times:"Times-Roman",TimesB:"Times-Bold",TimesI:"Times-Italic",TimesBI:"Times-BoldItalic",Helv:"Helvetica",HelvB:"Helvetica-Bold",HelvI:"Helvetica-Oblique",HelvBI:"Helvetica-BoldOblique",Cour:"Courier",CourB:"Courier-Bold",CourI:"Courier-Oblique",CourBI:"Courier-BoldOblique",Symbol:"Symbol",ZapfD:"ZapfDingbats"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var r=t.JSEvent=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.change="",this.changeEx="",this.commitKey="",this.fieldFull="",this.keyDown="",this.modifier="",this.name="",this.rc="",this.richChange="",this.richChangeEx="",this.richValue="",this.selEnd="",this.selStart="",this.shift="",this.source="",this.target="",this.targetName="",this.type="",this.willCommit="",this.bExtractDenpends=!1,this.depends=[],this.isLoading=!1,this.isSensitiveCheck=!1}return o(e,[{key:"value",set:function(e){this.v=e,this.valueSetted=!0},get:function(){return this.v}}]),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(211),a=(o=i)&&o.__esModule?o:{default:o},s=n(455);function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));o.app=n;var r=function(e){e in o||Object.defineProperty(o,e,{get:function(){return n[e]},set:function(t){n[e]=t}})};for(var i in n)r(i);return o}return c(t,e),t.prototype.setActionCallback=function(e){this.actionCallback=e},t.prototype.alert=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments[3];return this.actionCallback&&"function"==typeof this.actionCallback.alert?"object"!==(void 0===e?"undefined":r(e))||Array.isArray(e)||1!==arguments.length?this.actionCallback.alert({cMsg:e,nIcon:t,nType:n,cTitle:o}):this.actionCallback.alert(e):this.app.alert.apply(this.app,arguments)},t}(a.default.getProxyClass(s.jsApp,(function(e,t,n,o,r){var i=e.actionCallback;switch(r){case"method":return i&&"function"==typeof i[o]?i[o].apply(i,n):t.apply(e.app,n);case"getter":return e.app[o];case"setter":e.app[o]=n[0]}}),null));t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(102)),r=i(n(1));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pdfViewer=t,this.stateHandlers={},this.currentStateHandler=o.default,this.register(o.default),this.config=t.config.stateHandlerConfig||{}}return e.prototype.getStateHandlerConfig=function(e){return this.config[e]},e.prototype.setStateHandlerConfig=function(e,t){this.config[e]=t},e.prototype.pushStateHandlerConfig=function(e,t){var n=this.config[e]||{};this.config[e]=Object.assign(n,t)},e.prototype.register=function(e){this.stateHandlers[e.getStateName()]=e},e.prototype.get=function(e){return this.stateHandlers[e]||o.default},e.prototype.switchTo=function(e,t){var n=this.currentStateHandler,o=this.get(e);if(t&&o.setParams(t),n!==o){this.currentStateHandler=o,this.pdfViewer.eventEmitter.emit(r.default.deactiveStateHandler,n),this.pdfViewer.eventEmitter.emit(r.default.switchStateHandler,o,n);var i=this.pdfViewer.pdfViewerRender;if(i){var a=i.pdfDocRender;if(a){a.setStateHandler(o);var s=a.pagesRender;if(s){var c=s.pageRenders;if(c){for(var u=0,l=c.length;u<l;u++){c[u].stateHandler&&c[u].setStateHandler(o)}e&&this.pdfViewer.activeElement(null)}}}}}},e.prototype.getCurrentStates=function(){return this.currentStateHandler},e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(1018)),r=i(n(1));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pdfViewer=t,this.inkSignList=[],this.currentInkSign=null}return e.prototype.getList=function(){return this.inkSignList},e.prototype.push=function(e){var t=this.inkSignList.length;return this.inkSignList.push(e),this.pdfViewer.eventEmitter.emit(r.default.inkSignAdded,this.inkSignList),t},e.prototype.delete=function(e){this.inkSignList.splice(e,1),this.pdfViewer.eventEmitter.emit(r.default.inkSignDeleted,this.inkSignList)},e.prototype.get=function(e){return this.inkSignList[e]},e.prototype.addInkSign=function(){return new o.default},e.prototype.setCurrentInkSign=function(e){this.currentInkSign=this.inkSignList[e]},e.prototype.getCurrentInkSign=function(){return this.currentInkSign},e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.password=null,this.dataURL=null,this.encipherment=null,this.isEncryption=!1}return e.prototype.getPassword=function(){return this.password},e.prototype.setPassword=function(e){var t=this.encipherment;this.password=t?t(e):e,this.isEncryption=!!t},e.prototype.setEncryptionAlgorithm=function(e){this.encipherment=e},e.prototype.verify=function(e){var t=void 0;this.isEncryption?t=this.encipherment(e)===this.password:t=e===this.password;return t},e.prototype.getDataURL=function(){return this.dataURL},e.prototype.setDataURL=function(e){this.dataURL=e},e.prototype.export=function(){return{password:this.password,dataURL:this.dataURL,encipherment:this.encipherment,isEncryption:this.isEncryption}},e.prototype.import=function(e){this.password=e.password,this.dataURL=e.dataURL,this.encipherment=e.encipherment,this.isEncryption=e.isEncryption},e.prototype.base64ToArrayBuffer=function(e){for(var t=window.atob(e),n=t.length,o=new Uint8Array(n);n--;)o[n]=t.charCodeAt(n);return o},e.prototype.arrayBufferToBase64=function(e){for(var t="",n=new Uint8Array(e),o=n.byteLength,r=0;r<o;r++)t+=String.fromCharCode(n[r]);return window.btoa(t)},e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeyCodeStrMap=void 0;var o=n(156);t.KeyCodeStrMap=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._keyCodeToStr=[],this._strToKeyCode={}}return e.prototype.define=function(e,t){this._keyCodeToStr[e]=t,this._strToKeyCode[t.toLowerCase()]=e},e.prototype.keyCodeToStr=function(e){return this._keyCodeToStr[e]},e.prototype.strToKeyCode=function(e){return this._strToKeyCode[e.toLowerCase()]||o.KeyCodes.Unknown},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(299),i=(o=r)&&o.__esModule?o:{default:o};var a=function(){function e(t,n,o,r,a,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ctrlKey=t,this.shiftKey=n,this.altKey=o,this.metaKey=r,this.keyCode=a,this.key=i.default.toString(a),this.native=s,this.propagationStopped=!1,this.preventedDefault=!1}return e.prototype.stopPropagation=function(){this.propagationStopped=!0},e.prototype.preventDefault=function(){this.preventedDefault=!0},e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.nativeEvent=t,this.isStopped=!1}return e.prototype.stop=function(){this.isStopped=!0},e.prototype.stopPropagation=function(){this.nativeEvent.stopPropagation()},e.prototype.preventDefault=function(){this.nativeEvent.preventDefault()},e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return[{binder:new i.default(r.FOCUS_ELEMENT_BINDER,0),deps:[r.GLOBAL_BINDER]},{binder:new o.default(document.body,r.ACTIVATION_ANNOTATION_BINDER,0),depToDefault:!0},{binder:new o.default(document.body,r.ANNOTATION_PROPERTIES_BINDER,0),deps:[r.GLOBAL_BINDER]},{binder:new o.default(document.body,r.SELECT_TEXT_IMAGE_BINDER,0),depToDefault:!0},{binder:new o.default(document.body,r.DOCUMENT_PROPERTIES_BINDER,0),deps:[r.GLOBAL_BINDER]},{binder:new o.default(document.body,r.GLOBAL_BINDER,0),deps:[]},{binder:new o.default(document.body,r.VIEWER_BINDER,0),deps:[r.GLOBAL_BINDER]},{binder:new o.default(document.body,r.ANNOTATION_CREATING_BINDER,0),deps:[r.GLOBAL_BINDER]},{binder:new i.default(r.EDIT_TEXT_OBJECT_BINDER,0),DEPS:[r.GLOBAL_BINDER]}]};var o=a(n(218)),r=n(42),i=a(n(1023));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(218);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;i(this,t);var r=a(this,e.call(this,null,n,o));return r.isActive=!1,r}return s(t,e),t.prototype.acceptElement=function(e){return document.activeElement===e},t.prototype.handleEvent=function(t,n){n.stopPropagation(),e.prototype.handleEvent.call(this,t,n)},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=c},function(e,t,n){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0});var r=n(42),i=n(14);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=(a(o={},r.KEY_MAP_SELECT_ALL_ANNOTATIONS,{shortcut:i.isMac?"Meta+A":"Ctrl+A",bindTo:r.VIEWER_BINDER}),a(o,r.KEY_MAP_POLYLINE_DELETE_LAST_POINT,{shortcut:"Backspace",bindTo:r.VIEWER_BINDER}),a(o,r.KEY_MAP_DOCUMENT_UNDO,{shortcut:i.isMac?"Meta+Z":"Ctrl+Z",bindTo:r.VIEWER_BINDER}),a(o,r.KEY_MAP_DOCUMENT_REDO,{shortcut:i.isMac?"Meta+Shift+Z":"Ctrl+Y",bindTo:r.VIEWER_BINDER}),a(o,r.KEY_MAP_ESC_CREATING_DRAWING,{shortcut:"Escape",bindTo:r.ANNOTATION_CREATING_BINDER}),a(o,r.KEY_MAP_UNACTIVE_ANNOTATION,{shortcut:"Escape",bindTo:r.ACTIVATION_ANNOTATION_BINDER}),a(o,r.KEY_MAP_UNFOCUS_FROM_EDITTING_TEXT_OBJECT,{shortcut:"Escape",bindTo:r.EDIT_TEXT_OBJECT_BINDER}),a(o,r.KEY_MAP_DELETE_ANNOTATION,{shortcut:"Delete",bindTo:r.ACTIVATION_ANNOTATION_BINDER}),a(o,r.KEY_MAP_COPY_TEXT_IMAGE,{shortcut:i.isMac?"Meta+C":"Ctrl+C",bindTo:r.SELECT_TEXT_IMAGE_BINDER}),a(o,r.KEY_MAP_FIELD_TAB_NEXT,{shortcut:"Tab",bindTo:r.VIEWER_BINDER}),a(o,r.KEY_MAP_FIELD_TAB_PREVIOUS,{shortcut:"Shift+Tab",bindTo:r.VIEWER_BINDER}),a(o,r.KEY_MAP_FIELD_LEFT,{shortcut:"LeftArrow",bindTo:r.VIEWER_BINDER}),a(o,r.KEY_MAP_FIELD_RIGHT,{shortcut:"RightArrow",bindTo:r.VIEWER_BINDER}),a(o,r.KEY_MAP_FIELD_DOWN,{shortcut:"DownArrow",bindTo:r.VIEWER_BINDER}),a(o,r.KEY_MAP_FIELD_UP,{shortcut:"UpArrow",bindTo:r.VIEWER_BINDER}),a(o,r.KEY_MAP_FIELD_ENTER,{shortcut:"Enter",bindTo:r.VIEWER_BINDER}),o);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(1026),i=(o=r)&&o.__esModule?o:{default:o};var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pdfViewer=t,this.matchRules=[],this.getPageCustomData=function(){return[]},this.getCustomDataId=function(){}}return e.prototype.registerMatchRule=function(e){return this.matchRules.push(e),e},e.prototype.unRegisterMatchRule=function(e){var t=this.matchRules.indexOf(e);-1!==t&&this.matchRules.splice(t,1)},e.prototype.get=function(e){for(var t=this.matchRules,n=i.default,o=t.length;o--;){var r=t[o];if("function"==typeof r){var a=r(e,n);if(a)return a}}return n},e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(108);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=function(e){function t(n,o,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,i));return a.name="customRender",a.data=n,a.eUi=o,a.eHandler=r,a.customsRender=i,a}return i(t,e),t.prototype.init=function(){},t.prototype.redraw=function(){},t.prototype.active=function(){},t.prototype.unActive=function(){},t.prototype.destroy=function(){},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(1028)),r=s(n(1029)),i=n(42),a=s(n(1));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pdfViewer=t,this.undoStack=new o.default,this.redoStack=new o.default,this.beforeFn=null,this.afterFn=null,this.pdfViewer.eventEmitter.on(a.default.willCloseDocument,(function(){n.clear()})),this.addEventListener()}return e.prototype.addEventListener=function(){this.pdfViewer.getKeyboardEventBinder(i.VIEWER_BINDER)},e.prototype.removeEventListener=function(){},e.prototype.before=function(e){this.beforeFn=r.default.createRecord(e,"before")},e.prototype.after=function(e){this.afterFn=r.default.createRecord(e,"after"),this.remember(r.default.getUniqueId(e))},e.prototype.remember=function(e){this.beforeFn&&this.afterFn&&this.undoStack.push({before:this.beforeFn,after:this.afterFn,uniqueId:e})},e.prototype.removeById=function(e){this.undoStack.filter((function(t){return e!==t.uniqueId})),this.redoStack.filter((function(t){return e!==t.uniqueId}))},e.prototype.undo=function(){var e=this.undoStack.pop();e&&(this.redoStack.push(e),r.default.undo(e))},e.prototype.redo=function(){var e=this.redoStack.pop();e&&(this.undoStack.push(e),r.default.redo(e))},e.prototype.clear=function(){this.undoStack.clear(),this.redoStack.clear()},e.prototype.getUndoStack=function(){return this.undoStack},e.prototype.getRedoStack=function(){return this.redoStack},e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.stackArray=[]}return e.prototype.push=function(e){this.stackArray.push(e)},e.prototype.pop=function(){return this.stackArray.pop()},e.prototype.size=function(){return this.stackArray.length},e.prototype.clear=function(){this.stackArray=[]},e.prototype.filter=function(e){this.stackArray=this.stackArray.filter(e)},e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(1030),i=(o=r)&&o.__esModule?o:{default:o};var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.undo=function(e){e.before()},e.redo=function(e){e.after()},e.createRecord=function(e,t){var n=e.method;return i.default[n](e,t)},e.getUniqueId=function(e){return e.host&&e.host.annot?e.host.annot.getId():null},e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(59)),r=a(n(159)),i=n(12);function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c={setContent:function(e){var t=e.method;return function(){e.host[t](e.content)}},setBorderColor:function(e){var t=e.host.pdfViewer,n=e.host.annot,o=e.method,r=n.getUniqueID(),i=n.getPDFPage().getIndex();return function(){var n=t.getAnnotRender(i,r).component;n.annot[o](e.color).then((function(){n.updateRender()}))}},setOpacity:function(e){var t=e.host.pdfViewer,n=e.host.annot,o=e.method,r=n.getUniqueID(),i=n.getPDFPage().getIndex();return function(){var n=t.getAnnotRender(i,r).component;n.annot[o](e.opacity).then((function(){n.updateRender()}))}},updateQuadPointsByCharIndex:function(e){var t=e.host.pdfViewer,n=e.host.annot,o=e.method,r=n.getUniqueID(),i=n.getPDFPage().getIndex();return function(){var n=t.getAnnotRender(i,r).component;n.annot[o](e.start,e.end).then((function(){n.isReplace?n.caretAnnot.moveRectByCharIndex(e.end).then((function(){n.getGroupRenders().map((function(e){e.active()}))})):n.active()}))}},setStyleFillColor:function(e){var t=e.host.pdfViewer,n=e.host.annot,o=e.method,r=n.getUniqueID(),i=n.getPDFPage().getIndex();return function(){t.getAnnotRender(i,r).component.annot[o](e.fillColor)}},setFillColor:function(e){var t=e.host.pdfViewer,n=e.host.annot,o=e.method,r=n.getUniqueID(),i=n.getPDFPage().getIndex();return function(){t.getAnnotRender(i,r).component.annot[o](e.fillColor)}},setBorderWidth:function(e){var t=e.host.pdfViewer,n=e.host.annot,o=e.method,r=n.getUniqueID(),i=n.getPDFPage().getIndex();return function(){t.getAnnotRender(i,r).component.annot[o](e.borderWidth)}},setBorderStyle:function(e){var t=e.host.pdfViewer,n=e.host.annot,o=e.method,r=n.getUniqueID(),i=n.getPDFPage().getIndex();return function(){t.getAnnotRender(i,r).component.annot[o](e.borderStyle.style,e.borderStyle.param)}},setCalloutLineEndingStyle:function(e){var t=e.host.pdfViewer,n=e.host.annot,o=e.method,r=n.getUniqueID(),i=n.getPDFPage().getIndex();return function(){var n=t.getAnnotRender(i,r).component;n.annot[o](+e.style).then((function(){n.activeRect(),n.redraw()}))}},setEndingStyle:function(e){var t=e.host.pdfViewer,n=e.host.annot,o=e.method,r=n.getUniqueID(),i=n.getPDFPage().getIndex();return function(){var n=t.getAnnotRender(i,r).component;n.annot[o](e.isBeginning,+e.style).then((function(){n.activeRect(),n.redraw()}))}},enableCaption:function(e){var t=e.host.pdfViewer,n=e.host.annot,o=e.method,r=n.getUniqueID(),i=n.getPDFPage().getIndex();return function(){t.getAnnotRender(i,r).component.annot[o](e.enableCaption)}},setRotation:function(e){var t=e.host.pdfViewer,n=e.host.annot,o=e.method,r=n.getUniqueID(),i=n.getPDFPage().getIndex();return function(){t.getAnnotRender(i,r).component.annot[o]((e.rotation+360)%360)}},setHighlightingMode:function(e){var t=e.host.pdfViewer,n=e.host.annot,o=e.method,r=n.getUniqueID(),i=n.getPDFPage().getIndex();return function(){t.getAnnotRender(i,r).component.annot[o](e.mode)}},setRect:function(e){var t=e.host.pdfViewer,n=e.host.annot,o=e.method,r=n.getUniqueID(),i=n.getPDFPage().getIndex();return function(){var n=t.getAnnotRender(i,r).component;n.annot[o](e.rect).then((function(){n.active()}))}},eraseInk:function(e){e.host.pdfViewer;var t=e.host.annot;t.getUniqueID(),t.getPDFPage().getIndex()},updateLinePoints:function(e){var t=e.host.pdfViewer,n=e.host.annot,o=(e.method,n.getUniqueID()),r=n.getPDFPage().getIndex(),i=[];return function(){var n=t.getAnnotRender(r,o).component;i.push(n.annot.setStartPoint(e.startPoint)),i.push(n.annot.setEndPoint(e.endPoint)),Promise.all(i).then((function(){n.active()}))}},setLeaderLineLength:function(e){var t=e.host.pdfViewer,n=e.host.annot,o=e.method,r=n.getUniqueID(),i=n.getPDFPage().getIndex(),a=e.leaderLinePoints,s=e.startPoint,c=e.endPoint,u=a.start,l=(a.end,Math.sqrt(Math.pow(s.x-u.x,2)+Math.pow(s.y-u.y,2))),f=!0;return(c.x-s.x)*(u.y-c.y)-(u.x-c.x)*(c.y-s.y)>0&&(f=!1),f&&(l=-l),function(){var e=t.getAnnotRender(i,r).component;e.annot[o](l).then((function(){e.active()}))}},updateVertexes:function(e){var t=e.host.pdfViewer,n=e.host.annot,o=e.method,r=n.getUniqueID(),i=n.getPDFPage().getIndex(),a=e.vertexes,s=e.index;return function(){var e=t.getAnnotRender(i,r).component;e.annot[o](s,a[s]).then((function(){e.active()}))}},removeAnnot:function(e,t){var n=e.host.pdfViewer,o=e.host.annot,r=o.getUniqueID(),i=o.getPDFPage(),a=i.getIndex(),s=void 0,c=void 0,l=o.getReplies&&o.getReplies()||[],f=[];return l.map((function(e){f.push({id:e.getId(),content:e.getContent(),createTime:new Date(e.getCreateDateTime()).getTime(),modifiedTime:new Date(e.getModifiedDateTime()).getTime()})})),o.isGrouped&&o.isGrouped()?(s=[],o.groupElements.map((function(e,t){s.push(new u(e).getJson()),e.isGroupHeader()&&(c=t)}))):s=new u(o).getJson(),"before"===t?"redact"===o.getType()?function(){i.markRedactAnnot(s.rects,s.name)}:o.isGrouped&&o.isGrouped()?function(){i.addAnnotGroup(s,c).then((function(){var e=n.getAnnotRender(a,r).component;f.length>0?p(e.annot).then((function(){e.getGroupRenders().map((function(e){e.active()}))})):e.active()}))}:function(){i.addAnnot(s).then((function(){var e=n.getAnnotRender(a,r).component;f.length>0?p(e.annot).then((function(){e.active()})):e.active()}))}:function(){var e=n.getAnnotRender(a,r).component;i.removeAnnot(e.annot)};function p(e){var t=[];return f.map((function(n){t.push(e.addReply(n.content).then((function(e){e.setUniqueID(n.id).then((function(){e.setCreateDateTime(n.createTime).then((function(){e.setModifiedDateTime(n.modifiedTime)}))}))})))})),Promise.all(t)}},addAnnot:function(e,t){var n=e.host.pdfViewer,o=e.host.annot,r=o.getUniqueID(),i=o.getPDFPage(),a=i.getIndex(),s=void 0,c=void 0;return o.isGrouped&&o.isGrouped()?(s=[],o.groupElements.map((function(e,t){s.push(new u(e).getJson()),e.isGroupHeader()&&(c=t)}))):s=new u(o).getJson(),"before"===t?function(){i.removeAnnot(o)}:o.isGrouped&&o.isGrouped()?function(){i.addAnnotGroup(s,c).then((function(){n.getAnnotRender(a,r).component.getGroupRenders().map((function(e){e.active()}))}))}:function(){i.addAnnot(s).then((function(){n.getAnnotRender(a,r).component.active()}))}},markRedactAnnot:function(e,t){var n=e.host.pdfViewer,o=e.host.annot,r=o.getUniqueID(),i=o.getPDFPage(),a=i.getIndex();return"before"===t?function(){i.removeAnnot(o)}:function(){var e=new u(o).getJson();i.markRedactAnnot(e.rects,e.name).then((function(){n.getAnnotRender(a,r).component.active()}))}},makeRedactByPages:function(e,t){var n=e.host;return"before"===t?function(){n.map((function(e){e.getPDFPage().removeAnnot(e)}))}:function(){n.map((function(e){e.getPDFPage().markRedactAnnot([e.info.rect],e.id)}))}},placeRedact:function(e,t){var n=e.host;return"before"===t?function(){n.map((function(e){e.getPDFPage().removeAnnot(e)}))}:function(){n.map((function(e){e.getPDFPage().markRedactAnnot([e.info.rect],e.id)}))}},eraser:function(e,t){var n=e.inkArray,o=e.host;return function(){n.map((function(e){o.getAnnotRender(e.annot.getId()).component.annot.setInkList(e.inkList)}))}},updateCalloutPoints:function(e){var t=e.host.pdfViewer,n=e.host.annot,o=(e.method,n.getUniqueID()),r=n.getPDFPage().getIndex();return function(){var n=t.getAnnotRender(r,o).component;n.annot._setRect(e.rect,!1).then((function(){n.annot.setInnerRectNoAction(e.innerRect).then((function(){n.annot.setCalloutLinePoints(e.calloutLinePoints).then((function(){n.annot.update().then((function(){n.redraw(),n.active()}))}))}))}))}},addReply:function(e,t){var n=e.host,o=e.replyAnnot,r=(e.component,e.pdfViewer),i=n.getPDFPage(),a=i.getIndex(),s=n.getId(),c=o.getId(),u=o.getCreateDateTime(),l=o.getModifiedDateTime();return"before"===t?function(){i.removeAnnot(o)}:function(){r.getAnnotRender(a,s).component.annot.addReply(o.getContent()).then((function(e){e.setUniqueID(c).then((function(){e.setCreateDateTime(new Date(u).getTime()).then((function(){e.setModifiedDateTime(new Date(l).getTime())}))}))}))}},deleteReply:function(e,t){var n=e.host,o=e.replyAnnot,r=e.pdfViewer,i=n.getPDFPage(),a=i.getIndex(),s=o.getId(),c=n.getId(),u=o.getCreateDateTime(),l=o.getModifiedDateTime();return"before"===t?function(){r.getAnnotRender(a,c).component.annot.addReply(o.getContent()).then((function(e){e.setUniqueID(s).then((function(){e.setCreateDateTime(new Date(u).getTime()).then((function(){e.setModifiedDateTime(new Date(l).getTime())}))}))}))}:function(){i.removeAnnotById(s)}},addAction:function(e,t){var n=e.host.pdfViewer,o=e.host.annot,r=o.getUniqueID(),i=o.getPDFPage().getIndex(),a=o.getAction();return"before"===t?function(){o.removeAction()}:function(){!function(e,t){e.setAction(t.type).then((function(){var n=new l(t).toJson();return e.setActionData(n).then((function(){return function e(t,n){for(var o=n.subActionCount,r=[],i=function(o){r.push(t.insertSubAction(o,n.subAction[o].type).then((function(){var r=new l(n.subAction[o]).toJson(),i=t.getSubAction(o);return i.setActionData(r).then((function(){return e(i,n.subAction[o])}))})))},a=0;a<o;a++)i(a);return Promise.all(r)}(e.getAction(),t)}))}))}(n.getAnnotRender(i,r).component.annot,a.info)}}};t.default=c;var u=function(){function e(t){s(this,e);var n=(0,i.colorConvertor)(t.getBorderColor(),"#");switch(this.json={objNumber:t.info.objNumber,name:t.getUniqueID(),rect:t.getRect(),color:n,style:t.getBorderStyle(),contents:t.getContent(),date:new Date(t.getModifiedDateTime()).getTime(),type:t.getType(),flags:t.getFlags()},t instanceof o.default&&this.markup(t),t instanceof r.default&&this.textMarkup(t),t.getType()){case"ink":this.ink(t);break;case"fileattachment":this.fileattachment(t);break;case"polygon":this.polygon(t);break;case"polyline":this.polyline(t);break;case"stamp":this.stamp(t);break;case"freetext":this.freetext(t);break;case"screen":this.screen(t);break;case"line":this.line(t);break;case"redact":this.redact(t);break;case"highlight":this.highlight(t);break;case"link":this.link(t);break;case"square":this.square(t);break;case"circle":this.circle(t)}}return e.prototype.markup=function(e){this.json=Object.assign({intent:e.getIntent(),opacity:e.getOpacity(),subject:e.getSubject(),title:e.getTitle(),creationTimestamp:new Date(e.getCreateDateTime()).getTime()},this.json)},e.prototype.textMarkup=function(e){this.json=Object.assign({startCharIndex:e.getStartCharIndex(),endCharIndex:e.getEndCharIndex(),coords:e.getQuadPoints()},this.json)},e.prototype.ink=function(e){this.json=Object.assign({inkList:e.getInkList(),borderWidth:e.getBorderWidth()},this.json)},e.prototype.fileattachment=function(e){this.json=Object.assign({fObjNum:e.info.fObjNum},this.json)},e.prototype.polygon=function(e){this.json=Object.assign(this.json,{vertexes:e.getVertexes(),borderStyle:e.getBorderStyleWithParam().style,borderStyleParam:e.getBorderStyleWithParam().param,fillColor:e.info.fillColor,style:void 0,borderWidth:e.getBorderWidth()})},e.prototype.polyline=function(e){this.json=Object.assign(this.json,{vertexes:e.getVertexes(),fillColor:e.info.fillColor,borderWidth:e.getBorderWidth(),borderStyle:e.getBorderStyleWithParam().style,borderStyleParam:e.getBorderStyleWithParam().param,style:void 0,startStyle:e.getStartStyle(),endStyle:e.getEndingStyle()})},e.prototype.stamp=function(e){this.json=Object.assign({icon:e.info.icon,rotate:(e.getRotation()+360)%360,apObjeNum:e.info.apObjeNum},this.json)},e.prototype.freetext=function(e){this.json=Object.assign(this.json,{calloutLinePoints:e.getCalloutLinePoints(),innerRect:e.getInnerRect(),borderStyle:e.getBorderStyleWithParam().style,borderStyleParam:e.getBorderStyleWithParam().param,style:void 0,"interior-color":e.getFillColor(),interiorColor:e.getFillColor(),borderWidth:e.getBorderWidth(),calloutLineEndingStyle:e.getCalloutLineEndingStyle()})},e.prototype.line=function(e){var t=e.getMeasureRatio(),n=e.getMeasureUnit(),o=null;t&&n&&(o={unit:n,ratio:t});var r=e.getStartPoint(),i=e.getEndPoint();this.json=Object.assign(this.json,{startStyle:e.getStartStyle(),endStyle:e.getEndingStyle(),enableCaption:e.hasCaption(),startPoint:{x:r.x,y:r.y},endPoint:{x:i.x,y:i.y},measure:o,borderWidth:e.getBorderWidth(),borderStyle:e.getBorderStyleWithParam().style,borderStyleParam:e.getBorderStyleWithParam().param,style:void 0})},e.prototype.screen=function(e){this.json=Object.assign({apObjNum:e.info.apObjNum,opacity:e.getOpacity(),rotate:{0:0,90:1,180:2,270:3}[e.getRotation()],iObjNum:e.info.iObjNum,aObjNum:e.info.aObjNum,borderWidth:e.getBorderWidth()},this.json)},e.prototype.redact=function(e){var t=e.info.quadPoints,n=[];t.length>0?t.map((function(e){n.push({left:e[0].x,right:e[3].x,top:e[0].y,bottom:e[3].y})})):n.push(e.info.rect),this.json=Object.assign({rects:n},this.json)},e.prototype.highlight=function(e){e.info.isArea&&(this.json=Object.assign(this.json,{coords:[e.getRect()],dicts:{AreaHi:"AreaHi"}}),delete this.json.startCharIndex,delete this.json.endCharIndex)},e.prototype.link=function(e){this.json=Object.assign(this.json,{aObjNum:e.info.aObjNum,borderStyle:e.getBorderStyleWithParam().style,borderStyleParam:e.getBorderStyleWithParam().param,style:void 0,borderWidth:e.getBorderWidth()})},e.prototype.circle=function(e){this.json=Object.assign(this.json,{fillColor:e.info.fillColor,borderWidth:e.getBorderWidth(),borderStyle:e.getBorderStyleWithParam().style,borderStyleParam:e.getBorderStyleWithParam().param,style:void 0})},e.prototype.square=function(e){this.json=Object.assign(this.json,{fillColor:e.info.fillColor,borderWidth:e.getBorderWidth(),borderStyle:e.getBorderStyleWithParam().style,borderStyleParam:e.getBorderStyleWithParam().param,style:void 0})},e.prototype.getJson=function(){return this.json},e}();var l=function(){function e(t){s(this,e),this.action=t,this.json={},this[t.type]()}return e.prototype.TypeGoto=function(){var e=this.action.destination;this.json=Object.assign(e,{type:e.zoomMode})},e.prototype.TypeURI=function(){var e=this.action.uri;this.json=Object.assign({},{uri:e})},e.prototype.TypeJavaScript=function(){var e=this.action.javascript;this.json=Object.assign({},{script:e})},e.prototype.TypeNamed=function(){var e=this.action.name;this.json=Object.assign({},{name:e})},e.prototype.TypeHide=function(){var e=this.action,t=e.fieldNames,n=e.hideState;this.json=Object.assign({},{fieldNames:t,hideState:n})},e.prototype.TypeSubmitForm=function(){var e=this.action,t=e.flags,n=e.url,o=e.fieldNames;this.json=Object.assign({},{flags:t,url:n,fieldNames:o})},e.prototype.TypeResetForm=function(){var e=this.action,t=e.flags,n=e.fieldNames;this.json=Object.assign({},{flags:t,fieldNames:n})},e.prototype.TypeGoToR=function(){var e=this.action,t=e.destinationName,n=e.destination;this.json=Object.assign({},{destinationName:t,destination:n})},e.prototype.toJson=function(){return this.json},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(56),i=(o=r)&&o.__esModule?o:{default:o};var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.show=function(){(0,i.default)()},e.prototype.hide=function(){(0,i.default)()},e.prototype.destroy=function(){(0,i.default)()},e}();t.default=a},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";e=e||{};var t="",n=o.$each,r=e.actions,i=(e.$value,e.$index,o.$escape);return t+='<div class="fv__selection-tool-tip-container">\r\n    \x3c!--<div class="fv__selection-tool-tip-items-container">--\x3e\r\n        <div class="fv__selection-tool-tip-items">\r\n            ',n(r,(function(e,n){t+='\r\n            <div class="fv__selection-tool-tip-item ',t+=i(e.iconClass),t+='" action="',t+=i(e.name),t+='"></div>\r\n            '})),t+="\r\n        </div>\r\n    \x3c!--</div>--\x3e\r\n</div>"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(160)),r=i(n(219));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var s=function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o));return i.selectionTool=new r.default(n,o),i.init(),i}return a(t,e),t.prototype.init=function(){},t.prototype.showAt=function(t,n){e.prototype.showAt.call(this,t,n)},t.prototype.hide=function(){e.prototype.hide.call(this)},t.prototype.destroy=function(){this.selectionTool.destroy()},t}(o.default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="c2375213@publish/8_0_0"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(463),i=(o=r)&&o.__esModule?o:{default:o};var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.parentManager=t,this.lifeCycles={},this.generators={}}return e.prototype.registerLifecycle=function(e){var t=this,n=e.constructor,o=n.getName();this.lifeCycles[o]=e,e.initialize();var r=n.depends();r.length>0&&r.forEach((function(n){var r=t.getLifeCycle(n);r.addReleaseHook((function(){e.release()})),r.addDestroyHook((function(){o in t.lifeCycles&&delete t.lifeCycles[o],e.destroy()}))}))},e.prototype.registerResourceGenerator=function(e,t){this.generators[e]=i.default.resolveInstance(t)},e.prototype.getLifeCycle=function(e){if(e in this.lifeCycles)return this.lifeCycles[e];if(this.parentManager)return this.parentManager.getLifeCycle(e);throw new Error("Incorrect lifecycle name: "+lifecycleName+", please make sure that has been registered via WebAppLifecycleManager.registerLifecycle()!")},e.prototype.getResourceGeneratorClass=function(e){if(e in this.generators)return this.generators[e];if(this.parentManager)return this.parentManager.getResourceGeneratorClass(e);throw new Error("Incorrect generator name: "+e+", please make sure that has been registered via WebAppLifecycleManager.registerResourceGenerator(name, generator)!")},e.prototype.generator=function(e,t){var n=this.getLifeCycle(e),o=n.getResourceGenerator(t);if(!o){var r=void 0;r="string"==typeof t?this.getResourceGeneratorClass(t):i.default.resolveInstance(t),n.addResourceGenerator(t,r),o=n.getResourceGenerator(t)}return o},e.prototype.releaseAll=function(){Object.values(this.lifeCycles).forEach((function(e){e.release()}))},e.prototype.destroy=function(){Object.values(this.lifeCycles).forEach((function(e){e.release(),e.destroy()}))},e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(302)),r=i(n(58));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var s=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return o.pdfViewer=n,o}return a(t,e),t.getName=function(){return r.default.PDF_VIEWER_ALIVE},t.depends=function(){return[r.default.BROWSER_RELOAD]},t.prototype.initialize=function(){var e=this,t=this.pdfViewer.destroy;this.pdfViewer.destroy=function(){for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];return t.apply(e.pdfViewer,o).then((function(){e.release()}))},this.addDestroyHook((function(){delete e.pdfViewer}))},t}(o.default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(302)),r=a(n(1)),i=a(n(58));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return o.pdfViewer=n,o}return s(t,e),t.getName=function(){return i.default.PDF_DOCUMENT_CLOSING},t.depends=function(){return[i.default.PDF_VIEWER_ALIVE,i.default.BROWSER_RELOAD]},t.prototype.initialize=function(){var e=this,t=function(){e.release()};this.pdfViewer.eventEmitter.on(r.default.willCloseDocument,t),this.addDestroyHook((function(){e.pdfViewer.eventEmitter.off(r.default.willCloseDocument,t),delete e.pdfViewer}))},t}(o.default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(463);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.prototype.generate=function(e){var t=window.URL||window.webkitURL,n=t.createObjectURL(e);return this.addReleaseHook((function(){return t.revokeObjectURL(n),!0})),n},t.prototype.expose=function(){return this.getWrappedURL()},t.prototype.getWrappedURL=function(){var e=this;if(this.WrappedURL)return this.WrappedURL;var t=window.URL||window.webkitURL,n=this.wrap(t,"createObjectURL",(function(){return function(t){return e.generate(t)}}));return this.WrappedURL=n,n.URL=n,n},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(302)),r=i(n(58));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=function(e){function t(){return a(this,t),s(this,e.apply(this,arguments))}return c(t,e),t.getName=function(){return r.default.BROWSER_RELOAD},t.prototype.initialize=function(){},t.prototype.addResourceGenerator=function(t,n){var o=this.map.size;e.prototype.addResourceGenerator.call(this,t,n),this.map.size>o&&this.prepareUnloadEvent()},t.prototype.prepareUnloadEvent=function(){var e=this;if(!this.prepared)if(this.prepared=!0,"function"!=typeof window.onunload)window.onunload=function(){return e.destroy(),""};else{var t=window.onunload;window.onunload=function(n){return e.destroy(),t.call(window,n)}}},t}(o.default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(n(464)),r=u(n(1041)),i=u(n(1048)),a=u(n(271)),s=u(n(1069)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(303));u(n(1073));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api=new o.default(t),this.annotManager=new i.default,this.actionFactory=a.default,this.graphicsObjectManager=new s.default(this),this.eventEmitter=n,this.userName=null,this.defaultAnnotConfig=function(){}}return e.prototype.init=function(){return this.api.init().catch((function(e){return Promise.reject(e.error)}))},e.prototype.setIcons=function(e){return this.api.setIcons(e)},e.prototype.addIcon=function(e){return this.api.addIcon(e)},e.prototype.removeIcon=function(e,t,n){return this.api.removeIcon(e,t,n)},e.prototype.getPDFDocByFile=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n.fileName=n.fileName||e.name||"",this.api.getPDFDocIdByFile(e,{jwt:n.jwt}).then((function(e){return new r.default(e,t,n)}))},e.prototype.createNewDoc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"untitled.pdf",t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{height:842,width:595};return this.api.createNewDoc(e,n,o).then((function(n){return new r.default(n,t,{fileName:e})}))},e.prototype.getPDFDocByChunk=function(e,t,n){var o=this;return this.api.getPDFDocIdByChunk(e,t).then((function(e){return new r.default(e,o,n)}))},e.prototype.getPDFDocByHttpRangeRequest=function(e,t){var n=this;return this.api.getPDFDocIdByHttpRangeRequest(e,{jwt:t.jwt}).then((function(e){return new r.default(e,n,t)}))},e.prototype.getPDFDocByArrayBuffer=function(e,t){var n=this;return this.api.getPDFDocIdByArrayBuffer(e).then((function(e){return new r.default(e,n,t)}))},e.prototype.getPDFDocById=function(e,t){return Promise.resolve(new r.default(e,this,t))},e.prototype.setUserName=function(e){var t=this;return this.api.setUserName(e).then((function(n){t.userName=e}))},e.prototype.getUserName=function(){var e=this;return this.userName?Promise.resolve(this.userName):this.api.getUserName().then((function(t){return e.userName=t,t}))},e.prototype.setDynamicInfoFormula=function(e,t){return this.api.setDynamicInfoFormula(e,t)},e.prototype.getUtils=function(){return c},e.prototype.getDefaultAnnotConfig=function(){return this.defaultAnnotConfig},e.prototype.setDefaultAnnotConfig=function(e){this.defaultAnnotConfig=e},e.prototype.setTabOrder=function(e,t,n){return this.api.setTabOrder(e,t,n)},e.prototype.getTabOrder=function(e,t){return this.api.getTabOrder(e,t)},e.prototype.setStructureOrder=function(e,t,n){return this.api.setStructureOrder(e,t,n)},e.prototype.getAllModuleLicenseRight=function(){return this.api.getAllModuleLicenseRight().then((function(e){return e}))},e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=C(n(465)),i=C(n(19)),a=C(n(1)),s=C(n(1043)),c=C(n(1044)),u=C(n(268)),l=C(n(1045)),f=n(1046),p=C(n(1047)),d=n(303),h=C(n(32)),g=C(n(469)),m=n(39),v=C(n(73)),y=C(n(271)),b=C(n(21)),w=n(7),_=C(n(110)),P=n(22),O=C(n(467)),E=C(n(235)),x=n(36);function C(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var S=[48,49,50,51,52,53,54,55,56,57,97,98,99,100,101,102],D=function(){function e(t,n){var o=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};A(this,e),this.id=t,this.engine=n,this.parameters=r,this.api=n.api,this.pageCache=[],this.pagePromiseCache=[],this.info={fileName:r.fileName,pageSizes:{}},this.visibleTemplates=[],this.invisibleTemplates=[],this.metadata={FileName:r.fileName},this.docModified=!1;var s=[];for(var c in i.default)switch(c){case"layerVisibleChange":case"drmEncryptFailed":case"docModified":case"annotationLoaded":break;default:s.push(i.default[c])}var u=function(){o.engine.eventEmitter.emit(i.default.docModified,o),o.docModified=!0},l=(0,d.debounce)(100,u);s.map((function(e){o.engine.eventEmitter.on(e,l)})),this.engine.eventEmitter.on(a.default.willCloseDocument,this.willCloseDocument=function(){s.map((function(e){o.engine.eventEmitter.removeListener(e,l)}))}),this.permissionFactory={},this.spawnPageExecutor=new x.QueuedAsyncTaskExecutor}return e.prototype.checkNoAdditionPerm=function(e){return void 0!==this.permissionFactory.additional&&!(this.permissionFactory.additional(this)&e)},e.prototype.checkPermission=function(e){var t=void 0!==this.permissionFactory.standard?this.permissionFactory.standard(this):-1;return this.getPermissionsSync()&t&e},e.prototype.isOwner=function(){return this.info.isOwner},e.prototype.isDocModified=function(){return this.docModified},e.prototype.getId=function(){return this.id},e.prototype.getNameTreeIcons=function(){return this.info.icons},e.prototype.getFileName=function(){return this.info.fileName},e.prototype.parseByPassword=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o={};if(n.encryptPassword&&(o.encryptPassword=n.encryptPassword),n.annotsJson){var r=u.default.JSONToFDF(n.annotsJson);o.fdf={file:r}}return n.fdf&&(o.fdf=n.fdf),n.drm&&(o.drm=n.drm),n.fileOpen&&(o.fileOpen=n.fileOpen),n.idJWT&&(o.idJWT=n.idJWT),this.api.parsePDFDocByPassword(this.id,e,o).then((function(e){var n=e.code,o=e.info;if(0!==n)return Promise.reject(e);t.info=Object.assign(t.info,o),t.pageCache=new Array(t.info.pageCount),t.info.action&&(t.action=t.engine.actionFactory.createAction(t.info.action,t,t.api,t.engine.eventEmitter,t))})).then((function(){return t}))},e.prototype.parse=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.parseByPassword(e.password,e)},e.prototype.getJsNameTree=function(){return this.info.jsNameTree},e.prototype.getMetadata=function(){var e=this;return this.api.getMetadata(this.id).then((function(t){return e.metadata=Object.assign(e.metadata,t)}))},e.prototype.getMetadataValue=function(e){return this.metadata[e]},e.prototype.flatten=function(e){if(!(this.checkPermission(h.default.annotForm)&&this.checkPermission(h.default.modify)&&this.checkPermission(h.default.assemble)))throw new Error("Permission error");for(var t=[],n=this.getPageCount(),o=0;o<n;o++){var r=this.getPageByIndex(o).then((function(t){return t.flatten(e)}));t.push(r)}return Promise.all(t)},e.prototype.setMetadataValue=function(e,t){var n=this;if(!this.checkPermission(h.default.modify))throw new Error("Permission error");return this.api.setMetadataValue(this.id,e,t).then((function(o){if(!n.metadata)return n.getMetadata();n.metadata[e]=t,n.engine.eventEmitter.emit(i.default.metaDataChanged,n)}))},e.prototype.reloadPDFForm=function(){return this.PDFForm&&(this.PDFForm.destroy(),this.PDFForm=null),this.loadPDFForm()},e.prototype.loadPDFForm=function(){var e=this,t=this.PDFForm;return t&&!this.emptyForm?Promise.resolve(t):(t&&t.destroy(),t=this.PDFForm=new s.default(this,this.engine),this.api.loadForm(this.id).then((function(n){return e.emptyForm=!1,t.setFormJson(n),t})))},e.prototype.loadEmptyPDFForm=function(){var e=this.PDFForm;return this.emptyForm=!0,e||(e=this.PDFForm=new s.default(this,this.engine)),Promise.resolve(e)},e.prototype.getPDFForm=function(){return this.PDFForm},e.prototype.getPageCount=function(){return this.info.pageCount},e.prototype.getFileVersion=function(){return this.api.getFileVersion(this.id).then((function(e){return(void 0!==e?e:14)/10}))},e.prototype.isLinearized=function(){return this.api.isLinearized(this.id)},e.prototype.hasForm=function(){return this.api.hasForm(this.id)},e.prototype.setCustomPermission=function(e,t){this.permissionFactory[e]=t},e.prototype.getPermission=function(){return this.getPermissions()},e.prototype.getPermissions=function(){return this.getPermissionsSync()},e.prototype.getPermissionsSync=function(){if(this.permissionFactory.replaceStandard)return this.info.userPermissions=this.permissionFactory.replaceStandard(this),this.info.userPermissions;var e=-1;return(this.info.sigPerms||[]).forEach((function(t){return e&=t})),this.info.isOwner?4294967292:(e&this.info.userPermissions)>>>0},e.prototype.hasSignature=function(){return(this.info.sigPerms||[]).length},e.prototype.getStdCipherOptions=function(){return this.api.getStdCipherOptions(this.id)},e.prototype.getPDFDocInfo=function(){return this.api.getPDFDocInfoById(this.id)},e.prototype.getBookmarksJson=function(){return this.api.getBookmarks(this.id)},e.prototype.getRootBookmark=function(){var e=this;if(this.bookmarkRoot)return Promise.resolve(this.bookmarkRoot);var t=this.engine;return this.getBookmarksJson().then((function(n){return n?e.bookmarkRoot=new p.default(t,e,n):null}))},e.prototype.updateRootBookmark=function(){var e=this;return this.bookmarkRoot?this.getBookmarksJson().then((function(t){t&&e.bookmarkRoot.updateBookmark(t)})):Promise.resolve()},e.prototype.createRootBookmark=function(){var e=this;if(!this.checkPermission(h.default.assemble|h.default.modify))throw new Error("Permission error");var t=this.engine;return this.api.createRootBookmark(this.id).then((function(n){return e.bookmarkRoot=new p.default(t,e,n)}))},e.prototype.getLayerNodesJson=function(){var e=this;return this.ocgs?Promise.resolve(this.ocgs):this.api.getLayerNodes(this.id).then((function(t){return e.ocgs=t}))},e.prototype.setLayerNodeVisible=function(e,t){var n=this;return this.getLayerNodeById(e).visible=t,this.api.setLayerNodeVisiable(this.id,e,t).then((function(e){return e&&n.engine.eventEmitter.emit(i.default.layerVisibleChange,n),e}))},e.prototype.setLayerNodeVisiable=function(e,t){return this.setLayerNodeVisible(e,t)},e.prototype.getPageByIndex=function(e){var t,n=this,o=this.pageCache;if(t=o[e])return Promise.resolve(t);var i=this.pagePromiseCache;return i[e]=i[e]||this.api.getPageInfoByIndex(this.id,e).then((function(t){var a=o[e]=new r.default(t,n);return delete i[e],a}))},e.prototype.destroy=function(){var e=void 0;(e=this.PDFForm)&&e.destroy(),this.PDFForm=null;for(var t=this.pageCache,n=0,o=t.length;n<o;n++){var r=t[n];r&&r.destroy(),t[n]=null}var i=this.HF;return i&&i.destroy(),this.HF=null,this.bookmarkRoot&&this.bookmarkRoot.destroy(),this.bookmarkRoot=null,this.permissionFactory={},this.engine.eventEmitter.off(a.default.willCloseDocument,this.willCloseDocument),this.willCloseDocument=null,this.portfolio=null,this.api.destroyDoc(this.getId())},e.prototype.getStream=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.checkNoAdditionPerm(1))throw new Error("Permission error, download disabled");return this.PDFForm?this.PDFForm.addTask().then((function(){return t.api.getPDFDocStream(t.id,e,n)})):this.api.getPDFDocStream(this.id,e,n)},e.prototype.exportAnnotsToFDF=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(0!==e&&1!==e)throw new Error("File type error, only 0 or 1 available, current is "+e);var n={};if(t)for(var o in t.forEach((function(e){var t;n[e.page.getId()]||(n[e.page.getId()]=new Set),t=n[e.page.getId()],R(e,t)})),n)n[o]=Array.from(n[o]);return this.api.exportToFDF(this.id,e,2,n)},e.prototype.exportFormToFile=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if((t|4-t)<0)throw new Error("File type error.");var n=Promise.resolve();return this.PDFForm||(n=this.loadPDFForm()),n.then((function(n){switch(t){case 0:return e.api.exportToFDF(e.id,0,1);case 1:var o=e.PDFForm.exportXFDF(),r=new Blob([o],{type:"application/vnd.adobe.xfdf"});return Promise.resolve(r);case 2:var i=e.PDFForm.exportXML(),a=new Blob([i],{type:"application/xml"});return Promise.resolve(a);case 3:var s="",c=e.info.fileName;e.PDFForm.enumFields([],0,(function(e,t,n){-1!=t.indexOf(",")&&(t='"'+t+'"'),s+=","+t,-1!=n.indexOf('"')&&(n='"'+n.replace(/\"/g,'""')+'"'),c+=","+n}));var u="\ufeff"+s+"\r\n"+c;return Promise.resolve(new Blob([u],{type:"text/csv,charset=UTF-8"}));case 4:var l=" ",f=" ";return e.PDFForm.enumFields([],0,(function(e,t,n){l+="\t"+t,f+="\t"+n})),Promise.resolve(new Blob([l+"\r\n"+f],{type:"application/xml"}))}}))},e.prototype.exportToFDF=function(e,t){return this.api.exportToFDF(this.id,e,2).then((function(e){return new Uint8Array(e)}))},e.prototype.exportDataToFDF=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(0!==e&&1!==e)throw new Error("File type error, only 0 or 1 available, current is "+e);return this.api.exportToFDF(this.id,e,t)},e.prototype.importAnnotsFromFDF=function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.checkPermission(h.default.annotForm))throw new Error("Permission error");return this.api.importFromFDF(this.id,e,2).then((function(){for(var e=t.pageCache,n=[],o=function(t,o){var r=e[t];if(!r)return"continue";n.push(r.getUnloadedAnnots().then((function(e){return{page:r,newAnnots:e}})))},r=0,i=e.length;r<i;r++)o(r);return Promise.all(n)})).then((function(e){t.engine.eventEmitter.emit(i.default.annotationImported,t,e),!n&&t.engine.eventEmitter.emit(i.default.annotationImportedEx,t,e)}))},e.prototype.importFormFromFile=function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"UTF-8";if(!this.checkPermission(h.default.annotForm+h.default.fillForm))throw new Error("Permission error");var a=Promise.resolve();this.PDFForm||(a=this.loadPDFForm());var s=2===t;return 3===t||4==t?a=a.then((function(n){return new Promise((function(n,i){e instanceof ArrayBuffer&&(e=new Blob([e]));var a=new FileReader;a.onloadend=function(){var r,i=",";switch(t){case 3:break;case 4:i="\t";break;default:throw new Error("Unsupported file type")}var s=a.result.split("\r\n"),c=o(s,2),u=c[0],l=c[1];r=I(u,l,i,'"'),e=(0,f.TXTToXFDF)(r),n()},a.readAsText(e,r)}))})):s?e instanceof Blob?a=new Promise((function(t,n){var o=new FileReader;o.readAsText(e),o.onload=function(n){var o=n.target.result;e=(0,f.XMLToXFDF)(o),t()}})):e instanceof ArrayBuffer&&(a=new Promise((function(t,n){var o=new Blob([e]),r=new FileReader;r.readAsText(o),r.onload=function(n){var o=n.target.result;e=(0,f.XMLToXFDF)(o),t()}}))):a=Promise.resolve(),a.then((function(){var t=n.PDFForm;return n.api.importFromFDF(n.id,e,1).then((function(e){return n.api.getFieldsValue(n.id)})).then((function(e){return t.upadateValue(e),e})).then((function(e){for(var o in n.engine.eventEmitter.emit(i.default.docModified,n),e){var r=t.getField(o);if(6===r.getType()){var a=r.getLoadedWidgets(),s=void 0,c=v.default.FieldValueChanged;s=a.length?a[0].getAdditionalAction(c):r.getAction(c),e[o].length>0&&s&&t.actionHandler&&t.actionHandler(s,null,r,c)}}t.calculate(null)}))}))},e.prototype.importFromFDFFile=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(1===n)return this.PDFForm.importFDF();var o=e,r=!1;if(e instanceof Uint8Array&&e.length>52428800){var a=new Blob([e],{type:"arraybuffer"});o=URL.createObjectURL(a),r=!0}return this.api.importFromFDFFile(this.id,o,-1,n).then((function(e){for(var n=t.pageCache,o=[],r=function(e,t){var r=n[e];if(!r)return"continue";o.push(r.getUnloadedAnnots().then((function(e){return{page:r,newAnnots:e}})))},i=0,a=n.length;i<a;i++)r(i);return Promise.all(o)})).then((function(e){r&&URL.revokeObjectURL(o);var a=i.default.annotationImported;1==n&&(a=i.default.annotationImported),t.engine.eventEmitter.emit(a,t,e)}),(function(e){console.error("some error happened. Please check fdf file exists.",e)}))},e.prototype.exportAnnotsToJSON=function(e){var t=this,n=Promise.resolve();if(e&&0!=e.length){var r={},i=e.map((function(e,t){var n=e.exportToJSON();return"stamp"!=n.type&&"fileattachment"!=n.type||(r[t]={page:n.page,index:e.getId()}),n}));n=Promise.all([i,this.getAnnotsRawData(r)])}else n=this.getAnnots().then((function(e){for(var n={},o=[],r=0,i=e.length;r<i;r++)for(var a=e[r],s=0,c=a.length;s<c;s++){var u=a[s].getType();if("widget"!=u&&"popup"!=u&&"watermark"!=u){var l=a[s].exportToJSON();o.push(l),"stamp"!=l.type&&"fileattachment"!=l.type||(n[o.length-1]={page:r,index:a[s].getId()})}}return Promise.all([o,t.getAnnotsRawData(n)])}));return n.then((function(e){var t=o(e,2),n=t[0];return t[1].forEach((function(e){return n[e.index].raw=e.raw})),n}))},e.prototype.getAnnotsRawData=function(e){return e.length>0?[]:this.api.getAnnotsRawData(this.id,e)},e.prototype.importAnnotsFromJSON=function(e){if(!this.checkPermission(h.default.annotForm))throw new Error("Permission error");var t=u.default.JSONToFDF(e);return this.importAnnotsFromFDF(t)},e.prototype.getPageAnnots=function(e){return M(e,this.getPageCount()),this.getPageByIndex(e).then((function(e){return e.getAnnots()}))},e.prototype.getAnnots=function(){var e=this;return Promise.all(Array(this.getPageCount()).fill(0).map((function(t,n){return e.getPageAnnots(n)})))},e.prototype.getTextSearch=function(e,t){return new c.default(this,e,t)},e.prototype.addAnnot=function(e,t){if(!this.checkPermission(h.default.annotForm))throw new Error("Permission error");return M(e,this.getPageCount()),this.getPageByIndex(e).then((function(e){return e.addAnnot(t)}))},e.prototype.addAnnotGroup=function(e,t,n){if(!this.checkPermission(h.default.annotForm))throw new Error("Permission error");return M(e,this.getPageCount()),this.getPageByIndex(e).then((function(e){return e.addAnnotGroup(t,n)}))},e.prototype.setOpenAction=function(e,t,n){var o=this;if(!this.checkPermission(h.default.modify))throw new Error("Permission error");return this.api.setDocOpenAction(this.getId(),e).then((function(e){o.engine.actionFactory.createAction(e,o,o.api,o.engine.eventEmitter,o).setActionDataByIndex(t,n)}))},e.prototype.setPasswordAndPermission=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4294967292,o=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:l.default.AES256,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=arguments[5];if(!this.checkPermission(h.default.modify))throw new Error("Permission error");return this.api.setPasswordAndPermission(this.id,e,t,n,r,a).then((function(n){return(s&&(s.userPassword||s.ownerPassword)||e&&-1!=e||t&&-1!=t)&&n&&o.engine.eventEmitter.emit(i.default.docPasswordChanged,o),n}))},e.prototype.removeSecurity=function(){var e=this;if(!this.checkPermission(h.default.modify))throw new Error("Permission error");return this.getPasswordType().then((function(t){if(3==t||0==t)return e.api.removeSecurity(e.id).then((function(t){return t&&e.engine.eventEmitter.emit(i.default.removePwdAndPerm,e),t}));throw new Error("Need owner password.")}))},e.prototype.isCorrectPassword=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w.EMPTY_STR;return this.checkPassword(e).then((function(e){return 0!==e}))},e.prototype.checkPassword=function(e){var t=this;return this.api.checkPassword(this.id,e).then((function(e){return 3===e&&(t.info.isOwner=!0),t.engine.eventEmitter.emit(i.default.permissionChanged,t),e}))},e.prototype.getUserPassword=function(e){return this.api.getUserPassword(this.id,e)},e.prototype.getPasswordType=function(){return Promise.resolve(this.info.passwordType)},e.prototype.setPasswordType=function(e){return this.info.passwordType=e},e.prototype.getUserPermissions=function(){return this.info.userPermissions},e.prototype.makeRedactByPages=function(e){if(!this.checkPermission(h.default.annotForm))throw new Error("Permission error");for(var t=[],n=0;n<e.length;n++){var o=e[n],r=this.getPageByIndex(o).then((function(e){var t=void 0;return t=1==e.info.rotation||3==e.info.rotation?{left:0,top:0,right:e.getHeight(),bottom:e.getWidth()}:{left:0,top:0,right:e.getWidth(),bottom:e.getHeight()},e.markRedactAnnot([t])}));t.push(r)}return Promise.all(t)},e.prototype.movePageTo=function(e,t){var n=this;if(!this.checkPermission(h.default.modify))throw new Error("Permission error");this.info.pageSizes={};var o=this.getPageCount();if(e<0||t<0||e>=o||t>=o)throw new Error("Param error: PageIndex or DestIndex is out of the valid range.");return this.getPageByIndex(e).then((function(o){return n.api.movePageTo(n.id,o.getId(),t).then((function(o){if(o){var r=n.pageCache[e];n.pageCache.splice(e,1),n.pageCache.splice(t,0,r);var a=Math.min(e,t),s=Math.max(e,t);n.updatePageIndex(a,s),n.engine.eventEmitter.emit(i.default.pageMoved,e,t)}return n.updateRootBookmark().then((function(e){return o}))}))}))},e.prototype.insertPage=function(e,t,n){var o=this;if(!this.checkPermission(h.default.assemble|h.default.modify))throw new Error("Permission error");this.info.pageSizes={};var a=this.getPageCount();if(e<0||e>a)throw new Error("Param error: PageIndex is out of the valid range.");if("number"!=typeof t||"number"!=typeof n)throw new Error("param error. Only number is available.");return this.api.insertPage(this.id,e,t,n).then((function(e){return delete o.ocgs,o.api.getLayerNodes(o.id).then((function(e){return o.ocgs=e})).then((function(t){return e}))})).then((function(t){if(!t)return!1;o.info.pageCount++;var n=new r.default(t,o);return o.pageCache.splice(t.index,0,n),o.updatePageIndex(t.index+1,o.info.pageCount-1),o.PDFForm&&o.PDFForm.afterInsertPage(e),o.engine.eventEmitter.emit(i.default.pageAdded,n),o.updateRootBookmark().then((function(e){return n}))}))},e.prototype.showNameTreePageAtTheEnd=function(){var e=this;return this.api.showNameTreePageAtTheEnd(this.id).then((function(t){return delete e.ocgs,e.api.getLayerNodes(e.id).then((function(t){return e.ocgs=t})).then((function(e){return t}))})).then((function(t){if(!t)return!1;e.info.pageCount++;var n=new r.default(t,e);return e.pageCache.splice(t.index,0,n),e.PDFForm&&e.PDFForm.afterInsertPage(e.info.pageCount-1),e.engine.eventEmitter.emit(i.default.pageAdded,n),n}))},e.prototype.removePage=function(e){var t=this;if(!this.checkPermission(h.default.assemble|h.default.modify))throw new Error("Permission error");this.info.pageSizes={};var n=this.getPageCount();if(e<0||e>=n)throw new Error("Param error: PageIndex is out of the valid range.");if(1==n)throw new Error("Not allowed to remove the only page.");var o=[];return this.pageCache[e]||o.push(this.getPageByIndex(e)),Promise.all(o).then((function(n){return t.api.removePage(t.id,e).then((function(n){if(n){t.info.pageCount--;var o=t.pageCache[e].info.objectNumber;t.pageCache.splice(e,1),t.updatePageIndex(e,t.info.pageCount-1),t.PDFForm&&t.PDFForm.afterRemovePage(e),t.engine.eventEmitter.emit(i.default.pageRemoved,e,o)}return t.updateRootBookmark().then((function(e){return n}))}))}))},e.prototype.hideNameTreePage=function(e){var t=this;return this.api.hideNameTreePage(this.id,e).then((function(n){if(n){t.info.pageCount--;var o=t.pageCache[e]&&t.pageCache[e].info.objectNumber;t.pageCache.splice(e,1),t.updatePageIndex(e,t.info.pageCount-1),t.PDFForm&&t.PDFForm.afterRemovePage(e),t.engine.eventEmitter.emit(i.default.pageRemoved,e,o)}return n}))},e.prototype.updatePageIndex=function(e,t){for(var n=e;n<=t;n++)this.pageCache[n]&&(this.pageCache[n].info.index=n);this.pageCache.forEach((function(e){e&&e.annots.forEach((function(e){"link"!=e.info.type&&"screen"!=e.info.type||e._update()}))}))},e.prototype.applyRedaction=function(){var e=this;if(!this.checkPermission(h.default.annotForm)||!this.checkPermission(h.default.modify))throw new Error("Permission error");return this.api.applyRedaction(this.id).then((function(t){if(!t)return!1;for(var n=[],o=function(o){var r=t[o],a=e.getPageByIndex(r.pageIndex).then((function(t){var n=t.clearAnnotIds(r.removedAnnotIds).filter((function(e){return e}));return e.engine.eventEmitter.emit(i.default.annotationRemoved,n,t),{pageIndex:r.pageIndex,removedAnnots:r.removedAnnotIds}}));n.push(a)},r=0;r<t.length;r++)o(r);return Promise.all(n).then((function(t){return e.engine.eventEmitter.emit(i.default.applyRedaction,t),t}))}))},e.prototype.drmEncrypt=function(e){var t=this;if(!this.checkPermission(h.default.modify))throw new Error("Permission error");return this.api.drmEncrypt(this.getId(),e).then((function(e){return t.info=Object.assign(t.info,e),t.engine.eventEmitter.emit(i.default.drmEncryptSuccess,t),t}),(function(e){return t.engine.eventEmitter.emit(i.default.drmEncryptFailed,e,t),Promise.reject(e)}))},e.prototype.getTemplates=function(){var e=this;this.api.getTemplates(this.id).then((function(t){t&&(e.visibleTemplates=t.visibleArr,e.invisibleTemplates=t.invisibleArr)}))},e.prototype.hideTemplate=function(e,t){var n=this,o=this;if(!t)return this.api.hideTemplate(this.id,e,t).then((function(){o.visibleTemplates.push(e);for(var t=-1,n=0;n<o.invisibleTemplates.length;n++){var r=o.invisibleTemplates[n];if(r.name===e.name&&r.objNum===e.objNum){t=n;break}}o.invisibleTemplates.splice(t,1)}));for(var r=this.getPageCount(),i=function(r){n.getPageByIndex(r).then((function(i){i.info.objectNumber===e.objNum&&o.removePage(r).then((function(){return o.api.hideTemplate(n.id,e,t).then((function(){o.invisibleTemplates=o.invisibleTemplates.push(e);for(var t=-1,n=0;n<o.visibleTemplates.length;n++){var r=o.visibleTemplates[n];if(r.name===e.name&&r.objNum===e.objNum){t=n;break}}o.visibleTemplates.splice(t,1)}))}))}))},a=0;a<r;a++)i(a)},e.prototype.spawnPage=function(e,t,n,a){var s=this,c=this.spawnPageExecutor.insert((function(){return s.api.spawnPage(s.id,e,t,n,a).then((function(e){return delete s.ocgs,s.api.getLayerNodes(s.id).then((function(e){return s.ocgs=e})).then((function(t){return e}))})).then((function(e){if(!e)return!1;s.info.pageCount++;var t=new r.default(e,s);return s.pageCache.splice(e.index,0,t),s.updatePageIndex(e.index+1,s.info.pageCount-1),t})).then((function(e){return!!e&&s.reloadPDFForm().then((function(e){return s.PDFForm.reloadForm(e.formInfo)})).then((function(){return e}))}))}));return this.spawnPageExecutor.execInverse((function(){return c.then((function(e){var t=o(e,1)[0];return!!t&&(s.engine.eventEmitter.emit(i.default.pageAdded,t),s.updateRootBookmark())}))})),c.then((function(e){return o(e,1)[0]}))},e.prototype.removeTemplate=function(e){var t=this;return this.api.removeTemplate(this.id,e).then((function(n){for(var o=-1,r=0;r<t.invisibleTemplates.length;r++){if(t.invisibleTemplates[r].name===e){o=r;break}}t.invisibleTemplates.splice(o,1),o=-1;for(var i=0;i<t.visibleTemplates.length;i++){if(t.visibleTemplates[i].name===e){o=i;break}}return t.visibleTemplates.splice(o,1),Promise.resolve()}))},e.prototype.getPageSizes=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getPageCount()-t;return t<0&&(t=0),t+n>this.getPageCount()&&(n=this.getPageCount()-t),this.api.getPageSizes(this.id,t,n).then((function(t){return Object.assign(e.info.pageSizes,t),t}))},e.prototype.getPageSize=function(e){var t=this.info.pageSizes;if(t[e])return Object.assign({},t[e]);var n=this.pageCache[e];return n?{width:n.getWidth(),height:n.getHeight()}:void 0},e.prototype.getPageSizesSync=function(){var e=this;if(0==Object.keys(this.info.pageSizes).length)this.pageCache.forEach((function(t,n){t&&(e.info.pageSizes[n]={width:t.getWidth(),height:t.getHeight()})}));return this.info.pageSizes},e.prototype.updatePageSize=function(e,t,n){var o=this.info.pageSizes;o[e]&&(o[e].width=t,o[e].height=n)},e.prototype.insertPages=function(e){var t=this,n=e.destIndex,o=e.file,a=e.password,s=void 0===a?"":a,c=e.flags,u=void 0===c?0:c,l=e.layerName,f=void 0===l?"":l,p=e.startIndex,d=e.endIndex;if(!this.checkPermission(h.default.assemble|h.default.modify))throw new Error("Permission error");var g=this.getPageCount();if(n<0||n>g)throw new Error("Param error: Index is out of the valid range.");if(1==u&&!f)throw new Error("Param error: If parameter flags is 1, parameter layerName should not be empty");return this.api.startImportPages(this.id,n,o,s,u,f,p,d).then((function(e){return delete t.ocgs,t.api.getLayerNodes(t.id).then((function(e){return t.ocgs=e})).then((function(t){return e}))})).then((function(e){var o;t.info.pageSizes={},t.info.pageCount+=e.length;var a=[];return e.forEach((function(e){var n=new r.default(e,t);a.push(n)})),(o=t.pageCache).splice.apply(o,[n,0].concat(a)),t.updatePageIndex(n,t.info.pageCount-1),t.engine.eventEmitter.emit(i.default.importPages,a),t.updateRootBookmark().then((function(e){return a}))}))},e.prototype.extractPages=function(e){if(-4!=this.checkPermission(4294967292))throw new Error("Permission error");var t=[],n=this.getPageCount();if(!e instanceof Array)throw new Error("Param error. Only array is available.");if(0===e.length)throw new Error("Param error. Non-valid array.");return e.forEach((function(e){if(!e instanceof Array)throw new Error("Param error. Only array is available.");if(0===e.length||e.length>2)throw new Error("Param error. Non-valid array.");if(isNaN(e[0])||e[0]<0||e[0]>=n)throw new Error("Param error: Index is out of the valid range.");if(e[1]&&(isNaN(e[1])||e[1]<0||e[1]>=n))throw new Error("Param error: Index is out of the valid range.")})),this.api.extractPages(this.id,e,(function(e){var n=e.arrayBuffer;t.push(n)}),void 0,void 0).then((function(e){return t}))},e.prototype.getHeaderFooter=function(){var e=this;return this.HF?Promise.resolve(this.HF):this.api.getHeaderFooter(this.id).then((function(t){return t?e.HF=new g.default(t):null}))},e.prototype.updateHeaderFooter=function(e){var t=this;if(!this.checkPermission(h.default.modify))throw new Error("Permission error");return this.api.updateHeaderFooter(this.id,e.json).then((function(n){return t.HF?t.HF.json=n:t.HF=new g.default(n),e.json=n,t.engine.eventEmitter.emit(i.default.headerFooterUpdated,e.range),t.engine.eventEmitter.emit(i.default.docModified,t),n}))},e.prototype.addHeaderFooter=function(e){var t=this;if(e.isEmpty())return Promise.resolve();if(!this.checkPermission(h.default.modify))throw new Error("Permission error");return this.api.addHeaderFooter(this.id,e.json).then((function(n){return t.HF?t.HF.json=n:t.HF=new g.default(n),e.json=n,t.engine.eventEmitter.emit(i.default.headerFooterAdded,e.range),t.engine.eventEmitter.emit(i.default.docModified,t),n}))},e.prototype.removeHeaderFooter=function(){var e=this;if(!this.checkPermission(h.default.modify))throw new Error("Permission error");return delete this.HF,this.api.removeHeaderFooter(this.id).then((function(t){return e.engine.eventEmitter.emit(i.default.headerFooterUpdated),e.engine.eventEmitter.emit(i.default.docModified),t}))},e.prototype.sign=function(e,t){var n=this;if(!this.checkPermission(h.default.annotForm)&&!this.checkPermission(h.default.fillForm))throw new Error("Permission error");var r=e.rect;if(r){var a=r.left,s=r.right,c=r.top,u=r.bottom;if(s<=a||c<=u)throw new Error("Signature rect error.")}if(!e.filter||!e.subfilter)throw new Error("Filter and Subfilter can't be null.");var l;if(l=e.fieldName){var f=this.PDFForm.getField(l);if(!f||f.getType()!=m.FieldType.Sign)throw new Error("Field type error: not a signature.")}var p=e.image;void 0!==p&&(e.inkSign=p,delete e.image);var d=Promise.resolve(),g=e.pageIndex;return void 0!==g&&(M(g,this.getPageCount()),d=this.PDFForm.addSignature(g,e.rect,l).then((function(t){return delete e.pageIndex,delete e.rect,e.fieldName=t.getName(),new Promise((function(e){return setTimeout((function(){e()}),50)}))}))),d.then((function(t){return n.api.signDoc(n.id,e)})).then((function(t){return"pageIndex"in e?n.getPageByIndex(e.pageIndex).then((function(e){return Promise.all([e,e.getUnloadedAnnots()])})).then((function(e){var t=o(e,2),r=t[0],a=t[1];n.engine.eventEmitter.emit(i.default.annotationAdd,a,r)})).then((function(e){return t})):t})).then((function(n){for(var o=[],r=0,i=0;i<n.byteRange.length;i+=2){var a=n.byteRange[i],s=n.byteRange[i+1];r||(r=a+s+1),o=o.concat(n.buffer.slice(a,a+s))}return Promise.all([n,t(e,new Uint8Array(o)),r])})).then((function(e){var t=o(e,3),n=t[0],r=t[1],i=t[2],a=new Uint8Array(n.buffer),s=new Uint8Array(r).reduce((function(e,t){return e.push(S[(240&t)>>>4]),e.push(S[15&t]),e}),[]);return a.set(s,i),new Blob([a],{type:"application/pdf"})}))},e.prototype.verifySignature=function(e,t){return this.api.getOriginalStream(this.id).then((function(e){return e instanceof Blob?new Promise((function(t,n){var o=new FileReader;o.onloadend=function(e){t(o.result)},o.readAsArrayBuffer(e)})):Promise.resolve(e)})).then((function(n){for(var o=e.getByteRange(),r=new Uint8Array(n),i=new Uint8Array(o[1]+o[3]),a=0,s=0;s<o.length;s+=2){var c=o[s],u=o[s+1];i.set(r.slice(c,c+u),a),a+=u}for(var l=o[2]-o[1]-2,f=o[0]+o[1]+1,p=[],d=f;d<f+l;d+=2){var h=parseInt(String.fromCharCode(r[d]),16)<<4,g=parseInt(String.fromCharCode(r[d+1]),16);p.push(h+g)}return t(e,i,new Uint8Array(p),r.byteLength>o[2]+o[3])})).then((function(e){return+e}))},e.prototype.attchFile=function(e){if(!this.checkPermission(h.default.modify))throw new Error("Permission error");return this.api.attachFile(this.id,e).then((function(e){return e}))},e.prototype.getFontsInfo=function(){return this.api.getFontsInfo(this.id)},e.prototype.getLayerNodeById=function(e){var t=(e=e.toString()).split("-");try{for(var n=this.ocgs,o=0;o<t.length;o++)n=n.children[t[o]];return n}catch(e){return null}},e.prototype.getAdditionalAction=function(e){return this.AdditionalActions[e]},e.prototype.loadAdditionalActions=function(){var e=this;return this.api.getDocAdditionalActions(this.id).then((function(t){for(var n in e.AdditionalActions={},t)e.AdditionalActions[n]=y.default.createAction(t[n],e);return e.AdditionalActions}))},e.prototype.resetEngineInstance=function(e){var t=this,n=(this.engine,this.parameters),r={range:{docId:this.id},headers:{}};n.idJWT&&(r.headers.jwt=n.idJWT),n.password&&(r.headers["x-auth-doc"]=btoa(n.password));var i=this.api,a=(0,b.default)(),s=void 0,c=void 0;return i.resetEngine(this.id).then((function(t){var i=o(t,2),a=i[0],c=i[1];return s=c,r.range.url=a,e.getPDFDocByHttpRangeRequest(r,n)})).then((function(e){return e.parse(n)})).then((function(n){return c=n,e.api.syncDataCache(t.id,s)})).then((function(){t.engine=e,t.api=e.api,a.resolve(c)}),(function(){a.reject(t)})),a.promise},e.prototype.setColors=function(e){return this.api.setDocColors(this.getId(),e)},e.prototype.renderTemplatesByObjNum=function(e){return this.api.renderTemplatesByObjNum(this.id,Number(e))},e.prototype.getNameTree=function(e){return this.api.getNameTree(this.id,Number(e))},e.prototype.addNameTreeObj=function(e,t,n){return this.api.addNameTreeObj(this.id,Number(e),String(t),Number(n))},e.prototype.removeNameTreeObj=function(e,t){return this.api.removeNameTreeObj(this.id,Number(e),String(t))},e.prototype.replaceNameTreeObj=function(e,t,n){return this.api.replaceNameTreeObj(this.id,Number(e),String(t),Number(n))},e.prototype.renameNameTreeObj=function(e,t,n){return this.api.renameNameTreeObj(this.id,Number(e),String(t),String(n))},e.prototype.getPageIndexByObjNum=function(e){return this.api.getPageIndexByObjNum(this.id,Number(e))},e.prototype.nameTreeTemplatesToPages=function(e){return this.api.nameTreeTemplatesToPages(this.id,String(e))},e.prototype.nameTreePagesToTemplates=function(e){return this.api.nameTreePagesToTemplates(this.id,String(e))},e.prototype.moveAnnotsToPage=function(e,t,n){var o=this,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=Object.keys(n),s=a.map((function(t){return e.annotIdMap[t]})).filter((function(e){return!!e}));return this.api.moveAnnotsToPage(this.id,e.getId(),t.getId(),n).then((function(c){return Promise.resolve(e.clearAnnotIds(a)).then((function(e){return t.getUnloadedAnnots()})).then((function(a){if("popup"===a[0].info.type){var c=a[0];a[0]=a[1],a[1]=c}var u=o.engine.eventEmitter;u.emit(i.default.annotationRemoved,s,e),u.emit(i.default.annotationAdd,a,t),r||(u.emit(i.default.moveAnnotsToPages,e,t,n),u.emit(i.default.annotationMovedPosition,[a[0]],t,a[0]))}))}))},e.prototype.getInfo=function(){var e=this;return this.api.getPDFDictInfo(this.id).then((function(t){return new O.default(e,t.id,e.engine)}))},e.prototype.getPageLabels=function(e){return this.api.getPageLabels(this.id,e)},e.prototype.autoRecognitionForm=function(){var e=this;return this.api.autoRecognitionForm(this.id).then((function(t){var n=[];return 0===t?t:e.reloadPDFForm().then((function(o){var r=function(t){if(!t)return"continue";var o=t.getUnloadedAnnots().then((function(n){return n&&n.length>0&&e.engine.eventEmitter.emit(i.default.annotationAdd,n,t),t.getAnnots(!0)}));n.push(o)},a=!0,s=!1,c=void 0;try{for(var u,l=e.pageCache[Symbol.iterator]();!(a=(u=l.next()).done);a=!0)r(u.value)}catch(e){s=!0,c=e}finally{try{!a&&l.return&&l.return()}finally{if(s)throw c}}return Promise.all(n).then((function(){return t}))}))}))},e.prototype.isStaticXFA=function(){return this.api.isStaticXFA(this.id)},e.prototype.removeXFA=function(){var e=this;return this.api.removeXFA(this.id).then((function(t){return!!t&&e.reloadPDFForm().then((function(t){return e.PDFForm.reloadForm(t.formInfo)})).then((function(){return!0}))}))},e.prototype.getPDFPortfolio=function(){if(this.isPortfolio())return this.portfolio||(this.portfolio=new E.default(this.engine,this)),this.portfolio},e.prototype.isPortfolio=function(){return this.info.isPortfolio},e.prototype.startFormDesignerAssit=function(){return this.api.startFormDesignerAssit(this.id)},e.prototype.stopFormDesignerAssit=function(){return this.api.stopFormDesignerAssit(this.id)},e.prototype.movePagesTo=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!this.checkPermission(h.default.modify))throw new Error("Permission error");this.info.pageSizes={};var o=this.getPageCount();if(n<0||n>o)throw new Error("Param error: Index is out of the valid range.");return j(e,o-1),this.api.movePagesTo(this.id,e,n).then((function(o){if(!o)return o;var r,a,s,c,u=(0,_.default)(e).sort((function(e,t){return e-t})),l=u.filter((function(e){return e<n})),f=u.filter((function(e){return e>n}));return l.reverse().forEach((function(e,o){var r=t.pageCache[e];t.pageCache.splice(e,1),t.pageCache.splice(n-o-1,0,r)})),f.forEach((function(e,o){var r=t.pageCache[e];t.pageCache.splice(e,1),t.pageCache.splice(n+o,0,r)})),r=Math.min(n,u[0]),a=Math.max(n,f),s=Math.min(r,a),c=Math.max(r,a),t.updatePageIndex(s,c),t.engine.eventEmitter.emit(i.default.pagesMoved,e,n),t.updateRootBookmark().then((function(e){return!0}))})).catch((function(e){return console.error(e),!1}))},e.prototype.removePages=function(e){var t=this;if(!this.checkPermission(h.default.assemble|h.default.modify))throw new Error("Permission error");this.info.pageSizes={};var n=this.getPageCount();if(1===n)throw new Error("Not allowed to remove the only page.");j(e,n-1);for(var o=(0,_.default)(e).sort((function(e,t){return t-e})),r=[],a=0;a<o.length;a++){var s=o[a];this.pageCache[s]||r.push(this.getPageByIndex(s))}return Promise.all(r).then((function(n){return t.api.removePages(t.id,e).then((function(n){var r=[];return o.forEach((function(e){t.info.pageCount--,r.push(t.pageCache[e].info.objectNumber),t.pageCache.splice(e,1),t.PDFForm&&t.PDFForm.afterRemovePage(e),t.updatePageIndex(e,t.info.pageCount-1),t.PDFForm&&t.PDFForm.afterRemovePage(e)})),t.engine.eventEmitter.emit(i.default.pagesRemoved,e,r),t.updateRootBookmark().then((function(e){return n}))}))}))},e.prototype.insertBlankPages=function(e,t,n){var o=this;if(!this.checkPermission(h.default.assemble|h.default.modify))throw new Error("Permission error");this.info.pageSizes={};var a=this.getPageCount();if("number"!=typeof t||"number"!=typeof n)throw new Error("param error. Only number is available.");return j(e,a),this.api.insertBlankPages(this.id,e,t,n).then((function(e){var t=[];return e.forEach((function(e){t.push(Promise.resolve((delete o.ocgs,o.api.getLayerNodes(o.id).then((function(e){return o.ocgs=e})).then((function(t){return e})).then((function(e){if(!e)return!1;o.info.pageCount++;var t=new r.default(e,o);return o.pageCache.splice(e.index,0,t),o.updatePageIndex(e.index+1,o.info.pageCount-1),o.PDFForm&&o.PDFForm.afterInsertPage(e.index),t})))))})),N(t).then((function(e){return o.engine.eventEmitter.emit(i.default.insertPages,e),e})).then((function(e){return o.updateRootBookmark().then((function(t){return e}))}))}))},e.prototype.rotatePages=function(e,t){var n=this;if(!this.checkPermission(h.default.assemble|h.default.modify))throw new Error("Permission error");if(Object.values(P.Rotation).every((function(e){return e!==t})))throw new Error("rotation parameter error");var o=this.getPageCount();j(e,o-1);var r=(0,_.default)(e);return k(this,r).then((function(o){var r=o.map((function(e){return e.getRotation()}));return n.api.rotatePages(n.id,e,t).then((function(e){var a=[];return o.forEach((function(e){a.push(e.updateInfo())})),Promise.all(a).then((function(e){n.engine.eventEmitter.emit(i.default.pagesRotated,o,t,r)}))}))}))},e}(),T=function(e,t,n){for(var o=[],r=0,i="",a=0,s=0,c=0,u=e.length;c<u;c++){var l=e[c];switch(e[c]){default:i+=l;break;case n:1==r&&e[c+1]==n?(i+=n,c+=1):r++;break;case t:a=s,s=c,1==r&&(i+=t),r%2==0&&(r=0,o.push(i),i="")}}return(i.length||a==s-1)&&o.push(i),o},I=function(e,t,n,o){return"\t"==n?(e=e.split(n),t=t.split(n)):(t=T(t,n,o),e=T(e,n,o)),e.length,t.length,e.reduce((function(e,n,o){return e[n]=t[o],e}),{})},R=function e(t,n){if(n.add(t.getId()),t.isMarkup()){var o=t.getReplies();o.forEach((function(t){return e(t,n)})),(o=t.getMarkedStates()).forEach((function(e){return n.add(e.getId())})),(o=t.getReviewStates()).forEach((function(e){return n.add(e.getId())})),t.isReplace&&t.isReplace()&&(o=t.getGroupElements()).forEach((function(e){return n.add(e.getId())}))}},M=function(e,t){if((e|t-1-e)<0)throw new Error("Page range error.")},j=function(e,t){if(!e instanceof Array)throw new Error("Param error. Only array is available.");if(0===e.length)throw new Error("Param error. Non-valid array.");e.forEach((function(e){if(!e instanceof Array)throw new Error("Param error. Only array is available.");if(0===e.length||e.length>2)throw new Error("Param error. Non-valid array.");if(isNaN(e[0])||e[0]<0||e[0]>t)throw new Error("Param error: Index is out of the valid range.");if(e[1]&&(isNaN(e[1])||e[1]<0||e[1]>t))throw new Error("Param error: Index is out of the valid range.")}))},k=function(e,t){var n=[];return t.forEach((function(t){n.push(e.getPageByIndex(t))})),Promise.all(n)},N=function(e){var t=[];return e.reduce((function(n,o,r){return n.then((function(n){return o.then((function(n){return t[r]=n,r==e.length-1?t:o}))}))}),Promise.resolve())};t.default=D},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.match=t}return e.prototype.getEndCharIndex=function(){return this.match.endCharIndex},e.prototype.getPageIndex=function(){return this.match.pageIndex},e.prototype.getRects=function(){return this.match.rectArray},e.prototype.getSentence=function(){return this.match.sentence},e.prototype.getSentenceStartIndex=function(){return this.match.sentenceStartIndex},e.prototype.getStartCharIndex=function(){return this.match.startCharIndex},e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=d(n(304)),i=d(n(19)),a=d(n(4)),s=n(39),c=d(n(73)),u=d(n(32)),l=d(n(468)),f=d(n(174)),p=d(n(180));function d(e){return e&&e.__esModule?e:{default:e}}var h=Promise.resolve(),g=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.doc=t,this.engine=n,this.api=n.api,this.fields=[],this.fieldsNameMap={},this.actionDepth=0,this.calculationEnabled=!0,h=Promise.resolve(),this.formInfo={}}return e.prototype.destroy=function(){var e=this;this.doc=null,this.engine=null,this.api=null,this.fields.forEach((function(t){var n=t.getName();e.fieldsNameMap[n]=null,t.destroy()})),this.fields=[],this.fieldsNameMap=null},e.prototype.checkFillPerm=function(){if(!this.doc.checkPermission(u.default.annotForm|u.default.fillForm))throw new Error("Permission error")},e.prototype.checkDesignPerm=function(){if(!this.doc.checkPermission(u.default.annotForm)||!this.doc.checkPermission(u.default.modify))throw new Error("Permission error")},e.prototype.setState=function(e){this.state=e},e.prototype.reduceControl=function(e,t){var n=this;Object.keys(this.fieldsNameMap).forEach((function(e){t.forEach((function(t){var o=n.fieldsNameMap[e];o&&o.hasControl(t)&&n.removeControl(e,t,!1)}))}))},e.prototype.isEmpty=function(){return!this.fields.length},e.prototype.setActionHandler=function(e){this.actionHandler=e},e.prototype.setFormJson=function(e){if(this.isLoaded=!0,e){this.formInfo=e;for(var t=0,n=e.fields.length;t<n;t++){var o=e.fields[t],i=this.fieldsNameMap[o&&o.name||t];i?i.updateControls(o.controls):(i=7==o.type?new l.default(this.doc,this,o):new r.default(this.doc,this,o),this.fields.push(i),this.fieldsNameMap[o&&o.name||t]=i)}}else this.formInfo={fields:[]}},e.prototype.getAlignment=function(){return this.formInfo.alignment},e.prototype.getFieldCount=function(){return this.fields.length},e.prototype.getField=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.fieldsNameMap[e];if(!t||n)return n;var o=[];for(var r in this.fieldsNameMap)r.startsWith(e)&&o.push(this.fieldsNameMap[r]);return o},e.prototype.getFieldByIndex=function(e){return this.fields[e]},e.prototype.getFieldAtPosition=function(e,t,n){var o=this.fields.filter((function(t){var n=t.getWidget(0);return!!n&&n.getPDFPage().getIndex()===e}));if(o)for(var r=0;r<o.length;r++){var i=o[r];if(i.getLoadedWidgets().some((function(e){var o=e.getRect();return!(t<o.left||t>o.right||n<o.bottom||n>o.top)})))return i}},e.prototype.setFieldValue=function(e,t){if(this.checkFillPerm(),"string"==typeof e&&(e=this.fieldsNameMap[e]),e.setValue(t),this.actionDepth++,this.actionDepth<2){var n=this.formInfo.calculationOrder;for(var o in n){var r=this.getField(n[o]),i=r.getAction(c.default.FieldRecalculateValue);i&&this.actionHandler&&this.actionHandler(i,e,r,c.default.FieldRecalculateValue)}}this.actionDepth--},e.prototype.calculate=function(e){if(this.checkFillPerm(),this.calculationEnabled){if("string"==typeof e&&(e=this.fieldsNameMap[e]),this.actionDepth++,this.actionDepth<2){var t=this.formInfo.calculationOrder;for(var n in t){var o=this.getField(t[n]),r=o.getAction(c.default.FieldRecalculateValue);r&&this.actionHandler&&this.actionHandler(r,e,o,c.default.FieldRecalculateValue)}}this.actionDepth--}},e.prototype.resetForm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments[2];this.checkFillPerm(),this.enumFields(e,n,(function(e,n,o){var r=t.getField(n),i=r.getDefaultValue();r.setValue(i)}),!0),o&&this.calculate(o)},e.prototype.submitForm=function(e,t,n){var o=this,r=s.FormActionFlags.getType(n),i="",a="application/json";switch(r){case"HTML":this.enumFields(t,n,(function(e,t,n){i+=t+"="+n+"&"})),i=encodeURI(i.substr(0,i.length-1));break;case"FDF":a="application/vnd.fdf",i=new Blob([this.exportFDF(t,n)]);break;case"XFDF":a="application/vnd.xfdf",i=new Blob([this.exportXFDF(t,n)]);break;case"PDF":return console.error("unspported submition type")}var c=s.FormActionFlags.isGetMethod(n),u=new XMLHttpRequest;u.open(c?"GET":"POST",e),u.setRequestHeader("Content-Type",a),u.send(i),u.onloadend=function(){var e=u.response.match(/\/JavaScript <<\/Before\s\(([\s\S]*?)\)>>/);if(e){e=e[1];var t=new f.default;t.setScript(e),o.actionHandler(t,null,null,-1)}}},e.prototype.enumFields=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=s.FormActionFlags.isExclude(t);if(i){var a=Object.keys(this.fieldsNameMap);if(0==(e=a.filter((function(t){return-1==e.indexOf(t)}))).length)return}0==e.length&&(e=Object.keys(this.fieldsNameMap));for(var c=o?1:s.FormActionFlags.isIncludeNoValueFields(t),u=0;u<e.length;u++){var l=e[u],f=this.getField(l);if(f){var p=f.getType(),d=f.getValue(),h=0;o||(h=(h=s.FieldFlag.isNoExport(f.getFlags()))||!d&&!c),(r||p!=s.FieldType.Sign&&p!=s.FieldType.PushButton&&!h)&&n(p,f.getName(),d||"")}}},e.prototype.exportFDF=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[37,70,68,70,45,49,46,50,10,49,32,48,32,111,98,106,10,60,60,47,70,68,70,60,60,47,70,40];m(n,this.doc.info.fileName),m(n,")/Fields["),this.enumFields(e,t,(function(e,t,o){switch(m(n,"<</T("),m(n,t,!0),m(n,")/V"),e){case s.FieldType.CheckBox:case s.FieldType.RadioButton:m(n,"/"),m(n,o,!0);break;default:m(n,"("),m(n,o),m(n,")")}m(n,">>")}));var o="]/ID[<"+this.doc.info.fileID[0]+"><"+this.doc.info.fileID[1]+">]/UF("+this.doc.info.fileName+")>>/Type/Catalog>>\nendobj\ntrailer\n<</Root 1 0 R>>\n%%EOF";return m(n,o),new Uint8Array(n)},e.prototype.exportXFDF=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n='<?xml version="1.0" encoding="UTF-8"?>\n<xfdf xmlns="http://ns.adobe.com/xfdf/" xml:space="preserve">\n<f href="'+this.doc.info.fileName+'"/><fields>\n',o='</fields>\n<ids original="'+this.doc.info.fileID[0]+'" modified="'+this.doc.info.fileID[1]+'"/>\n</xfdf>',r="";return this.enumFields(e,t,(function(e,t,n){r+='<field name="'+t+'"><value>'+n+"</value></field>"})),n+r+o},e.prototype.importFDF=function(e){this.checkFillPerm();var t=e.match(/<<\/T\([\s\S]*?\)(\/V[\s\S]*?)?>>/g);for(var n in t){var o=t[n].match(/<<\/T\(([\s\S]*?)\)(?:\/V\/?([\s\S]*?))?>>/);if(void 0!==o[2]){var r=this.getField(o[1]);if(!r)return;var i=o[2];i!==r.getValue()&&(i=r.getType()===s.FieldType.CheckBox||r.getType()===s.FieldType.RadioButton?v(i):v(i.match(/\(([\s\S]*)\)/)[1]),r.setValue(i))}}},e.prototype.importXFDF=function(e){this.checkFillPerm();var t=e.match(/<field\s*name=["|'][\s\S]*?["|']\s*?>\s*?(<value\s*?(\/>|>[\s\S]*?<\/value\s*?>))?\s*?<\/field\s*?>/g);for(var n in t){var o=t[n].match(/<field name=["|']([\s\S]*?)["|']\s*?>\s*?<value\s*?(?:\/>|>([\s\S]*?)<\/value\s*?>)/);if(o&&void 0!==o[2]){var r=this.getField(o[1]);if(!r)return;var i=o[2];i!==r.getValue()&&r.setValue(i)}}},e.prototype.exportXML=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n='<?xml version="1.0" encoding="UTF-8"?><fields xmlns:xfdf="http://ns.adobe.com/xfdf-transition/">',o="</fields>",r="",i={},s=0;return this.enumFields(e,t,(function(e,t,n){var o=t,c="",u=t.match(/[^0-9][a-zA-Z0-9:\-_\.]*/);u&&u[0].length!==t.length&&(o="fxTag"+t.replace(/[^a-zA-Z0-9]/g,""),c=' xfdf:original="'+t+'"'),isNaN(parseInt(o))||(o="fxTag"+t,c||(c=' xfdf:original="'+t+'"')),n=(0,a.default)("<div/>").text(n).html();for(var l=o;l in i;)l=o+s,s+=1;i[l]=!0,r+="<"+o+c+">"+n+"</"+o+">\r"})),n+r+o},e.prototype.importXML=function(e){(this.checkFillPerm(),this.isEmpty())||("string"==typeof e&&(e=a.default.parseXML(e)),(0,a.default)(e).children().children().each((function(){var e=getNodeString((0,a.default)(this),"xfdf:original");e&&""!==e&&0!==e.length||(e=this.tagName);var t=(0,a.default)(this).text(),n=this.getField(e);n&&n.setValue(t)})))},e.prototype.upadateValue=function(e){var t=this;for(var n in e){var o=this.getField(n);if(o){var r=e[n],i=o.getType();if(r instanceof Array&&5==i)!function(){o.info.value=r;var e=o.info.options,n=[];r.forEach((function(t){for(var o=0;o<e.length;o++)o!=n[o]&&(e[o].selected=e[o].value===t)&&(n[o]=o)})),o.updateWidgetsUI(t,o.getName(),"value",r)}();else{if(r!==o.getValue()){if(o.info.value=r,4==i||5==i)o.info.options.forEach((function(e){e.selected=e.value===r}));o.updateWidgetsUI(this,o.getName(),"value",r)}2!=i&&3!=i||o.updateWidgetsUI(this,o.getName(),"value",r,(function(e){return e.update()}))}}}},e.prototype.updateFields=function(e,t,n){switch(t){case"controlFlag":var o=!0,r=!1,i=void 0;try{for(var a,s=Object.keys(this.fieldsNameMap)[Symbol.iterator]();!(o=(a=s.next()).done);o=!0){var c=a.value;c.startsWith(e)&&this.fieldsNameMap[c].setWidgetDisplay(n)}}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}}},e.prototype.addSignature=function(e,t,n){var r=this;return this.doc.api.addControl(this.doc.id,e,n||"",7,t).then((function(t){var n=void 0;return t.form?(r.setFormJson(t.form),n=r.getField(t.fieldName)):(n=new l.default(r.doc,r,t),r.fields.push(n),r.fieldsNameMap[t.name]=n),Promise.all([n,r.doc.getPageByIndex(e)]).then((function(e){var t=o(e,2),n=t[0],r=t[1];return Promise.all([r,r.getUnloadedAnnots(),n])})).then((function(e){var t=o(e,3),n=t[0],a=t[1],s=t[2],c=a.filter((function(e){return e.getType()===p.default.widget}));return r.doc.engine.eventEmitter.emit(i.default.annotationAdd,c,n),s}))}))},e.prototype.addControlSync=function(e){return this.addControl(e.pageIndex,e.fieldName,e.fieldType,e.rect),this.fieldsNameMap[e.fieldName]},e.prototype.addControl=function(e,t,n,a){var s=this;if(this.checkDesignPerm(),!this.isLoaded)throw new Error("please call PDFDoc.loadForm() firstly.");if(e<0||e>this.doc.getPageCount()-1||!t||!t.trim()||!n||n<1||n>6)return Promise.resolve({success:!1,newFieldName:t});var c=this.fieldsNameMap[t],u=!1,l=void 0;c||(l=b(t,n),this.formInfo.fields.push(l),(c=new r.default(this.doc,this,l)).setRect(a),this.fields.push(c),this.fieldsNameMap[l.name]=c,u=!0);var f=arguments[4];return h=h.then((function(o){return s.doc.api.addControl(s.doc.id,e,t,n,a,f)})).then((function(o){return u&&o.fieldName!==t&&(s.fields.pop(c),s.formInfo.fields.pop(l),t=o.fieldName,l=b(t,n),s.formInfo.fields.push(l),(c=new r.default(s.doc,s,l)).setRect(a),s.fields.push(c),s.fieldsNameMap[l.name]=c),o.form?s.setFormJson(o.form):c.updateControls(o.controls),o.fieldFlags&&(c.info.flag=o.fieldFlags),s.doc.getPageByIndex(e)})).then((function(e){return Promise.all([e,e.getUnloadedAnnots()])})).then((function(e){var n=o(e,2),r=n[0],a=n[1].filter((function(e){return e.getType()===p.default.widget}));return s.doc.engine.eventEmitter.emit(i.default.annotationAdd,a,r),Promise.resolve({success:!0,newFieldName:t})}))},e.prototype.validateFieldName=function(e,t){return this.doc.api.validateFieldName(this.doc.id,e,t)},e.prototype.reloadForm=function(e){return e&&(this.fields.forEach((function(e){return e.destroy()})),this.fields=[],this.fieldsNameMap={},this.setFormJson(e),this.doc.pageCache.forEach((function(e){e.annots.forEach((function(e){"widget"==e.getType()&&e.mapFormControl()}))}))),e},e.prototype.renameField=function(e,t,n){var o=this,r=this.getField(e).controls.map((function(e){return e.getWidget()}));return this.doc.api.renameField(this.doc.id,e,t).then((function(e){var t=r.filter((function(e){return e})).map((function(e){return e.update()}));return t.push(e),Promise.all(t)})).then((function(e){return o.reloadForm(e[e.length-1])}))},e.prototype.removeEngineField=function(e){delete this.fieldsNameMap[e];var t=0;this.fields.forEach((function(n,o){if(n.getName()==e)return t=o,!1})),this.fields.splice(t,1),this.formInfo.fields.splice(t,1),this.removeFieldInCO(e)},e.prototype.removeField=function(e){var t=this;if(this.checkDesignPerm(),!this.fieldsNameMap[e])return Promise.resolve(!1);var n=this.getField(e);if(n.getType()==s.FieldType.Sign&&n.isSigned())throw new Error("Signed signature can't be removed.");return n.getLoadedWidgets().map((function(e){if(e){var n=e.getPage();n.clearAnnotIds([e.getId()]),t.doc.engine.eventEmitter.emit(i.default.annotationRemoved,[e],n)}})),this.removeFieldInCO(e),this.removeEngineField(e),h.then((function(n){return t.doc.api.removeField(t.doc.id,e)}))},e.prototype.removeControlByIndex=function(e,t){var n=this.getField(e).getControlByIndex(t);this.removeControl(e,n.info.objectNumber)},e.prototype.removeControl=function(e,t){this.checkDesignPerm();var n=!(arguments.length>2)||arguments[2],o=0,r=this.getField(e).getControlById(t),a=r.getWidget();if(a){var s=a.getPage();s.clearAnnotIds([a.getId()]),this.doc.engine.eventEmitter.emit(i.default.annotationRemoved,[a],s)}var c=this.fieldsNameMap[e].removeControlInfo(t);return 0==c&&this.removeEngineField(e),n?this.doc.api.removeControl(this.doc.id,o,e,t):Promise.resolve()},e.prototype.fixPageFields=function(e){return this.doc.api.fixPageFields(this.doc.id,e)},e.prototype.setFieldsValue=function(e,t,n){return!0!==n&&this.doc.engine.eventEmitter.emit(i.default.formValueChanged),this.doc.api.setFieldsValue(this.doc.id,e,t)},e.prototype.addTask=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"jsInited"!=this.state||t?e?h=h.then(e).catch((function(e){return console.error(e)})):h:Promise.resolve(e&&e())},e.prototype.addCO=function(e){var t=e.getName(),n=this.formInfo.calculationOrder;-1==n.indexOf(t)&&(n.push(t),this.doc.api.setCO(this.doc.id,n),this.doc.engine.eventEmitter.emit(i.default.COChange,n))},e.prototype.countField=function(e){var t=0;return this.fields.forEach((function(n){n.getType()==e&&t++})),t},e.prototype.afterRemovePage=function(e){this.fields=this.fields.filter((function(t){var n=t.controls.filter((function(t){var n=t.getWidget();return(n&&n.getPage().getIndex())!==e}));return n.length>0&&(t.controls=n,!0)})),this.updateFieldsNameMap()},e.prototype.updateFieldsNameMap=function(){var e=this;this.fields.forEach((function(t){e.fieldsNameMap[t.getName()]=t}))},e.prototype.afterMovePage=function(e,t){var n=!0;e>t&&(n=!1),this.fields.forEach((function(o){o.controls.forEach((function(o){var r=o.info.pageIndex;r!=e?n?r>e&&r<=t&&(o.info.pageIndex-=1):r>=t&&r<e&&(o.info.pageIndex+=1):o.info.pageIndex=t}))}))},e.prototype.afterInsertPage=function(e){var t=this;this.doc.pageCache[e].getAnnotTree().then((function(n){n.forEach((function(e){if("widget"==e.getType()){var n=e.getField(),o=t.fields.findIndex((function(e){return e.getName()==n.getName()}));n.updateControls(n.info.controls),o>-1?t.fields.splice(o,1,n):t.fields.push(n)}})),t.fields.forEach((function(t){t.controls.forEach((function(t){t.info.pageIndex>=e&&(t.info.pageIndex+=1)}))})),t.updateFieldsNameMap()}))},e.prototype.afterImportPages=function(e,t){this.fields.forEach((function(n){n.controls.forEach((function(n){n.info.pageIndex>=e&&(n.info.pageIndex+=t)}))}))},e.prototype.copyControls=function(e,t,n){var o=this;return this.checkDesignPerm(),this.doc.api.copyControls(this.doc.id,0,t.getIndex(),n).then((function(e){return Promise.all(e.map((function(e){var t=o.getField(e.fieldName);return t.updateControls(e.controlJsons),delete t.engineActions,o.doc.api.getAAJson(o.doc.id,e.fieldName).then((function(e){return t.info.AA=e}))})))})).then((function(e){return t.getUnloadedAnnots()})).then((function(e){return o.doc.engine.eventEmitter.emit(i.default.annotationAdd,e,t),e}))},e.prototype.duplicateWidget=function(e,t,n,o){var r=this;return this.doc.api.duplicateWidget(this.doc.id,e,t,n).then((function(e){var n=r.getField(t);return n.updateControls(e),delete n.engineActions,r.doc.api.getAAJson(r.doc.id,t).then((function(e){return n.info.AA=e}))})).then((function(e){return Promise.all(o.map((function(e){return r.doc.getPageByIndex(e).then((function(e){return e.getUnloadedAnnots()}))})))})).then((function(e){e.forEach((function(e){e.length>0&&r.doc.engine.eventEmitter.emit(i.default.annotationAdd,e,e[0].getPage())}))}))},e.prototype.duplicateField=function(e,t,n,r,a){var s=this;if(this.getField(e).controls.length>1)return Promise.reject(new Error("More than one copies appeared."));var c=a.shift(),u=t.getPage();return t.setRect(c).then((function(l){if(t.updateUI({type:"rect",value:c}),a.length<1)return Promise.resolve();s.doc.api.duplicateField(s.doc.id,e,u.getIndex(),t.getObjNum(),n,r,a).then((function(e){return Promise.all([t.update(),e])})).then((function(e){var t=o(e,2),n=(t[0],t[1]);return s.reloadForm(n)})).then((function(e){return u.getUnloadedAnnots()})).then((function(e){s.doc.engine.eventEmitter.emit(i.default.annotationAdd,e,e[0].getPage())}))}))},e.prototype.moveControl=function(e,t,n){var o=this,r=this.getField(e).controls.map((function(e){return e.getWidget()}));return r.length>1?this.doc.api.moveControl(this.doc.id,n,e,t).then((function(e){var t=r.filter((function(e){return e})).map((function(e){return e.update()}));return t.push(e),Promise.all(t)})).then((function(e){return o.reloadForm(e[e.length-1])})):this.renameField(e,t)},e.prototype.getCO=function(){return this.formInfo&&this.formInfo.calculationOrder||[]},e.prototype.setCO=function(e){return this.formInfo.calculationOrder=e,this.doc.engine.eventEmitter.emit(i.default.COChange,e),this.doc.api.setCO(this.doc.id,e)},e.prototype.removeFieldInCO=function(e){var t=this.formInfo.calculationOrder,n=t.indexOf(e);-1!=n&&(t.splice(n,1),this.doc.engine.eventEmitter.emit(i.default.COChange,t),this.doc.api.setCO(this.doc.id,t))},e}();function m(e,t,n){var o=void 0;for(o=0;o<t.length&&!(t.charCodeAt(o)>255);o++);if(o!==t.length)for(e.push(254),e.push(255),o=0;o<t.length;o++){var r=t.charCodeAt(o)>>8;!n||40!=r&&41!=r||e.push(92),e.push(r),r=255&t.charCodeAt(o),!n||40!=r&&41!=r||e.push(92),e.push(255&t.charCodeAt(o))}else for(o=0;o<t.length;o++){var i=t.charCodeAt(o);!n||40!=i&&41!=i||e.push(92),e.push(i)}}function v(e){if(254==e.charCodeAt(0)&&255==e.charCodeAt(1)){for(var t="",n=2;n<e.length;n+=2)t+=String.fromCharCode((e.charCodeAt(n)<<8)+e.charCodeAt(n+1));return t}return e}var y={alignment:0,alternateName:"",controls:[{index:0,isChecked:!1,isDefaultChecked:!1,isEmpty:!1,objectNumber:-1}],DA:{flags:3,fontName:"FoxitSansOTF",textColor:4278190080,textSize:0},defaultValue:"",flag:0,mappingName:"",maxLength:0,name:"",options:[],topVisibleIndex:0,type:1,value:"",isEmpty:!1,AA:{}},b=function(e,t){var n=JSON.parse(JSON.stringify(y));return n.defaultValue=n.value=2==t||3==t?"Off":"",n.name=e,n.type=t,n};t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});r(n(466));var o=r(n(164));function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;i(this,e),this.id=(0,o.default)("doc_text_search"),this.pattern=n,this.flags=r,this.doc=t,this.api=t.api,this.startPageIndex=0,this.currentPageIndex=0,this.endPageIndex=t.getPageCount()-1}return e.prototype.getId=function(){return this.id},e.prototype.findNext=function(){var e=this;return this.getCurrentPageTextSearch().then((function(e){return e.findNext()})).then((function(t){return t||(e.currentPageIndex<e.endPageIndex?(e.currentPageIndex++,e.currentPageTextSearch.destroy(),e.currentPageTextSearch=null,e.findNext()):(e.currentPageIndex=e.startPageIndex,e.currentPageTextSearch.destroy(),e.currentPageTextSearch=null,null))}))},e.prototype.findNexts=function(){var e=this;return this.getCurrentPageTextSearch().then((function(t){return new Promise((function(n,o){e.iterationPageFindNext(t,[],(function(t){if(t.length){var r=e.currentPageIndex<e.endPageIndex;return e.currentPageIndex<e.endPageIndex?(e.currentPageIndex++,e.currentPageTextSearch.destroy(),e.currentPageTextSearch=null):(e.currentPageIndex=e.startPageIndex,e.currentPageTextSearch.destroy(),e.currentPageTextSearch=null),n({hasMore:r,list:t})}return e.currentPageIndex<e.endPageIndex?(e.currentPageIndex++,e.currentPageTextSearch.destroy(),e.currentPageTextSearch=null,e.findNexts().then((function(e){n(e)}),(function(){o()}))):(e.currentPageIndex=e.startPageIndex,e.currentPageTextSearch.destroy(),e.currentPageTextSearch=null,n({hasMore:!1,list:t}))}))}))})).then((function(e){return e}))},e.prototype.iterationPageFindNext=function(e,t,n){var o=this;e.findNext().then((function(r){if(!r)return n(t);t.push(r),o.iterationPageFindNext(e,t,n)}))},e.prototype.findPrev=function(){var e=this;return this.getCurrentPageTextSearch().then((function(e){return e.findPrev()})).then((function(t){return t||(e.currentPageIndex>e.startPageIndex?(e.currentPageIndex--,e.currentPageTextSearch.destroy(),e.currentPageTextSearch=null,e.findPrev()):(e.currentPageIndex=e.endPageIndex,e.currentPageTextSearch.destroy(),e.currentPageTextSearch=null,null))}))},e.prototype.getCurrentPageTextSearch=function(){var e=this;return this.currentPageTextSearch?Promise.resolve(this.currentPageTextSearch):this.currentPageTextSearchPromise?this.currentPageTextSearchPromise:this.currentPageTextSearchPromise=this.doc.getPageByIndex(this.currentPageIndex).then((function(t){return t.getTextSearch(e.pattern,e.flags)})).then((function(t){return e.currentPageTextSearch=t,e.currentPageTextSearchPromise=null,t}))},e.prototype.setStartPageIndex=function(e){this.startPageIndex=e},e.prototype.setCurrentPageIndex=function(e){e<this.startPageIndex&&(e=this.startPageIndex),e>this.endPageIndex&&(e=this.endPageIndex),this.currentPageIndex!==e&&this.destroy(),this.currentPageIndex=e},e.prototype.setEndPageIndex=function(e){this.endPageIndex=e},e.prototype.destroy=function(){var e=this;this.currentPageTextSearch&&this.currentPageTextSearch.destroy(),this.currentPageTextSearch=null,this.currentPageTextSearchPromise&&this.currentPageTextSearchPromise.then((function(t){t.destroy(),e.currentPageTextSearch=null})),this.currentPageTextSearchPromise=null},e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={None:"none",RC4:"rc4",AES128:"aes128",AES256:"aes256"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TXTToXFDF=function(e){var t="";for(var n in e)""!=n&&(t+='<field name="'+u(n)+'"><value>'+c(e[n])+"</value></field>");return new Blob([a+t+s],{type:"application/vnd.xfdf"})},t.XMLToXFDF=function(e){"string"==typeof e&&(e=i.default.parseXML(e));var t="";return(0,i.default)(e).children().children().each((function(){var e=function(e,t){var n="";e&&void 0!==e.attr(t)&&(n=function(e){var t=e;return t=(t=(t=(t=(t=(t=(t=t.replace(/&amp;/g,"&")).replace(/&lt;/g,"<")).replace(/&gt;/g,">")).replace(/&apos;/g,"'")).replace(/&quot;/g,'"')).replace(/\r/g,"")).replace(/\n/g," ")}(e.attr(t)));return n}((0,i.default)(this),"xfdf:original");e&&""!==e&&0!==e.length||(e=this.tagName);var n=(0,i.default)(this).html();t+='<field name="'+e+'"><value>'+n+"</value></field>"})),new Blob([a+t+s],{type:"application/vnd.xfdf"})};var o,r=n(4),i=(o=r)&&o.__esModule?o:{default:o};var a='<?xml version="1.0" encoding="UTF-8"?>\n<xfdf xmlns="http://ns.adobe.com/xfdf/" xml:space="preserve">\n<f href="a.pdf"/><fields>\n',s='</fields>\n<ids original="abcdef" modified="0123456"/>\n</xfdf>';function c(e){if('"'!==e[0])return u(e);for(var t="",n=1;n<e.length;n++)'"'!=e[n]&&(t+=e[n]);return u(t)}function u(e){return(0,i.default)("<div/>").text(e).html().replace(/"/g,"&quot;").replace(/'/g,"&apos;")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(19)),r=a(n(32)),i=n(12);function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=function(){function e(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;for(var i in s(this,e),this.engine=t,this.api=t.api,this.docId=n.id,this.doc=n,this.parent=r,o)if("children"==i){this.children=[];for(var a=0;a<o[i].length;a++)this.children.push(new e(t,n,o[i][a],this))}else this[i]=o[i]}return e.prototype.destroy=function(){this.engine=null,this.api=null,this.doc=null,this.parent=null,this.children.forEach((function(e){return e.destroy})),this.children=null},e.prototype.insertBookmark=function(t,n,i,a){var s=this,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;if(!this.doc.checkPermission(r.default.assemble))throw new Error("Permission error");var u=this,l=this.doc.getPageCount();if(n<0||n>=l)throw new Error("Param error: Index is out of the valid range.");return this.doc.api.insertBookmark(this.docId,this.id,t,n,i,a,c).then((function(t){if(t){var n=new e(u.doc.engine,u.doc,t,u);return u.children.push(n),u.doc.bookmarkRoot=null,s.doc.engine.eventEmitter.emit(o.default.bookmarkAdded,n),n}return null}))},e.prototype.setProperty=function(e){var t=this,n=!(arguments.length>1||void 0!==arguments[1])||arguments[1];if(!this.doc.checkPermission(r.default.assemble))throw new Error("Permission error");void 0!==e.color&&(e.color=(0,i.colorConvertor)(e.color,"int"));var a=this;return this.doc.api.setBookmarkProperty(this.docId,this.id,e).then((function(e){if(e){for(var r in e)"children"!==r&&(a[r]=e[r]);n&&a.doc.engine.eventEmitter.emit(o.default.bookmarkUpdated,a)}return t}))},e.prototype.remove=function(){var e=this;if(!this.doc.checkPermission(r.default.assemble))throw new Error("Permission error");var t=this;return this.doc.api.removeBookmark(this.docId,this.id).then((function(n){if(n&&(t.doc.engine.eventEmitter.emit(o.default.bookmarkRemoved,t.id),t.parent)){for(var r=t.parent,i=0;i<r.children.length;i++)if(t.id==r.children[i].id){r.children.splice(i,1);break}e.destroy()}return n}))},e.prototype.moveTo=function(e,t){var n=this;return this.doc.api.moveBookmark(this.docId,this.id,e.id,t).then((function(e){n.doc.bookmarkRoot=null,n.doc.engine.eventEmitter.emit(o.default.bookmarkUpdated,{type:"active",bookmark:n})}))},e.prototype.updateBookmark=function(t){for(var n in t)if("children"==n){this.children=[];for(var o=0;o<t[n].length;o++)this.children.push(new e(this.engine,this.doc,t[n][o],this))}else this[n]=t[n]},e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=C(n(71)),r=(C(n(59)),C(n(159)),C(n(1049))),i=C(n(1050)),a=C(n(1051)),s=C(n(1052)),c=C(n(1053)),u=C(n(1054)),l=C(n(1055)),f=C(n(1056)),p=C(n(1057)),d=C(n(1058)),h=C(n(1059)),g=C(n(1060)),m=C(n(1061)),v=C(n(1062)),y=C(n(1063)),b=C(n(1064)),w=C(n(270)),_=C(n(1065)),P=C(n(1066)),O=C(n(1067)),E=C(n(1068)),x=C(n(180));function C(e){return e&&e.__esModule?e:{default:e}}var A=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.get=function(e,t){switch(e.type){case x.default.highlight:return new r.default(e,t);case x.default.squiggly:return new s.default(e,t);case x.default.strikeOut:return new i.default(e,t);case x.default.underline:return new a.default(e,t);case x.default.line:return new c.default(e,t);case x.default.polyLine:return new u.default(e,t);case x.default.polygon:return new l.default(e,t);case x.default.fileAttachment:return new d.default(e,t);case x.default.text:return new f.default(e,t);case x.default.circle:return new p.default(e,t);case x.default.caret:return new h.default(e,t);case x.default.freeText:return new m.default(e,t);case x.default.ink:return new b.default(e,t);case x.default.sound:return new P.default(e,t);case x.default.square:return new g.default(e,t);case x.default.stamp:return new v.default(e,t);case x.default.link:return new y.default(e,t);case x.default.widget:return new w.default(e,t);case x.default.screen:return new _.default(e,t);case x.default.popup:return new O.default(e,t);case x.default.redact:return new E.default(e,t);default:return new o.default(e,t)}},e}();t.default=A},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(159);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=function(e){function t(n,o){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o))}return i(t,e),t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(159);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=function(e){function t(n,o){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o))}return i(t,e),t.prototype.isReplace=function(){return"Replace"===this.info.typeAlias},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(159);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=function(e){function t(n,o){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o))}return i(t,e),t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(159);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=function(e){function t(n,o){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o))}return i(t,e),t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=c(n(59)),r=n(7),i=n(12),a=c(n(19)),s=(n(63),c(n(38)));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(n,o){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o))}return u(t,e),t.prototype.getEndPoint=function(){return this.info.endPoint},t.prototype.setEndPoint=function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setLineEndPoint(o.getId(),n.getId(),this.getId(),e.x,e.y).then((function(e){return t.update(s.default.endPointUpdated)})).then((function(){t.info.endPoint=e,t.eventEmitter.emit(a.default.annotationAppearanceUpdated,[t],n)}))},t.prototype.getStartPoint=function(){return this.info.startPoint},t.prototype.setStartPoint=function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setLineStartPoint(o.getId(),n.getId(),this.getId(),e.x,e.y).then((function(e){return t.update(s.default.startPointUpdated)})).then((function(){t.info.startPoint=e,t.eventEmitter.emit(a.default.annotationAppearanceUpdated,[t],n)}))},t.prototype.getEndingStyle=function(){return this.info.endingStyle},t.prototype.getStartStyle=function(){return this.info.startStyle},t.prototype.setEndingStyle=function(e,t){var n=this;this.checkModidyPerm();var o=this.getPDFPage(),r=o.getPDFDoc();return this.page.doc.api.setAnnotEndingStyle(r.getId(),o.getId(),this.getId(),e,t).then((function(e){return n.update(s.default.endingStyleUpdated)})).then((function(){e?n.info.startStyle=t:n.info.endingStyle=t,n.eventEmitter.emit(a.default.annotationAppearanceUpdated,[n],o)}))},t.prototype.hasCaption=function(){return!!this.info.hasCaption},t.prototype.enableCaption=function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.enableLineCaption(o.getId(),n.getId(),this.getId(),e).then((function(){t.info.hasCaption=e,t.eventEmitter.emit(a.default.annotationUpdated,[t],n,s.default.enableCaptionUpdated),t.eventEmitter.emit(a.default.annotationAppearanceUpdated,[t],n)}))},t.prototype.setContent=function(t){var n=this;return e.prototype.setContent.call(this,t).then((function(e){return e&&n.eventEmitter.emit(a.default.annotationAppearanceUpdated,[n],n.getPDFPage()),e}))},t.prototype.getStyleFillColor=function(){return this.info.styleFillColor},t.prototype.setStyleFillColor=function(e){var t=this;this.checkModidyPerm(),0!==e&&(e=(0,i.colorConvertor)(e,"int"));var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setAnnotFillColor(o.getId(),n.getId(),this.getId(),e).then((function(o){return o&&(t.info.styleFillColor=e,t.info.fillColor=e,t.eventEmitter.emit(a.default.annotationUpdated,[t],n,s.default.styleFillColorUpdated),t.eventEmitter.emit(a.default.annotationAppearanceUpdated,[t],n)),o}))},t.prototype.getLeaderLineLength=function(){return this.info.leaderLineLength||0},t.prototype.getLeaderLineExtend=function(){return this.info.leaderLineExtensionLength||0},t.prototype.getLeaderLineOffset=function(){return this.info.leaderLineOffset},t.prototype.getCaptionPos=function(){return this.info.capPos},t.prototype.calculateLeaderLine=function(){var e=this.getStartPoint(),t=this.getEndPoint(),n=t.y-e.y,o=t.x-e.x,r=this.k=-1/(n/o),i=Math.atan(r),a=this.getLeaderLineLength(),s=Math.cos(i)*a,c=Math.sin(i)*a;this.leaderSartPoit={x:e.x+s,y:e.y+c};var u=this.getRect();u.left<this.leaderSartPoit.x&&this.leaderSartPoit.x<u.right&&u.bottom<this.leaderSartPoit.y&&this.leaderSartPoit.y<u.top?this.leaderEndPoint={x:t.x+s,y:t.y+c}:(this.leaderSartPoit={x:e.x-s,y:e.y-c},this.leaderEndPoint={x:t.x-s,y:t.y-c}),this.Sb=this.leaderSartPoit.y-this.k*this.leaderSartPoit.x,this.Eb=this.leaderEndPoint.y-this.k*this.leaderEndPoint.x},t.prototype.getLeaderLinePoints=function(){return this.leaderSartPoit||this.calculateLeaderLine(),{start:this.leaderSartPoit,end:this.leaderEndPoint}},t.prototype._update=function(){var t=this;return e.prototype._update.call(this).then((function(e){return t.calculateLeaderLine(),t}))},t.prototype.update=function(e){var t=this;return this._update().then((function(){var n=t.getPDFPage();return e&&t.eventEmitter.emit(a.default.annotationUpdated,[t],n,e),t}))},t.prototype.setLeaderLineLength=function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setAnnotLeaderLineLength(o.getId(),n.getId(),this.getId(),e).then((function(){return t.update(s.default.leaderLineLengthUpdated)})).then((function(){t.eventEmitter.emit(a.default.annotationAppearanceUpdated,[t],n)}))},t.prototype.getMeasureInfo=function(){return""},t.prototype.getCaptionOffset=function(){return this.info.captionOffset},t.prototype.exportToJSON=function(){var t=e.prototype.exportToJSON.call(this),n=this.info.startPoint,o=this.info.endPoint,a=this.info.leaderLineLength,s=this.info.leaderLineExtensionLength,c=this.hasCaption()?"yes":"no";if(this.info.styleFillColor){var u=(0,i.convertFromNumberToHex)(16777215&this.info.styleFillColor);t["interior-color"]=u,t.interiorColor=u}return Object.assign({},t,{start:n.x+","+n.y,end:o.x+","+o.y,head:r.LineEndingName[this.info.startStyle],tail:r.LineEndingName[this.info.endingStyle],leaderLength:a,leaderExtend:s,caption:c})},t.prototype.getMeasureRatio=function(){return this.info.measureRatio},t.prototype.setMeasureRatio=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.userSpaceValue,o=void 0===n?1:n,r=t.userSpaceUnit,i=void 0===r?"inch":r,c=t.realValue,u=void 0===c?1:c,l=t.realUnit,f=void 0===l?"inch":l;this.checkModidyPerm();var p=this.getPDFPage(),d=p.getPDFDoc();return this.page.doc.api.setMeasureRatio(d.getId(),p.getId(),this.getId(),{userSpaceValue:o,userSpaceUnit:i,realValue:u,realUnit:f}).then((function(){return e.update(s.default.measureRatioUpdated)})).then((function(){var t=e.getPDFPage();e.eventEmitter.emit(a.default.annotationAppearanceUpdated,[e],t)}))},t.prototype.getMeasureUnit=function(){return this.info.measureUnit},t.prototype.setMeasureUnit=function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setMeasureUnit(o.getId(),n.getId(),this.getId(),e).then((function(){return t.update(s.default.measureUnitUpdated)})).then((function(){t.info.measureUnit=e;var n=t.getPDFPage();t.eventEmitter.emit(a.default.annotationAppearanceUpdated,[t],n)}))},t}(o.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(12),r=n(7),i=c(n(59)),a=c(n(19)),s=c(n(38));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(n,o){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o))}return u(t,e),t.prototype.getVertexes=function(){return this.info.vertexes},t.prototype.getStyleFillColor=function(){return this.info.fillColor},t.prototype.setStyleFillColor=function(t){return this.checkModidyPerm(),e.prototype.setFillColor.call(this,t)},t.prototype.updateVertexes=function(e,t){var n=this,o=t.x,r=t.y;this.checkModidyPerm();var i=this.getPDFPage(),c=i.getPDFDoc();return this.page.doc.api.updateAnnotVertexes(c.getId(),i.getId(),this.getId(),e,o,r).then((function(){return n.info[e]={x:o,y:r},n.update(s.default.vertexesUpdated)})).then((function(){n.eventEmitter.emit(a.default.annotationAppearanceUpdated,[n],n.getPDFPage())}))},t.prototype.setVertexes=function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setAnnotVertexes(o.getId(),n.getId(),this.getId(),e).then((function(){return t.info.vertexes=e,t.update(s.default.vertexesUpdated)})).then((function(){t.eventEmitter.emit(a.default.annotationAppearanceUpdated,[t],t.getPDFPage())}))},t.prototype.getMeasureInfo=function(){return""},t.prototype.getEndingStyle=function(){return this.info.endingStyle},t.prototype.setEndingStyle=function(e,t){var n=this;this.checkModidyPerm();var o=this.getPDFPage(),r=o.getPDFDoc();return this.page.doc.api.setAnnotEndingStyle(r.getId(),o.getId(),this.getId(),e,t).then((function(){e?n.info.startStyle=t:n.info.endingStyle=t,n.eventEmitter.emit(a.default.annotationUpdated,[n],o,s.default.endingStyleUpdated),n.eventEmitter.emit(a.default.annotationAppearanceUpdated,[n],n.getPDFPage())})).then((function(e){return n._update()}))},t.prototype.getStartStyle=function(){return this.info.startStyle},t.prototype.exportToJSON=function(){for(var t=e.prototype.exportToJSON.call(this),n=this.info.vertexes,i="",a=0;a<n.length;a++)i+=n[a].x+","+n[a].y+";";if(i=i.substr(0,i.length-1),this.info.fillColor){var s=(0,o.convertFromNumberToHex)(16777215&this.info.fillColor);t["interior-color"]=s,t.interiorColor=s}return Object.assign({},t,{head:r.LineEndingName[this.info.startStyle],tail:r.LineEndingName[this.info.endingStyle],vertices:i})},t}(i.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(59)),r=n(12),i=s(n(19)),a=s(n(38));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=function(e){function t(n,o){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o))}return c(t,e),t.prototype.getVertexes=function(){return this.info.vertexes},t.prototype.updateVertexes=function(e,t){var n=this;this.checkModidyPerm();var o=this.getPDFPage(),r=o.getPDFDoc();return this.page.doc.api.updateAnnotVertexes(r.getId(),o.getId(),this.getId(),e,t.x,t.y).then((function(){return n.update(a.default.vertexesUpdated)})).then((function(){n.eventEmitter.emit(i.default.annotationAppearanceUpdated,[n],n.getPDFPage())}))},t.prototype.setVertexes=function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setAnnotVertexes(o.getId(),n.getId(),this.getId(),e).then((function(){return t.info.vertexes=e,t.update(a.default.vertexesUpdated)})).then((function(){t.eventEmitter.emit(i.default.annotationAppearanceUpdated,[t],t.getPDFPage())}))},t.prototype.getMeasureInfo=function(){return""},t.prototype.exportToJSON=function(){for(var t=e.prototype.exportToJSON.call(this),n=this.info.vertexes,o="",i=0;i<n.length;i++)o+=n[i].x+","+n[i].y+";";if(o=o.substr(0,o.length-1),this.info.fillColor){var a=(0,r.convertFromNumberToHex)(16777215&this.info.fillColor);t["interior-color"]=a,t.interiorColor=a}return"PolygonDimension"===this.getIntent()&&(t.measureRatio=this.info.measureRatio,t.measureConversionFactor=this.info.measureConversionFactor,t.measureUnit=this.info.measureUnit),Object.assign({},t,{vertices:o})},t.prototype.getFillColor=function(){return this.info.fillColor},t.prototype.setFillColor=function(t){return this.checkModidyPerm(),e.prototype.setFillColor.call(this,t)},t}(o.default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(59)),r=a(n(19)),i=a(n(38));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(n,o){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o))}return s(t,e),t.prototype.getFlags=function(){return e.prototype.getFlags.call(this)},t.prototype.getIconName=function(){return this.info.iconName||"Note"},t.prototype.setIconName=function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setAnnotIconName(o.getId(),n.getId(),this.getId(),e).then((function(e){return e?t.update(i.default.iconNameUpdated).then((function(){return t.eventEmitter.emit(r.default.annotationAppearanceUpdated,[t],t.getPDFPage()),e})):e}))},t.prototype.getState=function(){return this.info.state},t.prototype.setState=function(e){var t=this;if(this.checkModidyPerm(),!this.isStateAnnot())return Promise.reject(new Error("Cannot set state name if it is not a state type annotation!"));if(this.getState()===e)return Promise.resolve(!0);var n=this.info.state,o=this.getPDFPage(),i=o.getPDFDoc();return this.page.doc.api.setStateName(i.getId(),o.getId(),this.getId(),e).then((function(o){return t.info.state=e,t.eventEmitter.emit(r.default.stateAnnotNameUpdated,t,t.getPDFPage(),n,e),o}))},t.prototype.isStateAnnot=function(){return this.info.isStateAnnot},t.prototype.exportToJSON=function(){var t=e.prototype.exportToJSON.call(this),n={icon:this.info.iconName};if(this.info.isStateAnnot){n.statemodel=1==this.info.stateMode?"Marked":"Review",n.inreplyto=this.info.IRT;var o=this.info.state;n.state=o.charAt(0).toUpperCase()+o.slice(1),delete t.content,delete t.color}return Object.assign({},t,n)},t}(o.default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=c(n(59)),r=n(12),i=c(n(38)),a=c(n(208)),s=c(n(19));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(n,o){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o))}return u(t,e),t.prototype.getInnerRect=function(){return this.info.innerRect},t.prototype.getFillColor=function(){return this.info.fillColor},t.prototype.setFillColor=function(t){return this.checkModidyPerm(),e.prototype.setFillColor.call(this,t)},t.prototype.exportToJSON=function(){var t=e.prototype.exportToJSON.call(this),n=this.info.rect,o=this.info.innerRect,i={fringe:[o.left-n.left,o.bottom-n.bottom,n.right-o.right,n.top-o.top].toString()};if(this.info.fillColor){var a=(0,r.colorConvertor)(16777215&this.info.fillColor,"#");t["interior-color"]=a,t.interiorColor=a}return"CircleDimension"===this.getIntent()&&(i.measureRatio=this.getMeasureRatio(),i.measureConversionFactor=this.getMeasureConversionFactor(),i.measureUnit=this.getMeasureUnit()),Object.assign({},t,i)},t.prototype.getMeasureRatio=function(){return this.info.measureRatio},t.prototype.setMeasureRatio=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.userSpaceValue,o=void 0===n?1:n,r=t.userSpaceUnit,c=void 0===r?a.default.inch:r,u=t.realValue,l=void 0===u?1:u,f=t.realUnit,p=void 0===f?a.default.inch:f;this.checkModidyPerm();var d=this.getPDFPage(),h=d.getPDFDoc();return this.page.doc.api.setMeasureRatio(h.getId(),d.getId(),this.getId(),{userSpaceValue:o,userSpaceUnit:c,realValue:l,realUnit:p}).then((function(){return e.update(i.default.measureRatioUpdated)})).then((function(){var t=e.getPDFPage();e.eventEmitter.emit(s.default.annotationAppearanceUpdated,[e],t)}))},t.prototype.getMeasureUnit=function(){return this.info.measureUnit},t.prototype.setMeasureUnit=function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setMeasureUnit(o.getId(),n.getId(),this.getId(),e).then((function(){return t.update(i.default.measureUnitUpdated)})).then((function(){var e=t.getPDFPage();t.eventEmitter.emit(s.default.annotationAppearanceUpdated,[t],e)}))},t.prototype.getMeasureConversionFactor=function(){return this.info.measureConversionFactor},t.prototype.setMeasureConversionFactor=function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setMeasureConversionFactor(o.getId(),n.getId(),this.getId(),e).then((function(){return t.update(i.default.measureConversionFactorUpdated)})).then((function(){var e=t.getPDFPage();t.eventEmitter.emit(s.default.annotationAppearanceUpdated,[t],e)}))},t}(o.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(59)),r=s(n(19)),i=s(n(137)),a=s(n(38));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o));return r.fileSpec=n.fileSpec&&new i.default(n.fileSpec)||null,r}return c(t,e),t.prototype.getIconName=function(){return this.info.iconName||"PushPin"},t.prototype.setIconName=function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setAnnotIconName(o.getId(),n.getId(),this.getId(),e).then((function(e){return e?t.update(a.default.iconNameUpdated).then((function(){return t.eventEmitter.emit(r.default.annotationAppearanceUpdated,[t],t.getPDFPage()),e})):e}))},t.prototype.exportToJSON=function(){return e.prototype.exportToJSON.call(this)},t.prototype.getFileSpec=function(){return this.fileSpec},t.prototype.getFileattachmentStream=function(){var e=this.getPDFPage(),t=e.getPDFDoc(),n=[];return this.page.doc.api.getFileattachmentStream(t.getId(),e.getId(),this.getId(),(function(e){var t=e.arrayBuffer,o=e.blob;o?n=o:n.push(t)})).then((function(){return n}))},t}(o.default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(59)),r=a(n(19)),i=a(n(38));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(n,o){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o))}return s(t,e),t.prototype.getInnerRect=function(){return this.info.innerRect},t.prototype.exportToJSON=function(){var t=e.prototype.exportToJSON.call(this),n=this.info.rect,o=this.info.innerRect,r=[o.left-n.left,o.bottom-n.bottom,n.right-o.right,n.top-o.top].toString();return delete t.style,delete t.width,delete t.dashPhase,delete t.intensity,Object.assign({},t,{fringe:r})},t.prototype.moveRectByCharIndex=function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.moveCaretRectByCharIndex(o.getId(),n.getId(),this.getId(),e).then((function(e){return e?t.update(i.default.rectUpdated).then((function(){return t.eventEmitter.emit(r.default.annotationMovedPosition,[t],t.getPDFPage(),t),e})):e}))},t}(o.default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=c(n(59)),r=n(12),i=c(n(38)),a=c(n(208)),s=c(n(19));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(n,o){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o))}return u(t,e),t.prototype.getFillColor=function(){return this.info.fillColor},t.prototype.setFillColor=function(t){return e.prototype.setFillColor.call(this,t)},t.prototype.getInnerRect=function(){return this.info.innerRect},t.prototype.exportToJSON=function(){var t=e.prototype.exportToJSON.call(this),n=this.info.rect,o=this.info.innerRect,i=[o.left-n.left,o.bottom-n.bottom,n.right-o.right,n.top-o.top].toString();if(this.info.fillColor){var a=(0,r.colorConvertor)(16777215&this.info.fillColor,"#");t["interior-color"]=a,t.interiorColor=a}var s={fringe:i};return"CustomDimension"===this.getIntent()&&(s.measureRatio=this.getMeasureRatio(),s.measureConversionFactor=this.getMeasureConversionFactor(),s.measureUnit=this.getMeasureUnit()),Object.assign({},t,s)},t.prototype.getMeasureRatio=function(){return this.info.measureRatio},t.prototype.setMeasureRatio=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.userSpaceValue,o=void 0===n?1:n,r=t.userSpaceUnit,c=void 0===r?a.default.inch:r,u=t.realValue,l=void 0===u?1:u,f=t.realUnit,p=void 0===f?a.default.inch:f;this.checkModidyPerm();var d=this.getPDFPage(),h=d.getPDFDoc();return this.page.doc.api.setMeasureRatio(h.getId(),d.getId(),this.getId(),{userSpaceValue:o,userSpaceUnit:c,realValue:l,realUnit:p}).then((function(){return e.update(i.default.measureRatioUpdated)})).then((function(){var t=e.getPDFPage();e.eventEmitter.emit(s.default.annotationAppearanceUpdated,[e],t)}))},t.prototype.getMeasureUnit=function(){return this.info.measureUnit},t.prototype.setMeasureUnit=function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setMeasureUnit(o.getId(),n.getId(),this.getId(),e).then((function(){return t.update(i.default.measureUnitUpdated)})).then((function(){var e=t.getPDFPage();t.eventEmitter.emit(s.default.annotationAppearanceUpdated,[t],e)}))},t.prototype.getMeasureConversionFactor=function(){return this.info.measureConversionFactor},t.prototype.setMeasureConversionFactor=function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setMeasureConversionFactor(o.getId(),n.getId(),this.getId(),e).then((function(){return t.update(i.default.measureConversionFactorUpdated)})).then((function(){var e=t.getPDFPage();t.eventEmitter.emit(s.default.annotationAppearanceUpdated,[t],e)}))},t}(o.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=c(n(59)),r=n(7),i=n(12),a=c(n(19)),s=c(n(38));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o));return-1===n.borderColor&&"FreeTextTypewriter"!==n.intent&&(n.borderColor=16711680),r}return u(t,e),t.prototype.setAlignment=function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setAlignment(o.getId(),n.getId(),this.getId(),e).then((function(){return t.info.justification=e,t.eventEmitter.emit(a.default.annotationUpdated,[t],n,s.default.alignmentUpdated),t.eventEmitter.emit(a.default.annotationAppearanceUpdated,[t],t.getPDFPage()),e}))},t.prototype.getAlignment=function(){return this.info.justification},t.prototype.getInnerRect=function(){return Object.assign({},this.info.innerRect)},t.prototype.setInnerRectNoAction=function(e){var t=this;this.info.innerRect=e;var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setAnnotInnerRect(o.getId(),n.getId(),this.getId(),e).then((function(){var e=t.getGroupElements();0==e.length&&(e=[t]);for(var n=[],o=0,r=e.length;o<r;o++){var i=e[o];n[o]=i._update()}return Promise.all(n)}))},t.prototype.getIntent=function(){var t=e.prototype.getIntent.call(this);return t||(t="FreeTextTextbox"),t},t.prototype.setInnerRect=function(e){var t=this;this.checkModidyPerm(),this.info.innerRect=e;var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setAnnotInnerRect(o.getId(),n.getId(),this.getId(),e).then((function(e){return e?t.update(s.default.innerRectUpdated).then((function(){return t.eventEmitter.emit(a.default.annotationAppearanceUpdated,[t],t.getPDFPage()),e})):e}))},t.prototype.getDefaultAppearance=function(){var e=Object.assign({},this.info.defaultAppearance);return delete e.flags,e},t.prototype.getFillColor=function(){return"FreeTextTypewriter"==this.info.intent?0:this.info.fillColor},t.prototype.setFillColor=function(e){var t=this;this.checkModidyPerm(),e=0===e?0:(0,i.colorConvertor)(e,"int");var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setAnnotFillColor(o.getId(),n.getId(),this.getId(),e).then((function(o){return o&&(t.info.fillColor=e,t.eventEmitter.emit(a.default.annotationUpdated,[t],n,s.default.fillColorUpdated),t.eventEmitter.emit(a.default.annotationAppearanceUpdated,[t],n)),o}))},t.prototype.getCalloutLinePoints=function(){return this.info.calloutLinePoints},t.prototype.setCalloutLinePoints=function(e){var t=this;return this._setCalloutLinePoints(e).then((function(e){return t._update()})).then((function(e){var n=t.getPDFPage();t.eventEmitter.emit(a.default.annotationUpdated,[t],n,s.default.calloutLinePointsUpdated),t.eventEmitter.emit(a.default.annotationAppearanceUpdated,[t],n)}))},t.prototype._setCalloutLinePoints=function(e){var t=this;this.checkModidyPerm(),this.info.calloutLinePoints=e;var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setCalloutLinePoints(o.getId(),n.getId(),this.getId(),e).then((function(e){return t._update()}))},t.prototype.getCalloutLineEndingStyle=function(){return this.info.calloutLineEndingStyle},t.prototype.setCalloutLineEndingStyle=function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setCalloutLineEndingStyle(o.getId(),n.getId(),this.getId(),e).then((function(){t.info.calloutLineEndingStyle=e,t.eventEmitter.emit(a.default.annotationUpdated,[t],n,s.default.calloutLineEndingStyleUpdated),t.eventEmitter.emit(a.default.annotationAppearanceUpdated,[t],t.getPDFPage())}))},t.prototype.setDefaultAppearance=function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc(),r=(e=Object.assign({},this.info.defaultAppearance,e)).textColor,i=e.textSize;if("number"!=typeof r||"number"!=typeof i)throw new Error("param error. Only number is available.");if(r=(4278190080|r)>>>0,i<6||i>40)throw new Error("Text size is overflow. Available range is 6 to 40.");return e.textColor=r,e.textSize=i,this.page.doc.api.setDefaultAp(o.getId(),n.getId(),this.getId(),e).then((function(){return t._update()})).then((function(){t.info.defaultAppearance=e,t.eventEmitter.emit(a.default.annotationUpdated,[t],n,s.default.defaultAppearanceUpdated),t.eventEmitter.emit(a.default.annotationAppearanceUpdated,[t],t.getPDFPage())}))},t.prototype.getFontColor=function(){return 0==this.info.defaultAppearance.textColor?"#000000":(0,i.colorConvertor)(16777215&this.info.defaultAppearance.textColor,"#",0)},t.prototype.setFontColor=function(e){var t=this,n=this.getPDFPage(),o=n.getPDFDoc();return e=(0,i.colorConvertor)(e,"int",1),this.info.defaultAppearance.textColor=e,this.page.doc.api.setDefaultAp(o.getId(),n.getId(),this.getId(),this.info.defaultAppearance).then((function(){t.eventEmitter.emit(a.default.annotationAppearanceUpdated,[t],t.getPDFPage())}))},t.prototype.exportToJSON=function(){var t=e.prototype.exportToJSON.call(this);t.justification=this.info.justification;var n="";this.info.fontName&&(n+="/"+this.info.fontName+" "),this.info.defaultAppearance.textSize&&(n+=this.info.defaultAppearance.textSize+" Tf ");var o=(0,i.convertFromNumberToRGBA)(this.getBorderColor());switch(n+=(o.r/255).toFixed(2)+" "+(o.g/255).toFixed(2)+" "+(o.b/255).toFixed(2)+" rg",t.defaultappearance=n,t.fontColor=(0,i.colorConvertor)(16777215&this.info.defaultAppearance.textColor,"#",0),this.info.fillColor&&(o=(0,i.convertFromNumberToHex)(16777215&this.info.fillColor),t["interior-color"]=o,t.interiorColor=o),this.info.intent){case"FreeTextCallout":var a=this.info.rect,s=this.info.innerRect,c=[s.left-a.left,s.bottom-a.bottom,a.right-s.right,a.top-s.top].toString(),u=this.info.calloutLinePoints,l=u[0].x+","+u[0].y;l+=","+u[1].x+","+u[1].y,l+=","+u[2].x+","+u[2].y;var f=r.LineEndingName[this.info.calloutLineEndingStyle];return Object.assign({},t,{fringe:c,callout:l,head:f})}return t},t.prototype.getContent=function(){var t="";if(this.info.RC.length>0){var n=(new DOMParser).parseFromString(this.info.RC,"text/xml"),o=void 0;n.children&&n.children[0]?o=n.children.item(0):n.childNodes&&n.childNodes.length>0&&(o=n.childNodes.item(0)),t=o?o.innerText||o.textContent:t}else t=e.prototype.getContent.call(this);return t},t.prototype.setContent=function(e){var t=this;return this.checkModidyPerm(),this.info.RC="",(this.getGroupHeader()||this)._setContent(e).then((function(e){return t.getPDFPage().getAnnotsByIdArray([e])})).then((function(e){return t.update(s.default.contentUpdated).then((function(e){return t.eventEmitter.emit(a.default.annotationAppearanceUpdated,e,t.getPDFPage()),e}))}))},t.prototype.getWoff=function(){var e=this.getPDFPage();return e.doc.api.getAnnotWoff(e.getPDFDoc().getId(),e.getId(),this.getId())},t.prototype.getRotation=function(){return this.info.rotation||0},t.prototype.setRotation=function(e){var t=this,n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setAnnotRotation(o.getId(),n.getId(),this.getId(),e).then((function(e){return n.getAnnotsByIdArray(e)})).then((function(n){var o=0;for(n.length;o--;)n[o].info.rotation=e;return t.info.rotation=e,n})).then((function(e){var o=[],r=!0,i=!1,c=void 0;try{for(var u,l=e[Symbol.iterator]();!(r=(u=l.next()).done);r=!0){var f=u.value;o.push(f.update())}}catch(e){i=!0,c=e}finally{try{!r&&l.return&&l.return()}finally{if(i)throw c}}return Promise.all(o).then((function(o){return t.eventEmitter.emit(a.default.annotationUpdated,e,n,s.default.rotationUpdated),t.eventEmitter.emit(a.default.annotationAppearanceUpdated,e,n),e}))}))},t}(o.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(59)),r=a(n(19)),i=a(n(38));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(n,o){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o))}return s(t,e),t.prototype.getInnerRect=function(){return this.getRect()},t.prototype.exportToJSON=function(){var t=e.prototype.exportToJSON.call(this);return t.icon=this.info.iconName,t},t.prototype.getIconName=function(){return this.info.iconName||""},t.prototype.setBitmap=function(e,t){var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setAnnotAPBitmap(o.getId(),n.getId(),this.getId(),e,t)},t.prototype.getRotation=function(){return this.info.rotation},t.prototype.setRotation=function(e){var t=this,n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setAnnotRotation(o.getId(),n.getId(),this.getId(),e).then((function(e){return n.getAnnotsByIdArray(e)})).then((function(n){var o=0;for(n.length;o--;)n[o].info.rotation=e;return t.info.rotation=e,n})).then((function(e){var o=[],a=!0,s=!1,c=void 0;try{for(var u,l=e[Symbol.iterator]();!(a=(u=l.next()).done);a=!0){var f=u.value;o.push(f.update())}}catch(e){s=!0,c=e}finally{try{!a&&l.return&&l.return()}finally{if(s)throw c}}return Promise.all(o).then((function(o){return t.eventEmitter.emit(r.default.annotationUpdated,e,n,i.default.rotationUpdated),t.eventEmitter.emit(r.default.annotationAppearanceUpdated,e,n),e}))}))},t}(o.default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(71)),r=a(n(19)),i=a(n(38));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o));return n.action&&(r.action=r.page.doc.engine.actionFactory.createAction(n.action,o.doc,r.page.doc.api,r.eventEmitter,r)),r}return s(t,e),t.prototype.getFlags=function(){return-2&e.prototype.getFlags.call(this)},t.prototype.getAction=function(){return this.action},t.prototype.getActionPromise=function(){return Promise.resolve(this.action)},t.prototype.getHighlightingMode=function(){return this.info.highlightingMode},t.prototype.setHighlightingMode=function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setHighlightingMode(o.getId(),n.getId(),this.getId(),e).then((function(e){return n.getAnnotsByIdArray(e)})).then((function(e){for(var t=[],n=0,o=e.length;n<o;n++)t.push(e[n]._update());return Promise.all(t)})).then((function(e){return t.eventEmitter.emit(r.default.annotationUpdated,e,n,i.default.highlightingModeUpdated),t.eventEmitter.emit(r.default.annotationMovedPosition,e,n,t),e}))},t.prototype.setAction=function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc();return e=e.exportToJson?e.exportToJson():e,this.page.doc.api.setAction(o.getId(),n.getId(),this.getId(),e).then((function(e){return t.action?e.type!==t.action.getType()?t.action=t.page.doc.engine.actionFactory.createAction(e,t.page.doc,t.page.doc.api,t.eventEmitter,t):t.action.updateAction(e):t.action=t.page.doc.engine.actionFactory.createAction(e,t.page.doc,t.page.doc.api,t.eventEmitter,t),t.update(i.default.addAction)})).then((function(){return t.eventEmitter.emit(r.default.actionAdd,t),!0}))},t.prototype.setActionData=function(e){var t=this;return this.action&&this.action.setActionData(e).then((function(){return t.update(i.default.actionDataUpdated)})).then((function(){return!0}))},t.prototype.removeAction=function(){var e=this,t=this.getPDFPage(),n=t.getPDFDoc();return this.page.doc.api.removeAnnotAction(n.getId(),t.getId(),this.getId()).then((function(){return e.action=null,e.update(i.default.removeAction)})).then((function(){return e.eventEmitter.emit(r.default.actionRemove,e),!0}))},t}(o.default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(59)),r=a(n(19)),i=a(n(38));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(n,o){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o))}return s(t,e),t.prototype.getInkList=function(){return this.info.inkList},t.prototype.setInkList=function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setInkList(o.getId(),n.getId(),this.getId(),e).then((function(){return t.update(i.default.inkListUpdated).then((function(){t.eventEmitter.emit(r.default.annotationAppearanceUpdated,[t],t.getPDFPage())}))})).then((function(){return!0}))},t.prototype.exportToJSON=function(){for(var t=e.prototype.exportToJSON.call(this),n=this.info.inkList,o="[",r=0;r<n.length;r++)0!=r&&1==n[r].type&&(o=o.substr(0,o.length-1),o+="],["),o+=n[r].x+","+n[r].y+";";return o=o.substr(0,o.length-1)+"]",Object.assign({},t,{inklist:o})},t}(o.default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(71)),r=a(n(19)),i=a(n(38));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o));return n.action&&(r.action=r.page.doc.engine.actionFactory.createAction(n.action,o.doc,r.page.doc.api,r.eventEmitter,r)),r}return s(t,e),t.prototype.getFlags=function(){return-2&e.prototype.getFlags.call(this)},t.prototype.getAction=function(){return this.action},t.prototype.getActionPromise=function(){var e=this,t=this.getPDFPage(),n=t.getPDFDoc();return this.page.doc.api.getAction(n.getId(),t.getId(),this.getId()).then((function(t){return e.action=e.page.doc.engine.actionFactory.createAction(t,n,e.page.doc.api,e.eventEmitter,e),e.action}))},t.prototype.getOpacity=function(){return this.info.opacity},t.prototype.getRotation=function(){return this.info.rotation},t.prototype.setOpacity=function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc();return e=+e,this.page.doc.api.setAnnotOpacity(o.getId(),n.getId(),this.getId(),e).then((function(e){return n.getAnnotsByIdArray(e)})).then((function(n){var o=0;for(n.length;o--;)n[o].info.opacity=e;return t._update().then((function(){return n}))})).then((function(e){return t.eventEmitter.emit(r.default.annotationUpdated,e,n,i.default.opacityUpdated),t.eventEmitter.emit(r.default.annotationAppearanceUpdated,e,n),e}))},t.prototype.setRotation=function(e){var t=this,n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setAnnotRotation(o.getId(),n.getId(),this.getId(),e).then((function(e){return n.getAnnotsByIdArray(e)})).then((function(n){var o=0;for(n.length;o--;)n[o].info.rotation=e;return t.info.rotation=e,n})).then((function(e){return t.eventEmitter.emit(r.default.annotationUpdated,e,n,i.default.rotationUpdated),t.eventEmitter.emit(r.default.annotationAppearanceUpdated,e,n),e}))},t.prototype.setAction=function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc();return e=e.exportToJson?e.exportToJson():e,this.page.doc.api.setAction(o.getId(),n.getId(),this.getId(),e).then((function(e){return t.action?e.type!==t.action.getType()?t.action=t.page.doc.engine.actionFactory.createAction(e,t.page.doc,t.page.doc.api,t.eventEmitter,t):t.action.updateAction(e):t.action=t.page.doc.engine.actionFactory.createAction(e,t.page.doc,t.page.doc.api,t.eventEmitter,t),t.update(i.default.addAction)})).then((function(){return t.eventEmitter.emit(r.default.actionAdd,t),!0}))},t.prototype.setActionData=function(e){var t=this;return this.action&&this.action.setActionData(e).then((function(){return t.update(i.default.actionDataUpdated)})).then((function(){return!0}))},t.prototype.setRect=function(e){var t=this;this.info.rect=e;var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setAnnotRect(o.getId(),n.getId(),this.getId(),e).then((function(e){return e?(t.eventEmitter.emit(r.default.annotationUpdated,[t],n),t.eventEmitter.emit(r.default.annotationAppearanceUpdated,[t],n),!0):e}))},t.prototype.moveTo=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.left,o=t.top,a=Object.assign({},this.info.rect),s=a.right,c=a.bottom,u=n-a.left,l=o-a.top;this.info.rect={left:n,top:o,right:s+u,bottom:c+l};var f=this.getPDFPage(),p=f.getPDFDoc(),d=p.getId(),h=f.getId(),g=this.getId();return this.page.doc.api.moveAnnotTo(d,h,g,{left:n,top:o}).then((function(e){return f.getAnnotsByIdArray(e)})).then((function(t){e.eventEmitter.emit(r.default.annotationUpdated,t,f,i.default.rectUpdated),e.eventEmitter.emit(r.default.annotationMovedPosition,t,f,e)}))},t.prototype.removeAction=function(){var e=this,t=this.getPDFPage(),n=t.getPDFDoc();return this.page.doc.api.removeAnnotAction(n.getId(),t.getId(),this.getId()).then((function(){return e.action=null,e.update(i.default.removeAction)})).then((function(){return e.eventEmitter.emit(r.default.actionRemove,e),!0}))},t.prototype.setImage=function(e){var t=this,n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setImage(o.getId(),n.getId(),this.getId(),e).then((function(e){return t.eventEmitter.emit(r.default.annotationAppearanceUpdated,[t],n),e}))},t.prototype.setTitle=function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setTitle(o.getId(),n.getId(),this.getId(),e).then((function(){return t.update(i.default.titleUpdated)}))},t}(o.default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(59));n(7),r(n(19)),n(63);function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o));return n.action&&(r.action=r.page.doc.engine.actionFactory.createAction(n.action,o.doc,r.page.doc.api,r.eventEmitter,r)),r}return i(t,e),t.prototype.getIconName=function(){return this.info.iconName||"Speaker"},t.prototype.exportToJSON=function(){var t=e.prototype.exportToJSON.call(this);return t.rate=this.info.soundObj&&this.info.soundObj.sampleRate,t},t}(o.default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(71)),r=n(7),i=s(n(205)),a=s(n(19));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=function(e){function t(n,o){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o))}return c(t,e),t.prototype.getFlags=function(){return-2&e.prototype.getFlags.call(this)},t.prototype.getOpenStatus=function(){return this.info.openStatus},t.prototype.setOpenStatus=function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setPopupOpenStatus(o.getId(),n.getId(),this.getId(),e).then((function(){t.info.openStatus=e;var o=[t];return t.eventEmitter.emit(a.default.annotationAppearanceUpdated,o,n),o}))},t.prototype.exportToJSON=function(){var e=this.info.flag,t="";for(var n in r.AnnotFlagsName)e&1<<parseInt(n)&&(t+=r.AnnotFlagsName[n]+",");(0,i.default)(new Date(this.info.modifiedTimestamp),"D:yyyyMMddhhmmssTZ","'");var o=this.info.id,a=this.page.getIndex(),s=this.info.openStatus?"yes":"no",c=this.info.rect;return{flags:t,name:o,page:a,open:s,rect:c.left+","+c.bottom+","+c.right+","+c.top,type:"popup"}},t}(o.default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=c(n(59)),r=c(n(19)),i=n(12),a=c(n(32)),s=c(n(38));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(n,o){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o))}return u(t,e),t.prototype.isArea=function(){return this.info.isArea},t.prototype.getRects=function(){var e=[];return this.info.quadPoints&&this.info.quadPoints.length>0?this.info.quadPoints.forEach((function(t){e.push({left:t[0].x,top:t[0].y,right:t[3].x,bottom:t[3].y})})):e.push(this.info.rect),e},t.prototype.apply=function(){var e=this,t=this.getPDFPage(),n=t.getPDFDoc();if(!n.checkPermission(a.default.annotForm)||!n.checkPermission(a.default.modify))throw new Error("Permission error");return this.page.doc.api.redactApply(n.getId(),t.getId(),this.getId()).then((function(n){var o=t.clearAnnotIds(n);e.page.doc.engine.eventEmitter.emit(r.default.annotationRemoved,o,t);var i=[{pageIndex:t.getIndex(),removedAnnots:n}];return e.eventEmitter.emit(r.default.applyRedaction,i),i}))},t.prototype.getApplyFillColor=function(){return this.info.applyFillColor},t.prototype.setRedactApplyFillColor=function(e){var t=this;this.checkModidyPerm(),e=(0,i.colorConvertor)(e,"int",1);var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setRedactApplyFillColor(o.getId(),n.getId(),this.getId(),e).then((function(o){return o&&(t.eventEmitter.emit(r.default.annotationUpdated,[t],n,s.default.applyFillColorUpdated),t.info.applyFillColor=e),o}))},t.prototype.exportToJSON=function(){var t=e.prototype.exportToJSON.call(this);t["interior-color"]=(0,i.convertFromNumberToHex)(16777215&this.getApplyFillColor()),t.interiorColor=t["interior-color"];for(var n=this.info.quadPoints,o="",r=0;r<n.length;r++){var a=n[r];o+=a[0].x+","+a[0].y+",",o+=a[1].x+","+a[1].y+",",o+=a[2].x+","+a[2].y+",",o+=a[3].x+","+a[3].y+","}t.coords=o.substr(0,o.length-1),t["overlay-text"]=this.info.overlayText,t.overlayText=this.info.overlayText;var s="";this.info.defaultAppearance.textSize&&(s+=this.info.defaultAppearance.textSize+" Tf ");var c=(0,i.convertFromNumberToRGBA)(this.getBorderColor());return s+=(c.r/255).toFixed(2)+" "+(c.g/255).toFixed(2)+" "+(c.b/255).toFixed(2)+" RG",t.defaultappearance=s,t.fontColor=(0,i.colorConvertor)(16777215&this.info.defaultAppearance.textColor,"#",0),t.justification=this.info.justification,t},t}(o.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(158)),r=s(n(1070)),i=s(n(1071)),a=s(n(1072));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.engine=t}return e.prototype.get=function(e,t){if(!e)return null;var n=this.engine;switch(e.type){case 1:return new r.default(e,t,n);case 2:return new i.default(e,t,n);case 3:return new a.default(e,t,n);case void 0:return null;default:return new o.default(e,t,n)}},e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(158)),r=a(n(19)),i=a(n(32));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c={0:{id:"0",name:"StandardID_e_StdIDCourier",isBold:!1,isItalic:!1},1:{id:"1",name:"StandardID_e_StdIDCourierB",isBold:!0,isItalic:!1},2:{id:"2",name:"StandardID_e_StdIDCourierBI",isBold:!0,isItalic:!0},3:{id:"3",name:"StandardID_e_StdIDCourierI",isBold:!1,isItalic:!0},4:{id:"4",name:"StandardID_e_StdIDHelvetica",isBold:!1,isItalic:!1},5:{id:"5",name:"StandardID_e_StdIDHelveticaB",isBold:!0,isItalic:!1},6:{id:"6",name:"StandardID_e_StdIDHelveticaBI",isBold:!0,isItalic:!0},7:{id:"7",name:"StandardID_e_StdIDHelveticaI",isBold:!1,isItalic:!0},8:{id:"8",name:"StandardID_e_StdIDTimes",isBold:!1,isItalic:!1},9:{id:"9",name:"StandardID_e_StdIDTimesB",isBold:!0,isItalic:!1},10:{id:"10",name:"StandardID_e_StdIDTimesBI",isBold:!0,isItalic:!0},11:{id:"11",name:"StandardID_e_StdIDTimesI",isBold:!1,isItalic:!0},12:{id:"12",name:"StandardID_e_StdIDSymbol",isBold:!1,isItalic:!1},13:{id:"13",name:"StandardID_e_StdIDZapfDingbats",isBold:!1,isItalic:!1}},u=function(e){function t(n,o,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r))}return s(t,e),t.prototype.put=function(e){},t.prototype.isBold=function(){var e=this.info.textState.font;if(e.isStandard){if(c[e.standardId])return c[e.standardId].isBold;console.warn("No configuration found for standard font: ",e)}return e.isBold},t.prototype.isItalic=function(){var e=this.info.textState.font;if(e.isStandard){if(c[e.standardId])return c[e.standardId].isItalic;console.warn("No configuration found for standard font: ",e)}return e.isItalic||e.styles>>7&1},t.prototype.getText=function(){return this.info.textState.text},t.prototype.getFontInfo=function(){return this.info.textState.font},t.prototype.setText=function(e){var t=this;if(!this.doc.checkPermission(i.default.modify))throw new Error("Permission error");if(this.getText()===e)return Promise.resolve();var n=this.getPDFPage();return n.doc.api.setTextObjectChar(n.getPDFDoc().getId(),n.getId(),this.getId(),e).then((function(e){t.info=e,t.doc.engine.eventEmitter.emit(r.default.graphicsUpdated,n)}))},t.prototype.setItalic=function(e){var t=this;if(!this.doc.checkPermission(i.default.modify))throw new Error("Permission error");if(this.isItalic()===e)return Promise.resolve();var n=this.getPDFPage();return n.doc.api.setTextObjectItalic(n.getPDFDoc().getId(),n.getId(),this.getId(),e).then((function(e){t.info=e,t.doc.engine.eventEmitter.emit(r.default.graphicsUpdated,n)}))},t.prototype.setBold=function(e){var t=this;if(!this.doc.checkPermission(i.default.modify))throw new Error("Permission error");if(this.isBold()===e)return Promise.resolve();var n=this.getPDFPage();return n.doc.api.setTextObjectBold(n.getPDFDoc().getId(),n.getId(),this.getId(),e).then((function(e){t.info=e,t.doc.engine.eventEmitter.emit(r.default.graphicsUpdated,n)}))},t.prototype.getFontSize=function(){return this.info.textState.size},t.prototype.setFontSize=function(e){var t=this;if(!this.doc.checkPermission(i.default.modify))throw new Error("Permission error");if(this.getFontSize()===e)return Promise.resolve();var n=this.getPDFPage();return n.doc.api.setTextObjectFontSize(n.getPDFDoc().getId(),n.getId(),this.getId(),e).then((function(e){t.info=e,t.doc.engine.eventEmitter.emit(r.default.graphicsUpdated,n)}))},t.prototype.setStandardFont=function(e){var t=this;if(!this.doc.checkPermission(i.default.modify))throw new Error("Permission error");var n=this.info.textState.font;if(!n||n.isStandard&&e===n.stardardId)return Promise.resolve();var o=this.getPDFPage();return o.doc.api.setTextObjectStandardFont(o.getPDFDoc().getId(),o.getId(),this.getId(),e).then((function(e){t.info=e,t.doc.engine.eventEmitter.emit(r.default.graphicsUpdated,o)}))},t.prototype.setFontByName=function(e,t,n){var o=this;if(!this.doc.checkPermission(i.default.modify))throw new Error("Permission error");if(!this.info.textState.font)return Promise.resolve();var a=this.getPDFPage();return a.doc.api.setTextObjectFontByName(a.getPDFDoc().getId(),a.getId(),this.getId(),e,t,n).then((function(e){o.info=e,o.doc.engine.eventEmitter.emit(r.default.graphicsUpdated,a)}))},t.prototype.getWoff=function(){var e=this.getPDFPage();return e.doc.api.getTextObjectWoff(e.getPDFDoc().getId(),e.getId(),this.getId())},t}(o.default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(158)),r=i(n(32));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var s=function(e){function t(n,o,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r))}return a(t,e),t.prototype.getFillMode=function(){return this.info.fillMode},t.prototype.setBorderColor=function(t){if(!this.doc.checkPermission(r.default.modify))throw new Error("Permission error");return this.info.needStroke=0!==t,e.prototype.setBorderColor.call(this,t)},t.prototype.getPathPoints=function(){return this.info.path},t.prototype.needStroke=function(){return this.info.needStroke},t}(o.default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(158)),r=a(n(19)),i=a(n(32));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(n,o,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r))}return s(t,e),t.prototype.setRotation=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!t)return Promise.resolve(this.info);if(!this.doc.checkPermission(i.default.modify))throw new Error("Permission error");var n=this.getPDFPage();return n.doc.api.setImageObjectRotation(n.getPDFDoc().getId(),n.getId(),this.getId(),t).then((function(t){return e.info=t,e.doc.engine.eventEmitter.emit(r.default.graphicsUpdated,n),t}))},t}(o.default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:52428800;if(t instanceof ArrayBuffer&&t.byteLength>52428800)return new Blob([t]);if(t.buffer instanceof ArrayBuffer)return e(t.buffer,n);return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(1075),i=(o=r)&&o.__esModule?o:{default:o};n(1076);var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.step=0;var n=document.createElement("div");n.innerHTML=(0,i.default)({title:t}),this.element=n.firstElementChild,n.removeChild(this.element),this.totalElement=this.element.querySelector(".fv__ui-print-process-total"),this.currentElement=this.element.querySelector(".fv__ui-print-process-current"),this.progressElement=this.element.querySelector(".fv__ui-print-process-percent")}return e.prototype.reset=function(){this.updateProgress(0,0)},e.prototype.show=function(){this.reset(),document.body.appendChild(this.element)},e.prototype.updateProgress=function(e,t){var n=this.total;this.total=t,n!==t&&(this.totalElement.innerText=t),this.step=e,this.currentElement.innerText=e,this.progressElement.style.cssText+="\n            width: "+e/t*100+"%;\n        "},e.prototype.close=function(){document.body.removeChild(this.element)},e}();t.default=a},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<div class="fv__ui-print-process">\r\n    <div class="fv__ui-print-process-title">',t+=(0,o.$escape)(e.title),t+='</div>\r\n    <div class="fv__ui-print-process-digital-progress"><span class="fv__ui-print-process-current">0</span>/<span class="fv__ui-print-process-total">0</span></div>\r\n    <div class="fv__ui-print-process-bar">\r\n        <div class="fv__ui-print-process-percent"></div>\r\n    </div>\r\n</div>'}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(1078),i=(o=r)&&o.__esModule?o:{default:o},a=n(34);var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=document.createElement("div"),this.printArea=new i.default(this.container),this.imageCache=[]}return e.prototype.appendImage=function(e,t){return this.imageCache[e]=this.createImageDOM(e,t)},e.prototype.createImageDOM=function(e,t){var n=document.createElement("div");n.setAttribute("data-index",e),n.style.cssText="width: 100%;height: 100%; page-break-after: always;";var o=document.createElement("img");o.style.cssText="max-width: 100%; max-height: 100%;";var r=new Promise((function(e,t){o.onload=function(){e(n)},o.onerror=function(){t(n)}}));return o.src=t,n.appendChild(o),r},e.prototype.print=function(e){var t=this;a.isIE&&e&&function(){var e="\\Software\\Microsoft Internet Explorer\\PageSetup ";try{var t,n=new ActiveXObject("WScript.Shell");t="header",n.RegWrite("HKEY_CURRENT_USER"+e+t,""),t="footer",n.RegWrite("HKEY_CURRENT_USER"+e+t,"")}catch(e){console.error(e)}}(),this.imageCache.reduce((function(e,n){return e.then((function(){return n})).then((function(e){e&&t.container.appendChild(e)}))}),Promise.resolve()).then((function(){t.imageCache=[],t.printArea.getHead=function(){return"\n                <head>\n                <style>\n                    *{ margin: 0; padding: 0; }\n                </style>\n                "+(e?'\n                    <style type="text/css" media="print">\n                        @page {\n                            /* hide header and footer */\n                            size: auto;\n                            margin: 0;\n                        }\n                        a[href]:after { content: none !important; }\n                        img[src]:after { content: none !important; }\n                    </style>\n                ':"")+"\n                </head>\n            "},t.printArea.print(),t.container.innerHTML=""}))},e}();t.default=s},function(e,t,n){e.exports=function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var t=function(){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.counter=0,this.modes={iframe:"iframe",popup:"popup"},this.standards={strict:"strict",loose:"loose",html5:"html5"};var o={mode:this.modes.iframe,standard:this.standards.html5,popHt:500,popWd:400,popX:200,popY:200,popTitle:"",popClose:!0,extraCss:"",extraHead:"",retainAttr:["id","class","style"]};this.settings=Object.assign({},o,n),this.idPrefix="printArea_",this.ele=1===e.nodeType?e:document.querySelector(e)}var n,o,r;return n=t,(o=[{key:"print",value:function(){var e=this;this.counter++;for(var t=document.querySelectorAll("[id^="+this.idPrefix+"]");t.length;)t[0].parentNode.removeChild(t[0]),t=document.querySelectorAll("[id^="+this.idPrefix+"]");this.settings.id=this.idPrefix+this.counter;var n=this.getPrintWindow();this.write(n.doc,this.ele),setTimeout((function(){e.windowPrint(n)}),1e3)}},{key:"windowPrint",value:function(e){var t=e.win;t.focus(),t.print(),this.settings.mode===this.modes.popup&&this.settings.popClose&&setTimeout((function(){t.close()}),1e3)}},{key:"write",value:function(e,t){e.open(),e.write(this.docType()+"<html>"+this.getHead()+this.getBody(t)+"</html>"),e.close()}},{key:"docType",value:function(){return this.settings.mode===this.modes.iframe?"":this.settings.standard===this.standards.html5?"<!DOCTYPE html>":'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01'+(this.settings.standard===this.standards.loose?" Transitional":"")+'//EN" "http://www.w3.org/TR/html4/'+(this.settings.standard===this.standards.loose?"loose":"strict")+'.dtd">'}},{key:"getHead",value:function(){var e="";this.settings.extraHead&&this.settings.extraHead.replace(/([^,]+)/g,(function(t){e+=t}));var t=document.querySelectorAll("link");return t=Array.from(t).filter((function(e){var t=e.getAttribute("rel");return t&&"stylesheet"===t.toLowerCase()})).filter((function(e){var t=e.getAttribute("media");return!t||"print"===t.toLowerCase()||"all"===t.toLowerCase()})).map((function(e){var t=e.getAttribute("href");return'<link type="text/css" rel="stylesheet" href="'.concat(t,'" >')})),this.settings.extraCss&&this.settings.extraCss.replace(/([^,\s]+)/g,(function(t){e+='<link type="text/css" rel="stylesheet" href="'+t+'">'})),"<head><title>"+this.settings.popTitle+"</title>"+e+t.join()+"</head>"}},{key:"getBody",value:function(e){var t="",n=this.settings.retainAttr,o=this.getFormData(e),r="";return n.forEach((function(e){var t=o.getAttribute(e);t&&(r+=(r.length>0?" ":"")+e+"='"+t+"'")})),"<body>"+(t+="<div "+r+">"+o.innerHTML+"</div>")+"</body>"}},{key:"getFormData",value:function(e){var t=e.cloneNode(!0),n=t.querySelectorAll("input,select,textarea");return Array.from(e.querySelectorAll("input,select,textarea")).forEach((function(e,t){var o=e.getAttribute("type");if(!o){var r=e.nodeName;o="SELECT"===r?"select":"TEXTAREA"===r?"textarea":""}var i=n[t];if("radio"===o||"checkbox"===o)i.removeAttribute("checked"),e.checked&&i.setAttribute("checked",!0);else if("text"===o||""===o)i.setAttribute("value",e.textContent);else if("select"===o){var a=e.querySelectorAll("option"),s=i.querySelectorAll("option");Array.from(a).forEach((function(e,t){s[t].removeAttribute("selected"),e.selected&&s[t].setAttribute("selected",!0)}))}else"textarea"===o&&(i.textContent=e.value)})),t}},{key:"getPrintWindow",value:function(){switch(this.settings.mode){case this.modes.iframe:var e=this.Iframe();return{win:e.contentWindow||e,doc:e.doc};case this.modes.popup:var t=this.Popup();return{win:t,doc:t.doc}}}},{key:"Iframe",value:function(){var e,t=this.settings.id;try{e=document.createElement("iframe"),document.body.appendChild(e),e.setAttribute("style","border:0;position:absolute;width:0px;height:0px;right:0px;top:0px;"),e.setAttribute("id",t),e.setAttribute("src","#"+(new Date).getTime()),e.doc=null,e.doc=e.contentDocument?e.contentDocument:e.contentWindow?e.contentWindow.document:e.document}catch(e){throw e+". iframes may not be supported in this browser."}if(null==e.doc)throw"Cannot find document.";return e}},{key:"Popup",value:function(){var e="location=yes,statusbar=no,directories=no,menubar=no,titlebar=no,toolbar=no,dependent=no";e+=",width="+this.settings.popWd+",height="+this.settings.popHt,e+=",resizable=yes,screenX="+this.settings.popX+",screenY="+this.settings.popY+",personalbar=no,scrollbars=yes";var t=window.open("","_blank",e);return t.doc=t.document,t}}])&&e(n.prototype,o),r&&e(n,r),t}();return window.PrintArea=t,t}()},function(e,t,n){"use strict";n.r(t);var o,r=n(15),i=n(31),a=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e){function t(t){var n=e.call(this,r.COLLABORATION_ACTION.CREATE_ANNOT)||this;return n.pdfViewer=t,n}return a(t,e),t.prototype.receive=function(e,t){var n=this.pdfViewer.getCurrentPDFDoc(),o=e.data.annots.filter((function(e){return"link"!==e.type&&"screen"!==e.type}));return n.importAnnotsFromJSON(o)},t}(i.a);t.default=s},function(e,t,n){"use strict";n.r(t);var o,r=n(30),i=n.n(r),a=n(15),s=n(31),c=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),u=function(e){function t(t){var n=e.call(this,a.COLLABORATION_ACTION.REMOVE_ANNOT)||this;return n.pdfViewer=t,n}return c(t,e),t.prototype.receive=function(e,t){var n=this.pdfViewer.getCurrentPDFDoc();return Promise.all(e.data.map((function(e){return n.getPageByIndex(e.pageIndex).then((function(t){return t.removeAnnotById(e.annotId)}))}))).then(i.a)},t}(s.a);t.default=u},function(e,t,n){"use strict";n.r(t);var o,r=n(15),i=n(31),a=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e){function t(t){var n=e.call(this,r.COLLABORATION_ACTION.UPDATE_ANNOT)||this;return n.pdfViewer=t,n}return a(t,e),t.prototype.receive=function(e,t){var n=this,o=this.pdfViewer.getCurrentPDFDoc(),r=e.data.annots.filter((function(e){return"link"!==e.type&&"screen"!==e.type}));return o.importAnnotsFromJSON(r).then((function(e){r.forEach((function(e){var t=n.pdfViewer.getAnnotRender(e.page,e.name);t&&t.redraw(!1,!0)}))}))},t}(i.a);t.default=s},function(e,t,n){"use strict";n.r(t);var o,r=n(15),i=n(31),a=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e){function t(t){var n=e.call(this,r.COLLABORATION_ACTION.PPO_INSERT_PAGE)||this;return n.pdfViewer=t,n}return a(t,e),t.prototype.receive=function(e,t){var n=this.pdfViewer.getCurrentPDFDoc(),o=e.data,r=o.pageIndex,i=o.width,a=o.height;return n.insertPage(r,i,a)},t}(i.a);t.default=s},function(e,t,n){"use strict";n.r(t);var o,r=n(15),i=n(31),a=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e){function t(t){var n=e.call(this,r.COLLABORATION_ACTION.PPO_REMOVE_PAGE)||this;return n.pdfViewer=t,n}return a(t,e),t.prototype.receive=function(e,t){return this.pdfViewer.getCurrentPDFDoc().removePage(e.data.pageIndex)},t}(i.a);t.default=s},function(e,t,n){"use strict";n.r(t);var o,r=n(15),i=n(31),a=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e){function t(t){var n=e.call(this,r.COLLABORATION_ACTION.PPO_ROTATE_PAGE)||this;return n.pdfViewer=t,n}return a(t,e),t.prototype.receive=function(e,t){var n=this.pdfViewer.getCurrentPDFDoc(),o=Math.floor((e.data.angle%360+360)%360/90)%4;return n.getPageByIndex(e.data.pageIndex).then((function(e){return e.setRotation(o)}))},t}(i.a);t.default=s},function(e,t,n){"use strict";n.r(t);var o,r=n(15),i=n(31),a=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e){function t(t){var n=e.call(this,r.COLLABORATION_ACTION.PPO_MOVE_PAGE)||this;return n.pdfViewer=t,n}return a(t,e),t.prototype.receive=function(e,t){var n=this,o=this.pdfViewer.getCurrentPDFDoc(),r=e.data,i=r.sourceIndex,a=r.destIndex;return o.movePageTo(i,a).then((function(){n.pdfViewer.goToPage(a,0,0,!1)}))},t}(i.a);t.default=s},function(e,t,n){"use strict";n.r(t);var o,r=n(15),i=n(31),a=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a},c=function(e){function t(t){var n=e.call(this,r.COLLABORATION_ACTION.ADD_REPLY)||this;return n.pdfViewer=t,n}return a(t,e),t.prototype.receive=function(e,t){var n=e.data,o=n.pageIndex,r=n.annotId,i=n.reply;return this.pdfViewer.getCurrentPDFDoc().getPageByIndex(o).then((function(e){return e.getAnnotsByIdArray([r])})).then((function(e){var t=s(e,1)[0];if(t)return t.addReply(i)}))},t}(i.a);t.default=c},function(e,t,n){"use strict";n.r(t);var o,r=n(15),i=n(31),a=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e){function t(t){var n=e.call(this,r.COLLABORATION_ACTION.REMOVE_REPLY)||this;return n.pdfViewer=t,n}return a(t,e),t.prototype.receive=function(e,t){var n=this.pdfViewer.getCurrentPDFDoc(),o=e.data,r=o.pageIndex,i=o.replyId;return n.getPageByIndex(r).then((function(e){return e.removeAnnotById(i)}))},t}(i.a);t.default=s},function(e,t,n){"use strict";n.r(t),n.d(t,"AddReviewStateCollaborationDataHandler",(function(){return c}));var o,r=n(15),i=n(31),a=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a},c=function(e){function t(t){var n=e.call(this,r.COLLABORATION_ACTION.ADD_REVIEW_STATE)||this;return n.pdfViewer=t,n}return a(t,e),t.prototype.receive=function(e,t){var n=e.data,o=n.pageIndex,r=n.annotId,i=n.stateAnnotJSON;return this.pdfViewer.getCurrentPDFDoc().getPageByIndex(o).then((function(e){return e.getAnnotsByIdArray([r])})).then((function(e){var t=s(e,1)[0];if(t)return t.addReviewState(i)}))},t}(i.a)},function(e,t,n){"use strict";n.r(t);var o,r=n(15),i=n(31),a=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a},c=function(e){function t(t){var n=e.call(this,r.COLLABORATION_ACTION.UPDATE_ANNOT_CONTENT)||this;return n.pdfViewer=t,n}return a(t,e),t.prototype.receive=function(e,t){var n=e.data,o=n.pageIndex,r=n.annotId,i=n.content;return this.pdfViewer.getCurrentPDFDoc().getPageByIndex(o).then((function(e){return e.getAnnotsByIdArray([r])})).then((function(e){var t=s(e,1)[0];if(t)return t.setContent(i)}))},t}(i.a);t.default=c},function(e,t,n){"use strict";n.r(t);var o,r=n(15),i=n(31),a=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a},c=function(e){function t(t){var n=e.call(this,r.COLLABORATION_ACTION.MOVE_ANNOTS_BETWEEN_PAGES)||this;return n.pdfViewer=t,n}return a(t,e),t.prototype.receive=function(e,t){var n=this.pdfViewer.getCurrentPDFDoc();return Promise.all([n.getPageByIndex(e.data.fromPageIndex),n.getPageByIndex(e.data.toPageIndex)]).then((function(t){var o=s(t,2),r=o[0],i=o[1];return n.moveAnnotsToPage(r,i,e.data.annots)}))},t}(i.a);t.default=c},function(e,t,n){"use strict";n.r(t),n.d(t,"AddMarkedStateCollabroationDataHandler",(function(){return c}));var o,r=n(15),i=n(31),a=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a},c=function(e){function t(t){var n=e.call(this,r.COLLABORATION_ACTION.ADD_MARKED_STATE)||this;return n.pdfViewer=t,n}return a(t,e),t.prototype.receive=function(e,t){var n=e.data,o=n.pageIndex,r=n.annotId,i=n.stateAnnotJSON;return this.pdfViewer.getCurrentPDFDoc().getPageByIndex(o).then((function(e){return e.getAnnotsByIdArray([r])})).then((function(e){var t=s(e,1)[0];if(t)return t.addMarkedState(i)}))},t}(i.a)},function(e,t,n){"use strict";n.r(t),n.d(t,"ImportAnnotationsFileCollaborationDataHandler",(function(){return s}));var o,r=n(15),i=n(31),a=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e){function t(t){var n=e.call(this,r.COLLABORATION_ACTION.IMPORT_ANNOTATIONS_FILE)||this;return n.pdfViewer=t,n}return a(t,e),t.prototype.receive=function(e,t){for(var n=e.data.file,o=atob(n),r=new Uint8Array(new ArrayBuffer(o.length)),i=0;i<o.length;i++)r[i]=o.charCodeAt(i);return this.pdfViewer.getCurrentPDFDoc().importAnnotsFromFDF(r)},t}(i.a)},function(e,t){},function(e,t,n){"use strict";var o=s(n(6)),r=s(n(1095)),i=s(n(471)),a=s(n(1096));function s(e){return e&&e.__esModule?e:{default:e}}var c=o.default.root().getRegistry();c.registerLayout(r.default),c.registerLayout(i.default),c.registerLayout(a.default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(118),i=(o=r)&&o.__esModule?o:{default:o},a=n(8);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.orientation,r=void 0===o?a.ORIENTATION_HORIZONTAL:o,i=n.spaces,u=void 0===i?[]:i;s(this,t);var l=c(this,e.call(this));return l.orientation=r,l.spaces=u,l}return u(t,e),t.getName=function(){return"border"},t.prototype.render=function(e,t){if(e&&!(e.length<1)){var n=this.spaces;n&&0!=n.length||(n=this.elements.map((function(e){return 1})));var o=document.createElement("div");o.classList.add("fv__layout-border",this.orientation);var r=e.map((function(e,t){var o=document.createElement("div");o.classList.add("fv__layout-border-item");var r=n[t]||n[t%n.length];return o.style.flex=r,o.style.webkitFlex=r,o.style.msFlex=r,o.appendChild(e),o}));o.append.apply(o,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(r)),t.appendChild(o)}},t}(i.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AUTO=void 0;var o=i(n(118)),r=i(n(421));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=t.AUTO="auto",l=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.cols,r=void 0===o?u:o,i=n.gaph,c=void 0===i?"no":i,l=n.gapv,f=void 0===l?"no":l;a(this,t);var p=s(this,e.call(this));return p.cols=r,p.gapv=f,p.gaph=c,p}return c(t,e),t.getName=function(){return"grid"},t.prototype.render=function(e,t,n){(0,r.default)()},t}(o.default);t.default=l},function(e,t,n){"use strict";var o,r=n(6),i=(o=r)&&o.__esModule?o:{default:o};n(472);var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1174));var s=i.default.root().getRegistry();for(var c in a)s.registerComponent(a[c])},function(e,t){},function(e,t,n){"use strict";function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.filterByName=function(e){return function(t){return t.name===e}};var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$children=[]}return e.prototype.size=function(){return this.$children.length},e.prototype.append=function(e){return this.insert(e,this.size())},e.prototype.prepend=function(e){return this.insert(e,0)},e.prototype.insert=function(e,t){this.$children.splice(t,0,e)},e.prototype.insertAll=function(e,t){var n;(n=this.$children).splice.apply(n,[t,0].concat(o(e)));for(var r=t,i=t+e.length,a=r-1;a>=0;a--){e.indexOf(this.$children[a])>-1&&(this.$children.splice(a,1),r--,i--)}for(var s=i;s<this.$children.length;s++){e.indexOf(this.$children[s])>-1&&this.$children.splice(s,1)}},e.prototype.indexOf=function(e){return this.$children.indexOf(e)},e.prototype.children=function(){return[].concat(o(this.$children))},e.prototype.removeChild=function(e){var t=this.$children.indexOf(e);return t>-1&&(this.$children.splice(t,1),!0)},e.prototype.find=function(e){return this.$children.filter(e)},e.prototype.findFirst=function(e){var t=!0,n=!1,o=void 0;try{for(var r,i=this.$children[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var a=r.value;if(e(a))return a}}catch(e){n=!0,o=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw o}}},e.prototype.childAt=function(e){return this.$children[e]},e.prototype.each=function(e){this.$children.slice(0).forEach(e)},e.prototype.map=function(e){return this.$children.map(e)},e.prototype.eachUntil=function(e){for(var t=0;t<this.$children.length;t++){var n=e(this.$children[t],t);if(n)return n}},e.prototype.empty=function(){this.$children=[]},e}();t.default=r},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(61)),r=s(n(306)),i=s(n(13)),a=n(34);function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=function(e){function t(n,i,a,s,c,u){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return l.input=n,l.template=c,l.range=new r.default(i,a,s),l.value=l.range.min,l.prepare(),l.eventEmitter=new o.default,l.localizer=u,l}return c(t,e),t.prototype.disable=function(){this.input.setAttribute("editable","editable")},t.prototype.enable=function(){this.input.removeAttribute("editable")},t.prototype.setValue=function(e){var t=this.range;this.value=t.normalizeValue(e);var n={value:this.value,min:t.min,max:t.max,step:t.step};if("function"==typeof this.template)this.input.setAttribute("data-i18n","[value]"+this.template.call(this,e));else{var o=(this.template+"").replace(/\$\{(.*?)\}/g,(function(e,t){return n[t]||""}));this.input.setAttribute("data-i18n","[value]"+o)}this.localizer.localizeElement(this.input)},t.prototype.setTemplate=function(e){this.template=e,this.setValue(this.value)},t.prototype.getValue=function(){return this.value},t.prototype.prepare=function(){var e=this,t=this.input,n=function(){var n=e.range.normalizeValue(t.value.trim()||e.value),o=e.value;e.setValue(n),o!==e.value&&e.eventEmitter.emit("change",e.value,o)};t.addEventListener("change",n);var o=void 0;a.isIE&&(o=function(e){if(13===e.keyCode)return e.preventDefault(),n()},t.addEventListener("keydown",o)),this.addDestroyHook((function(){t.removeEventListener("change",n),t.removeEventListener("keydown",o),e.eventEmitter.removeAllListeners()}))},t}(i.default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(17)),r=n(8);function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}n(1103);i(n(9)).default.getLogger("<viewer>");var u=function(e){function t(){return a(this,t),s(this,e.apply(this,arguments))}return c(t,e),t.getName=function(){return"viewer"},t.preprocess=function(e){e.vnode.setAttribute("name",r.WEBPDF_VIEWER_COMPONENT_NAME)},t.prototype.createDOMElement=function(){return document.createElement("viewer")},t.prototype.render=function(){this.element=this.pdfUI.viewerFactory.getWrapperElement(),e.prototype.render.call(this)},t.prototype.setPDFViewer=function(e){this.pdfViewer=e},t.prototype.getPDFViewer=function(){return this.pdfViewer},t.prototype.receiveBroadcast=function(t,n){e.prototype.receiveBroadcast.call(this,t,n),t===r.COMPONENT_BROADCAST_LOCALIZE&&this.trigger("localize")},t}(o.default);t.default=u},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(27)),r=n(8),i=a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(){return s(this,t),c(this,e.apply(this,arguments))}return u(t,e),t.getName=function(){return"webpdf"},t.prototype.createDOMElement=function(){var e=document.createElement("div");return e.classList.add("fv__ui-webpdf"),e},t.prototype.mounted=function(){e.prototype.mounted.call(this);var t=this.getComponentByName(r.WEBPDF_VIEWER_COMPONENT_NAME).getPDFViewer(),n=this.getPDFUI().appearance;n.disableAll();var o=function(){n.enableAll()},a=function(){n.disableAll()};t.eventEmitter.on(i.default.willCloseDocument,a),t.eventEmitter.on(i.default.openFileSuccess,o),this.addDestroyHook((function(){t.eventEmitter.off(i.default.willCloseDocument,a),t.eventEmitter.off(i.default.openFileSuccess,o)}))},t.prototype.destroy=function(){var t=this.element.querySelectorAll("[id]");e.prototype.destroy.call(this),t.forEach((function(e){window[e.id]===e&&delete window[e.id]}))},t}(o.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(118);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.getName=function(){return"#noop#"},t.prototype.render=function(){},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(27)),r=i(n(118));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var s=function(e){function t(n,o,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n.$options,o,i));return a.parent=n,a.title=n.shrinkTitle,a.layout=new r.default,a}return a(t,e),t.prototype.createDOMElement=function(){return document.createElement("div")},t.prototype.render=function(){e.prototype.render.call(this),this.element.classList.add("fv__ui-grp-btn-list"),this.moreElement=document.createElement("a"),this.moreElement.className="fv__ui-grp-more",this.moreElement.innerHTML='\n            <i class="fv__icon-toolbar-more"></i>\n        ',this.titleElement=document.createElement("span"),this.titleElement.setAttribute("data-i18n",this.title),this.titleElement.className="fv__ui-grp-btn-list-title"},t.prototype.setShrinkTitle=function(e){"string"==typeof e&&(this.title=e,this.titleElement.innerText=e,this.titleElement.setAttribute("data-i18n",this.title),this.localizer.localizeElement(this.titleElement,{}),this.titleElement.parentElement||this.element.prepend(this.titleElement))},t.prototype.insert=function(t,n){this.$container.insert(t,n),t.parent=this.parent,e.prototype.resetDataScope.call(this),this.doInsert(t,n)},t.prototype.rerenderChildren=function(){if(!this.isDestroyed){var e=this.$container.children().reduce((function(e,t){return e.concat(t.getRenderingElements())}),this.title?[this.titleElement]:[]),t=this.$temporaries.children().reduce((function(e,t){return e.concat(t.getRenderingElements())}),[]);this.diffRenderer(this.element,e.concat(t))}},t.prototype.updateShrinkComponents=function(e){this.$container.$children=e,this.rerenderChildren()},t.prototype.mounted=function(){var e=this,t=function(t){e.isActive?e.deactive():e.active()},n=function(t){e.deactive()},o=function(t){e.parent.isShrinked&&(t.target.classList.contains("fv__icon-toolbar-caret")||t.target instanceof HTMLInputElement||t.target instanceof HTMLTextAreaElement)&&t.stopPropagation()};this.moreElement.addEventListener("click",t),document.addEventListener("mouseup",n),this.element.addEventListener("mouseup",o),this.addDestroyHook((function(){e.moreElement.removeEventListener("click",t)}),(function(){document.removeEventListener("mouseup",n),e.element.removeEventListener("mouseup",o)}))},t.prototype.doActive=function(){this.element.classList.add("active"),this.moreElement.classList.add("active");var e=this.moreElement.getBoundingClientRect();this.element.style.cssText+="\n            left: "+e.left+"px;\n            top: "+e.bottom+"px;\n        "},t.prototype.doDeactive=function(){this.element.classList.remove("active"),this.moreElement.classList.remove("active")},t}(o.default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(27)),r=(a(n(471)),a(n(474)));n(1108);var i=n(8);function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(n,o,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r))}return s(t,e),t.getName=function(){return"group-list"},t.getMetadata=function(){return{options:{"shrink-size":{type:"number",field:"shrinkSize",defaultValue:1024}}}},t.prototype.getContainerElement=function(){return this.element},t.prototype.render=function(){e.prototype.render.call(this),this.element.classList.add("fv__ui-grouplist",i.ORIENTATION_HORIZONTAL)},t.prototype.createDOMElement=function(){return document.createElement("div")},t.prototype.insert=function(t,n,o){if(t instanceof r.default||t.isIgnorable())return e.prototype.insert.call(this,t,n);if("string"!=typeof t)throw new Error("child of <group-list> component must be <group> but actual <"+t.viewConfig.nodeName+">");var i=this.context.parser.parse(t,o);try{return this.insert(i,n)}finally{this.isMounted&&i.mounted()}},t}(o.default);t.default=c},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(27));n(1110);r(n(118));function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=function(e){function t(n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r));return i.lastActiveTab=null,i}return i(t,e),t.getName=function(){return"tabs"},t.prototype.rerenderChildren=function(){if(!this.isDestroyed){var e=this.children(),t=e.map((function(e){return e.tabElement})),n=e.map((function(e){return e.getContainerElement()}));this.diffRenderer(this.tabContainer,t),this.diffRenderer(this.tabBodyContainer,n)}},t.prototype.active=function(){this.isVisible&&e.prototype.active.call(this)},t.prototype.render=function(){e.prototype.render.call(this),this.element.classList.add("fv__ui-tab"),this.tabContainer=document.createElement("ul"),this.tabBodyContainer=document.createElement("div"),this.tabContainer.classList.add("fv__ui-tab-nav"),this.tabBodyContainer.classList.add("fv__ui-tab-body"),this.element.appendChild(this.tabContainer),this.element.appendChild(this.tabBodyContainer)},t.prototype.postlink=function(){var e=this.$container.findFirst((function(e){return e.getConfig("active")}));e||(e=this.$container.findFirst((function(e){return e.isVisible}))),e&&e.active()},t}(o.default);t.default=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(27),i=(o=r)&&o.__esModule?o:{default:o},a=n(5);function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r));return i.title=n.title||i.attrs.title,i.iconCls=n.iconCls||i.attrs["icon-cls"]||i.attrs["icon-class"],delete i.attrs.title,i}return s(t,e),t.getName=function(){return"tab"},t.prototype.render=function(){e.prototype.render.call(this);var t=this.tabElement||document.createElement("li");t.innerHTML="\n            "+(this.iconCls?'<i class="fv__ui-tab-icon '+(this.iconCls||"")+'"></i>':"")+'\n            <span data-i18n="'+(this.title||"")+'"></span>\n        ',this.tabElement=t},t.prototype.doActive=function(){this.tabElement.classList.add("active"),this.element.classList.add("active");var e=this.parent;e&&(e.lastActiveTab&&e.lastActiveTab!==this&&e.lastActiveTab.deactive(),e.lastActiveTab=this),this.broadcast("active",this)},t.prototype.doDeactive=function(){this.tabElement.classList.remove("active"),this.element.classList.remove("active")},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this),this.tabElement.addEventListener("click",(function(e){t.disabled||t.active(),e.stopPropagation(),e.preventDefault(),t.viewer?t.viewer.eventEmitter.emit(a.Events.toolbarTabsClicked):t.pdfUI.getPDFViewer().then((function(e){t.viewer=e,e.eventEmitter.emit(a.Events.toolbarTabsClicked)}))}))},t.prototype.remove=function(){this.parent&&(this.isActive&&this._activeSibling(),e.prototype.remove.call(this))},t.prototype._activeSibling=function(){for(var e=this.nextSiblings();e&&!e.isVisible;)if((e=e.nextSiblings())||(e=this.parent.first()),e===this)return void(this.parent.first()&&this.parent.first().active());e&&e.active()},t.prototype.removeElement=function(){e.prototype.removeElement.call(this),this.tabElement.remove()},t.prototype.doHidden=function(){e.prototype.doHidden.call(this),this.tabElement.classList.add("fv__ui-hide"),this.isActive&&this._activeSibling()},t.prototype.doShown=function(){e.prototype.doShown.call(this),this.tabElement.classList.remove("fv__ui-hide")},t.prototype.updateActiveStatus=function(){var e=this.active,t=this.$options.active;"function"==typeof t&&(e=t.call(this)),!1===e||this.active()},t.prototype.addCSSClass=function(t){t&&(e.prototype.addCSSClass.call(this,t),this.tabElement.classList.add(t))},t.prototype.removeCSSClass=function(t){t&&(e.prototype.removeCSSClass.call(this,t),this.tabElement.classList.remove(t))},t}(i.default);t.default=c},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={cipherNone:0,cipherRC4:1,cipherAES:2}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=f(n(275)),r=f(n(408)),i=f(n(174)),a=f(n(272)),s=f(n(407)),c=f(n(406)),u=f(n(273)),l=f(n(274));function f(e){return e&&e.__esModule?e:{default:e}}t.default={ResetFormAction:s.default,URIAction:a.default,JavaScriptAction:i.default,HideAction:r.default,GoToAction:o.default,SubmitFormAction:c.default,LaunchAction:u.default,ImportDataAction:l.default}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});o(n(304)),o(n(19)),o(n(4)),n(39),o(n(73)),o(n(32)),o(n(468)),o(n(174));function o(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.engine=t,this.api=t.api}return e.prototype.combineFormsToCSV=function(e,t){return this.api.combineFormsToCSV(e,t)},e.prototype.destroy=function(){this.engine=null,this.api=null},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(1117),i=(o=r)&&o.__esModule?o:{default:o};function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}t.default=function(e){return function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o));return r.api=new i.default(n),r}return a(t,e),t.prototype.registerSecurityCallback=function(e,t){return this.api.registerSecurityCallback(e,t)},t.prototype.setFontMap=function(e){return this.api.setFontMap(e)},t.prototype.setWatermarkFontMap=function(e){return this.api.setWatermarkFontMap(e)},t.prototype.setJPXDownSample=function(e){return this.api.setJPXDownSample(e)},t}(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(464)),r=s(n(479)),i=n(1118),a=n(34);function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}function l(e){var t=[];return e instanceof ArrayBuffer&&(t=[e]),t}var f="FoxitPDFSDKForWeb_JREngineCache_",p=f+"wasmBinary",d=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=c(this,e.call(this,n)),s=void 0;if(s=n.readyWorker){o.readyWorker=s,h(o.workerPromise=new r.default(s.worker));var u=function(){n.licenseSN=n.licenseKey=n.l=""};return s.initJREnginePromise.then(u,u),c(o)}var l=n.workerPath,f=n.workerBlobUrl;"/"!==l[l.length-1]&&(l+="/");var p=o.workerUrl=l+"WebPDFJRWorker.js?h="+i.h,d=f||p,g=new Worker(d);return a.isIE&&(g.terminate(),g=new Worker(d)),h(o.workerPromise=new r.default(g)),o}return u(t,e),t.prototype.init=function(){var e=void 0;if(e=this.readyWorker)return new Promise((function(t,n){return e.initJREnginePromise.then(t,n)}));var t={},n=void 0;(n=localStorage.getItem(p))&&(t.wasmBinary=n),(n=localStorage.getItem("FoxitPDFSDKForWeb_JREngineCache_asmMem"))&&(t.asmMem=n),(n=localStorage.getItem("FoxitPDFSDKForWeb_JREngineCache_asmJs"))&&(t.asmJs=n);var o=this.option,r=this.workerPromise;return o.cache=t,o.compatibilityURL=r.calls((function(e){return URL.createObjectURL(e)})),o.d=location.href,r.emit("initJREngine",o).then((function(e){return o.licenseSN=o.licenseKey=o.l="",e}))},t.prototype.on=function(e,t){return this.workerPromise.on(e,t)},t.prototype.off=function(e,t){return this.workerPromise.off(e,t)},t.prototype.continueProgress=function(e){return this.workerPromise.emit("progressContinue",{progressiveId:e})},t.prototype.cancleProgress=function(e){return this.workerPromise.emit("cancleProgress",{progressiveId:e})},t.prototype.getPDFDocIdByFile=function(e){var t=l(e);return this.workerPromise.emit("getPDFDocByFile",{file:e},t)},t.prototype.createNewDoc=function(e,t,n){return this.workerPromise.emit("createNewDoc",{title:e,author:t,pageSize:n})},t.prototype.getPDFDocIdByChunk=function(e,t){var n=this.workerPromise.calls(t);return this.workerPromise.emit("getPDFDocAsync",{size:e,getChunk:n})},t.prototype.getPDFDocIdByHttpRangeRequest=function(e){return this.workerPromise.emit("getPDFDocIdByHttpRangeRequest",{size:e.size,range:e.range})},t.prototype.getPDFDocIdByArrayBuffer=function(e){return this.workerPromise.emit("getPDFDocByArrayBuffer",{buffer:e},[e])},t.prototype.setIcons=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.workerPromise.emit("setIcons",{icons:e})},t.prototype.addIcon=function(e){return this.workerPromise.emit("addIcon",{icon:e})},t.prototype.removeIcon=function(e,t,n){return this.workerPromise.emit("removeIcon",{type:e,catalog:t,name:n})},t.prototype.parsePDFDocByPassword=function(e,t,n){var o=[],r=n.fdf;return r&&r.file instanceof ArrayBuffer&&(o=[r.file]),this.workerPromise.emit("parsePDFDocByPassword",{id:e,password:t,initData:n},o)},t.prototype.getPDFDocInfoById=function(e){return this.workerPromise.emit("getPDFDocInfoById",e)},t.prototype.getMetadata=function(e){return this.workerPromise.emit("getMetadata",e)},t.prototype.setMetadataValue=function(e,t,n){return this.workerPromise.emit("setMetadataValue",{id:e,key:t,value:n})},t.prototype.getFileVersion=function(e){return this.workerPromise.emit("getFileVersion",e)},t.prototype.isLinearized=function(e){return this.workerPromise.emit("isLinearized",{docId:e})},t.prototype.loadForm=function(e){return this.workerPromise.emit("loadForm",{docId:e})},t.prototype.updateFormControl=function(e,t,n,o,r){return this.workerPromise.emit("updateFormControl",{docId:e,fieldName:t,objectNumber:n,key:o,value:r})},t.prototype.updateField=function(e,t,n,o){return this.workerPromise.emit("updateField",{docId:e,title:t,key:n,value:o})},t.prototype.updateMKProperty=function(e,t,n,o,r){return this.workerPromise.emit("updateMKProperty",{docId:e,pageId:t,annotId:n,key:o,value:r})},t.prototype.setWidgetAS=function(e,t,n,o){return this.workerPromise.emit("setWidgetAS",{docId:e,pageId:t,annotId:n,AS:o})},t.prototype.setFieldValue=function(e,t,n){return this.workerPromise.emit("setFieldValue",{docId:e,title:t,value:n})},t.prototype.formFillerEvent=function(e,t,n,o){return this.workerPromise.emit("formFillerEvent",{docId:e,type:t,pageIndex:n,point:o})},t.prototype.getFieldsValue=function(e){return this.workerPromise.emit("getFieldsValue",{docId:e})},t.prototype.addControl=function(e,t,n,o,r,i){return this.workerPromise.emit("addControl",{docId:e,pageIndex:t,fieldName:n,fieldType:o,rect:r,options:i})},t.prototype.validateFieldName=function(e,t,n){return this.workerPromise.emit("validateFieldName",{docId:e,fieldName:t,fieldType:n})},t.prototype.renameField=function(e,t,n){return this.workerPromise.emit("renameField",{docId:e,fieldName:t,newName:n})},t.prototype.removeField=function(e,t){return this.workerPromise.emit("removeField",{docId:e,fieldName:t})},t.prototype.removeControl=function(e,t,n,o){return this.workerPromise.emit("removeControl",{docId:e,fieldName:n,pageIndex:t,controlObjectNumber:o})},t.prototype.fixPageFields=function(e,t){return this.workerPromise.emit("fixPageFields",{docId:e,pageIndex:t})},t.prototype.copyControls=function(e,t,n,o){return this.workerPromise.emit("copyControls",{docId:e,pageIndex:t,dstPageIndex:n,controls:o})},t.prototype.getControlPageIndex=function(e,t,n){return this.workerPromise.emit("getControlPageIndex",{docId:e,fieldName:t,objectNumber:n})},t.prototype.getPageInfoByIndex=function(e,t){return this.workerPromise.emit("getPageInfoByIndex",{id:e,index:t})},t.prototype.setRenderFlag=function(e,t){return this.workerPromise.emit("setRenderFlag",{docId:e,flags:t})},t.prototype.getPageBitmap=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:["page"],a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"view",s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"";return this.workerPromise.emit("getPageBitmap",{docId:e,pageId:t,scale:n,rotate:o,rect:r,flags:i,usage:a,id:s})},t.prototype.getPageAndHighlightBitmap=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments[4],i=arguments[5];return this.workerPromise.emit("getPageAndHighlightBitmap",{docId:e,pageId:t,scale:n,rotate:o,rect:r,exclude:i})},t.prototype.clearDesignerAssitCache=function(e,t){return this.workerPromise.emit("clearDesignerAssitCache",{docId:e,pageId:t})},t.prototype.getAnnotBitmapByRange=function(e,t,n,o,r,i){return this.workerPromise.emit("getAnnotBitmapByRange",{docId:e,pageId:t,range:n,scale:o,rotate:r,rect:i})},t.prototype.getAnnot=function(e,t,n){return this.workerPromise.emit("getAnnot",{docId:e,pageId:t,annotId:n})},t.prototype.getPageAnnotIDList=function(e,t){return this.workerPromise.emit("getPageAnnotIDList",{docId:e,pageId:t})},t.prototype.getAnnots=function(e,t,n){return this.workerPromise.emit("getAnnots",{docId:e,pageId:t,idList:n})},t.prototype.getAnnotBitmap=function(e,t,n,o,r,i){return this.workerPromise.emit("getAnnotBitmap",{docId:e,pageId:t,annotId:n,scale:o,rotate:r,rect:i})},t.prototype.getAnnotIdAtPoint=function(e,t,n,o){var r=n.x,i=n.y;return this.workerPromise.emit("getAnnotIdAtPoint",{docId:e,pageId:t,points:{x:r,y:i},tolerance:o})},t.prototype.getAnnotIdAtDevicePoint=function(e,t,n,o,r){var i=n.x,a=n.y;return this.workerPromise.emit("getAnnotIdAtDevicePoint",{docId:e,pageId:t,points:{x:i,y:a},tolerance:o,matrix:r})},t.prototype.getCharInfoAtPoint=function(e,t,n,o){var r=n.x,i=n.y;return this.workerPromise.emit("getCharInfoAtPoint",{docId:e,pageId:t,points:{x:r,y:i},tolerance:o})},t.prototype.getThumb=function(e,t,n){return this.workerPromise.emit("getThumb",{docId:e,pageId:t,rotate:n})},t.prototype.movePageTo=function(e,t,n){return this.workerPromise.emit("movePageTo",{docId:e,pageId:t,destIndex:n})},t.prototype.insertPage=function(e,t,n,o){return this.workerPromise.emit("insertPage",{docId:e,pageIndex:t,width:n,height:o})},t.prototype.removePage=function(e,t){return this.workerPromise.emit("removePage",{docId:e,pageIndex:t})},t.prototype.updateAnnotQuadPointsByCharIndex=function(e,t,n,o,r){return this.workerPromise.emit("updateAnnotQuadPointsByCharIndex",{docId:e,pageId:t,annotId:n,startCharIndex:o,endCharIndex:r})},t.prototype.setAnnotContent=function(e,t,n,o){return this.workerPromise.emit("setAnnotContent",{docId:e,pageId:t,annotId:n,content:o})},t.prototype.setAnnotBorderColor=function(e,t,n,o){return this.workerPromise.emit("setAnnotBorderColor",{docId:e,pageId:t,annotId:n,color:o})},t.prototype.setAnnotBorderStyle=function(e,t,n,o,r){return this.workerPromise.emit("setAnnotBorderStyle",{docId:e,pageId:t,annotId:n,style:o,styleParam:r})},t.prototype.setAnnotBorderWidth=function(e,t,n,o){return this.workerPromise.emit("setAnnotBorderWidth",{docId:e,pageId:t,annotId:n,width:o})},t.prototype.setAnnotFillColor=function(e,t,n,o){return this.workerPromise.emit("setAnnotFillColor",{docId:e,pageId:t,annotId:n,color:o})},t.prototype.setAnnotBorderInfo=function(e,t,n,o){return this.workerPromise.emit("setAnnotBorderInfo",{docId:e,pageId:t,annotId:n,borderInfo:o})},t.prototype.setRedactApplyFillColor=function(e,t,n,o){return this.workerPromise.emit("setRedactApplyFillColor",{docId:e,pageId:t,annotId:n,color:o})},t.prototype.setAnnotOpacity=function(e,t,n,o){return this.workerPromise.emit("setAnnotOpacity",{docId:e,pageId:t,annotId:n,opacity:o})},t.prototype.setAnnotRotation=function(e,t,n,o){return this.workerPromise.emit("setAnnotRotation",{docId:e,pageId:t,annotId:n,rotation:o})},t.prototype.removeAnnot=function(e,t,n){return this.workerPromise.emit("removeAnnot",{docId:e,pageId:t,annotId:n})},t.prototype.annotAddReply=function(e,t,n,o){return this.workerPromise.emit("annotAddReply",{docId:e,pageId:t,annotId:n,content:o})},t.prototype.setAnnotRect=function(e,t,n,o){return this.workerPromise.emit("setAnnotRect",{docId:e,pageId:t,annotId:n,rect:o})},t.prototype.getAnnotInnerRect=function(e,t,n){return this.workerPromise.emit("getAnnotInnerRect",{docId:e,pageId:t,annotId:n})},t.prototype.moveAnnotTo=function(e,t,n,o){return this.workerPromise.emit("moveAnnotTo",{docId:e,pageId:t,annotId:n,position:o})},t.prototype.getPDFDocStream=function(e,t,n){var o=this.workerPromise.calls(t);return this.workerPromise.emit("getPDFDocStream",{docId:e,writeStream:o,flag:n})},t.prototype.setAnnotIconName=function(e,t,n,o){return this.workerPromise.emit("setAnnotIconName",{docId:e,pageId:t,annotId:n,iconName:o})},t.prototype.getFileattachmentStream=function(e,t,n,o){var r=this.workerPromise.calls(o);return this.workerPromise.emit("getFileattachmentStream",{docId:e,pageId:t,annotId:n,writeStream:r})},t.prototype.setAnnotEndingStyle=function(e,t,n,o,r){return this.workerPromise.emit("setAnnotEndingStyle",{docId:e,pageId:t,annotId:n,isBeginning:o,style:r})},t.prototype.enableLineCaption=function(e,t,n,o){return this.workerPromise.emit("enableLineCaption",{docId:e,pageId:t,annotId:n,enable:o})},t.prototype.setLineStartPoint=function(e,t,n,o,r){return this.workerPromise.emit("setLineStartPoint",{docId:e,pageId:t,annotId:n,x:o,y:r})},t.prototype.setLineEndPoint=function(e,t,n,o,r){return this.workerPromise.emit("setLineEndPoint",{docId:e,pageId:t,annotId:n,x:o,y:r})},t.prototype.setAnnotLeaderLineLength=function(e,t,n,o){return this.workerPromise.emit("setAnnotLeaderLineLength",{docId:e,pageId:t,annotId:n,length:o})},t.prototype.updateAnnotVertexes=function(e,t,n,o,r,i){return this.workerPromise.emit("updateAnnotVertexes",{docId:e,pageId:t,annotId:n,pointIndex:o,x:r,y:i})},t.prototype.setAnnotVertexes=function(e,t,n,o){return this.workerPromise.emit("setAnnotVertexes",{docId:e,pageId:t,annotId:n,vertexes:o})},t.prototype.setHighlightingMode=function(e,t,n,o){return this.workerPromise.emit("setHighlightingMode",{docId:e,pageId:t,annotId:n,highlightingMode:o})},t.prototype.setAnnotAPBitmap=function(e,t,n,o,r){return this.workerPromise.emit("setAnnotAPBitmap",{docId:e,pageId:t,annotId:n,url:o,size:r})},t.prototype.setAnnotInnerRect=function(e,t,n,o){var r=o.left,i=o.right,a=o.top,s=o.bottom;return this.workerPromise.emit("setAnnotInnerRect",{docId:e,pageId:t,annotId:n,rect:{left:r,right:i,top:a,bottom:s}})},t.prototype.setCalloutLineEndingStyle=function(e,t,n,o){return this.workerPromise.emit("setCalloutLineEndingStyle",{docId:e,pageId:t,annotId:n,endingStyle:o})},t.prototype.setAction=function(e,t,n,o,r,i){return this.workerPromise.emit("setAction",{docId:e,pageId:t,annotId:n,type:o,trigger:r,append:i})},t.prototype.removeAction=function(e,t,n,o,r,i){return this.workerPromise.emit("removeAction",{docId:e,pageId:t,annotId:n,trigger:o,parentObject:r,objectNumber:i})},t.prototype.setDefaultAppearance=function(e,t,n,o){return this.workerPromise.emit("setDefaultAppearance",{docId:e,pageId:t,annotId:n,da:o})},t.prototype.removeAnnotAction=function(e,t,n){return this.workerPromise.emit("removeAnnotAction",{docId:e,pageId:t,annotId:n})},t.prototype.getAction=function(e,t,n){return this.workerPromise.emit("getAction",{docId:e,pageId:t,annotId:n})},t.prototype.setActionDataByIndex=function(e,t,n,o,r){return this.workerPromise.emit("setActionDataByIndex",{docId:e,pageId:t,annotId:n,data:o,actionIndex:r})},t.prototype.setCalloutLinePoints=function(e,t,n,o){return this.workerPromise.emit("setCalloutLinePoints",{docId:e,pageId:t,annotId:n,calloutLinePoints:o})},t.prototype.setSubject=function(e,t,n,o){return this.workerPromise.emit("setSubject",{docId:e,pageId:t,annotId:n,subject:o})},t.prototype.setTitle=function(e,t,n,o){return this.workerPromise.emit("setTitle",{docId:e,pageId:t,annotId:n,title:o})},t.prototype.setCreateDateTime=function(e,t,n,o){return this.workerPromise.emit("setCreateDateTime",{docId:e,pageId:t,annotId:n,date:o})},t.prototype.setModifiedDateTime=function(e,t,n,o){return this.workerPromise.emit("setModifiedDateTime",{docId:e,pageId:t,annotId:n,date:o})},t.prototype.setUniqueId=function(e,t,n,o){return this.workerPromise.emit("setUniqueId",{docId:e,pageId:t,annotId:n,newId:o})},t.prototype.setDefaultAp=function(e,t,n,o){return this.workerPromise.emit("setDefaultAp",{docId:e,pageId:t,annotId:n,defaultAppearance:o})},t.prototype.setAlignment=function(e,t,n,o){return this.workerPromise.emit("setAlignment",{docId:e,pageId:t,annotId:n,value:o})},t.prototype.setAnnotFlag=function(e,t,n,o){return this.workerPromise.emit("setAnnotFlag",{docId:e,pageId:t,annotId:n,flag:o})},t.prototype.importFromFDF=function(e,t,n){var o=l(t);return this.workerPromise.emit("importFromFDF",{docId:e,fdf:t,dataType:n},o)},t.prototype.importFromFDFFile=function(e,t,n,o){return this.workerPromise.emit("importFromFDFFile",{docId:e,file:t,size:n,type:o})},t.prototype.exportToFDF=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.workerPromise.emit("exportToFDF",{docId:e,fileType:t,dataType:n,pageAnnots:o})},t.prototype.addAnnot=function(e,t,n){return this.workerPromise.emit("addAnnot",{docId:e,pageId:t,annot:n})},t.prototype.markRedactAnnot=function(e,t,n,o){return this.workerPromise.emit("markRedactAnnot",{docId:e,pageId:t,rects:n,annot:o})},t.prototype.redactApply=function(e,t,n){return this.workerPromise.emit("redactApply",{docId:e,pageId:t,annotId:n})},t.prototype.applyRedaction=function(e){return this.workerPromise.emit("applyRedaction",{docId:e})},t.prototype.addAnnotGroup=function(e,t,n,o){return this.workerPromise.emit("addAnnotGroup",{docId:e,pageId:t,annots:n,headerIndex:o})},t.prototype.getBookmarks=function(e){return this.workerPromise.emit("getBookmarks",{docId:e})},t.prototype.createRootBookmark=function(e){return this.workerPromise.emit("createRootBookmark",{docId:e})},t.prototype.insertBookmark=function(e,t,n,o,r,i,a){return this.workerPromise.emit("insertBookmark",{docId:e,pbkId:t,title:n,pageIndex:o,top:r,left:i,relationship:a})},t.prototype.setBookmarkProperty=function(e,t,n){return this.workerPromise.emit("setBookmarkProperty",{docId:e,bkId:t,properties:n})},t.prototype.removeBookmark=function(e,t){return this.workerPromise.emit("removeBookmark",{docId:e,bkId:t})},t.prototype.getLayerNodes=function(e){return this.workerPromise.emit("getLayerNodes",{docId:e})},t.prototype.setLayerNodeVisiable=function(e,t,n){return this.workerPromise.emit("setLayerNodeVisiable",{docId:e,layerId:t,visiable:n})},t.prototype.getTextRectsAtRect=function(e,t,n){return this.workerPromise.emit("getTextRectsAtRect",{docId:e,pageId:t,rect:n})},t.prototype.getTextContinuousRectsAtRect=function(e,t,n){return this.workerPromise.emit("getTextContinuousRectsAtRect",{docId:e,pageId:t,rect:n})},t.prototype.getTextContinuousRectsAtPoints=function(e,t,n,o,r,i,a){return this.workerPromise.emit("getTextContinuousRectsAtPoints",{docId:e,pageId:t,point1:n,point2:o,tolerance:r,start:i,end:a})},t.prototype.getTextContinuousCharsAtRect=function(e,t,n){return this.workerPromise.emit("getTextContinuousCharsAtRect",{docId:e,pageId:t,rect:n})},t.prototype.getTextSearch=function(e,t,n,o){return this.workerPromise.emit("getTextSearch",{docId:e,pageId:t,pattern:n,flags:o})},t.prototype.textSearchFindNext=function(e){return this.workerPromise.emit("textSearchFindNext",{id:e})},t.prototype.textSearchFindPrev=function(e){return this.workerPromise.emit("textSearchFindPrev",{id:e})},t.prototype.textSearchDestroy=function(e){return this.workerPromise.emit("textSearchDestroy",{id:e})},t.prototype.registerSecurityCallback=function(e,t){return this.workerPromise.emit("registerSecurityCallback",{type:e,options:t})},t.prototype.destroyDoc=function(e){return this.workerPromise.emit("destroyDoc",{id:e})},t.prototype.destroyPage=function(e,t){return this.workerPromise.emit("destroyPage",{docId:e,pageId:t})},t.prototype.setDocOpenAction=function(e,t){return this.workerPromise.emit("setDocOpenAction",{docId:e,type:t})},t.prototype.setDocActionData=function(e,t,n){return this.workerPromise.emit("setDocActionData",{docId:e,data:t,index:n})},t.prototype.moveCaretRectByCharIndex=function(e,t,n,o){return this.workerPromise.emit("moveCaretRectByCharIndex",{docId:e,pageId:t,annotId:n,charIndex:o})},t.prototype.setAnnotIntent=function(e,t,n,o){return this.workerPromise.emit("setAnnotIntent",{docId:e,pageId:t,annotId:n,intent:o})},t.prototype.setInkList=function(e,t,n,o){return this.workerPromise.emit("setInkList",{docId:e,pageId:t,annotId:n,inkList:o})},t.prototype.setUserName=function(e){return this.workerPromise.emit("setUserName",{name:e})},t.prototype.getUserName=function(){return this.workerPromise.emit("getUserName")},t.prototype.addAnnotReviewState=function(e,t,n,o){return this.workerPromise.emit("addAnnotReviewState",{docId:e,pageId:t,annotId:n,stateName:o})},t.prototype.addAnnotMarkedState=function(e,t,n,o){return this.workerPromise.emit("addAnnotMarkedState",{docId:e,pageId:t,annotId:n,stateName:o})},t.prototype.removeAllStateAnnots=function(e,t,n){return this.workerPromise.emit("removeAllStateAnnots",{docId:e,pageId:t,annotId:n})},t.prototype.setStateName=function(e,t,n,o){return this.workerPromise.emit("setStateName",{docId:e,pageId:t,stateAnnotId:n,stateName:o})},t.prototype.setNoteOpenStatus=function(e,t,n,o){return this.workerPromise.emit("setNoteOpenStatus",{docId:e,pageId:t,annotId:n,isOpen:o})},t.prototype.flatten=function(e,t,n){return this.workerPromise.emit("flatten",{docId:e,pageId:t,option:n})},t.prototype.setDynamicInfoFormula=function(e,t){return this.workerPromise.emit("setDynamicInfoFormula",{seperator:e,timeFormat:t})},t.prototype.getGraphicObjectsInfo=function(e,t){return this.workerPromise.emit("getGraphicObjectsInfo",{docId:e,pageId:t})},t.prototype.updatePageInfo=function(e,t){return this.workerPromise.emit("updatePageInfo",{docId:e,pageId:t})},t.prototype.setPageRotation=function(e,t,n){return this.workerPromise.emit("setPageRotation",{docId:e,pageId:t,rotation:n})},t.prototype.addPageImage=function(e,t,n,o,r,i,a){return this.workerPromise.emit("addPageImage",{docId:e,pageId:t,imageBuffer:n,point:o,width:r,height:i,rotation:a})},t.prototype.addWatermark=function(e,t,n){return this.workerPromise.emit("addWatermark",{docId:e,pageId:t,data:n})},t.prototype.setPasswordAndPermission=function(e,t,n,o,r,i){return this.workerPromise.emit("setPasswordAndPermission",{docId:e,userPassword:t,ownerPassword:n,permission:o,cipher:r,isEncryptMetaData:i})},t.prototype.removeSecurity=function(e){return this.workerPromise.emit("removeSecurity",{docId:e})},t.prototype.checkPassword=function(e,t){return this.workerPromise.emit("checkPassword",{docId:e,password:t})},t.prototype.getPermission=function(e){return this.workerPromise.emit("getPermission",{docId:e})},t.prototype.getStdCipherOptions=function(e){return this.workerPromise.emit("getStdCipherOptions",{docId:e})},t.prototype.getUserPassword=function(e,t){return this.workerPromise.emit("getUserPassword",{docId:e,password:t})},t.prototype.getGraphicsObjectAtPoint=function(e,t,n,o,r,i){return this.workerPromise.emit("getGraphicsObjectAtPoint",{docId:e,pageId:t,point:n,tolerance:o,type:r,rect:i})},t.prototype.setGraphicsObjectMatrix=function(e,t,n,o){return this.workerPromise.emit("setGraphicsObjectMatrix",{docId:e,pageId:t,id:n,matrix:o})},t.prototype.setGraphicsObjectRect=function(e,t,n,o){return this.workerPromise.emit("setGraphicsObjectRect",{docId:e,pageId:t,id:n,rect:o})},t.prototype.getGraphicsObjectBitmap=function(e,t,n,o,r){return this.workerPromise.emit("getGraphicsObjectBitmap",{docId:e,pageId:t,id:n,scale:o,rotation:r})},t.prototype.setGraphicsObjectBorderStyle=function(e,t,n,o,r){return this.workerPromise.emit("setGraphicsObjectBorderStyle",{docId:e,pageId:t,id:n,value:o,dashes:r})},t.prototype.setGraphicsObjectBorderWidth=function(e,t,n,o){return this.workerPromise.emit("setGraphicsObjectBorderWidth",{docId:e,pageId:t,id:n,width:o})},t.prototype.setGraphicsObjectBorderColor=function(e,t,n,o){return this.workerPromise.emit("setGraphicsObjectBorderColor",{docId:e,pageId:t,id:n,color:o})},t.prototype.setGraphicsObjectFillColor=function(e,t,n,o){return this.workerPromise.emit("setGraphicsObjectFillColor",{docId:e,pageId:t,id:n,color:o})},t.prototype.setGraphicsObjectOpacity=function(e,t,n,o){return this.workerPromise.emit("setGraphicsObjectOpacity",{docId:e,pageId:t,id:n,opacity:o})},t.prototype.addGraphicsObject=function(e,t,n){return this.workerPromise.emit("addGraphicsObject",{docId:e,pageId:t,info:n})},t.prototype.setImageObjectOpacity=function(e,t,n,o){return this.workerPromise.emit("setImageObjectOpacity",{docId:e,pageId:t,id:n,opacity:o})},t.prototype.setImageObjectRotation=function(e,t,n,o){return this.workerPromise.emit("setImageObjectRotation",{docId:e,pageId:t,id:n,rotation:o})},t.prototype.setActionDestination=function(e,t,n){return this.workerPromise.emit("setActionDestination",{docId:e,objNum:t,destination:n})},t.prototype.setActionFieldNames=function(e,t,n){return this.workerPromise.emit("setActionFieldNames",{docId:e,objNum:t,fieldNames:n})},t.prototype.setActionHideState=function(e,t,n){return this.workerPromise.emit("setActionHideState",{docId:e,objNum:t,isHide:n})},t.prototype.setActionScript=function(e,t,n){return this.workerPromise.emit("setActionScript",{docId:e,objNum:t,script:n})},t.prototype.setActionFlags=function(e,t,n){return this.workerPromise.emit("setActionFlags",{docId:e,objNum:t,flags:n})},t.prototype.setActionURI=function(e,t,n){return this.workerPromise.emit("setActionURI",{docId:e,objNum:t,uri:n})},t.prototype.insertSubAction=function(e,t,n,o){return this.workerPromise.emit("insertSubAction",{docId:e,objNum:t,index:n,type:o})},t.prototype.setSubAction=function(e,t,n,o){return this.workerPromise.emit("setSubAction",{docId:e,objNum:t,index:n,type:o})},t.prototype.removeAllSubActions=function(e,t){return this.workerPromise.emit("removeAllSubActions",{docId:e,objNum:t})},t.prototype.removeSubAction=function(e,t,n){return this.workerPromise.emit("removeSubAction",{docId:e,objNum:t,index:n})},t.prototype.setActionData=function(e,t,n){return this.workerPromise.emit("setActionData",{docId:e,objNum:t,data:n})},t.prototype.removeGraphicsObject=function(e,t,n){return this.workerPromise.emit("removeGraphicsObject",{docId:e,pageId:t,id:n})},t.prototype.setPopupOpenStatus=function(e,t,n,o){return this.workerPromise.emit("setPopupOpenStatus",{docId:e,pageId:t,annotId:n,status:o})},t.prototype.removePageAllAnnot=function(e,t){return this.workerPromise.emit("removePageAllAnnot",{docId:e,pageId:t})},t.prototype.setTextObjectChar=function(e,t,n,o){return this.workerPromise.emit("setTextObjectChar",{docId:e,pageId:t,id:n,char:o})},t.prototype.setTextObjectItalic=function(e,t,n,o){return this.workerPromise.emit("setTextObjectItalic",{docId:e,pageId:t,id:n,italic:o})},t.prototype.setTextObjectBold=function(e,t,n,o){return this.workerPromise.emit("setTextObjectBold",{docId:e,pageId:t,id:n,bold:o})},t.prototype.setTextObjectFontSize=function(e,t,n,o){return this.workerPromise.emit("setTextObjectFontSize",{docId:e,pageId:t,id:n,size:o})},t.prototype.setTextObjectStandardFont=function(e,t,n,o){return this.workerPromise.emit("setTextObjectStandardFont",{docId:e,pageId:t,id:n,standardId:o})},t.prototype.setTextObjectFontByName=function(e,t,n,o,r,i){return this.workerPromise.emit("setTextObjectFontByName",{docId:e,pageId:t,id:n,name:o,styles:r,charset:i})},t.prototype.getTextObjectWoff=function(e,t,n){return this.workerPromise.emit("getTextObjectWoff",{docId:e,pageId:t,id:n})},t.prototype.getAnnotWoff=function(e,t,n){return this.workerPromise.emit("getAnnotWoff",{docId:e,pageId:t,id:n})},t.prototype.drmEncrypt=function(e,t){return this.workerPromise.emit("drmEncrypt",{docId:e,options:t})},t.prototype.getActionFileStream=function(e,t,n){var o=this.workerPromise.calls(n);return this.workerPromise.emit("getActionFileStream",{docId:e,objNum:t,writeStream:o})},t.prototype.getTemplates=function(e){return this.workerPromise.emit("getTemplates",{docId:e})},t.prototype.hideTemplate=function(e,t,n){return this.workerPromise.emit("hideTemplate",{docId:e,templateObj:t,isHidden:n})},t.prototype.spawnPage=function(e,t,n,o,r){return this.workerPromise.emit("spawnPage",{docId:e,templateObj:t,nPage:n,bRename:o,bOverlay:r})},t.prototype.setFieldsValue=function(e,t,n){return this.workerPromise.emit("setFieldsValue",{docId:e,fieldsValue:t,resetAP:n})},t.prototype.removeTemplate=function(e,t){return this.workerPromise.emit("removeTemplate",{docId:e,name:t})},t.prototype.getFontBufferByName=function(e,t){return this.workerPromise.emit("getFontBufferByName",{docId:e,fontName:t})},t.prototype.getPageSizes=function(e,t,n){return this.workerPromise.emit("getPageSizes",{docId:e,index:t,count:n})},t.prototype.setMeasureRatio=function(e,t,n,o){return this.workerPromise.emit("setMeasureRatio",{docId:e,pageId:t,annotId:n,ratioInfo:o})},t.prototype.setMeasureUnit=function(e,t,n,o){return this.workerPromise.emit("setMeasureUnit",{docId:e,pageId:t,annotId:n,unit:o})},t.prototype.setMeasureConversionFactor=function(e,t,n,o){return this.workerPromise.emit("setMeasureConversionFactor",{docId:e,pageId:t,annotId:n,factor:o})},t.prototype.startImportPages=function(e,t,n,o,r,i,a,s){return this.workerPromise.emit("startImportPages",{docId:e,destIndex:t,file:n,password:o,flags:r,layerName:i,startIndex:a,endIndex:s})},t.prototype.extractPages=function(e,t,n,o,r){var i=this.workerPromise.calls(n);return this.workerPromise.emit("extractPages",{docId:e,pageRange:t,writeStream:i,file:o,password:r})},t.prototype.getHeaderFooter=function(e){return this.workerPromise.emit("getHeaderFooter",e)},t.prototype.addHeaderFooter=function(e,t){return this.workerPromise.emit("addHeaderFooter",{headerFooter:t,docId:e})},t.prototype.updateHeaderFooter=function(e,t){return this.workerPromise.emit("updateHeaderFooter",{headerFooter:t,docId:e})},t.prototype.removeHeaderFooter=function(e){return this.workerPromise.emit("removeHeaderFooter",e)},t.prototype.paste=function(e,t,n,o,r,i){return this.workerPromise.emit("paste",{docId:e,pageId:t,srcPageId:n,type:o,objectId:r,position:i})},t.prototype.setFontMap=function(e){return this.workerPromise.emit("setFontMap",e)},t.prototype.setWatermarkFontMap=function(e){return this.workerPromise.emit("setWatermarkFontMap",e)},t.prototype.setJPXDownSample=function(e){return this.workerPromise.emit("setJPXDownSample",e)},t.prototype.getAnnotsRawData=function(e,t){return this.workerPromise.emit("getAnnotsRawData",{docId:e,rawAnnots:t})},t.prototype.attachFile=function(e,t){return this.workerPromise.emit("attachFile",{docId:e,blob:t})},t.prototype.signDoc=function(e,t){return this.workerPromise.emit("signDoc",{docId:e,signInfo:t})},t.prototype.getGraphicsObjectByIndex=function(e,t,n){return this.workerPromise.emit("getGraphicsObjectByIndex",{docId:e,pageId:t,index:n})},t.prototype.getGraphicsObjectsCount=function(e,t){return this.workerPromise.emit("getGraphicsObjectsCount",{docId:e,pageId:t})},t.prototype.getFontsInfo=function(e){return this.workerPromise.emit("getFontsInfo",{docId:e})},t.prototype.getDocAdditionalActions=function(e){return this.workerPromise.emit("getDocAdditionalActions",{docId:e})},t.prototype.calcPageContentBBox=function(e,t,n){return this.workerPromise.emit("calcPageContentBBox",{docId:e,pageIndex:t,mode:n})},t.prototype.getPageBox=function(e,t,n){return this.workerPromise.emit("getPageBox",{docId:e,pageIndex:t,boxType:n})},t.prototype.syncDataCache=function(e,t){return this.workerPromise.emit("syncDataCache",{docId:e,pageIdMap:t})},t.prototype.setDocColors=function(e,t){return this.workerPromise.emit("setDocColors",{docId:e,colors:t})},t.prototype.moveAnnotsToPage=function(e,t,n,o){return this.workerPromise.emit("moveAnnotsToPage",{docId:e,srcPageId:t,dstPageId:n,annotInfos:o})},t.prototype.getOriginalStream=function(e){return this.workerPromise.emit("getOriginalStream",{docId:e})},t.prototype.hasForm=function(e){return this.workerPromise.emit("hasForm",{docId:e})},t.prototype.setTabOrder=function(e,t,n){return this.workerPromise.emit("setTabOrder",{docId:e,pageIndex:t,type:n})},t.prototype.getTabOrder=function(e,t){return this.workerPromise.emit("getTabOrder",{docId:e,pageIndex:t})},t.prototype.setStructureOrder=function(e,t,n){return this.workerPromise.emit("setStructureOrder",{docId:e,pageIndex:t,idList:n})},t.prototype.setLockAction=function(e,t,n,o){return this.workerPromise.emit("setLockAction",{docId:e,title:t,type:n,fieldNames:o})},t.prototype.setImage=function(e,t,n,o){return this.workerPromise.emit("setImage",{docId:e,pageId:t,annotId:n,buffer:o})},t.prototype.getWidgetMkOption=function(e,t,n){return this.workerPromise.emit("getWidgetMkOption",{docId:e,pageId:t,annotId:n})},t.prototype.setWidgetIconCaptionRelation=function(e,t,n,o){return this.workerPromise.emit("setWidgetIconCaptionRelation",{docId:e,pageId:t,annotId:n,relation:o})},t.prototype.setWidgetHighlighting=function(e,t,n,o){return this.workerPromise.emit("setWidgetHighlighting",{docId:e,pageId:t,annotId:n,mode:o})},t.prototype.setWidgetMkCaption=function(e,t,n,o,r){return this.workerPromise.emit("setWidgetMkCaption",{docId:e,pageId:t,annotId:n,position:o,caption:r})},t.prototype.setWidgetMkIcon=function(e,t,n,o,r){return this.workerPromise.emit("setWidgetMkIcon",{docId:e,pageId:t,annotId:n,position:o,buffer:r})},t.prototype.getWidgetIconFitOption=function(e,t,n){return this.workerPromise.emit("getWidgetIconFitOption",{docId:e,pageId:t,annotId:n})},t.prototype.setWidgetIconFitOption=function(e,t,n,o){return this.workerPromise.emit("setWidgetIconFitOption",{docId:e,pageId:t,annotId:n,option:o})},t.prototype.duplicateWidget=function(e,t,n,o){return this.workerPromise.emit("duplicateWidget",{docId:e,pages:t,fieldName:n,objectNumber:o})},t.prototype.duplicateField=function(e,t,n,o,r,i,a){return this.workerPromise.emit("duplicateField",{docId:e,fieldName:t,pageIndex:n,annotObjNum:o,columns:r,rows:i,positions:a})},t.prototype.getAllModuleLicenseRight=function(){return this.workerPromise.emit("getAllModuleLicenseRight")},t.prototype.moveGraphicsObjectByPosition=function(e,t,n,o,r){return this.workerPromise.emit("moveGraphicsObjectByPosition",{docId:e,pageId:t,id:n,type:o,graphicObjectId:r})},t.prototype.setDictionaryEntry=function(e,t,n,o,r){return this.workerPromise.emit("setDictionaryEntry",{docId:e,pageId:t,annotId:n,key:o,value:r})},t.prototype.getDictionaryEntry=function(e,t,n,o){return this.workerPromise.emit("getDictionaryEntry",{docId:e,pageId:t,annotId:n,key:o})},t.prototype.resetAppearanceStream=function(e,t,n){return this.workerPromise.emit("resetAppearanceStream",{docId:e,pageId:t,annotId:n})},t.prototype.setCO=function(e,t){return this.workerPromise.emit("setCO",{docId:e,CO:t})},t.prototype.renderTemplatesByObjNum=function(e,t){return this.workerPromise.emit("renderTemplatesByObjNum",{docId:e,objNum:t})},t.prototype.getNameTree=function(e,t){return this.workerPromise.emit("getNameTree",{docId:e,type:t})},t.prototype.addNameTreeObj=function(e,t,n,o){return this.workerPromise.emit("addNameTreeObj",{docId:e,type:t,name:n,objNum:o})},t.prototype.removeNameTreeObj=function(e,t,n){return this.workerPromise.emit("removeNameTreeObj",{docId:e,type:t,name:n})},t.prototype.replaceNameTreeObj=function(e,t,n,o){return this.workerPromise.emit("replaceNameTreeObj",{docId:e,type:t,name:n,objNum:o})},t.prototype.renameNameTreeObj=function(e,t,n,o){return this.workerPromise.emit("renameNameTreeObj",{docId:e,type:t,oldName:n,newName:o})},t.prototype.getPageIndexByObjNum=function(e,t){return this.workerPromise.emit("getPageIndexByObjNum",{docId:e,objNum:t})},t.prototype.nameTreeTemplatesToPages=function(e,t){return this.workerPromise.emit("nameTreeTemplatesToPages",{docId:e,name:t})},t.prototype.nameTreePagesToTemplates=function(e,t){return this.workerPromise.emit("nameTreePagesToTemplates",{docId:e,name:t})},t.prototype.showNameTreePageAtTheEnd=function(e){return this.workerPromise.emit("showNameTreePageAtTheEnd",{docId:e})},t.prototype.hideNameTreePage=function(e,t){return this.workerPromise.emit("hideNameTreePage",{docId:e,pageIndex:t})},t.prototype.moveControl=function(e,t,n,o){return this.workerPromise.emit("moveControl",{docId:e,fieldId:t,fieldName:n,newName:o})},t.prototype.getAnnotIdArrayByOrder=function(e,t){return this.workerPromise.emit("getAnnotIdArrayByOrder",{docId:e,pageId:t})},t.prototype.getAAJson=function(e,t){return this.workerPromise.emit("getAAJson",{docId:e,fieldName:t})},t.prototype.getPageDictionary=function(e,t){return this.workerPromise.emit("getPageDictionary",{docId:e,pageId:t})},t.prototype.getPDFDictInfo=function(e){return this.workerPromise.emit("getPDFDictInfo",{docId:e})},t.prototype.startFormDesignerAssit=function(e){return this.workerPromise.emit("startFormDesignerAssit",{docId:e})},t.prototype.stopFormDesignerAssit=function(e){return this.workerPromise.emit("stopFormDesignerAssit",{docId:e})},t.prototype.getPageLabels=function(e,t){return this.workerPromise.emit("getPageLabels",{docId:e,indexes:t})},t.prototype.hasKey=function(e,t,n){return this.workerPromise.emit("hasKey",{docId:e,id:t,key:n})},t.prototype.setAt=function(e,t,n,o){return this.workerPromise.emit("setAt",{docId:e,id:t,key:n,value:o})},t.prototype.getAt=function(e,t,n){return this.workerPromise.emit("getAt",{docId:e,id:t,key:n})},t.prototype.getSuggestedFormDesignerRect=function(e,t,n){return this.workerPromise.emit("getSuggestedFormDesignerRect",{docId:e,pageId:t,point:n})},t.prototype.autoRecognitionForm=function(e){return this.workerPromise.emit("autoRecognitionForm",{docId:e})},t.prototype.isStaticXFA=function(e){return this.workerPromise.emit("isStaticXFA",{docId:e})},t.prototype.removeXFA=function(e){return this.workerPromise.emit("removeXFA",{docId:e})},t.prototype.moveBookmark=function(e,t,n,o){return this.workerPromise.emit("moveBookmark",{docId:e,targetBookmarkId:t,destBookmarkId:n,position:o})},t.prototype.combineFormsToCSV=function(e,t){var n=this.workerPromise.calls(t);return this.workerPromise.emit("combineFormsToCSV",{filesArray:e,writeStreamCall:n})},t.prototype.movePagesTo=function(e,t,n){return this.workerPromise.emit("movePagesTo",{docId:e,pageRange:t,destIndex:n})},t.prototype.removePages=function(e,t){return this.workerPromise.emit("removePages",{docId:e,pageRange:t})},t.prototype.insertBlankPages=function(e,t,n,o){return this.workerPromise.emit("insertBlankPages",{docId:e,pageRange:t,width:n,height:o})},t.prototype.rotatePages=function(e,t,n){return this.workerPromise.emit("rotatePages",{docId:e,pageRange:t,rotation:n})},t.prototype.getFolioTreeRoot=function(e){return this.workerPromise.emit("getFolioTreeRoot",{docId:e})},t.prototype.getPortfolioFileStream=function(e,t,n){var o=this.workerPromise.calls(n);return this.workerPromise.emit("getPortfolioFileStream",{docId:e,nodeHandle:t,writeStream:o})},t.prototype.getPortfolioSubNodes=function(e,t){return this.workerPromise.emit("getPortfolioSubNodes",{docId:e,nodeHandle:t})},t.prototype.getFolioFileInfo=function(e){return this.workerPromise.emit("getFolioFileInfo",{docId:e})},t.prototype.getSnappedPoint=function(e,t,n,o){return this.workerPromise.emit("getSnappedPoint",{docId:e,pageId:t,point:n,mode:o})},t.prototype.getPageTextRectCount=function(e,t){return this.workerPromise.emit("getPageTextRectCount",{docId:e,pageId:t})},t.prototype.getPageTextByRectIndex=function(e,t,n){return this.workerPromise.emit("getPageTextByRectIndex",{docId:e,pageId:t,rectIndex:n})},t}(o.default);function h(e){e.on("wasmBinary",(function(e){localStorage.setItem(p,e)})),e.on("asmMem",(function(e){localStorage.setItem("FoxitPDFSDKForWeb_JREngineCache_asmMem",e)})),e.on("asmJs",(function(e){localStorage.setItem("FoxitPDFSDKForWeb_JREngineCache_asmJs",e)}))}t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.h="251e1163d8038df2171ae9e0ae12691b"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(1120),i=(o=r)&&o.__esModule?o:{default:o};function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}t.default=function(e){return function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o));return r.api=new((0,i.default)(r.api.constructor))(n),r}return a(t,e),t}(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=Object.getOwnPropertyNames(e.prototype);return function(e){function n(o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,o)),s=o.workerPath,c=o.workerBlobUrl;"/"!==s.slice(-1)&&(s+="/");for(var u=c||s+"WebPDFSRWorker.js?h="+a.h,l=new Worker(u),f=r.workerPromise=new i.default(l),p=Object.getOwnPropertyNames(r.constructor.prototype),d=function(e){var n=t[e],o=p.indexOf(n);if(-1!==o)return p.splice(o,1),"continue";r[n]=function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];return f.emit(n,t)}},h=t.length;h--;)d(h);return r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}(n,e),n.prototype.init=function(){return this.workerPromise.emit("initSREngine",this.option)},n.prototype.getPDFDocIdByFile=function(e,t){var n=function(e){var t=[];e instanceof ArrayBuffer&&(t=[e]);return t}(e);return this.workerPromise.emit("getPDFDocByFile",[e,t],n)},n.prototype.getPDFDocStream=function(e,t,n){var o=this.workerPromise.calls(t);return this.workerPromise.emit("getPDFDocStream",[e,o,n])},n.prototype.getFileattachmentStream=function(e,t,n,o){var r=this.workerPromise.calls(o);return this.workerPromise.emit("getFileattachmentStream",[e,t,n,r])},n.prototype.resetEngine=function(e){return this.workerPromise.emit("resetEngine",[e])},n}(e)};var o,r=n(479),i=(o=r)&&o.__esModule?o:{default:o},a=n(1121)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.h="0.7384877072273397"},function(e,t,n){"use strict";n.r(t);var o=n(21),r=n.n(o),i=n(76),a=n(77),s=window.MozWebSocket||window.WebSocket,c=function(){},u=function(){function e(e,t){void 0===t&&(t=location.origin),this.websocketServer=e,this.apiServer=t,this.messageReceiver=c,this.closeEventListener=c,this.websocketServer=e.trim(),this.apiServer=t.trim()}return e.prototype.isConnected=function(){if(this.socket){switch(this.socket.readyState){case s.OPEN:return Promise.resolve(!0);case s.CLOSED:case s.CLOSING:return Promise.resolve(!1)}return this.connectStatusDefer.promise}return Promise.resolve(!1)},e.prototype.connect=function(e){var t=this;if(this.socket)switch(this.socket.readyState){case s.CLOSED:case s.CLOSING:break;default:this.socket.onclose=null,this.socket.close()}return this.connectStatusDefer=r()(),this.socket=new s(Object(i.urlJoin)(this.websocketServer,"collab-ws/ws")+"?shareId="+e),this.socket.onmessage=function(e){t.messageReceiver(e.data)},this.socket.onclose=function(){t.closeEventListener()},new Promise((function(e,n){t.socket.onopen=function(){t.connectStatusDefer.resolve(!0),e(!0)},t.socket.onerror=function(){t.connectStatusDefer.resolve(!1),e(!1)}}))},e.prototype.disconnect=function(){return this.socket.onclose=null,this.socket.close(),Promise.resolve(!0)},e.prototype.createSession=function(e,t){var n,o=Object(i.urlJoin)(this.apiServer,"collab-ws","share"),r=new FormData;if(t.type===a.OPEN_FILE_TYPE.FROM_FILE){var s=t.file;s instanceof Blob||(s=new Blob([s],{type:"application/pdf"})),r.append("file",s,t.options.fileName),n=JSON.stringify(t,(function(e,t){if("file"!==e)return t}))}else n=JSON.stringify(t);return r.append("open-file-params",n),fetch(o,{method:"POST",body:r}).then((function(e){return e.json()})).then((function(e){return e.shareId}))},e.prototype.getSessionInfo=function(e){return fetch(Object(i.urlJoin)(this.apiServer,"/collab-ws/session/",e)).then((function(e){var t=e.headers.get("session-info");if("null"!==t&&t){var n=JSON.parse(decodeURIComponent(t)),o=n.openFileParams;return o.type===a.OPEN_FILE_TYPE.FROM_FILE?e.blob().then((function(e){return o.file=e,n})):n}}))},e.prototype.send=function(e,t){return this.socket&&this.socket.send(t),Promise.resolve()},e.prototype.getLostData=function(e,t){var n=Object(i.urlJoin)(this.apiServer,"collab-ws","data",e,""+t);return fetch(n).then((function(e){return e.json()}))},e.prototype.registerMessageReceiver=function(e){this.messageReceiver=e},e.prototype.registerLostConnectionListener=function(e){this.closeEventListener=e},e.prototype.destroy=function(){this.socket&&this.socket.close()},e}();t.default=u},function(e,t,n){"use strict";n.r(t);var o=n(50);n.d(t,"PDFTextToSpeechSynthesisStatus",(function(){return o.a}));var r=n(343);n.d(t,"ReadAloudService",(function(){return r.default}));var i=n(234);n.d(t,"AbstractPDFTextToSpeechSynthesis",(function(){return i.a}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=c(n(27)),i=c(n(1125));n(1126);var a=c(n(482)),s=n(8);c(n(483));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r));return i.width<1&&(i.width*=window.innerWidth),i.totallyCollapsedWidth=12,i.collapsedWidth=47,i.collapseThresholdWidth=105,i.maxWidth=n.maxWidth||480,i.expandWidth=i.width,i.adjustingWidth=i.element.width,i.status=t.STATUS_COLLAPSED,i.lastActivePanel=null,i.autoVisible=!i.attrs.autovisible||"false"!=i.attrs.autovisible,i}return u(t,e),t.getName=function(){return"sidebar"},t.getMetadata=function(){return{options:{width:{type:"number",defaultValue:310},open:{type:"boolean",field:"isOpenAtStart",defaultValue:!1}}}},o(t,null,[{key:"STATUS_COLLAPSED",get:function(){return"collapsed"}},{key:"STATUS_COLLAPSED_TOTALLY",get:function(){return"collapsed-totally"}},{key:"STATUS_EXPANDED",get:function(){return"expanded"}}]),t.prototype.render=function(){e.prototype.render.call(this),this.element.classList.add("fv__ui-sidebar"),this.element.innerHTML=(0,i.default)({}),this.togglerElement=this.element.querySelector(".fv__ui-sidebar-toggler"),this.draggerElement=this.element.querySelector(".fv__ui-sidebar-dragger"),this.draggerTogglerElement=this.draggerElement.querySelector(".toggler"),this.navElement=this.element.querySelector(".fv__ui-sidebar-nav"),this.bodyElement=this.element.querySelector(".fv__ui-sidebar-body")},t.prototype.doInsert=function(e){if(!(e.isIgnorable()||e instanceof a.default))throw new Error("the type of the sidebar children must be <sidebar-panel>");this.rerenderChildren()},t.prototype.rerenderChildren=function(){if(!this.isDestroyed){var e=this.children(),t=e.map((function(e){return e.ctrlElement})),n=e.reduce((function(e,t){return e.concat(t.getRenderingElements())}),[]);this.diffRenderer(this.navElement,t),this.diffRenderer(this.bodyElement,n)}},t.prototype.postlink=function(){e.prototype.postlink.call(this)},t.prototype.isCollapsed=function(){return this.status!==t.STATUS_EXPANDED},t.prototype._initStatus=function(){var e=this.$container.findFirst((function(e){return e.isActive}));e||(e=this.$container.findFirst((function(e){return e.isVisible}))),this.isOpenAtStart?e&&(e.isActive=!1,e.active()):(this.lastActivePanel=e,this.collapse())},t.prototype.mounted=function(){var n=this;e.prototype.mounted.call(this),this.collapsedWidth=this.navElement.offsetWidth+this.draggerElement.offsetWidth,this.collapseThresholdWidth=2.3*this.collapsedWidth,this.totallyCollapsedWidth=this.draggerElement.offsetWidth,this.width=this.element.offsetWidth,this._initStatus();var o=new Hammer.Manager(this.draggerElement);o.add(new Hammer.Pan({direction:Hammer.DIRECTION_HORIZONTAL}));var r=void 0;o.on("panstart",(function(e){n.startresize(),r=e.deltaX,n.resize(r,e.direction),n.trigger(s.COMPONENT_EVENTS.RESIZESTART),n.trigger(s.COMPONENT_EVENTS.RESIZE)})),o.on("panmove",(function(e){var t=e.deltaX-r,o=e.center,i=n.draggerElement.offsetLeft;(o.x<i&&e.direction&Hammer.DIRECTION_RIGHT||o.x>i&&e.direction&Hammer.DIRECTION_LEFT)&&(t=0),n.resize(t,e.direction)&&n.trigger(s.COMPONENT_EVENTS.RESIZE),r=e.deltaX})),o.on("panend",(function(e){n.endresize()})),o.on("pancancel",(function(e){n.cancelresize()})),this.addDestroyHook((function(){o.destroy()})),this.togglerElement.addEventListener("click",(function(e){n.status!==t.STATUS_EXPANDED?n.expand():n.collapse()})),this.draggerTogglerElement.addEventListener("click",(function(e){n.toggle()})),this.attachEventToElement(this.draggerElement,"mousedown touchstart",(function(e){n.draggerElement.classList.add("active")})),this.attachEventToElement(this.draggerElement,"mouseup touchend",(function(e){n.draggerElement.classList.remove("active")})),this.autoVisible||this.hide()},t.prototype.startresize=function(){this.adjustingWidth=this.width},t.prototype.resize=function(e,t){var n=this.adjustingWidth+e,o=t&Hammer.DIRECTION_LEFT,r=t&Hammer.DIRECTION_RIGHT,i=this.getRoot().element.offsetWidth;return n<=this.collapseThresholdWidth&&o?!this.isCollapsed()&&(this.collapse(),this.adjustingWidth=this.element.offsetWidth,!0):!(n>=i&&r)&&(r&&this.isCollapsed()?(this.expand(),this.setWidth(this.collapseThresholdWidth),this.adjustingWidth=this.collapseThresholdWidth):(this.adjustingWidth=n,this.element.style.width=n+"px"),!0)},t.prototype.endresize=function(){this.width=this.adjustingWidth,this.isCollapsed()||(this.expandWidth=this.adjustingWidth),this.setWidth(this.width)},t.prototype.cancelresize=function(){this.adjustingWidth=this.width,this.setWidth(this.width)},t.prototype.enableFullWidth=function(){this.isFullWidth=!0,this.element.classList.add("fv__ui-sidebar-full-width")},t.prototype.disableFullWidth=function(){this.isFullWidth=!1,this.element.classList.remove("fv__ui-sidebar-full-width")},t.prototype.expand=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.expandWidth;this.trigger(s.COMPONENT_EVENTS.BEFORE_EXPAND),this.setWidth(e),this.isFullWidth&&(this.element.style.width=""),this.element.classList.remove("collapse","collapse-totally"),this.element.classList.add("expand"),this.lastActivePanel&&this.lastActivePanel.active(),this.$lastStatus=this.status,this.status=t.STATUS_EXPANDED,this.trigger(s.COMPONENT_EVENTS.EXPAND)},t.prototype.collapse=function(){this._collapse(this.collapsedWidth),this.element.classList.add("collapse"),this.$lastStatus=this.status,this.status=t.STATUS_COLLAPSED},t.prototype.collapseTotally=function(){this._collapse(this.totallyCollapsedWidth),this.element.classList.add("collapse-totally"),this.$lastStatus=this.status,this.status=t.STATUS_COLLAPSED_TOTALLY},t.prototype.toggle=function(){this.status!==t.STATUS_COLLAPSED_TOTALLY?(this.$lastStatus=this.status,this.collapseTotally()):this.$lastStatus===t.STATUS_COLLAPSED?this.collapse():this.expand()},t.prototype._collapse=function(e){this.status===t.STATUS_EXPANDED&&(this.expandWidth=this.width),this.element.classList.remove("collapse","expand","collapse-totally"),this.setWidth(e),this.lastActivePanel&&this.lastActivePanel.deactive(),this.trigger(s.COMPONENT_EVENTS.COLLAPSE)},t.prototype.setWidth=function(e){this.element.style.width=e+"px",this.width=e,this.redrawViewer()},t.prototype.redrawViewer=function(){var e=this;clearTimeout(this.redrawViewerTimer),this.redrawViewerTimer=setTimeout((function(){e.getPDFUI().redraw().catch((function(){}))}),300)},t}(r.default);t.default=l},function(e,t,n){n(2);e.exports=function(e){"use strict";e=e||{};return'<div class="fv__ui-sidebar-ctls">\r\n    <a class="fv__ui-sidebar-toggler" href="javascript:;"></a>\r\n    <div class="fv__ui-sidebar-nav">\r\n    </div>\r\n</div>\r\n<div class="fv__ui-sidebar-body">\r\n</div>\r\n<div class="fv__ui-sidebar-dragger">\r\n    <span class="toggler"></span>\r\n</div>','<div class="fv__ui-sidebar-ctls">\r\n    <a class="fv__ui-sidebar-toggler" href="javascript:;"></a>\r\n    <div class="fv__ui-sidebar-nav">\r\n    </div>\r\n</div>\r\n<div class="fv__ui-sidebar-body">\r\n</div>\r\n<div class="fv__ui-sidebar-dragger">\r\n    <span class="toggler"></span>\r\n</div>'}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(n(17)),r=(u(n(175)),u(n(221)),u(n(220))),i=u(n(181)),a=n(34),s=u(n(119)),c=u(n(1751));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var f=function(e){function t(n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r));return n.iconCls&&(i.iconCls=n.iconCls),i}return l(t,e),t.getName=function(){return"file-selector"},t.getMetadata=function(){return{options:{text:{type:"string"},action:{type:"string"},multiple:{type:"boolean",defaultValue:!1},accept:{resolve:function(e){var t=e.$options,n=e.attrs,o=t.accept||n.accept;return"string"==typeof o?o.split(/[\s;]/):Array.isArray(o)?o.join(";"):"*.*"}},"icon-class":{type:"string",field:"iconCls"}}}},t.prototype.createDOMElement=function(){var e=document.createElement("label");e.classList.add("fv__ui-fileselector-label"),this.labelElement=e;var t=this.createInputElement();this.inputElement=t,this.textElement=document.createElement("span"),this.textElement.classList.add("fv__ui-button-text"),this.iconElement=document.createElement("i"),this.iconElement.classList.add("fv__ui-button-icon");var n=void 0;return this.parent instanceof i.default?((n=document.createElement("li")).classList.add("fv__ui-dropdown-button"),e.classList.add("fv__ui-dropdown-item-label")):n=document.createElement("a"),this.orderedElementsManager=new s.default(e,[this.iconElement,this.inputElement,this.textElement]),this.orderedElementsManager.mount(this.inputElement),n},t.prototype.render=function(){e.prototype.render.call(this),this.element.classList.add("fv__ui-fileselector"),this.renderInputElement(this.inputElement),this.element.appendChild(this.labelElement)},t.prototype.createInputElement=function(){var e=document.createElement("input");return e.classList.add("fv__ui-fileselector-input"),e.setAttribute("type","file"),this.renderInputElement(e),e},t.prototype.renderInputElement=function(e){if(e.setAttribute("accept","*.*"),this.accept){var t=this.accept;if(a.isMiuiBrowser||a.isQQ||a.isWeChat){var n=t.split(/[;,]/).filter((function(e){return"*.*"!==e})).map((function(e){return e.replace(/^\*?\.(.+)/,(function(e,t){return(0,c.default)(t,"."+t)}))}));t=n.join(";")}t&&e.setAttribute("accept",t)}this.multiple?e.setAttribute("multiple",""):e.removeAttribute("multiple")},t.prototype.mounted=function(){var e=this;o.default.prototype.mounted.call(this);var t=function t(n){if(!e.disabled)try{var o=function(e){var t=e.target.files?e.target.files:null;!t&&e.dataTransfer&&e.dataTransfer.files.length>0&&(t=e.dataTransfer.files);if(t)return Array.prototype.slice.call(t,0);return[]}(n)||[];e.multiple?(e.controller.handle(o,n),e.trigger("change",o)):(e.controller.handle(o[0],n),e.trigger("change",o[0]))}finally{var r=e.createInputElement();r.addEventListener("change",t),e.orderedElementsManager.replaceElement(e.inputElement,r),e.inputElement=r}};this.inputElement.addEventListener("change",t),this.addDestroyHook((function(){e.inputElement.removeEventListener("change",t)}))},t.prototype.doDisable=function(){e.prototype.doDisable.call(this),this.inputElement.setAttribute("disabled","disabled")},t.prototype.doEnable=function(){e.prototype.doEnable.call(this),this.inputElement.removeAttribute("disabled")},t.prototype.triggerHandler=function(){this.inputElement.click()},t}(r.default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(27),i=(o=r)&&o.__esModule?o:{default:o};function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}n(1129);var u=function(e){function t(){return a(this,t),s(this,e.apply(this,arguments))}return c(t,e),t.getName=function(){return"toolbar"},t.prototype.render=function(){e.prototype.render.call(this),this.element.classList.add("fv__ui-toolbar")},t}(i.default);t.default=u},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});o(n(420));function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var i=function(e){function t(n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r));return i.setText(i.text),i}return r(t,e),t.getName=function(){return"placeholder-text"},t.getMetadata=function(){return{options:{text:{type:"string",required:!0}}}},t.prototype.setText=function(e){var t=this;this.unwatch&&this.unwatch(),this.unwatch=this.controller.watch(e,(function(e){t.textContent=e+"",t.localize()})),this.controller.digest(),this.text=e},t.prototype.sync=function(e,t){return Component.prototype.sync.call(this,e,t)},t.prototype.doDestroy=function(){this.unwatch(),e.prototype.doDestroy.call(this)},t}(o(n(307)).default);t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(17)),r=a(n(119)),i=n(34);function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r));i.text=n.text||i.viewConfig.textContent||"",i.iconCls=n.iconCls||i.viewConfig.attrs["icon-class"],i.isFileSelector=n.isFileSelector||"file-selector"in i.attrs&&"false"!==i.attrs["file-selector"],i.action=n.action||i.attrs.action;var a=n.accept||i.viewConfig.attrs.accept;return"string"==typeof a?i.accept=a:Array.isArray(a)?i.accept=a.join(";"):i.accept="*.*",i}return s(t,e),t.getName=function(){return"dropdown-button"},t.prototype.createDOMElement=function(){return document.createElement("li")},t.prototype.doDisable=function(){this.element.classList.add("disabled"),this.isFileSelector&&this.inputElement.setAttribute("disabled","disabled")},t.prototype.doEnable=function(){this.element.classList.remove("disabled"),this.isFileSelector&&this.inputElement.removeAttribute("disabled")},t.prototype.doActive=function(){this.element.classList.add("active")},t.prototype.doDeactive=function(){this.element.classList.remove("active")},t.prototype.render=function(){this.textElement=document.createElement("span");var t=this.iconElement=document.createElement("i");if(this.element.classList.add("fv__ui-dropdown-button"),this.isFileSelector){var n=document.createElement("label"),o=document.createElement("input");if(this.inputElement=o,this.labelElement=n,this.element.classList.add("fv__ui-dropdown-button-file"),n.classList.add("fv__ui-dropdown-item-label"),o.classList.add("fv__ui-dropdown-item-input"),o.setAttribute("type","file"),this.accept){var a=this.accept;i.isMiuiBrowser&&(a=a.split(/[;]/).filter((function(e){return"*.*"!==e})).map((function(e){return e.replace(/^\*?\./,"application/")})).join(";")),a&&o.setAttribute("accept",a)}this.elementManager=new r.default(n,[o,t,this.textElement]),this.elementManager.mount(o),this.element.appendChild(n)}else this.elementManager=new r.default(this.element,[t,this.textElement]);this.setIconCls(this.iconCls),e.prototype.render.call(this)},t.prototype.setIconCls=function(e){if(e){var t=this.iconElement;this.iconCls=e,t.addClass("fv__ui-dropdown-button-icon",this.iconCls),t.addClass(this.iconCls),this.elementManager.mount(this.iconElement)}},t.prototype.renderText=function(){var e=this,t=this.textElement;return t.classList.add("fv__ui-dropdown-item-text"),this.textElement.innerText="",this.text&&this.text.length>0?(this.textElement.setAttribute("data-i18n",this.text),this.elementManager.mount(t)):this.texts.length>0&&(this.texts.forEach((function(t){e.textElement.appendChild(t.element)})),this.elementManager.mount(t)),t},t.prototype.mounted=function(){var t=this;if(e.prototype.mounted.call(this),this.isFileSelector){var n=function e(n){if(!t.disabled)try{var o=function(e){var t=e.target.files?e.target.files[0]:null;!t&&e.dataTransfer&&e.dataTransfer.files.length>0&&(t=e.dataTransfer.files[0]);return t}(n);t.controller.handle(o,n),t.trigger("change",o)}finally{var r=document.createElement("input");r.classList.add("fv__ui-dropdown-item-input"),r.setAttribute("type","file"),r.setAttribute("accept",t.accept),r.addEventListener("change",e),t.inputElement.after(r),t.inputElement.remove(),t.inputElement=r}},o=function(e){t.trigger("click"),e.stopPropagation()};this.inputElement.addEventListener("click",o),this.inputElement.addEventListener("change",n),this.addDestroyHook((function(){t.inputElement.removeEventListener("click",o),t.inputElement.removeEventListener("change",n)}))}else{this.addEventListener("click",(function(e){t.disabled||(t.controller.handle(e),t.trigger("click"),e.stopPropagation())}))}},t.prototype.addEventListener=function(e,t){var n=this;this.element.addEventListener(e,t),this.addDestroyHook((function(){n.element.removeEventListener(e,t)}))},t.prototype.triggerHandler=function(){this.isFileSelector?this.inputElement.click():this.element.click()},t.prototype.localize=function(){return this.localizer.localizeElement(this.textElement)},t.prototype.acceptText=function(){return!0},t.prototype.sync=function(t,n){if(e.prototype.sync.call(this,t,n))return!0;switch(t){case"text":return n&&(this.textElement.parentElement?this.textElement.setAttribute("data-i18n",n):this.setText(n),this.localizer.localizeElement(this.textElement)),!0}return!1},t}(o.default);t.default=c},function(e,t){},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(27)),r=s(n(1135)),i=s(n(485)),a=n(154);function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=function(e){function t(n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r)),a=i.viewConfig.attrs;return i.iconCls=n.iconCls||a["icon-class"]||a.iconCls,i.action=n.action,i.path=n.path,a.listdata?i.listdata=JSON.parse(a.listdata):i.listdata=n.listdata,i}return c(t,e),t.getName=function(){return"listbox-item"},t.prototype.destroy=function(){this.path=null,this.listdata=null,e.prototype.destroy.call(this)},t.prototype.createDOMElement=function(){return document.createElement("li")},t.prototype.render=function(){e.prototype.render.call(this);var t=this.listdata;if(t.url){t.fileType||console.warn("fileType property of icon is missing");var n=this.path[this.path.length-1];this.element.classList.add("fv__ui-list-leaf"),this.element.title=n,this.element.innerHTML=(0,r.default)({url:t.url.replace(/\.pdf$/,".svg")})}else{var o=this.path[this.path.length-1];["Static","SignHere","Dynamic"].indexOf(o)>-1&&(o="stamp.category."+o),this.localizer.translateSync(o)||(o+=" ");var i=this.pdfUI.parseTemplate("<div><text>"+o+"</text><div>",[]);this.append(i);var s="listbox-"+(0,a.getSecureRandom)().toString(36).substr(2),c=this.pdfUI.parseTemplate('<listbox name="'+s+'"></listbox>',[{target:s,config:{root:this.$options.root,subList:!0,path:this.path,callback:this.$options.callback,listdata:t}}]);this.append(c)}},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this);var n=function(e){return t.clickEventHandler(e)};this.element.addEventListener("click",n),this.addDestroyHook((function(){t.element.removeEventListener("click",n)}))},t.prototype.doActive=function(){this.element.classList.add("active")},t.prototype.doDeactive=function(){this.element.classList.remove("active")},t.prototype.clickEventHandler=function(e){var t=this;this.disabled||this.pdfUI.getComponentByName("create-stamp-handle-ui").then((function(n){var o;n.disabled||((o=t.controller).handle.apply(o,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t.path)),e.preventDefault(),e.stopPropagation(),i.default.setFocus(t))}))},t}(o.default);t.default=u},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<img class="stamp-preview" src="',t+=(0,o.$escape)(e.url),t+='" crossOrigin="true"></img>'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(419)),r=s(n(120)),i=s(n(121)),a=s(n(306));n(34);function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t=parseFloat(t),"number"==typeof e&&isFinite(e)?e:isFinite(t)?t:n},p=function(e){function t(n){c(this,t);var o=u(this,e.call(this));return o.component=n,o}return l(t,e),t.prototype.receive=function(e){var t=this.component,n=t.prefix,o=t.suffix;this.component.element.value=""+n+e+o},t}(r.default),d=function(e){function t(n,o,r){c(this,t);var i=u(this,e.call(this,n,o,r)),s=f(n.min,i.attrs.min,-1/0),l=f(n.max,i.attrs.max,1/0),p=f(n.step,i.attrs.step,1);return i.range=new a.default(s,l,p),i.min=i.range.min,i.max=i.range.max,i.step=i.range.step,i.setValue(i.min),i}return l(t,e),t.getName=function(){return"number"},t.getMetadata=function(){return{options:{prefix:{type:"string",defaultValue:""},suffix:{type:"string",defaultValue:""}}}},t.prototype.createDOMElement=function(){return document.createElement("input")},t.prototype.render=function(){e.prototype.render.call(this),this.element.classList.add("fv__ui-number"),this.element.setAttribute("autocomplete","off"),this.element.setAttribute("type","text"),this.fieldName&&this.setFieldName(this.fieldName)},t.prototype.setFieldName=function(t){e.prototype.setFieldName.call(this,t),this.element.setAttribute("name",this.fieldName)},t.prototype.getForwardedEvents=function(){var t=e.prototype.getForwardedEvents.call(this),n=t.indexOf("change");return t.splice(n,1),t},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this);var n=new o.default(this,"value");this.addDestroyHook(n.connect(new p(this)));var r=function(){t.triggerChangeEvent()};this.element.addEventListener("change",r),this.addDestroyHook((function(e){t.element.removeEventListener("change",r)})),this.setValue(this.value)},t.prototype.createEventListener=function(t){var n=this;return"change"===t?function(e){n.triggerChangeEvent()}:e.prototype.createEventListener.call(this,t)},t.prototype.triggerChangeEvent=function(){var e=this.element.value;e.indexOf(this.suffix)>-1&&(e=e.substring(0,e.length-this.suffix.length)),e.indexOf(this.prefix)>-1&&(e=e.substring(this.prefix.length));var t=this.value;this.setValue(e),this.trigger("change",this.value,t)},t.prototype.setAttribute=function(t,n){switch(t){case"min":case"max":case"step":this.range[t]=parseFloat(n),this[t]=this.range[t];break;case"prefix":case"suffix":this[t]=n;break;default:e.prototype.setAttribute.call(this,t,n)}},t.prototype.setValue=function(e){this.value=this.range.normalizeValue(e),this.element.value=""+this.prefix+this.value+this.suffix},t.prototype.getValue=function(){return this.value},t.prototype.increment=function(){this.value=this.range.increment(this.value)},t.prototype.decrement=function(){this.value=this.range.decrement(this.value)},t.prototype.setMax=function(e){this.max=e,this.setValue(this.value)},t.prototype.setMin=function(e){this.min=e,this.setValue(this.value)},t.prototype.sync=function(t,n){switch(t){case"min":this.setMin(n);break;case"max":this.setMax(n);break;default:return e.prototype.sync.call(this,t,n)}return!0},t.prototype.select=function(){this.element.focus(),this.element.setSelectionRange?this.element.setSelectionRange(0,99999):this.element.select()},t.prototype.doDisable=function(){e.prototype.doDisable.call(this),this.element.setAttribute("disabled","")},t.prototype.doEnable=function(){e.prototype.doEnable.call(this),this.element.removeAttribute("disabled")},t}(i.default);t.default=d},function(e,t){},function(e,t,n){n(2);e.exports=function(e){"use strict";e=e||{};return'<div class="fv__ui-layer-header-inner">\r\n    <i class="fv__ui-layer-header-icon"></i>\r\n    <h6 class="fv__ui-layer-header-title"></h6>\r\n    <div class="fv__ui-layer-header-buttons">\r\n        \x3c!-- TODO: more layer header buttons... --\x3e\r\n        <button href="javascript:;" class="fv__ui-layer-header-button" type="button" action="close">\r\n            <i class="fv__icon-layer-close"></i>\r\n        </button>\r\n    </div>\r\n</div>','<div class="fv__ui-layer-header-inner">\r\n    <i class="fv__ui-layer-header-icon"></i>\r\n    <h6 class="fv__ui-layer-header-title"></h6>\r\n    <div class="fv__ui-layer-header-buttons">\r\n        \x3c!-- TODO: more layer header buttons... --\x3e\r\n        <button href="javascript:;" class="fv__ui-layer-header-button" type="button" action="close">\r\n            <i class="fv__icon-layer-close"></i>\r\n        </button>\r\n    </div>\r\n</div>'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(27);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.getName=function(){return"layer-toolbar"},t.prototype.render=function(){e.prototype.render.call(this),this.element.classList.add("fv__ui-layer-toolbar")},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(27);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.getName=function(){return"layer-view"},t.prototype.render=function(){e.prototype.render.call(this),this.element.classList.add("fv__ui-layer-panel")},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(27),i=(o=r)&&o.__esModule?o:{default:o},a=n(8);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(){return s(this,t),c(this,e.apply(this,arguments))}return u(t,e),t.getName=function(){return"template"},t.prototype.createDOMElement=function(){var e=document.createElement("template");return window.HTMLTemplateElement||(e.style.cssText="display: none!important;"),e},t.prototype.render=function(){},t.prototype.rerenderChildren=function(){},t.prototype.localize=function(){return Promise.all(this.$container.map((function(e){return e.localize()})))},t.prototype.receiveBroadcast=function(t,n){e.prototype.receiveBroadcast.call(this,t,n),t===a.COMPONENT_BROADCAST_LOCALIZE&&this.$container.each((function(e){return e.localize()}))},t.prototype.mounted=function(){this.localize(),e.prototype.mounted.call(this)},t}(i.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(121);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.getName=function(){return"checkbox"},t.getMetadata=function(){return{options:{checked:{type:"boolean",defaultValue:!1},text:{type:"string"}}}},t.prototype.acceptText=function(){return!0},t.prototype.doDisable=function(){e.prototype.doDisable.call(this),this.inputElement.setAttribute("disabled",!0)},t.prototype.doEnable=function(){e.prototype.doEnable.call(this),this.inputElement.removeAttribute("disabled")},t.prototype.createDOMElement=function(){return document.createElement("label")},t.prototype.setFieldName=function(t){e.prototype.setFieldName.call(this,t),this.inputElement.setAttribute("name",this.fieldName)},t.prototype.getValue=function(){return this.inputElement.checked},t.prototype.render=function(){this.inputElement=document.createElement("input"),this.$options.inputClass&&this.inputElement.classList.add(this.$options.inputClass),this.textElement=document.createElement("span"),this.$options.lableClass&&this.textElement.classList.add(this.$options.lableClass),this.inputElement.type="checkbox",this.inputElement.checked=this.checked,this.element.appendChild(this.inputElement),this.element.appendChild(this.textElement),e.prototype.render.call(this)},t.prototype.renderText=function(){var e=this.textElement;return e.innerText="","string"==typeof this.text&&this.text.length>0?(this.element.appendChild(e),e.setAttribute("data-i18n",this.text)):this.texts.length>0&&this.texts.forEach((function(t){e.appendChild(t.element)})),e},t.prototype.removeText=function(t){return!!e.prototype.removeText.call(this,t)&&(this.renderText(),!0)},t.prototype.setValue=function(t){e.prototype.setValue.call(this,t),this.inputElement.checked=!!t},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(121);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.getName=function(){return"input"},t.prototype.createDOMElement=function(){return document.createElement("input")},t.prototype.setValue=function(e){var t=this.element;"checkbox"==t.type?t.checked=e:t.value=e},t.prototype.getValue=function(){return this.getDOMValue()},t.prototype.prerender=function(){this.element.spellcheck=!1,this.element.autocapitalize="off",this.element.autocomplete="off",this.element.autocorrect="off",e.prototype.prerender.call(this)},t.prototype.getDOMValue=function(){var t=this.element;return"checkbox"===t.type?t.checked:e.prototype.getDOMValue.call(this)},t.prototype.mounted=function(){e.prototype.mounted.call(this),e.prototype.resolveCompositionEvent.call(this)},t.prototype.doDisable=function(){e.prototype.doDisable.call(this),this.element.setAttribute("disabled","")},t.prototype.doEnable=function(){e.prototype.doEnable.call(this),this.element.removeAttribute("disabled")},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=a(n(1145)),i=a(n(1146));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}n(1147);var c=[],u=function(e){function t(n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r));return i.notifyTimeout=null,i.iconCls=n.iconCls||i.attrs["icon-class"]||i.attrs.iconclass,i.iconText=n.iconText||i.attrs["icon-text"]||i.attrs.icontext,i.unit=n.unit||i.attrs.unit||i.attrs.unit,i}return s(t,e),t.getName=function(){return"slider"},t.getMetadata=function(){return{options:{"center-point":{type:"boolean",field:"centerPoint",defaultValue:!1,required:!1}}}},t.prototype.render=function(){var t=this;e.prototype.render.call(this),this.element.innerHTML=(0,i.default)(this);var n=[".fv__ui-slider-input",".fv__ui-slider-cursor",".fv__ui-slider-line",".fv__ui-slider-bar",".fv__ui-slider-center-point"].map((function(e){return t.element.querySelector(e)})),r=o(n,5),a=r[0],s=r[1],c=r[2],u=r[3],l=r[4];this.inputElement=a,this.cursorElement=s,this.lineElement=c,this.barElement=u,this.centerPointElement=l,this.setValue(this.value),this.centerPoint||this.centerPointElement.classList.add("fv__ui-hide")},t.prototype.getForwardedEvents=function(){return["focus","compositionstart","compositionupdate","compositionend","keyup","keydown","keypress"]},t.prototype.setValue=function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e=this.normalizeValue(e);var o=this.value;return this.value=e,n?this.oldValue=this.value:this.valueChanged=!0,this.inputElement.value=this.value,this.barElement.style.width=100*this.getRatio()+"%",0==this.lineElement.offsetWidth?(clearInterval(this.updateTask),c.push(this),this.updateTask=setInterval((function(){t._updateHandlePosition()}),50)):this._updateHandlePosition(),o!=this.value},t.prototype._updateHandlePosition=function(){var e=this.getRatio(),t=this.lineElement.offsetWidth;0!=t&&clearInterval(this.updateTask);var n=t*e;this.cursorElement.style.cssText+="left: "+(n-5)+"px"},t.prototype._elementStopEventPropagation=function(e,t){var n=function(e){return e.stopPropagation()};e.addEventListener(t,n),this.addDestroyHook((function(o){return e.removeEventListener(t,n)}))},t.prototype.mounted=function(){var t=this;if(void 0!==this.value){e.prototype.mounted.call(this),this._elementStopEventPropagation(this.cursorElement,"pointerdown"),this._elementStopEventPropagation(this.cursorElement,"mousedown"),this._elementStopEventPropagation(this.cursorElement,"touchstart");var n=new Hammer.Manager(this.cursorElement);n.add(new Hammer.Pan({direction:Hammer.DIRECTION_HORIZONTAL}));var o=void 0,r=void 0;n.on("panstart",(function(e){return t.disabled||(t.oldValue=t.value,o=parseFloat(t.cursorElement.style.left)||-5,r||(r=t.element.querySelector(".fv__ui-slider-line").offsetWidth),t.cursorElement.classList.add("fv__ui-select-dragging"),t.trigger("compositionstart",e),t.active(),e.srcEvent.stopPropagation()),!1})).on("panmove",(function(e){if(t.disabled)return!1;var n=o+e.deltaX;n<-5?n=-5:n>r-5&&(n=r-5);var i=t.range,a=i.max,s=i.min,c=(n+5)/r*(a-s)+s;return c=t.normalizeValue(c),t.setValue(c,!1),t._triggerChange(!1,e),e.srcEvent.stopPropagation(),!1})).on("panend",(function(e){return t.disabled||(t.cursorElement.classList.remove("fv__ui-select-dragging"),t._triggerChange(!0,e),t.commit(),e.srcEvent.stopPropagation()),!1})),this.addDestroyHook((function(){n.destroy()}));var i=function(e,n,o){e.addEventListener(n,o),t.addDestroyHook((function(){e.removeEventListener(n,o)}))};i(this.inputElement,"blur",(function(e){!function(e){if(!t.disabled&&t.inputElement.value!=t.value){var n=t.value;t.setValue(t.inputElement.value,!1);var o=t.value;t._triggerChange(!0,e,n,o)}}(),a(e),t.trigger("blur",e)})),i(this.inputElement,"focus",(function(e){t.trigger("focus",e),t.active()})),this.attachEventToElement(this.centerPointElement,"click",(function(e){var n=.5*(t.range.max-t.range.min),o=t.getValue(),r=t.normalizeValue(n);t.setValue(r,!0),t._triggerChange(!0,e,o,t.getValue())}));var a=function(e){if(t.valueChanged){var n=e.target.parentNode;e.target!==t.inputElement&&(e.target.classList&&"fv__ui-slider"==e.target.classList[0]||n.classList&&"fv__ui-slider"==n.classList[0]||n.parentNode.classList&&"fv__ui-slider"==n.parentNode.classList[0])||t.valueChanged&&(t.trigger("willCommit",{oldValue:t.oldValue,commitValue:t.value}),t.valueChanged=!1)}};i(document,"click",a),this.addDestroyHook((function(){for(clearInterval(t.updateTask);;){var e=c.indexOf(t);if(!(e>-1))break;c.splice(e,1)}}))}else this.element.style.display="none"},t.prototype.commit=function(){this.valueChanged&&(this.trigger("willCommit",{oldValue:this.oldValue,commitValue:this.value}),this.valueChanged=!1)},t.prototype.disable=function(){e.prototype.disable.call(this),this.inputElement.setAttribute("disabled",1)},t.prototype.enable=function(){e.prototype.enable.call(this),this.inputElement.removeAttribute("disabled")},t.prototype._triggerChange=function(e,t,n,o){var r=this;this.notifyTimeout&&clearTimeout(this.notifyTimeout);var i=function(){r.trigger("change",t,n,o)};e?i():this.notifyTimeout=setTimeout(i,200)},t}(r.default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(121)),r=i(n(306));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var s=function(e){function t(n,o,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,i)),s=a._getNumberOption("min"),c=a._getNumberOption("max"),u=a._getNumberOption("step"),l=a._getNumberOption("value");return a.range=new r.default(s,c,u),a.value=a.range.normalizeValue(l),a}return a(t,e),t.prototype.setValue=function(e){e=this.normalizeValue(e),isNaN(e)||(this.value=e)},t.prototype.getValue=function(){return this.value},t.prototype.getRatio=function(){return(this.value-this.range.min)/(this.range.max-this.range.min)},t.prototype._getNumberOption=function(e){return e in this.$options?this.$options[e]:parseFloat(this.attrs[e])},t.prototype.normalizeValue=function(e){return this.range.normalizeValue(e)},t}(o.default);t.default=s},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";var t="",n=(e=e||{}).iconCls,r=o.$escape,i=e.iconText,a=e.left,s=e.value,c=e.min,u=e.max,l=e.usingSelect,f=e.unit;return t+='<div class="fv__ui-slider">\r\n    ',n&&(t+='\r\n    <div class="fv__slider-icon ',t+=r(n),t+='">',t+=r(i),t+="</div>\r\n    "),t+="\r\n    ",t+='\r\n    <div class="fv__ui-slider-line">\r\n        <div class="fv__ui-slider-center-point"></div>\r\n        <div class="fv__ui-slider-bar" style="width:',t+=r(a=100*(s-c)/(u-c)),t+='%"></div>\r\n        <span class="fv__ui-slider-cursor" style="left:',t+=r(a),t+='%"></span>\r\n    </div>\r\n    <input ',t+=r(l?"readOnly=1":""),t+='  value="',t+=r(s),t+='" class="fv__ui-slider-input" />\r\n    <span>',t+=r(f),t+="</span>\r\n</div>"}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=a(n(121)),i=a(n(1149));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}n(1150);var c=function(e){function t(n,o,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r))}return s(t,e),t.getName=function(){return"choice"},t.prototype.render=function(){var t=this;e.prototype.render.call(this),this.element.innerHTML=(0,i.default)(this.$options);var n=[".fv__ui-select-icon",".fv__ui-select-lable",".fv__ui-select-selector",".fv__ui-select-dropdown"].map((function(e){return t.element.querySelector(e)})),r=o(n,4),a=r[0],s=r[1],c=r[2],u=r[3];this.$icon=a,this.$lable=s,this.$selector=c,this.$dropdown=u,this.lableClass=""},t.prototype.getValue=function(){return this.value},t.prototype.setValue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;-1==e&&(t=0,e=this.$options.options[0].value);var n=this.value;this.value=e,-1==t&&this.$options.options.map((function(n,o){if(n.value===e)return t=o,!1}));var o=this.$options.options[t]||{};if(1!=this.$options.layout){this.lableClass&&this.$lable.classList.remove(this.lableClass),this.$lable.classList.add(o.class),this.lableClass=o.class,this.$options.noOptionLable&&o.class||(this.$lable.setAttribute("data-i18n",o.lable),this.localize());var r=this.$selector.querySelector(".selected");r&&r.classList.remove("selected"),(r=this.$selector.querySelector('[data-value="'+this.value+'"]'))&&r.classList.add("selected")}else this.lableClass&&this.$icon.classList.remove(this.lableClass),this.lableClass=o.class,this.$icon.classList.add(this.lableClass);return n!=this.value},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this);var n=function(e,n,o){e.addEventListener(n,o),t.addDestroyHook((function(){e.removeEventListener(n,o)}))},o=function(e){if(!t.disabled)return t.$selector.style.display="none",t.setValue(+(e.target.dataset?e.target.dataset.value:e.target.getAttribute("data-value")))&&t.trigger("change",t.value),e.stopPropagation(),!1};this.$selector.querySelectorAll("li").forEach((function(e){n(e,"click",o)}));n(this.element,"click",(function(e){return function(e,n){if(!t.disabled)return e&&(t.$selector.style.display="block",function(e){e.style.display="block",e.style["margin-top"]="";var t=e.getBoundingClientRect();t.top+t.height+e.ownerDocument.defaultView.pageYOffset>e.ownerDocument.defaultView.innerHeight&&(e.style["margin-top"]="-88%")}(t.$selector),t.active()),!1}(!0)}));n(document,"mouseup",(function(e){t.$selector.style.display="none"}))},t.prototype.disable=function(){e.prototype.disable.call(this),this.$selector.parentElement.classList.add("disabled"),this.$selector.style.display="none"},t.prototype.enable=function(){e.prototype.enable.call(this),this.$selector.parentElement.classList.remove("disabled")},t.prototype.deactive=function(){return this.$selector.style.display="none",e.prototype.deactive.call(this)},t}(r.default);t.default=c},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";e=e||{};var t="",n=o.$escape,r=e.layout,i=e.iconclass,a=e.icontext,s=e.text,c=e.selectorClass,u=e.i,l=e.j,f=e.options,p=e.option,d=e.optionLable,h=e.optionClass,g=e.noOptionLable;t+='<div class="fv__ui-select">\r\n    <div class="fv__ui-select-icon ',t+=n(1==r?"":i),t+='">',t+=n(a),t+='</div>\r\n    <div class="fv__ui-select-options">\r\n      <span class="fv__ui-select-lable" data-i18n="',t+=n(s||""),t+='">',t+=n(s),t+='</span>\r\n      <ul class="fv__ui-select-selector ',t+=n(c),t+='">\r\n        ';for(u=0,l=f.length;u<l;u++){d=(p=f[u]).lable||p.value,h=p.class;1==g&&(d=""),t+='\r\n        <li class="fv__ui-select-option" data-value="',t+=n(p.value),t+='"><div class="',t+=n(h),t+='" data-i18n="',t+=n(d),t+='" data-value="',t+=n(p.value),t+='">',t+=n(d),t+="</div></li>\r\n        "}return t+='\r\n      </ul>\r\n      <div class="fv__ui-select-dropdown">&#9660</div>\r\n    </div>\r\n</div>'}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(121)),r=s(n(1152));n(1153);var i=n(12),a=s(n(4));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=void 0,l=void 0,f=void 0,p=void 0,d=function(e){function t(n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r));return i.colors=[].concat(i.$options.colors),u=i.$options.selectedclass+i.$options.lightpostname,l=i.$options.selectedclass+i.$options.darkpostname,f=i.$options.deleteclass+i.$options.lightpostname,p=i.$options.deleteclass+i.$options.darkpostname,i.transparent=!1,i}return c(t,e),t.getName=function(){return"color"},t.prototype.postlink=function(){e.prototype.postlink.call(this)},t.prototype.createDOMElement=function(){return document.createElement("div")},t.prototype.setValue=function(e){0!=e&&-1==this.colors.indexOf(e)&&this.colors.push(e),this.disabled&&this.value||(this.value=e),this.isEditing=!1,this.render()},t.prototype.getValue=function(){return this.value},t.prototype.render=function(){e.prototype.render.call(this),this.element.innerHTML=(0,r.default)(Object.assign({},this.$options,{colors:this.colors})),this._activeDom(),this._bindSpectrum(),this.showTransparentColor(this.transparent),this.trigger("postrender")},t.prototype.mounted=function(){var e=this;this.element.addEventListener("click",(function(t){if(!e.disabled)if(t.target.classList.contains("fv__ui-picker-color")){if(e.isEditing){var n=t.target.dataset,o=void 0;return o=n?n.index:t.target.getAttribute("data-index"),e.colors[o]="delected",void(t.target.style.display="none")}var r=e.value||"transparent";e.value=(0,i.colorConvertor)(t.target.style.backgroundColor,"#"),e._activeDom(t.target),e.trigger("change",t,e.value,r)}else if(t.target.classList.contains("fv__ui-picker-nocolor")){if(e.isEditing)return;var a=e.value||"transparent";e.value=0,e._activeDom(t.target),e.trigger("change",t,a,"transparent")}else t.target.classList.contains("fv__ui-picker-addcolor")||t.target.classList.contains("fv__ui-picker-removecolor")&&e._toggleEditingMode(t)}))},t.prototype._activeDom=function(e){if(!e){var t=this.colors.indexOf(this.value);e=this.element.children[0].children[t]}var n=this.element.querySelector(".fv__ui-selected");n&&n.classList.remove("fv__ui-selected",u,l);var o=this.element.querySelector(".fv__ui-picker-nocolor");o&&0===this.value&&o.classList.add(u,"fv__ui-selected"),e&&(e.classList.add("fv__ui-selected"),h(e.style.backgroundColor)?e.classList.add(u):e.classList.add(l))},t.prototype._toggleEditingMode=function(e){if(this.isEditing){this.pdfUI.colorSpectrum.enable(),e.target.classList.remove(u),this.isEditing=!1;var t=!0,n=!1,o=void 0;try{for(var r,i=this.element.querySelector(".fv__ui-colors-picker").children[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var a=r.value;a.classList.contains("fv__ui-picker-color")&&a.classList.remove(p,f)}}catch(e){n=!0,o=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw o}}this._activeDom()}else{this.pdfUI.colorSpectrum.disable(),e.target.classList.add(u),this.isEditing=!0;var s=!0,c=!1,d=void 0;try{for(var g,m=this.element.querySelector(".fv__ui-colors-picker").children[Symbol.iterator]();!(s=(g=m.next()).done);s=!0){var v=g.value;v.classList.contains("fv__ui-picker-color")&&(v.classList.remove(u,l),h(v.style.backgroundColor)?v.classList.add(f):v.classList.add(p))}}catch(e){c=!0,d=e}finally{try{!s&&m.return&&m.return()}finally{if(c)throw d}}var y=this.element.querySelector(".fv__ui-picker-nocolor");y&&y.classList.remove(u)}},t.prototype._bindSpectrum=function(){var e=this;(this.$colorInput=(0,a.default)(this.element).find(".fv__ui-picker-addButton")).on("click",(function(t){e.pdfUI.colorSpectrum.show(t.target,(function(t){var n=e.value||"transparent";e.setValue(t),e.disabled||e.trigger("change",t,e.getValue(),n)})),e.pdfUI.colorSpectrum.setDefaultColor(e.value)}))},t.prototype.showTransparentColor=function(e){(0,a.default)(this.element).find("."+this.$options.transparentclass)[0].style.display=e?"inline-block":"none",this.transparent=e},t.prototype.doDestroy=function(){e.prototype.doDestroy.call(this)},t.prototype.doHidden=function(){e.prototype.doHidden.call(this),this.pdfUI.colorSpectrum.hide()},t}(o.default);function h(e){if(!e||0==e.length)return!0;var t=e.match(/rgba?\((\d*), (\d*), (\d*),? ?([\.0-9]*)?\)/);return t&&.299*t[1]+.578*t[2]+.114*t[3]>=192}t.default=d},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";var t="",n=(e=e||{}).i,r=e.j,i=e.colors,a=e.color,s=e.bc,c=o.$escape,u=e.transparent,l=e.showTrans,f=e.transparentclass,p=e.addclass,d=e.removeclass;t+='<ul class="fv__ui-colors-picker">\r\n';for(n=0,r=i.length;n<r;n++){s="",s="border-color:#e0e0e0";"delected"!=(a=i[n])&&(t+='\r\n  <li class="fv__ui-picker-color" data-index=\'',t+=c(n),t+="' style=\"background-color:",t+=c(a),t+=";",t+=c(s),t+='"></li>\r\n')}if(t+='\r\n<span class="fv__ui-sperator"></span>\r\n',!u)l="display:none";return t+='\r\n<li class="',t+=c(f),t+='" style="',t+=c(l),t+='">\r\n  <div style="height:100%;" class="fv__ui-picker-nocolor"></div>\r\n</li>\r\n<li class="',t+=c(p),t+=' fv__ui-picker-addcolor">\r\n  <input style="height:100%;width:100%;opacity:0;position:absolute;left:0;top:0;cursor: pointer;" class="fv__ui-picker-addButton"/>\r\n</li>\r\n<li class="',t+=c(d),t+=' fv__ui-picker-removecolor"></li>\r\n</ul>'}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(17)),r=a(n(1155));n(1156);var i=a(n(4));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(){},u=function(e){function t(n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r));return i.currentHue=0,i.currentSaturation=0,i.currentValue=0,i.disabled=!1,i}return s(t,e),t.getName=function(){return"color-spectrum"},t.prototype.createDOMElement=function(){return document.createElement("div")},t.prototype.mounted=function(){this.element.innerHTML=(0,r.default)();var t=(0,i.default)(this.element.firstElementChild);return this.localize(),this.$dragger=t.find(".foxit-spectrum-color"),this.$draggerHelper=t.find("#foxit-spectrum-color-dragger"),this.$slider=t.find(".foxit-spectrum-hue"),this.$sliderHelper=t.find("#foxit-spectrum-hue-slider"),this.$current=t.find("#foxit-spectrum-current"),this.$active=t.find("#foxit-spectrum-active"),this.$choose=t.find("#foxit-spectrum-choose"),this.$cancel=t.find("#foxit-spectrum-cancel"),this.$trans=t.find(".foxit-spectrum-transparent"),this.bindEvent(),e.prototype.mounted.call(this)},t.prototype.bindEvent=function(){var e=this;this.$cancel.on("click touchstart",(function(){e.hide()})),this.$choose.on("click touchstart",(function(){e.hide(),(e.$options.chooseCallback||c)(f(e.currentHue,e.currentSaturation,e.currentValue))})),this.sliderOffDrag=l(this.$slider[0],(function(t,n){e.currentHue=parseFloat(n/e.$slider.height()),e.updateHueLocation(),e.active()})),this.draggerOffDrag=l(this.$dragger[0],(function(t,n){var o=e.$dragger.height(),r=e.$dragger.width();e.currentSaturation=parseFloat(t/r),e.currentValue=parseFloat((o-n)/o),e.updateColorLocation(),e.active()})),this.$trans.on("click touchstart",(function(){e.currentHue=-1,e.currentSaturation=-1,e.currentValue=-1,e.updateColorLocation(),e.active(),e.$draggerHelper.css({top:0,left:0})}))},t.prototype.showTransparent=function(e){return this.$trans.toggle(e),this.$slider.css("height",e?"120px":"156px"),this},t.prototype.setDefaultColor=function(e){var t=function(e){e=0===e?"ffffff":e.replace(/^[\s,#]+/,"").replace(/\s+$/,"").toLowerCase();var t,n=/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/.exec(e),o=d(f(n[1]),255),r=d(f(n[2]),255),i=d(f(n[3]),255),a=Math.max(o,r,i),s=Math.min(o,r,i),c=void 0,u=a,l=a-s;if(t=0===a?0:l/a,a==s)c=0;else{switch(a){case o:c=(r-i)/l+(r<i?6:0);break;case r:c=(i-o)/l+2;break;case i:c=(o-r)/l+4}c/=6}return{h:c,s:t,v:u};function f(e){return parseInt(e,16)}}(e);this.currentHue=t.h,this.currentSaturation=t.s,this.currentValue=t.v,this.$current.css({backgroundColor:e}),this.$active.css({backgroundColor:e}),this.updateHueLocation(),this.updateColorLocation()},t.prototype.show=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;if(!this.disabled){var n=(0,i.default)(e),o=(0,i.default)(this.element.firstElementChild);o.css({display:"block"});window.devicePixelRatio;var r=n.offset(),a=(n.outerWidth(),n.outerHeight()),s=(o.offset(),o.outerWidth()),u=o.outerHeight(),l=r.top+a,f=0;f=r.left+s>window.innerWidth?r.left-(r.left+s-window.innerWidth):r.left,l+u>window.innerHeight&&(l=l-u-a),o.css({left:f,top:l+2}),this.$options.chooseCallback=t}},t.prototype.hide=function(){this.$trans.toggle(!1),(0,i.default)(this.element.firstElementChild).css({display:"none"}),this.$slider.css("height","156px")},t.prototype.active=function(){var e=f(this.currentHue,this.currentSaturation,this.currentValue);this.$active.css({backgroundColor:0===e?"transparent":e})},t.prototype.updateHueLocation=function(){var e=this.$slider.height(),t=this.$sliderHelper.height();this.$sliderHelper.css({top:e*this.currentHue-t});var n=p(this.currentHue,1,1);this.$dragger.css({backgroundColor:n})},t.prototype.updateColorLocation=function(){var e=this.$draggerHelper.outerHeight(),t=this.$draggerHelper.outerWidth(),n=this.$dragger.height(),o=this.$dragger.width();this.$draggerHelper.css({top:n-this.currentValue*n-e/2,left:this.currentSaturation*o-t/2})},t.prototype.destroy=function(){return this.sliderOffDrag(),this.draggerOffDrag(),this.$cancel.off("click touchstart"),this.$choose.off("click touchstart"),e.prototype.destroy.call(this)},t}(o.default);function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:c,r=e.ownerDocument||document,a=!1,s={},u=0,l="ontouchstart"in window;function f(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.returnValue=!1}function p(t){a||!1!==n.apply(e,arguments)&&(a=!0,u=(0,i.default)(e).width(),s=(0,i.default)(e).offset(),(0,i.default)(r).on("touchmove mousemove",d),(0,i.default)(r).on("touchend mouseup",h),l||d(t),f(t))}function d(n){if(a){var o=n.originalEvent&&n.originalEvent.touches,r=o?o[0].pageX:n.pageX,c=o?o[0].pageY:n.pageY,p=Math.max(0,Math.min(r-s.left,u)),d=Math.max(0,Math.min(c-s.top,(0,i.default)(e).height()));l&&f(n),t.apply(e,[p,d,n])}}function h(){a&&((0,i.default)(r).off("touchmove mousemove",d),(0,i.default)(r).off("touchend mouseup",h),o.apply(e,arguments)),a=!1}return(0,i.default)(e).on("touchstart mousedown",p),function(){(0,i.default)(e).off("touchstart mousedown",p)}}function f(e,t,n){return-1===e&&-1===t&&-1===n?0:p(e,t,n)}function p(e,t,n){e=6*d(h(e),360),t=d(h(t),100),n=d(h(n),100);var o=Math.floor(e),r=e-o,i=n*(1-t),a=n*(1-r*t),s=n*(1-(1-r)*t),c=o%6;return"#"+function(e,t,n){var o=Math.round;return[r(o(e).toString(16)),r(o(t).toString(16)),r(o(n).toString(16))].join("");function r(e){return 1==e.length?"0"+e:""+e}}(255*[n,a,i,i,s,n][c],255*[s,n,n,a,i,i][c],255*[i,i,s,n,n,a][c])}function d(e,t){var n=Math.min,o=Math.max;(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var r=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=n(t,o(0,parseFloat(e))),r&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function h(e){return e<=1&&(e=100*e+"%"),e}t.default=u},function(e,t,n){n(2);e.exports=function(e){"use strict";e=e||{};return'<layer modal @isolate class="foxit-spectrum-wrapper center" append-to="body">\r\n    <div class="foxit-spectrum">\r\n        <div class="foxit-spectrum-color">\r\n            <div class="foxit-spectrum-gradientX">\r\n                <div class="foxit-spectrum-gradientY">\r\n                    <div id="foxit-spectrum-color-dragger">\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="foxit-spectrum-hue">\r\n            <div id="foxit-spectrum-hue-slider">\r\n            </div>\r\n        </div>\r\n        <div class="foxit-spectrum-transparent fv__ui-property-icon-nocolor"></div>\r\n    </div>\r\n    <div class="foxit-spectrum-tools">\r\n        <div class="foxit-spectrum-show">\r\n            <div id="foxit-spectrum-current">\r\n            </div>\r\n            <div id="foxit-spectrum-active">\r\n            </div>\r\n        </div>\r\n        <div class="foxit-spectrum-btns">\r\n            <button id="foxit-spectrum-cancel" data-i18n="dialog.close">Cancel</button>\r\n            <button id="foxit-spectrum-choose" name="foxit-spectrum-choose" data-i18n="common-dialogs.ok">OK</button>\r\n        </div>\r\n    </div>\r\n</layer>','<layer modal @isolate class="foxit-spectrum-wrapper center" append-to="body">\r\n    <div class="foxit-spectrum">\r\n        <div class="foxit-spectrum-color">\r\n            <div class="foxit-spectrum-gradientX">\r\n                <div class="foxit-spectrum-gradientY">\r\n                    <div id="foxit-spectrum-color-dragger">\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="foxit-spectrum-hue">\r\n            <div id="foxit-spectrum-hue-slider">\r\n            </div>\r\n        </div>\r\n        <div class="foxit-spectrum-transparent fv__ui-property-icon-nocolor"></div>\r\n    </div>\r\n    <div class="foxit-spectrum-tools">\r\n        <div class="foxit-spectrum-show">\r\n            <div id="foxit-spectrum-current">\r\n            </div>\r\n            <div id="foxit-spectrum-active">\r\n            </div>\r\n        </div>\r\n        <div class="foxit-spectrum-btns">\r\n            <button id="foxit-spectrum-cancel" data-i18n="dialog.close">Cancel</button>\r\n            <button id="foxit-spectrum-choose" name="foxit-spectrum-choose" data-i18n="common-dialogs.ok">OK</button>\r\n        </div>\r\n    </div>\r\n</layer>'}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(1158);var o=a(n(1159)),r=a(n(1160)),i=a(n(121));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=(0,o.default)(),f=function(e){function t(){return s(this,t),c(this,e.apply(this,arguments))}return u(t,e),t.getName=function(){return"xselect"},t.getMetadata=function(){return{options:{editable:{type:"boolean",field:"isInEditState",defaultValue:!1},onInput:{type:"function",defaultValue:function(e){return e},args:["$inputValue"]},options:{type:"string"},textField:{type:"string",defaultValue:"value"},optionRender:{type:"function",defaultValue:function(e,t){return e[t.textField]}},textRender:{type:"function",defaultValue:function(e,t){return t.optionRender(e,t)}}}}},t.prototype.createDOMElement=function(){return document.createElement("div")},t.prototype.render=function(){e.prototype.render.call(this),this.element.classList.add("fv__ui-xselect"),this.element.innerHTML=l,this.optionsListElement=this.element.querySelector(".fv__ui-xselect-options-list"),this.textElement=this.element.querySelector("fv__ui-xselect-button-text"),this.btnElement=this.element.querySelector("fv__ui-xselect-button"),this.editElement=this.element.querySelector("fv__ui-xselect-edit")},t.prototype.edit=function(){this.btnElement.classList.add("editable"),this.isInEditState=!0},t.prototype.view=function(){this.btnElement.classList.remove("editable"),this.isInEditState=!1},t.prototype.append=function(t){if(!(t instanceof r.default))throw new TypeError("Illegal argument: unexpected child component type: <"+t.nodeName+"> for <xselect>");return e.prototype.append.call(this,t)},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this),this.addDestroyHook(this.controller.watch(this.options,(function(e,t){this.data=e,this.updateData(e,t)}),!0));var n=null,o=function(e){var o=e.target.closest("li"),r=o.getAttribute("index"),i=t.data[r],a=t.getValue();t.setValue(i),t.trigger("changed",i,a),o.classList.add("selected"),n&&n.classList.remove("selected"),n=o,e.stopPropagation()};this.optionsListElement.addEventListener("click",o),this.addDestroyHook((function(){return t.optionsListElement.removeEventListener("click",o)}))},t.prototype.setValue=function(e){this.value=e,this.textElement.innerText=this.textRender(e,this)},t.prototype.updateData=function(e){var t=this;if(this.optionsListElement.clear(),0!==e.length){var n=document.createDocumentFragment();e.forEach((function(e,o){var r=document.createElement("li");r.classList.add("fv__ui-xselect-option"),r.setAttribute("index",o);var i=t.optionRender(e,t);r.setAttribute("data-i18n",i),n.appendChild(r)})),this.optionsListElement.appendChild(n),-1==e.indexOf(this.value)&&this.setValue(e[0])}else this.setValue(null)},t}(i.default);t.default=f},function(e,t){},function(e,t,n){n(2);e.exports=function(e){"use strict";e=e||{};return'<div class="fv__ui-xselect-button">\r\n    <div class="fv__ui-xselect-button-text"></div>\r\n    <div class="fv__ui-xselect-button-edit">\r\n        <input type="text">\r\n    </div>\r\n    <div class="fv__ui-xselect-button-icon">\r\n        <i></i>\r\n    </div>\r\n</div>\r\n<ul class="fv__ui-xselect-options-list">\r\n</ul>','<div class="fv__ui-xselect-button">\r\n    <div class="fv__ui-xselect-button-text"></div>\r\n    <div class="fv__ui-xselect-button-edit">\r\n        <input type="text">\r\n    </div>\r\n    <div class="fv__ui-xselect-button-icon">\r\n        <i></i>\r\n    </div>\r\n</div>\r\n<ul class="fv__ui-xselect-options-list">\r\n</ul>'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(17);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.getName=function(){return"xoption"},t.getMetadata=function(){return{options:{text:{type:"string"},value:{}}}},t.prototype.createDOMElement=function(){return document.createElement("li")},t.prototype.doActive=function(){this.parent.setValue(this.value)},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=c},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(119));function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.getName=function(){return"contextmenu-item"},t.getMetadata=function(){return{options:{shortcut:{type:"string"}}}},t.prototype.createDOMElement=function(){this.textElement=document.createElement("span"),this.textElement.classList.add("fv__ui-button-text"),this.iconElement=document.createElement("i"),this.iconElement.classList.add("fv__ui-button-icon");var e=document.createElement("span");e.classList.add("fv__ui-contextmenu-item-shortcut"),this.shortcutElement=e;var t=document.createElement("a");return this.orderedElementsManager=new o.default(t,[this.iconElement,this.textElement,this.shortcutElement]),t},t.prototype.render=function(){e.prototype.render.call(this),this.shortcutElement.innerText=this.shortcut||"",this.orderedElementsManager.mount(this.shortcutElement),this.addCSSClass("fv__ui-contextmenu-item")},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this),this.addDestroyHook(this.on("click",(function(){t.parent.hide()})))},t}(r(n(220)).default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(223)),r=a(n(30)),i=n(8);function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(n,o,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n.focus=!1,function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r))}return s(t,e),t.getName=function(){return"tooltip-layer"},t.prototype.setCurrentSelectionTool=function(e){this.selectionTool=e},t.prototype.getCurrentSelectionTool=function(){return this.selectionTool},t.prototype.setAlignment=function(e){switch(e){case"bottom":this.element.classList.add("align-bottom");break;default:this.element.classList.remove("align-bottom")}},t.prototype.showAt=function(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.appendTo,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.default,s=!this.isVisible;this.element.style.cssText+="\n            left: "+t+"px;\n            top: "+n+"px;\n        ",e.prototype.show.call(this,o);var c=a(this.element);if(c){var u="";"number"==typeof c.left&&(u+="left: "+c.left+"px;"),"number"==typeof c.top&&(u+="top: "+c.top+"px;"),u.length&&(this.element.style.cssText+=u)}s||this.trigger(i.COMPONENT_EVENTS.SHOWN)},t}(o.default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=c(n(27));n(1165);var r=c(n(1166)),i=c(n(54)),a=n(18),s=n(14);function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l={};i.default.property(l,"dom",(function(){var e=document.createElement("div");e.innerHTML=(0,r.default)();var t=e.firstElementChild;return e.removeChild(t),t}));var f=function(e){function t(n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r));return i.taskExecutor=new a.DebounceAsyncTaskExecutor(10),"string"==typeof i.excludeDevicesString?i.excludeDevices=i.excludeDevicesString.split(/[,;\s]+/):i.excludeDevices=[],"string"==typeof i.includeDevicesString?i.includeDevices=i.includeDevicesString.split(/[,;\s]+/):i.includeDevices=[],i.addDestroyHook((function(){i.taskExecutor.destroy()})),i}return u(t,e),t.getName=function(){return"paddle"},t.getMetadata=function(){return{options:{orientation:{type:"enum",enums:["horizontal","vertical"],defaultValue:"horizontal"},"exclude-devices":{type:"string",field:"excludeDevicesString",required:!1},devices:{type:"string",field:"includeDevicesString",required:!1},canBeDisabled:{type:"boolean",defaultValue:!1},step:{type:"number"}}}},t.prototype.createDOMElement=function(){return l.dom.cloneNode(!0)},t.prototype.prerender=function(){e.prototype.prerender.call(this),this.element.classList.add("fv__ui-paddle-"+this.orientation),this.leftButton=this.element.querySelector(".fv__ui-paddle-button-prev"),this.rightButton=this.element.querySelector(".fv__ui-paddle-button-next"),this.contentElement=this.element.querySelector(".fv__ui-paddle-content"),this.containerElement=this.contentElement.parentElement},t.prototype.getContainerElement=function(){return this.contentElement},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this),this.shouldWorking()?(this.attachEventToElement(this.leftButton,"click",(function(e){t.backward()})),this.attachEventToElement(this.rightButton,"click",(function(e){t.forward()})),this.attachEventToElement(window,"resize",(function(){t.taskExecutor.exec((function(){return t.updatePaddleState(),Promise.resolve()}))})),this.updatePaddleState()):this.element.classList.add("fv__ui-paddle-unavailable")},t.prototype.paddle=function(e){e>0?this.forward(e):e<0&&this.backward(-e)},t.prototype.backward=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.step;this.disabled||(this.containerElement.scrollLeft=e>0?Math.max(0,this.containerElement.scrollLeft-e):0,this.updatePaddleState())},t.prototype.forward=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.step;if(!this.disabled){var t=this.containerElement,n=this.contentElement,o=n.offsetWidth-t.offsetWidth,r=0;r=e>0?Math.min(o,t.scrollLeft+e):o,t.scrollLeft=r,this.updatePaddleState();var i=t.scrollLeft;i!==r&&(t.scrollLeft=r,(r===o||r+t.offsetWidth>=n.offsetWidth)&&this.element.classList.remove("fv__ui-paddle-overflow-forward"))}},t.prototype.receiveBroadcast=function(t,n){e.prototype.receiveBroadcast.call(this,t,n),"active"===t&&this.updatePaddleState()},t.prototype.updatePaddleState=function(){var e=this,t=this.containerElement,n=this.contentElement.offsetWidth,o=t.offsetWidth;this.element.classList.remove("fv__ui-paddle-overflow-backward","fv__ui-paddle-overflow-forward","fv__ui-paddle-overflow-none");var r=function(t){e.element.classList.add("fv__ui-paddle-overflow-"+t)};n>o?(t.scrollLeft+o<n&&r("forward"),t.scrollLeft>0&&r("backward")):r("none")},t.prototype.shouldWorking=function(){var e=this.devices||[],t=this.excludeDevices||[],n=!1;if((e.length>0&&(n=e.some((function(e){return!!s.DEVICE_DETACTION[e]}))),!n)&&t.some((function(e){return!!s.DEVICE_DETACTION[e]})))return!1;return!0},t}(o.default);t.default=f},function(e,t){},function(e,t,n){n(2);e.exports=function(e){"use strict";e=e||{};return'<div class="fv__ui-paddle">\r\n    <div class="fv__ui-paddle-button fv__ui-paddle-button-prev">\r\n        <i></i>\r\n    </div>\r\n    <div class="fv__ui-paddle-content-container">\r\n        <div class="fv__ui-paddle-content"></div>\r\n    </div>\r\n    <div class="fv__ui-paddle-button fv__ui-paddle-button-next">\r\n        <i></i>\r\n    </div>\r\n</div>','<div class="fv__ui-paddle">\r\n    <div class="fv__ui-paddle-button fv__ui-paddle-button-prev">\r\n        <i></i>\r\n    </div>\r\n    <div class="fv__ui-paddle-content-container">\r\n        <div class="fv__ui-paddle-content"></div>\r\n    </div>\r\n    <div class="fv__ui-paddle-button fv__ui-paddle-button-next">\r\n        <i></i>\r\n    </div>\r\n</div>'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(27),i=(o=r)&&o.__esModule?o:{default:o};function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}n(1168);var s=function(e){function t(n,o,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r))}return a(t,e),t.getName=function(){return"option-group"},t.prototype.createDOMElement=function(){var e=document.createElement("div");return e.classList.add("fv__ui-option-group"),e},t}(i.default);t.default=s},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(220)),r=i(n(119));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var s=function(e){function t(n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r));return i.activeClass="selected",i.iconCls="fv__icon-tick",i}return a(t,e),t.getName=function(){return"option-group-item"},t.prototype.createDOMElement=function(){e.prototype.createDOMElement.call(this);var t=document.createElement("li");return t.classList.add("fv__ui-option-group-item"),this.orderedElementsManager=new r.default(t,[this.iconElement,this.textElement]),t},t.prototype.trigger=function(t){var n=this;if("click"!==t){for(var o,r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];(o=e.prototype.trigger).call.apply(o,[this,t].concat(i))}else this.isMultiple?(this.element.classList.toggle(this.activeClass),e.prototype.trigger.call(this,t,{selected:c(this.element,this.activeClass)})):c(this.element,this.activeClass)||(Array.from(this.element.parentNode.children).forEach((function(e){e.classList.remove(n.activeClass)})),this.element.classList.add(this.activeClass),e.prototype.trigger.call(this,t,{selected:!0}))},t.prototype.unSelected=function(t){var n=this;this.isMultiple?(this.element.classList.remove(this.activeClass),t&&e.prototype.trigger.call(this,t,{selected:!1})):this.element.parentNode.querySelectorAll("."+this.activeClass).forEach((function(e){e.classList.remove(n.activeClass)}))},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this);var n=this.parent.element,o=this.element.getAttribute("selected");this.isMultiple=null!==n.getAttribute("multiple"),this.pdfUI.eventEmitter.once("open-file-success",(function(){null!==o&&t.trigger("click","mounted")}))},t}(o.default);function c(e,t){return!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=u(n(21)),i=n(17),a=u(i),s=u(n(305)),c=u(n(119));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}n(1171);var d=function(e){function t(){return l(this,t),f(this,e.apply(this,arguments))}return p(t,e),t.getName=function(){return"gtab"},t.getMetadata=function(){return{options:{"icon-class":{type:"string",field:"iconCls"},group:{type:"string",required:!0,field:"groupName"},body:{type:"string",required:!0},closable:{type:"boolean",defaultValue:!1},"destroy-on-close":{type:"boolean",defaultValue:!1,field:"destroyOnClose"},"destrory-with-body":{type:"boolean",defaultValue:!0,field:"destroyWithBody"},text:{type:"string"}}}},t.prototype.init=function(){this.tabGroups=this.context.tabGroups,this.isClosed=!1,this.bodyComponentDefer=(0,r.default)(),this.bodyComponentPromise=this.bodyComponentDefer.promise},t.prototype.createDOMElement=function(){var e=document.createElement("div"),t=document.createElement("span"),n=document.createElement("i"),o=document.createElement("i");return this.orderedElementManager=new c.default(e,[o,t,n]),this.closeElement=n,this.iconElement=o,this.textElement=t,e},t.prototype.render=function(){e.prototype.render.call(this),this.element.classList.add("fv__ui-gtab-item"),this.textElement.classList.add("fv__ui-gtab-item-text"),this.iconElement.classList.add("fv__ui-gtab-item-icon"),this.closeElement.classList.add("fv__ui-gtab-item-close"),this.iconCls&&(this.iconElement.classList.add(this.iconCls),this.orderedElementManager.mount(this.iconElement)),this.orderedElementManager.mount(this.textElement),this.closable&&this.orderedElementManager.mount(this.closeElement)},t.prototype.setClosable=function(e){this.closable="boolean"==typeof e?e:this.closable,this.closable?this.orderedElementManager.mount(this.closeElement):this.orderedElementManager.unmount(this.closeElement)},t.prototype.setText=function(e){this.text=e||this.text,this.texts.slice(0).forEach((function(e){return e.destroy()})),this.renderText(),this.localize()},t.prototype.acceptText=function(){return!0},t.prototype.renderText=function(){var e=this.textElement;return"string"==typeof this.text&&this.text.length>0?e.setAttribute("data-i18n",this.text):(e.removeAttribute("data-i18n"),this.texts.length>0&&(0,s.default)(e,this.texts.map((function(e){return e.element})))),this.orderedElementManager.mount(e),e},t.prototype.postlink=function(){e.prototype.postlink.call(this),this.renderText()},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this),this.tabGroups.addTab(this),this.addDestroyHook((function(){t.tabGroups.removeTab(t)})),this.waitForComponentLifecycle(this.body,i.ComponentLifecycle.mounted).then((function(e){var n=o(e,1)[0];t.bodyComponentDefer.resolve(n)})),this.attachEventToElement(this.element,"click",(function(){t.disabled||t.active()})),this.attachEventToElement(this.closeElement,"click",(function(e){e.stopPropagation(),t.disabled||t.close()})),this.isActive?(this.isActive=!1,this.active()):(this.isActive=!0,this.deactive())},t.prototype.doActive=function(){var e=this;this.element.classList.add("active"),this.tabGroups.getGroupTabs(this.groupName).forEach((function(t){t!==e&&t.isActive&&t.deactive()})),this.bodyComponentPromise.then((function(e){e.show()}))},t.prototype.doDeactive=function(){this.element.classList.remove("active"),this.bodyComponentPromise.then((function(e){e.hide()}))},t.prototype.doDestroy=function(){e.prototype.doDestroy.call(this),this.destroyWithBody&&this.bodyComponentPromise.then((function(e){e.destroy()}))},t.prototype.getTabBodyComponent=function(){return this.bodyComponentPromise},t.prototype.close=function(){this.isClosed||this.isDestroyed||(this.isClosed=!0,this.activeNext(),this.hide(),this.trigger("close"),this.destroyOnClose&&(this.destroy(),this.destroyWithBody||this.bodyComponentPromise.then((function(e){return e.destroy()}))))},t.prototype.activeNext=function(){var e=this.tabGroups.getGroupTabs(this.groupName).filter((function(e){return e.isVisible&&e.isDOMVisible()})),t=e.indexOf(this),n=void 0;(n=t===e.length-1?e[t-1]:e[t+1])&&n.active()},t.prototype.open=function(){this.isClosed&&!this.isDestroyed&&(this.show(),1===this.tabGroups.getGroupTabs(this.groupName).length&&this.active(),this.isClosed=!1,this.trigger("open"))},t}(a.default);t.default=d},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(17);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.getName=function(){return"html-comment"},t.getMetadata=function(){return{options:{text:{type:"string"},ignoreable:{type:"boolean",defaultValue:!1}}}},t.prototype.doEnable=function(){},t.prototype.doDisable=function(){},t.prototype.doActive=function(){},t.prototype.doDeactive=function(){},t.prototype.doShown=function(){},t.prototype.doHidden=function(){},t.prototype.addCSSClass=function(){},t.prototype.removeCSSClass=function(){},t.prototype.prerender=function(){},t.prototype.isIgnorable=function(){return this.ignoreable},t.prototype.createDOMElement=function(){return document.createComment(this.text||"")},t.prototype.acceptText=function(){return!0},t.prototype.renderText=function(){this.localize()},t.prototype.localize=function(){return this.element.textContent=this.text,Promise.resolve()},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(17);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.getName=function(){return"native-dom"},t.prototype.createDOMElement=function(){return this.$options.nativeDOM},t.prototype.acceptText=function(){return!1},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnnottextComponent=t.ConfirmComponent=t.LoadingComponent=t.PromptPasswordComponent=t.PromptComponent=t.AlertComponent=void 0;var o=n(1175);Object.defineProperty(t,"AlertComponent",{enumerable:!0,get:function(){return u(o).default}});var r=n(1192);Object.defineProperty(t,"PromptComponent",{enumerable:!0,get:function(){return u(r).default}});var i=n(1194);Object.defineProperty(t,"PromptPasswordComponent",{enumerable:!0,get:function(){return u(i).default}});var a=n(1196);Object.defineProperty(t,"LoadingComponent",{enumerable:!0,get:function(){return u(a).default}});var s=n(1198);Object.defineProperty(t,"ConfirmComponent",{enumerable:!0,get:function(){return u(s).default}});var c=n(1201);function u(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"AnnottextComponent",{enumerable:!0,get:function(){return u(c).default}}),n(1203),n(1206)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(26)),r=i(n(1190));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}n(1191);var u=function(e){function t(){return a(this,t),s(this,e.apply(this,arguments))}return c(t,e),t.getName=function(){return"alert"},t.getMetadata=function(){return{options:{title:{type:"string",defaultValue:"common-dialogs.alert-title"},message:{type:"string",defaultValue:"common-dialogs.alert-message"},level:{type:"enum",enums:["info","warn","error"],defaultValue:"info"}}}},t.prototype.postlink=function(){var t=this;e.prototype.postlink.call(this),this.alertController=this.querySelector(">@div").controller,this.header=this.querySelector(">@div>@layer-header"),this.body=this.querySelector(">@div>@layer-view"),this.bodyIcon=this.querySelector(">@div>@layer-view>@i"),this.alertController.ok=function(){t.hide()}},t.prototype.append=function(t){this.body?(this.$container.append(t),this.body.append(t)):e.prototype.append.call(this,t)},t.prototype.removeChild=function(t){this.body?(this.$container.removeChild(t),this.body.removeChild(t)):e.prototype.removeChild.call(this,t)},t.prototype.mounted=function(){e.prototype.mounted.call(this),this.alertController.title=this.title,this.alertController.message=this.message,this.alertController.digest()},t.prototype.setTitle=function(e){"string"==typeof e&&(this.alertController.title=e,this.alertController.digest())},t.prototype.setIconType=function(e){"string"==typeof e||e?(this.bodyIcon.removeCSSClass("fv__hidden"),this.bodyIcon.removeCSSClass(this.alertController.iconType),this.alertController.iconType="fv__icon-dialog-level-"+e,this.bodyIcon.addCSSClass(this.alertController.iconType),this.alertController.digest()):this.bodyIcon.addCSSClass("fv__hidden")},t.prototype.setMessage=function(e){"string"==typeof e&&(this.alertController.message=e,this.alertController.digest())},t}(o.default.createSuperClass({template:(0,r.default)()}));t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(45);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.fragmentContent=n.fragmentContent,o}return i(t,e),t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=a},function(e,t,n){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(1178)),i=n(8),a=h(n(1179)),s=h(n(1180)),c=h(n(1181)),u=h(n(1182)),l=h(n(1183)),f=h(n(1184)),p=h(n(1185)),d=h(n(309));function h(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.default=(g(o={},i.FRAGMENT_ACTION.PREPEND,r.default),g(o,i.FRAGMENT_ACTION.APPEND,c.default),g(o,i.FRAGMENT_ACTION.BEFORE,s.default),g(o,i.FRAGMENT_ACTION.AFTER,a.default),g(o,i.FRAGMENT_ACTION.REPLACE,u.default),g(o,i.FRAGMENT_ACTION.FILL,l.default),g(o,i.FRAGMENT_ACTION.EXT,f.default),g(o,i.FRAGMENT_ACTION.REMOVE,p.default),g(o,i.FRAGMENT_ACTION.INSERT,d.default),o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){r.insertAt.call(this,e,t,0)};var o,r=n(309),i=n(45);(o=i)&&o.__esModule},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!t.target)throw new Error("target name is missing!");Array.isArray(t.target)||(t.target=[t.target]);var n=t.config||[];Array.isArray(n)||(n=[n]);var o=this.templateParser,r={};n.forEach((function(e,t){if(!e.target)throw new Error("target name is required for fragment components ("+t+")");if(r[e.target])throw new Error("Duplicated target name: "+e.target);r[e.target]=e})),t.target.forEach((function(n){var a=e.querySelectorAll(n);(0,i.assertSelectorResult)(t,a,n),a.forEach((function(e){if(!t.ignoreAsync){var n=e.asyncAncestor();if(n)return void n.appendFragment(Object.assign({},t,{target:e.name}))}var i=t.template?o.parse(t.template):null;if(!i)throw new Error('invalid fragment template: "'+t.template+'"');i.appendComponentOptions(r[i.name]),e.after(i)}))}))};var o,r=n(45),i=((o=r)&&o.__esModule,n(140))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!t.target)throw new Error("target name is missing!");Array.isArray(t.target)||(t.target=[t.target]);var n=t.config||[];Array.isArray(n)||(n=[n]);var o=this.templateParser,r={};n.forEach((function(e,t){if(!e.target)throw new Error("target name is required for fragment components ("+t+")");if(r[e.target])throw new Error("Duplicated target name: "+e.target);r[e.target]=e})),t.target.forEach((function(n){var a=e.querySelectorAll(n);(0,i.assertSelectorResult)(t,a,n),a.forEach((function(e){if(!t.ignoreAsync){var n=e.asyncAncestor();if(n)return void n.appendFragment(Object.assign({},t,{target:e.name}))}var i=t.template?o.parse(t.template):null;if(!i)throw new Error('invalid fragment template: "'+t.template+'"');i.appendComponentOptions(r[i.name]),e.before(i)}))}))};var o,r=n(45),i=((o=r)&&o.__esModule,n(140))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){r.insertAt.call(this,e,t,1/0)};var o,r=n(309),i=n(45);(o=i)&&o.__esModule},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=this;if(!t.target)throw new Error("target name is missing!");Array.isArray(t.target)||(t.target=[t.target]);var o=t.config||[];Array.isArray(o)||(o=[o]);var r={};o.forEach((function(e,t){if(!e.target)throw new Error("target name is required for fragment components ("+t+")");if(r[e.target])throw new Error("Duplicated target name: "+e.target);r[e.target]=e})),t.target.forEach((function(o){var a=e.querySelectorAll(o);(0,i.assertSelectorResult)(t,a,o),a.forEach((function(e){if(!t.ignoreAsync){var i=e.asyncAncestor();if(i)return void i.appendFragment(Object.assign({},t,{target:e.name}))}var a=t.template?n.templateParser.parse(t.template):null;if(!a)throw new Error('invalid fragment template: "'+t.template+'"');var s=function(e){var t=a.querySelectorAll(e),n=r[e];t.forEach((function(e){return e.appendComponentOptions(n)}))};for(var c in r)s(c);a&&(a.setAttribute("name",o),e.after(a),e.remove())}))}))};var o,r=n(45),i=((o=r)&&o.__esModule,n(140))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=this;if(!t.target)throw new Error("target name is missing!");Array.isArray(t.target)||(t.target=[t.target]);var o=t.config,r={};Array.isArray(o)?o.forEach((function(e){r[e.target]=e})):o&&(r[o.target]=o);t.target.forEach((function(o){var a=e.querySelectorAll(o);(0,i.assertSelectorResult)(t,a,o),a.forEach((function(e){if(!t.ignoreAsync){var o=e.asyncAncestor();if(o)return void o.appendFragment(Object.assign({},t,{target:e.name}))}var i=n.templateParser.parse(t.template,!1);e.clear(),i.forEach((function(t){t.appendComponentOptions(r[t.name]),e.append(t)}))}))}))};var o,r=n(45),i=((o=r)&&o.__esModule,n(140))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e,t){var n=this;if(!t.target)throw new Error("target name is missing!");Array.isArray(t.target)||(t.target=[t.target]);t.target.forEach((function(o){var r=e.querySelectorAll(o);(0,a.assertSelectorResult)(t,r,o),r.forEach((function(e,o){if(!t.ignoreAsync){var r=e.asyncAncestor();if(r)return void r.appendFragment(Object.assign({},t,{target:e.name}))}s.call(n,e,t)}))}))};var r,i=n(45),a=((r=i)&&r.__esModule,n(140));function s(e,t){var n=t.config;n&&(Array.isArray(n)||(n=[n]),n.forEach((function(t){t=Object.assign({},t);var n=e.componentOptions||{},r=t.callback,i=n.callback;switch(void 0===r?"undefined":o(r)){case"object":t.callback=i,t.proxyControllers=n.proxyControllers.concat(r);break;case"function":n.proxyControllers=[]}e.appendComponentOptions(t)})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!t.target)throw new Error("target name is missing!");Array.isArray(t.target)||(t.target=[t.target]);t.target.forEach((function(n){var o=e.querySelectorAll(n);(0,i.assertSelectorResult)(t,o,n),o.forEach((function(e){if(!t.ignoreAsync){var n=e.asyncAncestor();if(n)return void n.appendFragment(Object.assign({},t,{target:e.name}))}e.remove()}))}))};var o,r=n(45),i=((o=r)&&o.__esModule,n(140))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(28),r=a(n(1187)),i=a(n(1188));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.parser=t.parser,this.templateParser=t.templateParser,this.localizer=t.localizer,this.store=new o.Store,this.tabGroups=new r.default,this.pool=new i.default}return e.prototype.destroy=function(){this.store.destroy()},e}();t.default=s},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(t){o(this,e),this.name=t,this.tabItems=[]}return e.prototype.addTab=function(e){this.tabItems.push(e)},e.prototype.removeTab=function(e){var t=this.tabItems.indexOf(e);if(-1!=t){if(e.isActive)this.tabItems[t].active();return this.tabItems.splice(t,1),this.tabItems.length>0}},e}(),i=function(){function e(){o(this,e),this.groups={}}return e.prototype.addTab=function(e){var t=e.groupName,n=this.groups[t]||new r(t);this.groups[t]=n,n.addTab(e)},e.prototype.removeTab=function(e){var t=e.groupName,n=this.groups[t];n&&(n.removeTab(e)||(this.groups[t]=void 0,delete this.groups[t]))},e.prototype.getGroupTabs=function(e){var t=this.groups[e];return t?t.tabItems:[]},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.components={}}return e.prototype.addComponent=function(e){var t=e.name,n=this.components[t]||[];return this.components[t]=n,n.push(e),function(){for(var t=-1;-1!==(t=n.indexOf(e,t+1));)n.splice(t,1)}},e.prototype.getComponentByName=function(e,t){var n=this.components[e];return n?n.find((function(e){return e.isDescendantOf(t)})):null},e.prototype.getComponentsByName=function(e,t){var n=this.components[e];return n?n.filter((function(e){return e.isDescendantOf(t)})):[]},e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(45));n(8);function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=(0,r(n(164)).default)("senior_slot_name"),s=function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=o.$$options.attrs,i=n.$$options.attrs,a=Object.assign({},i,r),s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,{namespace:o.namespace,nodeName:o.nodeName,attrs:a,text:o.text,template:o.template}));return n.children.forEach((function(e){e.$$isOriginalChild=!0,s.append(e)})),o.children.length>0&&o.children.forEach((function(e){s.append(e)})),s.extChildren=o.children,s}return i(t,e),t.getSeniorSlotName=function(){return a},t}(o.default);t.default=s},function(e,t,n){n(2);e.exports=function(e){"use strict";e=e||{};return'<layer modal @isolate class="fv__ui-ask-dialog center fv__ui-alert-dialog" append-to="body">\r\n    <div @controller.alias="alert">\r\n        <layer-header @set.title="alert.title"></layer-header>\r\n        <layer-view slot="default" class="fv__ui-dialog-message">\r\n            <i class="fv__ui-layer-message-icon fv__hidden"></i>\r\n            @{alert.message}\r\n        </layer-view>\r\n        <layer-toolbar>\r\n            <xbutton class="fv__ui-dialog-ok-button" @on.click="alert.ok()">common-dialogs.ok</xbutton>\r\n        </layer-toolbar>\r\n    </div>\r\n</layer>\r\n','<layer modal @isolate class="fv__ui-ask-dialog center fv__ui-alert-dialog" append-to="body">\r\n    <div @controller.alias="alert">\r\n        <layer-header @set.title="alert.title"></layer-header>\r\n        <layer-view slot="default" class="fv__ui-dialog-message">\r\n            <i class="fv__ui-layer-message-icon fv__hidden"></i>\r\n            @{alert.message}\r\n        </layer-view>\r\n        <layer-toolbar>\r\n            <xbutton class="fv__ui-dialog-ok-button" @on.click="alert.ok()">common-dialogs.ok</xbutton>\r\n        </layer-toolbar>\r\n    </div>\r\n</layer>\r\n'}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(26)),r=a(n(1193)),i=n(8);function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}n(493);var l=function(e){function t(){return s(this,t),c(this,e.apply(this,arguments))}return u(t,e),t.getName=function(){return"prompt"},t.getMetadata=function(){return{options:{title:{type:"string",defaultValue:"common-dialogs.prompt-title"},message:{type:"string",defaultValue:"common-dialogs.prompt-title"}}}},t.prototype.postlink=function(){e.prototype.postlink.call(this),this.promptController=this.querySelector(">@div").controller,this.inputComponent=this.querySelector("fv__ui-prompt-value-editor"),this.okButtonComponent=this.querySelector("fv__ui-prompt-ok-button"),this.promptController.title=this.title,this.promptController.message=this.message,this.promptController.digest()},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this),this.on(i.COMPONENT_EVENTS.SHOWN,(function(){setTimeout((function(){t.inputComponent.focus(),t.inputComponent.element.select()}))}))},t.prototype.setTitle=function(e){this.promptController.title=e,this.promptController.digest()},t.prototype.setIconType=function(e){("string"==typeof e||e)&&(this.promptController.iconType="fv__icon-dialog-level-"+e,this.promptController.digest())},t.prototype.setMessage=function(e){this.promptController.message=e,this.promptController.digest()},t.prototype.getValue=function(){return this.inputComponent.getValue()},t.prototype.setValue=function(e){void 0!==e&&this.inputComponent.setValue(e)},t.prototype.disableOk=function(e){var t=this;if(e){this.okButtonComponent.lock();var n=function(){t.inputComponent.getValue()?t.okButtonComponent.unlock():t.okButtonComponent.lock()};this.inputComponent.element.addEventListener("input",n),this.once(i.COMPONENT_EVENTS.HIDDEN,(function(){t.inputComponent.element.removeEventListener("input",n)}))}},t}(o.default.createSuperClass({template:(0,r.default)()}));t.default=l},function(e,t,n){n(2);e.exports=function(e){"use strict";e=e||{};return'<layer modal @isolate append-to="body" backdrop class="fv__ui-ask-dialog center fv__ui-prompt-dialog" @isolate>\r\n    <div @controller="dialogs:PromptDialogController as prompt">\r\n        <layer-header @set.title="prompt.title" @set.icon="prompt.iconType"></layer-header>\r\n        <layer-view>\r\n            <div class="fv__ui-dialog-message fv__ui-prompt-message">\r\n                <text @set.text="prompt.message"></text>\r\n            </div>\r\n            <input name="fv__ui-prompt-value-editor">\r\n        </layer-view>\r\n        <layer-toolbar>\r\n            <xbutton class="fv__ui-dialog-cancel-button" name="fv__ui-prompt-cancel-button" @on.click="prompt.cancel()">common-dialogs.cancel</xbutton>\r\n            <xbutton class="fv__ui-dialog-ok-button" name="fv__ui-prompt-ok-button" @on.click="prompt.ok()">common-dialogs.ok</xbutton>\r\n        </layer-toolbar>\r\n    </div>\r\n</layer>','<layer modal @isolate append-to="body" backdrop class="fv__ui-ask-dialog center fv__ui-prompt-dialog" @isolate>\r\n    <div @controller="dialogs:PromptDialogController as prompt">\r\n        <layer-header @set.title="prompt.title" @set.icon="prompt.iconType"></layer-header>\r\n        <layer-view>\r\n            <div class="fv__ui-dialog-message fv__ui-prompt-message">\r\n                <text @set.text="prompt.message"></text>\r\n            </div>\r\n            <input name="fv__ui-prompt-value-editor">\r\n        </layer-view>\r\n        <layer-toolbar>\r\n            <xbutton class="fv__ui-dialog-cancel-button" name="fv__ui-prompt-cancel-button" @on.click="prompt.cancel()">common-dialogs.cancel</xbutton>\r\n            <xbutton class="fv__ui-dialog-ok-button" name="fv__ui-prompt-ok-button" @on.click="prompt.ok()">common-dialogs.ok</xbutton>\r\n        </layer-toolbar>\r\n    </div>\r\n</layer>'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(26)),r=a(n(1195)),i=n(8);function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}n(493);var l=function(e){function t(){return s(this,t),c(this,e.apply(this,arguments))}return u(t,e),t.getName=function(){return"prompt-password"},t.getMetadata=function(){return{options:{title:{type:"string",defaultValue:"common-dialogs.prompt-title"},message:{type:"string",defaultValue:"common-dialogs.prompt-title"}}}},t.prototype.postlink=function(){e.prototype.postlink.call(this),this.promptController=this.querySelector(">@div").controller,this.inputComponent=this.querySelector("fv__ui-prompt-pwd-value-editor"),this.notifyComponent=this.querySelector("fv__ui-prompt-pwd-notify"),this.passwordSwicherIcon=this.querySelector("fv__ui-prompt-pwd-value-editor-toggler"),this.promptNotifyController=this.notifyComponent.controller,this.promptController.title=this.title,this.promptController.message=this.message,this.promptController.digest()},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this),this.on(i.COMPONENT_EVENTS.SHOWN,(function(){t.inputComponent.element.addEventListener("keydown",(function(e){if(e&&13===e.keyCode)return t.promptController.ok(),!1})),setTimeout((function(){t.inputComponent.focus(),t.inputComponent.element.select()}))}))},t.prototype.switchPassword=function(){var e=this.inputComponent.element;"password"===e.type?(e.type="text",this.passwordSwicherIcon.addCSSClass("fv__ui-prompt-hide-password"),this.passwordSwicherIcon.removeCSSClass("fv__ui-prompt-show-password")):(e.type="password",this.passwordSwicherIcon.addCSSClass("fv__ui-prompt-show-password"),this.passwordSwicherIcon.removeCSSClass("fv__ui-prompt-hide-password"))},t.prototype.setNotifyType=function(e){e?this.notifyComponent.addCSSClass(e):this.notifyComponent.element.className="notify"},t.prototype.setNotifyContent=function(e){this.promptController.notifyMessage=e,this.promptController.digest()},t.prototype.setTitle=function(e){this.promptController.title=e,this.promptController.digest()},t.prototype.setMessage=function(e){this.promptController.message=e,this.promptController.digest()},t.prototype.getValue=function(){return this.inputComponent.getValue()},t.prototype.setValue=function(e){void 0!==e&&this.inputComponent.setValue(e)},t}(o.default.createSuperClass({template:(0,r.default)()}));t.default=l},function(e,t,n){n(2);e.exports=function(e){"use strict";e=e||{};return'<layer modal @isolate append-to="body" backdrop class="fv__ui-ask-dialog center fv__ui-prompt-dialog fv__prompt-password">\r\n    <div @controller="dialogs:PromptDialogController as prompt">\r\n        <layer-header @set.title="prompt.title"></layer-header>\r\n        <layer-view>\r\n            <div class="fv__ui-prompt-message">\r\n                <text @set.text="prompt.message"></text>\r\n            </div>\r\n            <p class="notify" name="fv__ui-prompt-pwd-notify">\r\n                <text @set.text="prompt.notifyMessage"></text>\r\n            </p>\r\n            <div class="fv__ui-prompt-input-container">\r\n                <input name="fv__ui-prompt-pwd-value-editor" type="password">\r\n                <i name="fv__ui-prompt-pwd-value-editor-toggler" @on.click="prompt.switchPassword()" class="fv__ui-prompt-password-switcher fv__ui-prompt-show-password"></i>\r\n            </div>\r\n        </layer-view>\r\n        <layer-toolbar>\r\n            <xbutton class="fv__ui-dialog-cancel-button" @on.click="prompt.cancel()">common-dialogs.cancel</xbutton>\r\n            <xbutton class="fv__ui-dialog-ok-button" @on.click="prompt.ok()">common-dialogs.ok</xbutton>\r\n        </layer-toolbar>\r\n    </div>\r\n</layer>','<layer modal @isolate append-to="body" backdrop class="fv__ui-ask-dialog center fv__ui-prompt-dialog fv__prompt-password">\r\n    <div @controller="dialogs:PromptDialogController as prompt">\r\n        <layer-header @set.title="prompt.title"></layer-header>\r\n        <layer-view>\r\n            <div class="fv__ui-prompt-message">\r\n                <text @set.text="prompt.message"></text>\r\n            </div>\r\n            <p class="notify" name="fv__ui-prompt-pwd-notify">\r\n                <text @set.text="prompt.notifyMessage"></text>\r\n            </p>\r\n            <div class="fv__ui-prompt-input-container">\r\n                <input name="fv__ui-prompt-pwd-value-editor" type="password">\r\n                <i name="fv__ui-prompt-pwd-value-editor-toggler" @on.click="prompt.switchPassword()" class="fv__ui-prompt-password-switcher fv__ui-prompt-show-password"></i>\r\n            </div>\r\n        </layer-view>\r\n        <layer-toolbar>\r\n            <xbutton class="fv__ui-dialog-cancel-button" @on.click="prompt.cancel()">common-dialogs.cancel</xbutton>\r\n            <xbutton class="fv__ui-dialog-ok-button" @on.click="prompt.ok()">common-dialogs.ok</xbutton>\r\n        </layer-toolbar>\r\n    </div>\r\n</layer>'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(26),i=(o=r)&&o.__esModule?o:{default:o};function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}n(1197);var u=function(e){function t(){return a(this,t),s(this,e.apply(this,arguments))}return c(t,e),t.getName=function(){return"loading"},t.getMetadata=function(){return{options:{text:"string",animation:function(e,t){var n=e.$options,o=e.attrs,r=void 0;return t in n?r=n[t]:""===(r=(r=o[t])&&r.trim().toLowerCase())||"true"===r?r=!0:"false"===r&&(r=!1),void 0===r?"fv__ui-loading-svg":r}}}},t.prototype.show=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=getComputedStyle(t),r=o.position;n&&"static"===r&&(t.style.position="relative",this.addDestroyHook((function(){t.style.position=r}))),e.prototype.show.call(this,t)},t.prototype.postlink=function(){this.textElement=this.element.querySelector(".fv__ui-loading-text"),this.animElement=this.element.querySelector(".fv__loading-animation"),this.setAnimation(this.animation),this.setText(this.text),e.prototype.postlink.call(this)},t.prototype.setText=function(e){this.text=e||"",this.textElement.setAttribute("data-i18n",e),this.localize()},t.prototype.setAnimation=function(e){"string"==typeof e?(this.animElement.classList.remove(this.animation),this.animElement.classList.add(e)):e?this.animElement.classList.remove("fv__ui-loading-hidden"):this.animElement.classList.add("fv__ui-loading-hidden"),this.animation=e},t.prototype.localize=function(){return this.localizer.localizeElement(this.textElement)},t.prototype.sync=function(t,n){var o=e.prototype.sync.call(this,t,n);if(o)return o;switch(t){case"text":return this.setText(n),!0;case"animation":return this.setAnimation(n),!0}return!1},t}(i.default.createSuperClass({template:'\n        <layer class="fv__ui-loading-layer" backdrop>\n            <ul class="fv__loading-animation">\n                <li></li>\n                <li></li>\n                <li></li>\n                <li></li>\n                <li></li>\n            </ul>\n            <span class="fv__ui-loading-text"></span>\n        </layer>\n    '}));t.default=u},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(26)),r=a(n(1199)),i=n(8);function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}n(1200);var l=function(e){function t(){return s(this,t),c(this,e.apply(this,arguments))}return u(t,e),t.getName=function(){return"confirm"},t.getMetadata=function(){return{options:{title:{type:"string",defaultValue:"common-dialogs.confirm-title"},message:{type:"string",defaultValue:"common-dialogs.confirm-title"}}}},t.prototype.postlink=function(){var t=this;e.prototype.postlink.call(this),this.confirmController=this.querySelector(">@div").controller,this.bodyIcon=this.querySelector(">@div>@layer-view>@div>@i");var n=!1;Object.assign(this.confirmController,{ok:function(){n=!0,t.trigger("confirm"),t.hide()},cancel:function(){t.hide()}}),this.on(i.COMPONENT_EVENTS.HIDDEN,(function(){n?n=!1:t.trigger("cancel")})),this.confirmController.title=this.title,this.confirmController.message=this.message,this.confirmController.digest()},t.prototype.setTitle=function(e){this.confirmController.title=e,this.confirmController.digest()},t.prototype.setIconType=function(e){"string"==typeof e||e?(this.bodyIcon.removeCSSClass("fv__hidden"),this.bodyIcon.removeCSSClass(this.confirmController.iconType),this.confirmController.iconType="fv__icon-dialog-level-"+e,this.bodyIcon.addCSSClass(this.confirmController.iconType),this.confirmController.digest()):this.bodyIcon.addCSSClass("fv__hidden")},t.prototype.setMessage=function(e){this.confirmController.message=e,this.confirmController.digest()},t}(o.default.createSuperClass({template:(0,r.default)()}));t.default=l},function(e,t,n){n(2);e.exports=function(e){"use strict";e=e||{};return'<layer modal @isolate append-to="body" backdrop class="fv__ui-ask-dialog center fv__ui-confirm-dialog">\r\n    <div @controller.alias="confirm">\r\n        <layer-header @set.title="confirm.title"></layer-header>\r\n        <layer-view>\r\n            <div class="fv__ui-dialog-message fv__ui-confirm-message">\r\n                <i class="fv__ui-layer-message-icon fv__hidden"></i>\r\n                <text @set.text="confirm.message"></text>\r\n            </div>\r\n        </layer-view>\r\n        <layer-toolbar>\r\n            <xbutton class="fv__ui-dialog-cancel-button" @on.click="confirm.cancel()">common-dialogs.cancel</xbutton>\r\n            <xbutton class="fv__ui-dialog-ok-button" @on.click="confirm.ok()">common-dialogs.ok</xbutton>\r\n        </layer-toolbar>\r\n    </div>\r\n</layer>','<layer modal @isolate append-to="body" backdrop class="fv__ui-ask-dialog center fv__ui-confirm-dialog">\r\n    <div @controller.alias="confirm">\r\n        <layer-header @set.title="confirm.title"></layer-header>\r\n        <layer-view>\r\n            <div class="fv__ui-dialog-message fv__ui-confirm-message">\r\n                <i class="fv__ui-layer-message-icon fv__hidden"></i>\r\n                <text @set.text="confirm.message"></text>\r\n            </div>\r\n        </layer-view>\r\n        <layer-toolbar>\r\n            <xbutton class="fv__ui-dialog-cancel-button" @on.click="confirm.cancel()">common-dialogs.cancel</xbutton>\r\n            <xbutton class="fv__ui-dialog-ok-button" @on.click="confirm.ok()">common-dialogs.ok</xbutton>\r\n        </layer-toolbar>\r\n    </div>\r\n</layer>'}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(26)),r=i(n(1202));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}n(494);var u=function(e){function t(){return a(this,t),s(this,e.apply(this,arguments))}return c(t,e),t.getName=function(){return"annottext"},t.getMetadata=function(){return{options:{dataKeys:{type:"string",defaultValue:[{key:"title"},{key:"content"}]},templateModel:{type:"string",defaultValue:'<div class="fv__ui-annottext-title"><text>[title]</text></div><div class="fv__ui-annottext-content"><text>[content]</text></div>'}}}},t.prototype.postlink=function(){e.prototype.postlink.call(this),this.annotationTooltipTitleContainerElement=this.getComponentByName("fv--annotation-tooltip-title-container"),this.annotationTooltipTitleComponent=this.getComponentByName("fv--annotation-tooltip-title")},t.prototype.mounted=function(){e.prototype.mounted.call(this)},t.prototype.showComponent=function(e){var t=this.templateModel;this.dataKeys.map((function(n){var o="["+n.key+"]";t=t.replace(o,e[n.key])})),this.annotationTooltipTitleContainerElement.element.innerHTML=t},t.prototype.setShowType=function(e,t){this.dataKeys=e,this.templateModel=t},t}(o.default.createSuperClass({template:(0,r.default)()}));t.default=u},function(e,t,n){n(2);e.exports=function(e){"use strict";e=e||{};return'\x3c!-- FIXME: tooltip-layer æ¹æ layer å§ï¼ä¹åæ²¡èèæ¸æ¥ï¼è¿ä¸ªç¨æ¥ç»text-selectionç¨çï¼è¿éä¸åéã --\x3e\r\n<tooltip-layer class="fv--ui-annottext-tooltip">\r\n    <div class="tipcontainer" name="fv--annotation-tooltip-title-container">\r\n    \x3c!--<div class="fv__ui-annottext-title" >\r\n            <text  name="fv--annotation-tooltip-title"></text>\r\n        </div>\r\n        <div class="fv__ui-annottext-content">\r\n            <text name=""></text>\r\n        </div> --\x3e\r\n    </div>\r\n</tooltip-layer>','\x3c!-- FIXME: tooltip-layer æ¹æ layer å§ï¼ä¹åæ²¡èèæ¸æ¥ï¼è¿ä¸ªç¨æ¥ç»text-selectionç¨çï¼è¿éä¸åéã --\x3e\r\n<tooltip-layer class="fv--ui-annottext-tooltip">\r\n    <div class="tipcontainer" name="fv--annotation-tooltip-title-container">\r\n    \x3c!--<div class="fv__ui-annottext-title" >\r\n            <text  name="fv--annotation-tooltip-title"></text>\r\n        </div>\r\n        <div class="fv__ui-annottext-content">\r\n            <text name=""></text>\r\n        </div> --\x3e\r\n    </div>\r\n</tooltip-layer>'}},function(e,t,n){"use strict";var o=i(n(6)),r=i(n(1204));function i(e){return e&&e.__esModule?e:{default:e}}n(1205),o.default.module("dialogs",[]).registerController(r.default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(3)),r=n(8);i(n(1));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var s=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.isConfirmed=!1,o}return a(t,e),t.getName=function(){return"PromptDialogController"},t.prototype.ok=function(){this.isConfirmed=!0,this.dialog.trigger("confirm",this.dialog.inputComponent.getValue()),this.dialog.hide()},t.prototype.cancel=function(){this.dialog.hide()},t.prototype.switchPassword=function(){this.dialog.switchPassword&&this.dialog.switchPassword()},t.prototype.mounted=function(){var e=this;this.dialog=this.component.parent,this.dialog.on(r.COMPONENT_EVENTS.HIDDEN,(function(){e.isConfirmed?e.isConfirmed=!1:e.dialog.trigger("cancel")}))},t}(o.default);t.default=s},function(e,t){},function(e,t,n){"use strict";var o=i(n(6)),r=i(n(1207));function i(e){return e&&e.__esModule?e:{default:e}}n(494),o.default.module("annottip",[]).registerController(r.default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(3);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.data.showType=0,o.data.titleExisted=!0,o}return i(t,e),t.getName=function(){return"AnnotTextController"},t.prototype.mounted=function(){},t.prototype.showContent=function(){},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=a},function(e,t,n){"use strict";n(1209),n(1210),n(1211),n(1212),n(1213),n(1214),n(1215),n(1216),n(1217),n(1218),n(1219),n(1220)},function(e,t,n){"use strict";var o,r=n(6);((o=r)&&o.__esModule?o:{default:o}).default.root().pipe("max",(function(){return function(){return Array.isArray(value)&&value>=2?Math.max.apply(Math,value):value}}))},function(e,t,n){"use strict";var o,r=n(6);((o=r)&&o.__esModule?o:{default:o}).default.root().pipe("json",(function(e){return function(t){return JSON.stringify(t,null,e)}}))},function(e,t,n){"use strict";var o,r=n(6);((o=r)&&o.__esModule?o:{default:o}).default.root().pipe("min",(function(){return function(e){return Array.isArray(e)&&e>=2?Math.min.apply(Math,e):e}}))},function(e,t,n){"use strict";var o,r=n(6);((o=r)&&o.__esModule?o:{default:o}).default.root().pipe("async",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=void 0;return function(n){var o=this;return n instanceof Promise?(n.then((function(e){t=e,o.digest()})),t||e):n}}))},function(e,t,n){"use strict";var o,r=n(6),i=(o=r)&&o.__esModule?o:{default:o};var a={};i.default.root().pipe("debounce",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=a,n=void 0;return function(o){var r=this;return t===a?t=o:(o!==t&&(clearTimeout(n),n=setTimeout((function(){t=o,r.digest()}),e)),t)}}))},function(e,t,n){"use strict";var o,r=n(6);((o=r)&&o.__esModule?o:{default:o}).default.root().pipe("default",(function(e){return function(t){return null==t||""===t?e:"number"!=typeof t||!isNaN(t)&&isFinite(t)?t:e}}))},function(e,t,n){"use strict";var o,r=n(6);((o=r)&&o.__esModule?o:{default:o}).default.root().pipe("lower",(function(){return function(e){return"string"==typeof e?e.toLowerCase():e}}))},function(e,t,n){"use strict";var o,r=n(6);((o=r)&&o.__esModule?o:{default:o}).default.root().pipe("percent",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.01,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=1/e;function o(t,o){var r=Math.round(t*n)*e;return Math.floor(r*n)/n+o}return function(e){return"number"==typeof e?isFinite(e)?o(e,"%"):t:e}}))},function(e,t,n){"use strict";var o,r=n(6);((o=r)&&o.__esModule?o:{default:o}).default.root().pipe("upper",(function(){return function(e){return"string"==typeof e?e.toUpperCase():e}}))},function(e,t,n){"use strict";var o,r=n(6),i=(o=r)&&o.__esModule?o:{default:o};function a(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=e+"";n.length<t;)n="0"+n;return n}var s={yyyy:function(e){return a(e.getFullYear(),4)},MM:function(e){return a(e.getMonth()+1,2)},DD:function(e){return a(e.getDate(),2)},HH:function(e){return a(e.getHours(),2)},mm:function(e){return a(e.getMinutes(),2)},ss:function(e){return a(e.getSeconds(),2)},SSS:function(e){return a(e.getMilliseconds()+"",3)}},c=Object.keys(s).sort((function(e,t){return e.length>t.length?-1:1})).map((function(e){return"("+(e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+")")})).join("|"),u=new RegExp(c,"g");i.default.root().pipe("timeformat",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"yyyy-MM-DD HH:mm:ss",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(n){return"number"==typeof n&&(n=new Date(n)),n instanceof Date?e.replace(u,(function(e){return s[e].call(null,n)})):t}}))},function(e,t,n){"use strict";var o,r=n(6),i=(o=r)&&o.__esModule?o:{default:o};var a=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"];i.default.root().pipe("bytes",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.01,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=1/e;function o(t,o){var r=Math.round(t*n)*e;return Math.floor(r*n)/n+o}return function(e){if("number"==typeof e){if(isFinite(e)){for(var n=0,r=e;r>=1024&&n<a.length;)r/=1024,n++;return o(r,a[n])}return t}return t}}))},function(e,t,n){"use strict";var o,r=n(6);((o=r)&&o.__esModule?o:{default:o}).default.root().pipe("i18n",(function(e){var t=this,n=this.component.localizer;return this.component.on("localize",(function(){t.digest()})),function(t){return n.translateSync(t,e)}}))},function(e,t,n){"use strict";var o=Y(n(1222)),r=Y(n(6)),i=Y(n(1224)),a=Y(n(1230)),s=Y(n(1231)),c=Y(n(1232)),u=Y(n(1233)),l=Y(n(1234)),f=Y(n(1235)),p=Y(n(1237)),d=Y(n(1239)),h=Y(n(1240)),g=Y(n(1241)),m=Y(n(1242)),v=Y(n(1243)),y=Y(n(1244)),b=Y(n(1245)),w=Y(n(1246)),_=Y(n(496)),P=Y(n(1247)),O=Y(n(495)),E=Y(n(1248)),x=Y(n(1249)),C=Y(n(1250)),A=Y(n(1251)),S=Y(n(1252)),D=Y(n(1253)),T=Y(n(498)),I=Y(n(1254)),R=Y(n(1255)),M=Y(n(1256)),j=Y(n(1257)),k=Y(n(1258)),N=Y(n(1260)),F=Y(n(1261)),L=Y(n(1263)),V=Y(n(1264)),B=Y(n(1266)),U=Y(n(1267)),H=Y(n(1268)),$=Y(n(1269)),W=Y(n(1270)),q=Y(n(1271)),z=Y(n(1272)),G=Y(n(1273));function Y(e){return e&&e.__esModule?e:{default:e}}var K=r.default.root().getRegistry();K.registerDirective(o.default),K.registerDirective(i.default),K.registerDirective(_.default),K.registerDirective(a.default),K.registerDirective(y.default),K.registerDirective(w.default),K.registerDirective(s.default),K.registerDirective(c.default),K.registerDirective(O.default),K.registerDirective(u.default),K.registerDirective(l.default),K.registerDirective(f.default),K.registerDirective(p.default),K.registerDirective(d.default),K.registerDirective(h.default),K.registerDirective(g.default),K.registerDirective(m.default),K.registerDirective(v.default),K.registerDirective(b.default),K.registerDirective(E.default),K.registerDirective(x.default),K.registerDirective(C.default),K.registerDirective(A.default),K.registerDirective(S.default),K.registerDirective(D.default),K.registerDirective(T.default),K.registerDirective(P.default),K.registerDirective(I.default),K.registerDirective(R.default),K.registerDirective(M.default),K.registerDirective(j.default),K.registerDirective(k.default),K.registerDirective(N.default),K.registerDirective(F.default),K.registerDirective(L.default),K.registerDirective(V.default),K.registerDirective(B.default),K.registerDirective(U.default),K.registerDirective(H.default),K.registerDirective($.default),K.registerDirective(W.default),K.registerDirective(q.default),K.registerDirective(z.default),K.registerDirective(G.default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(11));n(1223);var r=n(14),i=s(n(119)),a=n(34);function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var f=function(e){function t(){return c(this,t),u(this,e.apply(this,arguments))}return l(t,e),t.getName=function(){return"tooltip"},t.prototype.init=function(t){e.prototype.init.call(this,t);var n=this.node,o=this.directiveOption;this.delay=o.delay||parseInt(n.getAttribute("tooltip-delay"))||500,this.duration=o.duration||parseInt(n.getAttribute("tooltip-duration"))||1/0,this.anchorSelector=o.enchor||n.getAttribute("tooltip-anchor"),this.placement=o.placement||n.getAttribute("tooltip-placement")||"bottom"},t.prototype.getTitle=function(){return this.directiveOption.title||this.component.getAttribute("tooltip-title")},t.prototype.getDescription=function(){return this.directiveOption.desc||this.component.getAttribute("tooltip-description")},t.prototype.renderTitle=function(){var e=this.getTitle(),t=this.titleElement;e?(t.setAttribute("data-i18n",e),this.orderedElement.mount(0)):(t.setAttribute("data-i18n",""),this.orderedElement.unmount(0))},t.prototype.renderDescription=function(){var e=this.getDescription(),t=this.descElement;e?(t.setAttribute("data-i18n",e),this.orderedElement.mount(1)):(t.setAttribute("data-i18n",""),this.orderedElement.unmount(1))},t.prototype.afterComponentRender=function(){var e=this.component,t=document.createElement("dl");this.tipElement=t;var n=document.createElement("div");n.className="fv__ui-tooltip-arrow",n.innerHTML='<span class="fv__ui-tooltip-arrow-content"></span>';var o=this.titleElement=document.createElement("dt");o.className="fv__ui-directive-tooltip-title";var r=this.descElement=document.createElement("dd");if(r.className="fv__ui-directive-tooltip-desc",this.orderedElement=new i.default(t,[o,r,n]),this.orderedElement.mount(2),t.classList.add("fv__ui-directive-tooltip-tip","fv__ui-tooltip-placement-"+this.placement),this.renderTitle(),this.renderDescription(),this.anchorSelector)try{var a=this.controller.compileCode(this.anchorSelector)({component:e});a&&(Array.isArray(a)?this.anchors=a:a instanceof Element&&(this.anchors=[a]))}catch(t){this.anchors=e.element.querySelectorAll(this.anchorSelector)}this.anchors&&0!==this.anchors.length||(this.anchors=[e.getTooltipAnchor()]),this.localizer.localizeRecursive(t)},t.prototype.showTip=function(e){var t=this,n=this.tipElement;this.renderTitle(),this.renderDescription(),this.localizer.localizeRecursive(n).then((function(){t.hideTipIfAnchorIsHidden(e),document.body.appendChild(n),t.tipElement.style.cssText="";var o=e.getBoundingClientRect(),r=n.getBoundingClientRect();switch(t.placement){case"top":n.style="\n                        top: "+(o.top-r.height-8)+"px;\n                        left: "+(o.left-r.width/2+o.width/2)+"px;\n                    ";break;case"bottom":n.style.cssText="\n                        top: "+(o.bottom+8)+"px;\n                        left: "+(o.left-r.width/2+o.width/2)+"px;\n                    ";break;case"right":n.style.cssText="\n                        left: "+(o.right+8)+"px;\n                        top: "+(o.top+o.height/2-r.height/2)+"px;\n                    ";break;case"left":n.style.cssText="\n                        left: "+(o.left-r.width-8)+"px;\n                        top: "+(o.top+o.height/2-r.height/2)+"px;\n                    "}}))},t.prototype.hideTip=function(){this.tipElement.remove(),this.stopCheckAnchor()},t.prototype.hideTipIfAnchorIsHidden=function(e){var t=this;this.stopCheckAnchor(),this.anchorVisibilityCheckingTimmerId=setInterval((function(){0===e.getClientRects().length&&t.hideTip()}),100)},t.prototype.stopCheckAnchor=function(){void 0!==this.anchorVisibilityCheckingTimmerId&&(clearInterval(this.anchorVisibilityCheckingTimmerId),this.anchorVisibilityCheckingTimmerId=void 0)},t.prototype.componentMounted=function(){var e=this;if(!r.isMobile&&!r.isTablet){var t=void 0,n=void 0,o=function(){clearTimeout(t),clearTimeout(n),e.hideTip()};a.isIE&&this.addDestroyHook(this.component.on("disable",o)),this.anchors.forEach((function(r){var i=function(o){if(window.onlineGlobals&&window.onlineGlobals.showAllTooltip||!e.component.disabled){var i=o.clientX,a=o.clientY,s=r.getBoundingClientRect();i<s.left||i>s.right||a<s.top||a>s.bottom||(o.stopPropagation(),clearTimeout(t),t=setTimeout((function(){0!==r.getClientRects().length&&(e.showTip(r),isFinite(e.duration)&&(n=setTimeout((function(){e.hideTip()}),e.duration)))}),e.delay))}};r.addEventListener("mouseover",i),r.addEventListener("pointerout",o),e.addDestroyHook((function(){r.removeEventListener("mouseover",i),r.removeEventListener("pointerout",o)}))})),this.addDestroyHook((function(){o(),e.stopCheckAnchor()}))}},t}(o.default);t.default=f},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=l(n(11)),r=l(n(9)),i=l(n(1225)),a=l(n(1226)),s=l(n(1227)),c=l(n(1228)),u=l(n(1229));function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var h=r.default.getLogger("directive/bind"),g=function(e){function t(){return f(this,t),p(this,e.apply(this,arguments))}return d(t,e),t.getName=function(){return"bind"},t.prototype.componentPrelink=function(){var e=void 0;if(this.subName.match(/^attr\..+/)){var t=this.subName.replace("attr.","");e=new i.default(this.component,t)}else switch(this.subName){case"text":e=new a.default(this.component);break;case"value":e=new s.default(this.component);break;case"html":h.error("unsurpported bind type: "+this.subName);break;case"disable":case"visible":case"active":e=new u.default(this.component,this.subName);break;default:e=new c.default(this.component,this.subName)}this.controller.getDataSource(this.attrValue).connect(e)},t}(o.default);t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(120);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return r.component=n,r.attrName=o,r}return i(t,e),t.prototype.receive=function(e,t){this.component.setAttribute(this.attrName,e)},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(120);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return o.component=n,o}return i(t,e),t.prototype.receive=function(e){this.component.setText(e)},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(120);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return o.component=n,o.supported="function"==typeof n.setValue,o}return i(t,e),t.prototype.receive=function(e){this.supported&&this.component.setValue(e)},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(120);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return r.target=n,r.propName=o,r.setterMethodName="set"+o.replace(/(^\-?.)|(\-.)/g,(function(e){return(e=2===e.length?e[1]:e).toUpperCase()})),r}return i(t,e),t.prototype.receive=function(e){var t=this.target[this.setterMethodName];"function"==typeof t?t.call(this.target,e):this.target[this.propName]=e},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(120);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return r.component=n,r.type=o,r}return i(t,e),t.prototype.receive=function(e){switch(this.type){case"disable":e?this.component.disable():this.component.enable();break;case"visible":e?this.component.show():this.component.hide();break;case"active":e?this.component.active():this.component.deactive()}},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(11);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.getName=function(){return"on"},t.prototype.componentMounted=function(){var e=this.component,t=this.controller,n=0===this.subName.indexOf("native."),o=void 0;if(/^\s*\w+(\.\w+)*\s*$/.test(this.attrValue)){this.attrValue=this.attrValue.trim();var r=function(e,t){for(var n=t.split("."),o=0;o<n.length;o++)if(null==(e=e[n[o]]))return e;return e},i=r(t,this.attrValue)||r(t.data,this.attrValue)||r(t.methods,this.attrValue);if(!i)throw new Error("event handler not found: "+this.attrValue+" ,component: <"+e.nodeName+">");o=function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];return i.apply(t,n)}}else{var a=t.compileCode(this.attrValue);o=n?function(e){a.call(null,{$event:e})}:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];a.call(null,{$args:t})}}if(n){var s=this.subName.substring("native.".length);e.element.addEventListener(s,o),this.addDestroyHook((function(){return e.element.removeEventListener(s,o)}))}else this.addDestroyHook(e.on(this.subName,o))},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(11)),r=i(n(40));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=function(e){function t(){return a(this,t),s(this,e.apply(this,arguments))}return c(t,e),t.getName=function(){return"isolate"},t.prototype.init=function(t){e.prototype.init.call(this,t),this.order=1/0,t.controller.setParentScope=r.default},t}(o.default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=u(n(11)),i=u(n(120)),a=(u(n(17)),u(n(9))),s=n(8),c=u(n(495));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var h=/^(?:(\w+)\s+in\s+)?([\$\w]+(\.[\$\w]+)?)(?:\s+track\s+by\s+(.+))?\s*$/,g=a.default.getLogger("@foreach"),m=0,v=function(e){function t(n,o,r,i){f(this,t);var a=p(this,e.call(this));return a.directive=n,a.parser=o,a.initData=r,a.placeholderComponent=i,a.componentMap={},a.componentCache={},a.components=[],a.parentController=n.parentComponent.controller,a}return d(t,e),t.prototype.receive=function(e){Array.isArray(e)?this.directive.trackby?this.insertWithTracking(e):this.replaceAll(e):g.warn("data is not an array: ",e)},t.prototype.replaceAll=function(e){var t=this,n=e.map((function(e,n){var o,r=Object.assign((l(o={},t.directive.itemName,e),l(o,"$index",n),o),t.initData||{});return t.parser.parseNode(t.directive.cloneNode(),t.directive.parentComponent,r)}));this.components.forEach((function(e){e.destroy()})),this.components=n;var o=this.directive.parentComponent.indexOf(this.placeholderComponent);this.directive.parentComponent.insertAll(this.components,o),n.forEach((function(e){e.localize(),e.isMounted||e.mounted()}))},t.prototype.insertWithTracking=function(e){var t=this,n=Object.assign({},this.componentMap,this.componentCache),o=this.directive.useCache,r={},i=[],a=e.map((function(e,o){var a,s=void 0;if(s="$self"!==t.directive.trackby||Object.prototype.hasOwnProperty.call(e,"$self")?t.parentController.eval(t.directive.trackby,e):e,r[s])return!1;var c=Object.assign((l(a={},t.directive.itemName,e),l(a,"$index",o),a),t.initData||{}),u=n[s];return u?(Object.assign(u.controller.data,c),u.controller.digest(),delete n[s]):(u=t.parser.parseNode(t.directive.cloneNode(),t.directive.parentComponent,c),i.push(u)),r[s]=u,u})).filter(Boolean);for(var s in n)if(!r[s]){var c=n[s];o?(c.remove(),this.componentCache[s]=c):c.destroy()}this.componentMap=r;var u=this.directive.parentComponent.indexOf(this.placeholderComponent);this.directive.parentComponent.insertAll(a,u),this.components=a,i.forEach((function(e){e.localize(),e.isMounted||e.mounted()}))},t}(i.default),y=function(e){function t(n){f(this,t);var r=p(this,e.call(this,n));if(!r.node.parent)throw new Error("Unsupported operation: @foreach directive is not supported for root node.");var i=r.parseForeachExpression(r.attrValue),a=o(i,3),c=a[0],u=a[1],l=a[2];return r.itemName=c||"$item",r.dataName=u,r.trackby=l,r.id="directive-"+m++,r.parentComponent.once(s.COMPONENT_EVENTS.DESTROYED,(function(e){r.destroy()})),r.useCache="cached"===r.subName,r}return d(t,e),t.getName=function(){return"foreach"},t.isParser=function(){return!0},t.prototype.parseForeachExpression=function(e){var t=e.match(h);if(!t)throw new Error("incorrect foreach expression: "+e);var n=o(t,5);return[n[1],n[2],n[4]]},t.prototype.parseComponent=function(e,t){this.placeholderComponent=e.parse('<html-comment ignoreable>@foreach="'+this.attrValue+'"</html-comment>');var n=new v(this,e,t,this.placeholderComponent),o=this.parentComponent.controller.watch(this.dataName,(function(e,t){n.receive(e,t)}));return this.addDestroyHook(o),this.placeholderComponent},t.prototype.componentMounted=function(){this.parentComponent.controller.digest()},t.prototype.cloneNode=function(){var e=this.node.clone();return e.directives=this.node.directives.filter((function(e){return"foreach"!==e.directiveName})),e.directives.push({attrName:c.default.getName(),ns:s.ROOT_MODULE_NAME,directiveName:c.default.getName(),subName:"",attrValue:""}),e},t}(r.default);t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(11)),r=a(n(6)),i=n(8);function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=/^((?:.+?\:)?\w+)(?:\s+as\s+(\w+))?$/,u=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));switch(o.type="controller",o.subName){case"alias":o.aliasName=o.attrValue,o.type="alias";break;default:if(o.subName&&0===o.subName.indexOf("set."))o.type="set.property",o.setPropertyName=o.subName.substring(4);else{var r=o.attrValue.trim().match(c);if(!r)throw new Error("Incorrect @controller format: "+o.attrValue);o.controllerName=r[1],o.aliasName=r[2]}}return o}return s(t,e),t.getName=function(){return"controller"},t.prototype.processComponentOptions=function(e){switch(this.type){case"controller":if("function"==typeof e.callback)return;var t=this.controllerName,n=t.split(i.NAMESPACE_SEPERATOR),o=this.node.module;n.length>1&&(o=r.default.module(n[0]));var a=o.getControllerClass(n.pop())||e.callback;if(!a)throw new Error("controller not found: "+t);e.callback=a}},t.prototype.init=function(t){switch(e.prototype.init.call(this,t),t.controller.data[this.aliasName]=t.controller,this.type){case"set.property":var n=t.controller;n[this.setPropertyName]=n.eval(this.attrValue)}},t}(o.default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(11);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.getName=function(){return"if"},t.isParser=function(){return!0},t.prototype.parseComponent=function(e,t){var n=this,o=e.parse('<html-comment ignoreable>@if="'+this.attrValue+'"</html-comment>'),r=this.parentComponent,i=void 0;return r.controller.watch(this.attrValue,(function(a){if(a){if(i)return;var s=n.cloneNode(),c=e.parseNode(s,r,t),u=r.indexOf(o);r.insert(c,u),i=c,r.isMounted&&(c.localize(),c.mounted())}else{var l=i;i=null,l&&l.destroy()}})),o},t.prototype.cloneNode=function(){var e=this.node.clone();return e.directives=this.node.directives.filter((function(e){return"if"!==e.directiveName})),e},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(11)),r=i(n(9));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}n(1236);var s=r.default.getLogger("@draggable"),c=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n))}return a(t,e),t.getName=function(){return"draggable"},t.prototype.init=function(t){e.prototype.init.call(this,t),this.dragOptions=this.attrValue?t.controller.eval(this.attrValue):{}},t.prototype.componentMounted=function(){var e=this.component.element,t=this._resolveMoveTarget();if(t){if(t.classList.add("fv__ui-draggable-target"),e.classList.add("fv__ui-draggable-action"),t.parentElement){var n=t.parentElement,o=getComputedStyle(n);o.position&&"static"!==o.position||(n.style.cssText+="position: relative")}var r=new Hammer.Manager(e);r.add(new Hammer.Pan);var i=void 0,a=void 0,c=void 0,u=!0,l=this.dragOptions.overflow||"stop",f=function(n){if(!e.$isResizing){var o=t.offsetWidth,r=t.offsetHeight,s=i+n.deltaX,u=a+n.deltaY;c&&"ignore"!==l&&(s=Math.max(0,Math.min(s,c.right-o)),u=Math.max(0,Math.min(u,c.height-r))),t.style.cssText+="left: "+s+"px; top: "+u+"px; right: auto; bottom: auto;"}};r.on("panstart",(function(e){if(u=function(e){var t=e.tagName.toLowerCase();if("input"==t||"textarea"==t)return!1;for(;e;){if(e.$$DRAG_STOPPED$$)return!1;e=e.parentElement}return!0}(e.target)){c=t.parentElement.getBoundingClientRect();var n=t.getBoundingClientRect();i=n.left-c.left,a=n.top-c.top,t.style.cssText+="\n                left: "+i+"px;\n                top: "+a+"px;\n                right: auto;\n                bottom: auto;\n                transform: none;\n            ",t.classList.add("fv__ui-draggable-moved"),f(e)}})),r.on("panmove",(function(e){u&&f(e)})),r.on("panend",(function(t){u&&(e.$isResizing||(f(t),i+=t.deltaX,a+=t.deltaY))})),this.addDestroyHook((function(){return r.destroy()}))}else s.warn("cannot found the move target of @draggable directive! options: ",this.dragOptions)},t.prototype._resolveMoveTarget=function(){var e=this.dragOptions,t=e.type,n=e.target,o=this.component.element;switch(t){case"selector":var r=this.component.getRoot().querySelector(n);return r?r.element:void 0;case"css-selector":return o.querySelector(n);case"closest":var i=this.component.getClosestComponentByName(n);return i?i.element:void 0;case"parent":var a=n?this.component.getClosestComponentByType(n):this.component.parent;return a?a.element:void 0;case"child":var s=this.component.getComponentByName(n);return s?s.element:void 0;default:return o}},t}(o.default);t.default=c},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(11),i=(o=r)&&o.__esModule?o:{default:o};function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}n(1238);var u=function(e){function t(){return a(this,t),s(this,e.apply(this,arguments))}return c(t,e),t.getName=function(){return"resizable"},t.prototype.init=function(t){e.prototype.init.call(this,t),this.attrValue.length>0&&(this.resizeOptions=t.controller.eval(this.attrValue)),this.resizeOptions||(this.resizeOptions={})},t.prototype.componentMounted=function(){var e=this.resizeOptions,t=e.minWidth,n=e.maxWidth,o=e.minHeight,r=e.maxHeight;isFinite(t)||(t=10),isFinite(o)||(o=10),n||(n=1/0),r||(r=1/0),n<t&&(n=t),r<o&&(r=o);var i=this.component,a=this.component.element,s=getComputedStyle(a);a.classList.add("fv__ui-resizable");var c=document.createElement("div");c.classList.add("fv__ui-resizable-action");var u=new Hammer.Manager(c);u.add(new Hammer.Pan);var l=parseFloat(s.width),f=parseFloat(s.height),p=function(e){a.$isResizing=!0;var s=Math.min(n,Math.max(t,l+e.deltaX)),c=Math.min(r,Math.max(o,f+e.deltaY));a.style.cssText+="width: "+s+"px; height: "+c+"px",i.trigger("resize",s,c)};u.on("panstart",(function(e){var t=getComputedStyle(a);l=parseFloat(t.width),f=parseFloat(t.height),p(e)})),u.on("panmove",p),u.on("panend",(function(e){p(e),l=Math.min(n,Math.max(t,l+e.deltaX)),f=Math.min(r,Math.max(o,f+e.deltaY)),setTimeout((function(){a.$isResizing=!1}),0)})),a.appendChild(c),this.addDestroyHook((function(){return u.destroy()})),this.addDestroyHook((function(){return a.removeChild(c)}))},t}(i.default);t.default=u},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(11)),r=s(n(121)),i=s(n(9)),a=s(n(120));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var f=i.default.getLogger("@model"),p=function(e){function t(n){c(this,t);var o=u(this,e.call(this,n));return o.modelOptions={updateOn:"change"},o}return l(t,e),t.getName=function(){return"model"},t.prototype.init=function(t){if(t instanceof r.default){e.prototype.init.call(this,t);var n=t.controller.getDataSource(this.attrValue);this.addDestroyHook(n.connect(new(function(e){function n(){return c(this,n),u(this,e.apply(this,arguments))}return l(n,e),n.prototype.receive=function(e){t.setValue(e)},n}(a.default)))),this.watchComponentChange()}else f.warn(t,"is not a form field type component!")},t.prototype.watchComponentChange=function(){var e=this.controller.getDataSource(this.attrValue);this.offComponentUpdateEvents=this.component.on(this.modelOptions.updateOn,(function(t){e.subject[e.part]=t}))},t.prototype.updateOptions=function(e){var t=this.modelOptions.updateOn;e&&Object.assign(this.modelOptions,e),t!==this.modelOptions.updateOn&&(this.offComponentUpdateEvents(),this.watchComponentChange())},t}(o.default);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(11));function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=r(n(9)).default.getLogger("@model-options"),s=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n))}return i(t,e),t.getName=function(){return"model-options"},t.prototype.init=function(t){e.prototype.init.call(this,t);var n=t.getDirectiveByName("model");if(n){var o=t.controller.watch(this.attrValue,(function(e){n.updateOptions(e)}));this.addDestroyHook(o)}else a.warn("@model-option directive will do nothing without @model directive")},t}(o.default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(11)),r=i(n(30));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=function(e){function t(){return a(this,t),s(this,e.apply(this,arguments))}return c(t,e),t.isParser=function(){return!1},t.getName=function(){return"cannotBeDisabled"},t.prototype.init=function(t){if(e.prototype.init.call(this,t),t.enable(),t.isContainer()){t.disable=function(){this.children().forEach((function(e){return e.disable()}))};var n=t.enable;t.enable=function(){if(t.disabled)return n.call(this);this.children().forEach((function(e){return e.enable()}))}}else t.disable=r.default},t}(o.default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(11),i=(o=r)&&o.__esModule?o:{default:o},a=n(8);function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c={},u=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n))}return s(t,e),t.getName=function(){return"single-active"},t.prototype.componentMounted=function(){var e=this;this.addDestroyHook(this.component.on(a.COMPONENT_EVENTS.ACTIVE,(function(t){var n=c[e.attrValue];n&&n!==e.component&&n.deactive(),c[e.attrValue]=e.component})))},t.prototype.componentDestroyed=function(){var e=c[this.attrValue];this.component===e&&delete c[this.attrValue]},t}(i.default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(11);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.order=1/0,o}return i(t,e),t.getName=function(){return"init"},t.prototype.init=function(t){e.prototype.init.call(this,t),t.controller.eval(this.attrValue,{})},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(11);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.getName=function(){return"hammer"},t.prototype.init=function(t){var n=this;e.prototype.init.call(this,t),this.hammer=t.$hammer||(t.$hammer=new Hammer(t.element));var o=this.transformEventNameToHammerRecogonizeName(this.subName);this.hammer.get(o).set({enable:!0}),this.addDestroyHook((function(){n.hammer.destroy()}))},t.prototype.componentMounted=function(){var e=this,t=this.component,n=this.controller,o=void 0;if(/^\s*\w+(\.\w+)*\s*$/.test(this.attrValue)){this.attrValue=this.attrValue.trim();var r=function(e,t){for(var n=t.split("."),o=0;o<n.length;o++)if(null==(e=e[n[o]]))return e;return e},i=r(n,this.attrValue)||r(n.data,this.attrValue)||r(n.methods,this.attrValue);if(!i)throw new Error("event handler not found: "+this.attrValue+" ,component: <"+t.nodeName+">");o=function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];return i.apply(n,t)}}else o=function(){for(var t=arguments.length,o=Array(t),r=0;r<t;r++)o[r]=arguments[r];n.eval(e.attrValue,{originArguments:o})};this.hammer.on(this.subName,o)},t.prototype.componentDestroyed=function(){e.prototype.componentDestroyed.call(this),this.hammer.destroy()},t.prototype.transformEventNameToHammerRecogonizeName=function(e){switch(e){case"panstart":case"pan":case"panmove":case"panend":case"pancancel":case"panleft":case"panright":case"panup":case"pandown":return"pan";case"pinch":case"pinchstart":case"pinchmove":case"pinchend":case"pinchcancel":case"pinchin":case"pinchout":return"pinch";case"press":case"pressup":return"press";case"rotate":case"rotatestart":case"rotatemove":case"rotateend":case"rotatecancel":return"rotate";case"swipe":case"swipeleft":case"swiperight":case"swipeup":case"swipedown":return"swipe";case"tap":return"tap";default:throw new Error("incorrect event name: "+this.subName)}},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(11);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.getName=function(){return"stop-drag"},t.prototype.componentMounted=function(){var e=this,t=function(t,n){var o=function(e){return e.stopPropagation()};t.addEventListener(n,o),e.addDestroyHook((function(){return t.removeEventListener(n,o)}))};this.component.element.$$DRAG_STOPPED$$=!0,this.component.element.closest(".fv__ui-draggable-target")&&(t(this.component.element,"pointerdown"),t(this.component.element,"mousedown"),t(this.component.element,"touchstart")),this.addDestroyHook((function(){delete e.component.element.$$DRAG_STOPPED$$}))},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(11);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.getName=function(){return"stop"},t.prototype.componentMounted=function(){var e=this,t=function(e){return e.stopPropagation()};this.component.element.addEventListener(this.subName,t),this.addDestroyHook((function(){return e.component.element.removeEventListener(e.subName,t)}))},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(496);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.getName=function(){return"set"},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=c},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _Directive2=__webpack_require__(11),_Directive3=_interopRequireDefault(_Directive2),_consts=__webpack_require__(8);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var PermissionDirective=function(_Directive){function PermissionDirective(){return _classCallCheck(this,PermissionDirective),_possibleConstructorReturn(this,_Directive.apply(this,arguments))}return _inherits(PermissionDirective,_Directive),PermissionDirective.getName=function(){return"permission"},PermissionDirective.prototype.componentMounted=function componentMounted(){var _this2=this;this.controller.pdfUI.getPDFDocRender().then((function(e){return e?e.getUserPermission().getValue():-2147483648})).then((function(permission){var orOperation="||";-1!=_this2.attrValue.indexOf("&&")&&(orOperation="&&");var enablePermissions=_this2.attrValue.split(orOperation),unlock=0;enablePermissions.map((function(value){unlock=eval(unlock+orOperation+(+value&permission))})),unlock?_this2.component.lock&&_this2.component.unlock():_this2.component.lock&&_this2.component.lock()}))},PermissionDirective}(_Directive3.default);exports.default=PermissionDirective},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(11),i=(o=r)&&o.__esModule?o:{default:o},a=n(14);function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));if(!o.node.parent)throw new Error("Unsupported operation: @device directive is not supported for root node");return o.supportedDevices=o.attrValue.split(/\W+/).map((function(e){return e.toLowerCase()})),o}return s(t,e),t.getName=function(){return"device"},t.isParser=function(){return!0},t.prototype.parseComponent=function(e,t){var n="invert"===this.subName,o=this.supportedDevices;if(n||!(o.length<1||o.indexOf("all")>-1)){var r=o.some((function(e){return a.DEVICE_DETACTION[e]}));if(!(!r&&!n||n&&r)){var i=e.parseNode(this.cloneNode(),this.parentComponent,t);this.parentComponent.append(i)}}},t.prototype.cloneNode=function(){var e=this.node.clone(!1);return e.directives=this.node.directives.filter((function(e){return"device"!==e.directiveName})),e},t}(i.default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(11),i=(o=r)&&o.__esModule?o:{default:o};n(497);var a=n(14);function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.supportedDevices=o.attrValue.split(/\W+/).map((function(e){return e.toLowerCase()})),o}return s(t,e),t.getName=function(){return"hide-on-device"},t.prototype.afterComponentRender=function(){var e=this.component,t=this.supportedDevices,n=t.some((function(e){return a.DEVICE_DETACTION[e]}));if(t.length<1||t.indexOf("all")>-1||n){e.addCSSClass("fv__ui-directive-hide-on-device"),e.addCSSClass("devices-match"),this.addDestroyHook((function(){e.removeCSSClass("fv__ui-directive-hide-on-device"),e.removeCSSClass("devices-match")}))}},t}(i.default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(11),i=(o=r)&&o.__esModule?o:{default:o};n(497);var a=n(14);function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.supportedDevices=o.attrValue.split(/\W+/).map((function(e){return e.toLowerCase()})),o}return s(t,e),t.getName=function(){return"display-on-device"},t.prototype.afterComponentRender=function(){var e=this.component,t=this.supportedDevices;if(!(t.length<1||t.indexOf("all")>-1)&&!t.some((function(e){return a.DEVICE_DETACTION[e]}))){e.addCSSClass("fv__ui-directive-display-on-device"),e.addCSSClass("none-devices-match"),this.addDestroyHook((function(){e.removeCSSClass("fv__ui-directive-display-on-device"),e.removeCSSClass("none-devices-match")}))}},t}(i.default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=a(n(11)),i=a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c={close:i.default.willCloseDocument,open:i.default.openFileSuccess,opening:i.default.openingFile,openfailed:i.default.openFileFailed},u=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n)),i=r.subName.split("."),a=o(i,2),s=a[0],u=a[1];if(!s||!u)throw new Error("Illegal directive syntax: "+r.attrName+". it should be like this: @trigon.open.disable");if(!c[s])throw new Error("Unsupported event name: "+s+", now supported events are following: "+JSON.stringify(Object.keys(c)));if(!r.actions[u])throw new Error("Unsupported action type: "+u+", now supported actions are following: "+JSON.stringify(Object.keys(r.actions)));return r.eventName=c[s],r.actionType=u,r}return s(t,e),t.getName=function(){return"trigon"},t.prototype.componentPostlink=function(){var e=this,t=this.actions[this.actionType].bind(this);this.addDestroyHook(this.component.getPDFUI().addViewerEventListener(this.eventName,(function(){var n=[];if(e.attrValue){var o=e.controller.eval(e.attrValue);n=Array.is(o)?o:[o]}t.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(n))})))},t}(r.default);t.default=u,u.prototype.actions={disable:function(){this.component.disable()},enable:function(){this.component.enable()},show:function(){this.component.show()},hide:function(){this.component.hide()},setText:function(e){this.component.setText(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(11)),r=s(n(498)),i=n(84),a=n(153);function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.id=o.subName,o}return c(t,e),t.getName=function(){return"contextmenu"},t.prototype.componentPostlink=function(){var e=this,t=this.component.directive.getDirectives(r.default.getName()),n=void 0;this.id&&(n=t.find((function(t){return t.subName===e.id}))),n||(n=t.find((function(e){return!e.subName})));var o=this.component.element;this.component.isContainer()&&(o=this.component.getContainerElement());var i=(0,a.attachContextMenuEvent)(o,(function(t){var r=function(e){return!0};if(n){var i=n.getOptions();if("string"==typeof i.before&&(r=i.before),!(o=e.findTarget(i,t.target)))return}r(t,o)&&(e.targetContextmenu.setCurrentTarget(o),e.targetContextmenu.trigger("beforeshow",o),e.targetContextmenu.showAt(t.clientX,t.clientY),e.targetContextmenu.trigger("aftershow",o),t.stopPropagation(),t.preventDefault())}));this.addDestroyHook(i)},t.prototype.componentMounted=function(){if(this.targetContextmenu=this.component.getRoot().querySelector(this.attrValue),!(this.targetContextmenu instanceof i.ContextMenuComponent))throw new Error("Unexpected target contextmenu! It must be <contextmenu> component, but actual: <"+(this.targetContextmenu?this.targetContextmenu.nodeName:"not found")+">")},t.prototype.findTarget=function(e,t){var n=e.uixSelector,o=e.cssSelector;if("string"==typeof n){for(var r=this.component.querySelectorAll(n),i=function(){var e=t,n=void 0;for(;!n&&e;)n=e.getComponent(),e=e.parentElement;return n}();i&&-1===r.indexOf(i);)i=i.parent;return i}if("string"!=typeof o)return this.component.element;for(var a=t;a;){if(a.matches(o))return a;a=a.parentElement}},t}(o.default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(11)),r=i(n(6));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var s=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));if(!o.node.parent)throw new Error("Unsupported operation: @require-modules directive is not supported for root node");return o.requiredModules=o.attrValue.split(/[\s,;]+/).map((function(e){return e.toLowerCase()})),o}return a(t,e),t.getName=function(){return"require-modules"},t.isParser=function(){return!0},t.prototype.parseComponent=function(e,t){var n=this,o=this.requiredModules;if(!(o.length<1)){if(this.placeholderComponent=e.parse("<html-comment ignoreable>@require-modules"+(this.subName?".":"")+(this.subName||"")+'="'+this.attrValue+'"</html-comment>'),"oneof"===this.subName){var i=!1,a=o.map((function(o){return r.default.modules.subscribeOnce(o,(function(){a.forEach((function(e){return e()})),i||(n.replacePlaceholderComponent(e,t),i=!0)}))}));this.addDestroyHook((function(){a.forEach((function(e){return e()}))}))}else Promise.all(o.map((function(e){return new Promise((function(t){r.default.modules.subscribeOnce(e,(function(e){t(e)}))}))}))).then((function(){n.replacePlaceholderComponent(e,t)}));return this.placeholderComponent}},t.prototype.replacePlaceholderComponent=function(e,t){var n=this,o=this.placeholderComponent.index(),r=this.node,i=e.cloneNode(this.node),a=r.children.indexOf(this.node);i.parent=r,i.directives=this.node.directives.filter((function(e){return e.directiveName!==n.constructor.getName()}));var s=e.parseNode(i,this.parentComponent,t);this.parentComponent.insert(s,o),s.localize(),this.parentComponent.isMounted&&s.mounted(),this.placeholderComponent.destroy(),r.children[a]=i},t}(o.default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(5),i(n(102));var o=i(n(155)),r=(n(52),n(14),n(36),n(18),i(n(11)));i(n(10));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=function(e){function t(){return a(this,t),s(this,e.apply(this,arguments))}return c(t,e),t.getName=function(){return"touch-to-scroll"},t.prototype.componentMounted=function(){},t.prototype.scrollSinglePage=function(e){if(0!==e){var t=this.component.getPDFUI();this.taskExecutor.exec((function(){return t.getPDFDocRender().then((function(t){var n=t.getViewMode();n instanceof o.default&&(e>0?n.jumpToPrevPage():n.jumpToNextPage())}))}))}},t}(r.default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(11);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.binderName=o.attrValue,o.switchEventName=o.node.getAttribute("switch-binder-on")||"shown",o.exitEventName=o.node.getAttribute("exit-binder-on")||"hidden",o}return i(t,e),t.getName=function(){return"switch-binder"},t.prototype.componentMounted=function(){var e=this;this.component.getPDFUI().getPDFViewer().then((function(t){var n=void 0;e.addDestroyHook(e.component.on(e.switchEventName,(function(){n=t.keyboard.activeBinder(e.binderName)})),e.component.on(e.exitEventName,(function(){n()})))}))},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(11);function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var s=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n))}return a(t,e),t.getName=function(){return"class"},t.prototype.componentPrelink=function(){var e=this;this.addDestroyHook(this.controller.watch(this.attrValue,(function(t,n){var o=e.component.element.classList;if(n)switch(void 0===n?"undefined":r(n)){case"string":n.split(/\s+/).forEach((function(e){return o.remove(e)}));break;case"object":for(var i in n)n[i]&&o.remove(i)}if(t)switch(void 0===t?"undefined":r(t)){case"string":t.split(/\s+/).forEach((function(e){return o.add(e)}));break;case"object":for(var a in t)t[a]&&o.add(a)}})))},t}(((o=i)&&o.__esModule?o:{default:o}).default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(11)),r=i(n(43));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}n(1259);var s=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.orientation="vertical"===o.attrValue?"vertical":"horizontal",o}return a(t,e),t.getName=function(){return"scrollable"},t.prototype.componentPrelink=function(){var e="fv__ui-directive-scrollable-"+this.orientation,t=this.component.element.classList;t.add(e),this.addDestroyHook((function(){t.remove(e)}))},t.prototype.componentMounted=function(){var e=this,t=this.component.element,n=new r.default(t);n.add(new r.default.Pan({direction:"vertical"===this.orientation?r.default.DIRECTION_VERTICAL:r.default.DIRECTION_HORIZONTAL}));var o=0,i=0,a=!1,s=function(e){var t=e.target;switch(t.nodeName){case"INPUT":case"TEXTAREA":a=!0;break;default:a="true"===t.contentEditable}};t.addEventListener("mousedown",s,{capture:!0}),n.on("panstart",(function(){o=t.scrollLeft,i=t.scrollTop,t.classList.add("fv__ui-scrollable-scrolling")})),n.on("panend",(function(){t.classList.remove("fv__ui-scrollable-scrolling"),a=!1})),n.on("panmove",(function(n){if(!a)switch(e.orientation){case"vertical":t.scrollTop=i-n.deltaY;break;default:t.scrollLeft=o-n.deltaX}})),this.addDestroyHook((function(){n.destroy(),t.removeEventListener("mousedown",s)}))},t}(o.default);t.default=s},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(11)),r=i(n(10));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}n(499);var s=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n))}return a(t,e),t.getName=function(){return"hide-on-sr"},t.prototype.afterComponentRender=function(){var e=this.component,t="fv__ui-directive-hide-on-sr-selector",n=e.getPDFUI();n.getPDFViewer().then((function(n){var o=n.config.engineMode;("SR"===o||"MIX"===o&&n.mixPdfJREngine)&&e.addCSSClass(t),n.mixPdfJREngine&&n.mixPdfJREngine.then((function(){e.removeCSSClass(t)}))})),this.addDestroyHook(n.addUIEventListener(r.default.toggleEngineSr2JrSuccess,(function(){e.removeCSSClass(t)})))},t}(o.default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(11),i=(o=r)&&o.__esModule?o:{default:o},a=n(8);function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}
/**
 * ```html
 * <comp @license-validation functional-module=""></comp>
 * ```
 * @private
 */n(1262);var c=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n))}return s(t,e),t.getName=function(){return"license-validation"},t.prototype.afterComponentRender=function(){var e=this.component,t=this.component.getAttribute("functional-module");if(!t)throw new Error("The 'function-Module' property can't be empty");var n="fv__ui-directive-hide-on-license-selector";e.getPDFUI().getPDFViewer().then((function(o){o.getStore().subscribe(a.MODULE_LICENSE_INFO,(function(o){!1===o[t]&&e.addCSSClass(n)}))})),this.addDestroyHook((function(){e.removeCSSClass(n)}))},t}(i.default);t.default=c},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(11)),r=i(n(10));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}n(499);var s=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n))}return a(t,e),t.getName=function(){return"grp-more-hide-on-sr"},t.prototype.afterComponentRender=function(){var e=this.component,t="fv__ui-directive-grp-more-hide-on-sr-selector",n=e.getPDFUI();n.getPDFViewer().then((function(n){var o=n.config.engineMode;("SR"===o||"MIX"===o&&n.mixPdfJREngine)&&e.addCSSClass(t),n.mixPdfJREngine&&n.mixPdfJREngine.then((function(){e.removeCSSClass(t)}))})),this.addDestroyHook(n.addUIEventListener(r.default.toggleEngineSr2JrSuccess,(function(){e.removeCSSClass(t)})))},t}(o.default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(11),i=(o=r)&&o.__esModule?o:{default:o};function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}n(1265);var u=function(e){function t(){return a(this,t),s(this,e.apply(this,arguments))}return c(t,e),t.getName=function(){return"collab-unsupported"},t.prototype.afterComponentRender=function(){var e=this;this.component.getPDFUI().getPDFViewer().then((function(t){t.collaborationOptions.enable&&e.component.addCSSClass("fv__ui-not-supported-collab")}))},t}(i.default);t.default=u},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(9)),r=a(n(11)),i=a(n(6));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}o.default.getLogger("@async");var c=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n))}return s(t,e),t.getName=function(){return"async"},t.isParser=function(){return!0},t.prototype.parseComponent=function(e,t){var n=this;this.placeholderComponent=e.parse('<html-comment ignoreable>@async="'+this.attrValue+'"</html-comment>');var o=this.node.namespace;if(this.module.name!==o)this.addDestroyHook(i.default.modules.subscribeOnce(o,(function(o){n.module=o,n.loadComponentAsync(e,t)})));else{if(this.node.isSenior){var r=this.node.clone(!1),a=this.node.asyncFragments;return a.forEach((function(e){e.ignoreAsync=!0})),e.parseFragments(a,r),r.directives=this.node.directives.filter((function(e){return e.directiveName!==n.constructor.getName()})),e.parseNode(r,this.parentComponent,t)}this.loadComponentAsync(e,t)}return this.placeholderComponent},t.prototype.loadComponentAsync=function(e,t){var n=this,o=this.node.nodeName;this.module.getComponentDefAsync(o).then((function(o){if(!n.isDestroyed){var r=n.placeholderComponent.index(),i=n.node.parent,a=e.cloneNode(n.node);a.directives=a.directives.filter((function(e){return e.directiveName!==n.constructor.getName()}));var s=i.children.indexOf(n.node);a.parent=i;var c=n.parentComponent,u=e.parseNode(a,n.parentComponent,t);return c.insert(u,r),n.placeholderComponent.destroy(),i.children[s]=a,u}})).then((function(e){e.localize(),n.parentComponent.isMounted&&(e.isMounted||e.mounted())}))},t.prototype.cloneNode=function(){var e=this,t=this.node.clone(!1);return t.directives=this.node.directives.filter((function(t){return t.directiveName!==e.constructor.getName()})),t},t}(r.default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(28),i=n(11),a=(o=i)&&o.__esModule?o:{default:o},s=n(282);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var f=function(e){function t(){return c(this,t),u(this,e.apply(this,arguments))}return l(t,e),t.getName=function(){return"attr"},t.prototype.init=function(t){var n=this;e.prototype.init.call(this,t);var o=this.subName,i=this.attrValue;if(Array.isArray(i)){var a=new r.Store,c=i.map((function(e){return e.type===s.TokenType.placeholder?n.controller.eval(e.content):e.content}));a.dispatch("update",c),i.forEach((function(e,t){"placeholder"===e.type&&n.addDestroyHook(n.controller.watch(e.value,(function(e){c[t]=e,a.dispatch("update",c)})))})),a.subscribe("update",(function(e){t.setAttribute(o,e.join(""))}))}else this.addDestroyHook(this.controller.watch(this.attrValue,(function(e){t.setAttribute(o,e)})))},t}(a.default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(11);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.getName=function(){return"service"},t.prototype.init=function(t){e.prototype.init.call(this,t);var n=t.getPDFUI().getServiceInstance(this.attrValue,t);this.subName&&(t[this.subName]=n,t.controller[this.subName]=n),t.trigger("service",this.subName,n)},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(9)),r=i(n(11));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var s=o.default.getLogger("@var"),c=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.order=1/0,o}return a(t,e),t.getName=function(){return"var"},t.prototype.init=function(t){var n=this;e.prototype.init.call(this,t);var o=this.subName;if(o)try{this.controller.data[o]=this.controller.eval(this.attrValue)}finally{this.addDestroyHook(this.controller.watch(this.attrValue,(function(e){n.controller.data[n.subName]=e,n.controller.digest()})))}else s.warn("Variable is missing for @var directive",t.node.template)},t}(r.default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(11),i=(o=r)&&o.__esModule?o:{default:o};function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}n(500);var u=function(e){function t(){return a(this,t),s(this,e.apply(this,arguments))}return c(t,e),t.getName=function(){return"show"},t.prototype.init=function(t){e.prototype.init.call(this,t),this.addDestroyHook(this.controller.watch(this.attrValue,(function(e){!1===e?t.addCSSClass("fv__ui-directive-show-hidden"):t.removeCSSClass("fv__ui-directive-show-hidden")})))},t}(i.default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(11),i=(o=r)&&o.__esModule?o:{default:o};function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}n(500);var u=function(e){function t(){return a(this,t),s(this,e.apply(this,arguments))}return c(t,e),t.getName=function(){return"hide"},t.prototype.init=function(t){e.prototype.init.call(this,t),this.addDestroyHook(this.controller.watch(this.attrValue,(function(e){!0===e?t.addCSSClass("fv__ui-directive-hide-hidden"):t.removeCSSClass("fv__ui-directive-hide-hidden")})))},t}(i.default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=n(11);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=function(e){function t(){return a(this,t),s(this,e.apply(this,arguments))}return c(t,e),t.getName=function(){return"ga"},t.prototype.init=function(t){if(e.prototype.init.call(this,t),window.gtag){var n=this.subName||"click",o=this.attrValue.split(","),i=r(o,2),a=i[0],s=i[1];t.element.on(n,(function(){window.gtag("event",n,{event_category:a,event_label:s})}))}},t}(((o=i)&&o.__esModule?o:{default:o}).default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(11),i=(o=r)&&o.__esModule?o:{default:o};function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=function(e){e.stopPropagation()},l=function(e){function t(){return a(this,t),s(this,e.apply(this,arguments))}return c(t,e),t.getName=function(){return"stop-propagation"},t.prototype.init=function(t){e.prototype.init.call(this,t);var n=this.subName;t.element.addEventListener(n,u),this.addDestroyHook((function(){t.element.removeEventListener(n,u)}))},t}(i.default);t.default=l},function(e,t,n){"use strict";n(1275),n(1332),n(1335),n(1336),n(1340),n(1341),n(1353),n(1354),n(1359),n(1367),n(1372),n(1375),n(1384),n(1388),n(1390),n(1395),n(1443),n(1448),n(1455),n(1460),n(1462),n(1466),n(1472),n(1475),n(1609),n(1610),n(1617),n(1618),n(1624),n(1673)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=R(n(6)),r=R(n(501)),i=R(n(502)),a=R(n(503)),s=R(n(504)),c=R(n(311)),u=R(n(505)),l=R(n(506)),f=R(n(507)),p=R(n(312)),d=R(n(508)),h=R(n(509)),g=R(n(510)),m=R(n(511)),v=R(n(512)),y=R(n(313)),b=R(n(316)),w=R(n(317)),_=R(n(318)),P=R(n(319)),O=R(n(322)),E=R(n(323)),x=R(n(523)),C=R(n(525)),A=R(n(526)),S=R(n(527)),D=R(n(325)),T=R(n(528)),I=R(n(1327));function R(e){return e&&e.__esModule?e:{default:e}}var M=o.default.module("states",[]);[i.default,a.default,s.default,c.default,u.default,l.default,f.default,p.default,d.default,h.default,g.default,m.default,v.default,r.default,y.default,b.default,w.default,_.default,P.default,O.default,E.default,x.default,C.default,A.default,S.default,D.default,T.default,I.default].forEach((function(e){return M.registerController(e)})),t.default=M},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(1277),i=(o=r)&&o.__esModule?o:{default:o};t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(5)),r=n(1278);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=o.stateHandler,s=a.IStateHandler,c=a.StateHandlerUtils.getDevicePagePoint,u=a.StateHandlerConsts.STATE_HANDLER_CREATE_CREATE_AREA_HIGHLIGHT,l=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.cursorStyle="fv__cursor-crosshair",o}return i(t,e),t.getStateName=function(){return u},t.prototype.pageHandler=function(e){var t=this;this.pageRender=e,this.pageDestroyHooks=[];var n=e.$handler.get(0);e.$handler.addClass(this.cursorStyle);var o=this.hammer=new Hammer.Manager(n);o.add(new Hammer.Pan),o.on("panstart",(function(e){t.startPoint=c(n,e),t.start(t.startPoint)})),o.on("panmove",(function(e){return t.currentPoint={x:t.startPoint.x+e.deltaX,y:t.startPoint.y+e.deltaY},t.adjust(t.fakeAnnotation,t.startPoint,t.currentPoint)})),o.on("panend",(function(e){t.end(t.fakeAnnotation)})),o.on("pancancel",(function(e){return t.end(t.fakeAnnotation)})),this.pageDestroyHooks.push((function(){return o.destroy()}))},t.prototype.start=function(e){var t=e.x,n=e.y;return this.fakeAnnotation=new r.FakeAreaHighlightAnnotation({pdfViewer:this.pdfViewer,pageRender:this.pageRender,info:{flags:4}}),this.fakeAnnotation.setRect({left:t,right:t+1,top:n,bottom:n+1}),this.fakeAnnotation},t.prototype.adjust=function(e,t,n){var o=t.x,r=t.y,i=n.x,a=n.y,s=Math.min(o,i),c=Math.min(r,a),u=Math.max(o,i),l=Math.max(r,a);e.setRect({left:s,top:c,right:u,bottom:l}),e.draw()},t.prototype.end=function(e){var t=this;e.apply().then((function(e){if(t.pdfViewer.config.showCommentList){var n=e[e.length-2];t.pageRender.annotsRender.getAnnotRender(n.getId()).component.showReplyDialog()}}))},t.prototype.destroyPageHandler=function(){this.fakeAnnotation&&this.fakeAnnotation.destroy(),this.pageDestroyHooks&&this.pageDestroyHooks.forEach((function(e){return e()})),this.pageRender.$handler.removeClass(this.cursorStyle)},t}(s);t.default=l},function(e,t,n){"use strict";n.r(t),n.d(t,"FakeAreaHighlightAnnotation",(function(){return u}));var o,r=n(105),i=n(344),a=n.n(i),s=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),c=function(){return(c=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},u=function(e){function t(t){var n=e.call(this,t)||this;return n.annotationInfo.dicts=Object.assign({AreaHi:"AreaHi"},n.annotationInfo.dicts||{}),n.eContainer.classList.add("fv__viewer-fake-highlight-area-annot"),n}return s(t,e),t.prototype.setRect=function(t){e.prototype.setRect.call(this,t),this.annotationInfo.coords=[this.pdfRect],this.annotationInfo.quadPoints=[{x:this.pdfRect.left,y:this.pdfRect.top},{x:this.pdfRect.right,y:this.pdfRect.top},{x:this.pdfRect.right,y:this.pdfRect.bottom},{x:this.pdfRect.left,y:this.pdfRect.bottom}]},t.prototype.getDefaultAnnotInfo=function(){var t=e.prototype.getDefaultAnnotInfo.call(this);return t.color=16776960,t},t.prototype.generateApRenderer=function(){return new a.a(this)},t.prototype.getType=function(){return"highlight"},t.prototype.getCreationJSON=function(){return c(c({},e.prototype.getCreationJSON.call(this)),{color:this.annotationInfo.color})},t.prototype.getRenderingData=function(t,n){var o=e.prototype.getRenderingData.call(this,t,n);return c(c({},o),{coords:[o.outerDeviceRect],isArea:!0})},t}(r.a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(1280),i=(o=r)&&o.__esModule?o:{default:o};t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(5));function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var s=r.stateHandler,c=r.Matrix,u=s.IStateHandler,l=(s.HandStateHandler,r.vendors.Hammer),f=r.shared,p=f.DebouncePromiseQueue,d=f.getClientX,h=f.getClientY,g=s.StateHandlerUtils,m=g.getDevicePagePoint,v=(g.deltaDeviceRect,g.appendSelectMark),y=g.removeSelectMark,b=r.ViewerEvents,w=s.StateHandlerConsts.STATE_HANDLER_CREATE_CARET,_=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.cursorStyle="fv__cursor-insert-text",o}return a(t,e),t.getStateName=function(){return w},t.prototype.pageHandler=function(e){var t=this;this.pageRender=e;var n=e.$handler;n.addClass(this.cursorStyle);var r=n[0],a=this.hammer=new l.Manager(r,{recognizers:[[l.Pan,{direction:l.DIRECTION_ALL}],[l.Tap]]}),s=void 0,u=-1,f=-1,g=void 0;a.on("panstart",(function(e){if(!1!==t.panStart(e,t)){u=-1,f=-1;var n=m(r,e);s=[n.x,n.y],t.hideSelectMark(),g=new p}})),a.on("panmove",(function(e){!1!==t.panMove(e,t)&&g.push((function(){var n=t.pageRender,r=[s[0]+e.deltaX,s[1]+e.deltaY];return t.getTextRect(s,r,u,f).then((function(e){var t;return(t=e[0])&&"string"==typeof t.text&&(u=t.start,f=t.end),Promise.all([n.getPDFPage(),e])})).then((function(e){var t=o(e,2),r=t[0],i=t[1];return n.transformRectArray(r,i)})).then((function(e){t.showSelectMark(e)}))}))})),a.on("panend",(function(n){if(!1!==t.panEnd(n,t)){g.end(),g=null;var r=[s[0]+n.deltaX,s[1]+n.deltaY];return t.getTextRect(s,r,u,f).then((function(n){var o;return(o=n[0])&&"string"==typeof o.text&&(u=o.start,f=o.end),t.hideSelectMark(),Promise.all([e.getPDFPage(),n])})).then((function(e){var n=o(e,2),r=n[0],i=n[1];if(i.length<1)return Promise.resolve();var a=i[i.length-1],s=void 0,c=void 0,u={};switch(a.rotation){case 0:c=2*(s=a.top-a.bottom)/5,u.left=a.right-c,u.right=a.right+c,u.top=(a.top+a.bottom)/2,u.bottom=u.top-s;break;case 3:s=4*(c=a.right-a.left)/5,u.left=(a.right+a.left)/2,u.right=u.left+c,u.top=a.top+s/2,u.bottom=u.top-s;break;case 2:c=2*(s=a.top-a.bottom)/5,u.left=a.left-c,u.right=a.left+c,u.bottom=(a.top+a.bottom)/2,u.top=u.bottom+s;break;case 1:s=4*(c=a.right-a.left)/5,u.right=(a.right+a.left)/2,u.left=u.right-c,u.top=a.bottom+s/2,u.bottom=u.top-s}return r.addAnnot({type:"caret",flags:4,rect:u,_rotate:a.rotation*Math.PI/2}).then((function(e){var n=e[0],o=t.pageRender.annotsRender.getAnnotRender(n.getId()).component;t.pdfViewer.eventEmitter.emit(b.addAnnotSuccess,o.annot),t.pageRender.annotsRender.activeAnnot(n.getId()),t.pdfViewer.config.showCommentList&&o.showReplyDialog()}))}))}})),a.on("tap",(function(n){if(!1!==t.tap(n,t)){var o=r.getBoundingClientRect(),a=n.srcEvent,s=d(a),u=h(a),l=[s-o.left,u-o.top];return e.getPDFPage().then((function(n){var o=n.reverseDevicePoint([l[0],l[1]],e.scale,e.getRotation());return n.getCharInfoAtPoint(o).then((function(e){if(e){var o=e.top-e.bottom,r=e.bottom+o/2,a=(e.right+e.left)/2,s=new c;s.e=-a,s.f=-r;var u=(e.bottom+e.top)/2,l=u-o,f=e.right-3*o/8,p=e.right+3*o/8,d=s.transformRect(f,u,p,l),h=e.rotation*Math.PI/2;return s.reset(),s.rotate(-h),d=s.transformRect.apply(s,i(d)),s.reset(),s.e=a,s.f=r,d=s.transformRect.apply(s,i(d)),n.addAnnot({type:"caret",rect:{left:d[0],bottom:d[1],right:d[2],top:d[3]},_rotate:h}).then((function(e){var n=e[0],o=t.pageRender.annotsRender.getAnnotRender(n.getId()).component;t.pdfViewer.eventEmitter.emit(b.addAnnotSuccess,o.annot),t.pageRender.annotsRender.activeAnnot(n.getId()),t.pdfViewer.config.showCommentList&&o.showReplyDialog()}))}}))}))}}))},t.prototype.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle),this.hideSelectMark()},t.prototype.out=function(){this.destroyPageHandler()},t.prototype.panStart=function(){},t.prototype.panMove=function(){},t.prototype.panEnd=function(){},t.prototype.tap=function(){},t.prototype.showSelectMark=function(e){v(this.pageRender.$handler,e)},t.prototype.hideSelectMark=function(){y(this.pageRender.$handler)},t.prototype.getTextRect=function(e,t,n,o){return this.pageRender.getTextContinueRectAtDevicePoints(e,t,n,o)},t}(u);t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(1282),i=(o=r)&&o.__esModule?o:{default:o};t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(5));function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}n(310);var a=r.stateHandler,s=r.ViewerEvents,c=a.IStateHandler,u=a.HandStateHandler,l=r.vendors,f=l.Hammer,p=l.jQuery,d=r.shared,h=(d.DebouncePromiseQueue,d.getClientX),g=d.getClientY,m=a.StateHandlerUtils,v=(m.getDevicePagePoint,m.deltaDeviceRect,m.appendSelectMark,m.removeSelectMark,a.StateHandlerConsts.STATE_HANDLER_CREATE_FILE_ATTACHMENT),y=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.cursorStyle="fv__cursor-file",o}return i(t,e),t.getStateName=function(){return v},t.prototype.pageHandler=function(e){this.pageRender=e;var t=e.$handler;t.addClass(this.cursorStyle),t.append('<input id="fileAttachment" type="file" style="display: none;"/>');var n=t[0];(this.hammer=new f.Manager(n,{recognizers:[[f.Tap]]})).on("tap",(function(t){var r=n.getBoundingClientRect(),i=t.srcEvent,a=h(i),c=g(i),l=[a-r.left,c-r.top],f=l[0],d=l[1];p("#fileAttachment").off("change").on("change",(function(t){var n=t.target.files[0];if(n)return e.getPDFPage().then((function(t){var r=new FileReader,i=t.reverseDevicePoint([f,d],e.scale,e.getRotation()),a=o(i,2),c=a[0],l=a[1];r.readAsArrayBuffer(n),r.onload=function(){var o=new Uint8Array(r.result);t.addAnnot({flags:28,type:"fileattachment",rect:{left:c,right:c+20,top:l,bottom:l-24},buffer:o,fileName:n.name,file:n}).then((function(t){var n=t[0],o=e.annotsRender.getAnnotRender(n.getId()).component;e.pdfViewer.eventEmitter.emit(s.addAnnotSuccess,o.annot),e.pdfViewer.getStateHandlerManager().switchTo(u.getStateName()),e.annotsRender.activeAnnot(n.getId())}))}}))})),p("#fileAttachment").click()}))},t.prototype.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle),p("#fileAttachment").remove()},t.prototype.out=function(){this.destroyPageHandler()},t}(c);t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(1284),i=(o=r)&&o.__esModule?o:{default:o};t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(184),i=(o=r)&&o.__esModule?o:{default:o};function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(5)).stateHandler.StateHandlerConsts.STATE_HANDLER_CREATE_HIGHLIGHT,c=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.cursorStyle="fv__cursor-highlight",o}return a(t,e),t.getStateName=function(){return s},t.prototype.addAnnot=function(e,t){return e.addAnnot({flags:4,type:"highlight",rect:{left:0,right:0,top:0,bottom:0},coords:t})},t}(i.default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),r=f(n(43)),i=f(n(4)),a=f(n(112)),s=n(24),c=n(109),u=n(14),l=f(n(1));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}n(1286);var d=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.cursorStyle="fv__cursor-crosshair",o}return p(t,e),t.getStateName=function(){return s.STATE_HANDLER_CREATE_IMAGE},t.prototype.pageHandler=function(e){var t=this;if(this.pageRender=e,u.isIOS)0===e.index&&(setTimeout((function(){t.pdfViewer.getStateHandlerManager().switchTo("hand")}),100),this.pdfViewer.viewerUI.alert("Unsupported now. Comming soon."));else{var n=e.$handler;n.addClass(this.cursorStyle);var o=this.$imageInput=(0,i.default)('<input id="imageInput" type="file" style="visibility: hidden;" accept="image/gif,image/jpeg,image/jpg,image/png,image/svg"/>');n.append(o);var s=n[0],c=this.hammer=new r.default.Manager(s,{recognizers:[[r.default.Pan,{direction:r.default.DIRECTION_ALL}]]}),f=void 0;c.on("panstart",(function(e){var t=(0,a.default)(s,e);f=[t.x,t.y]})),c.on("panmove",(function(e){var t=s.getBoundingClientRect(),o=e.srcEvent,r=h(f,t,o),a=["top:"+r.top+"px","left:"+r.left+"px","height:"+(r.bottom-r.top)+"px","width:"+(r.right-r.left)+"px"].join(";"),c=n.find(".fv__mark-image-blank");if(0===c.length){var u=(0,i.default)(document.createDocumentFragment());u.append('<div class="fv__mark-image-blank" style="'+a+'"></div>'),n.append(u)}else c.css({top:r.top,left:r.left,width:r.right-r.left,height:r.bottom-r.top})})),c.on("panend",(function(t){var o=s.getBoundingClientRect(),r=t.srcEvent,i=h(f,o,r);n.find(".fv__mark-image-blank").remove(),n.find("#imageInput").off("click"),n.find("#imageInput").off("change").on("change",(function(t){var n=t.target.files[0];return e.getPDFPage().then((function(o){var r=e.getRotation(),a=new FileReader,s=o.reverseDeviceRect(i,e.getScale(),r);a.readAsArrayBuffer(n),a.onload=function(){var n=new Uint8Array(a.result),i=((o.getRotationAngle()+r)%360+360)%360;0!=i&&(i=(360-i)%360);var c={0:0,90:1,180:2,270:3}[i];o.addAnnot({flags:4,type:"screen",rect:s,rotate:c,buffer:n}).then((function(n){t.target.value="";var o=n[0],r=e.annotsRender.getAnnotRender(o.getId()).component;e.pdfViewer.eventEmitter.emit(l.default.addAnnotSuccess,r.annot),e.annotsRender.activeAnnot(o.getId())})).catch((function(e){}))}})).catch((function(e){}))})).click()}))}},t.prototype.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle),this.$imageInput&&this.$imageInput.remove()},t.prototype.out=function(){this.destroyPageHandler()},t}(o.IStateHandler);function h(e,t,n){var o=(0,c.getClientX)(n),r=(0,c.getClientY)(n),i=[o-t.left,r-t.top],a=e[0],s=e[1],u=i[0],l=i[1],f=void 0;return u<a&&(f=a,a=u,u=f),l<s&&(f=s,s=l,l=f),{left:a,top:s,right:u,bottom:l}}t.default=d},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),r=p(n(43)),i=p(n(4)),a=p(n(112)),s=n(24),c=n(109),u=n(14),l=p(n(102)),f=p(n(1));function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}n(1288);var h=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.cursorStyle="fv__cursor-crosshair",o}return d(t,e),t.getStateName=function(){return s.STATE_HANDLER_CREATE_LINK},t.prototype.pageHandler=function(e){var t=this;this.pageRender=e;var n=e.$handler;n.addClass(this.cursorStyle);var o=n[0],s=this.hammer=new r.default.Manager(o,{recognizers:[[r.default.Pan,{direction:r.default.DIRECTION_ALL}]]}),c=void 0;s.on("panstart",(function(e){var t=(0,a.default)(o,e);c=[t.x,t.y]})),s.on("panmove",(function(e){var t=o.getBoundingClientRect(),r=e.srcEvent,a=g(c,t,r),s=["top:"+a.top+"px","left:"+a.left+"px","width:"+(a.bottom-a.top)+"px","height:"+(a.right-a.left)+"px"].join(";"),u=n.find(".fv__mark-link-blank");if(0===u.length){var l=(0,i.default)(document.createDocumentFragment());l.append('<div class="fv__mark-link-blank" style="'+s+'"></div>'),n.append(l)}else u.css({top:a.top,left:a.left,width:a.right-a.left,height:a.bottom-a.top})})),s.on("panend",(function(r){var i=o.getBoundingClientRect(),a=r.srcEvent,s=g(c,i,a);return e.getPDFPage().then((function(o){var r=o.reverseDeviceRect(s,e.getScale(),e.getRotation());o.addAnnot({type:"link",rect:r,color:"0000FF"}).then((function(o){n.find(".fv__mark-link-blank").remove();var r=t.pageRender.getAnnotRender(o[0].getId()).component;r.showActionsDialog(),u.isMobile&&t.pdfViewer.getStateHandlerManager().switchTo(l.default.getStateName()),e.pdfViewer.eventEmitter.emit(f.default.addAnnotSuccess,r.annot)}))}))}))},t.prototype.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle)},t.prototype.out=function(){this.destroyPageHandler()},t}(o.IStateHandler);function g(e,t,n){var o=(0,c.getClientX)(n),r=(0,c.getClientY)(n),i=[o-t.left,r-t.top],a=e[0],s=e[1],u=i[0],l=i[1],f=void 0;return u<a&&(f=a,a=u,u=f),l<s&&(f=s,s=l,l=f),{left:a,top:s,right:u,bottom:l}}t.default=h},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(1290),i=(o=r)&&o.__esModule?o:{default:o};t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(5));function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=r.stateHandler,u=r.ViewerEvents,l=r.shared,f=r.vendors.jQuery,p=c.IStateHandler,d=c.StateHandlerUtils.getDevicePagePoint,h=c.StateHandlerConsts.STATE_HANDLER_CREATE_PENCIL,g=r.shared,m=g.getClientX,v=g.getClientY,y=g.convertFromNumberToHex,b=g.extendOptions,w=l.browser.dpr,_=function(e){function t(){i(this,t);var n=a(this,e.apply(this,arguments));return n.cursorStyle="fv__cursor-pencil",n}return s(t,e),t.getStateName=function(){return h},t.getStateHandlerName=function(){return"pencilStateHandler"},t.prototype.initTimeout=function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=this.timeout;clearTimeout(o),n&&(this.timeout=setTimeout((function(){t.addAnnot()}),e))},t.prototype.pageHandler=function(e){var t=this,n=this;this.pageRender=e;var o=e.$handler;o.addClass(this.cursorStyle);var r=o.width(),i=o.height();this.$canvas=f('<canvas style="width:'+r+"px;height:"+i+'px" width="'+r*w+'" height="'+i*w+'"></canvas>'),o.append(this.$canvas);var a=this.$canvas[0].getContext("2d"),s=o[0],c=this.hammer=new Hammer.Manager(s,{recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}]]});this.pencilLists=[];var u=void 0;c.on("panstart",(function(r){var i=t.pencilLists;u=[],0==i.length&&function(){var t=b({borderInfo:{width:2},color:16711680},n.pdfViewer.getDefaultAnnotConfig()("ink")),r=o.width(),i=o.height();n.$canvas[0].width=r*w,n.$canvas[0].height=i*w,n.$canvas.css("width",r+"px"),n.$canvas.css("height",i+"px"),a.lineWidth=t.borderInfo.width*e.getScale()*w,a.strokeStyle=y(t.color),a.lineJoin="round",a.lineCap="round"}(),i.push(u);var c=d(s,r);a.beginPath(),a.moveTo(c.x*w,c.y*w),u.push({x:c.x,y:c.y,type:1})})),c.on("panmove",(function(e){var t=P(s,e);u.push({x:t.x,y:t.y,type:2}),a.lineTo(t.x*w,t.y*w),a.stroke()})),c.on("panend",(function(n){var o=P(s,n);a.lineTo(o.x*w,o.y*w),a.stroke();var r=e.pdfViewer.getStateHandlerManager().getStateHandlerConfig(t.constructor.getStateHandlerName()),i=r?r.pencilTimeout:null;i=null!=i?i:3e3,t.initTimeout(i)}))},t.prototype.addAnnot=function(){var e=this,t=this.pencilLists;if(!t||t.length<1)return Promise.resolve();var n=this.pageRender;return n.getPDFPage().then((function(r){var i={left:1e4,right:0,top:0,bottom:1e4},a=t.reduce((function(e,t){return function(e,t,n,r,i,a){return i.forEach((function(i){var s=e.reverseDevicePoint([i.x,i.y],t,n),c=o(s,2),u=c[0],l=c[1];u>a.right?a.right=u:u<a.left&&(a.left=u),l>a.top?a.top=l:l<a.bottom&&(a.bottom=l),r.push({x:u,y:l,type:i.type})})),r}(r,n.scale,n.rotate,e,t,i)}),[]);return r.addAnnot({type:"ink",flags:4,rect:i,inkList:a}).then((function(t){n.pdfViewer.eventEmitter.emit(u.addAnnotSuccess,t[0]),e.$canvas[0].width=0,e.pencilLists=[]})).then((function(){e.pdfViewer.config.showCommentList&&e.pageRender.getAnnots().then((function(t){var n=t[t.length-2];e.pageRender.annotsRender.getAnnotRender(n.getId()).component.showReplyDialog()}))}))}))},t.prototype.destroyPageHandler=function(){var e=this;this.initTimeout(0,!1),this.pageRender.docRender.formRender.addTask((function(t){return e.addAnnot().then((function(t){e.$canvas.remove(),e.hammer&&e.hammer.destroy(),e.pageRender.$handler.removeClass(e.cursorStyle),e.pencilLists=null}))}),!0)},t.prototype.out=function(){this.destroyPageHandler()},t}(p);function P(e,t){var n=e.getBoundingClientRect(),o=t.srcEvent,r=m(o),i=v(o);return{x:r-n.left,y:i-n.top}}t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(1292),i=(o=r)&&o.__esModule?o:{default:o};t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(184),i=(o=r)&&o.__esModule?o:{default:o};function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(5)).stateHandler.StateHandlerConsts.STATE_HANDLER_CREATE_REPLACE,c=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.cursorStyle="fv__cursor-replace-text",o}return a(t,e),t.getStateName=function(){return s},t.prototype.addAnnot=function(e,t){var n=t[t.length-1],o=void 0,r=void 0,i={};switch(n.rotation){case 0:r=2*(o=n.top-n.bottom)/5,i.left=n.right-r,i.right=n.right+r,i.top=(n.top+n.bottom)/2,i.bottom=i.top-o;break;case 3:o=4*(r=n.right-n.left)/5,i.left=(n.right+n.left)/2,i.right=i.left+r,i.top=n.top+o/2,i.bottom=i.top-o;break;case 2:r=2*(o=n.top-n.bottom)/5,i.left=n.left-r,i.right=n.left+r,i.bottom=(n.top+n.bottom)/2,i.top=i.bottom+o;break;case 1:o=4*(r=n.right-n.left)/5,i.right=(n.right+n.left)/2,i.left=i.right-r,i.top=n.bottom+o/2,i.bottom=i.top-o}return e.addAnnotGroup([{flags:4,type:"strikeout",rect:{left:0,right:0,top:0,bottom:0},coords:t,noPopup:!0,subject:"Replace",typeAlias:"Replace",intent:"StrikeOutTextEdit"},{type:"caret",flags:4,rect:i,subject:"Replace",typeAlias:"Replace",intent:"Replace",_rotate:n.rotation*Math.PI/2}],1)},t}(i.default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(1294),i=(o=r)&&o.__esModule?o:{default:o};t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(184),i=(o=r)&&o.__esModule?o:{default:o};function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(5)).stateHandler.StateHandlerConsts.STATE_HANDLER_CREATE_SQUIGGLY,c=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.cursorStyle="fv__cursor-s-underline",o}return a(t,e),t.getStateName=function(){return s},t.prototype.addAnnot=function(e,t){return e.addAnnot({flags:4,type:"squiggly",rect:{left:0,right:0,top:0,bottom:0},coords:t})},t}(i.default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(1296),i=(o=r)&&o.__esModule?o:{default:o};t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(184),i=(o=r)&&o.__esModule?o:{default:o};function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(5)).stateHandler.StateHandlerConsts.STATE_HANDLER_CREATE_STRIKE_OUT,c=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.cursorStyle="fv__cursor-strikeout",o}return a(t,e),t.getStateName=function(){return s},t.prototype.addAnnot=function(e,t){return e.addAnnot({flags:4,type:"strikeout",rect:{left:0,right:0,top:0,bottom:0},coords:t})},t}(i.default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(1298),i=(o=r)&&o.__esModule?o:{default:o};t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(5));function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=r.stateHandler,s=a.IStateHandler,c=a.HandStateHandler,u=r.vendors.Hammer,l=a.StateHandlerConsts.STATE_HANDLER_CREATE_TEXT,f=r.ViewerEvents,p=r.shared,d=p.getClientX,h=p.getClientY,g=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.cursorStyle="fv__cursor-note",o}return i(t,e),t.getStateName=function(){return l},t.prototype.pageHandler=function(e){this.pageRender=e;var t=e.$handler;t.addClass(this.cursorStyle);var n=t[0];(this.hammer=new u.Manager(n,{recognizers:[[u.Tap]]})).on("tap",(function(t){var r=n.getBoundingClientRect(),i=t.srcEvent,a=d(i),s=h(i),u=[a-r.left,s-r.top],l=u[0],p=u[1];return e.getPDFPage().then((function(t){var n=t.reverseDevicePoint([l,p],e.scale,e.getRotation()),r=o(n,2),i=r[0],a=r[1],s={flags:28,type:"text",rect:{left:i,right:i+20,top:a,bottom:a-20}};t.addAnnot(s).then((function(t){var n=t[0],o=e.annotsRender.getAnnotRender(n.getId()).component;e.pdfViewer.eventEmitter.emit(f.addAnnotSuccess,o.annot),e.pdfViewer.getStateHandlerManager().switchTo(c.getStateName()),e.annotsRender.activeAnnot(n.getId()),setTimeout((function(){e.annotsRender.doubleTapAnnot(n.getId())}),100)}))}))}))},t.prototype.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle)},t.prototype.out=function(){this.destroyPageHandler()},t}(s);t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(1300),i=(o=r)&&o.__esModule?o:{default:o};t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(184),i=(o=r)&&o.__esModule?o:{default:o};function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(5)).stateHandler.StateHandlerConsts.STATE_HANDLER_CREATE_UNDERLINE,c=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.cursorStyle="fv__cursor-underline",o}return a(t,e),t.getStateName=function(){return s},t.prototype.addAnnot=function(e,t){return e.addAnnot({flags:4,type:"underline",rect:{left:0,right:0,top:0,bottom:0},coords:t})},t}(i.default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(1302),i=(o=r)&&o.__esModule?o:{default:o};t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=u(n(1303)),i=u(n(513)),a=u(n(224)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(5)),c=n(15);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var d=s.stateHandler,h=s.Log,g=s.ViewerEvents,m=d.IStateHandler,v=s.Consts.POINT_TYPE,y=d.StateHandlerUtils.getDevicePagePoint,b=h.LoggerFactory.getLogger("EraserStateHandler"),w=function(e){function t(){l(this,t);var n=f(this,e.apply(this,arguments));return n.cursorStyle="fv__cursor-eraser",n}return p(t,e),t.getStateName=function(){return"eraser"},t.getStateHandlerName=function(){return"eraserStateHandler"},t.prototype.pageHandler=function(e){var t=this;this.pageRender=e;var n=e.$handler;this.allInkList={},this.eraseInkList={},n.addClass(this.cursorStyle);var o=n[0],r=this.hammer=new Hammer.Manager(o,{recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}]]}),i=e.docRender.formRender.addTask((function(t){return e.getAnnots().then((function(e){return e.filter((function(e){return"ink"===e.getType()}))}))}),!0),a=void 0;e.getPDFPage().then((function(n){r.on("panstart",(function(e){t.startPoint=y(o,e),a=i.then((function(e){e.forEach((function(e){t.allInkList[e.getId()]={annot:e,inkList:e.getInkList()}}))}))})),r.on("panmove",(function(o){t.lastPoint=t.currentPoint||t.startPoint,t.currentPoint={x:t.startPoint.x+o.deltaX,y:t.startPoint.y+o.deltaY},a=a.then((function(o){return i.then((function(o){if(0!==o.length||t.currentPoint){var r=e.pdfViewer.getStateHandlerManager().getStateHandlerConfig(t.constructor.getStateHandlerName()),i=r?r.width:20;return t.erase(n,o,t.lastPoint,t.currentPoint,i)}}))}))})),r.on("panend",(function(n){a.then((function(n){var o=[],r=[];for(var i in t.eraseInkList){var a=t.allInkList[i],s=t.eraseInkList[i];a.isRemove=s.isRemove,o.push(a),r.push(s)}e.pdfViewer.eventEmitter.emit(g.eraserSuccess,o,r);var u=Object.keys(t.eraseInkList).map((function(e){return t.eraseInkList[e]})).filter((function(e){return!e.isRemove})).map((function(e){return e.annot.exportToJSON()}));t.pdfViewer.collaborate(c.COLLABORATION_ACTION.UPDATE_ANNOT,{annots:u})}))}))}))},t.prototype.erase=function(e,t,n,s){var u=this,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20;if(n.x>s.x){var f=[s,n];n=f[0],s=f[1]}var p=this.pdfViewer,d=this.pageRender,h=d.getScale(),g=d.getRotation(),m=e.reverseDevicePoint([n.x,n.y],h,g),y=o(m,2),w=y[0],_=y[1],P=e.reverseDevicePoint([s.x,s.y],h,g),O=o(P,2),E=O[0],x=O[1],C={x:w,y:_},A={x:E,y:x},S=new r.default(C,A,l),D=t.filter((function(e){var t=e.getRect();return T(t,C)||T(t,A)})).map((function(e){return e.$$lastErasePromise=(e.$$lastErasePromise||Promise.resolve()).then(n,n).then((function(t){var n=d.getAnnotRender(e.getId());return u.eraseInkList[e.getId()]={annot:e,inkList:e.getInkList(),isRemove:!n},t}));function t(e){return e.reduce((function(e,t){return t.type===v.MOVE_TO&&e.push([]),e[e.length-1].push(Object.assign({removed:!1},t)),e}),[])}function n(){var n=t(e.getInkList()),r=!1;if(n.forEach((function(e){if(1===e.length){var t=e[0];S.contains(t)&&(t.removed=!0,r=!0)}else for(var n=0;n<e.length-1;){var s=e[n],c=e[n+1];if(c.type!==v.MOVE_TO){var u=S.contains(s);if(S.contains(c)){r=!0,u&&(s.removed=!0,c.type=v.MOVE_TO);var l=n+1;e:for(;l<e.length-1;){var f=e[l],p=e[l+1];f.removed=!0;var d=S.intersectionPoints(new i.default(f,p));if(1===d.length){if(p.type!==v.MOVE_TO){var h=d[0];h.type=v.MOVE_TO,e.splice(l+1,0,h)}l++;break e}l++}n=l}else{var g=S.intersectionPoints(new i.default(s,c));if(1===g.length){s.removed=!0;var m=g[0];m.type=v.MOVE_TO,e.splice(n+1,0,m),n+=2,r=!0}else if(2===g.length){var y=o(g,2),b=y[0],w=y[1],_=new a.default(b.x-s.x,b.y-s.y).length();if(new a.default(w.x-s.x,w.y-s.y).length()<_){var P=[w,b];b=P[0],w=P[1]}e.splice(n+1,0,b,w),b.type=v.LINE_TO,w.type=v.MOVE_TO,n+=2,r=!0}n++}}else n++}})),r){var s=[];if(n.forEach((function(e){e.forEach((function(t,n){if(t.removed){var o=e[n+1];o&&(o.type=v.MOVE_TO)}else s.push({x:t.x,y:t.y,type:t.type})}))})),s.length<10){var u=t(s);if(s.length<2||s.length===u.length){var l=d.getAnnotRender(e.getId());if(l){var f=l.component.annot;return f.getPDFPage().removeAnnot(f).then((function(){p.collaborate(c.COLLABORATION_ACTION.REMOVE_ANNOT,[{annotId:f.getId(),pageIndex:d.index}])}))}return void b.debug("annotRender === undefined",l,u,s)}}if(0===s.length)return;return e.setInkList(s)}}}));return Promise.all(D);function T(e,t){var n=t.x>=e.left&&t.x<=e.right,o=t.y>=e.bottom&&t.y<=e.top;return n&&o}},t.prototype.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle)},t.prototype.out=function(){this.destroyPageHandler()},t}(m);t.default=w},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(1304)),r=i(n(224));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=function(e){function t(n,o,i){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i;return a(this,t),s(this,e.call(this,function(){if(n.y>o.y){var e=[o,n];n=e[0],o=e[1]}var t=new r.default(n.x,n.y),a=new r.default(o.x,o.y),s=a.substract(t).normalize(),u=s.mult(c);t=t.substract(u),a=a.add(u);var l=Math.PI/2-Math.atan2(s.y,s.x),f=.5*i*Math.cos(l),p=.5*i*Math.sin(l);return[{x:t.x-f,y:t.y+p},{x:t.x+f,y:t.y-p},{x:a.x+f,y:a.y-p},{x:a.x-f,y:a.y+p}]}()))}return c(t,e),t.prototype.getWidth=function(){for(var e=this.vertices[0].x,t=this.vertices[0].x,n=1;n<this.count;n++)this.vertices[n].x<e?e=this.vertices[n].x:this.vertices[n].x>t&&(t=this.vertices[n].x);return t-e},t.prototype.getHeight=function(){for(var e=this.vertices[0].y,t=this.vertices[0].y,n=1;n<this.count;n++)this.vertices[n].y<e?e=this.vertices[n].y:this.vertices[n].y>t&&(t=this.vertices[n].y);return t-e},t}(o.default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(224)),r=i(n(513));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.vertices=t.map((function(e){return new o.default(e.x,e.y)})),this.count=this.vertices.length,this.edges=[];for(var n=this.vertices.length,i=0;i<n-1;i++)this.edges.push(this.vertices[i].segment(this.vertices[i+1]));this.edges.push(this.vertices[n-1].segment(this.vertices[0])),this.segments=this.edges.map((function(e){var t=e.from,n=e.to;return new r.default(t,n)}))}return e.overlap=function(e,t){return n(e.min,t)||n(e.max,t)||n(t.max,e)||n(t.max,e);function n(e,t){return e>=t.min&&e<=t.max}},e.prototype.project=function(e){e=e.normalize();for(var t=this.vertices[0].dot(e),n=t,o=0;o<this.count;o++){var r=this.vertices[o].dot(e);r<t&&(t=r),r>n&&(n=r)}if(t>n){var i=[n,t];t=i[0],n=i[1]}return{min:t,max:n}},e.prototype.sat=function(t){for(var n=0;n<this.count;n++){var o=this.edges[n].dir.perp(),r=this.project(o),i=t.project(o);if(!e.overlap(r,i))return!1}for(var a=0;a<t.count;a++){var s=t.edges[a].dir.perp(),c=this.project(s),u=t.project(s);if(!e.overlap(c,u))return!1}return!0},e.prototype.contains=function(e){for(var t=this.vertices[0],n=1;n<this.count;n++){var o=this.vertices[n];o.x>t.x&&(t=o)}for(var i=new r.default(e,{x:t.x+10,y:e.y}),a=!1,s=0;s<this.count;s++){var c=this.segments[s];if(c.hasPoint(e))return!0;i.hasIntersect(c)&&(a=!a)}return a},e.prototype.intersectionPoints=function(e,t){var n=void 0;return n=e instanceof r.default?e:new r.default(e,t),this.segments.map((function(e){return e.intersectPointInSegment(n)})).filter((function(e){return!!e}))},e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(315);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=function(e){function t(n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return i.target=o,i.hammer=new Hammer.Manager(o),i.hammer.add(new Hammer.Pan(r)),i.addDestroyHook((function(){i.hammer.destroy()})),i}return i(t,e),t.prototype.init=function(){var e=this,t=void 0,n=void 0,o=0,r=0,i=function(i){return function(a){if("start"===i){var s=(n=a.target).getBoundingClientRect();t={left:s.left,top:s.top}}e.eventEmitter.emit(i,{deltaX:a.deltaX-o,deltaY:a.deltaY-r,srcEvent:a.srcEvent}),"end"!==i&&"cancel"!==i||(n=null,o=0,r=0)}};this.hammer.on("panstart",i("start")),this.hammer.on("panmove",i("move")),this.hammer.on("panend",i("end")),this.hammer.on("pancancel",i("cancel"));var a=function(e){if(n){var i=n.getBoundingClientRect();o=i.left-t.left,r=i.top-t.top}};window.addEventListener("scroll",a,!0),this.addDestroyHook((function(){window.removeEventListener("scroll",a,!0)}));var s=function(t){var n=e.target.getBoundingClientRect(),o=t.clientX-n.left,r=t.clientY-n.top;e.eventEmitter.emit("mousemove",{x:o,y:r})};this.target.addEventListener("mousemove",s,!0),this.addDestroyHook((function(){e.target.removeEventListener("mousemove",s,!0)}))},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=a},function(e,t,n){"use strict";n.r(t),n.d(t,"FakeLineAnnotation",(function(){return g}));var o,r=n(105),i=n(345),a=n.n(i),s=n(7),c=n(22),u=n(53),l=n.n(u),f=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),p=function(){return(p=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},d=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a},h=s.LineEndingStyle,g=function(e){function t(t){var n=e.call(this,t)||this,o=n.annotationInfo;switch(o.intent){case s.Intents.LINE_ARROW:o.endingStyle===h.None&&(o.endingStyle=h.OpenArrow);break;case s.Intents.LINE_DIMENSION:o.startStyle===h.None&&(o.startStyle=h.OpenArrow),o.endingStyle===h.None&&(o.endingStyle=h.OpenArrow)}return o.hasCaption=o.enableCaption,o.leaderLinePoints.start=o.startPoint,n}return f(t,e),t.prototype.setRect=function(e){this.deviceRect=e;var t=Math.abs(e.right-e.left),n=Math.abs(e.bottom-e.top);t=Math.abs(e.right-e.left),n=Math.abs(e.bottom-e.top);var o=this.pageRender.rotate;this.pdfRect=this.page.reverseDeviceRect(e,this.scale,o),this.eContainer.style.cssText+="\n            width: "+t+"px;\n            height: "+n+"px;\n        "},t.prototype.generateApRenderer=function(){return new a.a(this)},t.prototype.getType=function(){return"line"},t.prototype.getStartPoint=function(){return this.annotationInfo.startPoint},t.prototype.getEndPoint=function(){return this.annotationInfo.endPoint},t.prototype.setEndPoint=function(e){var t=d(this.page.reverseDevicePoint([e.x,e.y],this.scale,this.rotate),2),n=t[0],o=t[1];this.annotationInfo.endPoint={x:n,y:o},this.annotationInfo.leaderLinePoints.end=this.annotationInfo.endPoint;var r=this.annotationInfo.startPoint,i=r.x,a=r.y,s=d(this.page.getDevicePoint([i,a],this.scale,this.rotate),2),c=s[0],u=s[1];this.setRect({left:c,top:u,right:e.x,bottom:e.y})},t.prototype.getRenderingData=function(){var t=e.prototype.getRenderingData.call(this);return p(p({},t),this.annotationInfo)},t.prototype.getOuterDeviceRect=function(e,t){return l.a.on(this.getDeviceRect(e,t)).expand(50).extract()},t.prototype.getDefaultAnnotInfo=function(){var t={x:0,y:0},n={x:0,y:0};return p(p({},e.prototype.getDefaultAnnotInfo.call(this)),{startPoint:t,endPoint:n,leaderLineExtend:0,captionOffset:{x:0,y:0},enableCaption:!1,leaderLinePoints:{start:t,end:n},captionPos:s.LINE_CAPTION_POSITION.POS_INLINE,content:"",startStyle:c.Ending_Style.None,endingStyle:c.Ending_Style.None})},t}(r.a)},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(1309),i=(o=r)&&o.__esModule?o:{default:o};t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(515),i=(o=r)&&o.__esModule?o:{default:o},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(5));function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=a.stateHandler,u=(a.ViewerEvents,c.StateHandlerConsts.STATE_HANDLER_CREATE_ARROW),l=a.Consts.LineEndingStyle,f=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,l.None,l.OpenArrow))}return s(t,e),t.getStateName=function(){return u},t.prototype.createAnnotJson=function(e){return e.intent="LineArrow",e},t}(i.default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(518),i=(o=r)&&o.__esModule?o:{default:o};function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(5)).stateHandler.StateHandlerConsts.STATE_HANDLER_CREATE_CIRCLE,c=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,"circle"))}return a(t,e),t.getStateName=function(){return s},t}(i.default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(1312),i=(o=r)&&o.__esModule?o:{default:o};t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(518),i=(o=r)&&o.__esModule?o:{default:o};function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(5)).stateHandler.StateHandlerConsts.STATE_HANDLER_CREATE_SQUARE,c=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,"square"))}return a(t,e),t.getStateName=function(){return s},t}(i.default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(320),i=(o=r)&&o.__esModule?o:{default:o},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(5)),s=n(349);function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=a.stateHandler,l=a.Log.LoggerFactory,f=u.StateHandlerConsts.STATE_HANDLER_CREATE_POLYLINE,p=(l.getLogger("creation/polyline/state"),function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,"polyline"))}return c(t,e),t.getStateName=function(){return f},t.prototype.create=function(e,t){var n=new s.FakePolylineAnnotation({pdfViewer:this.pdfViewer,pageRender:this.pageRender,info:this.createAnnotJson({type:"polyline",flags:4,date:new Date})});return n.addPoint(e,t),n},t}(i.default));t.default=p},function(e,t,n){"use strict";n.r(t),n.d(t,"MouseEventType",(function(){return c})),n.d(t,"attachMouseEvent",(function(){return b}));var o,r,i,a,s,c,u=n(54),l=n.n(u),f=n(14),p=n(34);!function(e){e[e.DOWN=0]="DOWN",e[e.UP=1]="UP",e[e.MOVE=2]="MOVE"}(c||(c={}));var d=((o={})[c.DOWN]=["MSPointerDown"],o[c.MOVE]=["MSPointerMove"],o[c.UP]=["MSPointerUp"],o),h=((r={})[c.DOWN]=["pointerdown"],r[c.MOVE]=["pointermove"],r[c.UP]=["pointerup"],r),g=((i={})[c.DOWN]=["pointerdown","mousedown"],i[c.MOVE]=["pointermove","mousemove"],i[c.UP]=["pointerup","mouseup"],i),m=((a={})[c.DOWN]=["pointerdown","touchstart"],a[c.MOVE]=["pointermove","touchmove"],a[c.UP]=["pointerup","touchend"],a),v=((s={})[c.DOWN]=["mousedown","touchstart"],s[c.MOVE]=["mousemove","touchmove"],s[c.UP]=["mouseup","touchend"],s),y={};function b(e,t,n,o){var r,i=0,a=y[t].map((function(t){var s,c=function(t){r!==t.type&&Date.now()-i<160?s():(r=t.type,o&&o.once&&s(),n.call(e,function(e){var t={native:e,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,target:e.target,preventDefault:function(){return e.preventDefault()},stopPropagation:function(){return e.stopPropagation()}};if(window.TouchEvent&&e instanceof window.TouchEvent){var n="touchend"===e.type||"touchcancel"===e.type?e.changedTouches[0]:e.touches[0];t.clientX=n.clientX,t.clientY=n.clientY,t.pageX=n.pageX,t.pageY=n.pageY,t.screenX=n.screenX,t.screenY=n.screenY,t.x=n.clientX,t.y=n.clientY,t.bubbles=e.bubbles,t.relatedTarget=n.target}else(e instanceof MouseEvent||e instanceof PointerEvent)&&(t.clientX=e.clientX,t.clientY=e.clientY,t.pageX=e.pageX,t.pageY=e.pageY,t.screenX=e.screenX,t.screenY=e.screenY,t.x=e.x||e.clientX,t.y=e.y||e.clientY,t.relatedTarget=e.relatedTarget,t.button=e.button,t.buttons=e.buttons,t.bubbles=e.bubbles);return t}(t)),i=Date.now())};return s=function(){var n=a.indexOf(s);-1!==n&&(e.removeEventListener(t,c,o),a.splice(n,1))},e.addEventListener(t,c,o),s}));return function(){a.forEach((function(e){return e()}))}}function w(e){if(p.isIE){if(!p.isIEAtLeast11)return d[e]}else{if(p.isSafari)return g[e];if(f.isAndroid)return f.isTouchDevice?m[e]:v[e]}return h[e]}l.a.property(y,c.DOWN,(function(){return w(c.DOWN)})),l.a.property(y,c.MOVE,(function(){return w(c.MOVE)})),l.a.property(y,c.UP,(function(){return w(c.UP)}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(320),i=(o=r)&&o.__esModule?o:{default:o},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(5)),s=n(522);function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=a.stateHandler,l=a.Log.LoggerFactory,f=u.StateHandlerConsts.STATE_HANDLER_CREATE_POLYGON,p=l.getLogger("CreatePolygonStateHandler"),d=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,"polygon"))}return c(t,e),t.getStateName=function(){return f},t.prototype.create=function(e,t){var n=new s.FakePolygonAnnotation({pdfViewer:this.pdfViewer,pageRender:this.pageRender,info:this.createAnnotJson({type:"polygon",flags:4,date:new Date})});return n.addPoint(e,t),n},t.prototype.canBeCompleted=function(e){var t=e.getVertexes().length;return t<2&&p.debug("polygon has only "+t+" points"),t>=2},t}(i.default);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(1317),i=(o=r)&&o.__esModule?o:{default:o};t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(320),i=(o=r)&&o.__esModule?o:{default:o},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(5)),s=n(522);function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=a.stateHandler,l=a.Log,f=a.Consts.BORDER_STYLE,p=l.LoggerFactory,d=u.StateHandlerConsts.STATE_HANDLER_CREATE_POLYGON_CLOUD,h=p.getLogger("CreatePolygonCloudStateHandler"),g=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,"polygon"))}return c(t,e),t.getStateName=function(){return d},t.prototype.create=function(e,t){var n=new s.FakePolygonAnnotation({pdfViewer:this.pdfViewer,pageRender:this.pageRender,info:{type:"polygon",flags:4,date:new Date,borderStyle:f.CLOUDY,borderStyleParam:2,intent:"PolygonCloud"}});return n.addPoint(e,t),n},t.prototype.canBeCompleted=function(e){var t=e.getVertexes().length;return t<2&&h.debug("polygon has only "+t+" points"),t>=2},t}(i.default);t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};n(524);var r=d(n(4)),i=d(n(43)),a=d(n(1)),s=d(n(139)),c=n(182),u=n(18),l=d(n(112)),f=n(24),p=n(7);function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var g=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n))}return h(t,e),t.getStateName=function(){return f.STATE_HANDLER_SELECT_TEXT_ANNOTATION},t.getDefaultContextMenuConfig=function(){return{selector:".fv__selection-state-contextmenu-container"}},t.prototype.pageHandler=function(e){var t=this;this.pageRender=e,this.pdfViewer=e.pdfViewer,this.selectMarkIsVisible=!1;var n=this.tooltip=this.pdfViewer.viewerUI.createTextSelectionTooltip(e),s=e;e.$ui.addClass("fv__annot-container-zindex-up");var f=s.$handler;f.addClass("fv__select-text-annotation-state-handler");var d,h=f[0],g=e.pdfViewer.eventEmitter;d=function(o){o==e&&t.pdfSelectRectArray&&t.selectMarkIsVisible&&e.getPDFPage().then((function(o){var r=e.transformRectArray(o,t.pdfSelectRectArray);t.showSelectMark(r);var i=r[0];i&&n.showAt((i.left+i.right)/2,i.top,t.selectText,r)}))},g.on(a.default.renderPageSuccess,d),t.removeRenderPageSuccessEvent=function(){g.off(a.default.renderPageSuccess,d)};var m=this.hammer=new i.default.Manager(h,{recognizers:[[i.default.Pan,{direction:i.default.DIRECTION_ALL}]]});m.add(new i.default.Tap({event:"doubletap",taps:2})),m.add(new i.default.Tap({event:"singletap"})),m.get("doubletap").recognizeWith("singletap"),m.get("singletap").requireFailure("doubletap"),m.on("singletap",(function(o){t.hideSelectMark(),n.hide();var r=e.annotsRender;r?(r.unActiveAnnot(),g.emit(a.default.tapPage,o)):g.emit(a.default.tapPage,o)})),m.on("doubletap",(function(o){t.hideSelectMark(),n.hide();var r=e.annotsRender;r?(r.unActiveAnnot(),g.emit(a.default.doubleTapPage,o)):g.emit(a.default.doubleTapPage,o)})),n.on("hide",(function(){t.hideSelectMark()}));var v=void 0,y=-1,b=-1,w=void 0,_=void 0;m.on("panstart",(function(n){if(!1!==t.panStart(n,t)){y=-1,b=-1,w=void 0;var o=e.annotsRender;o&&o.unActiveAnnot();var r=(0,l.default)(h,n);v=[r.x,r.y],t.hideSelectMark(),_=new u.DebouncePromiseQueue}})),m.on("panmove",(function(e){!1!==t.panMove(e,t)&&_.push((function(){var n=t.pageRender,r=[v[0]+e.deltaX,v[1]+e.deltaY];return t.getTextRect(v,r,y,b).then((function(e){var t;return(t=e[0])&&"string"==typeof t.text&&(y=t.start,b=t.end),Promise.all([n.getPDFPage(),e])})).then((function(e){var t=o(e,2),r=t[0],i=t[1];return n.transformRectArray(r,i)})).then((function(e){t.showSelectMark(e)}))}))})),m.on("panend",(function(r){if(!1!==t.panEnd(r,t)){_.end(),_=null;var i=(0,c.deltaDeviceRect)(v,r.deltaX,r.deltaY),s=[v[0]+r.deltaX,v[1]+r.deltaY];return t.getTextRect(v,s,y,b).then((function(t){var n;return(n=t[0])&&"string"==typeof n.text&&(y=n.start,b=n.end,w=n.text),Promise.all([e.getPDFPage(),t])})).then((function(r){var s=o(r,2),c=s[0],u=s[1];t.pdfSelectRectArray=u;var l=e.transformRectArray(c,u);t.showSelectMark(l),("string"==typeof w?Promise.resolve(w):t.getTextChar(i)).then((function(e){t.pdfViewer.getStore().dispatch(p.STORE_NAMES.SELECTION_INFO,{page:c,text:e,rectArray:u}),t.selectText=e,t.pdfViewer.eventEmitter.emit(a.default.selectText,{page:c,text:e,rectArray:u})}));var f=l[0];f&&n.showAt((f.left+f.right)/2,f.top,t.selectText,l)}))}}));var P=(0,r.default)('<div class="fv__selection-state-contextmenu-container fv__contextmenu-container"></div>');f.append(P),P.data("hand-state",this),this.$contextmenuContainer=P},t.prototype.getTextRect=function(e,t,n,o){return this.pageRender.getTextContinueRectAtDevicePoints(e,t,n,o)},t.prototype.getTextChar=function(e){return this.pageRender.getTextContinuousCharAtDeviceRect(e)},t.prototype.showSelectMark=function(e){this.selectMarkIsVisible=!0;var t=this.pageRender.$handler;t.find(".fv__mark-selection-blank").remove();for(var n=(0,r.default)(document.createDocumentFragment()),o=0,i=e.length;o<i;o++){var a=e[o],s=["top:"+a.top+"px","left:"+a.left+"px","height:"+(a.bottom-a.top)+"px","width:"+(a.right-a.left)+"px"].join(";");n.append('<mark class="fv__mark-selection-blank" style="'+s+'"></mark>')}t.append(n)},t.prototype.hideSelectMark=function(){this.selectMarkIsVisible=!1,this.pdfViewer.getStore().dispatch(p.STORE_NAMES.SELECTION_INFO,null),this.pageRender.$handler.find(".fv__mark-selection-blank").remove()},t.prototype.copyText=function(){},t.prototype.panStart=function(){},t.prototype.panMove=function(){},t.prototype.panEnd=function(){},t.prototype.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$ui.removeClass("fv__annot-container-zindex-up"),this.pageRender.$handler.off("mouseup",this.mouseup).removeClass("fv__select-annotation-state-handler"),this.$contextmenuContainer&&this.$contextmenuContainer.remove(),this.pageRender.annotsRender&&this.pageRender.annotsRender.unActiveAnnot(),this.hideSelectMark(),this.tooltip.destroy(),this.removeRenderPageSuccessEvent()},t.prototype.out=function(){this.destroyPageHandler()},t}(s.default);t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};n(524);var r=m(n(4)),i=m(n(43)),a=m(n(1)),s=m(n(139)),c=m(n(30)),u=n(182),l=n(18),f=m(n(112)),p=n(24),d=n(7),h=n(42),g=n(52);function m(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var y=null,b=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n))}return v(t,e),t.getStateName=function(){return p.STATE_HANDLER_SELECT_TEXT_IMAGE},t.getDefaultContextMenuConfig=function(){return{selector:".fv__selection-state-contextmenu-container"}},t.prototype.pageHandler=function(e){var t=this;this.pageRender=e,this.pdfViewer=e.pdfViewer,this.selectMarkIsVisible=!1;var n=this.tooltip=this.pdfViewer.viewerUI.createTextSelectionTooltip(e),s=e.$handler;s.addClass("fv__select-text-image-state-handler");var c,p=s[0],h=e.pdfViewer.eventEmitter;c=function(o){o==e&&t.pdfSelectRectArray&&t.selectMarkIsVisible&&e.getPDFPage().then((function(o){var r=e.transformRectArray(o,t.pdfSelectRectArray);t.showSelectMark(r);var i=r[0];i&&n.showAt((i.left+i.right)/2,i.top,y,r)}))},h.on(a.default.renderPageSuccess,c),t.removeRenderPageSuccessEvent=function(){h.off(a.default.renderPageSuccess,c)};var g=this.hammer=new i.default.Manager(p,{recognizers:[[i.default.Pan,{direction:i.default.DIRECTION_ALL}]]});g.add(new i.default.Tap({event:"doubletap",taps:2})),g.add(new i.default.Tap({event:"singletap"})),g.get("doubletap").recognizeWith("singletap"),g.get("singletap").requireFailure("doubletap"),g.on("singletap",(function(e){t.hideSelectMark(),n.hide()})),g.on("doubletap",(function(e){t.hideSelectMark(),n.hide()})),n.on("hide",(function(){t.hideSelectMark()}));var m=void 0,v=-1,b=-1,w=void 0,_=void 0;g.on("panstart",(function(e){v=-1,b=-1,w=void 0;var n=(0,f.default)(p,e);m=[n.x,n.y],t.hideSelectMark(),_=new l.DebouncePromiseQueue})),g.on("panmove",(function(e){_.push((function(){var n=t.pageRender,r=[m[0]+e.deltaX,m[1]+e.deltaY];return t.getTextRect(m,r,v,b).then((function(e){var t;return(t=e[0])&&"string"==typeof t.text&&(v=t.start,b=t.end),Promise.all([n.getPDFPage(),e])})).then((function(e){var t=o(e,2),r=t[0],i=t[1];return n.transformRectArray(r,i)})).then((function(e){t.showSelectMark(e)}))}))})),g.on("panend",(function(r){_.end(),_=null;var i=(0,u.deltaDeviceRect)(m,r.deltaX,r.deltaY),s=[m[0]+r.deltaX,m[1]+r.deltaY];return t.getTextRect(m,s,v,b).then((function(t){var n;return(n=t[0])&&"string"==typeof n.text&&(v=n.start,b=n.end,w=n.text),Promise.all([e.getPDFPage(),t])})).then((function(r){var s=o(r,2),c=s[0],u=s[1];t.pdfSelectRectArray=u;var l=e.transformRectArray(c,u);t.showSelectMark(l),("string"==typeof w?Promise.resolve(w):t.getTextChar(i)).then((function(e){t.pdfViewer.getStore().dispatch(d.STORE_NAMES.SELECTION_INFO,{page:c,text:e,rectArray:u}),y=e,t.pdfViewer.eventEmitter.emit(a.default.selectText,{page:c,text:e,rectArray:u})}));var f=l[0];f&&n.showAt((f.left+f.right)/2,f.top,y,l)}))}));var P=(0,r.default)('<div class="fv__selection-state-contextmenu-container fv__contextmenu-container"></div>');s.append(P),P.data("hand-state",this),this.$contextmenuContainer=P},t.prototype.getTextRect=function(e,t,n,o){return this.pageRender.getTextContinueRectAtDevicePoints(e,t,n,o)},t.prototype.getTextChar=function(e){return this.pageRender.getTextContinuousCharAtDeviceRect(e)},t.prototype.showSelectMark=function(e){this.selectMarkIsVisible=!0;var t=this.pageRender.$handler;t.find(".fv__mark-selection-blank").remove();for(var n=(0,r.default)(document.createDocumentFragment()),o=0,i=e.length;o<i;o++){var a=e[o],s=["top:"+a.top+"px","left:"+a.left+"px","height:"+(a.bottom-a.top)+"px","width:"+(a.right-a.left)+"px"].join(";");n.append('<mark class="fv__mark-selection-blank" style="'+s+'"></mark>')}t.append(n)},t.prototype.hideSelectMark=function(){this.selectMarkIsVisible=!1,this.pdfViewer.getStore().dispatch(d.STORE_NAMES.SELECTION_INFO,null),this.pageRender.$handler.find(".fv__mark-selection-blank").remove()},t.prototype.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass("fv__select-text-image-state-handler"),this.$contextmenuContainer&&this.$contextmenuContainer.remove(),this.hideSelectMark(),this.tooltip.destroy(),this.removeRenderPageSuccessEvent()},t.prototype.docHandler=function(t){var n=this;e.prototype.docHandler.call(this,t),this.__off__copy__event__&&this.__off__copy__event__(),this.__off__copy__event__=this.pdfViewer&&this.pdfViewer.getKeyboardEventBinder(h.SELECT_TEXT_IMAGE_BINDER).before(h.KEY_MAP_COPY_TEXT_IMAGE,(function(e){null!==y&&((0,g.copyText)(y)?n.pdfViewer.eventEmitter.emit(a.default.copyTextSuccess,y):n.pdfViewer.eventEmitter.emit(a.default.copyTextFailed,y))})),this._undoSwitchKbBinder&&this._undoSwitchKbBinder(),this._undoSwitchKbBinder=this.pdfViewer.switchKeyboardEventBinder(h.SELECT_TEXT_IMAGE_BINDER)},t.prototype.destroyDocHandler=function(){e.prototype.destroyDocHandler.call(this),y=null,this.__off__copy__event__&&this.__off__copy__event__(),this.__off__copy__event__=c.default,this._undoSwitchKbBinder&&this._undoSwitchKbBinder()},t.prototype.out=function(){this.destroyPageHandler()},t}(s.default);t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=l(n(4)),r=l(n(43)),i=l(n(1)),a=l(n(139)),s=n(24),c=n(36),u=n(475);function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var p=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.destroyHooks=[],o}return f(t,e),t.getStateName=function(){return s.STATE_HANDLER_SELECT_ANNOTATION},t.getDefaultContextMenuConfig=function(){return{selector:".fv__selection-state-contextmenu-container"}},t.prototype.pageHandler=function(e){var t=this;this.pageRender=e,e.$ui.addClass("fv__annot-container-zindex-up");var n=e.getPDFPage(),a=e.$handler,s=a[0],l=new c.QueuedAsyncTaskExecutor,f=e.pdfViewer,p=f.eventEmitter,d=(0,o.default)('<div class="fv__selection-state-contextmenu-container fv__contextmenu-container"></div>'),h=d[0];a.append(d),d.data("hand-state",this),this.$contextmenuContainer=d,this.selections=new u.Selections({anchorElement:h,borderStyle:u.BorderStyle.SOLID}),this.selections.reducer((0,u.createAreaLimitationReducer)(h)),this.selections.reducer((function(e){var t=h.getBoundingClientRect();return Object.assign({left:e.clientLeft-t.left,top:e.clientTop-t.top},e)})),this.selections.eventInterceptor((function(e){return e.target===h}));var g=!1;this.selections.eventInterceptor((function(e){return g}));var m=function(e){g=e.target===h};h.addEventListener("mousedown",m),h.addEventListener("touchstart",m),this.destroyHooks.push((function(){h.removeEventListener("mousedown",m),h.removeEventListener("touchstart",m)})),this.selections.on(u.SelectionEventType.END,(function(e){l.exec((function(){return n.then((function(n){var o=t.pageRender.scale,r=t.pageRender.getRotation(),i=n.reverseDeviceRect({left:e.left,right:e.left+e.width,top:e.top,bottom:e.top+e.height},o,r);f.activePageElementByRect(i,n)}))}))})),this.destroyHooks.push((function(){return t.selections.destroy()}));var v=new r.default.Manager(s);v.add(new r.default.Tap({event:"doubletap",taps:2})),v.add(new r.default.Tap({event:"singletap"})),v.get("doubletap").recognizeWith("singletap"),v.get("singletap").requireFailure("doubletap"),v.on("singletap",(function(t){var n=e.annotsRender;n?(n.unActiveAnnot(),p.emit(i.default.tapPage,t)):p.emit(i.default.tapPage,t)})),v.on("doubletap",(function(t){var n=e.annotsRender;n?(n.unActiveAnnot(),p.emit(i.default.doubleTapPage,t)):p.emit(i.default.doubleTapPage,t)})),this.destroyHooks.push((function(){return v.destroy()}))},t.prototype.destroyPageHandler=function(){this.pageRender.$ui.removeClass("fv__annot-container-zindex-up"),this.$contextmenuContainer&&this.$contextmenuContainer.remove(),this.destroyHooks.forEach((function(e){return e()})),this.destroyHooks=null},t.prototype.out=function(){this.destroyPageHandler()},t}(a.default);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(1322),i=(o=r)&&o.__esModule?o:{default:o};t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(324),i=(o=r)&&o.__esModule?o:{default:o},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(5));function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=a.stateHandler,u=a.ViewerEvents,l=(c.IStateHandler,c.StateHandlerUtils.getDevicePagePoint),f=a.vendors.Hammer,p=c.StateHandlerConsts.STATE_HANDLER_CREATE_FREETEXT_BOX,d=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.cursorStyle="fv__cursor-typewriter",o}return s(t,e),t.getStateName=function(){return p},t.prototype.pageHandler=function(e){this.pageRender=e;var t=e.$handler;t.addClass("fv__create-stamp-state-handler "+this.cursorStyle);var n=t[0];(this.hammer=new f.Manager(n,{recognizers:[[f.Tap]]})).on("tap",(function(t){var o=l(n,t),r=e.pdfViewer;return e.getPDFPage().then((function(t){var n=e.getScale(),i=e.getRotation(),a=100*n*4/3,s=20*n*2/3,c={left:o.x,right:o.x+a,top:o.y-s,bottom:o.y+s},u={type:"freetext",rect:t.reverseDeviceRect(c,n,i),subject:"Textbox","interior-color":16777215,rotate:((360-90*t.getRotation()-i)%360+360)%360,flags:4};return r.getStateHandlerManager().switchTo(),t.addAnnot(u)})).then((function(t){var n=t[0],o=e.annotsRender.getAnnotRender(n.getId()).component;return r.eventEmitter.emit(u.addAnnotSuccess,o.annot),i.default.edit(e,t)}))}))},t.prototype.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass("fv__create-stamp-state-handler "+this.cursorStyle),this.__removeHandlerMouseEvent__&&this.__removeHandlerMouseEvent__()},t.prototype.out=function(){this.destroyPageHandler()},t}(i.default);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(1324),i=(o=r)&&o.__esModule?o:{default:o};t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(324),i=(o=r)&&o.__esModule?o:{default:o},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(5));function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=a.stateHandler,u=a.ViewerEvents,l=(c.IStateHandler,c.StateHandlerUtils.getDevicePagePoint),f=a.vendors.Hammer,p=a.shared,d=p.extendOptions,h=p.convertFromNumberToHex,g=c.StateHandlerConsts.STATE_HANDLER_CREATE_FREETEXT_TYPEWRITER,m=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.cursorStyle="fv__cursor-typewriter",o}return s(t,e),t.getStateName=function(){return g},t.prototype.pageHandler=function(e){var t=this;this.pageRender=e;var n=e.$handler;n.addClass("fv__create-stamp-state-handler "+this.cursorStyle);var o=n[0];(this.hammer=new f.Manager(o,{recognizers:[[f.Tap]]})).on("tap",(function(n){var r=l(o,n),i=function(n){var i=100*e.scale*4/3,a=20*e.scale*2/3,s={left:r.x,right:r.x+i,top:r.y,bottom:r.y+2*a},c=t.input=document.createElement("div");c.contentEditable=!0;var l=t.pdfViewer.getDefaultAnnotConfig(),f=d({defaultAppearance:{textColor:255,textSize:12}},"function"==typeof l?l("freetext","FreeTextTypewriter"):{}),p=f.defaultAppearance.textSize*e.scale*4/3;c.style.cssText="\n                    position: absolute;\n                    left: "+s.left+"px;\n                    top: "+s.top+"px;\n                    min-width: "+p+"px;\n                    min-height: "+p+"px;\n                    font-size: "+p+"px;\n                    line-height: 1;\n                    font-family: FoxitPDFSDKForWeb;\n                    color: "+h(f.defaultAppearance.textColor)+";\n                    outline:1px solid #5aa;\n                    outline-offset:1px;\n                ",o.appendChild(c),c.focus(),setTimeout((function(){return c.focus()})),c.onmousedown=c.ontouchstart=c.onpointerdown=function(e){e.preventDefault(),e.stopPropagation()},c.onblur=function(){if(0===c.innerText.trim().length)o.removeChild(c),t.input=null;else{var r=c.getBoundingClientRect();s.right=s.left+r.width,s.bottom=s.top+r.height;var i=n.reverseDeviceRect(s,e.scale,e.getRotation());c.innerText=c.innerText.replace(/\n{2}/gi,"\n");var a={type:"freetext",intent:"FreeTextTypewriter",subject:"FreeTextTypewriter",rect:i,contents:c.innerText.trim(),rotate:((360-90*n.getRotation()-e.getRotation())%360+360)%360,flags:4};n.addAnnot(a).then((function(t){o.removeChild(c);var n=t[0],r=e.annotsRender.getAnnotRender(n.getId()).component;r.$textInput.get(0).blur(),e.pdfViewer.eventEmitter.emit(u.addAnnotSuccess,r.annot)}))}}};e.page?i(e.page):e.getPDFPage().then(i)}))},t.prototype.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass("fv__create-stamp-state-handler "+this.cursorStyle),this.input&&this.input.blur()},t.prototype.out=function(){e.prototype.out.call(this)},t}(i.default);t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(1326),i=(o=r)&&o.__esModule?o:{default:o};t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(324),i=(o=r)&&o.__esModule?o:{default:o},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(5));function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=a.stateHandler,u=a.ViewerEvents,l=a.CalloutShape,f=(c.IStateHandler,c.StateHandlerUtils.getDevicePagePoint),p=a.vendors,d=p.Hammer,h=p.jQuery,g=a.shared,m=g.getClientX,v=g.getClientY,y=g.CalloutPointsReviser,b=c.StateHandlerConsts.STATE_HANDLER_CREATE_FREETEXT_CALLOUT,w=void 0,_=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.cursorStyle="fv__cursor-typewriter",o}return s(t,e),t.getStateName=function(){return b},t.prototype.pageHandler=function(e){var t=this;this.pageRender=e;var n=e.$handler;n.addClass("fv__create-callout-state-handler "+this.cursorStyle),this.shapeDom=n.find(".fv__create-callout-canvas"),0==this.shapeDom.length&&(this.shapeDom=h('<canvas class="fv__create-callout-state-canvas" style="position:absolute"></canvas>'),n.append(this.shapeDom));var o=n[0],r=this.hammer=new d.Manager(o,{recognizers:[[d.Pan,{direction:d.DIRECTION_ALL}]]});this.calloutShape=this.calloutShape||new l;var i=void 0;r.on("panstart",(function(e){var t=f(o,e);w||(w=t)})).on("panend",(function(e){w=null,i&&t.addAnnot(i),t.calloutShape.hide()})).on("panmove",(function(n){if(w){var r=e.page,a=o.getBoundingClientRect(),s=n.srcEvent,c=m(s)-a.left,u=v(s)-a.top,l=y.calcCalloutPosition(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({start:[w.x,w.y],end:[c,u],page:r,width:r.getMediaWidth(),height:r.getMediaHeight(),rotate:r.getRotation(),borderStyle:{style:0},endingStyle:0,scale:e.scale},"rotate",e.rotate));if(l.invalid)return;i=l;for(var f=[],p=0;p<3;p++)f.push(r.getDevicePoint([i.calloutLinePoints[p].x,i.calloutLinePoints[p].y],e.scale,e.rotate));var d=r.getDeviceRect(i.rect,e.scale,e.rotate),g=r.getDeviceRect(i.innerRect,e.scale,e.rotate);h(t.shapeDom).css({left:d.left,top:d.top}),t.calloutShape.init(null,t.shapeDom),t.calloutShape.show(f,d,g)}}))},t.prototype.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass("fv__create-callout-state-handler "+this.cursorStyle),w&&(w=null,this.calloutShape.hide())},t.prototype.out=function(){this.destroyPageHandler()},t.prototype.addAnnot=function(e){var t=this.pageRender,n=t.pdfViewer;return t.getPDFPage().then((function(o){var r=Object.assign({},{type:"freetext",intent:"FreeTextCallout",subject:"FreeTextCallout","interior-color":16777215,rotate:((360-90*o.getRotation()-t.getRotation())%360+360)%360,flags:4},e);return n.getStateHandlerManager().switchTo(),o.addAnnot(r)})).then((function(e){var o=e[0],r=t.annotsRender.getAnnotRender(o.getId()).component;return n.eventEmitter.emit(u.addAnnotSuccess,r.annot),i.default.edit(t,e)}))},t}(i.default);t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(20)),r=a(n(529)),i=a(n(1328));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r.default))}return s(t,e),t.getName=function(){return"SnapshotToolController"},t.services=function(){return[i.default]},t}(o.default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=d(n(13)),r=n(49),i=d(n(1329)),a=n(103),s=d(n(10)),c=n(8),u=n(42),l=d(n(40)),f=d(n(9)),p=d(n(529));function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var g=f.default.getLogger("SnapshotService"),m=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return o.init(n),o}return h(t,e),t.scope=function(){return r.ServiceScope.SINGLETON},t.prototype.init=function(e){var t=this,n=void 0;e.getPDFViewerRender().then((function(e){t.addDestroyHook(e.scrollWrap.addScrollEventListener((function(e){n&&n.updateRect()})))}));var o=l.default,r=e.addKeyboardShortcutEventListener(u.KEY_MAP_ESC_CREATING_DRAWING,(function(e){n&&(n.destroy(),n=null,o())}),u.ANNOTATION_CREATING_BINDER);this.addDestroyHook((function(){o(),r()}),e.addViewerEventListener(s.default.createSnapshotArea,(function(t,r){n&&n.destroy();var a=e.switchKeyboardEventBinder(u.ANNOTATION_CREATING_BINDER);o=function(){a(),o=l.default},n=new i.default(t.$handler.get(0)),e.getComponentByName(c.WEBPDF_VIEWER_COMPONENT_NAME).then((function(t){n.start(),n.appendTo(t.element),n.setRect(r),e.localizer.localizeRecursive(n.element),n.mounted()}))})),e.addViewerEventListener(s.default.updateSnapshotArea,(function(e,t){n.setRect(t)})),e.addViewerEventListener(s.default.stabilizedSnapshotArea,(function(r,i){n.setRect(i),e.getPDFViewer().then((function(e){e.takeSnapshot(r.index,i.left,i.top,i.right-i.left,i.bottom-i.top).then((function(r){return e.uploadImage(r).then((function(i){n.end(),n.eventEmitter.on("cancel",(function(){n.destroy(),o()})),n.eventEmitter.on("ok",(function(){e.copySnapshot(i),t.afterTakesnapshotSuccess(),n.destroy(),o()})),n.eventEmitter.on("download",(function(){(0,a.download)(r,"snapshot.png","image/png"),n.destroy(),o()}))}))})).catch((function(e){return t.afterTakesnapshotFailed(e)}))}))})),e.addViewerEventListener(s.default.beforeZoomTo,(function(){n&&(n.destroy(),o())})),e.addViewerEventListener(s.default.willCloseDocument,(function(){n&&(n.destroy(),n=null)})),e.addViewerEventListener(s.default.switchStateHandler,(function(e,t){t===p.default&&n&&(n.destroy(),n=null)})))},t.prototype.afterTakesnapshotSuccess=function(){g.debug("take snapshot success!")},t.prototype.afterTakesnapshotFailed=function(e){throw e instanceof Error?e:new Error(e)},t}(o.default);t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(1330));n(1331);var r=i(n(61));n(42);function i(e){return e&&e.__esModule?e:{default:e}}var a=(0,o.default)(),s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.relativeElement=t,this.render(),this.eventEmitter=new r.default}return e.prototype.render=function(){var e=document.createElement("div");e.innerHTML=a,this.element=e.firstElementChild,this.screenshotBoxElement=this.element.querySelector(".fv__ui-screenshot-dashed-box"),this.buttonElements=this.element.querySelectorAll("a[action]")},e.prototype.appendTo=function(e){return e.appendChild(this.element),this.parentElement=e,this},e.prototype.mounted=function(){var e=this;this.buttonElements.forEach((function(t){var n=t.getAttribute("action");t.addEventListener("click",(function(t){e.eventEmitter.emit(n,e)}))}))},e.prototype.start=function(){return this.element.classList.add("handling"),this},e.prototype.end=function(){return this.element.classList.remove("handling"),this},e.prototype.destroy=function(){return this.__esc_event&&this.__esc_event(),this.element.remove(),this},e.prototype.setRect=function(e){this.currentRect=e;var t=this.relativeElement.getBoundingClientRect(),n=this.parentElement.getBoundingClientRect(),o=e.right-e.left,r=e.bottom-e.top,i=t.left-n.left+e.left+this.parentElement.scrollLeft,a=t.top-n.top+e.top+this.parentElement.scrollTop;return this.element.style.cssText+="\n            left: "+i+"px;\n            top: "+a+"px;\n            height: "+r+"px;\n        ",this.screenshotBoxElement.style.cssText+="\n            width: "+o+"px;\n        ",this},e.prototype.updateRect=function(){this.currentRect&&this.setRect(this.currentRect)},e}();t.default=s},function(e,t,n){n(2);e.exports=function(e){"use strict";e=e||{};return'<div class="fv__ui-screenshot-area">\r\n    <div class="fv__ui-screenshot-dashed-box">\r\n    </div>\r\n    <div class="fv__ui-screenshot-tools">\r\n        <a href="javascript:;" action="ok" data-i18n="[title]screenshot.tips.ok">\r\n            <i class="fv__icon-screenshot-ok"></i>\r\n        </a>\r\n        <a href="javascript:;" action="cancel" data-i18n="[title]screenshot.tips.cancel">\r\n            <i class="fv__icon-screenshot-cancel"></i>\r\n        </a>\r\n        <a href="javascript:;" action="download" data-i18n="[title]screenshot.tips.download">\r\n            <i class="fv__icon-screenshot-download"></i>\r\n        </a>\r\n    </div>\r\n</div>','<div class="fv__ui-screenshot-area">\r\n    <div class="fv__ui-screenshot-dashed-box">\r\n    </div>\r\n    <div class="fv__ui-screenshot-tools">\r\n        <a href="javascript:;" action="ok" data-i18n="[title]screenshot.tips.ok">\r\n            <i class="fv__icon-screenshot-ok"></i>\r\n        </a>\r\n        <a href="javascript:;" action="cancel" data-i18n="[title]screenshot.tips.cancel">\r\n            <i class="fv__icon-screenshot-cancel"></i>\r\n        </a>\r\n        <a href="javascript:;" action="download" data-i18n="[title]screenshot.tips.download">\r\n            <i class="fv__icon-screenshot-download"></i>\r\n        </a>\r\n    </div>\r\n</div>'}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=l(n(6)),r=l(n(1333)),i=l(n(1334)),a=l(n(530)),s=l(n(531)),c=l(n(326)),u=l(n(327));function l(e){return e&&e.__esModule?e:{default:e}}var f=o.default.module("gotoview",[]);f.registerController(r.default),f.registerController(i.default),f.registerController(a.default),f.registerController(s.default),f.registerController(c.default),f.registerController(u.default),t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=c(n(3)),r=c(n(10)),i=n(47),a=c(n(48)),s=n(55);function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.data.pageNumber=0,o.data.currentPageIndex=1,o}return u(t,e),t.getName=function(){return"GotoFirstPageController"},t.services=function(){return{portfolioNodeService:a.default,portfolioLayoutService:i.PortfolioLayoutService,portfolioService:s.PortfolioService}},t.prototype.postlink=function(){var e=this;this.addDestroyHook(this.portfolioNodeService.onActiveNode((function(){e.toggle()})),this.portfolioLayoutService.onLayoutChange((function(){e.toggle()})),this.getPDFUI().addViewerEventListener(r.default.openFileSuccess,(function(t){e.data.pageNumber=t.getPageCount(),e.data.currentPageIndex=1,e.toggle(),e.digest()})),this.getPDFUI().addViewerEventListener(r.default.importPages,(function(t){e.data.pageNumber+=t.length})),this.getPDFUI().addViewerEventListener(r.default.pageNumberChange,(function(t){e.data.currentPageIndex=t,e.toggle(),e.digest()})))},t.prototype.handle=function(){return this.getPDFUI().getPDFDocRender().then((function(e){return e.goToPage(0)}))},t.prototype.toggle=function(){this.portfolioService.isDocumentClosed()?this.component.disable():this.data.currentPageIndex>1&&(this.portfolioLayoutService.getLayoutMode()===i.PortfolioLayoutMode.COVER||!this.portfolioNodeService.hasActiveNode())?this.component.enable():this.component.disable()},t}(o.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(n(3)),r=u(n(10)),i=u(n(110)),a=n(47),s=n(55),c=u(n(48));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var p=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.data.pageNumber=0,o.data.currentPageIndex=1,o}return f(t,e),t.getName=function(){return"GotoLastPageController"},t.services=function(){return{portfolioNodeService:c.default,portfolioLayoutService:a.PortfolioLayoutService,portfolioService:s.PortfolioService}},t.prototype.postlink=function(){var e,t=this,n=this.getPDFUI();this.addDestroyHook(this.portfolioNodeService.onActiveNode((function(){t.toggle()})),this.portfolioLayoutService.onLayoutChange((function(){t.toggle()})),n.addViewerEventListener((l(e={},r.default.openFileSuccess,(function(e){t.data.pageNumber=e.getPageCount(),t.data.currentPageIndex=1,t.toggle()})),l(e,r.default.pageAdded,(function(e){t.data.pageNumber++,t.toggle()})),l(e,r.default.pageRemoved,(function(e){t.data.pageNumber--,t.toggle()})),l(e,r.default.pagesRemoved,(function(e){var n=(0,i.default)(e);t.data.pageNumber-=n.length,t.toggle()})),l(e,r.default.insertPages,(function(e){t.data.pageNumber+=e.length,t.toggle()})),l(e,r.default.pageNumberChange,(function(e){t.data.currentPageIndex=e,t.toggle()})),e)))},t.prototype.handle=function(){var e=this;return this.getPDFUI().getPDFDocRender().then((function(t){t.goToPage(e.data.pageNumber-1,{x:0,y:0})}))},t.prototype.toggle=function(){this.portfolioService.isDocumentClosed()?this.component.disable():this.data.currentPageIndex<this.data.pageNumber&&(this.portfolioLayoutService.getLayoutMode()===a.PortfolioLayoutMode.COVER||!this.portfolioNodeService.hasActiveNode())?this.component.enable():this.component.disable()},t}(o.default);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=c(n(6)),r=c(n(532)),i=c(n(535)),a=c(n(536)),s=c(n(537));function c(e){return e&&e.__esModule?e:{default:e}}var u=o.default.module("pagemode",[]);u.registerController(s.default),u.registerController(a.default),u.registerController(i.default),u.registerController(r.default),t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=p(n(6)),r=p(n(538)),i=p(n(1337)),a=p(n(225)),s=p(n(226)),c=p(n(1338)),u=p(n(539)),l=p(n(540)),f=n(541);function p(e){return e&&e.__esModule?e:{default:e}}var d=o.default.module("zoom",[]);d.registerController(r.default),d.registerController(a.default),d.registerController(i.default),d.registerController(l.default),d.registerController(f.DropdownZoomInAndOutController),d.registerController(u.default),d.registerController(s.default),d.registerController(c.default),t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(538);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.getName=function(){return"EditableZoomToScaleValueController"},t.prototype.handle=function(){e.prototype.handle.call(this),this.component.parent.setEditValue(100*this.data.scale)},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(226),i=(o=r)&&o.__esModule?o:{default:o},a=n(5);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(){return s(this,t),c(this,e.apply(this,arguments))}return u(t,e),t.getName=function(){return"ContextMenuZoomActionController"},t.prototype.mounted=function(){var e=this,t=function(t){e.component.action==t?e.component.active():e.component.deactive()};this.addDestroyHook(this.getPDFUI().addViewerEventListener(a.Events.zoomToSuccess,t),this.getPDFUI().addViewerEventListener(a.Events.openFileSuccess,(function(){e.getPDFUI().getPDFDocRender().then((function(e){e&&t(e.getScale())}))})))},t}(i.default);t.default=l},function(e,t,n){n(2);e.exports=function(e){"use strict";e=e||{};return'<dropdown name="dropdown-zoom" icon-class="fv__icon-toolbar-zoom-in" class="fv__ui-dropdown-hide-text" selected="0">\r\n    <dropdown-button name="dropdown-zoom-in" action="zoomin" @controller="zoom:DropdownZoomInAndOutController" icon-class="fv__icon-toolbar-zoom-in">toolbar.buttons.zoomin</dropdown-button>\r\n    <dropdown-button name="dropdown-zoom-out" action="zoomout" @controller="zoom:DropdownZoomInAndOutController" icon-class="fv__icon-toolbar-zoom-out">toolbar.buttons.zoomout</dropdown-button>\r\n    <dropdown-button name="dropdown-zoom-fitpage" action="fitHeight" @controller="zoom:ZoomActionController" icon-class="fv__icon-toolbar-fit-page">toolbar.buttons.fitHeight</dropdown-button>\r\n    <dropdown-button name="dropdown-zoom-fitwidth" action="fitWidth" @controller="zoom:ZoomActionController" icon-class="fv__icon-toolbar-fit-width">toolbar.buttons.fitWidth</dropdown-button>\r\n    <dropdown-button name="dropdown-zoom-fitvisible" action="fitVisible" @controller="zoom:ZoomActionController" icon-class="fv__icon-toolbar-fit-visible">toolbar.buttons.fitVisible</dropdown-button>\r\n    <li class="fv__ui-dropdown-separator"></li>\r\n    <dropdown-button @foreach="scale in $pdfui.customScalingValues" @sync.text="scale * 100 + \'%\'" @controller="zoom:ZoomToScaleValueController"></dropdown-button>\r\n</dropdown>','<dropdown name="dropdown-zoom" icon-class="fv__icon-toolbar-zoom-in" class="fv__ui-dropdown-hide-text" selected="0">\r\n    <dropdown-button name="dropdown-zoom-in" action="zoomin" @controller="zoom:DropdownZoomInAndOutController" icon-class="fv__icon-toolbar-zoom-in">toolbar.buttons.zoomin</dropdown-button>\r\n    <dropdown-button name="dropdown-zoom-out" action="zoomout" @controller="zoom:DropdownZoomInAndOutController" icon-class="fv__icon-toolbar-zoom-out">toolbar.buttons.zoomout</dropdown-button>\r\n    <dropdown-button name="dropdown-zoom-fitpage" action="fitHeight" @controller="zoom:ZoomActionController" icon-class="fv__icon-toolbar-fit-page">toolbar.buttons.fitHeight</dropdown-button>\r\n    <dropdown-button name="dropdown-zoom-fitwidth" action="fitWidth" @controller="zoom:ZoomActionController" icon-class="fv__icon-toolbar-fit-width">toolbar.buttons.fitWidth</dropdown-button>\r\n    <dropdown-button name="dropdown-zoom-fitvisible" action="fitVisible" @controller="zoom:ZoomActionController" icon-class="fv__icon-toolbar-fit-visible">toolbar.buttons.fitVisible</dropdown-button>\r\n    <li class="fv__ui-dropdown-separator"></li>\r\n    <dropdown-button @foreach="scale in $pdfui.customScalingValues" @sync.text="scale * 100 + \'%\'" @controller="zoom:ZoomToScaleValueController"></dropdown-button>\r\n</dropdown>'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(6)),r=s(n(542)),i=s(n(329)),a=s(n(330));function s(e){return e&&e.__esModule?e:{default:e}}var c=o.default.module("file",[]);c.registerController(r.default),c.registerController(a.default),c.registerController(i.default),t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=h(n(6)),r=h(n(543)),i=h(n(544)),a=h(n(1344)),s=h(n(1345)),c=h(n(1346)),u=h(n(1348));n(1349);var l=h(n(1350)),f=h(n(1352)),p=h(n(547)),d=h(n(548));function h(e){return e&&e.__esModule?e:{default:e}}var g=o.default.module("distance",[]);g.registerController(r.default),g.registerController(i.default),g.registerController(a.default),g.registerController(s.default),g.registerController(f.default),g.registerController(p.default),g.registerController(d.default),g.registerComponent(l.default),g.registerComponent(c.default),g.registerComponent(u.default),t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(315);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.target=o,r}return i(t,e),t.prototype.init=function(){var e=this,t=void 0,n=void 0,o=void 0,r=void 0,i=0,a=0,s=function(o){if(0===o.button)if(e.isStarted){if(e.isStarted){r=null,e.isStarted=!1;var s=o.clientX-t-i,c=o.clientY-n-a;e.emit("end",{deltaX:s,deltaY:c,srcEvent:o})}}else{var u=e.target.getBoundingClientRect();r={left:u.left,top:u.top},e.isStarted=!0,t=o.clientX,n=o.clientY,e.emit("start",{deltaX:0,deltaY:0,srcEvent:o})}},c=function(r){if(!e.isLocked)if(e.isStarted){var s=r.clientX-t-i,c=r.clientY-n-a;e.emit("move",o={deltaX:s,deltaY:c,srcEvent:r})}else{var u=e.target.getBoundingClientRect(),l=r.clientX-u.left,f=r.clientY-u.top;e.emit("mousemove",{x:l,y:f})}},u=function(t){if(e.isStarted&&!e.isDestroyed&&!e.isLocked&&r){var n=e.target.getBoundingClientRect();i=n.left-r.left,a=n.top-r.top}};window.addEventListener("scroll",u,!0),this.target.addEventListener("mousedown",s),document.addEventListener("mousemove",c,!0);var l=this.pdfViewer.getStore().subscribe("create-measurement-status",(function(t){switch(t){case"complete":e.isStarted&&(r=null,e.isStarted=!1,e.unlock(),e.emit("end",o));break;case"cancel":e.isStarted&&(r=null,e.isStarted=!1,e.unlock(),e.emit("cancel"))}}));this.addDestroyHook((function(){e.target.removeEventListener("mousedown",s),document.removeEventListener("mousemove",c),l(),window.removeEventListener("scroll",u,!0)}))},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(321);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,"create-measurement-status"));return r.target=o,r}return i(t,e),t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=c(n(20)),i=(c(n(227)),c(n(333))),a=(c(n(10)),c(n(9))),s=n(7);function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}a.default.getLogger("CreateAreaController");var l=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,i.default));return o.$throttles={},o}return u(t,e),t.getName=function(){return"CreateAreaController"},t.prototype.mounted=function(){e.prototype.mounted.call(this),this.rulerContainer=this.getComponentByName("pdf-viewer-container-with-ruler")},t.prototype.updateMeasurementAnnotContentInfo=function(e){if(e.annot.getIntent()!==s.Intents.POLYGON_DIMENSION)throw new Error("incorrect annotation intent: "+e.annot.getIntent()+", it must be "+s.Intents.POLYGON_DIMENSION);var t=e.getLengthInInchUnit()+this.component.localizer.translateSync("measurement.units.inch"),n=e.getId(),o=this.$throttles[n]||this._throttle((function(t){requestAnimationFrame((function(n){e.setContent(t)}))}));this.$throttles[n]=o,o(t)},t.prototype._throttle=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=void 0;return function(){var o=arguments,r=this;clearTimeout(n),n=setTimeout((function(){return e.apply(r,o)}),t)}},t.prototype.stateIn=function(){this.rulerContainer&&this.rulerContainer.active(),this.component.parent.select(this.component),this.component.parent.element.classList.add("selected")},t.prototype.stateOut=function(){this.rulerContainer&&this.rulerContainer.deactive(),this.component.parent.element.classList.remove("selected")},o(t,null,[{key:"permission",get:function(){return 32}}]),t}(r.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=c(n(20)),i=c(n(335)),a=(c(n(10)),c(n(9))),s=n(7);function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}a.default.getLogger("CreateAreaController");var l=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,i.default));return o.$throttles={},o}return u(t,e),t.getName=function(){return"CreateCircleAreaController"},t.prototype.mounted=function(){e.prototype.mounted.call(this),this.rulerContainer=this.getComponentByName("pdf-viewer-container-with-ruler")},t.prototype.updateMeasurementAnnotContentInfo=function(e){if(e.annot.getIntent()!==s.Intents.POLYGON_DIMENSION&&e.annot.getIntent()!==CIRCLE_DIMENSION)throw new Error("incorrect annotation intent: "+e.annot.getIntent()+", it must be "+s.Intents.POLYGON_DIMENSION);var t=e.getLengthInInchUnit()+this.component.localizer.translateSync("measurement.units.inch"),n=e.getId(),o=this.$throttles[n]||this._throttle((function(t){requestAnimationFrame((function(n){e.setContent(t)}))}));this.$throttles[n]=o,o(t)},t.prototype._throttle=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=void 0;return function(){var o=arguments,r=this;clearTimeout(n),n=setTimeout((function(){return e.apply(r,o)}),t)}},t.prototype.stateIn=function(){this.rulerContainer&&this.rulerContainer.active(),this.component.parent.select(this.component),this.component.parent.element.classList.add("selected")},t.prototype.stateOut=function(){this.rulerContainer&&this.rulerContainer.deactive(),this.component.parent.element.classList.remove("selected")},o(t,null,[{key:"permission",get:function(){return 32}}]),t}(r.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=c(n(17)),r=n(8),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(63)),a=c(n(1347)),s=c(n(546));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r));return i.renderer=new a.default({orientation:i.orientation,originOffset:i.offset,width:i.width}),i.ruler=new s.default({orientation:i.orientation,length:i.length,zoom:i.zoomValue,unit:i.unit}),i.pointerOffset=0,i}return u(t,e),t.getName=function(){return"ruler"},t.getMetadata=function(){return{options:{orientation:function(e,t){var n=void 0;return(n=t in e.$options?e.$options[t]:e.attrs[t])!==r.ORIENTATION_HORIZONTAL&&n!==r.ORIENTATION_VERTICAL&&(n=r.ORIENTATION_HORIZONTAL),n},offset:{type:"number",defaultValue:0},width:{type:"number",defaultValue:16},length:{type:"number",defaultValue:100},unit:function(e,t){var n=void 0;return(n=t in e.$options?e.$options[t]:e.attrs[t])||(n="inch"),i[n.toUpperCase()]||i.INCH},zoom:{field:"zoomValue",type:"range",min:0,defaultValue:1}}}},t.prototype.createDOMElement=function(){return document.createElement("div")},t.prototype.render=function(){e.prototype.render.call(this),this.element.appendChild(this.renderer.canvas)},t.prototype.rerenderRuler=function(){this.renderer.render(this.ruler)},t.prototype.rerenderPointer=function(){this.renderer.renderPointer(this.pointerOffset)},t.prototype.setWidth=function(e){this.renderer.setSize(this.length,e)},t.prototype.setLength=function(e){this.renderer.setSize(e,this.width)},t.prototype.setRulerOffset=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.renderer.setOffset(e)},t.prototype.setPointerOffset=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.pointerOffset=e},t.prototype.setOrientation=function(e){this.renderer.orientation=e},t.prototype.setZoom=function(e){this.ruler.setZoom(e)},t.prototype.setUnit=function(e){this.ruler.setUnit(e)},t}(o.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(546),i=(o=r)&&o.__esModule?o:{default:o},a=n(207);var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.canvas=document.createElement("canvas"),this.orientation=t.orientation,this.offset=0,this.offsetX=0,this.offsetY=0,this.setOffset(t.originOffset||0),this.setSize(t.length,t.width||16)}return e.prototype.setOffset=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.offset;switch(this.offset=e,this.orientation){case a.ORIENTATION_HORIZONTAL:this.offsetX=e;break;case a.ORIENTATION_VERTICAL:this.offsetY=e}},e.prototype.setSize=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.length,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.width;switch(this.length=e,this.width=t,this.orientation){case a.ORIENTATION_HORIZONTAL:this.canvas.width=e,this.canvas.height=t;break;case a.ORIENTATION_VERTICAL:this.canvas.height=e,this.canvas.width=t}},e.prototype.resolvePositionInfo=function(e){switch(this.orientation){case a.ORIENTATION_HORIZONTAL:return{x:e.offset,y:this.width,textX:e.offset+2,textY:this.width/2-1};case a.ORIENTATION_VERTICAL:return{x:this.width,y:e.offset,textX:2,textY:e.offset+12}}},e.prototype.render=function(e){if(this._isRenderable()){var t=this.canvas.getContext("2d");t.clearRect(0,0,this.canvas.width,this.canvas.height),t.save(),this.setupRender(t),this.drawMainPart(t,e),this.drawExpandPart(t,e),t.restore(),this.rulerImage=t.getImageData(0,0,this.canvas.width,this.canvas.height)}},e.prototype.setupRender=function(e){e.strokeStyle="#000",e.lineWidth=1,e.font="10px Verdana"},e.prototype._isRenderable=function(){return this.canvas.width*this.canvas.height>0},e.prototype.renderPointer=function(e){if(!this.rulerImage)throw new Error("Ruler has not been rendered!");var t=this.canvas.getContext("2d");switch(t.clearRect(0,0,this.canvas.width,this.canvas.height),t.putImageData(this.rulerImage,0,0),t.save(),t.strokeStyle="#666",t.lineWidth=1,t.beginPath(),e+=.5,this.orientation){case a.ORIENTATION_HORIZONTAL:t.moveTo(e,0),t.lineTo(e,this.width);break;case a.ORIENTATION_VERTICAL:t.moveTo(0,e),t.lineTo(this.width,e)}t.closePath(),t.stroke(),t.restore()},e.prototype.drawMainPart=function(e,t){for(var n=t.iterator(this.length-this.offset);n.hasNext();){var o=n.next(),r=this.resolvePositionInfo(o),i=r.x+this.offsetX,a=r.y+this.offsetY,s=r.textX+this.offsetX,c=r.textY+this.offsetY;this.drawScale(e,o,i,a,s,c)}},e.prototype.drawExpandPart=function(e,t){this.orientation==a.ORIENTATION_VERTICAL?this.drawExpandPart_vertical(e,t):this.drawExpandPart_horizontal(e,t)},e.prototype.drawExpandPart_vertical=function(e,t){var n=t.iterator(this.offset);for(n.next();n.hasNext();){var o=n.next(),r=this.resolvePositionInfo(o),i=r.x,a=this.offsetY-r.y,s=r.textX,c=this.offsetY-o.offset-2;this.drawScale(e,o,i,a,s,c)}},e.prototype.drawExpandPart_horizontal=function(e,t){var n=t.iterator(this.offset);for(n.next();n.hasNext();){var o=n.next(),r=this.resolvePositionInfo(o),i=this.offsetX-r.x,a=r.y,s=this.offsetX-r.textX+4,c=r.textY;this.drawScale(e,o,i,a,s,c)}},e.prototype.drawScale=function(e,t,n,o,r,a){var s=void 0;switch(t.type){case i.default.SCALE_TYPE_UNIT:s=this.width/4;break;case i.default.SCALE_TYPE_MIDDLE:s=this.width/2;break;case i.default.SCALE_TYPE_SCALE:s=this.width}this.drawLine(e,this.orientation,s,n,o),t.type===i.default.SCALE_TYPE_SCALE&&e.fillText(t.scale+"",r,a)},e.prototype.drawLine=function(e,t,n,o,r){var i,s;switch(e.beginPath(),n=Math.ceil(n),o=Math.floor(o),r=Math.floor(r),t){case a.ORIENTATION_VERTICAL:i=o-n,s=r+=.5;break;default:i=o+=.5,s=r-n}e.moveTo(o,r),e.lineTo(i,s),e.closePath(),e.stroke()},e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=s(n(1)),i=s(n(10)),a=s(n(26));s(n(3));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var f=s(n(9)).default.getLogger("RulerContainerComponent"),p=function(e){function t(){return c(this,t),u(this,e.apply(this,arguments))}return l(t,e),t.getName=function(){return"ruler-container"},t.prototype.postlink=function(){e.prototype.postlink.call(this),this.horizontalContainer=this.childAt(0),this.verticalContainer=this.childAt(1),this.horizontalRuler=this.horizontalContainer.childAt(1),this.verticalRuler=this.verticalContainer.childAt(0),this.slot=this.childAt(1).childAt(1)},t.prototype.createDOMElement=function(){return document.createElement("div")},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this);var n=function(){t.updateRulerSize(),t.rerenderRuler()},o=function(e){if(t.isActive){var n=e.clientX,o=e.clientY-t.verticalRuler.element.getBoundingClientRect().top,r=n-t.horizontalRuler.element.getBoundingClientRect().left;t.verticalRuler.setPointerOffset(o),t.horizontalRuler.setPointerOffset(r),t.rerenderPointer()}};document.addEventListener("mousemove",o),window.addEventListener("resize",n);var a=function(e){t.isActive&&t.updateRulerOffset().then((function(e){t.rerenderRuler(),t.rerenderPointer()}))};this.addDestroyHook(this.getPDFUI().addViewerEventListener(r.default.zoomToSuccess,(function(e){t.isActive&&t.updateScaleRatio().then((function(e){return t.updateRulerOffset()})).then((function(e){t.rerenderRuler(),t.rerenderPointer()}))})),this.getPDFUI().addViewerEventListener(r.default.pageNumberChange,(function(){t.currentPageRenderPromise=t.resolveCurrentLeftPage(),a()})),this.getPDFUI().addViewerEventListener(r.default.renderFileSuccess,(function(){t.currentPageRenderPromise=t.resolveCurrentLeftPage(),a()})),this.getPDFUI().addViewerEventListener(r.default.willCloseDocument,(function(){t.currentPageRenderPromise=Promise.resolve(null),a()})),this.getPDFUI().addUIEventListener(i.default.changeViewModeSuccess,a)),this.getPDFUI().getPDFViewerRender().then((function(e){t.addDestroyHook(e.scrollWrap.addScrollEventListener(a))})),this.addDestroyHook((function(){window.removeEventListener("resize",n),document.removeEventListener("mousemove",o)}))},t.prototype.resolveCurrentLeftPage=function(){var e=this;return this.getPDFUI().getPDFDocRender().then((function(t){if(!t)throw new Error("Cannot resolve current docRender, maybe no file is opening currently");var n=t.getViewMode().getVisibleIndexes(),r=function(e){var t=e.$ui.get(0).getBoundingClientRect();return{pageRender:e,index:e.index,left:Math.floor(t.left),vmiddle:Math.floor(t.top+t.height/2)}};if(0===n.length&&(f.info("The current visible pages could not be reached, using current index instead"),n=[t.getCurrentPageIndex()]),1===n.length){var i=t.getPDFPageRender(n[0]);return e.currentPage=i,i}var a=function(){var o=t.getCurrentPageIndex(),i=n.map((function(e){return t.getPDFPageRender(e)})).map(r).reduce((function(e,t){var n=t.vmiddle;return e[n]=e[n]||[],e[n].push(t),e}),{});for(var a in i){var s=i[a];if(s.find((function(e){return e.index===o})))return s.sort((function(e,t){return e.left<t.left?-1:1})),e.currentPage=s[0].pageRender,{v:s[0].pageRender}}}();if("object"===(void 0===a?"undefined":o(a)))return a.v}))},t.prototype.doActive=function(){var e=this;this.element.classList.add("active"),Promise.all([this.updateScaleRatio(),this.updateRulerOffset().then((function(t){return e.updateRulerSize()}))]).then((function(t){e.rerenderRuler(),e.rerenderPointer()}))},t.prototype.doDeactive=function(){this.element.classList.remove("active")},t.prototype.updateRulerOffset=function(){var e=this;return this.currentPageRenderPromise||(this.currentPageRenderPromise=this.resolveCurrentLeftPage()),this.currentPageRenderPromise.then((function(t){if(!t)return e.horizontalRuler.setRulerOffset(0),void e.verticalRuler.setRulerOffset(0);var n=function(e){return e.renderer.canvas.getBoundingClientRect()},o=t.$ui.get(0).getBoundingClientRect(),r=n(e.horizontalRuler),i=n(e.verticalRuler),a=o.left-r.left,s=o.top-i.top;e.horizontalRuler.setRulerOffset(a),e.verticalRuler.setRulerOffset(s)}),(function(t){throw e.horizontalRuler.setRulerOffset(0),e.verticalRuler.setRulerOffset(0),t}))},t.prototype.updateScaleRatio=function(){var e=this;return this.getPDFUI().getPDFDocRender().then((function(e){return e.getScaleRatio()})).then((function(t){e.horizontalRuler.setZoom(t),e.verticalRuler.setZoom(t)}))},t.prototype.updateRulerSize=function(){this.horizontalRuler.setLength(this.horizontalContainer.element.offsetWidth),this.verticalRuler.setLength(this.verticalContainer.element.offsetHeight)},t.prototype.rerenderRuler=function(){this.horizontalRuler.rerenderRuler(),this.verticalRuler.rerenderRuler()},t.prototype.rerenderPointer=function(){this.verticalRuler.rerenderPointer(),this.horizontalRuler.rerenderPointer()},t.prototype.getSlotContainer=function(){return e.prototype.getSlotContainer.call(this,"")},t}(a.default.createSuperClass({template:'\n        <div class="fv__ui-ruler-container">\n            <div class="fv__ui-horizontal-ruler-container">\n                <span></span>\n                <distance:ruler orientation="horizontal" class="fv__ui-horizontal-ruler"></distance:ruler>\n            </div>\n            <div class="fv__ui-ruler-container-main">\n                <distance:ruler orientation="vertical" class="fv__ui-vertical-ruler"></distance:ruler>\n                <div class="fv__ui-ruler-container-slot" slot></div>\n            </div>\n        </div>\n    '}));t.default=p},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=p(n(1351)),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(63)),i=p(n(26)),a=n(206),s=n(141),c=p(n(332)),u=p(n(227)),l=p(n(333)),f=p(n(335));function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var m=[r.POINT,r.INCH,r.CENTIMETER,r.PICA,r.MILLIMETER],v=[r.POINT,r.INCH,r.CENTIMETER,r.PICA,r.MILLIMETER,r.FOOT,r.YARD,r.METER,r.KILOMETER,r.MILE,r.CUSTOM],y=function(e){function t(){return d(this,t),h(this,e.apply(this,arguments))}return g(t,e),t.getName=function(){return"measurement-popup"},t.prototype.postlink=function(){e.prototype.postlink.call(this),this.userSpaceUnitComponent=this.getComponentByName("measurement-user-space-unit"),this.realUnitComponent=this.getComponentByName("measurement-rw-unit"),this.userSpaceScaleComponent=this.getComponentByName("measurement-user-space-scale"),this.realScaleComponent=this.getComponentByName("measurement-rw-scale"),this.angleElement=this.getComponentByName("angle-value").element,this.distanceElement=this.getComponentByName("distance-value").element,this.deltaXElement=this.getComponentByName("delta-x-value").element,this.deltaYElement=this.getComponentByName("delta-y-value").element,this.scaleElement=this.getComponentByName("scale-value").element,this.perimeterElement=this.getComponentByName("perimeter-value").element,this.areaElement=this.getComponentByName("area-value").element;var t=!0,n=!1,o=void 0;try{for(var r,i=m[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var a=r.value;(p=document.createElement("option")).value=a.name,p.setAttribute("data-i18n","measurement.units."+a.name),this.userSpaceUnitComponent.element.appendChild(p)}}catch(e){n=!0,o=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw o}}var s=!0,c=!1,u=void 0;try{for(var l,f=v[Symbol.iterator]();!(s=(l=f.next()).done);s=!0){var p,d=l.value;(p=document.createElement("option")).value=d.name,p.setAttribute("data-i18n","measurement.units."+d.name),this.realUnitComponent.element.appendChild(p)}}catch(e){c=!0,u=e}finally{try{!s&&f.return&&f.return()}finally{if(c)throw u}}this.userSpaceUnitComponent.localize(),this.realUnitComponent.localize()},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this);var n=this.userSpaceUnitComponent.element,o=void 0;this.attachEventToElement(n,"focus",(function(){o=t.getUserSpaceUnit()})),this.attachEventToElement(n,"change",(function(){t.trigger("change",{field:s.FIELD_USER_SPACE_UNIT,previous:o,current:t.getUserSpaceUnit()})}));var r=this.realUnitComponent.element,i=void 0;this.attachEventToElement(r,"focus",(function(){i=t.getRealUnit()})),this.attachEventToElement(r,"change",(function(){t.trigger("change",{field:s.FIELD_REAL_UNIT,previous:i,current:t.getRealUnit()})})),this.userSpaceScaleComponent.on("change",(function(e,n){t.trigger("change",{field:s.FIELD_USER_SPACE_SCALE,previous:Number(n),current:Number(e)})})),this.realScaleComponent.on("change",(function(e,n){t.trigger("change",{field:s.FIELD_REAL_SCALE,previous:Number(n),current:Number(e)})})),this.resetUIFor(c.default)},t.prototype.resetUIFor=function(e){this.element.classList.remove("fv__ui-measurement-popup-distance","fv__ui-measurement-popup-perimeter","fv__ui-measurement-popup-area");var t=this.getComponentByName("measurement.popup.title");e==u.default&&(this.element.classList.add("fv__ui-measurement-popup-perimeter"),t.setTitle("measurement.popup.perimeterTitle")),e==c.default&&(this.element.classList.add("fv__ui-measurement-popup-distance"),t.setTitle("measurement.popup.title")),e!=l.default&&e!=f.default||(this.element.classList.add("fv__ui-measurement-popup-area"),t.setTitle("measurement.popup.areaTitle"))},t.prototype.setUserSpaceScale=function(e){this._validateScale(e),this.userSpaceScaleComponent.setValue(e)},t.prototype.getUserSpaceScale=function(){return this.userSpaceScaleComponent.getValue()},t.prototype.getUserSpaceUnit=function(){return r.getUnitByName(this.userSpaceUnitComponent.element.value)},t.prototype.setUserSpaceUnit=function(e){e instanceof a.Unit&&(e=e.name),this.userSpaceUnitComponent.element.value=e},t.prototype.setRealScale=function(e){this._validateScale(e),this.realScaleComponent.setValue(e)},t.prototype.getRealScale=function(){return this.realScaleComponent.getValue()},t.prototype.getRealUnit=function(){return r.getUnitByName(this.realUnitComponent.element.value)},t.prototype.setRealUnit=function(e){e instanceof a.Unit&&(e=e.name),this.realUnitComponent.element.value=e},t.prototype.updateMeasurementInfo=function(e){var t=e.distance,n=e.deltaX,o=e.deltaY,r=e.scale,i=e.angle,a=e.displayUnit,s=e.perimeter,c=e.area,u=a.name;this.distanceElement.innerText=Math.round(100*t)/100+" "+u,this.deltaXElement.innerText=Math.round(100*n)/100+" "+u,this.deltaYElement.innerText=Math.round(100*o)/100+" "+u,this.scaleElement.innerText=r,this.angleElement.innerText=i+"Â°",void 0!==s&&(this.perimeterElement.innerText=Math.round(100*s)/100+" "+u),void 0!==c&&(this.areaElement.innerText=Math.round(100*c)/100+" sq "+u)},t.prototype._validateScale=function(e){if(e<0)throw new Error("Illegal argument: scale value must be greater then 0")},t.prototype.sync=function(t,n){var o=e.prototype.sync.call(this,t,n);if(o)return o;switch(t){case"fromScale":case"userSpaceScale":return this.setUserSpaceScale(n),!0;case"toScale":case"realScale":return this.setRealScale(n),!0;case"fromUnit":case"userSpaceUnit":return this.setUserSpaceUnit(n),!0;case"toUnit":case"realUnit":return this.setRealUnit(n),!0}return!1},t}(i.default.createSuperClass({template:(0,o.default)()}));t.default=y},function(e,t,n){n(2);e.exports=function(e){"use strict";e=e||{};return'<layer class="fv__ui-measurement-layer right bottom" @draggable="" @controller="distance:MeasurementPopupController" focus="false">\r\n    <layer-header class="fv__ui-measurement-header" title="measurement.popup.title" name="measurement.popup.title"></layer-header>\r\n    <layer-view>\r\n        <div class="fv__ui-measurement-fieldset">\r\n            <span class="fv__ui-measurement-fieldset-title" data-i18n="measurement.popup.scale.title"></span>\r\n            <div class="fv__ui-measurement-fieldset-content">\r\n                <ul class="fv__ui-measurement-fieldset-list">\r\n                    <li @stop-drag>\r\n                        <number @stop-drag class="fv__ui-measurement-form-item fv__ui-measurement-scale-input" name="measurement-user-space-scale" min="0"></number>\r\n                    </li>\r\n                    <li @stop-drag>\r\n                        <select class="fv__ui-measurement-form-item fv__ui-measurement-unit-select" name="measurement-user-space-unit"></select>\r\n                    </li>\r\n                    <li>=</li>\r\n                    <li @stop-drag>\r\n                        <number @stop-drag class="fv__ui-measurement-form-item fv__ui-measurement-scale-input" name="measurement-rw-scale" min="0"></number>\r\n                    </li>\r\n                    <li @stop-drag>\r\n                        <select class="fv__ui-measurement-form-item fv__ui-measurement-unit-select" name="measurement-rw-unit"></select>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n        <div class="fv__ui-measurement-fieldset">\r\n            <span class="fv__ui-measurement-fieldset-title" data-i18n="measurement.popup.measure.title"></span>\r\n            <div class="fv__ui-measurement-fieldset-content">\r\n                <table class="fv__ui-measurements-popup-table">\r\n                    <tr name="measurement.popup.distance.row">\r\n                        <th data-i18n="measurement.popup.measure.distanceLabel"></th>\r\n                        <td name="distance-value"></td>\r\n                        <th class="fv__ui-measurements-popup-offset-item-label">ÎX:</th>\r\n                        <td name="delta-x-value"></td>\r\n                    </tr>\r\n                    <tr name="measurement.popup.angle.row">\r\n                        <th data-i18n="measurement.popup.measure.angleLabel"></th>\r\n                        <td name="angle-value"></th>\r\n                        <th class="fv__ui-measurements-popup-offset-item-label">ÎY:</th>\r\n                        <td name="delta-y-value"></td>\r\n                    </tr>\r\n                    <tr name="measurement.popup.scale.row">\r\n                        <th data-i18n="measurement.popup.measure.scaleLabel"></th>\r\n                        <td name="scale-value" colspan="3"></td>\r\n                    </tr>\r\n                    <tr class="fv__ui-measurement-fieldset-row-perimeter" name="measurement.popup.perimeter.row">\r\n                        <th data-i18n="measurement.popup.measure.perimeter"></th>\r\n                        <td name="perimeter-value" colspan="3"></td>\r\n                    </tr>\r\n                    <tr class="fv__ui-measurement-fieldset-row-area" name="measurement.popup.area.row">\r\n                        <th data-i18n="measurement.popup.measure.area"></th>\r\n                        <td name="area-value" colspan="3"></td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </layer-view>\r\n</layer>','<layer class="fv__ui-measurement-layer right bottom" @draggable="" @controller="distance:MeasurementPopupController" focus="false">\r\n    <layer-header class="fv__ui-measurement-header" title="measurement.popup.title" name="measurement.popup.title"></layer-header>\r\n    <layer-view>\r\n        <div class="fv__ui-measurement-fieldset">\r\n            <span class="fv__ui-measurement-fieldset-title" data-i18n="measurement.popup.scale.title"></span>\r\n            <div class="fv__ui-measurement-fieldset-content">\r\n                <ul class="fv__ui-measurement-fieldset-list">\r\n                    <li @stop-drag>\r\n                        <number @stop-drag class="fv__ui-measurement-form-item fv__ui-measurement-scale-input" name="measurement-user-space-scale" min="0"></number>\r\n                    </li>\r\n                    <li @stop-drag>\r\n                        <select class="fv__ui-measurement-form-item fv__ui-measurement-unit-select" name="measurement-user-space-unit"></select>\r\n                    </li>\r\n                    <li>=</li>\r\n                    <li @stop-drag>\r\n                        <number @stop-drag class="fv__ui-measurement-form-item fv__ui-measurement-scale-input" name="measurement-rw-scale" min="0"></number>\r\n                    </li>\r\n                    <li @stop-drag>\r\n                        <select class="fv__ui-measurement-form-item fv__ui-measurement-unit-select" name="measurement-rw-unit"></select>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n        <div class="fv__ui-measurement-fieldset">\r\n            <span class="fv__ui-measurement-fieldset-title" data-i18n="measurement.popup.measure.title"></span>\r\n            <div class="fv__ui-measurement-fieldset-content">\r\n                <table class="fv__ui-measurements-popup-table">\r\n                    <tr name="measurement.popup.distance.row">\r\n                        <th data-i18n="measurement.popup.measure.distanceLabel"></th>\r\n                        <td name="distance-value"></td>\r\n                        <th class="fv__ui-measurements-popup-offset-item-label">ÎX:</th>\r\n                        <td name="delta-x-value"></td>\r\n                    </tr>\r\n                    <tr name="measurement.popup.angle.row">\r\n                        <th data-i18n="measurement.popup.measure.angleLabel"></th>\r\n                        <td name="angle-value"></th>\r\n                        <th class="fv__ui-measurements-popup-offset-item-label">ÎY:</th>\r\n                        <td name="delta-y-value"></td>\r\n                    </tr>\r\n                    <tr name="measurement.popup.scale.row">\r\n                        <th data-i18n="measurement.popup.measure.scaleLabel"></th>\r\n                        <td name="scale-value" colspan="3"></td>\r\n                    </tr>\r\n                    <tr class="fv__ui-measurement-fieldset-row-perimeter" name="measurement.popup.perimeter.row">\r\n                        <th data-i18n="measurement.popup.measure.perimeter"></th>\r\n                        <td name="perimeter-value" colspan="3"></td>\r\n                    </tr>\r\n                    <tr class="fv__ui-measurement-fieldset-row-area" name="measurement.popup.area.row">\r\n                        <th data-i18n="measurement.popup.measure.area"></th>\r\n                        <td name="area-value" colspan="3"></td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </layer-view>\r\n</layer>'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=p(n(3)),r=n(5),i=p(n(332)),a=n(63),s=n(141),c=p(n(227)),u=p(n(333)),l=p(n(335)),f=p(n(334));function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var g=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n))}return h(t,e),t.getName=function(){return"MeasurementPopupController"},t.prototype.prelink=function(){var t=this;e.prototype.prelink.call(this),this.getPDFUI().getStore().then((function(e){t.store=e}))},t.prototype.mounted=function(){var t,n=this;e.prototype.mounted.call(this);var o=(d(t={},s.FIELD_USER_SPACE_SCALE,1),d(t,s.FIELD_REAL_SCALE,1),d(t,s.FIELD_USER_SPACE_UNIT,a.INCH),d(t,s.FIELD_REAL_UNIT,a.INCH),t),p=function(){n.store.dispatch("measurementInfo",Object.assign({},o))},h=function(e){if(["line","polyline","polygon","circle"].includes(e.annotationInfo.type)){var t,r=o[s.FIELD_USER_SPACE_SCALE],i=o[s.FIELD_USER_SPACE_UNIT],a=o[s.FIELD_REAL_SCALE],c=o[s.FIELD_REAL_UNIT],u=r+" "+i.name+" = "+a+" "+c.name,l=c,p=void 0,d=void 0,h=void 0,g=void 0,m=0;switch(e.annotationInfo.type){case"line":p=e.getStartPoint();var v=(d=e.getEndPoint()).x-p.x,y=d.y-p.y;m=Math.round(Math.abs(Math.atan2(y,v))/Math.PI*180*100)/100;break;case"polyline":case"polygon":var b=e.getVertexes(),w=(t=b,Array.isArray(t)?t:Array.from(t)).slice(0);if(w.length<1)return;var _=e.getLastPoint();if(w.push(_),p=d=w[w.length-1],w.length>1&&(p=w[w.length-2]),2==w.length){var P=d.x-p.x,O=d.y-p.y;m=Math.round(Math.abs(Math.atan2(O,P))/Math.PI*180*100)/100}if(w.length>=3){var E=w[w.length-1],x=w[w.length-2],C=w[w.length-3];m=f.default.caculateAngle(E,x,C,o)}if("polyline"==e.annotationInfo.type){var A=w[0];h=0;for(var S=1;S<w.length;S++)h+=f.default.caculateDistance(A,w[S],o),A=w[S]}else g=w.length<=2?0:f.default.caculatePolygonArea(w,o);break;case"circle":var D=e.pdfRect,T=D.left,I=D.right,R=D.top,M=D.bottom;p={x:T,y:R},d={x:I,y:M},g=f.default.caculateCircleArea(e.pdfRect,o),m=Math.round(Math.abs(Math.atan2(I-T,R-M))/Math.PI*180*100)/100}var j=f.default.caculateDistance(p,d,o),k=d.x-p.x,N=d.y-p.y,F=Math.abs(k),L=Math.abs(N),V={distance:j,deltaX:F=f.default.convertPoint2RealUnit(F,o),deltaY:L=f.default.convertPoint2RealUnit(L,o),scale:u,angle:m,displayUnit:l,perimeter:h,area:g};n.store.dispatch("measurementData",V),n.component.updateMeasurementInfo(V)}else{var B=n.store.getCurrentValue("measurementData");n.component.updateMeasurementInfo(B)}};this.addDestroyHook(this.getPDFUI().addViewerEventListener(r.Events.switchStateHandler,(function(e){e==i.default||e==c.default||e==u.default||e==l.default?(n.component.resetUIFor(e),n.component.show()):n.component.hide()})),this.getPDFUI().addViewerEventListener(r.Events.distanceAnnotCreationStart,(function(e){h(e)})),this.getPDFUI().addViewerEventListener(r.Events.updateDistanceAnnot,(function(e){h(e)})),this.getPDFUI().addViewerEventListener(r.Events.distanceAnnotCreationEnd,(function(e){h(e)})),this.component.on("change",(function(e){o[e.field]=e.current,p()}))),this.getPDFUI().getStore().then((function(e){e.subscribe("measurementInfo",(function(e){n.component.setUserSpaceScale(e[s.FIELD_USER_SPACE_SCALE]),n.component.setRealScale(e[s.FIELD_REAL_SCALE]),n.component.setUserSpaceUnit(e[s.FIELD_USER_SPACE_UNIT]),n.component.setRealUnit(e[s.FIELD_REAL_UNIT]),o=e})),p()}))},t}(o.default);t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(6)),r=a(n(336)),i=a(n(549));function a(e){return e&&e.__esModule?e:{default:e}}var s=o.default.module("edit",[]);s.registerController(r.default),s.registerController(i.default),t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(6)),r=s(n(337)),i=s(n(1356)),a=s(n(1357));function s(e){return e&&e.__esModule?e:{default:e}}n(1358);var c=o.default.module("loupe",[]);c.registerController(r.default),c.registerController(i.default),c.registerController(a.default),t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),r=(a(n(399)),a(n(1))),i=n(24);function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.destroyHooks=[],o.cursorStyle="fv__cursor-loupe",o.offsetX=0,o.offsetY=0,o.updatePosition=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=null;return function(){var o=this,r=arguments;n||(n=setTimeout((function(){e.apply(o,r),n=null}),t))}}(o.updatePosition.bind(o)),o}return s(t,e),t.getStateName=function(){return i.STATE_HANDLER_LOUPE},t.prototype.docHandler=function(){},t.prototype.pageHandler=function(e){var t=this;this.pageRender=e;var n=e.$handler.get(0);e.$handler.addClass(this.cursorStyle);var o=this.areaRenderer=e.getPageAreaRenderer(255,400,2,!1);this.pdfViewer.eventEmitter.emit(r.default.createPageAreaRenderer,o);var i=function(e,o){n.addEventListener(e,o),t.destroyHooks.push((function(){n.removeEventListener(e,o)}))};i("click",(function(e){t.pdfViewer.eventEmitter.emit(r.default.startUpdatePageAreaRenderer,o)})),i("mouseover",(function(e){t.pdfViewer.eventEmitter.emit(r.default.switchPageAreaRenderer,o)})),i("mousemove",(function(e){t.offsetX=e.offsetX,t.offsetY=e.offsetY,t.updatePosition()}))},t.prototype.updatePosition=function(){this.areaRenderer.setPosition(this.offsetX,this.offsetY),this.areaRenderer.update()},t.prototype.destroyPageHandler=function(){this.pageRender.$handler.removeClass(this.cursorStyle),this.pdfViewer.eventEmitter.emit(r.default.destroyPageAreaRenderer,this.areaRenderer),this.destroyHooks.forEach((function(e){return e()})),this.updatePosition=null},t}(o.IStateHandler);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(3);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.getName=function(){return"LoupeToolScaleController"},t.prototype.handle=function(){},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(3);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.data.scaleList=[{value:50},{value:75},{value:100},{value:125},{value:150},{value:200},{value:400},{value:500},{value:600}].map((function(e){return e.text=e.value+"%",e})),o}return i(t,e),t.getName=function(){return"LoupeToolScaleListController"},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=c(n(6)),r=c(n(1360)),i=c(n(550)),a=c(n(551)),s=c(n(1363));function c(e){return e&&e.__esModule?e:{default:e}}n(1366);var u=o.default.module("stamp",[]);u.registerController(a.default),u.registerComponent(s.default),u.registerController(r.default),u.registerController(i.default),t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(3);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.getName=function(){return"CustomStampButtonController"},t.prototype.handle=function(e){var t=this.getPDFUI();switch(this.getComponentByName("create-stamp-dialog").hide(),this.component.element.dataset.action){case"Close":break;case"OK":var n=this.getComponentByName("create-stamp-body"),o=n.validate();if(o.length)return t.alert(o);t.getPDFViewer().then((function(e){return e.addAnnotationIcon(n.gatherData())}))}},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(1362),i=(o=r)&&o.__esModule?o:{default:o};t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(5));function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=r.stateHandler,s=r.ViewerEvents,c=r.vendors,u=c.jQuery,l=c.Hammer,f=a.IStateHandler,p=a.StateHandlerConsts.STATE_HANDLER_CREATE_STAMP,d=r.shared,h=d.getClientX,g=d.getClientY,m=r.DeviceInfo.isTouchDevice,v=void 0,y=void 0,b=void 0,w=void 0,_=void 0,P=void 0,O=u('<img style="position: absolute;opacity:0.5"/>'),E=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n))}return i(t,e),t.getStateName=function(){return p},t.setParams=function(e){var t=e.category,n=e.name,o=e.url,r=e.fileType,i=void 0===r?"pdf":r,a=e.width,s=void 0===a?150:a,c=e.height,u=void 0===c?45:c,l=e.showUrl,f=void 0===l?o:l;v=t,y=n,b=s,w=u,P=i,_=o,m||(O.css({width:4*s/3,height:4*u/3}),O.attr("src",f))},t.prototype.pageHandler=function(e){this.pageRender=e;var t=e.$handler,n=e.pdfViewer;t.addClass("fv__create-stamp-state-handler");var o=!1,r=t[0],i=this.hammer=new l.Manager(r,{recognizers:[[l.Tap]]});this.addEvent(t,"mousemove",(function(n){if(!o){var i=r.getBoundingClientRect(),a=n.clientX-i.left,s=n.clientY-i.top;m||(O.css({transform:"scale("+e.getScale()+")",top:s-2*w/3,left:a-2*b/3}).show(),t.append(O))}})),i.on("tap",(function(t){O.css("opacity",1);var i=r.getBoundingClientRect(),a=t.srcEvent,c="",u=h(a),l=g(a),f=[u-i.left,l-i.top],p=f[0],d=f[1];return o=!0,e.getPDFPage().then((function(t){var n=2*b/3*e.scale,o=2*w/3*e.scale,r={left:p-n,right:p+n,top:d-o,bottom:d+o};r=t.reverseDeviceRect(r,e.scale,e.getRotation());var i={rotate:((360-90*t.getRotation()-e.getRotation())%360+360)%360,type:"stamp",flags:4,rect:r,iconInfo:{category:v,name:y,fileType:P,url:_}};return t.addAnnot(i)})).then((function(t){var n=e.annotsRender.getAnnotRender(t[0].id).component;c=n,e.pdfViewer.eventEmitter.emit(s.addAnnotSuccess,n.annot),e.annotsRender.activeAnnot(t[0].id),n.getRenderPromise().finally((function(){setTimeout((function(){o=!1,O.hide(),O.css("opacity",.5)}),500)}))})).then((function(e){n.getStateHandlerManager().switchTo(),n.config.showCommentList&&c.showReplyDialog()})).catch((function(){o=!1,O.hide(),O.css("opacity",.5)}))}))},t.prototype.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass("fv__create-stamp-state-handler"),O.hide(),this.destroyList.map((function(e){var t=o(e,3),n=t[0],r=t[1],i=t[2];n.off(r,i)}))},t.prototype.out=function(){this.destroyPageHandler()},t.prototype.addEvent=function(e,t,n){this.destroyList=this.destroyList||[],e.on(t,n),this.destroyList.push([e,t,n])},t}(f);t.default=E},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=l(n(4));n(1364);var r=l(n(27)),i=l(n(1365)),a=n(67),s=l(n(21)),c=l(n(9)),u=n(76);function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var p,d=426,h=175,g=function(e){function t(n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r));return i.loadCustomStampMsg="",i}return f(t,e),t.getName=function(){return"stamp-create"},t.prototype.prelink=function(){var e=this,t=this.element.querySelector(".fv__ui-stamp-loader"),n=this.pdfUI,r=Promise.resolve(),i=function(){r.then((function(e){e&&e.close()}))};this._bindEvent([t],"load",(function(t){d=e.element.getElementsByClassName("fv__ui-preview-container")[0].offsetWidth,h=e.element.getElementsByClassName("fv__ui-preview-container")[0].offsetHeight;var n=t.target.width,o=t.target.height;if(t.target.width>d||t.target.height>h){var r=Math.min(d/t.target.width,h/t.target.height);o=(o*=(n=parseInt(n*r))/t.target.width).toFixed(2)}e._setElementValue("#stampWidth input",n+"")._setElementValue("#stampHeight input",o+"");var a=e.element.querySelector(".fv__ui-stamp-preview");a.src=t.target.src,a.style.display="block",a.style.width=n+"px",a.style.height=o+"px",e.loadCustomStampMsg="",i()}));var l=n.i18n;this._bindEvent([t],"error",(function(t){t.target&&t.target.currentSrc&&t.target.currentSrc!=t.target.baseURI&&(i(),e.loadCustomStampMsg=l.t("stamp.error.incorrectStampUrl"),n.alert("stamp.error.incorrectStampUrl"))}));this._bindEvent("#stamp-local-path","change",(function(n){if(!(n.target.files.length<1)){e.cleanData(),t.src&&(URL.revokeObjectURL(t.src),t.src=""),e.element.querySelector("#stampPath").style.display="none",e.element.querySelector("#stampType").style.display="none";var o=p=URL.createObjectURL(n.target.files[0]),r=n.target.files[0].type.match(/.+\/(.+)/)[1];return-1==["bmp","jpg","jpeg","png"].indexOf(r)?(n.target.value="",void e.pdfUI.alert("alert.unsupportedStamp")):(e.type=r,t.src=o,e._setElementValue("#stampName input",n.target.files[0].name),n.target.value="",!1)}}));this._bindEvent("#stampCategory select","change",(function(t){e.element.querySelector("#stampCategory input").value=t.target.value}));var f=function(e){e.target.value&&e.target.value.length>0&&e.target.classList.remove("fv__ui-stamp-invalid")};this._bindEvent("#stampCategory input","change",f),this._bindEvent("#stampName input","change",f),this._bindEvent("#stampWidth input","change",f),this._bindEvent("#stampHeight input","change",f);var g=function(t){var n=e.element.querySelector(".fv__ui-stamp-source");if("fv__ui-stamp-dropdown"==t.target.classList[0]||"fv__ui-dropdown-caret"==t.target.classList[0]||"fv__ui-stamp-sourceLable"==t.target.classList[0])n.style.display="block";else if("fv__ui-stamp-source-lable"==t.target.classList[0]){n.style.display="none",e.cleanData();var o=e.element.querySelector("#stampPath");o.style.display="inline-block",o.style.background="#f1f1f1",e.element.querySelector("#stampType").style.display="flex",o.focus(),delete e.type}else n.style.display="none";return!1};this._bindEvent(".fv__ui-stamp-source-lable","click",g),this._bindEvent(".fv__ui-stamp-dropdown","click",g),this._bindEvent([this.element],"click",g);this._bindEvent("#stampPath","change",(function(l){var f=l.target.value;if(!(0,u.isUrl)(f))return l.target.value=p,void n.alert("stamp.error.incorrectStampUrl");n.getComponentByName("create-stamp-dialog").then((function(e){r=n.loading(e.getDomElement())})),fetch(f,{headers:{Range:"bytes=0-8"}}).then((function(e){if(e.status<300)return e.blob();throw new Error(e.statusText)})).then((function(e){var t=new FileReader,n=(0,s.default)();return t.onload=function(){n.resolve(new Uint8Array(t.result))},t.onerror=n.reject,t.readAsArrayBuffer(e.slice(0,4)),n.promise})).then((function(n){var r=(0,a.isPNG)(n),s=(0,a.isJPEG)(n),c=(0,a.isBMP)(n),u=(0,a.isPDF)(n);if(r||s||c)t.src=f;else{if(!u)return i(),void e.pdfUI.alert("alert.unsupportedStamp");t.src=f.replace(/\.pdf/i,".svg")}var l=(0,o.default)(e.element).find("#stampType select"),d=void 0;r?d="png":s?d="jpg":c?d="bmp":u&&(d="pdf"),d&&(l.val(d),p=f)})).catch((function(e){i(),n.alert("stamp.error.incorrectStampUrl"),l.target.value=p,c.default.getLogger("create-custom-stamp").warn(e)}))})),this._bindEvent("#stampPath","blur",(function(){e.element.querySelector("#stampPath").style.background="white"}))},t.prototype.createDOMElement=function(){return document.createElement("div")},t.prototype.update=function(){e.prototype.update.call(this),this.cleanData(!0);var t=this.pdfUI.customStamps;if(t){var n=this.element.querySelector("#stampCategory select"),o=!0,r=!1,i=void 0;try{for(var a,s=n.children[Symbol.iterator]();!(o=(a=s.next()).done);o=!0){var c=a.value;n.removeChild(c)}}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}var u="";for(var l in t)u+="<option value="+l+">"+l+"</option>";n.innerHTML=u,n.value="x"}},t.prototype.validate=function(){var e=this.pdfUI.i18n,t="";return t+=this.loadCustomStampMsg?this.loadCustomStampMsg+"\n":"",t+=p?"":e.t("stamp.error.file")+"\n",t+=this._checkNull("#stampCategory input",{notNull:e.t("stamp.error.catagory"),notSpace:e.t("stamp.error.space"),notSpecialChar:e.t("stamp.error.special")}),t+=this._checkNull("#stampName input",{notNull:e.t("stamp.error.name")}),t+=this._checkNull("#stampWidth input",{notNull:e.t("stamp.error.width")}),t+=this._checkNull("#stampHeight input",{notNull:e.t("stamp.error.height")})},t.prototype.gatherData=function(){this.element.querySelector(".fv__ui-stamp-loader").src="";var e=p,t=this.element.querySelector("#stampCategory input").value,n=this.element.querySelector("#stampName input").value,o=this.element.querySelector("#stampWidth input").value,r=this.element.querySelector("#stampHeight input").value;return{url:e,category:t,fileType:this.type||this.element.querySelector("#stampType select").value,name:n,lable:n,width:o,height:r,annotType:"stamp"}},t.prototype.cleanData=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];p=null,this._setElementValue("#stampPath","",e)._setElementValue("#stampName input","",e)._setElementValue("#stampWidth input","",e)._setElementValue(".fv__ui-stamp-preview","",e)._setElementValue("#stampHeight input","",e)},t.prototype.render=function(){e.prototype.render.call(this),this.element.classList.add("fv__ui-stamp-create"),this.element.innerHTML=(0,i.default)({}),this.localize()},t.prototype._bindEvent=function(e,t,n){var o=this,r=void 0;r="string"==typeof e?this.element.querySelectorAll(e):e;for(var i=function(e){var i=r[e];i.addEventListener(t,n),o.addDestroyHook((function(){i.removeEventListener(t,n)}))},a=0;a<r.length;a++)i(a)},t.prototype._checkNull=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.notNull,o=void 0!==n&&n,r=t.notSpace,i=void 0!==r&&r,a=t.notSpecialChar,s=void 0!==a&&a,c=t.ascii,u=void 0!==c&&c,l=[],f=this.element.querySelector(e);return o&&0==f.value.length&&(f.classList.add("fv__ui-stamp-invalid"),l.push(o)),i&&/\s/.test(f.value)&&(f.classList.add("fv__ui-stamp-invalid"),l.push(i)),s&&/[!@#\$%\^&\*\(\)\-=;:\[\]\{\}]/.test(f.value)&&(f.classList.add("fv__ui-stamp-invalid"),l.push(s)),u&&/[^\x00-\xff]/.test(f.value)&&(f.classList.add("fv__ui-stamp-invalid"),l.push(u)),0==l.length&&f.classList.remove("fv__ui-stamp-invalid"),l.length>0?l.join("\n")+"\n":""},t.prototype._syncIconInfo=function(e,t){var n=e.catalog,o=(e.name,t.type),r=t.url,i=t.width,a=t.height;this._setElementValue("#stampCategory input",n)._setElementValue("#stampWidth input",i+"")._setElementValue("#stampHeight input",a+""),this.element.querySelector(".fv__ui-stamp-loader").src=r,this.type=o},t.prototype._setElementValue=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=this.element.querySelector(e);return o.value=t,(t.length>0||n)&&o.classList.remove("fv__ui-stamp-invalid"),o.src&&(o.src=t,o.style.display="none"),this},t}(r.default);t.default=g},function(e,t){},function(e,t,n){n(2);e.exports=function(e){"use strict";e=e||{};return'\r\n    <div class="fv__ui-form-group">\r\n        <div class="fv__ui-stamp-dropdown"><div class=\'fv__ui-stamp-sourceLable\' data-i18n="stamp.dialog.selectSource">select file</div><i class="fv__ui-dropdown-caret fv__icon-toolbar-caret"></i></div>\r\n        <ul class=\'fv__ui-stamp-source\'>\r\n            <li class="fv__ui-stamp-custom-select-local">\r\n                <div data-source="localfile" class=\'fv__ui-stamp-source-lable\'>\r\n                    <div  data-i18n="stamp.dialog.selectLocal">Select from my computer</div>\r\n                    <input type="file" id="stamp-local-path" accept="image/jpg,image/jpeg,image/bmp,image/png"/>\r\n                </div>\r\n            </li>\r\n            <li class="fv__ui-stamp-custom-weblink">\r\n                <div data-source="weblink" style="padding-left:8px;" class=\'fv__ui-stamp-source-lable\' data-i18n="stamp.dialog.addLink">Add from link</div>\r\n            </li>\r\n        </ul>\r\n        <input id="stampPath" type="text" data-i18n="[placeholder]stamp.dialog.urlHint" class="fv__ui-stamp-input" style="display:none">\r\n    </div>\r\n    <div class="fv__ui-preview-container">\r\n        <img class="fv__ui-stamp-preview"/>\r\n        <img class="fv__ui-stamp-loader"/>\r\n    </div>\r\n    <div id="stampCategory" class="fv__ui-form-group">\r\n        <label class="fv__ui-stamp-inputLable" data-i18n="stamp.dialog.category">Category</label>\r\n        <div class="fv__ui-stamp-selector">\r\n            <select class="fv__ui-stamp-input"></select>\r\n            <input class="fv__ui-stamp-input">\r\n        </div>\r\n    </div>\r\n    <div id="stampType" class="fv__ui-form-group-type" style="display:none;">\r\n        <label class="fv__ui-stamp-inputLable" data-i18n="stamp.dialog.type">type</label>\r\n        <select class="fv__ui-stamp-input-type">\r\n            <option>bmp</option>\r\n            <option>jpg</option>\r\n            <option>jpeg</option>\r\n            <option>png</option>\r\n            <option>pdf</option>\r\n        </select>\r\n    </div>\r\n    <div id="stampName" class="fv__ui-form-group">\r\n        <label class="fv__ui-stamp-inputLable" data-i18n="stamp.dialog.name">Name</label>\r\n        <input type="text" class="fv__ui-stamp-input">\r\n    </div>\r\n    <div id="stampWidth" class="fv__ui-form-group">\r\n        <label class="fv__ui-stamp-inputLable" data-i18n="stamp.dialog.width">Width</label>\r\n        <input type="text" class="fv__ui-stamp-input" >\r\n    </div>\r\n    <div id="stampHeight" class="fv__ui-form-group">\r\n        <label class="fv__ui-stamp-inputLable" data-i18n="stamp.dialog.height">Height</label>\r\n        <input type="text" class="fv__ui-stamp-input" >\r\n    </div>','\r\n    <div class="fv__ui-form-group">\r\n        <div class="fv__ui-stamp-dropdown"><div class=\'fv__ui-stamp-sourceLable\' data-i18n="stamp.dialog.selectSource">select file</div><i class="fv__ui-dropdown-caret fv__icon-toolbar-caret"></i></div>\r\n        <ul class=\'fv__ui-stamp-source\'>\r\n            <li class="fv__ui-stamp-custom-select-local">\r\n                <div data-source="localfile" class=\'fv__ui-stamp-source-lable\'>\r\n                    <div  data-i18n="stamp.dialog.selectLocal">Select from my computer</div>\r\n                    <input type="file" id="stamp-local-path" accept="image/jpg,image/jpeg,image/bmp,image/png"/>\r\n                </div>\r\n            </li>\r\n            <li class="fv__ui-stamp-custom-weblink">\r\n                <div data-source="weblink" style="padding-left:8px;" class=\'fv__ui-stamp-source-lable\' data-i18n="stamp.dialog.addLink">Add from link</div>\r\n            </li>\r\n        </ul>\r\n        <input id="stampPath" type="text" data-i18n="[placeholder]stamp.dialog.urlHint" class="fv__ui-stamp-input" style="display:none">\r\n    </div>\r\n    <div class="fv__ui-preview-container">\r\n        <img class="fv__ui-stamp-preview"/>\r\n        <img class="fv__ui-stamp-loader"/>\r\n    </div>\r\n    <div id="stampCategory" class="fv__ui-form-group">\r\n        <label class="fv__ui-stamp-inputLable" data-i18n="stamp.dialog.category">Category</label>\r\n        <div class="fv__ui-stamp-selector">\r\n            <select class="fv__ui-stamp-input"></select>\r\n            <input class="fv__ui-stamp-input">\r\n        </div>\r\n    </div>\r\n    <div id="stampType" class="fv__ui-form-group-type" style="display:none;">\r\n        <label class="fv__ui-stamp-inputLable" data-i18n="stamp.dialog.type">type</label>\r\n        <select class="fv__ui-stamp-input-type">\r\n            <option>bmp</option>\r\n            <option>jpg</option>\r\n            <option>jpeg</option>\r\n            <option>png</option>\r\n            <option>pdf</option>\r\n        </select>\r\n    </div>\r\n    <div id="stampName" class="fv__ui-form-group">\r\n        <label class="fv__ui-stamp-inputLable" data-i18n="stamp.dialog.name">Name</label>\r\n        <input type="text" class="fv__ui-stamp-input">\r\n    </div>\r\n    <div id="stampWidth" class="fv__ui-form-group">\r\n        <label class="fv__ui-stamp-inputLable" data-i18n="stamp.dialog.width">Width</label>\r\n        <input type="text" class="fv__ui-stamp-input" >\r\n    </div>\r\n    <div id="stampHeight" class="fv__ui-form-group">\r\n        <label class="fv__ui-stamp-inputLable" data-i18n="stamp.dialog.height">Height</label>\r\n        <input type="text" class="fv__ui-stamp-input" >\r\n    </div>'}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(n(6)),r=u(n(1368)),i=u(n(1369)),a=u(n(552)),s=n(553),c=u(n(554));function u(e){return e&&e.__esModule?e:{default:e}}var l=o.default.module("inksign",[]);l.registerComponent(r.default),l.registerController(i.default),l.registerController(a.default),l.registerController(s.CreateInkSignDialogController),l.registerController(c.default),t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(27);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.getName=function(){return"signItem"},t.prototype.doDisable=function(){e.prototype.doDisable.call(this),this.element.children[0]&&this.element.children[0].classList.add("disabled")},t.prototype.doEnable=function(){e.prototype.doEnable.call(this),this.element.children[0]&&this.element.children[0].classList.remove("disabled")},t.prototype.mounted=function(){var t,n,o,r,i=this;e.prototype.mounted.call(this),this.element.innerHTML='<div class="fv__ui-sign-item"><i class="fv__ui-sign-icon fv__icon-toolbar-delete-sign"></i></div>',this.element.getElementsByClassName("fv__ui-sign-item")[0].appendChild((t=this.controller.data.signature.dataURL,n=document.createElement("canvas"),o=n.getContext("2d"),(r=new Image).onload=function(){var e=114,t=57,i=void 0,a=void 0;e/r.width*r.height<t?(i=e,a=r.height/r.width*i):(a=t,i=r.width/r.height*a),n.width=i,n.height=a,o.drawImage(r,0,0,i,a)},r.src=t,n)),this.element.getElementsByClassName("fv__ui-sign-item")[0].addEventListener("click",(function(e){i.disabled||(e.stopPropagation(),i.trigger("switch",i.controller.data.$index),document.dispatchEvent(new MouseEvent("mouseup")))})),this.element.getElementsByClassName("fv__ui-sign-item")[0].addEventListener("mouseup",(function(e){e.stopPropagation()})),this.element.getElementsByClassName("fv__icon-toolbar-delete-sign")[0].addEventListener("click",(function(e){e.stopPropagation(),i.trigger("delete",i.controller.data.$index)})),this.element.getElementsByClassName("fv__icon-toolbar-delete-sign")[0].addEventListener("mouseup",(function(e){e.stopPropagation()}))},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(3)),r=a(n(338)),i=a(n(10));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n))}return s(t,e),t.getName=function(){return"InkSignItemController"},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this);var n=this.getPDFUI();this.component.on("delete",(function(e){n.getPDFViewer().then((function(t){t.getInkSignManager().delete(e)}))})),this.component.on("switch",(function(e){n.getPDFViewer().then((function(t){t.getInkSignManager().setCurrentInkSign(e),t.getStateHandlerManager().switchTo(r.default.getStateName());var n=t.getInkSignManager().getCurrentInkSign();t.eventEmitter.emit(i.default.InkImageSelected,n.dataURL)}))}));var o=function(e){t.component[8&e.getPermissions()?"enable":"disable"]()};this.addDestroyHook(n.addViewerEventListener(i.default.openFileSuccess,o),n.addViewerEventListener(i.default.permissionChanged,o))},t}(o.default);t.default=c},function(e,t,n){n(2);e.exports=function(e){"use strict";e=e||{};return'<div class="fv__signature-tool-container">\r\n    <div class="fv__signature-tool-btns">\r\n        <div class="fv__signature-tool-btn"><i class="fv__signature-tool-icon fv__icon-screenshot-ok"></i></div>\r\n        <div class="fv__signature-tool-btn"><i class="fv__signature-tool-icon fv__icon-screenshot-cancel"></i></div>\r\n    </div>\r\n    <div class="fv__signature-tool-border">\r\n        <canvas id="signatureInPage" width="114" height="57"></canvas>\r\n        <div class="fv__signature-tool-size">\r\n            <i class="fv__signature-tool-size-circle"></i>\r\n        </div>\r\n    </div>\r\n</div>','<div class="fv__signature-tool-container">\r\n    <div class="fv__signature-tool-btns">\r\n        <div class="fv__signature-tool-btn"><i class="fv__signature-tool-icon fv__icon-screenshot-ok"></i></div>\r\n        <div class="fv__signature-tool-btn"><i class="fv__signature-tool-icon fv__icon-screenshot-cancel"></i></div>\r\n    </div>\r\n    <div class="fv__signature-tool-border">\r\n        <canvas id="signatureInPage" width="114" height="57"></canvas>\r\n        <div class="fv__signature-tool-size">\r\n            <i class="fv__signature-tool-size-circle"></i>\r\n        </div>\r\n    </div>\r\n</div>'}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(6)),r=a(n(1373)),i=a(n(1374));function a(e){return e&&e.__esModule?e:{default:e}}var s=o.default.module("quick-search",[]);s.registerComponent(r.default),s.registerController(i.default),t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(17));function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=r(n(9)).default.getLogger("biz.quick-search"),s=function(e){function t(n,o,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r))}return i(t,e),t.getName=function(){return"quick-search"},t.prototype.createDOMElement=function(){return document.createElement("div")},t.prototype.render=function(){e.prototype.render.call(this),this.element.addClass("fv-quick-search-container");var t=document.createElement("div");t.className="fv-quick-search-container",this.eCommentListContainer=t,this.element.appendChild(t)},t.prototype.renderCommentListContainer=function(){},t.prototype.renderMoreComments=function(){},t.prototype.update=function(){},t.prototype.destroy=function(){a.info("c.destroy")},t}(o.default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(3)),r=a(n(9)),i=a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=r.default.getLogger("biz.quick-search"),u=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n))}return s(t,e),t.getName=function(){return"QuickSearchController"},t.prototype.mounted=function(){var e=this,t=this.component;this.getPDFUI().getPDFViewer().then((function(n){var o=n.getCurrentPDFDoc();o&&(e.currentPDFDoc=o,t.trigger("pdf-doc-change",o)),n.eventEmitter.on(i.default.openFileSuccess,(function(n){n!==e.currentPDFDoc&&(e.currentPDFDoc=n,t.trigger("pdf-doc-change",n))}))})),this.component.on("pdf-doc-change",(function(e){})),this.component.element.addEventListener("scroll",(function(){e.renderMoreComments()}))},t.prototype.handle=function(){c.info("c.handle")},t}(o.default);t.default=u},function(e,t,n){"use strict";var o=l(n(6)),r=l(n(1376)),i=l(n(1379)),a=l(n(1380)),s=l(n(1381)),c=l(n(1382)),u=l(n(1383));function l(e){return e&&e.__esModule?e:{default:e}}var f=o.default.module("text-sel",[]);[r.default].forEach((function(e){f.registerFragment(e.name,e.fragment)})),[i.default,a.default,s.default,c.default,u.default].forEach((function(e){f.registerController(e)}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(1377),i=(o=r)&&o.__esModule?o:{default:o};n(1378),t.default={name:"text-selection-tooltip",fragment:{template:(0,i.default)()}}},function(e,t,n){n(2);e.exports=function(e){"use strict";e=e||{};return'<tooltip-layer name="fv--text-selection-tooltip" class="fv--ui-text-selection-tooltip">\r\n    <xbutton name="fv--text-selection-tooltip-copy" @controller="text-sel:CopySelectedTextController" icon-class="fv__icon-popup-copy"></xbutton>\r\n    <xbutton name="fv--text-selection-tooltip-create-highlight" @controller="text-sel:CreateTextHighlightOnSelectedTextController" icon-class="fv__icon-toolbar-text-highlight"></xbutton>\r\n    <xbutton name="fv--text-selection-tooltip-create-strikeout" @controller="text-sel:CreateStrikeoutOnSelectedTextController" icon-class="fv__icon-toolbar-strikeout"></xbutton>\r\n    <xbutton name="fv--text-selection-tooltip-create-underline" @controller="text-sel:CreateUnderlineOnSelectedTextController" icon-class="fv__icon-toolbar-underline"></xbutton>\r\n    <xbutton name="fv--text-selection-tooltip-create-bookmark" @controller="text-sel:CreateBookmarkOnSelectedTextController" icon-class="fv__icon-toolbar-bookmark"></xbutton>\r\n</tooltip-layer>\r\n','<tooltip-layer name="fv--text-selection-tooltip" class="fv--ui-text-selection-tooltip">\r\n    <xbutton name="fv--text-selection-tooltip-copy" @controller="text-sel:CopySelectedTextController" icon-class="fv__icon-popup-copy"></xbutton>\r\n    <xbutton name="fv--text-selection-tooltip-create-highlight" @controller="text-sel:CreateTextHighlightOnSelectedTextController" icon-class="fv__icon-toolbar-text-highlight"></xbutton>\r\n    <xbutton name="fv--text-selection-tooltip-create-strikeout" @controller="text-sel:CreateStrikeoutOnSelectedTextController" icon-class="fv__icon-toolbar-strikeout"></xbutton>\r\n    <xbutton name="fv--text-selection-tooltip-create-underline" @controller="text-sel:CreateUnderlineOnSelectedTextController" icon-class="fv__icon-toolbar-underline"></xbutton>\r\n    <xbutton name="fv--text-selection-tooltip-create-bookmark" @controller="text-sel:CreateBookmarkOnSelectedTextController" icon-class="fv__icon-toolbar-bookmark"></xbutton>\r\n</tooltip-layer>\r\n'}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(3)),r=n(5),i=a(n(32));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(){return s(this,t),c(this,e.apply(this,arguments))}return u(t,e),t.getName=function(){return"CopySelectedTextController"},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this),this.tooltipLayer=this.component.getClosestComponentByType("tooltip-layer"),this.addDestroyHook(this.pdfUI.addViewerEventListener(r.Events.openFileSuccess,(function(e){e.checkPermission(i.default.extract)?t.component.enable():t.component.disable()})))},t.prototype.handle=function(){var e=this,t=this.tooltipLayer.getCurrentSelectionTool();if(t)return t.copy().then((function(t){e.tooltipLayer.hide()}))},t}(o.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(3)),r=n(5),i=a(n(32));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(){return s(this,t),c(this,e.apply(this,arguments))}return u(t,e),t.getName=function(){return"CreateStrikeoutOnSelectedTextController"},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this),this.tooltipLayer=this.component.getClosestComponentByType("tooltip-layer"),this.addDestroyHook(this.pdfUI.addViewerEventListener(r.Events.openFileSuccess,(function(e){e.checkPermission(i.default.annotForm)?t.component.enable():t.component.disable()})))},t.prototype.handle=function(){var e=this,t=this.tooltipLayer.getCurrentSelectionTool();if(t)return t.createStrikeout().then((function(t){e.tooltipLayer.hide()}))},t}(o.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(3)),r=n(5),i=a(n(32));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(){return s(this,t),c(this,e.apply(this,arguments))}return u(t,e),t.getName=function(){return"CreateTextHighlightOnSelectedTextController"},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this),this.tooltipLayer=this.component.getClosestComponentByType("tooltip-layer"),this.addDestroyHook(this.pdfUI.addViewerEventListener(r.Events.openFileSuccess,(function(e){e.checkPermission(i.default.annotForm)?t.component.enable():t.component.disable()})))},t.prototype.handle=function(){var e=this,t=this.tooltipLayer.getCurrentSelectionTool();if(t)return t.createTextHighlight().then((function(t){e.tooltipLayer.hide()}))},t}(o.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(3)),r=n(5),i=a(n(32));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(){return s(this,t),c(this,e.apply(this,arguments))}return u(t,e),t.getName=function(){return"CreateUnderlineOnSelectedTextController"},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this),this.tooltipLayer=this.component.getClosestComponentByType("tooltip-layer"),this.addDestroyHook(this.pdfUI.addViewerEventListener(r.Events.openFileSuccess,(function(e){e.checkPermission(i.default.annotForm)?t.component.enable():t.component.disable()})))},t.prototype.handle=function(){var e=this,t=this.tooltipLayer.getCurrentSelectionTool();if(t)return t.createUnderline().then((function(t){e.tooltipLayer.hide()}))},t}(o.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(3)),r=n(5),i=s(n(32)),a=n(8);function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var f=function(e){function t(){return c(this,t),u(this,e.apply(this,arguments))}return l(t,e),t.getName=function(){return"CreateBookmarkOnSelectedTextController"},t.prototype.changePeimission=function(e){var t=this;this.getPDFUI().getPDFDocRender().then((function(e){return e.getUserPermission().getValue()})).then((function(n){var o=e.checkPermission(i.default.annotForm)&&e.checkPermission(i.default.modify);n&t.constructor.permission&&o?t.component.unlock&&t.component.unlock():t.component.lock&&t.component.lock()}))},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this),this.tooltipLayer=this.component.getClosestComponentByType("tooltip-layer"),this.pdfUI.getKeyboardEventBinder(a.PDFUI_BINDER).then((function(e){e.before(a.KEY_MAP_ADD_BOOKMARK,(function(e){e.preventDefault(),t.handle()}),!0)})),this.addDestroyHook(this.pdfUI.addViewerEventListener(r.Events.openFileSuccess,(function(e){e.checkPermission(i.default.annotForm)?t.component.enable():t.component.disable()})))},t.prototype.handle=function(){var e=this,t=this.tooltipLayer.getCurrentSelectionTool();if(t)return t.createBookmark().then((function(t){e.tooltipLayer.hide(),e.getComponentByName("sidebar-bookmark").active()}))},t}(o.default);t.default=f},function(e,t,n){"use strict";var o=i(n(6)),r=i(n(1385));function i(e){return e&&e.__esModule?e:{default:e}}n(1387);var a=o.default.module("freetext",[]);[r.default].forEach((function(e){a.registerFragment(e.name,e.fragment)}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(1386)),r=i(n(3));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}t.default={name:"freetext-tooltip",fragment:{template:(0,o.default)(),config:[{target:"fv--freetext-tooltip",callback:function(e){function t(){return a(this,t),s(this,e.apply(this,arguments))}return c(t,e),t.prototype.handle=function(e){var t=this.component.parent,n=t.childAt(0),o=t.childAt(1),r=e.target;"i"==r.tagName.toLowerCase()&&(r=r.parentElement),this.pdfUI.getPDFViewer().then((function(e){var t=e.getCurrentActivatable(),i=t.annot.getDefaultAppearance(),a=t.getRect();switch(r.dataset.action){case"increase":39==i.textSize&&n.disable(),o.enable(),i.textSize++,t.setDefaultAppearance("textSize",i.textSize);break;case"decrease":7==i.textSize&&o.disable(),n.enable(),i.textSize--,t.setDefaultAppearance("textSize",i.textSize);break;case"delete":t.removeAnnot();break;case"setting":t.showPropertiesDialog(null,null,{pageX:a.right+60,pageY:a.bottom+80})}}))},t}(r.default)}]}}},function(e,t,n){n(2);e.exports=function(e){"use strict";e=e||{};return'<tooltip-layer name="fv--freetext-tooltip" class="fv--ui-freetext-tooltip">\r\n    <xbutton class="fv--ui-ft-tt" data-action="increase" icon-class="fv__icon-edit-increase-size"></xbutton>\r\n    <xbutton class="fv--ui-ft-tt" data-action="decrease" icon-class="fv__icon-edit-decrease-size"></xbutton>\r\n    <xbutton class="fv--ui-ft-tt" data-action="delete" icon-class="fv__icon-popup-delete"></xbutton>\r\n    <xbutton class="fv--ui-ft-tt" data-action="setting" icon-class="fv__icon-toolbar-setting"></xbutton>\r\n</tooltip-layer>','<tooltip-layer name="fv--freetext-tooltip" class="fv--ui-freetext-tooltip">\r\n    <xbutton class="fv--ui-ft-tt" data-action="increase" icon-class="fv__icon-edit-increase-size"></xbutton>\r\n    <xbutton class="fv--ui-ft-tt" data-action="decrease" icon-class="fv__icon-edit-decrease-size"></xbutton>\r\n    <xbutton class="fv--ui-ft-tt" data-action="delete" icon-class="fv__icon-popup-delete"></xbutton>\r\n    <xbutton class="fv--ui-ft-tt" data-action="setting" icon-class="fv__icon-toolbar-setting"></xbutton>\r\n</tooltip-layer>'}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(6)),r=i(n(339));function i(e){return e&&e.__esModule?e:{default:e}}var a=o.default.module("marquee",[]);a.registerController(r.default),t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=n(18),i=p(n(64)),a=p(n(139)),s=p(n(43)),c=(p(n(4)),p(n(112))),u=n(24),l=p(n(1)),f=n(156);function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var h=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,"square"));return o.pdfViewer=n,o.cursorStyle="fv__cursor-marquee",o.destroyHooks=[],o}return d(t,e),t.getStateName=function(){return u.STATE_HANDLER_MARQUEE},t.prototype.start=function(e,t){var n=t.left,o=t.top;this.shapeControl||(this.shapeControl=new i.default({resizable:!1,enableDiagonally:!0}),this.shapeControl.active(e.$handler,{left:n,top:o,width:0,height:0},{left:n,top:o,right:n,bottom:o}))},t.prototype.pageHandler=function(e){var t=this;this.pageRender=e;var n=e.$handler.get(0);e.$handler.addClass(this.cursorStyle);var i=this.hammer=new s.default.Manager(n);e.$handler;i.add(new s.default.Pan({direction:s.default.DIRECTION_ALL}));var a=void 0;i.on("panstart",(function(o){t.startPoint=(0,c.default)(n,o);var i=t.startPoint.x,s=t.startPoint.y;t.start(e,{left:i,top:s}),a=new r.DebouncePromiseQueue})),i.on("panmove",(function(e){t.currentPoint={x:t.startPoint.x+e.deltaX,y:t.startPoint.y+e.deltaY},a.push((function(){return t.adjust(t.shapeControl,t.startPoint,t.currentPoint)}))})),i.on("panend",(function(e){if(!t.isStart&&t.shapeControl){var n=o(e.pointers,1)[0];t.currentPoint={x:t.startPoint.x+e.deltaX,y:t.startPoint.y+e.deltaY},t.isStart=!0,setTimeout((function(){t.isStart=!1}),500),a.push((function(){return t.adjust(t.shapeControl,t.startPoint,t.currentPoint)})),n.ctrlKey||n.metaKey?t.pdfViewer.eventEmitter.emit(l.default.marqueeZoomOut,t.shapeControl.shape.shape,t.pageRender.index):t.pdfViewer.eventEmitter.emit(l.default.marqueeZoomIn,t.shapeControl.shape.shape,t.pageRender.index),t.shapeControl.destroy(),t.shapeControl=null}})),i.on("pancancel",(function(e){a.end(),t.shapeControl.destroy(),t.shapeControl=null}));var u=function(e,o){n.addEventListener(e,o),t.destroyHooks.push((function(){n.removeEventListener(e,o)}))};u("click",(function(n){if(!t.isStart){t.isStart=!0,setTimeout((function(){t.isStart=!1}),500);var o=n.layerX,r=n.layerY;t.start(e,{left:o,top:r}),t.shapeControl.shape.shape.clientX=n.clientX,t.shapeControl.shape.shape.clientY=n.clientY,n.ctrlKey||n.metaKey?t.pdfViewer.eventEmitter.emit(l.default.marqueeZoomOut,t.shapeControl.shape.shape,t.pageRender.index):t.pdfViewer.eventEmitter.emit(l.default.marqueeZoomIn,t.shapeControl.shape.shape,t.pageRender.index),t.shapeControl.destroy(),t.shapeControl=null}})),u("contextmenu",(function(e){e.stopPropagation(),e.preventDefault()}))},t.prototype.adjust=function(e,t,n){var o=t.x,r=t.y,i=n.x,a=n.y;if(e){var s,c,u=Math.abs(o-i),l=Math.abs(r-a),f={left:s=Math.min(o,i),top:c=Math.min(r,a),width:u=Math.max(u,1),height:l=Math.max(l,1)},p={left:s,top:c,right:s+u,bottom:c+l};e._applyAnnotBoundary(f),e.shape.boundary=p,e.shape.shape=f,e._updatePreviewer()}},t.prototype.docHandler=function(e){document.addEventListener("keydown",this.keydownEventListener=function(t){(t.ctrlKey||t.metaKey)&&e.pagesRender.pageRenders.forEach((function(e){e.$handler.get(0).style.cssText+="cursor: -webkit-zoom-out;cursor: zoom-out"}))},{capture:!0}),document.addEventListener("keyup",this.keyupEventListener=function(t){switch(t.keyCode){case f.KeyCodes.Ctrl:case f.KeyCodes.Meta:e.pagesRender.pageRenders.forEach((function(e){e.$handler.get(0).style.cursor=null}))}},{capture:!0})},t.prototype.destroyDocHandler=function(){document.removeEventListener("keydown",this.keydownEventListener,{capture:!0}),document.removeEventListener("keyup",this.keyupEventListener,{capture:!0})},t.prototype.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle),this.pageRender.$handler.off("mousedown"),this.destroyHooks.forEach((function(e){return e()}))},t}(a.default);t.default=h},function(e,t,n){"use strict";var o=i(n(1391)),r=i(n(1394));function i(e){return e&&e.__esModule?e:{default:e}}var a=i(n(6)).default.module("attachment",[]);a.registerController(r.default),a.registerComponent(o.default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(17));n(1392);var r=s(n(1393)),i=s(n(43)),a=(s(n(30)),n(14));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=function(e){function t(n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r));return i.annots=[],i}return c(t,e),t.getName=function(){return"attachment-panel"},t.prototype.createDOMElement=function(){return document.createElement("div")},t.prototype.render=function(){e.prototype.render.call(this),this.update(),this.element.innerHTML=(0,r.default)(),this.element.addClass("fv__ui-attachment-container")},t.prototype.update=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[];this.annots=e,e.map((function(e){t.push({name:e.getFileSpec()&&e.getFileSpec().getFileName()||"attachment",size:e.getFileSpec()&&e.getFileSpec().getFileSize()})})),this.element.innerHTML=(0,r.default)(t)},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this);var n=new i.default.Manager(this.element);if(n.add(new i.default.Tap({event:"doubletap",taps:2})),n.on("doubletap",(function(e){e.preventDefault(),t.dbclick(e)})),a.isIOS){var o=function(e){return e.preventDefault()};this.element.addEventListener("touchstart",o),this.addDestroyHook((function(){t.element.removeEventListener("touchstart",o)}))}this.addDestroyHook((function(){n.destroy()}))},t.prototype.dbclick=function(e){for(var t=e.target,n=e.currentTarget;!t.classList.contains("fv__attachment-list-item");){if(t===n){t=null;break}t=t.parentNode}if(t){var o=t.getAttribute("data-attachmentindex"),r=this.annots[o];this.getPDFUI().getPDFViewer().then((function(e){e.getPDFPageRender(r.getPDFPage().getIndex()).getAnnotRender(r.getId()).component.download()}))}},t}(o.default);t.default=u},function(e,t){},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";var t="",n=(e=e||{}).i,r=o.$escape;t+='<div class="fv__attachment-operation"></div>\r\n<ul class="fv__attachment-list">\r\n';for(n=0;n<e.length;n++)t+='\r\n    <li class="fv__attachment-list-item" data-attachmentindex="',t+=r(n),t+='">\r\n        <i class="fv__ui-attachment-icon fv__icon-attachment-item-file"></i>\r\n        <span class="fv__ui-attachment-file-name" title=',t+=r(e[n].name),t+=">",t+=r(e[n].name),t+="</span>\r\n    </li>\r\n";return t+="\r\n</ul>\r\n"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(3)),r=a(n(1)),i=n(8);function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.pageMap={},o.fileAttachments=[],o}return s(t,e),t.getName=function(){return"AttachmentSidebarPanelController"},t.prototype.postlink=function(){this.component.parent.hide()},t.prototype.addPage=function(e){var t=this,n=e.info.index;this.pageMap[n]||!(e.annots||[]).length&&e.info.annotCount||(this.pageMap[n]=e,(e.annots||[]).map((function(e){"fileattachment"===e.getType()&&t.fileAttachments.push(e)})),this.fileAttachments.length>0&&(this.loaded&&this.component.update(this.fileAttachments),this.component.parent.show()))},t.prototype.clearPages=function(){this.pageMap={},this.fileAttachments=[],this.component.parent.hide()},t.prototype.mounted=function(){var e=this;this.loaded=!1;var t=this.getPDFUI(),n=this.getComponentByName("sidebar-attachment");this.addDestroyHook(t.addViewerEventListener(r.default.openFileSuccess,(function(t){e.loaded=!1,e.currentDoc=t})),t.addViewerEventListener(r.default.willCloseDocument,(function(t){e.clearPages(),e.currentDoc=null})),t.addViewerEventListener(r.default.renderPageSuccess,(function(t){t.docRender.getUserPermission().checkAnnotForm()&&e.addPage(t.page)})),t.addViewerEventListener(r.default.annotationAdd,(function(t,n){var o=e.fileAttachments.length;t.forEach((function(t){"fileattachment"===t.getType()&&(e.fileAttachments.push(t),e.component.update(e.fileAttachments),0===o&&1===e.fileAttachments.length&&e.component.parent.show())}))})),t.addViewerEventListener(r.default.annotationRemoved,(function(t){for(var n=void 0,o=0;o<t.length;o++)"fileattachment"===t[o].getType()&&(n=t[o]);n&&e.fileAttachments.map((function(t,o){t.getId()===n.getId()&&(e.fileAttachments.splice(o,1),e.component.update(e.fileAttachments),0===e.fileAttachments.length&&e.component.parent.hide())}))})),t.addViewerEventListener(r.default.annotationImported,(function(t){var n=t.pageCache.length;e.clearPages();for(var o=0;o<n;o++)t.getPageByIndex(o).then((function(t){e.addPage(t)}))})),t.addViewerEventListener(r.default.pageAdded,(function(t){var n=e.currentDoc,o=n.pageCache.length;e.clearPages();for(var r=0;r<o;r++)n.getPageByIndex(r).then((function(t){e.addPage(t)}))})),t.addViewerEventListener(r.default.insertPages,(function(t){var n=e.currentDoc,o=n.pageCache.length;e.clearPages();for(var r=0;r<o;r++)n.getPageByIndex(r).then((function(t){e.addPage(t)}))})),t.addViewerEventListener(r.default.pageRemoved,(function(){var t=e.currentDoc,n=t.pageCache.length;e.clearPages();for(var o=0;o<n;o++)t.getPageByIndex(o).then((function(t){e.addPage(t)}))})),t.addViewerEventListener(r.default.pagesRemoved,(function(){var t=e.currentDoc,n=t.pageCache.length;e.clearPages();for(var o=0;o<n;o++)t.getPageByIndex(o).then((function(t){e.addPage(t)}))}))),n.on(i.COMPONENT_EVENTS.ACTIVE,(function(t){!e.loaded&&e.currentDoc&&(e.loaded=!0,e.component.update(e.fileAttachments))}))},t}(o.default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.commentListModule=void 0,n(1396);var o=Y(n(6)),r=Y(n(555)),i=Y(n(1401)),a=Y(n(1402)),s=Y(n(556)),c=Y(n(1403)),u=Y(n(1404)),l=Y(n(1405)),f=Y(n(1406)),p=Y(n(1407)),d=Y(n(559)),h=Y(n(1408)),g=Y(n(1409)),m=Y(n(1410)),v=Y(n(1411)),y=Y(n(142)),b=Y(n(1412)),w=Y(n(1413)),_=Y(n(1414)),P=Y(n(1415)),O=Y(n(1416)),E=Y(n(1417)),x=Y(n(1418)),C=Y(n(1419)),A=Y(n(1420)),S=Y(n(1421)),D=Y(n(1422)),T=Y(n(1423)),I=Y(n(1424)),R=Y(n(1426)),M=Y(n(1427)),j=Y(n(1428)),k=Y(n(1429)),N=Y(n(1430)),F=Y(n(1431)),L=Y(n(1433)),V=Y(n(1434)),B=Y(n(1435)),U=Y(n(1436)),H=Y(n(564)),$=Y(n(1437)),W=Y(n(1438)),q=Y(n(1439)),z=Y(n(1440)),G=Y(n(1441));function Y(e){return e&&e.__esModule?e:{default:e}}var K=(t.commentListModule=o.default.module("comment-list",[])).getRegistry();K.registerComponent(r.default),K.registerComponent(i.default),K.registerComponent(a.default),K.registerComponent(s.default),K.registerComponent(d.default),K.registerComponent(y.default),K.registerComponent(F.default),K.registerComponent($.default),K.registerComponent(W.default),K.registerComponent(G.default),K.registerController(c.default),K.registerController(u.default),K.registerController(l.default),K.registerController(f.default),K.registerController(p.default),K.registerController(h.default),K.registerController(D.default),K.registerController(T.default),K.registerController(q.default),K.registerController(I.default),K.registerController(j.default),K.registerController(R.default),K.registerController(M.default),K.registerController(k.default),K.registerController(N.default),K.registerController(g.default),K.registerController(m.default),K.registerController(v.default),K.registerController(L.default),K.registerDirective(H.default),K.registerDirective(V.default),K.registerDirective(B.default),K.registerDirective(U.default),[b.default,w.default,_.default,P.default,O.default,E.default,x.default,z.default,C.default,S.default,A.default].forEach((function(e){K.registerFragment(e.name,e.fragment)}))},function(e,t){},function(e,t,n){n(2);e.exports=function(e){"use strict";e=e||{};return'<div class="fv__ui-commentlist-comment-inner">\r\n    <div class="fv__ui-commentlist-handler">\r\n        <div class="fv__ui-commentlist-comment-header">\r\n            <div class="fv__ui-commentlist-comment-icon-container">\r\n                <i class="fv__ui-commentlist-comment-icon"></i>\r\n            </div>\r\n            <div class="fv__ui-commentlist-comment-summary-head">\r\n                <span class="fv__ui-commentlist-comment-title"></span>\r\n                <span class="fv__ui-commentlist-comment-time"><span class="font10"></span></span>\r\n                <div class="fv__ui-commentlist-comment-menus">\r\n                    <label class="check-box-wrapper purple fv__ui-hide">\r\n                        <input id="check-mark-input" name="comment-state-check-mark" type="checkbox" class="fv__ui-commentlist-comment-check-mark checkbox-input"/>\r\n                        <span class="checkbox-inner"></span>\r\n                    </label>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="fv__ui-commentlist-comment-body">\r\n            <div class="fv__ui-commentlist-comment-content">\r\n                <div class="fv__ui-commentlist-comment-message">\r\n                </div>\r\n                <div class="fv__ui-commentlist-comment-no-content">\r\n                    <span data-i18n="sidebar.commentlist.card.add-content"></span>\r\n                </div>\r\n                <ul class="fv__ui-commentlist-comment-status-list">\r\n                    <li status="accepted" data-i18n="[title]sidebar.commentlist.states.accepted">\r\n                        <i class="fv__icon-comment-state-accepted"></i>\r\n                        <span class="font10">(<span role="count">0</span>)</span>\r\n                    </li>\r\n                    <li status="rejected" data-i18n="[title]sidebar.commentlist.states.rejected">\r\n                        <i class="fv__icon-comment-state-regected"></i>\r\n                        <span class="font10">(<span role="count">0</span>)</span>\r\n                    </li>\r\n                    <li status="cancelled" data-i18n="[title]sidebar.commentlist.states.cancelled">\r\n                        <i class="fv__icon-comment-state-cancelled"></i>\r\n                        <span class="font10">(<span role="count">0</span>)</span>\r\n                    </li>\r\n                    <li status="completed" data-i18n="[title]sidebar.commentlist.states.completed">\r\n                        <i class="fv__icon-comment-state-completed"></i>\r\n                        <span class="font10">(<span role="count">0</span>)</span>\r\n                    </li>\r\n                    <li status="deferred" data-i18n="[title]sidebar.commentlist.states.deferred">\r\n                        <i class="fv__icon-comment-state-deferred"></i>\r\n                        <span class="font10">(<span role="count">0</span>)</span>\r\n                    </li>\r\n                    <li status="future" data-i18n="[title]sidebar.commentlist.states.future">\r\n                        <i class="fv__icon-comment-state-future"></i>\r\n                        <span class="font10">(<span role="count">0</span>)</span>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="fv__ui-commentlist-comment-editor">\r\n        <div class="fv__ui-commentlist-comment-editor-area">\r\n            <div contenteditable class="fv__ui-commentlist-editor"></div>\r\n        </div>\r\n        <div class="fv__ui-commentlist-comment-tools">\r\n            <a href="javascript:void(0)" class="fv__ui-commentlist-btn" action="publish" data-i18n="sidebar.commentlist.card.publishbtn"></a>\r\n        </div>\r\n    </div>\r\n    <div class="fv__ui-commentlist-replies"></div>\r\n    <div class="fv__ui-commentlist-add-reply">\r\n        <div class="fv__ui-commentlist-reply-editor">\r\n            <div contenteditable class="fv__ui-commentlist-editor" data-i18n="[placeholder]sidebar.commentlist.card.add-reply"></div>\r\n        </div>\r\n        <div class="fv__ui-commentlist-comment-tools">\r\n            <a href="javascript:void(0)" class="fv__ui-commentlist-btn" action="add-reply" data-i18n="sidebar.commentlist.card.publishbtn"></a>\r\n        </div>\r\n    </div>\r\n</div>','<div class="fv__ui-commentlist-comment-inner">\r\n    <div class="fv__ui-commentlist-handler">\r\n        <div class="fv__ui-commentlist-comment-header">\r\n            <div class="fv__ui-commentlist-comment-icon-container">\r\n                <i class="fv__ui-commentlist-comment-icon"></i>\r\n            </div>\r\n            <div class="fv__ui-commentlist-comment-summary-head">\r\n                <span class="fv__ui-commentlist-comment-title"></span>\r\n                <span class="fv__ui-commentlist-comment-time"><span class="font10"></span></span>\r\n                <div class="fv__ui-commentlist-comment-menus">\r\n                    <label class="check-box-wrapper purple fv__ui-hide">\r\n                        <input id="check-mark-input" name="comment-state-check-mark" type="checkbox" class="fv__ui-commentlist-comment-check-mark checkbox-input"/>\r\n                        <span class="checkbox-inner"></span>\r\n                    </label>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="fv__ui-commentlist-comment-body">\r\n            <div class="fv__ui-commentlist-comment-content">\r\n                <div class="fv__ui-commentlist-comment-message">\r\n                </div>\r\n                <div class="fv__ui-commentlist-comment-no-content">\r\n                    <span data-i18n="sidebar.commentlist.card.add-content"></span>\r\n                </div>\r\n                <ul class="fv__ui-commentlist-comment-status-list">\r\n                    <li status="accepted" data-i18n="[title]sidebar.commentlist.states.accepted">\r\n                        <i class="fv__icon-comment-state-accepted"></i>\r\n                        <span class="font10">(<span role="count">0</span>)</span>\r\n                    </li>\r\n                    <li status="rejected" data-i18n="[title]sidebar.commentlist.states.rejected">\r\n                        <i class="fv__icon-comment-state-regected"></i>\r\n                        <span class="font10">(<span role="count">0</span>)</span>\r\n                    </li>\r\n                    <li status="cancelled" data-i18n="[title]sidebar.commentlist.states.cancelled">\r\n                        <i class="fv__icon-comment-state-cancelled"></i>\r\n                        <span class="font10">(<span role="count">0</span>)</span>\r\n                    </li>\r\n                    <li status="completed" data-i18n="[title]sidebar.commentlist.states.completed">\r\n                        <i class="fv__icon-comment-state-completed"></i>\r\n                        <span class="font10">(<span role="count">0</span>)</span>\r\n                    </li>\r\n                    <li status="deferred" data-i18n="[title]sidebar.commentlist.states.deferred">\r\n                        <i class="fv__icon-comment-state-deferred"></i>\r\n                        <span class="font10">(<span role="count">0</span>)</span>\r\n                    </li>\r\n                    <li status="future" data-i18n="[title]sidebar.commentlist.states.future">\r\n                        <i class="fv__icon-comment-state-future"></i>\r\n                        <span class="font10">(<span role="count">0</span>)</span>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="fv__ui-commentlist-comment-editor">\r\n        <div class="fv__ui-commentlist-comment-editor-area">\r\n            <div contenteditable class="fv__ui-commentlist-editor"></div>\r\n        </div>\r\n        <div class="fv__ui-commentlist-comment-tools">\r\n            <a href="javascript:void(0)" class="fv__ui-commentlist-btn" action="publish" data-i18n="sidebar.commentlist.card.publishbtn"></a>\r\n        </div>\r\n    </div>\r\n    <div class="fv__ui-commentlist-replies"></div>\r\n    <div class="fv__ui-commentlist-add-reply">\r\n        <div class="fv__ui-commentlist-reply-editor">\r\n            <div contenteditable class="fv__ui-commentlist-editor" data-i18n="[placeholder]sidebar.commentlist.card.add-reply"></div>\r\n        </div>\r\n        <div class="fv__ui-commentlist-comment-tools">\r\n            <a href="javascript:void(0)" class="fv__ui-commentlist-btn" action="add-reply" data-i18n="sidebar.commentlist.card.publishbtn"></a>\r\n        </div>\r\n    </div>\r\n</div>'}},function(e,t,n){n(2);e.exports=function(e){"use strict";e=e||{};return'<div class="fv__ui-commentlist-reply-inner">\r\n    <div class="fv__ui-commentlist-reply-handler">\r\n        <div class="fv__ui-commentlist-reply-header">\r\n            <span class="fv__ui-commentlist-reply-title" role="reply-title"></span>\r\n            <span class="fv__ui-commentlist-reply-time"><span class="font10" role="reply-time"></span></span>\r\n            <div class="fv__ui-commentlist-reply-menu">\r\n                <label class="check-box-wrapper purple fv__ui-hide">\r\n                    <input id="check-mark-input" name="comment-state-check-mark" type="checkbox" class="fv__ui-commentlist-reply-check-mark checkbox-input"/>\r\n                    <span class="checkbox-inner"></span>\r\n                </label>\r\n            </div>\r\n        </div>\r\n        <div class="fv__ui-commentlist-reply-content">\r\n            <div class="fv__ui-commentlist-reply-message"></div>\r\n\r\n            <ul class="fv__ui-commentlist-comment-status-list">\r\n                <li status="accepted" data-i18n="[title]sidebar.commentlist.states.accepted">\r\n                    <i class="fv__icon-comment-state-accepted"></i>\r\n                    <span class="font10">(<span role="count">0</span>)</span>\r\n                </li>\r\n                <li status="rejected" data-i18n="[title]sidebar.commentlist.states.rejected">\r\n                    <i class="fv__icon-comment-state-regected"></i>\r\n                    <span class="font10">(<span role="count">0</span>)</span>\r\n                </li>\r\n                <li status="cancelled" data-i18n="[title]sidebar.commentlist.states.cancelled">\r\n                    <i class="fv__icon-comment-state-cancelled"></i>\r\n                    <span class="font10">(<span role="count">0</span>)</span>\r\n                </li>\r\n                <li status="completed" data-i18n="[title]sidebar.commentlist.states.completed">\r\n                    <i class="fv__icon-comment-state-completed"></i>\r\n                    <span class="font10">(<span role="count">0</span>)</span>\r\n                </li>\r\n                <li status="deferred" data-i18n="[title]sidebar.commentlist.states.deferred">\r\n                    <i class="fv__icon-comment-state-deferred"></i>\r\n                    <span class="font10">(<span role="count">0</span>)</span>\r\n                </li>\r\n                <li status="future" data-i18n="[title]sidebar.commentlist.states.future">\r\n                    <i class="fv__icon-comment-state-future"></i>\r\n                    <span class="font10">(<span role="count">0</span>)</span>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n    <div class="fv__ui-commentlist-reply-edit">\r\n        <div class="fv__ui-commantlist-reply-editor">\r\n            <div contenteditable class="fv__ui-commentlist-editor"></div>\r\n        </div>\r\n        <div class="fv__ui-commentlist-tools">\r\n            <a href="javascript:void(0)" class="fv__ui-commentlist-btn" action="edit-reply" data-i18n="sidebar.commentlist.card.publishbtn"></a>\r\n        </div>\r\n    </div>\r\n</div>','<div class="fv__ui-commentlist-reply-inner">\r\n    <div class="fv__ui-commentlist-reply-handler">\r\n        <div class="fv__ui-commentlist-reply-header">\r\n            <span class="fv__ui-commentlist-reply-title" role="reply-title"></span>\r\n            <span class="fv__ui-commentlist-reply-time"><span class="font10" role="reply-time"></span></span>\r\n            <div class="fv__ui-commentlist-reply-menu">\r\n                <label class="check-box-wrapper purple fv__ui-hide">\r\n                    <input id="check-mark-input" name="comment-state-check-mark" type="checkbox" class="fv__ui-commentlist-reply-check-mark checkbox-input"/>\r\n                    <span class="checkbox-inner"></span>\r\n                </label>\r\n            </div>\r\n        </div>\r\n        <div class="fv__ui-commentlist-reply-content">\r\n            <div class="fv__ui-commentlist-reply-message"></div>\r\n\r\n            <ul class="fv__ui-commentlist-comment-status-list">\r\n                <li status="accepted" data-i18n="[title]sidebar.commentlist.states.accepted">\r\n                    <i class="fv__icon-comment-state-accepted"></i>\r\n                    <span class="font10">(<span role="count">0</span>)</span>\r\n                </li>\r\n                <li status="rejected" data-i18n="[title]sidebar.commentlist.states.rejected">\r\n                    <i class="fv__icon-comment-state-regected"></i>\r\n                    <span class="font10">(<span role="count">0</span>)</span>\r\n                </li>\r\n                <li status="cancelled" data-i18n="[title]sidebar.commentlist.states.cancelled">\r\n                    <i class="fv__icon-comment-state-cancelled"></i>\r\n                    <span class="font10">(<span role="count">0</span>)</span>\r\n                </li>\r\n                <li status="completed" data-i18n="[title]sidebar.commentlist.states.completed">\r\n                    <i class="fv__icon-comment-state-completed"></i>\r\n                    <span class="font10">(<span role="count">0</span>)</span>\r\n                </li>\r\n                <li status="deferred" data-i18n="[title]sidebar.commentlist.states.deferred">\r\n                    <i class="fv__icon-comment-state-deferred"></i>\r\n                    <span class="font10">(<span role="count">0</span>)</span>\r\n                </li>\r\n                <li status="future" data-i18n="[title]sidebar.commentlist.states.future">\r\n                    <i class="fv__icon-comment-state-future"></i>\r\n                    <span class="font10">(<span role="count">0</span>)</span>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n    <div class="fv__ui-commentlist-reply-edit">\r\n        <div class="fv__ui-commantlist-reply-editor">\r\n            <div contenteditable class="fv__ui-commentlist-editor"></div>\r\n        </div>\r\n        <div class="fv__ui-commentlist-tools">\r\n            <a href="javascript:void(0)" class="fv__ui-commentlist-btn" action="edit-reply" data-i18n="sidebar.commentlist.card.publishbtn"></a>\r\n        </div>\r\n    </div>\r\n</div>'}},function(e,t,n){n(2);e.exports=function(e){"use strict";e=e||{};return'<dropdown separate="false" class="fv__ui-commentlist-comment-item-menu" name="comment-item-menu" icon-class="fv__icon-sidebar-more" @permission="32" @controller="comment-list:CommentDropdownMenuController as cdmc" @single-active=\'comment-list-dropdown-menu\'>\r\n    <dropdown-button name="copy-comment-text-menu" icon-class="fv__icon-comment-item-menu-copy" @on.click="cdmc.copyText()">sidebar.commentlist.comment-dropdown.copy-text</dropdown-button>\r\n    <dropdown-button name="edit-comment-menu" icon-class="fv__icon-comment-item-menu-edit" @on.click="cdmc.editText()">sidebar.commentlist.comment-dropdown.edit-text</dropdown-button>\r\n    <dropdown-button name="delete-comment-menu" icon-class="fv__icon-comment-item-menu-delete" @on.click="cdmc.deleteComment()" @bind.disable="disableDeleteMenu">sidebar.commentlist.comment-dropdown.delete</dropdown-button>\r\n    <dropdown-button class="fv__ui-force-hide" name="add-check-mark" icon-class="fv__icon-comment-item-menu-unchecked" @on.click="cdmc.addCheckMark()">sidebar.commentlist.comment-dropdown.check-marked</dropdown-button>\r\n    <dropdown-button class="fv__ui-force-hide" name="cancel-check-mark" icon-class="fv__icon-comment-item-menu-checked" @on.click="cdmc.cancelCheckMark()">sidebar.commentlist.comment-dropdown.remove-marked</dropdown-button>\r\n    <dropdown-item class="fv__ui-dropdown-container-item">\r\n        <dropdown separate="false" align="out-right" valign="top" @controller="comment-list:CommentStatesController as csc" icon-class="fv__icon-comment-item-menu-settings" name="comment-item-status-menu" text="sidebar.commentlist.comment-dropdown.set-states">\r\n            <dropdown-button @on.click="csc.setState(annot, \'none\')" icon-class="fv__icon-comment-state-menu-none">sidebar.commentlist.states.none</dropdown-button>\r\n            <dropdown-button @on.click="csc.setState(annot, \'accepted\')" icon-class="fv__icon-comment-state-menu-accepted">sidebar.commentlist.states.accepted</dropdown-button>\r\n            <dropdown-button @on.click="csc.setState(annot, \'rejected\')" icon-class="fv__icon-comment-state-menu-regected">sidebar.commentlist.states.rejected</dropdown-button>\r\n            <dropdown-button @on.click="csc.setState(annot, \'cancelled\')" icon-class="fv__icon-comment-state-menu-cancelled">sidebar.commentlist.states.cancelled</dropdown-button>\r\n            <dropdown-button @on.click="csc.setState(annot, \'completed\')" icon-class="fv__icon-comment-state-menu-completed">sidebar.commentlist.states.completed</dropdown-button>\r\n            \x3c!-- <dropdown-button icon-class="fv__icon-comment-state-menu-deferred" @on.click="setState(annot, \'deferred\')">Deferred</dropdown-button>\r\n            <dropdown-button icon-class="fv__icon-comment-state-menu-future" @on.click="setState(annot, \'future\')">Future</dropdown-button> --\x3e\r\n        </dropdown>\r\n    </dropdown-item>\r\n</dropdown>','<dropdown separate="false" class="fv__ui-commentlist-comment-item-menu" name="comment-item-menu" icon-class="fv__icon-sidebar-more" @permission="32" @controller="comment-list:CommentDropdownMenuController as cdmc" @single-active=\'comment-list-dropdown-menu\'>\r\n    <dropdown-button name="copy-comment-text-menu" icon-class="fv__icon-comment-item-menu-copy" @on.click="cdmc.copyText()">sidebar.commentlist.comment-dropdown.copy-text</dropdown-button>\r\n    <dropdown-button name="edit-comment-menu" icon-class="fv__icon-comment-item-menu-edit" @on.click="cdmc.editText()">sidebar.commentlist.comment-dropdown.edit-text</dropdown-button>\r\n    <dropdown-button name="delete-comment-menu" icon-class="fv__icon-comment-item-menu-delete" @on.click="cdmc.deleteComment()" @bind.disable="disableDeleteMenu">sidebar.commentlist.comment-dropdown.delete</dropdown-button>\r\n    <dropdown-button class="fv__ui-force-hide" name="add-check-mark" icon-class="fv__icon-comment-item-menu-unchecked" @on.click="cdmc.addCheckMark()">sidebar.commentlist.comment-dropdown.check-marked</dropdown-button>\r\n    <dropdown-button class="fv__ui-force-hide" name="cancel-check-mark" icon-class="fv__icon-comment-item-menu-checked" @on.click="cdmc.cancelCheckMark()">sidebar.commentlist.comment-dropdown.remove-marked</dropdown-button>\r\n    <dropdown-item class="fv__ui-dropdown-container-item">\r\n        <dropdown separate="false" align="out-right" valign="top" @controller="comment-list:CommentStatesController as csc" icon-class="fv__icon-comment-item-menu-settings" name="comment-item-status-menu" text="sidebar.commentlist.comment-dropdown.set-states">\r\n            <dropdown-button @on.click="csc.setState(annot, \'none\')" icon-class="fv__icon-comment-state-menu-none">sidebar.commentlist.states.none</dropdown-button>\r\n            <dropdown-button @on.click="csc.setState(annot, \'accepted\')" icon-class="fv__icon-comment-state-menu-accepted">sidebar.commentlist.states.accepted</dropdown-button>\r\n            <dropdown-button @on.click="csc.setState(annot, \'rejected\')" icon-class="fv__icon-comment-state-menu-regected">sidebar.commentlist.states.rejected</dropdown-button>\r\n            <dropdown-button @on.click="csc.setState(annot, \'cancelled\')" icon-class="fv__icon-comment-state-menu-cancelled">sidebar.commentlist.states.cancelled</dropdown-button>\r\n            <dropdown-button @on.click="csc.setState(annot, \'completed\')" icon-class="fv__icon-comment-state-menu-completed">sidebar.commentlist.states.completed</dropdown-button>\r\n            \x3c!-- <dropdown-button icon-class="fv__icon-comment-state-menu-deferred" @on.click="setState(annot, \'deferred\')">Deferred</dropdown-button>\r\n            <dropdown-button icon-class="fv__icon-comment-state-menu-future" @on.click="setState(annot, \'future\')">Future</dropdown-button> --\x3e\r\n        </dropdown>\r\n    </dropdown-item>\r\n</dropdown>'}},function(e,t,n){n(2);e.exports=function(e){"use strict";e=e||{};return'<dropdown separate="false" name="reply-item-menu" class="fv__ui-commentlist-comment-reply-menu" icon-class="fv__icon-sidebar-more" @controller="comment-list:ReplyDropdownMenuController as rdmc" @single-active=\'comment-list-dropdown-menu\'>\r\n    <dropdown-button name="commentlist-reply-menu-copy" icon-class="fv__icon-comment-item-menu-copy" @on.click="rdmc.copyText(replyItem)">sidebar.commentlist.comment-dropdown.copy-text</dropdown-button>\r\n    <dropdown-button name="commentlist-reply-menu-edit" icon-class="fv__icon-comment-item-menu-edit" @on.click="rdmc.editText()">sidebar.commentlist.comment-dropdown.edit-text</dropdown-button>\r\n    <dropdown-button name="commentlist-reply-menu-delete" icon-class="fv__icon-comment-item-menu-delete" @on.click="rdmc.deleteReply(replyItem)" @bind.disable="disableDeleteMenu">sidebar.commentlist.comment-dropdown.delete</dropdown-button>\r\n    <dropdown-button class="fv__ui-force-hide" name="add-check-mark" icon-class="fv__icon-comment-item-menu-unchecked" @on.click="rdmc.addCheckMark()">sidebar.commentlist.comment-dropdown.check-marked</dropdown-button>\r\n    <dropdown-button class="fv__ui-force-hide" name="cancel-check-mark" icon-class="fv__icon-comment-item-menu-checked" @on.click="rdmc.cancelCheckMark()">sidebar.commentlist.comment-dropdown.remove-marked</dropdown-button>\r\n    <dropdown-item>\r\n        <dropdown separate="false" @controller="comment-list:CommentStatesController as csc" name="comment-item-status-menu" text="sidebar.commentlist.comment-dropdown.set-states" icon-class="fv__icon-comment-item-menu-settings">\r\n            <dropdown-button @on.click="csc.setState(replyItem.annot, \'none\')" icon-class="fv__icon-comment-state-menu-none">sidebar.commentlist.states.none</dropdown-button>\r\n            <dropdown-button @on.click="csc.setState(replyItem.annot, \'accepted\')" icon-class="fv__icon-comment-state-menu-accepted">sidebar.commentlist.states.accepted</dropdown-button>\r\n            <dropdown-button @on.click="csc.setState(replyItem.annot, \'rejected\')" icon-class="fv__icon-comment-state-menu-regected">sidebar.commentlist.states.rejected</dropdown-button>\r\n            <dropdown-button @on.click="csc.setState(replyItem.annot, \'cancelled\')" icon-class="fv__icon-comment-state-menu-cancelled">sidebar.commentlist.states.cancelled</dropdown-button>\r\n            <dropdown-button @on.click="csc.setState(replyItem.annot, \'completed\')" icon-class="fv__icon-comment-state-menu-completed">sidebar.commentlist.states.completed</dropdown-button>\r\n            \x3c!-- <dropdown-button icon-class="fv__icon-comment-state-menu-deferred" @on.click="setState(replyItem.annot, \'deferred\')">Deferred</dropdown-button>\r\n            <dropdown-button icon-class="fv__icon-comment-state-menu-future" @on.click="setState(replyItem.annot, \'future\')">Future</dropdown-button> --\x3e\r\n        </dropdown>\r\n    </dropdown-item>\r\n</dropdown>','<dropdown separate="false" name="reply-item-menu" class="fv__ui-commentlist-comment-reply-menu" icon-class="fv__icon-sidebar-more" @controller="comment-list:ReplyDropdownMenuController as rdmc" @single-active=\'comment-list-dropdown-menu\'>\r\n    <dropdown-button name="commentlist-reply-menu-copy" icon-class="fv__icon-comment-item-menu-copy" @on.click="rdmc.copyText(replyItem)">sidebar.commentlist.comment-dropdown.copy-text</dropdown-button>\r\n    <dropdown-button name="commentlist-reply-menu-edit" icon-class="fv__icon-comment-item-menu-edit" @on.click="rdmc.editText()">sidebar.commentlist.comment-dropdown.edit-text</dropdown-button>\r\n    <dropdown-button name="commentlist-reply-menu-delete" icon-class="fv__icon-comment-item-menu-delete" @on.click="rdmc.deleteReply(replyItem)" @bind.disable="disableDeleteMenu">sidebar.commentlist.comment-dropdown.delete</dropdown-button>\r\n    <dropdown-button class="fv__ui-force-hide" name="add-check-mark" icon-class="fv__icon-comment-item-menu-unchecked" @on.click="rdmc.addCheckMark()">sidebar.commentlist.comment-dropdown.check-marked</dropdown-button>\r\n    <dropdown-button class="fv__ui-force-hide" name="cancel-check-mark" icon-class="fv__icon-comment-item-menu-checked" @on.click="rdmc.cancelCheckMark()">sidebar.commentlist.comment-dropdown.remove-marked</dropdown-button>\r\n    <dropdown-item>\r\n        <dropdown separate="false" @controller="comment-list:CommentStatesController as csc" name="comment-item-status-menu" text="sidebar.commentlist.comment-dropdown.set-states" icon-class="fv__icon-comment-item-menu-settings">\r\n            <dropdown-button @on.click="csc.setState(replyItem.annot, \'none\')" icon-class="fv__icon-comment-state-menu-none">sidebar.commentlist.states.none</dropdown-button>\r\n            <dropdown-button @on.click="csc.setState(replyItem.annot, \'accepted\')" icon-class="fv__icon-comment-state-menu-accepted">sidebar.commentlist.states.accepted</dropdown-button>\r\n            <dropdown-button @on.click="csc.setState(replyItem.annot, \'rejected\')" icon-class="fv__icon-comment-state-menu-regected">sidebar.commentlist.states.rejected</dropdown-button>\r\n            <dropdown-button @on.click="csc.setState(replyItem.annot, \'cancelled\')" icon-class="fv__icon-comment-state-menu-cancelled">sidebar.commentlist.states.cancelled</dropdown-button>\r\n            <dropdown-button @on.click="csc.setState(replyItem.annot, \'completed\')" icon-class="fv__icon-comment-state-menu-completed">sidebar.commentlist.states.completed</dropdown-button>\r\n            \x3c!-- <dropdown-button icon-class="fv__icon-comment-state-menu-deferred" @on.click="setState(replyItem.annot, \'deferred\')">Deferred</dropdown-button>\r\n            <dropdown-button icon-class="fv__icon-comment-state-menu-future" @on.click="setState(replyItem.annot, \'future\')">Future</dropdown-button> --\x3e\r\n        </dropdown>\r\n    </dropdown-item>\r\n</dropdown>'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(222)),r=i(n(10));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var s=function(e){function t(n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r));return i.pageNumber="",i.annotationCount=0,i}return a(t,e),t.getName=function(){return"comment-group"},t.prototype.setPageData=function(e,t){this.pageNumber=e,this.annotationCount=t,this.updateTitle(),0===this.annotationCount?this.element.classList.add("fv__ui-commentlist-group-hide"):this.element.classList.remove("fv__ui-commentlist-group-hide")},t.prototype.setPageNumber=function(e){this.pageNumber=e,this.updateTitle()},t.prototype.updateTitle=function(){this.titleElement.setAttribute("i18n-options",JSON.stringify({pageNumber:this.pageNumber})),this.renderCountText(this.annotationCount),this.localizer.localizeElement(this.titleElement)},t.prototype.renderCountText=function(e){this.countElement.innerText=e>999?"999+":e},t.prototype.render=function(){e.prototype.render.call(this),this.titleElement.setAttribute("data-i18n","sidebar.commentlist.page-title"),this.element.classList.add("fv__ui-commentlist-group-hide");var t=document.createElement("span");t.classList.add("fv__ui-commentlist-group-count"),this.headerElement.appendChild(t),this.countElement=t,this.element.classList.add("fv__ui-commentlist-group")},t.prototype.mounted=function(){e.prototype.mounted.call(this),this.getPDFUI().eventEmitter.emit(r.default.appendCommentListGroup,this)},t.prototype.doDestroy=function(){e.prototype.doDestroy.call(this),this.getPDFUI().eventEmitter.emit(r.default.destroyCommentListGroup,this)},t}(o.default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(222)),r=i(n(10));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var s={ink:"pencil",redact:"redact",text:"note",freetext:"typewriter"},c=function(e){function t(n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r));return i.controller,i.groupType="",i.pageNumber="",i.annotationCount=0,i}return a(t,e),t.getName=function(){return"comment-group-ex"},t.prototype.setGroupData=function(e,t,n){this.groupType=e,this.pageNumber=t,this.annotationCount=n,this.updateTitle(),0===this.annotationCount?this.element.classList.add("fv__ui-commentlist-group-hide"):this.element.classList.remove("fv__ui-commentlist-group-hide")},t.prototype.setPageNumber=function(e){this.pageNumber=e,this.updateTitle()},t.prototype.updateTitle=function(){var e="";switch(this.controller.actionType){case"page":this.titleElement.setAttribute("data-i18n","sidebar.commentlist.page-title"),this.titleElement.setAttribute("i18n-options",JSON.stringify({pageNumber:this.pageNumber}));break;case"type":var t="toolbar.tooltip."+(e=(e=s[this.groupType])||this.groupType)+".title";this.titleElement.setAttribute("data-i18n",t);break;case"date":case"author":e="none"!==this.groupType?this.groupType:"sidebar.commentlist.states.none",this.titleElement.setAttribute("data-i18n",e);break;case"status":e="sidebar.commentlist.states."+this.groupType,this.titleElement.setAttribute("data-i18n",e);break;case"checkmark":e="sidebar.commentlist.marked-states."+this.groupType,this.titleElement.setAttribute("data-i18n",e)}this.renderCountText(this.annotationCount),this.localizer.localizeElement(this.titleElement)},t.prototype.renderCountText=function(e){this.countElement.innerText=e>999?"999+":e},t.prototype.render=function(){e.prototype.render.call(this),this.titleElement.setAttribute("data-i18n","sidebar.commentlist.group-title"),this.element.classList.add("fv__ui-commentlist-group-hide");var t=document.createElement("span");t.classList.add("fv__ui-commentlist-group-count"),this.headerElement.appendChild(t),this.countElement=t,this.element.classList.add("fv__ui-commentlist-group")},t.prototype.mounted=function(){e.prototype.mounted.call(this),this.getPDFUI().eventEmitter.emit(r.default.appendCommentListGroup,this)},t.prototype.doDestroy=function(){e.prototype.doDestroy.call(this),this.getPDFUI().eventEmitter.emit(r.default.destroyCommentListGroup,this)},t}(o.default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(n(1)),r=u(n(3)),i=u(n(9)),a=u(n(142)),s=n(36),c=u(n(110));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var p=i.default.getLogger("comment list"),d=function(){function e(t){f(this,e),this.info=t}return e.prototype.getIndex=function(){return this.info.index},e.prototype.getId=function(){return this.info.id},e}(),h=function(e){function t(n){f(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.data.pages=[],o.pageMap={},o.totalPageCount=-1,o.queued=new s.QueuedAsyncTaskExecutor,o}return l(t,e),t.getName=function(){return"CommentListController"},t.prototype.addPages=function(e){var t=this,n=[];e.forEach((function(e){t.pageMap[e.index]&&t.pageMap[e.index].getId()===e.id||(t.pageMap[e.index]=new d(e),n.push(e))})),0!==n.length&&(this.updatePageList(),this.digest())},t.prototype.addPage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;this.addPages([{index:e,id:t}])},t.prototype.clearPages=function(){this.pageMap={},this.data.pages=[],this.digest()},t.prototype.switchPage=function(e,t){if(e<t){for(var n=this.pageMap[e],o=e;o<t;o++)this.pageMap[o+1]?this.pageMap[o]=this.pageMap[o+1]:delete this.pageMap[o];n?this.pageMap[t]=n:delete this.pageMap[t]}else{for(var r=this.pageMap[e],i=e;i>t;i--)this.pageMap[i-1]?this.pageMap[i]=this.pageMap[i-1]:delete this.pageMap[i];r?this.pageMap[t]=r:delete this.pageMap[t]}this.updatePageList(),this.digest()},t.prototype.removePage=function(e){var t=this;delete this.pageMap[e],this.pageMap=Object.keys(this.pageMap).reduce((function(n,o){var r=Number(o),i=t.pageMap[o];return r>e&&(r-=1),n[r]=t.pageMap[o],i instanceof d&&(i.info.index=r),n}),{}),this.updatePageList(),this.digest()},t.prototype.updatePageList=function(){var e=this;this.data.pages=Object.keys(this.pageMap).map((function(t){return e.pageMap[t]})).sort((function(e,t){return e.getIndex()>t.getIndex()?1:-1}))},t.prototype.refreshPageIndex=function(){var e=this;this.pageMap=Object.keys(this.pageMap).map((function(t){return e.pageMap[t]})).reduce((function(e,t){return e[t.getIndex()]=t,e}),{}),this.updatePageList()},t.prototype.isAllPagesLoaded=function(){return this.data.pages.length===this.totalPageCount},t.prototype.loadMorePages=function(e){var t=this,n=this.totalPageCount;return n<=0||!(e>0)?Promise.resolve():this.queued.exec((function(){var o=t.data.pages.map((function(e){return e.getIndex()})),r=Math.min.apply(Math,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(o));return t.getPDFUI().getCurrentPDFDoc().then((function(t){for(var i=[];e>0&&r<n;)-1===o.indexOf(r)&&(e--,i.push(t.getPageByIndex(r).then((function(e){return{index:e.getIndex(),id:e.getId()}})))),r++;return Promise.all(i)})).then((function(e){t.addPages(e)}))}))},t.prototype.loadAllPages=function(){return this.loadMorePages(this.totalPageCount)},t.prototype.getLoadedPages=function(){return this.data.pages},t.prototype.mounted=function(){var e=this,t=this.getPDFUI(),n=this.component.getClosestComponentByType(a.default.getName()).isLazy;this.addDestroyHook(t.addViewerEventListener(o.default.openFileSuccess,(function(t){var o=t.getPageCount();e.totalPageCount=o,e.clearPages(),n||Promise.all(Array(o).fill(0).map((function(e,n){return t.getPageByIndex(n).then((function(e){return{index:e.getIndex(),id:e.getId()}}))}))).then((function(t){e.addPages(t)}))})),t.addViewerEventListener(o.default.renderPageSuccess,(function(t){e.refreshPageIndex();var n=t.page,o=t.docRender,r=n.getIndex(),i=Object.keys(e.pageMap).map((function(e){return Number(e)}));-1===i.indexOf(r)&&i.push(r),Promise.all(i.map((function(e){return o.doc.getPageByIndex(e)}))).then((function(t){e.addPages(t.map((function(e){return{index:e.getIndex(),id:e.getId()}})))}))})),t.addViewerEventListener(o.default.beforeOpenFile,(function(){e.clearPages(),e.totalPageCount=-1})),t.addViewerEventListener(o.default.pageMoved,(function(t,n){e.switchPage(t,n),p.debug("page moved",Object.assign({},e.pageMap))})),t.addViewerEventListener(o.default.pagesMoved,(function(t,n){var o=(0,c.default)(t).sort((function(e,t){return t-e})),r=o.filter((function(e){return e<n})),i=o.filter((function(e){return e>n}));r.forEach((function(t){e.switchPage(t,n)})),i.reverse().forEach((function(t){e.switchPage(t,n)})),p.debug("pages moved",Object.assign({},e.pageMap))})),t.addViewerEventListener(o.default.pageAdded,(function(t){e.refreshPageIndex(),e.addPage(t.getIndex(),t.getId()),p.debug("page added",Object.assign({},e.pageMap))})),pdfUi.addViewerEventListener(o.default.insertPages,(function(t){e.refreshPageIndex(),t.forEach((function(t){e.addPage(t.getIndex(),t.getId())})),p.debug("pages inserted",Object.assign({},e.pageMap))})),t.addViewerEventListener(o.default.pageRemoved,(function(t){e.removePage(t),p.debug("page removed",Object.assign({},e.pageMap))})),t.addViewerEventListener(o.default.pagesRemoved,(function(t){(0,c.default)(t).sort((function(e,t){return e-t})).forEach((function(t){e.removePage(t)})),p.debug("pages removed",Object.assign({},e.pageMap))})),t.addViewerEventListener(o.default.willCloseDocument,(function(){e.clearPages(),e.totalPageCount=-1})),this.component.on("selectCommentItem",(function(t){e._activeAnnot(t.controller.data.annot)})),this.component.on("selectCommentReply",(function(t){e._activeAnnot(t.parent.controller.data.annot)})),t.addViewerEventListener(o.default.flattened,(function(t){e.removePage(t)})))},t.prototype.selectComponent=function(e){this.component.selectComponent(e)},t.prototype._activeAnnot=function(e){var t=this,n=e.getPDFPage().getIndex();this.getPDFUI().getPDFViewer().then((function(t){if(!t.getPDFDocRender().getUserPermission().checkCannotModifyExcludeAssemble()){var o=t.getPDFPageRender(n);return o.getAnnotRender(e.getId())?o:o.render().then((function(e){return o}))}})).then((function(n){if(n){var o=n.getAnnotRender(e.getId());if(!o.component.isActive){n.annotsRender.activeAnnot(e.getId());var r=o.component.$ui.get(0),i=t.detectElementInView(r),a=i.horizontalInView,s=i.verticalInView;if(!a||!s){var c=function(){var e=r.closest(".fv__ui-pdfviewer").getBoundingClientRect(),t=o.component.getRect(),i=Math.max(0,(t.top+t.bottom-e.height)/2),a=Math.max(0,(t.left+t.right-e.width)/2);n.viewerRender.goToPage(n.index,i,a,!1)};0===r.getClientRects().length?n.viewerRender.goToPage(n.index).then(c):c()}}}}))},t.prototype.detectElementInView=function(e){var t=e.closest(".fv__ui-pdfviewer");if(!t)return{horizontalInView:!1,verticalInView:!1};var n=t.getBoundingClientRect(),o=e.getBoundingClientRect();return{horizontalInView:o.left>n.left&&o.right<n.right,verticalInView:o.top>n.top&&o.bottom<n.bottom}},t}(r.default);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=p(n(1)),r=(p(n(10)),p(n(3))),i=p(n(9)),a=p(n(205)),s=p(n(142)),c=n(36),u=n(18),l=p(n(561)),f=p(n(110));function p(e){return e&&e.__esModule?e:{default:e}}function d(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var m=i.default.getLogger("comment list"),v=function(){function e(t){g(this,e),this.info=t}return e.prototype.getIndex=function(){return this.info.index},e.prototype.getId=function(){return this.info.id},e}(),y=function(e){function t(n){g(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));o.data.pages=[],o.data.annotsGroup=[],o.data.pageMapById={},o.data.pageMapByIndex={},o.data.annotsMapByPageId={},o.actionType="page",o.pageMap={},o.totalPageCount=-1,o.queued=new c.QueuedAsyncTaskExecutor,o.annotationTasks={},o.addDestroyHook((function(){o.cleanAnnotsTasks()}));var r=o.getComponentByName("commentlist-sort-comment");return r&&r.controller&&(o.actionType=r.controller.action),o.commentListPanel=o.getComponentByName(l.default.COMMENT_LIST_SIDEBAR_PANEL),o}return h(t,e),t.getName=function(){return"CommentListExController"},t.prototype.cleanAnnotTask=function(e){var t=this.annotationTasks[e];t&&(t.destroy(),delete this.annotationTasks[e])},t.prototype.cleanAnnotsTasks=function(){var e=this;Object.keys(this.annotationTasks).forEach((function(t){e.annotationTasks[t].destroy()})),this.annotationTasks={}},t.prototype.applyAnnotationFlagChange=function(){},t.prototype.loadAnnots=function(e){var t=this;return this.getPDFUI().getCurrentPDFDoc().then((function(n){return n?n.getPageAnnots(e).then((function(e){return t._filterAnnotationData(e)})):null}))},t.prototype.isDestroyedPage=function(e){return void 0===this.data.pageMapById[e]},t.prototype._sortPage=function(){var e=this;return Object.keys(this.data.annotsMapByPageId).map((function(t){var n=e.data.pageMapById[t];return{pageId:t,index:n.getIndex(),page:n}})).sort((function(e,t){return e.index>t.index?1:-1}))},t.prototype._sortAnnotsByPage=function(){var e=this,t=this._sortPage(),n=[];return t.forEach((function(t){var o=t.pageId,r=t.page,i=t.index,a=e.data.annotsMapByPageId[o];a&&0!==a.length&&n.push({type:"page",index:i,page:r,annots:a})})),n},t.prototype._sortAnnotsByType=function(){var e=this,t=this._sortPage(),n={};return t.forEach((function(t){var o=t.pageId;e.data.annotsMapByPageId[o].forEach((function(e){if(!e.info.isDeleted){var t=e.getType(),o=n[t]||[];o.push(e),n[t]=o}}))})),Object.keys(n).sort().map((function(e){return{type:"type",index:e,annotType:e,annots:n[e]}}))},t.prototype._sortAnnotsByAuthor=function(){var e=this,t=this._sortPage(),n={};return t.forEach((function(t){var o=t.pageId;e.data.annotsMapByPageId[o].forEach((function(e){if(!e.info.isDeleted){var t=e.getTitle()||"none",o=n[t]||[];o.push(e),n[t]=o}}))})),Object.keys(n).sort().map((function(e){return{type:"author",index:e,annotType:e,annots:n[e]}}))},t.prototype._sortAnnotsByDate=function(){var e=this,t=this._sortPage(),n={};return t.forEach((function(t){var o=t.pageId;e.data.annotsMapByPageId[o].forEach((function(e){if(!e.info.isDeleted){var t=e.getModifiedDateTime(),o=t?(0,a.default)(t,"yyyy/MM/dd",""):"none",r=n[o]||[];r.push(e),n[o]=r}}))})),Object.keys(n).sort().map((function(e){return{type:"date",index:e,annotType:e,annots:n[e]}}))},t.prototype._processStateData=function(e){var t=e.reduce((function(e,t){var n=t.getTitle(),o=e[n];return o?o.getModifiedDateTime()<=t.getModifiedDateTime()&&(e[n]=t):e[n]=t,e}),{});return Object.keys(t).map((function(e){return t[e]}))},t.prototype._sortAnnotsByStatus=function(){var e=this,t=this._sortPage(),n=[],o={};return t.forEach((function(t){var n=t.pageId;e.data.annotsMapByPageId[n].forEach((function(t){if(!t.info.isDeleted){var n=t.getReviewStates(),r=e._processStateData(n),i=null;r&&r.length>0&&(i=r.map((function(e){return e.getState()})).sort());var a=i&&i[0]?i[0]:"none",s=o[a]||[];s.push(t),o[a]=s}}))})),Object.keys(o).sort((function(e,t){return"accepted"===e?-1:"accepted"===t?1:"completed"===e?-1:"completed"===t?1:e.localeCompare(t)})).forEach((function(e){var t=o[e];t&&n.push({type:"status",index:e,annotType:e,annots:t})})),n},t.prototype._sortAnnotsByMarked=function(){var e=this,t=this._sortPage(),n={};return t.forEach((function(t){var o=t.pageId;e.data.annotsMapByPageId[o].forEach((function(e){if(!e.info.isDeleted){var t=e.getMarkedStates(),o=t&&t.length>0&&"marked"===t.slice(-1)[0].getState()?"marked":"unmarked",r=n[o]||[];r.push(e),n[o]=r}}))})),Object.keys(n).sort().map((function(e){return{type:"checkmark",index:e,annotType:e,annots:n[e]}}))},t.prototype.sortAnnots=function(){switch(this.data.annotsGroup=[],this.actionType){case"page":this.data.annotsGroup=this._sortAnnotsByPage();break;case"type":this.data.annotsGroup=this._sortAnnotsByType();break;case"date":this.data.annotsGroup=this._sortAnnotsByDate();break;case"author":this.data.annotsGroup=this._sortAnnotsByAuthor();break;case"status":this.data.annotsGroup=this._sortAnnotsByStatus();break;case"checkmark":this.data.annotsGroup=this._sortAnnotsByMarked()}return this.data.annotsGroup},t.prototype._updateAnnotsData=function(e){var t=e.pageId,n=e.annots;this.data.annotsMapByPageId[t]=n,this.sortAnnots()},t.prototype.updateAnnotationsByPage=function(e){var t=this;this.commentListPanel.isActive||this.addPage(e.getIndex(),e.getId());var n=e.getId(),o=e.getIndex(),r=this.annotationTasks[n];return r||(r=this.annotationTasks[n]=new u.DebounceAsyncTaskExecutor),r.exec((function(){t.isDestroyedPage(n)||t.loadAnnots(o).then((function(e){null!==e&&(t._updateAnnotsData({pageId:n,pageIndex:o,annots:e}),t.updateSubItem())}))}))},t.prototype._filterAnnotationData=function(e){e=e.filter((function(e){return e.isMarkup()&&!("popup"===e.getType())&&!function(e){return"widget"===e}(e.getType())&&e.getReplies&&(!e.isStateAnnot||!e.isStateAnnot())}));var t=[],n=[];e.forEach((function(e){var o=e.getReplies();t.push.apply(t,d(o)),t.forEach((function e(n){if(n&&n.getReplies){var o=n.getReplies();t.push.apply(t,d(o)),o.forEach(e)}})),n.push.apply(n,d(e.getReviewStates())),n.push.apply(n,d(e.getMarkedStates()))}));var o=e.filter((function(e){return-1===t.indexOf(e)&&-1===n.indexOf(e)}));return o.forEach((function(e,t){if("Replace"===e.getIntent()||e.isReplace&&e.isReplace()){var n=void 0;e.groupElements.forEach((function(t){if("caret"==t.getType()&&(n=t),t!==e){var r=o.indexOf(t);r>-1&&o.splice(r,1)}})),o[t]=n}})),o},t.prototype.udpatePageMap=function(){var e=this;this.data.pageMapById={},this.data.pageMapByIndex={},Object.keys(this.pageMap).forEach((function(t){var n=e.pageMap[t];e.data.pageMapById[n.getId()]=n,e.data.pageMapByIndex[n.getIndex()]=n}))},t.prototype.addPages=function(e){var t=this,n=[];e.forEach((function(e){var o=t.pageMap[e.index];if(!o||o.getId()!==e.id){var r=new v(e);t.pageMap[e.index]=r,n.push(r)}})),0!==n.length&&(this.updatePageList(),n.forEach((function(e){t.data.pageMapById[e.getId()]=e,t.data.pageMapByIndex[e.getIndex()]=e,t.updateAnnotationsByPage(e)})))},t.prototype.updateSubItem=function(){var e=this;this.digest(),this.getPDFUI().getStore().then((function(t){t.dispatch("update-comment-list-ex",e.data.annotsGroup)}))},t.prototype.addPage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments[2];if(n){var o=e;Object.keys(this.pageMap).forEach((function(e){var t=parseInt(e);t>=o&&(o=t+1)}));var r=new v({index:e,id:t});this.pageMap[o]=r,this.switchPage(o,e)}else this.addPages([{index:e,id:t}])},t.prototype.clearPages=function(){this.pageMap={},this.data.pages=[],this.data.annotsGroup=[],this.data.pageMapById={},this.data.pageMapByIndex={},this.data.annotsMapByPageId={},this.cleanAnnotsTasks(),this.digest()},t.prototype.switchPage=function(e,t){var n=this.pageMap[e];if(e<t)for(var o=e;o<t;o++){var r=this.pageMap[o+1];r?(r.info.index=o,this.pageMap[o]=r):delete this.pageMap[o]}else for(var i=e;i>t;i--){var a=this.pageMap[i-1];a?(a.info.index=i,this.pageMap[i]=a):delete this.pageMap[i]}n?(n.info.index=t,this.pageMap[t]=n):delete this.pageMap[t],this.udpatePageMap(),"page"===this.actionType&&(this.sortAnnots(),this.updateSubItem())},t.prototype.isInAnnotsMap=function(e){return void 0!==this.data.annotsMapByPageId[e]},t.prototype.removePage=function(e){var t=this;this.totalPageCount-=1;var n=this.data.pageMapByIndex[e];if(n){var o=n.getId();delete this.pageMap[e],this.pageMap=Object.keys(this.pageMap).reduce((function(n,o){var r=Number(o),i=t.pageMap[o];return r>e&&(r-=1),n[r]=t.pageMap[o],i instanceof v&&(i.info.index=r),n}),{}),this.udpatePageMap(),this.isInAnnotsMap(o)&&(delete this.data.annotsMapByPageId[o],this.sortAnnots(),this.updateSubItem())}},t.prototype.updatePageList=function(){var e=this;this.data.pages=Object.keys(this.pageMap).map((function(t){return e.pageMap[t]})).sort((function(e,t){return e.getIndex()>t.getIndex()?1:-1}))},t.prototype.refreshPageIndex=function(){var e=this;this.pageMap=Object.keys(this.pageMap).map((function(t){return e.pageMap[t]})).reduce((function(e,t){return e[t.getIndex()]=t,e}),{}),this.updatePageList()},t.prototype.isAllPagesLoaded=function(){return this.data.pages.length===this.totalPageCount},t.prototype.loadMorePages=function(e){var t=this,n=this.totalPageCount;return n<=0||!(e>0)?Promise.resolve():this.queued.exec((function(){var o=Object.keys(t.pageMap).map((function(e){return parseInt(e)})),r=Math.min.apply(Math,d(o));return t.getPDFUI().getCurrentPDFDoc().then((function(t){for(var i=[];e>0&&r<n;)-1===o.indexOf(r)&&(e--,i.push(t.getPageByIndex(r).then((function(e){return{index:e.getIndex(),id:e.getId()}})))),r++;return Promise.all(i)})).then((function(e){t.addPages(e)}))}))},t.prototype.loadAllPages=function(){return this.loadMorePages(this.totalPageCount)},t.prototype.getLoadedPages=function(){return this.data.pages},t.prototype.getLoadedGroups=function(){return this.data.annotsGroup},t.prototype.mounted=function(){var e=this;this.onDocPageEvent(),this.onAnnotEvent(),this.getPDFUI().getStore().then((function(t){t.subscribe("update-comment-list-sort-action",(function(t){e.actionType!==t&&(e.actionType=t,e.sortAnnots(),e.updateSubItem())}))}))},t.prototype.onDocPageEvent=function(){var e=this,t=this.getPDFUI(),n=this.component.getClosestComponentByType(s.default.getName()).isLazy;this.addDestroyHook(t.addViewerEventListener(o.default.renderFileSuccess,(function(t){var o=t.getPageCount();e.totalPageCount=o,n||Promise.all(Array(o).fill(0).map((function(e,n){return t.getPageByIndex(n).then((function(e){return{index:e.getIndex(),id:e.getId()}}))}))).then((function(t){e.addPages(t)}))})),t.addViewerEventListener(o.default.renderPageSuccess,(function(t){t&&e.commentListPanel.isActive&&t.getPDFPage().then((function(t){e.addPage(t.getIndex(),t.getId()),e.updateAnnotationsByPage(t)}))})),t.addViewerEventListener(o.default.beforeOpenFile,(function(){e.clearPages(),e.totalPageCount=-1})),t.addViewerEventListener(o.default.pageMoved,(function(t,n){e.switchPage(t,n),m.debug("page moved",Object.assign({},e.pageMap))})),t.addViewerEventListener(o.default.pagesMoved,(function(t,n){var o=(0,f.default)(t).sort((function(e,t){return e-t})),r=o.filter((function(e){return e<n})),i=o.filter((function(e){return e>n}));r.forEach((function(t){e.switchPage(t,n)})),i.reverse().forEach((function(t){e.switchPage(t,n)})),m.debug("pages moved",Object.assign({},e.pageMap))})),t.addViewerEventListener(o.default.pageAdded,(function(t){e.refreshPageIndex(),e.totalPageCount+=1,m.debug("page added",Object.assign({},e.pageMap))})),t.addViewerEventListener(o.default.insertPages,(function(t){e.refreshPageIndex(),e.totalPageCount+=t.length,t.forEach((function(t){e.addPage(t.getIndex(),t.getId(),!0)})),m.debug("pages inserted",Object.assign({},e.pageMap))})),t.addViewerEventListener(o.default.pageRemoved,(function(t){e.removePage(t),m.debug("page removed",Object.assign({},e.pageMap))})),t.addViewerEventListener(o.default.pagesRemoved,(function(t){(0,f.default)(t).sort((function(e,t){return t-e})).forEach((function(t){e.removePage(t)})),m.debug("pages removed",Object.assign({},e.pageMap))})),t.addViewerEventListener(o.default.willCloseDocument,(function(){e.clearPages(),e.totalPageCount=-1})),this.component.on("selectCommentItem",(function(t){e._activeAnnot(t.controller.data.annot)})),this.component.on("selectCommentReply",(function(t){e._activeAnnot(t.parent.controller.data.annot)})),t.addViewerEventListener(o.default.unActiveAnnotation,(function(){e.component.clearLastCommentCard()})))},t.prototype.onAnnotEvent=function(){var e=this,t=this.component.getClosestComponentByType(s.default.getName());this.sidebarPanel=t;t.isLazy;var n=this.getPDFUI();this.addDestroyHook(n.addViewerEventListener(o.default.globalAnnotFlagChanged,(function(){!0})),n.addViewerEventListener(o.default.annotationAdd,(function(t,n){e.updateAnnotationsByPage(n)})),n.addViewerEventListener(o.default.annotationImported,(function(e,t){})),n.addViewerEventListener(o.default.annotationRemoved,(function(t){t.forEach((function(t){var n=t.page;e.updateAnnotationsByPage(n)}))})),n.addViewerEventListener(o.default.annotationUpdated,(function(t){t.forEach((function(t){var n=t.page;e.updateAnnotationsByPage(n)}))})))},t.prototype.selectComponent=function(e){this.component.selectComponent(e)},t.prototype._activeAnnot=function(e){var t=this,n=e.getPDFPage().getIndex();this.getPDFUI().getPDFViewer().then((function(t){if(!t.getPDFDocRender().getUserPermission().checkCannotModifyExcludeAssemble()){var o=t.getPDFPageRender(n);return o.getAnnotRender(e.getId())?o:o.render().then((function(e){return o}))}})).then((function(n){if(n){var o=n.getAnnotRender(e.getId());if(!o.component.isActive){n.annotsRender.activeAnnot(e.getId());var r=o.component.$ui.get(0),i=t.detectElementInView(r),a=i.horizontalInView,s=i.verticalInView;if(!a||!s){var c=function(){var e=r.closest(".fv__ui-pdfviewer").getBoundingClientRect(),t=o.component.getRect(),i=Math.max(0,(t.top+t.bottom-e.height)/2),a=Math.max(0,(t.left+t.right-e.width)/2);n.viewerRender.goToPage(n.index,i,a,!1)};0===r.getClientRects().length?n.viewerRender.goToPage(n.index).then(c):c()}}}}))},t.prototype.detectElementInView=function(e){var t=e.closest(".fv__ui-pdfviewer");if(!t)return{horizontalInView:!1,verticalInView:!1};var n=t.getBoundingClientRect(),o=e.getBoundingClientRect();return{horizontalInView:o.left>n.left&&o.right<n.right,verticalInView:o.top>n.top&&o.bottom<n.bottom}},t}(r.default);t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(15);var o=n(34),r=n(7),i=n(14),a=n(18),s=n(28),c=f(n(10)),u=f(n(562)),l=f(n(32));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var d=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.data.replies=o.flatReplies(o.data.annot),o.updateAnnotTask=new a.DebounceAsyncTaskExecutor(100),o.addDestroyHook((function(){o.updateAnnotTask.destroy()})),o.store=new s.Store,o}return p(t,e),t.getName=function(){return"CommentItemController"},t.prototype.changeCheckMarkState=function(e){var t=this,n=this.data.annot;(e.target.checked?n.addMarkedState(r.MARKUP_ANNOTATION_STATE.MARKED):n.addMarkedState(r.MARKUP_ANNOTATION_STATE.UNMARKED)).then((function(e){t.getPDFUI().eventEmitter.emit(c.default.addMarkedStateSuccess,n,e)}))},t.prototype.postlink=function(){var t=this;e.prototype.postlink.call(this);var n=this.data.annot;switch(this.supportsEditContent=!0,n.getIntent()){case r.Intents.LINE_DIMENSION:case r.Intents.POLYGON_DIMENSION:case r.Intents.POLYLINE_DIMENSION:case r.Intents.CIRCLE_DIMENSION:this.component.disableEdit(),this.supportsEditContent=!1}switch(n.info.type.toLowerCase()){case"sound":this.component.disableEdit(),this.supportsEditContent=!1}function o(e){return"strikeout"===e.getType()&&e.isReplace&&e.isReplace()}this.annotUpdated(n),this.getPDFUI().getPDFViewer().then((function(e){t.addDestroyHook(e.getAnnotAuthorityManager().subscribe(n,(function(){t.updateUIByPermissionInfo(n)})))})),this.addDestroyHook(this.getPDFUI().addViewerEventListener(c.default.permissionChanged,(function(){t.updateUIByPermissionInfo()})),this.getPDFUI().addViewerEventListener(c.default.annotationIDUpdated,(function(e,n){var o=t.data.replies.filter((function(e){return e.id===n}));o.length>0&&(o[0].id=e,t.data.replies=t.data.replies.slice(0),t.digest())})),this.getPDFUI().addViewerEventListener(c.default.annotationReplyAdd,(function(e,n){t.data.annot.getId()===n.getId()&&(t.data.replies=t.flatReplies(n,[]),t.digest())})),this.getPDFUI().addViewerEventListener(c.default.annotationImported,(function(e,n){var o=n.find((function(e){return e.page.getIndex()===t.data.annot.page.getIndex()}));if(o&&o.newAnnots.length>0){var r=t.flatReplies(t.data.annot,[]);t.data.replies=r,t.digest(),t.updateStateList(!0)}})),this.getPDFUI().addViewerEventListener(c.default.annotationRemoved,(function(e){var n=t.data.replies.map((function(e){return e.id})),o=!1;e.forEach((function(e){var r=n.indexOf(e.getId());r>-1&&(t.data.replies.splice(r,1),o=!0)})),o&&(t.data.replies=t.data.replies.slice(0),t.digest())})),this.getPDFUI().addViewerEventListener(c.default.updateActionAnnotation,(function(e){t.data.annot.getId()===e.getId()&&(t.data.replies=t.flatReplies(e.annot,[]),t.digest())})),this.getPDFUI().addViewerEventListener(c.default.activeAnnotation,(function(e){var n=t.data.commentList.component,r=void 0,i=e.getPDFAnnot();r=o(i)?e.component.annot.getGroupHeader().getId():i.getId(),t.data.annot.getId()===r&&e.annot.getPage().getIndex()==t.data.annot.page.getIndex()&&(n.selectComponent(t.component),t.scrollToThis())})),this.getPDFUI().addViewerEventListener(c.default.unActiveAnnotation,(function(e){var n=void 0,r=e.annot;n=o(r)?r.getGroupHeader().getId():r.getId(),t.data.annot.getId()===n&&r.getPage().getIndex()==t.data.annot.page.getIndex()&&(t.component.deselect(),t.component.children().forEach((function(e){e.deselect(),e.applyState()})),t.component.applyState())})),this.getPDFUI().addViewerEventListener(c.default.annotationUpdated,(function(e){e.some((function(e){if(n.getId()===e.getId())return t.updateAnnotTask.exec((function(){t.isDestroyed||t.annotUpdated(e)})),!0}))})))},t.prototype.scrollToThis=function(){this.component.parent.active();if(i.isMobile&&o.isSafari){var e=this.component.element.offsetTop,t=this.component.getClosestComponentByType("comment-list").element.parentElement;t.scrollTop=e-(t.offsetHeight-this.component.element.offsetHeight)/2}else this.component.element.scrollIntoView({block:"nearest",behavior:"smooth",inline:"nearest"})},t.prototype.annotUpdated=function(e){return this.component.setAnnot(e),this.component.setModifyTime(e.getModifiedDateTime()||e.getCreateDateTime()),this.component.setMessage(e.getContent(),!1),this.component.setAnnotTitle(e.getTitle()),this.updateStateList(!1),this.initMarkState(),this.component.applyState(),this.updateUIByPermissionInfo(e)},t.prototype.updateUIByPermissionInfo=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.data.annot;return this.getPermissionInfo(t).then((function(t){e.component.toggleEditContent(e.supportsEditContent&&t.contentEditable),e.component.toggleDeleteMenu(t.deletable),e.component.toggleReplyEditor(t.replyable),e.initMarkState()}))},t.prototype.flatReplies=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.getReplies().reduce((function(n,o){return o.isDeleted()||(n.push({id:o.getId(),rel:o.getTitle()+" to "+e.getTitle(),title:o.getTitle(),content:o.getContent(),time:o.getModifiedDateTime()||o.getCreateDateTime(),annot:o,parent:e}),t.flatReplies(o,n)),n}),n)},t.prototype.getPermissionInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.data.annot;return this.getPDFUI().getPDFViewer().then((function(t){return t.getAnnotAuthorityManager().getPermission(e).then((function(n){var o=t.getPDFDocRender().getUserPermission().getValue(),r=t.getAnnotManager().getAnnotFlag(e),i=e.getType(),a=32&o&&(r.checkLocked()||r.checkReadOnly()),s=32&o&&(r.checkLocked()||r.checkReadOnly()||r.checkLockedContents()),c=e.hasModifyPermission();return{deletable:n.isDeletable()&&c&&!a,contentEditable:n.isEditable()&&c&&!s,replyable:n.isReplyable()&&c&&!(r.checkReadOnly()||"freetext"==i||"sound"===i)}}))}))},t.prototype.onClick=function(){this.data.commentList.component.selectComponent(this.component)},t.prototype.onDoubleClick=function(){var e=this;if(!this.supportsEditContent)return!1;var t=this.data.commentList.component;this.getPermissionInfo().then((function(n){n.contentEditable&&t.editComponent(e.component)}))},t.prototype.onPublish=function(e){var t=this,n=this.data.annot;if(e===n.getContent())return this.component.switchToView(),void this.component.applyState();this.getPDFUI();var o=n.getContent();n.setContent(e).then((function(r){var i=n.getContent();t.pdfUI.eventEmitter.emit(c.default.addContentSuccess,n,o,i),t.component.setMessage(e),t.component.setModifyTime(n.getModifiedDateTime()),t.component.switchToView(),t.component.applyState()}))},t.prototype.onReply=function(e){var t=this,n=this.getPDFUI();this.data.annot.addReply(e).then((function(e){n.eventEmitter.emit(c.default.addReplySuccess,t.data.annot,e),t.component.clearReplyEditor()}))},t.prototype.initMarkState=function(){var e=this.data.annot.getMarkedStates(),t=this.data.annot.page.doc;t.isOwner()||t.checkPermission(l.default.annotForm)?this.component.checkMarkElement.disabled=!1:this.component.checkMarkElement.disabled=!0,e.length&&"marked"===e.slice(-1)[0].getState()?this.component.applyCheckMarkState(!0):this.component.applyCheckMarkState(!1)},t.prototype.onChangeCheckMarkState=function(){var e=this;this.component.on("change-check-mark-state",(function(t){e.changeCheckMarkState(t)}))},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this);var n=this.data.annot.getPDFPage().getIndex();this.getPDFUI().getPDFPageRender(n).then((function(e){if(e){var n=void 0,o=t.data.annot.getGroupElements();if(o&&o.length>0)n=o.some((function(t){var n=e.getAnnotRender(t.getId());if(!n)return!1;var o=n.getComponent();return o&&o.isActive}));else{var r=e.getAnnotRender(t.data.annot.getId());n=r&&r.component.isActive}if(n)t.data.commentList.component.selectComponent(t.component),t.scrollToThis()}})),this.onChangeCheckMarkState(),this.initMarkState()},t}(u.default);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=c(n(3)),r=c(n(1)),i=c(n(10)),a=n(18),s=c(n(142));n(8);function c(e){return e&&e.__esModule?e:{default:e}}function u(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var f=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.data.annots=[],o.annotationCount=0,o.availableAnnots=[],o.updateAnnotationTask=new a.DebounceAsyncTaskExecutor,o.addDestroyHook((function(){o.updateAnnotationTask.destroy()})),o}return l(t,e),t.getName=function(){return"CommentGroupController"},t.prototype.isSidebarOpenned=function(){return!!this.sidebarPanel&&this.sidebarPanel.isActive},t.prototype.mounted=function(){var e=this;this.updateAnnotations();var t=this.component.getClosestComponentByType(s.default.getName());this.sidebarPanel=t;var n=t.isLazy,o=this.data.page,i=this.getPDFUI(),a=!1,c=!1;this.addDestroyHook(i.addViewerEventListener(r.default.globalAnnotFlagChanged,(function(){a=!0})),i.addViewerEventListener(r.default.annotationAdd,(function(t,n){o.getIndex()===n.getIndex()&&e.updateAnnotations()})),i.addViewerEventListener(r.default.annotationImported,(function(t,r){Array.isArray(r)&&(r.some((function(e){var t=e.page;e.newAnnots;return t.getIndex()===o.getIndex()}))&&(n?i.getPDFPageRender(o.getIndex()).then((function(t){t.isRendered?e.updateAnnotations():c=!0})):e.updateAnnotations()))})),i.addViewerEventListener(r.default.redactAnnotApplyed,(function(){e.updateAnnotations()})),i.addViewerEventListener(r.default.annotationRemoved,(function(t){-1!==t.map((function(e){return e.page.getIndex()})).indexOf(o.getIndex())&&e.updateAnnotations()})),i.addViewerEventListener(r.default.renderPageSuccess,(function(t){t.index===o.getIndex()&&(a?(e.applyAnnotationFlagChange(),a=!1):c&&(e.updateAnnotations(),c=!1))})),this.watch("page.info.index",(function(t){e.component.setPageNumber(t+1)})))},t.prototype.applyAnnotationFlagChange=function(){var e=this,t=this.data.page;return this.getPDFUI().getAnnotManager().then((function(n){if(!e.isDestroyed){var o=e.availableAnnots||[];e.data.annots=o.filter((function(e){if(e)return!n.getAnnotFlag(e).checkHidden()})),e.annotationCount=e.data.annots.length,e.component.setPageData(t.getIndex()+1,e.annotationCount),e.digest(),e.getPDFUI().eventEmitter.emit(i.default.commentGroupAnnotationsUpdated,{component:e,page:t,annots:e.data.annots})}}))},t.prototype.updateAnnotations=function(){var e=this,t=this.data.page.getIndex();return this.updateAnnotationTask.exec((function(){if(!e.isDestroyed)return e.getPDFUI().getCurrentPDFDoc().then((function(n){return n?n.getPageAnnots(t).then((function(t){return e.availableAnnots=e.data.annots=e._filterAnnotationData(t),e.applyAnnotationFlagChange()})):[]}))}))},t.prototype._filterAnnotationData=function(e){e=e.filter((function(e){return e.isMarkup()&&!("popup"===e.getType())&&!function(e){return"widget"===e}(e.getType())&&e.getReplies&&(!e.isStateAnnot||!e.isStateAnnot())}));var t=[],n=[];e.forEach((function(e){var o=e.getReplies();t.push.apply(t,u(o)),t.forEach((function e(n){if(n&&n.getReplies){var o=n.getReplies();t.push.apply(t,u(o)),o.forEach(e)}})),n.push.apply(n,u(e.getReviewStates())),n.push.apply(n,u(e.getMarkedStates()))}));var o=e.filter((function(e){return-1===t.indexOf(e)&&-1===n.indexOf(e)}));return o.forEach((function(e,t){if("Replace"===e.getIntent()||e.isReplace&&e.isReplace()){var n=void 0;e.groupElements.forEach((function(t){if("caret"==t.getType()&&(n=t),t!==e){var r=o.indexOf(t);r>-1&&o.splice(r,1)}})),o[t]=n}})),o},t}(o.default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(3)),r=a(n(10)),i=n(18);function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.udpateItems(),o.updateAnnotationTask=new i.DebounceAsyncTaskExecutor,o.addDestroyHook((function(){o.updateAnnotationTask.destroy()})),o}return s(t,e),t.getName=function(){return"CommentGroupExController"},t.prototype.udpateItems=function(e){var t=this.data.annotsItem,n=t.type,o=t.page,r=t.annots;this.actionType=n,"page"===this.actionType&&(this.data.page=o),this.availableAnnots=r;var i=this.availableAnnots||[];this.data.annots=i.filter((function(t){if(t)return!e||!e.getAnnotFlag(t).checkHidden()})),this.annotationCount=this.data.annots.length},t.prototype.mounted=function(){var e=this;this.updateAnnotations(),"page"===this.actionType&&this.addDestroyHook(this.watch("page.info.index",(function(t){e.component.setPageNumber(t+1)}))),this.getPDFUI().getStore().then((function(t){t.subscribe("update-comment-list-ex",(function(t){e.udpateItems(),e.updateAnnotations()}))}))},t.prototype.applyAnnotationFlagChange=function(){var e=this;return this.getPDFUI().getAnnotManager().then((function(t){if(!e.isDestroyed){e.udpateItems(t);var n="",o="";switch(e.actionType){case"page":o=e.data.annotsItem.page.getIndex()+1;break;case"type":case"author":case"status":case"checkmark":case"date":n=e.data.annotsItem.annotType}e.component.setGroupData(n,o,e.annotationCount),e.digest(),e.getPDFUI().eventEmitter.emit(r.default.commentGroupAnnotationsUpdated,{component:e,annots:e.data.annots})}}))},t.prototype.updateAnnotations=function(){var e=this;return this.updateAnnotationTask.exec((function(){if(!e.isDestroyed)return e.applyAnnotationFlagChange()}))},t}(o.default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(562)),r=s(n(10)),i=n(7),a=s(n(32));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u={editable:!1,deletable:!1,replyable:!1},l=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n))}return c(t,e),t.getName=function(){return"CommentReplyController"},t.prototype.mounted=function(){e.prototype.mounted.call(this),this.onChangeCheckMarkState(),this.initMarkState()},t.prototype.getCurrentAnnot=function(){return this.data.replyItem.annot},t.prototype.postlink=function(){var t=this;e.prototype.postlink.call(this),this.component.setContent(this.data.replyItem.content),this.component.setTitle(this.data.replyItem.title),this.component.setTime(this.data.replyItem.time),this.updateStateList(),this.component.applyState(),this.addDestroyHook(this.getPDFUI().addViewerEventListener(r.default.annotationUpdated,(function(e){e.forEach((function(e){t.data.replyItem.annot.getId()===e.getId()&&t.annotUpdated(e)}))})),this.getPDFUI().addViewerEventListener(r.default.annotationImported,(function(e,n){t.updateStateList(),t.component.applyState()})),this.getPDFUI().addViewerEventListener(r.default.permissionChanged,(function(){t.updateUIByPermissionInfo()}))),this.getPDFUI().getPDFViewer().then((function(e){var n=t.data.replyItem.annot;t.addDestroyHook(e.getAnnotAuthorityManager().subscribe(n,(function(){t.updateUIByPermissionInfo(n)})))}))},t.prototype.annotUpdated=function(e){this.component.setTime(e.getModifiedDateTime()||e.getCreateDateTime()),this.component.setContent(e.getContent()),this.updateUIByPermissionInfo()},t.prototype.initMarkState=function(){var e=this.getCurrentAnnot(),t=e.getMarkedStates(),n=e.page.doc;n.isOwner()||n.checkPermission(a.default.annotForm)?this.component.checkMarkElement.disabled=!1:this.component.checkMarkElement.disabled=!0,t.length&&"marked"===t.slice(-1)[0].getState()?this.component.applyCheckMarkState(!0):this.component.applyCheckMarkState(!1)},t.prototype.changeCheckMarkState=function(e){var t=this,n=this.getCurrentAnnot();(e.target.checked?n.addMarkedState(i.MARKUP_ANNOTATION_STATE.MARKED):n.addMarkedState(i.MARKUP_ANNOTATION_STATE.UNMARKED)).then((function(e){t.getPDFUI().eventEmitter.emit(r.default.addMarkedStateSuccess,n,e)}))},t.prototype.onChangeCheckMarkState=function(){var e=this;this.component.on("change-reply-check-mark-state",(function(t){e.changeCheckMarkState(t)}))},t.prototype.getPermissionInfo=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.data.replyItem.annot;return this.getPDFUI().getPDFViewer().then((function(n){return n.getAnnotAuthorityManager().getPermission(t).then((function(o){if(e.isDestroyed)return u;if(o.ignorable()){var r=e.$parent.data.annot,i=n.getAnnotManager().getAnnotFlag(r),a=!(32&n.getPDFDocRender().getUserPermission().getValue())||(s=t,(c=n.getAnnotManager().getAnnotFlag(s)).checkReadOnly()||c.checkLocked()||c.checkLockedContents())||i.checkReadOnly();return{editable:!a,deletable:!a,replyable:!a}}return{editable:o.isEditable(),replyable:o.isReplyable(),deletable:o.isDeletable()};var s,c}))}))},t.prototype.updateUIByPermissionInfo=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.data.replyItem.annot;return this.getPermissionInfo(t).then((function(t){e.isDestroyed||(t.editable?e.component.enableEdit():e.component.disableEdit(),t.deletable?e.component.enableDeleteMenu():e.component.disableDeleteMenu(),e.initMarkState())}))},t.prototype.onClick=function(e){this.data.commentList.component.selectComponent(this.component)},t.prototype.onDoubleClick=function(e){var t=this,n=this.data.commentList.component;this.getPermissionInfo().then((function(e){e.editable&&n.editComponent(t.component)}))},t.prototype.updateReplyMessage=function(e){var t=this,n=this.getCurrentAnnot(),o=n.getContent();n.setContent(e).then((function(){var e=n.getContent();t.pdfUI.eventEmitter.emit(r.default.addContentSuccess,n,o,e)})),this.component.setContent(e),this.component.switchToView(),this.component.applyState()},t}(o.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(3),i=(o=r)&&o.__esModule?o:{default:o},a=n(7);function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n))}return s(t,e),t.getName=function(){return"CommentDropdownMenuController"},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this);var n=this.data.annot,o=!0;switch(n.getIntent()){case a.Intents.LINE_DIMENSION:case a.Intents.POLYGON_DIMENSION:case a.Intents.POLYLINE_DIMENSION:case a.Intents.CIRCLE_DIMENSION:o=!1}"sound"===n.info.type.toLowerCase()&&(o=!1),this.pdfUI.getPDFViewer().then((function(e){var r=e.getAnnotManager().getAnnotFlag(n),i=t.component.getComponentByName("delete-comment-menu");r.checkLocked()||r.checkReadOnly()?i.disable():i.enable();var a=t.component.getComponentByName("edit-comment-menu");o?r.checkLockedContents()||r.checkReadOnly()||r.checkLocked()?a.disable():a.enable():a.disable()}));var r=this.component.getComponentByName("copy-comment-text-menu");this.watch("$component.parent.hasContent",(function(e){e?r.enable():r.disable()})),this.initCheckMarkStatus(),this.onChangeCheckMarkState()},t.prototype.copyText=function(){var e=document.createElement("textarea");e.value=this.data.annot.getContent(),document.body.appendChild(e),e.select(),e.setSelectionRange(0,e.value.length),document.execCommand("copy"),document.body.removeChild(e)},t.prototype.editText=function(){var e=this.component.parent;e.switchToEdit(),e.applyState()},t.prototype.deleteComment=function(){var e=this.data.annot,t=e.getPDFPage().getIndex();this.getPDFUI().getPDFPageRender(t).then((function(t){return t.getAnnotRenderSafely(e.getId())})).then((function(e){e.component.removeAnnot()}))},t.prototype.addCheckMark=function(){this.data.annot.addMarkedState(a.MARKUP_ANNOTATION_STATE.MARKED),this.component.parent.updateCheckMarkCheckboxUI(!0),this.component.getComponentByName("add-check-mark").hide(),this.component.getComponentByName("cancel-check-mark").show()},t.prototype.cancelCheckMark=function(){this.data.annot.addMarkedState(a.MARKUP_ANNOTATION_STATE.UNMARKED),this.component.parent.updateCheckMarkCheckboxUI(!1),this.component.getComponentByName("add-check-mark").show(),this.component.getComponentByName("cancel-check-mark").hide()},t.prototype.initCheckMarkStatus=function(){var e=this.data.annot.getMarkedStates();if(!e.length)return this.$parent.component.applyCheckMarkState(!1),this.component.getComponentByName("add-check-mark").show(),void this.component.getComponentByName("cancel-check-mark").hide();"marked"===e.slice(-1)[0].getState()?(this.$parent.component.applyCheckMarkState(!0),this.component.getComponentByName("add-check-mark").hide(),this.component.getComponentByName("cancel-check-mark").show()):(this.$parent.component.applyCheckMarkState(!1),this.component.getComponentByName("add-check-mark").show(),this.component.getComponentByName("cancel-check-mark").hide())},t.prototype.updateCheckMarkMenuItemUI=function(e){e?(this.component.getComponentByName("add-check-mark").hide(),this.component.getComponentByName("cancel-check-mark").show()):(this.component.getComponentByName("add-check-mark").show(),this.component.getComponentByName("cancel-check-mark").hide())},t.prototype.onChangeCheckMarkState=function(){var e=this;this.component.parent.on("change-check-mark-state",(function(t){e.updateCheckMarkMenuItemUI(t.target.checked)}))},t}(i.default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(15),r=c(n(38)),i=c(n(3)),a=c(n(10)),s=n(7);function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n))}return u(t,e),t.getName=function(){return"ReplyDropdownMenuController"},t.prototype.mounted=function(){var e=this;this.handlePermissionUpdate();var t=this.component.getComponentByName("commentlist-reply-menu-copy"),n=this.data.replyItem.annot,o=this.$parent.$parent.data.annot;this.addDestroyHook(this.getPDFUI().addViewerEventListener(a.default.annotationUpdated,(function(t,i,a){a===r.default.flagsUpdated&&(t.indexOf(n)>-1||t.indexOf(o)>-1)&&e.handlePermissionUpdate()})),this.getPDFUI().addViewerEventListener(a.default.permissionChanged,(function(){e.handlePermissionUpdate()})),this.watch("$component.parent.getContent()",(function(e){e&&e.length>0?t.enable():t.disable()}))),this.initCheckMarkStatus(),this.onChangeCheckMarkState()},t.prototype.handlePermissionUpdate=function(){var e=this;this.pdfUI.getPDFViewer().then((function(t){var n=!(32&t.getPDFDocRender().getUserPermission().getValue()),o=e.data.replyItem.annot,r=e.$parent.$parent.data.annot,i=e.component.getComponentByName("commentlist-reply-menu-edit"),a=e.component.getComponentByName("commentlist-reply-menu-delete"),s=e.component.getComponentByName("add-check-mark"),c=e.component.getComponentByName("cancel-check-mark"),u=e.component.getComponentByName("comment-item-status-menu"),l=e.component.getComponentByName("commentlist-reply-menu-copy"),f=!1;function p(){for(var e=arguments,n=t.getAnnotManager().getAnnotFlag(e[0]),o=0,r=1;r<e.length;r++)o=o||n[e[r]]();return o}n||p(o,"checkReadOnly","checkLocked")||p(r,"checkReadOnly")?(i.disable(),a.disable(),s.disable(),c.disable(),u.disable(),l.disable(),e.component.disable(),f=!0):(i.enable(),a.enable(),s.enable(),c.enable(),u.enable(),l.enable(),e.component.enable()),p(o,"checkLockedContents")?i.disable():!f&&i.enable()}))},t.prototype.copyText=function(e){var t=document.createElement("textarea");t.value=e.annot.getContent(),document.body.appendChild(t),t.select(),t.setSelectionRange(0,t.value.length),document.execCommand("copy"),document.body.removeChild(t)},t.prototype.editText=function(){var e=this.component.parent;e.switchToEdit(),e.applyState()},t.prototype.deleteReply=function(e){var t=this.getPDFUI(),n=e.annot;t.eventEmitter.emit(a.default.deleteReplySuccess,this.data.annot,n);var r=n.getPDFPage();r.removeAnnot(n).then((function(){t.collaborate(o.COLLABORATION_ACTION.REMOVE_REPLY,{replyId:n.getId(),pageIndex:r.getIndex()})}))},t.prototype.getCurrentAnnot=function(){return this.data.replyItem.annot},t.prototype.initCheckMarkStatus=function(){var e=this.getCurrentAnnot().getMarkedStates();if(!e.length)return this.$parent.component.applyCheckMarkState(!1),this.component.getComponentByName("add-check-mark").show(),void this.component.getComponentByName("cancel-check-mark").hide();"marked"===e.slice(-1)[0].getState()?(this.$parent.component.applyCheckMarkState(!0),this.component.getComponentByName("add-check-mark").hide(),this.component.getComponentByName("cancel-check-mark").show()):(this.$parent.component.applyCheckMarkState(!1),this.component.getComponentByName("add-check-mark").show(),this.component.getComponentByName("cancel-check-mark").hide())},t.prototype.updateCheckMarkMenuItemUI=function(e){e?(this.component.getComponentByName("add-check-mark").hide(),this.component.getComponentByName("cancel-check-mark").show()):(this.component.getComponentByName("add-check-mark").show(),this.component.getComponentByName("cancel-check-mark").hide())},t.prototype.onChangeCheckMarkState=function(){var e=this;this.component.parent.on("change-reply-check-mark-state",(function(t){e.updateCheckMarkMenuItemUI(t.target.checked)}))},t.prototype.addCheckMark=function(){this.data.replyItem.annot.addMarkedState(s.MARKUP_ANNOTATION_STATE.MARKED),this.component.parent.updateCheckMarkCheckboxUI(!0),this.component.getComponentByName("add-check-mark").hide(),this.component.getComponentByName("cancel-check-mark").show()},t.prototype.cancelCheckMark=function(){this.data.replyItem.annot.addMarkedState(s.MARKUP_ANNOTATION_STATE.UNMARKED),this.component.parent.updateCheckMarkCheckboxUI(!1),this.component.getComponentByName("add-check-mark").show(),this.component.getComponentByName("cancel-check-mark").hide()},t}(i.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(3)),r=i(n(10));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var s=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n))}return a(t,e),t.getName=function(){return"CommentStatesController"},t.prototype.setState=function(e,t){var n=this,o=e.getGroupElements();o&&0!==o.length||(o=[e]),o.forEach((function(e){e.addReviewState(t).then((function(t){n.getPDFUI().eventEmitter.emit(r.default.addReviewStateSuccess,e,t)}))}))},t}(o.default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"collapse-pages-button",fragment:{template:'<xbutton @controller="comment-list:CollapsePagesButtonController" name="commentlist-collapse-commentlist" icon-class="fv__icon-sidebar-collapse-comment-list">sidebar.commentlist.dropdown.collapse-cl</xbutton>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"expand-pages-button",fragment:{template:'<xbutton @controller="comment-list:ExpandPagesButtonController" name="commentlist-expand-commentlist" icon-class="fv__icon-sidebar-expand-comment-list">sidebar.commentlist.dropdown.expand-cl</xbutton>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"export-comment-dropdown",fragment:{template:'\n            <dropdown separate="false" align="out-right" valign="top" icon-class="fv__icon-sidebar-export-comment" name="commentlist-export-comment" text="sidebar.commentlist.dropdown.export-comment" @trigon.close.disable @trigon.open.enable>\n                <comment-list:export-xfdf-button></comment-list:export-xfdf-button>\n                <comment-list:export-fdf-button></comment-list:export-fdf-button>\n                <comment-list:export-json-button></comment-list:export-json-button>\n            </dropdown>\n        '}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"export-fdf-button",fragment:{template:'<xbutton name="fv--export-fdf-button" @controller="comment-list:ExportCommentController" icon-class="fv__icon-sidebar-export-comment-fdf" format="fdf">FDF</xbutton>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"export-json-button",fragment:{template:'<xbutton name="fv--export-json-button" @controller="comment-list:ExportCommentController" icon-class="fv__icon-sidebar-export-comment-json" format="json">JSON</xbutton>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"export-xfdf-button",fragment:{template:'<xbutton name="fv--export-xfdf-button" @controller="comment-list:ExportCommentController" icon-class="fv__icon-sidebar-export-comment-xfdf" format="xfdf">XFDF</xbutton>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"import-comment-button",fragment:{template:'<file-selector @controller="comment-list:ImportCommentButtonController" name="commentlist-import-comment" icon-class="fv__icon-sidebar-import-comment" @trigon.close.disable @trigon.open.enable accept=".fdf,.xfdf,.json">sidebar.commentlist.dropdown.import-comment</file-selector>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"show-comment-button",fragment:{template:'<xbutton @controller="comment-list:ShowCommentButtonController" name="commentlist-show-comments" icon-class="fv__icon-sidebar-show-all-comments">sidebar.commentlist.dropdown.show-all</xbutton>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="";[{cls:"fv__icon-sidebar-type-checked",name:"sort-comments-by-page",text:"sidebar.commentlist.sort-dropdown.page"},{cls:"fv__icon-sidebar-type-checked",name:"sort-comments-by-type",text:"sidebar.commentlist.sort-dropdown.type"},{cls:"fv__icon-sidebar-type-checked",name:"sort-comments-by-author",text:"sidebar.commentlist.sort-dropdown.author"},{cls:"fv__icon-sidebar-type-checked",name:"sort-comments-by-date",text:"sidebar.commentlist.sort-dropdown.date"},{cls:"fv__icon-sidebar-type-checked",name:"sort-comments-by-status",text:"sidebar.commentlist.sort-dropdown.status"},{cls:"fv__icon-sidebar-type-checked",name:"sort-comments-by-checkmark",text:"sidebar.commentlist.sort-dropdown.checkmark"}].forEach((function(e){var t='<dropdown-button @on.click="sortComments.onClickItem($component)"\n    icon-class="'+e.cls+'" name="'+e.name+'" >'+e.text+"</dropdown-button>";o+=t})),t.default={name:"sort-comments-dropdown",fragment:{template:'\n            <dropdown \n                    class="fv__ui-commentlist-short-comment-dropdown"\n                    @controller="comment-list:SortCommentsDropDownController as sortComments"\n                    separate="false"\n                    align="out-right" \n                    valign="top" \n                    icon-class="fv__icon-sidebar-sort-by" \n                    name="commentlist-sort-comment" \n                    text="sidebar.commentlist.dropdown.sort-by" \n                    @trigon.close.disable @trigon.open.enable>\n                '+o+"\n            </dropdown>\n        "}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"hide-comment-button",fragment:{template:'<xbutton @controller="comment-list:HideCommentButtonController" name="commentlist-hide-comments" icon-class="fv__icon-sidebar-hide-all-comments">sidebar.commentlist.dropdown.hide-all</xbutton>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(3);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.getName=function(){return"CollapsePagesButtonController"},t.prototype.handle=function(){(this.getComponentByName("commentlistEx")||this.getComponentByName("commentlist")).deactiveAll()},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(3);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.getName=function(){return"ExpandPagesButtonController"},t.prototype.handle=function(){(this.getComponentByName("commentlistEx")||this.getComponentByName("commentlist")).activeAll()},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=c(n(3)),i=n(1425),a=c(n(21)),s=n(15);function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var p=function(e){function t(){return u(this,t),l(this,e.apply(this,arguments))}return f(t,e),t.getName=function(){return"ImportCommentButtonController"},t.prototype.changePeimission=function(e){var t=this;this.getPDFUI().getPDFDocRender().then((function(e){e.getUserPermission().getValue()&t.constructor.permission?t.component.unlock():t.component.lock()}))},t.prototype.handle=function(e){var t=this;if((0,i.isJSONFile)(e)){var n=(0,a.default)(),o=new FileReader;return o.onloadend=function(e){var r=JSON.parse(o.result);t.getPDFUI().getCurrentPDFDoc().then((function(e){return e.importAnnotsFromJSON(r).then((function(e){return t.getPDFUI().collaborate(s.COLLABORATION_ACTION.UPDATE_ANNOT,{annots:r}),e}))})).then(n.resolve,n.reject)},o.onerror=n.reject,o.readAsText(e,"utf8"),n.promise}return(0,i.isFDFFile)(e)||(0,i.isXFDFFile)(e)?this.getPDFUI().getCurrentPDFDoc().then((function(n){return n.importAnnotsFromFDF(e).then((function(n){return t.getPDFUI().collaborate(s.COLLABORATION_ACTION.IMPORT_ANNOTATIONS_FILE,(function(){return new Promise((function(t,n){var o=new FileReader;o.onloadend=function(e){var n=o.result;t({file:btoa(n)})},o.onerror=n,o.readAsBinaryString(e)}))})),n}))})):this.pdfUI.alert("alert.incorrect-filetype")},o(t,null,[{key:"permission",get:function(){return 32}}]),t}(r.default);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isJSONFile=function(e){if(!e)return!1;switch(e.type){case"aplication/json":case"text/json":return!0}if("string"==typeof e.name&&e.name.endsWith(".json"))return!0;return!1},t.isFDFFile=function(e){if(!e)return!1;switch(e.type){case"application/vnd.fdf":return!0}return"string"==typeof e.name&&e.name.endsWith(".fdf")},t.isXFDFFile=function(e){if(!e)return!1;switch(e.type){case"application/vnd.xfdf":case"application/vnd.adobe.xfdf":return!0}return"string"==typeof e.name&&e.name.endsWith(".xfdf")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(3);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.selectItem=null,o.action="page",o}return i(t,e),t.getName=function(){return"SortCommentsDropDownController"},t.prototype.destroy=function(){this.selectItem=null,e.prototype.destroy.call(this)},t.prototype.postlink=function(){var e=this.component.getComponentByName("sort-comments-by-page");e&&this.select(e)},t.prototype.select=function(e){if(e&&(this.selectItem?this.selectItem.name:"")!==e.name){this.component.querySelectorAll("[name*=sort-comments]").forEach((function(e){e.doDeactive()})),e.doActive(),this.selectItem={item:e,name:e.name};var t=e.name.substr("sort-comments-by-".length);this.action=t,this.getPDFUI().getStore().then((function(e){e.dispatch("update-comment-list-sort-action",t)}))}},t.prototype.mounted=function(){e.prototype.mounted.call(this);var t=this.selectItem.name,n=this.component.getComponentByName(t);this.select(n)},t.prototype.onClickItem=function(e){this.select(e)},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(3);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n))}return i(t,e),t.getName=function(){return"SortCommentsDropDownItemController"},t.prototype.postlink=function(){this.$parent&&this.$parent.selectItem&&this.$parent.selectItem.name===this.component.name&&this.component.doActive();var e=this.component.getComponentByName("sort-comments-by-page");e&&(this.selectItem={item:e,name:"sort-comments-by-page"})},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(3),i=(o=r)&&o.__esModule?o:{default:o},a=n(161);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(){return s(this,t),c(this,e.apply(this,arguments))}return u(t,e),t.getName=function(){return"ShowCommentButtonController"},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this),this.getPDFUI().getStore().then((function(e){t.addDestroyHook(e.subscribe(a.DISPATCH_STORE_ANNOTATION_DISPLAYING,(function(e){e.display&&(t.getPDFUI().getRootComponent().then((function(e){return e.querySelector("@viewer")})).then((function(e){e.removeCSSClass("fv__ui-hide-all-comments")})),document.querySelectorAll("[new-annot]").forEach((function(e){e.removeAttribute("new-annot")})))})))}))},t.prototype.handle=function(){var e=this.getPDFUI();e.getPDFDocRender().then((function(t){t.getPDFDoc().isOwner()||(t.allCommentVisible=!0,e.redraw(!0)),e.getStore().then((function(t){t.dispatch(a.DISPATCH_STORE_ANNOTATION_DISPLAYING,{display:!0}),e.getComponentByName("fv--search-comment-component").then((function(e){e.enable(),e.handleSearch(""),e.hideTips()}))}))}))},t}(i.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(3)),r=a(n(10)),i=n(161);function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.newAnnots=[],o}return s(t,e),t.getName=function(){return"HideCommentButtonController"},t.prototype.mounted=function(){var t=this,n=this.getPDFUI();e.prototype.mounted.call(this),n.getStore().then((function(e){t.addDestroyHook(e.subscribe(i.DISPATCH_STORE_ANNOTATION_DISPLAYING,(function(e){e.display?t.newAnnots=[]:n.getRootComponent().then((function(e){return e.querySelector("@viewer")})).then((function(e){e.addCSSClass("fv__ui-hide-all-comments")}))})),n.addUIEventListener(r.default.annotationAdd,(function(o){t.newAnnots=t.newAnnots.concat(o.map((function(e){return e.getId()})));var r=e.getCurrentValue(i.DISPATCH_STORE_ANNOTATION_DISPLAYING);if(r&&!r.display){e.dispatch(i.DISPATCH_STORE_ANNOTATION_DISPLAYING,{display:!1,newAnnots:t.newAnnots});var a=function(e){var t=e.page.getIndex();n.getAnnotRender(t,e.id).then((function(e){e.$ui.attr("new-annot","")}))},s=o[0];s.isReplace&&s.isReplace()?(a(o[0]),a(o[1])):a(s)}})),n.addUIEventListener(r.default.openFileSuccess,(function(){t.newAnnots=[];var n=e.getCurrentValue(i.DISPATCH_STORE_ANNOTATION_DISPLAYING);n&&!n.display&&e.dispatch(i.DISPATCH_STORE_ANNOTATION_DISPLAYING,{display:!0,newAnnots:[]})})))}))},t.prototype.handle=function(){var e=this.getPDFUI();this.newAnnots=[],e.getPDFDocRender().then((function(t){t.getPDFDoc().isOwner()||(t.allCommentVisible=!1,e.redraw(!0)),e.getStore().then((function(t){t.dispatch(i.DISPATCH_STORE_ANNOTATION_DISPLAYING,{display:!1}),e.getComponentByName("fv--search-comment-component").then((function(e){e.setValue(""),e.handleSearch({}),e.disable(),e.showTips("sidebar.commentlist.search.tips")}))}))}))},t}(o.default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(3),i=(o=r)&&o.__esModule?o:{default:o},a=n(103);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(){return s(this,t),c(this,e.apply(this,arguments))}return u(t,e),t.getName=function(){return"ExportCommentController"},t.prototype.changePeimission=function(e){var t=this;this.getPDFUI().getPDFDocRender().then((function(e){e.getUserPermission().getValue()&t.constructor.permission?t.component.unlock():t.component.lock()}))},t.prototype.handle=function(){var e=this.component.getAttribute("format");switch(e){case"xfdf":return this.exportCommentToXFDF();case"fdf":return this.exportCommentToFDF();case"json":return this.exportCommentToJSON();default:throw new Error("Unsupported format: "+e)}},t.prototype.exportCommentToXFDF=function(){return this.getPDFUI().getCurrentPDFDoc().then((function(e){return e.exportAnnotsToFDF(1).then((function(e){(0,a.download)(e,"comments.xfdf","application/vnd.xfdf")}))}))},t.prototype.exportCommentToFDF=function(){return this.getPDFUI().getCurrentPDFDoc().then((function(e){return e.exportAnnotsToFDF(0).then((function(e){(0,a.download)(e,"comments.fdf","application/vnd.adobe.fdf")}))}))},t.prototype.exportCommentToJSON=function(){return this.getPDFUI().getCurrentPDFDoc().then((function(e){return e.exportAnnotsToJSON().then((function(e){var t=JSON.stringify(e);(0,a.download)(new Blob([t],{type:"application/octet-stream"}),"comments.json","application/octet-stream")}))}))},t}(i.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});l(n(17));var o=l(n(1432)),r=n(84),i=n(161),a=n(5),s=l(n(10)),c=n(18),u=l(n(40));function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var g=(0,o.default)(),m=function(e){function t(){return p(this,t),d(this,e.apply(this,arguments))}return h(t,e),t.getName=function(){return"search-comment"},t.prototype.createDOMElement=function(){var e=(new DOMParser).parseFromString(g,"text/html").body.firstElementChild;return e.remove(),e},t.prototype.prerender=function(){e.prototype.prerender.call(this),this.searchInput=this.element.querySelector(".fv__ui-commentlist-search-input"),this.searchResultElement=this.element.querySelector(".fv__ui-commentlist-search-result"),this.totalCountElement=this.element.querySelector(".fv__ui-commentlist-search-total-count"),this.searchResultAmountElement=this.element.querySelector(".fv__ui-commentlist-search-result-amount"),this.searchTipsElement=this.element.querySelector(".fv__ui-commentlist-search-tips"),this.searchTipMessageElement=this.searchTipsElement.querySelector(".fv__ui-commentlist-search-tip-message"),this.openFilterBtnElement=this.element.querySelector(".fv__ui-commentlist-search-filter-btn")},t.prototype.waiting=function(){this.searchResultElement.classList.add("waiting")},t.prototype.updateSearchResult=function(e){var t=e.searchAmount,n=e.totalAmount,o=t!=n||this.getValue().length>0;this.searchResultElement.classList.remove("waiting"),this.searchResultElement.classList.toggle("searching",o),this.searchResultElement.classList.toggle("not-searching",!o),o?this.searchResultAmountElement.innerText=t+"/"+n:this.totalCountElement.innerText=n,t>0&&this.hideTips()},t.prototype.getDOMValue=function(){return this.searchInput.value},t.prototype.setValue=function(e){this.searchInput.value=e},t.prototype.hasValue=function(){return 0!==this.getValue().length},t.prototype.mounted=function(){var t,n=this;e.prototype.mounted.call(this);var o=function(e){n.triggerHandler(),e.preventDefault(),e.stopPropagation()},r=void 0;this.pdfUI.getStore().then((function(e){r=e})),this.attachEventToElement(this.searchInput,"input",(function(e){r.dispatch(i.DISPATCH_STORE_NEW_ANNOTATIONS,[]),o(e)})),this.attachEventToElement(this.searchInput,"keypress",(function(e){13===e.keyCode&&(r.dispatch(i.DISPATCH_STORE_NEW_ANNOTATIONS,[]),o(e))}));var l=this.getRoot().getComponentByName("fv--commentlist-filter-comment-dialog");if(l){var p,d=0,h=[],g=[];this.attachEventToElement(this.openFilterBtnElement,"click",(function(e){n.disabled||d<1||l.show()}));var m=new c.DebounceAsyncTaskExecutor;this.addDestroyHook((function(){m.destroy()}));var v=function(){var e=d>0;n.openFilterBtnElement.classList.toggle("disabled",!e),e?l.enable():(l.disable(),l.hide()),m.exec((function(){l.updateData(h,g)}))};this.addDestroyHook(this.pdfUI.addViewerEventListener((f(p={},s.default.appendCommentListComment,(function(e,t){d++,v(),h.push(t)})),f(p,s.default.destroyCommentListComment,(function(e,t){d--;var n=h.indexOf(t);h.splice(n,1),v()})),f(p,s.default.appendCommentListReply,(function(e,t){g.push(t),v()})),f(p,s.default.destroyCommentListReply,(function(e,t){var n=g.indexOf(t);g.splice(n,1),v()})),p))),v();var y=this.getRoot().querySelector("@comment-list:comment-list");this.addDestroyHook(l.on("apply-filter",(function(e){r.dispatch(i.DISPATCH_STORE_NEW_ANNOTATIONS,[]),y.commentFilter=function(t){var o=e.selectedAuthors,r=e.selectedReviewStates,i=e.filterByOriginalAuthor,a=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.default,a=e.getTitle();if(o.length>0&&-1===o.indexOf(a))return!1;if(r.length>0){var s=n.processStateData(e.getReviewStates());if(i(s),r.indexOf("none")>-1&&(0===s.length||s.indexOf("none")>-1))return!0;if(0===s.length)return t;var c=r.some((function(e){if("none"!==e)return s.indexOf(e)>-1}));if(!c)return!1}return!0};if(i)return a(t);var s=function e(t){var n=t.getReplies();return[].concat(n.reduce((function(t,n){return t.push(n),t.concat(e(n))}),[]))}(t);if(0===s.length)return a(t);var c=[];if(s.some((function(e){return!a(e,!0,(function(e){c.push.apply(c,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e))}))})))return!1;var l=c.filter((function(e){return"none"!==e})),f=r.filter((function(e){return"none"!==e}));return 0===l.length&&f.length!==r.length||(!(f.length>0&&0===l.length)||a(t))},n.triggerHandler()})))}else this.openFilterBtnElement.remove();this.addDestroyHook(this.pdfUI.addViewerEventListener((f(t={},a.ViewerEvents.willCloseDocument,(function(){n.disable(),l&&l.disable()})),f(t,a.ViewerEvents.openFileSuccess,(function(){n.enable(),l&&l.enable()})),t)))},t.prototype.processStateData=function(e){var t=e.reduce((function(e,t){var n=t.getTitle(),o=e[n];return o?o.getModifiedDateTime()<=t.getModifiedDateTime()&&(e[n]=t):e[n]=t,e}),{});return Object.values(t).map((function(e){return e.getState()}))},t.prototype.triggerHandler=function(){this.trigger("search",this.getValue()),this.controller.handle(this.getValue())},t.prototype.handleSearch=function(e){this.trigger("search",e),this.controller.handle(e)},t.prototype.doDisable=function(){e.prototype.doDisable.call(this),this.searchInput.setAttribute("disabled","disabled"),this.openFilterBtnElement.classList.add("disabled")},t.prototype.doEnable=function(){e.prototype.doEnable.call(this),this.searchInput.removeAttribute("disabled"),this.openFilterBtnElement.classList.remove("disabled")},t.prototype.showTips=function(e){this.searchTipMessageElement.setAttribute("data-i18n",e),this.localizer.localizeElementSync(this.searchTipMessageElement),this.searchTipsElement.classList.remove("fv__ui-commentlist-search-tips-hide")},t.prototype.hideTips=function(){this.searchTipsElement.classList.add("fv__ui-commentlist-search-tips-hide")},t}(r.InputComponent);t.default=m},function(e,t,n){n(2);e.exports=function(e){"use strict";e=e||{};return'<div class="fv__ui-commentlist-search-comment">\r\n    <div class="fv__ui-layout-row">\r\n        <label class="fv__ui-commentlist-search-input-container fv__ui-layout-col-1">\r\n            <i class="fv__ui-commentlist-search-icon"></i>\r\n            <input type="search" class="fv__ui-commentlist-search-input" data-i18n="[placeholder]sidebar.commentlist.search.placeholder">\r\n        </label>\r\n        <a class="fv__ui-commentlist-search-filter-btn" href="javascript:;"><i class="fv__icon-commentlist-filter"></i></a>\r\n    </div>\r\n    <div class="fv__ui-commentlist-search-result not-searching">\r\n        <dl class="fv__ui-commentlist-not-searching">\r\n            <dt data-i18n="sidebar.commentlist.search.total"></dt>\r\n            <dd class="fv__ui-commentlist-search-total-count"></dd>\r\n        </dl>\r\n        <dl class="fv__ui-commentlist-searching">\r\n            <dt data-i18n="sidebar.commentlist.search.result"></dt>\r\n            <dd class="fv__ui-commentlist-search-result-amount"></dd>\r\n        </dl>\r\n        <div class="fv__ui-commentlist-search-waiting" data-i18n="sidebar.commentlist.search.waiting"></div>\r\n    </div>\r\n    <dl class="fv__ui-commentlist-search-tips">\r\n        <dt class="fv__ui-commentlist-search-tip-message"></dt>\r\n    </dl>\r\n</div>','<div class="fv__ui-commentlist-search-comment">\r\n    <div class="fv__ui-layout-row">\r\n        <label class="fv__ui-commentlist-search-input-container fv__ui-layout-col-1">\r\n            <i class="fv__ui-commentlist-search-icon"></i>\r\n            <input type="search" class="fv__ui-commentlist-search-input" data-i18n="[placeholder]sidebar.commentlist.search.placeholder">\r\n        </label>\r\n        <a class="fv__ui-commentlist-search-filter-btn" href="javascript:;"><i class="fv__icon-commentlist-filter"></i></a>\r\n    </div>\r\n    <div class="fv__ui-commentlist-search-result not-searching">\r\n        <dl class="fv__ui-commentlist-not-searching">\r\n            <dt data-i18n="sidebar.commentlist.search.total"></dt>\r\n            <dd class="fv__ui-commentlist-search-total-count"></dd>\r\n        </dl>\r\n        <dl class="fv__ui-commentlist-searching">\r\n            <dt data-i18n="sidebar.commentlist.search.result"></dt>\r\n            <dd class="fv__ui-commentlist-search-result-amount"></dd>\r\n        </dl>\r\n        <div class="fv__ui-commentlist-search-waiting" data-i18n="sidebar.commentlist.search.waiting"></div>\r\n    </div>\r\n    <dl class="fv__ui-commentlist-search-tips">\r\n        <dt class="fv__ui-commentlist-search-tip-message"></dt>\r\n    </dl>\r\n</div>'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(3),i=(o=r)&&o.__esModule?o:{default:o},a=n(5);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(){return s(this,t),c(this,e.apply(this,arguments))}return u(t,e),t.getName=function(){return"SearchCommentController"},t.prototype.mounted=function(){var e=this;this.addDestroyHook(this.getPDFUI().addViewerEventListener(a.Events.willCloseDocument,(function(){e.component.setValue("")})))},t}(i.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(11),i=(o=r)&&o.__esModule?o:{default:o},a=n(5);function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.matchAnnotationCount=0,o.notMatchAnnotationCount=0,o.annotationCount=0,o}return s(t,e),t.getName=function(){return"search-comment-group"},t.prototype.componentMounted=function(){var e=this;this.component.getPDFUI().addViewerEventListener(a.ViewerEvents.renderPageSuccess,(function(t){if(e.controller.data.page){var n=e.controller.data.page.getIndex();t.getPDFPage().then((function(t){n===t.getIndex()&&e.broadcast("update-page-ui")}))}}))},t.prototype.receiveBroadcast=function(e,t){if("search"===e&&(this.annotationCount=this.component.annotationCount,this.matchAnnotationCount=0,this.notMatchAnnotationCount=0,0===this.annotationCount)){var n={matchCount:this.matchAnnotationCount,notMatchCount:this.notMatchAnnotationCount,annotationCount:this.annotationCount,groupIndex:this.controller.data.annotsItem.index};this.emit("pageSearchEnd",n)}},t.prototype.receiveEmit=function(e,t){var n=!0;switch(t){case"foundMatch":this.matchAnnotationCount++,n=!1;break;case"foundNotMatch":this.notMatchAnnotationCount++,n=!1}if(this.component.renderCountText(this.matchAnnotationCount),this.matchAnnotationCount+this.notMatchAnnotationCount>=this.annotationCount){var o={matchCount:this.matchAnnotationCount,notMatchCount:this.notMatchAnnotationCount,annotationCount:this.annotationCount,groupIndex:this.controller.data.annotsItem.index};this.emit("pageSearchEnd",o),0===this.matchAnnotationCount?this.component.addCSSClass("fv__ui-commentlist-search-not-match"):this.component.removeCSSClass("fv__ui-commentlist-search-not-match"),this.broadcast("update-page-ui")}return n},t}(i.default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(11),i=(o=r)&&o.__esModule?o:{default:o},a=n(563),s=n(161);function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.replyCount=0,o.matchReplyCount=0,o.notMatchReplyCount=0,o.currentIsMatch=!1,o.isNewlyAdded=!0,o.isMatchOnFinally=!0,o}return c(t,e),t.getName=function(){return"search-comment"},t.prototype.init=function(t){e.prototype.init.call(this,t),this.commentlist=t.getClosestComponentByType("comment-list")},t.prototype.getAnnotComponents=function(){var e=this.controller.getCurrentAnnot();return this.annotRenderPromise=this.component.getPDFUI().getPDFPageRender(e.getPDFPage().getIndex()).then((function(t){for(var n=[],o=e.isGrouped()?e.getGroupElements():[e],r=o.length;r--;)n[r]=t.getAnnotRender(o[r].getId());return n})).then((function(e){return e.map((function(e){return e?e.component:null}))}))},t.prototype.componentMounted=function(){},t.prototype.receiveBroadcast=function(e,t){var n=this;if("search"===e){this.matchReplyCount=0,this.notMatchReplyCount=0,this.replyCount=this.controller.data.replies.length;var o=this.controller.getCurrentAnnot();this.currentIsMatchFilter=this.commentlist.commentFilter(o),this.currentIsMatch=this.currentIsMatchFilter&&this.detectMatchAndRendering(t),0===this.replyCount&&(this.currentIsMatch?this.doFoundMatch():this.checkIsNewly().then((function(e){e?n.doFoundMatch():n.doFoundNotMatch()})))}else"update-page-ui"===e&&(this.isMatchOnFinally?this.doShowUI():this.doHideUI())},t.prototype.checkIsNewly=function(){var e=this;return this.component.getPDFUI().getStore().then((function(t){var n=t.getCurrentValue(s.DISPATCH_STORE_ANNOTATION_DISPLAYING),o=e.controller.getCurrentAnnot();if(!n||n.display){var r=t.getCurrentValue(s.DISPATCH_STORE_NEW_ANNOTATIONS);return!!r&&r.indexOf(o.getId())>-1}return!!n&&(!!n.newAnnots&&n.newAnnots.indexOf(o.getId())>-1)}))},t.prototype.doShowUI=function(){return this.getAnnotComponents().then((function(e){return Promise.all(e.map((function(e){return e&&e.showUI()})))}))},t.prototype.doHideUI=function(){return this.getAnnotComponents().then((function(e){return Promise.all(e.map((function(e){return e&&e.hideUI()})))}))},t.prototype.doFoundMatch=function(){this.isMatchOnFinally=!0,this.component.removeCSSClass("fv__ui-commentlist-search-not-match"),this.emit("foundMatch")},t.prototype.doFoundNotMatch=function(){this.isMatchOnFinally=!1,this.component.addCSSClass("fv__ui-commentlist-search-not-match"),this.emit("foundNotMatch")},t.prototype.detectMatchAndRendering=function(e){var t=this.component;if(e&&"[object Object]"===Object.prototype.toString.call(e))return!1;var n=this.controller.getCurrentAnnot(),o=n.getContent(),r=n.getTitle(),i=this.detectTypeMatch(n.getType(),e),s=this.detectTypeMatch(n.getIntent(),e),c=(0,a.findMatch)(o,e);(0,a.renderMatchResult)(t.messageElement,c,o);var u=(0,a.findMatch)(r,e);(0,a.renderMatchResult)(t.titleElement,u,r);var l=(0,a.findMatch)(t.displayingModifyTime,e,!1);return(0,a.renderMatchResult)(t.timeElement,l,t.displayingModifyTime),!!(c||u||i||s||l)},t.prototype.detectTypeMatch=function(e,t){return(0,a.findMatch)(e,t)},t.prototype.receiveEmit=function(e,t,n){var o=this,r=!1;switch(t){case"foundReplyMatch":this.matchReplyCount++;break;case"foundReplyNotMatch":this.notMatchReplyCount++;break;default:r=!1}return this.matchReplyCount+this.notMatchReplyCount===this.replyCount&&this.checkIsNewly().then((function(e){o.currentIsMatch||0!==o.matchReplyCount&&o.currentIsMatchFilter||e?o.doFoundMatch():o.doFoundNotMatch()})),r},t}(i.default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(11),i=(o=r)&&o.__esModule?o:{default:o},a=n(563);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(){return s(this,t),c(this,e.apply(this,arguments))}return u(t,e),t.getName=function(){return"search-comment-reply"},t.prototype.receiveBroadcast=function(e,t){if("search"===e){var n=this.controller.data.replyItem.annot;this.detectMatchAndRendering(t)?this.emit("foundReplyMatch",n):this.emit("foundReplyNotMatch",n)}return!1},t.prototype.detectMatchAndRendering=function(e){var t=this.component,n=this.controller.data.replyItem.annot,o=n.getTitle(),r=n.getContent(),i=(0,a.findMatch)(r,e);(0,a.renderMatchResult)(t.messageElement,i,r);var s=(0,a.findMatch)(o,e);(0,a.renderMatchResult)(t.titleElement,s,o);var c=(0,a.findMatch)(t.displayingModifyTime,e);return(0,a.renderMatchResult)(t.timeElement,c,t.displayingModifyTime),!!(i||s||c)},t}(i.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(17)),r=i(n(142));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=function(e){function t(){return a(this,t),s(this,e.apply(this,arguments))}return c(t,e),t.getName=function(){return"load-more"},t.getMetadata=function(){return{options:{"search-component":{type:"string"},"commentlist-component":"commentlistEx"}}},t.prototype.createDOMElement=function(){var e=document.createElement("div");return e.innerHTML='\n            <span class="fv__ui-commentlist-search-loadmore-more" data-i18n="sidebar.commentlist.search.loadmore"></span>\n            <span class="fv__ui-commentlist-search-loadmore-no-more" data-i18n="sidebar.commentlist.search.nomore"></span>\n        ',e},t.prototype.render=function(){e.prototype.render.call(this),this.element.classList.add("fv__ui-commentlist-search-loadmore","has-more")},t.prototype.hasMore=function(){this.element.classList.toggle("has-more",!0),this.element.classList.toggle("no-more",!1)},t.prototype.noMore=function(){this.element.classList.toggle("has-more",!1),this.element.classList.toggle("no-more",!0)},t.prototype.mounted=function(){var e=this,t=this.getClosestComponentByType(r.default.getName()).isLazy;if(this.hide(),t){var n=this.controller.getComponentByName(this["search-component"]),o=this.controller.getComponentByName(this["commentlist-component"]).controller;n.on("search",(function(){var t=n.hasValue(),r=o.isAllPagesLoaded();t?r||e.show():e.hide()})),this.attachEventToElement(this.element,"click",(function(){o.isAllPagesLoaded()?n.triggerHandler():(o.loadMorePages(10),e.show())}))}},t}(o.default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(n(17)),r=u(n(142)),i=u(n(564)),a=u(n(10)),s=n(161),c=n(36);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var f=function(e){function t(n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r));return i.isLoadComplete=!1,i.queued=new c.QueuedAsyncTaskExecutor,i}return l(t,e),t.getName=function(){return"load-all"},t.getMetadata=function(){return{options:{"search-component":{type:"string"},"commentlist-component":{type:"string"}}}},t.prototype.createDOMElement=function(){var e=document.createElement("div");return e.innerHTML='\n            <span class="fv__ui-commentlist-search-load-all-load" data-i18n="sidebar.commentlist.search.loadall"></span>\n            <span class="fv__ui-commentlist-search-load-all-loading" data-i18n="sidebar.commentlist.search.loading"></span>\n            <span class="fv__ui-commentlist-search-load-all-no-more" data-i18n="sidebar.commentlist.search.loadall-nomore"></span>\n        ',e},t.prototype.render=function(){e.prototype.render.call(this),this.element.classList.add("fv__ui-commentlist-search-load-all","has-more")},t.prototype.reset=function(){this.isLoadComplete=!1,this.hasMore(),this.show()},t.prototype.loadComplete=function(e){this.isLoadComplete||(this.removeCSSClass("loading"),this.matchAnnotationCountBeforeLoadAll===e&&this.searchComponent&&this.searchComponent.hasValue()?this.addCSSClass("no-more"):this.hide(),this.isLoadComplete=!0)},t.prototype.loading=function(){this.removeCSSClass("has-more"),this.addCSSClass("loading")},t.prototype.hasMore=function(){this.removeCSSClass("no-more"),this.removeCSSClass("loading"),this.addCSSClass("has-more")},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this),this.hide();var n=this.getClosestComponentByClass(r.default).isLazy;if(this.addDestroyHook(this.getPDFUI().addViewerEventListener(a.default.openFileSuccess,(function(){n&&t.show()})),this.getPDFUI().addViewerEventListener(a.default.willCloseDocument,(function(){t.isLoadComplete=!1,t.hasMore(),t.hide()}))),n){var o=this.controller.getComponentByName(this["search-component"]),c=this.controller.getComponentByName(this["commentlist-component"]),u=c.controller;this.searchComponent=o;var l=c.directive.getDirective(i.default.getName());this.pdfUI.getStore().then((function(e){t.addDestroyHook(o.on("search",(function(){var n=e.getCurrentValue(s.DISPATCH_STORE_ANNOTATION_DISPLAYING),r=!n||n.display,i=o.hasValue();u.isAllPagesLoaded()?i&&!t.isLoadComplete||t.hide():r?t.show():t.hide()})))})),this.attachEventToElement(this.element,"click",(function(){t.isLoadComplete||(t.matchAnnotationCountBeforeLoadAll=l.matchAnnotationCount,t.show(),t.loading(),u.loadAllPages().then((function(){t.hide()})))}))}},t}(o.default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(3)),r=i(n(10));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var s=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.isExpanded=!1,o}return a(t,e),t.getName=function(){return"ToggleCommentlistGroupController"},t.prototype.handle=function(){var e=this.getComponentByName("commentlistEx")||this.getComponentByName("commentlist");this.isExpanded?(this.component.setIconCls("fv__icon-sidebar-expand-comment-list"),e.deactiveAll()):(this.component.setIconCls("fv__icon-sidebar-collapse-comment-list"),e.activeAll()),this.isExpanded=!this.isExpanded},t.prototype.mounted=function(){var e=this;this.getPDFUI().addUIEventListener(r.default.appendCommentListGroup,(function(t){e.isExpanded?t.active():t.deactive()}))},t}(o.default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"toggle-commentlist-group-button",fragment:{template:'\n            <xbutton class="fv__ui-toggle-commentlist-group-button" @controller="comment-list:ToggleCommentlistGroupController" icon-class="fv__icon-sidebar-expand-comment-list"></xbutton>\n        '}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),r=s(n(6)),i=s(n(26)),a=s(n(1442));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}r.default.module("commentlist-inner",[]).controller("FilterDialogController",{init:function(){this.authors=[]},clearSelections:function(){this.component.clearSelections()},hideDialog:function(){this.component.hide()},applyFilter:function(){this.component.applyFilter(),this.component.hide()}});var f=function(e){function t(){return c(this,t),u(this,e.apply(this,arguments))}return l(t,e),t.getName=function(){return"filter-dialog"},t.prototype.postlink=function(){var e=this;this.reviewStateComponents=this.querySelectorAll("fv--filter-option-states"),this.filterByOriginalAuthoComponent=this.querySelector("fv--filter-option-by-original-author"),this.addDestroyHook(this.getPDFUI().addViewerEventListener(o.Events.openFileSuccess,(function(){e.clearSelections(),e.filterByOriginalAuthoComponent.setValue(!1),e.applyFilter()})))},t.prototype.getAllAuthorCheckboxs=function(){return this.querySelectorAll("fv--filter-option-author")},t.prototype.clearSelections=function(){this.reviewStateComponents.forEach((function(e){e.setValue(!1)})),this.getAllAuthorCheckboxs().forEach((function(e){e.setValue(!1)}))},t.prototype.applyFilter=function(){var e=this.getAllAuthorCheckboxs().filter((function(e){return e.getValue()})).map((function(e){return e.getAttribute("model")})),t=this.reviewStateComponents.filter((function(e){return e.getValue()})).map((function(e){return e.getAttribute("state")}));this.trigger("apply-filter",{selectedAuthors:e,selectedReviewStates:t,filterByOriginalAuthor:this.filterByOriginalAuthoComponent.getValue()})},t.prototype.updateData=function(e,t){var n=e.map((function(e){return e.getTitle()})).concat(t.map((function(e){return e.getTitle()}))).filter((function(e){return"string"==typeof e})),o=void 0;if(window.Set){var r=new window.Set(n);o=Array.from(r)}else o=[],n.forEach((function(e){-1===o.indexOf(e)&&o.push(e)}));this.controller.authors=o,this.controller.digest()},t}(i.default.createSuperClass({template:(0,a.default)()}));t.default=f},function(e,t,n){n(2);e.exports=function(e){"use strict";e=e||{};return'<layer modal backdrop="false" append-to="body" class="center fv__ui-commentlist-filter-dialog" @controller="commentlist-inner:FilterDialogController as dlg">\r\n    <layer-header title="sidebar.commentlist.search.filter.title" @draggable="{type: \'parent\'}"></layer-header>\r\n    <layer-view>\r\n        <div class="fv__ui-commentlist-filter-fieldset fv__ui-commentlist-filter-fieldset-states">\r\n            <div class="fv__ui-commentlist-filter-fieldset-header">\r\n                @{\'sidebar.commentlist.search.filter.fieldset-status\'}\r\n            </div>\r\n            <div class="fv__ui-commentlist-filter-fieldset-body">\r\n                <label class="fv__ui-commentlist-filter-option">\r\n                    <input type="checkbox" name="fv--filter-option-states" state="none">\r\n                    <span class="fv--ui-commentlist-fielter-fieldset-label" data-i18n="sidebar.commentlist.states.none"></span>\r\n                </label>\r\n                <label class="fv__ui-commentlist-filter-option">\r\n                    <input type="checkbox" name="fv--filter-option-states" state="accepted">\r\n                    <span class="fv--ui-commentlist-fielter-fieldset-label" data-i18n="sidebar.commentlist.states.accepted"></span>\r\n                </label>\r\n                <label class="fv__ui-commentlist-filter-option">\r\n                    <input type="checkbox" name="fv--filter-option-states" state="rejected">\r\n                    <span class="fv--ui-commentlist-fielter-fieldset-label" data-i18n="sidebar.commentlist.states.rejected"></span>\r\n                </label>\r\n                <label class="fv__ui-commentlist-filter-option">\r\n                    <input type="checkbox" name="fv--filter-option-states" state="completed">\r\n                    <span class="fv--ui-commentlist-fielter-fieldset-label" data-i18n="sidebar.commentlist.states.completed"></span>\r\n                </label>\r\n                <label class="fv__ui-commentlist-filter-option">\r\n                    <input type="checkbox" name="fv--filter-option-states" state="cancelled">\r\n                    <span class="fv--ui-commentlist-fielter-fieldset-label" data-i18n="sidebar.commentlist.states.cancelled"></span>\r\n                </label>\r\n            </div>\r\n        </div>\r\n        \x3c!-- authorç­éè¦æ±commentåææreplyé½å½ä¸­æç®å¹é --\x3e\r\n        <div class="fv__ui-commentlist-filter-fieldset fv__ui-commentlist-filter-fieldset-author">\r\n            <div class="fv__ui-commentlist-filter-fieldset-header">\r\n                @{\'sidebar.commentlist.search.filter.fieldset-author\'}\r\n            </div>\r\n            <ul class="fv__ui-commentlist-filter-fieldset-body">\r\n                <li @foreach="author in dlg.authors track by $self">\r\n                    <label class="fv__ui-commentlist-filter-option">\r\n                        <input type="checkbox" name="fv--filter-option-author" @sync.attr.model="author">\r\n                        <span class="fv--ui-commentlist-fielter-fieldset-label">\r\n                            @{author}\r\n                        </span>\r\n                    </label>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n        \x3c!-- å¾éè¯¥é¡¹ï¼åªç­écomment,ä¸ç­éreply --\x3e\r\n        <label class="fv__ui-commentlist-filter-fieldset fv__ui-commentlist-filter-fieldset-original-author">\r\n            <input type="checkbox" name="fv--filter-option-by-original-author">\r\n            <span class="fv--ui-commentlist-fielter-fieldset-label">\r\n                @{\'sidebar.commentlist.search.filter.fieldset-original-author\'}\r\n            </span>\r\n        </label>\r\n    </layer-view>\r\n    <layer-toolbar>\r\n        <a @on.native.click="dlg.clearSelections()" name="fv--commentlist-filter-clear-selection-btn" class="fv__ui-commentlist-filter-clear-selection-btn" href="javascript:;" data-i18n="sidebar.commentlist.search.filter.clear-selection-btn"></a>\r\n        <xbutton @on.click="dlg.hideDialog()" name="fv--commentlist-filter-cancel-btn" class="fv__ui-dialog-cancel-button">common-dialogs.cancel</xbutton>\r\n        <xbutton @on.click="dlg.applyFilter()" name="fv--commentlist-filter-ok-btn" class="fv__ui-dialog-ok-button">common-dialogs.ok</xbutton>\r\n    </layer-toolbar>\r\n</layer>','<layer modal backdrop="false" append-to="body" class="center fv__ui-commentlist-filter-dialog" @controller="commentlist-inner:FilterDialogController as dlg">\r\n    <layer-header title="sidebar.commentlist.search.filter.title" @draggable="{type: \'parent\'}"></layer-header>\r\n    <layer-view>\r\n        <div class="fv__ui-commentlist-filter-fieldset fv__ui-commentlist-filter-fieldset-states">\r\n            <div class="fv__ui-commentlist-filter-fieldset-header">\r\n                @{\'sidebar.commentlist.search.filter.fieldset-status\'}\r\n            </div>\r\n            <div class="fv__ui-commentlist-filter-fieldset-body">\r\n                <label class="fv__ui-commentlist-filter-option">\r\n                    <input type="checkbox" name="fv--filter-option-states" state="none">\r\n                    <span class="fv--ui-commentlist-fielter-fieldset-label" data-i18n="sidebar.commentlist.states.none"></span>\r\n                </label>\r\n                <label class="fv__ui-commentlist-filter-option">\r\n                    <input type="checkbox" name="fv--filter-option-states" state="accepted">\r\n                    <span class="fv--ui-commentlist-fielter-fieldset-label" data-i18n="sidebar.commentlist.states.accepted"></span>\r\n                </label>\r\n                <label class="fv__ui-commentlist-filter-option">\r\n                    <input type="checkbox" name="fv--filter-option-states" state="rejected">\r\n                    <span class="fv--ui-commentlist-fielter-fieldset-label" data-i18n="sidebar.commentlist.states.rejected"></span>\r\n                </label>\r\n                <label class="fv__ui-commentlist-filter-option">\r\n                    <input type="checkbox" name="fv--filter-option-states" state="completed">\r\n                    <span class="fv--ui-commentlist-fielter-fieldset-label" data-i18n="sidebar.commentlist.states.completed"></span>\r\n                </label>\r\n                <label class="fv__ui-commentlist-filter-option">\r\n                    <input type="checkbox" name="fv--filter-option-states" state="cancelled">\r\n                    <span class="fv--ui-commentlist-fielter-fieldset-label" data-i18n="sidebar.commentlist.states.cancelled"></span>\r\n                </label>\r\n            </div>\r\n        </div>\r\n        \x3c!-- authorç­éè¦æ±commentåææreplyé½å½ä¸­æç®å¹é --\x3e\r\n        <div class="fv__ui-commentlist-filter-fieldset fv__ui-commentlist-filter-fieldset-author">\r\n            <div class="fv__ui-commentlist-filter-fieldset-header">\r\n                @{\'sidebar.commentlist.search.filter.fieldset-author\'}\r\n            </div>\r\n            <ul class="fv__ui-commentlist-filter-fieldset-body">\r\n                <li @foreach="author in dlg.authors track by $self">\r\n                    <label class="fv__ui-commentlist-filter-option">\r\n                        <input type="checkbox" name="fv--filter-option-author" @sync.attr.model="author">\r\n                        <span class="fv--ui-commentlist-fielter-fieldset-label">\r\n                            @{author}\r\n                        </span>\r\n                    </label>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n        \x3c!-- å¾éè¯¥é¡¹ï¼åªç­écomment,ä¸ç­éreply --\x3e\r\n        <label class="fv__ui-commentlist-filter-fieldset fv__ui-commentlist-filter-fieldset-original-author">\r\n            <input type="checkbox" name="fv--filter-option-by-original-author">\r\n            <span class="fv--ui-commentlist-fielter-fieldset-label">\r\n                @{\'sidebar.commentlist.search.filter.fieldset-original-author\'}\r\n            </span>\r\n        </label>\r\n    </layer-view>\r\n    <layer-toolbar>\r\n        <a @on.native.click="dlg.clearSelections()" name="fv--commentlist-filter-clear-selection-btn" class="fv__ui-commentlist-filter-clear-selection-btn" href="javascript:;" data-i18n="sidebar.commentlist.search.filter.clear-selection-btn"></a>\r\n        <xbutton @on.click="dlg.hideDialog()" name="fv--commentlist-filter-cancel-btn" class="fv__ui-dialog-cancel-button">common-dialogs.cancel</xbutton>\r\n        <xbutton @on.click="dlg.applyFilter()" name="fv--commentlist-filter-ok-btn" class="fv__ui-dialog-ok-button">common-dialogs.ok</xbutton>\r\n    </layer-toolbar>\r\n</layer>'}},function(e,t,n){"use strict";var o=s(n(6)),r=s(n(1444)),i=s(n(1446)),a=s(n(1447));function s(e){return e&&e.__esModule?e:{default:e}}n(566);var c=o.default.module("bookmark",[]);c.registerComponent(r.default),c.registerController(i.default),c.registerController(a.default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=l(n(17)),r=l(n(6)),i=l(n(565)),a=(l(n(2)),l(n(10))),s=l(n(4));n(566);var c=n(153),u=l(n(1445));n(152);function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var h=function(e){function t(){return f(this,t),p(this,e.apply(this,arguments))}return d(t,e),t.getName=function(){return"bookmark-panel"},t.prototype.createDOMElement=function(){return document.createElement("div")},t.prototype.render=function(){e.prototype.render.call(this),this.element.addClass("fv__ui-bookmark-container"),this.$html=(0,s.default)(this.element),this.events(),this.element.oncontextmenu=function(e){e.preventDefault()}},t.prototype.rending=function(){},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this),this.bookmarksJson=[],this.getPDFUI().getPDFViewer().then((function(e){t.pdfViewer=e})),this.dragable=u.default.create(this.element,{draggable:"fv__bookmark-item",dragClass:"dragable-drag",chosenClass:"dragable-chosen",dragOverStrict:!1,onStart:function(e){var n=e.attrs.id,o=t.$html.find('.fv__bookmark-item[data-id="'+n+'"]').parent(),r=o.next(".fv__bookmark-child");r.children().length>0&&!r.hasClass("fv__hide")&&o.find(".fv__tree-fold-btn").click(),t.activeItem(n)},onHover:function(e){var n=e.attrs.id,o=t.$html.find('.fv__bookmark-item[data-id="'+n+'"]').parent(),r=o.next(".fv__bookmark-child");r.children().length>0&&r.hasClass("fv__hide")&&o.find(".fv__tree-fold-btn").click()},onEnd:function(e){e.end&&t.getPDFUI().eventEmitter.emit("bookmark-move",{fromBookmarkId:e.fromAttrs.id,endBookmarkId:e.endAttrs.id,relationship:"SPAN"===e.end.nodeName?1:3})}})},t.prototype.expandBookmarkTree=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=e.parent().next();if(n&&o.find(".fv__tree-fold-btn").each((function(e,n){t.expandBookmarkTree((0,s.default)(n),!0)})),o.hasClass("fv__hide")){var r=e.find(".fv__tree-icon");r.hasClass("fv__plug_pc_ui")?r.removeClass("fv__plug_pc_ui").addClass("fv__minus_pc_ui").data("last-class","fv__plug_pc_ui"):r.hasClass("fv__plugbottom_pc")?r.removeClass("fv__plugbottom_pc").addClass("fv__minus_pc_ui").data("last-class","fv__plugbottom_pc"):r.hasClass("fv__plugtop_pc")?r.removeClass("fv__plugtop_pc").addClass("fv__minustop_pc").data("last-class","fv__plugtop_pc"):r.hasClass("fv__plugonly_pc")&&r.removeClass("fv__plugonly_pc").addClass("fv__minusonly_pc").data("last-class","fv__plugonly_pc"),o.removeClass("fv__hide")}},t.prototype.collapseBookmarkTree=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=e.parent().next();if(n&&o.find(".fv__tree-fold-btn").each((function(e,n){t.collapseBookmarkTree((0,s.default)(n),!0)})),!o.hasClass("fv__hide")){var r=e.find(".fv__tree-icon");r.removeClass(["fv__minus_pc_ui","fv__minustop_pc","fv__minusonly_pc"]).addClass(r.data("last-class")),o.addClass("fv__hide")}},t.prototype.events=function(){var e=this;this.$html.on("click",".fv__tree-fold-btn",(function(e){e.preventDefault();(0,s.default)(e.currentTarget);var t=(0,s.default)(e.currentTarget).parent().next(),n=(0,s.default)(e.currentTarget).find(".fv__tree-icon");t.hasClass("fv__hide")?(n.hasClass("fv__plug_pc_ui")?n.removeClass("fv__plug_pc_ui").addClass("fv__minus_pc_ui").data("last-class","fv__plug_pc_ui"):n.hasClass("fv__plugbottom_pc")?n.removeClass("fv__plugbottom_pc").addClass("fv__minus_pc_ui").data("last-class","fv__plugbottom_pc"):n.hasClass("fv__plugtop_pc")?n.removeClass("fv__plugtop_pc").addClass("fv__minustop_pc").data("last-class","fv__plugtop_pc"):n.hasClass("fv__plugonly_pc")&&n.removeClass("fv__plugonly_pc").addClass("fv__minusonly_pc").data("last-class","fv__plugonly_pc"),t.removeClass("fv__hide")):(n.removeClass(["fv__minus_pc_ui","fv__minustop_pc","fv__minusonly_pc"]).addClass(n.data("last-class")),t.addClass("fv__hide"))})),this.$html.on("click",".fv__bookmark-item",(function(t){t.preventDefault(),e.controller.ignoreScrollEvent=!0;var n=(0,s.default)(t.currentTarget),o=n.data("id"),r=n.data("page"),i=(n.data("left"),n.data("top")),c=e.getPDFUI();if(n.hasClass("fv__active")&&t.originalEvent)c.eventEmitter.emit("bookmark-rename",o);else if((0,s.default)(".fv__bookmark-item").removeClass("fv__active"),n.addClass("fv__active"),!(r<0||0!==r&&!r)){0==i?c.goToPage(r,i,0,!1):c.goToPage(r,i),e.currentBookmarkId=o;var u=e.bookmarksJson.find((function(e){return e.id===o}));c.eventEmitter.emit(a.default.bookmarkSelected,u)}})),this.addDestroyHook(this.pdfUI.addViewerEventListener(a.default.pageNumberChange,(function(){e.controller.ignoreScrollEvent=!1}))),(0,c.attachContextMenuEvent)(this.$html.get(0),(function(t){t.preventDefault();var n=(0,s.default)(t.target),o=e.getCutItem(),r=o.parent().next(".fv__bookmark-child"),i=void 0;i=n.hasClass("fv__bookmarks_list")?n.find(".fv__bookmark-item"):n.parents(".fv__bookmarks_list").find(".fv__bookmark-item"),e.checkPermissions().then((function(n){(0,s.default)(".fv__bookmark-item").removeClass("fv__active"),i.addClass("fv__active"),e.getPDFUI().getComponentByName("fv--bookmark-contextmenu").then((function(e){if(e){e.getComponentByName("fv--contextmenu-item-cut");var n=e.getComponentByName("fv--contextmenu-item-pasteUnder"),a=e.getComponentByName("fv--contextmenu-item-pasteAfter");o.length>0&&!i.hasClass("fv__cut")&&0===r.find(i).length?(n.show(),a.show()):(n.hide(),a.hide()),e.setCurrentTarget(i),e.showAt(t.pageX,t.pageY)}}))}))})),this.addDestroyHook((function(){e.$html.off("click",".fv__tree-fold-btn")}),(function(){e.$html.off("click",".fv__bookmark-item")}),(function(){e.dragable.destory()}))},t.prototype.update=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];function n(e){var t=[];e&&e.children.forEach((function(e){!function e(n){t.push(n);var o=n.children;o&&o.forEach((function(t){e(t)}))}(e)}));return t}this.element.innerHTML=(0,i.default)(t),this.getPDFUI().getCurrentPDFDoc().then((function(t){t&&t.getRootBookmark().then((function(t){e.bookmarksJson=n(t)}))}))},t.prototype.activeItem=function(e){if(this.currentBookmarkId!==e)if(this.currentBookmarkId=e,e){this.$html.find(".fv__bookmark-item").removeClass("fv__active");var t=this.$html.find('.fv__bookmark-item[data-id="'+e+'"]');t.addClass("fv__active");var n=t.parents(".fv__bookmark-child");if((n=n.prev(".fv__bookmarks_list")).length>0){var o=n.find(".fv__tree-fold-btn");this.expandBookmarkTree(o,!0)}var r=this.parent.bodyElement.scrollLeft;t.length>0&&t[0].scrollIntoView({block:"center",inline:"nearest"}),this.parent.bodyElement.scrollLeft=r}else this.parent.bodyElement.scrollTop=0},t.prototype.checkPermissions=function(){var e=this.pdfViewer.getCurrentPDFDoc().getPermissions();return new Promise((function(t,n){8&e&&32&e&&t(!0)}))},t.prototype.removeItem=function(e){var t=this.$html.find('[data-id="'+e+'"]').parents(".fv__bookmarks_list"),n=t.next(".fv__bookmark-child");t.remove(),n.remove()},t.prototype.showRenameInput=function(e,t){var n=this.$html.find('[data-id="'+e+'"]'),o=n.find("span"),r=o.text(),i='<input type="text" spellcheck="false" value="'+r+'">';o.replaceWith(i);var a=n.find("input");a.off().focus().select().on("click blur keyup",(function(e){var n=e.target.value;"click"===e.type?e.stopPropagation():27===e.keyCode?(a.replaceWith(o),a.off()):"blur"!==e.type&&13!==e.keyCode||(n&&n!==r&&(t(n),o.text(n),o.attr("title",n)),a.replaceWith(o),a.off())}))},t.prototype.updateItem=function(e,t){var n=this.$html.find('[data-id="'+e+'"]');for(var o in t){var r=t[o];"pageIndex"===o?n.attr("data-page",r).data("page",r):"top"===o?n.attr("data-top",r).data("top",r):"left"===o?n.attr("data-left",r).data("left",r):"name"===o&&n.find("span").text(r)}},t.prototype.setCutItem=function(e){this.removeCutItem(),this.$html.find('[data-id="'+e+'"]').addClass("fv__cut")},t.prototype.getCutItemId=function(){return this.getCutItem().attr("data-id")},t.prototype.removeCutItem=function(){this.$html.find(".fv__cut").removeClass("fv__cut")},t.prototype.getCutItem=function(){return this.$html.find(".fv__cut")},t}(o.default);t.default=h,r.default.root().getRegistry().registerComponent(h)},function(e,t,n){"use strict";var o,r;
/**!
 * Dragable ææ½æåºæä»¶
 * 
 * option = {
 * 	 draggable: '', // [å¿å¡«] åè®¸ææ½çèç¹ç±»å
 * 	 dragClass: '', // æ­£å¨è¢«ææ½ä¸­çcssç±»å
 * 	 chosenClass: '', // è¢«éä¸­é¡¹çcss ç±»å
 *   dragOverStrict: true, // æ¯å¦ä¸¥æ ¼çdragoveräºä»¶æº, true: äºä»¶æºå§ç»æ¯ draggableåæ°æåçdom, false: å¯ä»¥æ¯å½åææ½ç»è¿çä»»ä½å­èç¹
 * 	 onStart: '', // ææ½å¼å§äºä»¶
 *   onHover: '', // ææ½æ¬åäºä»¶
 *   onEnd: ''// ææ½ç»æäºä»¶
 * }
 * 
 * æ³¨æï¼å¯ææ½çèç¹å°½éä¸è¦ä½¿ç¨aæ ç­¾ï¼å¨IEä¸å¼å®¹ä¸å¥½
 */void 0===(r="function"==typeof(o=function(e){if("undefined"==typeof window||!window.document)return function(){throw new Error(e+".js requires a window with a document")};var t={add:function(e,n,o,r){t._eventFun=function(e){o&&o.call(r,e)},e.addEventListener(n,t._eventFun,!1)},remove:function(e,n){e.removeEventListener(n,t._eventFun,!1),t._eventFun=void 0}};Node.prototype.parents=function(e){var t=this.parentNode;return this.classList.contains(e)||"BODY"===t.nodeName?this:t.parents(e)},Node.prototype.hasChildren=function(e){for(var t=e;t;){if(this===t)return!0;t=t.parentNode}return!1};var n=function(e,t){if(e){var n={};if(e.dataset)n=e.dataset;else for(var o=0;o<e.attributes.length;o++){var r=e.attributes[o];if(0===r.name.indexOf("data-")){var i=r.name.replace("data-",""),a=r.value;n[i]=a}}for(var i in t)a=t[i],e.dataset?e.dataset[i]=a:e.setAttribute("data-"+i,a);return n}};function o(t,n){if(this.options=Object.assign({draggable:"",dragClass:e+"-drag",chosenClass:e+"-chosen",dragOverStrict:!0,onStart:"",onHover:"",onEnd:""},n),!t)throw new Error("el must be a dom node: "+t);if(!this.options.draggable)throw new Error("draggable class cannot be a empty string: "+this.options.draggable);this.el=t,this._bindEvent(),this._appendStyle(),this._cache={overData:[],doms:[]}}return"function"!=typeof Object.assign&&(Object.prototype.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");e=Object(e);for(var t=1;t<arguments.length;t++){var n=arguments[t];if(null!=n)for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}),o.prototype={_addClass:function(e,t,n){n&&this._removeClass(t,e),e.classList.add(t)},_removeClass:function(e,t){var n=this;(e=e instanceof Array?e:[e]).forEach((function(e){for(var o=n.el.querySelectorAll("."+e),r=0;r<o.length;r++){var i=o[r];t&&i===t||i.classList.remove(e)}}))},_initDragEvent:function(e){if(e){var t=this;e.draggable=!0,e.ondragstart=function(e){t._onDragstart.call(t,e)},e.ondragover=function(e){e.preventDefault(),t._onDragover.call(t,e)},e.ondragenter=function(e){e.stopPropagation(),t._onDragenter.call(t,e)},e.ondragleave=function(e){t._onDragleave.call(t,e)},e.ondragend=function(e){t._onDragend.call(t,e)},e.ondrop=function(e){t._onDrop.call(t,e)}}},_setInventedNode:function(){var e=this.options.draggable;if(this._inventedNodeClassName="_"+e,!this.el.querySelector("."+this._inventedNodeClassName)){var t=this.el.querySelectorAll("."+e)[0],o=t.getBoundingClientRect(),r=document.createElement("div");r.classList.add(e),r.classList.add(this._inventedNodeClassName),n(r,{id:"-1"}),r.style.position="absolute",r.style.width=o.width+"px",r.style.height=parseInt(o.height/2)+"px",r.style.top=t.offsetTop+"px",r.style.left=t.offsetLeft+"px",r.style.transform="rotateZ(180deg)",r.style.borderWidth="1px",r.style.overflow="hidden",r.style.backgroundColor="rgba(0, 0, 0, 0)",r.style.zIndex="999",this._initDragEvent(r),this.el.insertBefore(r,this.el.childNodes[0])}},_removeInventedNode:function(){var e=this.el.querySelector("."+this._inventedNodeClassName);e&&(e.remove?e.remove():e.removeNode(!0))},_isTopest:function(e){var t=this.el.getBoundingClientRect();return e.clientY-t.y<12},_bindEvent:function(){t.add(this.el,"pointerdown",this._setDraggable,this)},_appendStyle:function(){this._style=document.createElement("style"),this._style.innerHTML="."+this.options.chosenClass+" {border-bottom: dashed 1px #000;}",document.head.appendChild(this._style)},_setDraggable:function(e){var t;this.options.draggable.trim()&&(t=this.el.querySelectorAll("."+this.options.draggable)),t&&0!==t.length||(t=this.el.children);for(var n=0;n<t.length;n++){var o=t[n];this._initDragEvent(o)}this._cache.doms=t},_onDragstart:function(e){var t=e.target;this._setInventedNode(),this._addClass(t,this.options.dragClass,!0),e.dataTransfer.setDragImage&&e.dataTransfer.setDragImage(e.target.cloneNode(),0,0),this.end=null,this.from=t;var o=t.parents(this.options.draggable);this.fromAttrs=Object.assign(n(o),{text:o.innerText.trim()}),this.options.onStart&&this.options.onStart({dom:this.from,attrs:this.fromAttrs})},_onDragover:function(e){var t=e.target.parents(this.options.draggable);if(-1===this._cache.overData.indexOf(t)&&(this._cache.overData=[]),this._cache.overData.push(t),20===this._cache.overData.length){var o=Object.assign(n(t),{text:t.innerText.trim()});this.options.onHover&&t!==this.from&&this.options.onHover({dom:t,attrs:o})}},_onDragenter:function(e){var t=this.options.dragOverStrict?e.target.parents(this.options.draggable):e.target;"#text"===t.nodeName&&(t=t.parentNode),this.end=t,this._addClass(t,this.options.chosenClass,!0)},_onDragleave:function(e){},_onDrop:function(e){var t=e.target;t.querySelector("."+this.options.chosenClass)||(this.end=t)},_onDragend:function(e){this._cache.overData=[],this._removeClass([this.options.chosenClass]),this._removeInventedNode();var t=this.end,o=t&&t.parents(this.options.draggable),r=o&&Object.assign(n(o),{text:o.innerText.trim()});o!==this.from&&this.options.onEnd&&this.options.onEnd({from:this.from,fromAttrs:this.fromAttrs,end:t,endAttrs:r})},destory:function(){t.remove(this.el,"pointerdown"),document.head.removeChild(this._style),this._cache.doms.forEach((function(e){e.removeAttribute("draggable"),e.ondragstart=null,e.ondragover=null,e.ondragenter=null,e.ondragleave=null,e.ondragend=null,e.ondrop=null})),this._cache=null}},o.create=function(e,t){return new o(e,t)},o.version="1.0.0",o})?o.call(t,n,t,e):o)||(e.exports=r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=c(n(3)),i=c(n(1)),a=n(8),s=n(403);function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n))}return u(t,e),t.getName=function(){return"BookmarkSidebarPanelController"},t.prototype.mounted=function(){var e=this;this.loaded=!1;var t=this.getPDFUI(),n=this.getComponentByName("sidebar-bookmark");this.addDestroyHook(t.addViewerEventListener(i.default.openFileSuccess,(function(t){e.loaded=!1,e.currentDoc=t,n.isActive&&e.updateBookmarks()})),t.addViewerEventListener(i.default.willCloseDocument,(function(){e.currentDoc=null}))),n.on(a.COMPONENT_EVENTS.ACTIVE,(function(t){!e.loaded&&e.currentDoc&&e.updateBookmarks().then((function(){return e.activateCurrentBookmarkItem()}))})),this.addDestroyHook(t.addViewerEventListener(i.default.pageMoved,(function(t,n){e.loaded&&e.currentDoc&&e.updateBookmarks()})),t.addViewerEventListener(i.default.pagesMoved,(function(t,n){e.loaded&&e.currentDoc&&e.updateBookmarks()})),t.addViewerEventListener(i.default.pageAdded,(function(t){e.loaded&&e.currentDoc&&e.updateBookmarks()})),t.addViewerEventListener(i.default.insertPages,(function(t){e.loaded&&e.currentDoc&&e.updateBookmarks()})),t.addViewerEventListener(i.default.pageRemoved,(function(t){e.loaded&&e.currentDoc&&e.updateBookmarks()})),t.addViewerEventListener(i.default.pagesRemoved,(function(t){e.loaded&&e.currentDoc&&e.updateBookmarks()})),t.addViewerEventListener(i.default.bookmarkAdded,(function(t){e.loaded&&e.currentDoc&&e.updateBookmarks(),setTimeout((function(){e.component.activeItem(t.id)}),100)})),t.addViewerEventListener(i.default.bookmarkUpdated,(function(t){e.loaded&&e.currentDoc&&(e.updateBookmarks(),t&&"active"===t.type&&setTimeout((function(){e.component.activeItem(t.bookmark.id)}),100))})),t.addViewerEventListener(i.default.bookmarkRemoved,(function(t){e.loaded&&e.currentDoc&&e.updateBookmarks()})),t.addViewerEventListener(i.default.willCloseDocument,(function(){e.component.update([])})));var o=new s.DebounceAsyncTaskExecutor;t.getScrollWrap().then((function(t){e.isDestroyed||e.addDestroyHook(t.addScrollEventListener((function(){e.ignoreScrollEvent||o.exec((function(){return e.activateCurrentBookmarkItem()}))})))}))},t.prototype.activateCurrentBookmarkItem=function(){var e=this;if(this.currentDoc&&this.bookmarkArray)return this.getPDFUI().getPDFViewer().then((function(t){if(!e.isDestroyed){var n=t.getScrollWrap(),r=t.getPDFDocRender();if(r){for(var i=r.getContainerVisiblePageIndexes(),a=e.bookmarkArray.filter((function(e){return i.indexOf(e.page)>-1})),s=i[0];s>-1&&0===a.length;)a=e.bookmarkArray.filter((function(e){return e.page===s})),s--;a=a.map((function(e){var t=r.getPDFPageRender(e.page),n=t.page;if(!n)return e;if(0===e.top)e.offsetTop=t.$ui[0].offsetTop;else{var i=n.getDevicePoint([0,e.top],t.scale,t.rotate),a=o(i,2)[1],s=t.$ui[0].offsetTop+a;e.offsetTop=s}return e})).sort((function(e,t){return e.offsetTop>t.offsetTop?1:-1}));var c=n.getScrollTop(),u=void 0;a.some((function(e){return e.page<i[0]?((!u||e.top<u.top)&&(u=e),!1):!(c>=e.offsetTop)||(u=e,!1)})),u?e.component.activeItem(u.id):e.component.activeItem(void 0)}}}))},t.prototype.updateBookmarks=function(){var e=this;return this.currentDoc.getBookmarksJson().then((function(t){e.loaded=!0,t?(e.bookmarkArray=e.flatternBookmarks(t),e.component.update(t.children)):(e.bookmarkArray=[],e.component.update([]))}))},t.prototype.flatternBookmarks=function(e){var t=[];return function e(n){t.push.apply(t,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(n)),n.forEach((function(t){e(t.children)}))}(e.children),t},t}(r.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=i(n(3));i(n(1));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var s=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.component=n,o}return a(t,e),t.getName=function(){return"BookmarkSidebarMenuController"},t.prototype.mounted=function(){var e=this,t=this.pdfUI;t.getPDFViewer().then((function(t){e.pdfViewer=t})),t.getComponentByName("fv--bookmark-contextmenu").then((function(t){e.contextmenu=t})),t.getComponentByName("fv-bookmark-sidebar-panel").then((function(t){e.bookmarkComponent=t})),t.getRootComponent().then((function(t){t.append('\n                <layer name="bookmark-dialog" class="fv__popup-dialog center fv__ui-bookmark-dialog" @resizable backdrop style="max-height: calc(100vh - 40px); overflow: auto;">\n                    <layer-header title="sidebar.bookmark.confirm.title"></layer-header>\n                    <div class="fv__popup-bookmark-body">sidebar.bookmark.confirm.content</div>\n                    <div class="fv__ui-bookmark-destination-bar">\n                        <label class="fv__ui-bookmark-destination-dont-show">\n                            <input type="checkbox" name="notAgain"/>\n                            <div data-i18n="sidebar.bookmark.confirm.notAgain"></div>\n                        </label>\n                        <div class="fv__ui-bookmark-destination-btns">\n                            <xbutton data-action="NO" class="fv__ui-dialog-button fv__ui-dialog-cancel-button">sidebar.bookmark.confirm.cancelButton</xbutton>\n                            <xbutton data-action="OK" class="fv__ui-dialog-ok-button">sidebar.bookmark.confirm.confirmButton</xbutton>\n                        </div>\n                    </div>\n                </layer>\n            '),e.confirmDialog=e.getComponentByName("bookmark-dialog"),(e.confirmDialogButtons=e.confirmDialog.element.querySelectorAll(".fv__ui-button")).forEach((function(t){t.addEventListener("click",(function(t){e.dialogButtonEvent(t)}))}))})),this.addDestroyHook(t.addViewerEventListener("bookmark-rename",(function(t){e.renameBookmark(t)})),t.addViewerEventListener("bookmark-move",(function(t){var n=t.fromBookmarkId,o=t.endBookmarkId,r=t.relationship,i=void 0===r?3:r,a=e.pdfViewer.currentPDFDoc,s=e.getBookmarkById(n),c=e.getBookmarkById(o);1===i&&c&&s.parent&&c.id===s.parent.id?s.moveTo(c,0):(-1==o&&(c=a.bookmarkRoot,i=0),s.moveTo(c,i))})))},t.prototype.handle=function(e){var t=this;this.contextmenu.hide(),this.component.parent.element.removeClass("fv__ui-hide");var n=this.contextmenu.getCurrentTarget();if(n){var o=n.data("id"),r=this.component.name,i=this.getBookmarkById(o);switch(r){case"fv--contextmenu-item-add":var a=this.getCurrentPosition(),s=a.top,c=a.left,u=a.pageIndex;this.addBookmark(i,{pageIndex:u,title:this.pdfUI.i18n.t("sidebar.bookmark.untitled"),top:s,left:c,relationship:3}).then((function(e){setTimeout((function(){t.bookmarkComponent.showRenameInput(e.id,(function(t){e.setProperty({title:t},!1)}))}),100)}));break;case"fv--contextmenu-item-rename":this.renameBookmark(o);break;case"fv--contextmenu-item-delete":this.bookmarkComponent.removeItem(o),i.remove();break;case"fv--contextmenu-item-goTo":n.trigger("click");break;case"fv--contextmenu-item-destination":this.notAgain?this.setDestination():this.confirmDialog.show();break;case"fv--contextmenu-item-cut":this.bookmarkComponent.setCutItem(o);break;case"fv--contextmenu-item-pasteUnder":this.getCutItemBookmark().moveTo(i,1);break;case"fv--contextmenu-item-pasteAfter":this.getCutItemBookmark().moveTo(i,3)}}},t.prototype.destroy=function(){},t.prototype.getBookmarkById=function(e){var t=void 0;return function n(o){var r=!0,i=!1,a=void 0;try{for(var s,c=o[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var u=s.value;if(t)break;if(u.id==e){t=u;break}u.children&&u.children.length>0&&n(u.children)}}catch(e){i=!0,a=e}finally{try{!r&&c.return&&c.return()}finally{if(i)throw a}}}(this.pdfViewer.currentPDFDoc.bookmarkRoot.children),t},t.prototype.getCurrentPosition=function(){var e=this.pdfViewer.getDeviceCurrentPosition(),t=e.top,n=e.left,r=e.pageIndex;n=n<0?0:n,t=Math.max(t,Math.max(8,t)),t-=8;var i=this.pdfViewer.getPDFPageRender(r),a=i.page,s=i.getScale(),c=i.getRotation(),u=a.reverseDevicePoint([n,t],s,c),l=o(u,2);return n=l[0],{top:t=l[1],left:n,pageIndex:r}},t.prototype.dialogButtonEvent=function(e){this.confirmDialog.hide();var t=e.target,n=this.confirmDialog.element.querySelector(".fv__ui-bookmark-destination-dont-show > input");t.classList.contains("fv__ui-dialog-ok-button")||t.parentElement.classList.contains("fv__ui-dialog-ok-button")?(this.setDestination(),this.notAgain=n.checked):(this.notAgain=!1,n.checked=!1)},t.prototype.setDestination=function(){var e=this.contextmenu.getCurrentTarget().data("id"),t=this.getBookmarkById(e),n=this.getCurrentPosition(),o=n.top,r=n.left,i=n.pageIndex;t.setProperty({destination:{pageIndex:i,top:o,left:r}},!1),this.bookmarkComponent.updateItem(e,{pageIndex:i,top:o,left:r}),this.bookmarkId=null},t.prototype.getCutItemBookmark=function(){var e=this.bookmarkComponent.getCutItemId();return this.getBookmarkById(e)},t.prototype.addBookmark=function(e,t){var n=t.pageIndex,o=t.title,r=t.top,i=t.left,a=t.relationship,s=void 0===a?3:a;return e?e.insertBookmark(o,n,r,i,s):Promise.reject()},t.prototype.removeBookmark=function(e){e&&(e.remove(),this.bookmarkComponent.removeItem(e.id))},t.prototype.renameBookmark=function(e){var t=this.getBookmarkById(e);this.bookmarkComponent.showRenameInput(e,(function(e){t.setProperty({title:e},!1)}))},t}(r.default);t.default=s},function(e,t,n){"use strict";var o=s(n(6)),r=s(n(1449)),i=s(n(1453)),a=s(n(1454));function s(e){return e&&e.__esModule?e:{default:e}}var c=o.default.module("search",[]);c.registerComponent(r.default),c.registerController(a.default),c.registerController(i.default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=l(n(17)),i=l(n(6)),a=l(n(1450)),s=l(n(1451));l(n(2));n(1452);var c=l(n(10)),u=l(n(567));n(5);function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var p=function(e){function t(n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r));return i.searchList=[],i.minFoundCount=60,i.RedactionMode=!1,i}return f(t,e),t.getName=function(){return"search-panel"},t.prototype.createDOMElement=function(){return document.createElement("div")},t.prototype.render=function(){e.prototype.render.call(this),this.element.addClass("fv__ui-search-container"),this.element.innerHTML=(0,a.default)(),this.eSubTitle=this.element.querySelector(".fv__search-panel-sub-title"),this.eLabel1=this.element.querySelector(".fv__search-panel-form-label-text-1"),this.eLabel2=this.element.querySelector(".fv__search-panel-form-label-text-2"),this.eForm=this.element.querySelector(".fv__search-panel-form"),this.eDropdown=this.element.querySelector(".fv__search-panel-form-more"),this.eDropdownIcon=this.eDropdown.querySelector(".fv__search-panel-form-more-icon"),this.eInput=this.element.querySelector(".fv__search-panel-form-input"),this.eButton=this.element.querySelector(".fv__search-panel-form-submit"),this.eFlag1=this.element.querySelector(".fv__search-panel-form-checkbox-1"),this.eFlag2=this.element.querySelector(".fv__search-panel-form-checkbox-2"),this.eFindContainer=this.element.querySelector(".fv__search-panel-result-container"),this.eFindList=this.eFindContainer.querySelector(".fv__search-panel-result-list"),this.eFindMore=this.eFindContainer.querySelector(".fv__search-panel-result-find-more"),this.eNoMore=this.eFindContainer.querySelector(".fv__search-panel-result-no-more"),this.eMarkSearchApply=this.element.querySelector(".fv__search-redaction-mark-btn"),this.eQuitSearchMode=this.element.querySelector(".fv__search-redaction-quit-btn"),this.eCheckAllBtn=this.element.querySelector(".fv__search-redaction-checkbox-checkall"),this.eCheckAllUI=this.element.querySelector(".fv__search-redaction-checkall")},t.prototype.activeRedactionMode=function(){this.eCheckAllBtn||this.element.querySelectorAll(".fv__search-redaction-checkbox").forEach((function(e){e.checked=!1})),this.searchList.length>0&&(this.eCheckAllUI||(this.eCheckAllUI=this.element.querySelector(".fv__search-redaction-checkall")),this.eCheckAllUI.classList.remove("fv__ui-hide")),this.RedactionMode=!0,this.element.classList.add("fv__search-redaction-active")},t.prototype.quitRedactionMode=function(){this.element.classList.remove("fv__search-redaction-active"),this.RedactionMode=!1},t.prototype.updateFound=function(e){this.eFindList.innerHTML="",this.eFindList.innerHTML=(0,s.default)(e),this.updateHasMoreRender(e.hasMore),this.searchList=this.searchList.concat(e.list),this.RedactionMode&&(0===this.searchList.length?this.eCheckAllUI.classList.add("fv__ui-hide"):this.eCheckAllUI.classList.remove("fv__ui-hide"))},t.prototype.updateHasMoreRender=function(e){var t=void 0,n=void 0;e?this.eFindContainer.classList.contains("has-more")||(t="has-more",n="no-more"):this.eFindContainer.classList.contains("no-more")||(t="no-more",n="has-more"),this.eFindContainer.classList.add(t),this.eFindContainer.classList.remove(n)},t.prototype.updateMore=function(e){var t=document.createDocumentFragment(),n=document.createElement("div");for(n.innerHTML=(0,s.default)(e);n.children.length;)t.appendChild(n.children[0]);n=null,this.eFindList.appendChild(t),this.searchList=this.searchList.concat(e.list),this.updateHasMoreRender(e.hasMore)},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this);var n=void 0;this.element.addEventListener("click",n=function(e){t.eDropdown.classList.remove("fv__open")}),this.addDestroyHook(function(e){return function(){t.element.removeEventListener("click",e)}}(n)),this.eDropdownIcon.addEventListener("click",n=function(e){e.stopPropagation(),t.eDropdown.classList.toggle("fv__open")}),this.addDestroyHook(function(e){return function(){t.eDropdownIcon.removeEventListener("click",e)}}(n)),this.eForm.addEventListener("submit",n=function(e){if(e.preventDefault(),!t.searchIng){var n=t.getFormData(),o=n.pattern&&n.pattern.trim();if(!o)return!1;t.searchIng=!0,t.createAndFindTextSearch(o,n.flags).finally((function(){t.searchIng=!1}))}}),this.addDestroyHook(function(e){return function(){t.eForm.removeEventListener("submit",e)}}(n)),this.eButton.addEventListener("click",n=function(e){if(e.preventDefault(),!t.searchIng){var n=t.getFormData(),o=n.pattern&&n.pattern.trim();if(!o)return!1;t.searchIng=!0,t.createAndFindTextSearch(o,n.flags).finally((function(){t.searchIng=!1}))}}),this.addDestroyHook(function(e){return function(){t.eButton.removeEventListener("click",e)}}(n)),this.eFindMore.addEventListener("click",n=function(e){t.searchIng||(t.searchIng=!0,t.findMore().finally((function(){t.searchIng=!1})))}),this.addDestroyHook(function(e){return function(){t.eFindMore.removeEventListener("click",e)}}(n)),this.eFindList.addEventListener("click",n=function(e){e.stopPropagation();var n=e.target,r=e.currentTarget;for(t.autoSetCheckAllBtn();!n.classList.contains("fv__search-panel-result-list-item");){if(n===r){n=null;break}n=n.parentNode}if(n){var i=t.eFindList.getElementsByClassName("fv__search-panel-result-list-item-active")[0];i&&i.classList.remove("fv__search-panel-result-list-item-active"),n.classList.add("fv__search-panel-result-list-item-active");var a=n.getAttribute("data-index"),s=t.getPDFUI();s.getPDFViewer().then((function(e){var n=t.searchList[a].rects,r=n[0].top,i=n[0].left,s=n[0].right,c=n[0].bottom;n.map((function(e){r=Math.max(e.top,r),c=Math.min(e.bottom,c),i=Math.min(e.left,i),s=Math.max(e.right,s)}));var u=t.searchList[a].pageIndex,l=e.pdfViewerRender.scrollWrap,p=l.getScrollTop(),d=p+l.getHeight(),h=l.getScrollLeft(),g=h+l.getWidth(),m=e.getPDFPageRender(u),v=e.getPDFDocRender();v.pagesRender.getPageScale(u,v.scale).then((function(t){m.scale=t,m.getPDFPage().then((function(t){var n=t.getDevicePoint([i,r],m.getScale(),m.getRotation()),a=o(n,2),s=a[0],c=a[1],l=function(){e.getPDFDocRender().goToPage(u,{x:s,y:c}).then((function(){f()}))};if(0===m.$ui.get(0).getClientRects().length)l();else{var v=m.$ui[0].offsetTop+c,y=m.$ui[0].offsetLeft+s;v<p||v>d||y<h||y>g?l():f()}}))}))}));var l=t}function f(){s.getStateHandlerManager().then((function(e){var t=e.getCurrentStates();e.switchTo(u.default.getStateName()),s.getPDFViewer().then((function(e){e.eventEmitter.emit(c.default.checkTheSearch,l.searchList[a],t)}))}))}}),this.addDestroyHook(function(e){return function(){t.eFindList.removeEventListener("click",e)}}(n)),this.eMarkSearchApply.addEventListener("click",n=function(e){var n=t.element.querySelectorAll(".fv__search-redaction-checkbox"),o=[];n.forEach((function(e){if(!1!==e.checked){var n=e.parentNode.getAttribute("data-index"),r=t.searchList[n].rects,i=t.searchList[n].pageIndex,a=t.getPDFUI();o.push(a.getPDFViewer().then((function(e){return e.getPDFPageRender(i).getPDFPage().then((function(e){return e.markRedactAnnot(r).then((function(e){return e.filter((function(e){return"redact"===e.getType()}))[0]}))}))})))}})),Promise.all(o).then((function(e){t.getPDFUI().eventEmitter.emit(c.default.markRedactionSuccess,e)}))}),this.addDestroyHook(function(e){return function(){t.eMarkSearchApply.removeEventListener("click",e)}}(n)),this.eQuitSearchMode.addEventListener("click",n=function(e){t.quitRedactionMode()}),this.addDestroyHook(function(e){return function(){t.eQuitSearchMode.removeEventListener("click",e)}}(n)),this.eCheckAllBtn.addEventListener("click",n=function(e){t.element.querySelectorAll(".fv__search-redaction-checkbox").forEach((function(t){t.checked=e.target.checked}))}),this.addDestroyHook(function(e){return function(){t.eCheckAllBtn.removeEventListener("click",e)}}(n));var r=this.getPDFUI();this.addDestroyHook(r.addViewerEventListener(c.default.willCloseDocument,(function(){t.resetTextSearch(),t.resetViewer()})),r.addViewerEventListener(c.default.pageRemoved,(function(){t.resetTextSearch(),t.resetViewer()})),r.addViewerEventListener(c.default.pagesRemoved,(function(){t.resetTextSearch(),t.resetViewer()})),r.addViewerEventListener(c.default.pageMoved,(function(){t.resetTextSearch(),t.resetViewer()})),r.addViewerEventListener(c.default.pagesMoved,(function(){t.resetTextSearch(),t.resetViewer()})),r.addViewerEventListener(c.default.pageAdded,(function(){t.resetTextSearch(),t.resetViewer()})),r.addViewerEventListener(c.default.importPages,(function(){t.resetTextSearch(),t.resetViewer()})))},t.prototype.autoSetCheckAllBtn=function(){for(var e=this.element.querySelectorAll(".fv__search-redaction-checkbox"),t=0;t<e.length;t++){if(!e[t].checked)return void(this.eCheckAllBtn.checked=!1)}this.eCheckAllBtn.checked=!0},t.prototype.getFormData=function(){return{pattern:this.eInput.value,flags:0|(this.eFlag1.checked?this.eFlag1.value:0)|(this.eFlag2.checked?this.eFlag2.value:0)}},t.prototype.createAndFindTextSearch=function(e,t){var n=this;this.resetTextSearch();var o=this.getPDFUI();return o?o.getCurrentPDFDoc().then((function(n){return n?n.getTextSearch(e,t):Promise.resolve()})).then((function(e){return n.textSearch=e,e?e.findNexts():[]})).then((function(e){return n.searchList=[],n.updateFound(n.formatFindNexts(e)),e.hasMore?n.findNextAtLeast(n.minFoundCount-n.searchList.length):Promise.resolve()})):Promise.resolve()},t.prototype.formatFindNexts=function(e){var t=e.list;if(!t)return!1;for(var n=[],o=t.length;o--;){var r=t[o],i=r.getSentence(),a=r.getPageIndex(),s=r.getSentenceStartIndex(),c=r.getStartCharIndex(),u=r.getEndCharIndex()-c+1,l=i.slice(0,s),f=i.slice(s,s+u),p=i.slice(s+u);n[o]={pageIndex:a,before:l,mark:f,after:p,startIndex:this.searchList.length,rects:r.getRects()}}return{hasMore:e.hasMore,list:n}},t.prototype.findMore=function(){var e=this;return this.textSearch?this.findNextAtLeast(this.minFoundCount).then((function(){e.eCheckAllBtn.checked=!1})):Promise.resolve()},t.prototype.resetTextSearch=function(){this.textSearch=null,this.eFindList.innerHTML="",this.eCheckAllBtn.checked=!1},t.prototype.resetViewer=function(){this.eInput.value=""},t.prototype.doActive=function(){e.prototype.doActive.call(this),this.eInput.focus()},t.prototype.findNextAtLeast=function(e){var t=this;if(e<=0)return Promise.resolve();var n=this.searchList.length;return this.textSearch.findNexts().then((function(o){if(t.updateMore(t.formatFindNexts(o)),!o.hasMore)return Promise.resolve();var r=t.searchList.length;return r-n>=e?Promise.resolve():t.findNextAtLeast(e-(r-n))}))},t}(r.default);t.default=p,i.default.root().getRegistry().registerComponent(p)},function(e,t,n){n(2);e.exports=function(e){"use strict";e=e||{};return'\x3c!--<div class="fv__search-panel-sub-title" data-i18n=\'sidebar.search.panel.subTitle\'></div>--\x3e\r\n\r\n<div class="fv__search-panel-form-container">\r\n    <form class="fv__search-panel-form">\r\n        <input type="search" class="fv__search-panel-form-input" name="pattern" autocomplete="off"/>\r\n        <xbutton type="submit" class="fv__search-panel-form-submit"></xbutton>\r\n        <div class="fv__search-panel-form-more">\r\n            <i class="fv__search-panel-form-more-icon"></i>\r\n            <ul class="fv__search-panel-form-dropdown">\r\n                <li class="fv__search-panel-form-dropdown-item">\r\n                    <label class="fv__search-panel-form-label">\r\n                        <label class="check-box-wrapper">\r\n                            <input type="checkbox" name="flags" value="2" class="checkbox-input fv__search-panel-form-checkbox-1">\r\n                            <span class="checkbox-inner"></span>\r\n                        </label>\r\n                        <span class="fv__search-panel-form-label-text fv__search-panel-form-label-text-2" data-i18n="sidebar.search.panel.flag2"></span>\r\n                    </label>\r\n                </li>\r\n                <li class="fv__search-panel-form-dropdown-item">\r\n                    <label class="fv__search-panel-form-label">\r\n                        <label class="check-box-wrapper">\r\n                            <input type="checkbox" name="flags" value="1" class="checkbox-input fv__search-panel-form-checkbox-2">\r\n                            <span class="checkbox-inner"></span>\r\n                        </label>\r\n                        <span class="fv__search-panel-form-label-text fv__search-panel-form-label-text-1" data-i18n="sidebar.search.panel.flag1"></span>\r\n                    </label>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    </form>\r\n    <div class="fv__search-panel-result-container">\r\n        <div class="fv__search-redaction-mode fv__search-redaction-checkall fv__ui-hide">\r\n            <label>\r\n            <input type="checkbox" class="fv__search-redaction-checkbox-checkall" /> \r\n            <span data-i18n="sidebar.search.panel.checkAll"></span>\r\n            </label>\r\n        </div>\r\n        <div class="fv__search-panel-result-list"></div>\r\n        <div class="fv__search-panel-result-find-more" data-i18n="sidebar.search.panel.findMore"></div>\r\n        <div class="fv__search-panel-result-no-more" data-i18n="sidebar.search.panel.noMore"></div>\r\n    </div>\r\n    <div class="fv__search-redaction-mode-container fv__search-redaction-mode">\r\n        <a class="fv__search-redaction-mark-btn fv__search-redaction-btn" data-i18n="sidebar.search.panel.markRedaction"></a>\r\n        <a class="fv__search-redaction-quit-btn fv__search-redaction-btn" data-i18n="sidebar.search.panel.quitRedaction"></a>\r\n    </div>\r\n</div>','\x3c!--<div class="fv__search-panel-sub-title" data-i18n=\'sidebar.search.panel.subTitle\'></div>--\x3e\r\n\r\n<div class="fv__search-panel-form-container">\r\n    <form class="fv__search-panel-form">\r\n        <input type="search" class="fv__search-panel-form-input" name="pattern" autocomplete="off"/>\r\n        <xbutton type="submit" class="fv__search-panel-form-submit"></xbutton>\r\n        <div class="fv__search-panel-form-more">\r\n            <i class="fv__search-panel-form-more-icon"></i>\r\n            <ul class="fv__search-panel-form-dropdown">\r\n                <li class="fv__search-panel-form-dropdown-item">\r\n                    <label class="fv__search-panel-form-label">\r\n                        <label class="check-box-wrapper">\r\n                            <input type="checkbox" name="flags" value="2" class="checkbox-input fv__search-panel-form-checkbox-1">\r\n                            <span class="checkbox-inner"></span>\r\n                        </label>\r\n                        <span class="fv__search-panel-form-label-text fv__search-panel-form-label-text-2" data-i18n="sidebar.search.panel.flag2"></span>\r\n                    </label>\r\n                </li>\r\n                <li class="fv__search-panel-form-dropdown-item">\r\n                    <label class="fv__search-panel-form-label">\r\n                        <label class="check-box-wrapper">\r\n                            <input type="checkbox" name="flags" value="1" class="checkbox-input fv__search-panel-form-checkbox-2">\r\n                            <span class="checkbox-inner"></span>\r\n                        </label>\r\n                        <span class="fv__search-panel-form-label-text fv__search-panel-form-label-text-1" data-i18n="sidebar.search.panel.flag1"></span>\r\n                    </label>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    </form>\r\n    <div class="fv__search-panel-result-container">\r\n        <div class="fv__search-redaction-mode fv__search-redaction-checkall fv__ui-hide">\r\n            <label>\r\n            <input type="checkbox" class="fv__search-redaction-checkbox-checkall" /> \r\n            <span data-i18n="sidebar.search.panel.checkAll"></span>\r\n            </label>\r\n        </div>\r\n        <div class="fv__search-panel-result-list"></div>\r\n        <div class="fv__search-panel-result-find-more" data-i18n="sidebar.search.panel.findMore"></div>\r\n        <div class="fv__search-panel-result-no-more" data-i18n="sidebar.search.panel.noMore"></div>\r\n    </div>\r\n    <div class="fv__search-redaction-mode-container fv__search-redaction-mode">\r\n        <a class="fv__search-redaction-mark-btn fv__search-redaction-btn" data-i18n="sidebar.search.panel.markRedaction"></a>\r\n        <a class="fv__search-redaction-quit-btn fv__search-redaction-btn" data-i18n="sidebar.search.panel.quitRedaction"></a>\r\n    </div>\r\n</div>'}},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";e=e||{};var t="",n=o.$each,r=e.list,i=(e.$value,e.$index,o.$escape);return n(r,(function(e,n){t+='\r\n<div class="fv__search-panel-result-list-item" data-index="',t+=i(e.startIndex+n),t+='">\r\n    <input type="checkbox" class="fv__search-redaction-checkbox fv__search-redaction-mode" />\r\n    <span class="fv__search-panel-result-list-item-p">p',t+=i(e.pageIndex+1),t+='</span>\r\n    <span class="fv__search-panel-result-list-item-before">',t+=i(e.before),t+='</span>\r\n    <mark class="fv__search-panel-result-list-item-mark">',t+=i(e.mark),t+='</mark>\r\n    <span class="fv__search-panel-result-list-item-after">',t+=i(e.after),t+="</span>\r\n</div>\r\n"})),t}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(3)),r=i(n(567));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var s=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n))}return a(t,e),t.getName=function(){return"SearchSidebarPanelController"},t.prototype.postlink=function(){this.getPDFUI().getStateHandlerManager().then((function(e){return e.register(r.default),e}));var e=this.component.childAt(0);this.component.on("active",(function(){e.active()})),this.component.on("deactive",(function(){e.deactive()}))},t}(o.default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(9)),r=s(n(3)),i=n(8),a=n(5);function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var f=o.default.getLogger("biz.sidebar.comment-list"),p=function(e){function t(){return c(this,t),u(this,e.apply(this,arguments))}return l(t,e),t.getName=function(){return"SearchController"},t.prototype.mounted=function(){var e=this,t=this.getPDFUI();t.getKeyboardEventBinder(i.PDFUI_BINDER).then((function(t){t.before(i.KEY_MAP_OPEN_QUICK_SEARCH,(function(t){e.getComponentByName("sidebar-search").active(),t.preventDefault()}),!0)})),this.addDestroyHook(t.addViewerEventListener(a.Events.openFileSuccess,(function(t){e.currentDoc=t,f.info(t),e.component.update()})),t.addViewerEventListener(a.Events.annotationAdd,(function(){e.component.update()})),t.addViewerEventListener(a.Events.annotationReplyAdd,(function(){e.component.update()})))},t}(r.default);t.default=p},function(e,t,n){"use strict";var o=a(n(6)),r=a(n(1456)),i=a(n(1457));function a(e){return e&&e.__esModule?e:{default:e}}var s=o.default.module("layer",[]);s.registerComponent(i.default),s.registerController(r.default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(3)),r=a(n(1)),i=n(8);function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(){return s(this,t),c(this,e.apply(this,arguments))}return u(t,e),t.getName=function(){return"LayerSidebarPanelController"},t.prototype.mounted=function(){var e=this;this.loaded=!1;var t=this.getPDFUI(),n=this.getComponentByName("sidebar-layers");this.addDestroyHook(t.addViewerEventListener(r.default.renderFileSuccess,(function(t){e.loaded=!1,e.currentDoc=t,n.isActive&&e.updateLayer()})),t.addViewerEventListener(r.default.willCloseDocument,(function(){e.component.update([]),e.currentDoc=null}))),n.on(i.COMPONENT_EVENTS.ACTIVE,(function(t){!e.loaded&&e.currentDoc&&e.updateLayer()}))},t.prototype.updateLayer=function(){var e=this;this.currentDoc.getLayerNodesJson().then((function(t){e.loaded=!0,e.layerNodes=t,e.component.update(t.children)}))},t}(o.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=c(n(17)),r=c(n(6)),i=c(n(568)),a=(c(n(2)),c(n(1))),s=c(n(4));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}n(1458),n(1459);var p=function(e){function t(){return u(this,t),l(this,e.apply(this,arguments))}return f(t,e),t.getName=function(){return"pdflayers"},t.prototype.createDOMElement=function(){return document.createElement("div")},t.prototype.render=function(){e.prototype.render.call(this),this.element.addClass("fv__ui-layer-container"),this.$html=(0,s.default)(this.element),this.events()},t.prototype.rending=function(){},t.prototype.mounted=function(){e.prototype.mounted.call(this)},t.prototype.events=function(){var e=this,t=this.getPDFUI();this.$html.on("click",".fv__tree-fold-btn",(function(e){e.preventDefault();var t=(0,s.default)(e.currentTarget).parent().next(),n=(0,s.default)(e.currentTarget).find(".fv__tree-icon");t.hasClass("fv__ly-hide")?(n.hasClass("fv__plug_pc_ui")?n.removeClass("fv__plug_pc_ui").addClass("fv__minus_pc_ui").data("last-class","fv__plug_pc_ui"):n.hasClass("fv__plugbottom_pc")?n.removeClass("fv__plugbottom_pc").addClass("fv__minus_pc_ui").data("last-class","fv__plugbottom_pc"):n.hasClass("fv__plugtop_pc")?n.removeClass("fv__plugtop_pc").addClass("fv__minustop_pc").data("last-class","fv__plugtop_pc"):n.hasClass("fv__plugonly_pc")&&n.removeClass("fv__plugonly_pc").addClass("fv__minusonly_pc").data("last-class","fv__plugonly_pc"),t.removeClass("fv__ly-hide")):(n.removeClass(["fv__minus_pc_ui","fv__minustop_pc","fv__minusonly_pc"]).addClass(n.data("last-class")),t.addClass("fv__ly-hide"))})),this.$html.on("change",".fv__toggle-checkbox",(function(e){t.getCurrentPDFDoc().then((function(t){if(t){var n=e.currentTarget,o=(0,s.default)(n),r=o.data("id");t.setLayerNodeVisiable(r,n.checked);var i=o.parent().next().find(".fv__toggle-checkbox");n.checked?i.removeAttr("disabled"):i.attr("disabled","disabled")}}))})),this.addDestroyHook((function(){e.$html.off("click",".fv__tree-fold-btn")}),(function(){e.$html.off("click",".fv__toggle-checkbox")}),t.addViewerEventListener(a.default.layerVisibleChange,(function(t){e.$html.find("input").each((function(e,n){var o=(0,s.default)(n),r=o.data("id"),i=t.getLayerNodeById(r),a=o.parent().next().find(".fv__toggle-checkbox");i.visible?(a.removeAttr("disabled"),o.attr("checked","checked"),n.checked=!0):(a.attr("disabled","disabled"),o.removeAttr("checked"),n.checked=!1)}))})))},t.prototype.update=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.element.innerHTML=(0,i.default)(e);var t=(0,s.default)(".fv__toggle-checkbox:not(:checked)");t.each((function(e){(0,s.default)(t[e]).parent().next().find(".fv__toggle-checkbox").attr("disabled","disabled")}))},t}(o.default);t.default=p,r.default.root().getRegistry().registerComponent(p)},function(e,t){},function(e,t){},function(e,t,n){"use strict";var o=r(n(1461));function r(e){return e&&e.__esModule?e:{default:e}}r(n(6)).default.module("sidebar",[]).getRegistry().registerController(o.default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(3),i=(o=r)&&o.__esModule?o:{default:o},a=n(8);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(){return s(this,t),c(this,e.apply(this,arguments))}return u(t,e),t.getName=function(){return"SidebarController"},t.prototype.postlink=function(){var e=this;this.getPDFUI().getKeyboardEventBinder(a.PDFUI_BINDER).then((function(t){e.addDestroyHook(t.before(a.KEY_MAP_CLOSE_SIDEBAR,(function(t){e.component.collapse(),t.preventDefault()}),!0),t.before(a.KEY_MAP_OPEN_SIDEBAR,(function(t){e.component.expand(),t.preventDefault()}),!0))}))},t.prototype.initResize=function(){},t}(i.default);t.default=l},function(e,t,n){"use strict";var o=s(n(1463)),r=s(n(6)),i=s(n(1464)),a=s(n(1465));function s(e){return e&&e.__esModule?e:{default:e}}r.default.root().getRegistry().registerDirective(o.default),r.default.root().getRegistry().registerDirective(i.default),r.default.root().getRegistry().registerDirective(a.default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(11));function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=r(n(9)).default.getLogger("@zoom-on-wheel"),u=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.getName=function(){return"zoom-on-wheel"},t.prototype.findNearScaleValueIndex=function(e){for(var t=this.component.getPDFUI().customScalingValues,n=Math.abs(e-t[0]),o=0,r=1;r<t.length;r++){var i=t[r],a=Math.abs(e-i);a<n&&(o=r,n=a)}return o},t.prototype.componentPrelink=function(){var e=this,t=this.component.element,n=this.component.getPDFUI();n.getPDFViewer().then((function(t){return e.pdfViewer=t}));var o=void 0,r=function(t){if(t.ctrlKey&&e.pdfViewer&&e.pdfViewer.isShortcutKeyEnabled()&&e.pdfViewer.getCurrentPDFDoc()&&(t.preventDefault(),!o)){var r=n.customScalingValues;(o=n.getPDFViewerRender().then((function(o){return o.getScaleRatio().then((function(i){var a=e.findNearScaleValueIndex(i),s=r[a],u=s;if(t.deltaY>0){if(c.debug("mousewheel to zoom out"),0==a)return;s>=i&&(u=r[a-1])}else{if(c.debug("mousewheel to zoom in"),a==r.length-1)return;s<=i&&(u=r[a+1])}for(var l=t.clientX,f=t.clientY,p=0,d=0,h=0,g=o.pdfDocRender,m=g.viewerRender.$ui.parent()[0],v=(m.offsetWidth,m.offsetHeight,o.$ui.parent()[0].getBoundingClientRect()),y=v.left,b=v.top,w=void 0,_=void 0,P=!1,O=g.pagesRender.viewMode.getVisibleIndexes()||[0],E=0,x=O.length;E<x;E++){var C=O[E],A=g.getPDFPageRender(C).$ui.get(0).getBoundingClientRect();if(l<=A.right&&l>=A.left&&f>=A.top&&f<=A.bottom){p=C,w=y-l,(d=l-A.left)<0&&(d=0),_=b-f,(h=f-A.top)<0&&(h=0),P=!0;break}}P||(w=0,_=0,p=g.getCurrentPageIndex());var S=g.getPDFPageRender(p),D=S.page.reverseDevicePoint([d,h],S.scale,S.getRotation()),T=S.page.reverseDeviceOffset([w,_],u,S.getRotation());return c.debug("scale from ",i,"to",u),n.zoomTo(u,{pageIndex:p,x:D[0]+T[0],y:D[1]+T[1]})}))}))).catch((function(){})),o.finally((function(){o=null}))}};t.addEventListener("wheel",r),this.addDestroyHook((function(){t.removeEventListener("wheel",r)}))},t}(o.default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(11)),r=s(n(9)),i=(n(18),n(14)),a=s(n(4));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}r.default.getLogger("@zoom-on-pinch");var p=function(e){function t(){return u(this,t),l(this,e.apply(this,arguments))}return f(t,e),t.getName=function(){return"zoom-on-pinch"},t.prototype.findNearScaleValueIndex=function(e){for(var t=this.component.getPDFUI().customScalingValues,n=Math.abs(e-t[0]),o=0,r=1;r<t.length;r++){var i=t[r],a=Math.abs(e-i);a<n&&(o=r,n=a)}return o},t.prototype.componentPrelink=function(){var e=this;if(i.isTouchDevice){var t=this.component.element,n=this.component.getPDFUI();n.getPDFViewer().then((function(o){var r=n.customScalingValues,s=Math.min.apply(Math,c(r).concat([o.config.minScale])),u=Math.max.apply(Math,c(r).concat([o.config.maxScale])),l=o.getPDFViewerRender(),f=new Hammer.Manager(t);f.add(new Hammer.Pinch);var p=void 0;f.on("pinchstart",(function(e){p=l.getScaleRatio(),e.preventDefault()})),f.on("pinchmove",(function(e){l.pdfDocRender.$ui.closest(".fv__ui-pdfviewer").css({transform:"scale("+e.scale+")"})})),f.on("pinchend",(function(e){l.pdfDocRender.$ui.closest(".fv__ui-pdfviewer").css({transform:"none"}),p.then((function(t){var n=t*e.scale,o=Math.max(Math.min(n,u),s);if(t===o)return p;var r=(0,a.default)(".fv__ui-sidebar"),c=r.is(":visible")?r.width():0,f=i.isMobile?(0,a.default)(".fv__ui-mobile-header").height()+(0,a.default)(".fv__ui-toolbar").height():(0,a.default)(".fv__ui-tab-nav").height()+20;return l.zoomAt(o,{x:e.center.x-c,y:e.center.y-f}).then((function(e){return p}))}),(function(e){}))})),e.addDestroyHook((function(){f.destroy()}))}))}},t}(o.default);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(11)),r=s(n(9)),i=s(n(1)),a=n(14);function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}r.default.getLogger("@zoom-on-doubletap");var f=function(e){function t(){return c(this,t),u(this,e.apply(this,arguments))}return l(t,e),t.getName=function(){return"zoom-on-doubletap"},t.prototype.findNearScaleValueIndex=function(e){var t=this.component.getPDFUI().customScalingValues,n=0,o=0;return t.forEach((function(t,r){var i=Math.abs(e-t);i<=o&&(n=r,o=i)})),n},t.prototype.componentPrelink=function(){var e=this;if(a.isTouchDevice){var t=this.component.getPDFUI();t.getPDFViewer().then((function(n){var o=Promise.resolve(),r=n.getPDFViewerRender(),a=function(n){var i=t.customScalingValues;o=o.finally((function(t){return r.getScaleRatio().then((function(t){var o=e.findNearScaleValueIndex(t);if(o!=i.length-1){var a=i[o],s=a;return a<=t&&(s=i[o+1]),r.zoomAt(s,n.center)}}))}))};n.getEventEmitter().on(i.default.doubleTapPage,a),e.addDestroyHook((function(){n.getEventEmitter().off(i.default.doubleTapPage,a)}))}))}},t}(o.default);t.default=f},function(e,t,n){"use strict";var o=w(n(6)),r=w(n(569)),i=w(n(570)),a=w(n(571)),s=w(n(572)),c=w(n(573)),u=w(n(574)),l=w(n(575)),f=w(n(576)),p=w(n(577)),d=w(n(578)),h=w(n(579)),g=w(n(580)),m=w(n(1467)),v=w(n(1468)),y=w(n(1469)),b=w(n(1470));function w(e){return e&&e.__esModule?e:{default:e}}var _=o.default.module("annot-opr",[]);_.registerController(v.default),_.registerController(m.default),_.registerController(r.default),_.registerController(i.default),_.registerController(a.default),_.registerController(s.default),_.registerController(c.default),_.registerController(h.default),_.registerController(g.default),_.registerController(u.default),_.registerController(l.default),_.registerController(f.default),_.registerController(p.default),_.registerController(d.default),_.registerController(y.default),_.registerController(b.default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(3)),r=n(5),i=a(n(75));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(){return s(this,t),c(this,e.apply(this,arguments))}return u(t,e),t.getName=function(){return"CopyAnnotController"},t.prototype.handle=function(e){var t=this.component.parent;if(t instanceof i.default){var n=t.getCurrentTarget();n instanceof r.AnnotComponent&&this.pdfUI.getPDFViewer().then((function(e){e.copy(n)}))}},t}(o.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(3);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.getName=function(){return"PasteAnnotController"},t.prototype.handle=function(e){this.pdfUI.getPDFViewer().then((function(e){e.paste()}))},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(3)),r=s(n(75)),i=n(5),a=s(n(4));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var f=function(e){function t(){return c(this,t),u(this,e.apply(this,arguments))}return l(t,e),t.getName=function(){return"SignController"},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this),this.component.element.addEventListener("mousedown",(function(e){t.currentMouseX=e.pageX,t.currentMouseY=e.pageY})),this.component.parent.on("beforeshow",(function(){var e=t.component.parent.getCurrentTarget().annot.getField();if(7===e.getType()){var n=e.isSigned()?"verifySign.verify":"certifySign.sign";(0,a.default)(t.component.element).find(".fv__ui-button-text").html(t.pdfUI.i18n.t(n))}else t.component.hide()}))},t.prototype.handle=function(){var e=this.component.parent;if(e instanceof r.default){var t=e.getCurrentTarget();t instanceof i.AnnotComponent&&this.getPDFUI().signatureClick(t.annot)}},t}(o.default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(3)),r=s(n(75)),i=n(5),a=s(n(1471));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var f=function(e){function t(){return c(this,t),u(this,e.apply(this,arguments))}return l(t,e),t.getName=function(){return"SignPropertyController"},t.services=function(){return{signService:a.default}},t.prototype.handle=function(){var e=this,t=this.getAnnot();this.signService.verifySignature(t).then((function(n){e.pdfUI.showSignedPropertyDialog(t)}))},t.prototype.getAnnot=function(){var e=this.component.parent;if(e instanceof r.default){var t=e.getCurrentTarget();if(t instanceof i.AnnotComponent)return t.annot}throw new Error("No Annot found")},t}(o.default);t.default=f},function(e,t,n){"use strict";n.r(t);var o,r=n(13),i=n.n(r),a=n(49),s=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),c=function(e){function t(t){var n=e.call(this)||this;return n.pdfui=t,n}return s(t,e),t.scope=function(){return a.ServiceScope.SINGLETON},t.prototype.verifySignature=function(e){var t=this.pdfui,n=e.getField(),o=n.verifiedResult,r=Promise.resolve(o);return o||(r=t.getCurrentPDFDoc().then((function(e){return e.verifySignature(n,(function(e,n,o,r){return t.verifyHandler(e,n,o).then((function(e){return e=+e,r&&(1024&e?(e&=-1409,e|=134217728):(e&=-1409,e|=268435456)),e}))}))}))),r.then((function(e){return n.verifiedResult=e,n}))},t}(i.a);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(6)),r=a(n(1473)),i=a(n(1474));function a(e){return e&&e.__esModule?e:{default:e}}var s=o.default.module("ui-rotation",[]);s.registerController(r.default),s.registerController(i.default),t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(3);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.getName=function(){return"RotateRightController"},t.prototype.handle=function(){var e=this.getPDFUI();return e.getRotation().then((function(t){return e.rotateTo(t+90)}))},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(3);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.getName=function(){return"RotateLeftController"},t.prototype.handle=function(){var e=this.getPDFUI();return e.getRotation().then((function(t){return e.rotateTo(t-90)}))},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=c},function(e,t,n){"use strict";var o=n(6),r=Ft(o),i=n(1476),a=Ft(i),s=n(1477),c=Ft(s),u=n(1479),l=Ft(u),f=n(1480),p=Ft(f),d=n(1481),h=Ft(d),g=n(1482),m=Ft(g),v=n(1483),y=Ft(v),b=n(1484),w=Ft(b),_=n(1485),P=Ft(_),O=n(1486),E=Ft(O),x=n(1487),C=Ft(x),A=n(1488),S=Ft(A),D=n(1489),T=Ft(D),I=n(1490),R=Ft(I),M=n(1491),j=Ft(M),k=n(1492),N=Ft(k),F=n(1493),L=Ft(F),V=n(1494),B=Ft(V),U=n(1495),H=Ft(U),$=n(1496),W=Ft($),q=Ft(n(1497)),z=Ft(n(1498)),G=Ft(n(1499)),Y=Ft(n(1500)),K=Ft(n(1501)),X=Ft(n(1503)),J=Ft(n(1504)),Z=Ft(n(1505)),Q=Ft(n(1506)),ee=Ft(n(1507)),te=Ft(n(1508)),ne=Ft(n(1510)),oe=Ft(n(1511)),re=Ft(n(1512)),ie=Ft(n(1513)),ae=Ft(n(1514)),se=Ft(n(541)),ce=Ft(n(1516)),ue=Ft(n(1517)),le=Ft(n(1518)),fe=Ft(n(1519)),pe=Ft(n(1520)),de=Ft(n(1521)),he=Ft(n(1522)),ge=Ft(n(1523)),me=Ft(n(1524)),ve=Ft(n(1526)),ye=Ft(n(1527)),be=Ft(n(1529)),we=Ft(n(1531)),_e=Ft(n(1534)),Pe=Ft(n(1537)),Oe=Ft(n(1538)),Ee=Ft(n(1539)),xe=Ft(n(1541)),Ce=Ft(n(1543)),Ae=Ft(n(1545)),Se=Ft(n(1546)),De=Ft(n(1547)),Te=Ft(n(1548)),Ie=Ft(n(1549)),Re=Ft(n(1550)),Me=Ft(n(1551)),je=Ft(n(1552)),ke=Ft(n(1553)),Ne=Ft(n(1554)),Fe=Ft(n(1555)),Le=Ft(n(1556)),Ve=Ft(n(1557)),Be=Ft(n(1558)),Ue=Ft(n(1559)),He=Ft(n(1560)),$e=Ft(n(1561)),We=Ft(n(1562)),qe=Ft(n(1563)),ze=Ft(n(1564)),Ge=Ft(n(1565)),Ye=Ft(n(1566)),Ke=Ft(n(1567)),Xe=Ft(n(1568)),Je=Ft(n(1569)),Ze=Ft(n(1570)),Qe=Ft(n(1571)),et=Ft(n(1572)),tt=Ft(n(1573)),nt=Ft(n(1574)),ot=Ft(n(1575)),rt=Ft(n(1576)),it=Ft(n(1577)),at=Ft(n(1578)),st=Ft(n(1579)),ct=Ft(n(1580)),ut=Ft(n(1581)),lt=Ft(n(1582)),ft=Ft(n(1583)),pt=Ft(n(1584)),dt=Ft(n(1585)),ht=Ft(n(1586)),gt=Ft(n(1587)),mt=Ft(n(1588)),vt=Ft(n(1589)),yt=Ft(n(1590)),bt=Ft(n(1591)),wt=Ft(n(1592)),_t=Ft(n(1593)),Pt=Ft(n(1594)),Ot=Ft(n(1595)),Et=Ft(n(1596)),xt=Ft(n(1597)),Ct=Ft(n(1598)),At=Ft(n(1599)),St=Ft(n(1600)),Dt=Ft(n(1601)),Tt=Ft(n(1602)),It=Ft(n(1603)),Rt=Ft(n(581)),Mt=Ft(n(1605)),jt=Ft(n(1606)),kt=Ft(n(1607)),Nt=Ft(n(1608));function Ft(e){return e&&e.__esModule?e:{default:e}}var Lt=r.default.root();[St.default,At.default,l.default,he.default,p.default,h.default,m.default,y.default,c.default,a.default,w.default,P.default,E.default,C.default,S.default,T.default,R.default,j.default,N.default,L.default,B.default,H.default,W.default,q.default,z.default,G.default,Y.default,K.default,X.default,J.default,Z.default,Q.default,ee.default,te.default,ne.default,oe.default,re.default,ie.default,ae.default,se.default,ce.default,ue.default,le.default,fe.default,pe.default,de.default,ge.default,me.default,ve.default,be.default,ye.default,we.default,_e.default,Pe.default,Oe.default,Ee.default,xe.default,Ce.default,Ae.default,Se.default,De.default,Te.default,Ie.default,Re.default,Me.default,je.default,ke.default,Ne.default,Fe.default,Le.default,Ve.default,Be.default,Ue.default,He.default,$e.default,We.default,qe.default,ze.default,Ge.default,Ye.default,Ke.default,Xe.default,Je.default,Ot.default,Ze.default,Qe.default,bt.default,et.default,tt.default,nt.default,rt.default,ot.default,it.default,at.default,st.default,ct.default,ut.default,ft.default,lt.default,pt.default,dt.default,ht.default,gt.default,mt.default,vt.default,yt.default,wt.default,_t.default,Pt.default,Et.default,xt.default,Ct.default,Dt.default,Tt.default,It.default,Mt.default,jt.default,kt.default,Nt.default].forEach((function(e){Array.isArray(e)||(e=[e]),e.forEach((function(e){Lt.registerFragment(e.name,e.fragment)}))})),Lt.registerController(Rt.default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"download-file-button",fragment:{template:'<xbutton @tooltip tooltip-title="toolbar.buttons.download" name="download-file-button" icon-class="fv__icon-toolbar-download" @controller="file:DownloadFileController">toolbar.buttons.download</xbutton>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(1478)),r=a(n(327)),i=a(n(326));function a(e){return e&&e.__esModule?e:{default:e}}t.default={name:"goto-page-input",fragment:{template:(0,o.default)(),config:[{target:"gotopage-input",callback:r.default},{target:"gotopage-total",callback:i.default}]}}},function(e,t,n){n(2);e.exports=function(e){"use strict";e=e||{};return'<div class="fv__ui-toolbar-gotopage">\r\n    <number min="1" @bind.attr.max="pageNumber" @bind.value="currentPageIndex" name="gotopage-input" @on.change="onchange" @on.keydown="onkeydown"></number> \r\n    <span class="fv__ui-toolbar-gotopage-sep">/</span> \r\n    <text @sync.text="pageNumber|default(0)" name="gotopage-total"></text>\r\n</div>','<div class="fv__ui-toolbar-gotopage">\r\n    <number min="1" @bind.attr.max="pageNumber" @bind.value="currentPageIndex" name="gotopage-input" @on.change="onchange" @on.keydown="onkeydown"></number> \r\n    <span class="fv__ui-toolbar-gotopage-sep">/</span> \r\n    <text @sync.text="pageNumber|default(0)" name="gotopage-total"></text>\r\n</div>'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"hand-button",fragment:{template:'<xbutton @tooltip name="hand-tool" icon-class="fv__icon-toolbar-hand" @controller="states:HandController"></xbutton>',config:{target:"hand-tool",attrs:{"tooltip-title":"toolbar.tooltip.hand.title"}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"goto-prev-page-button",fragment:{template:'\n            <xbutton\n                @tooltip\n                icon-class="fv__icon-toolbar-prev-page"\n                name="goto-prev-page"\n                @controller="gotoview:GotoPrevPageController"\n            ></xbutton>\n        ',config:{target:"goto-prev-page",attrs:{"tooltip-title":"toolbar.tooltip.previousPage.title"}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"goto-next-page-button",fragment:{template:'\n            <xbutton \n                @tooltip\n                icon-class="fv__icon-toolbar-next-page"\n                name="goto-next-page"\n                @controller="gotoview:GotoNextPageController"\n            ></xbutton>\n        ',config:{target:"goto-next-page",attrs:{"tooltip-title":"toolbar.tooltip.nextPage.title"}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"goto-first-page-button",fragment:{template:'\n            <xbutton\n                @tooltip\n                icon-class="fv__icon-toolbar-first-page"\n                name="goto-first-page"\n                @controller="gotoview:GotoFirstPageController"\n            ></xbutton>\n        ',config:{target:"goto-first-page",attrs:{"tooltip-title":"toolbar.tooltip.firstPage.title"}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"goto-last-page-button",fragment:{template:'\n            <xbutton\n                @tooltip\n                icon-class="fv__icon-toolbar-last-page"\n                name="goto-last-page"\n                @controller="gotoview:GotoLastPageController"\n            ></xbutton>\n        ',config:{target:"goto-last-page",attrs:{"tooltip-title":"toolbar.tooltip.lastPage.title"}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(330)),r=a(n(329)),i=a(n(581));function a(e){return e&&e.__esModule?e:{default:e}}t.default={name:"open-file-dropdown",fragment:{template:'\n            <dropdown name="open-file-button-list" class="fv__ui-dropdown-hide-text" @cannotBeDisabled>\n                <file-selector icon-class="fv__icon-toolbar-open" name="open-local-file" accept=".pdf,.gif,.jpeg,.jpg,.png,.bmp" @cannotBeDisabled>toolbar.buttons.openfile</file-selector>\n                <xbutton icon-class="fv__icon-toolbar-open-url" name="open-from-url" @cannotBeDisabled>toolbar.buttons.openFromUrl</xbutton>\n            </dropdown>\n        ',config:[{target:"open-file-button-list",callback:i.default},{target:"open-local-file",isFileSelector:!0,callback:o.default},{target:"open-from-url",callback:r.default}]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"open-localfile-button",fragment:{template:'\n            <file-selector \n                name="fv--open-localfile-button"\n                icon-class="fv__icon-toolbar-open" \n                accept=".pdf,.gif,.jpeg,.jpg,.png,.bmp" \n                @controller="file:OpenLocalFileController" \n                @tooltip tooltip-title="toolbar.buttons.openfile"\n                @cannotBeDisabled\n            >toolbar.buttons.openfile</file-selector>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"open-fromurl-button",fragment:{template:'\n            <xbutton \n                name="fv--open-fromurl-button"\n                icon-class="fv__icon-toolbar-open-url" \n                accept=".pdf" \n                @controller="file:OpenRemoteFileController" \n                @tooltip tooltip-title="toolbar.buttons.openFromUrl"\n                @cannotBeDisabled\n            >toolbar.buttons.openFromUrl</xbutton>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"create-attachment-button",fragment:{template:'<xbutton name="create-fileattachment" @tooltip tooltip-title="toolbar.tooltip.fileattachment.title" @controller="states:CreateFileAttachmentController" icon-class="fv__icon-toolbar-attachment">toolbar.create.fileattachment</xbutton>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"create-area-highlight-button",fragment:{template:'<xbutton name="create-area-highlight" @tooltip tooltip-title="toolbar.tooltip.areaHighlight.title" @controller="states:CreateAreaHighlightController" icon-class="fv__icon-toolbar-area-highlight">toolbar.create.areahighlight</xbutton>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"create-caret-button",fragment:{template:'<xbutton name="create-caret" @tooltip tooltip-title="toolbar.tooltip.caret.title" @controller="states:CreateCaretController" icon-class="fv__icon-toolbar-insert">toolbar.create.caret</xbutton>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(3);(o=r)&&o.__esModule;t.default={name:"create-measure-dropdown",fragment:{template:'\n            <dropdown name="create-measurement-button-list" class="fv__ui-dropdown-hide-text" @cannotBeDisabled selected="0">\n                <xbutton @tooltip tooltip-title="toolbar.buttons.tooltip.distance" name="create-distance-btn" icon-class="fv__icon-toolbar-distance" @controller="distance:CreateDistanceController">toolbar.buttons.distance</xbutton>\n                <xbutton @hide-on-sr @tooltip tooltip-title="toolbar.buttons.tooltip.perimeter" name="create-perimeter-btn" icon-class="fv__icon-toolbar-perimeter" @controller="distance:CreatePerimeterController">toolbar.buttons.perimeter</xbutton>\n                <xbutton @hide-on-sr @tooltip tooltip-title="toolbar.buttons.tooltip.area" name="create-area-btn" icon-class="fv__icon-toolbar-area" @controller="distance:CreateAreaController">toolbar.buttons.area</xbutton>\n                <xbutton @hide-on-sr @tooltip tooltip-title="toolbar.buttons.tooltip.circleArea" name="create-circle-area-btn" icon-class="fv__icon-toolbar-areacircle" @controller="distance:CreateCircleAreaController">toolbar.buttons.area</xbutton>\n            </dropdown>\n        '}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"create-distance-button",fragment:{template:'<xbutton @tooltip name="create-distance-btn" icon-class="fv__icon-toolbar-distance" @controller="distance:CreateDistanceController">toolbar.buttons.distance</xbutton>',config:{target:"create-distance-btn",attrs:{"tooltip-title":"toolbar.buttons.distance"}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"eraser-button",fragment:{template:'<xbutton name="eraser-tool" @tooltip tooltip-title="toolbar.tooltip.eraser.title" @controller="states:EraserController" icon-class="fv__icon-toolbar-eraser">toolbar.buttons.eraser</xbutton>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(325);(o=r)&&o.__esModule;t.default={name:"create-typewriter-button",fragment:{template:'<xbutton name="freetext-typewriter" @tooltip tooltip-title="toolbar.tooltip.typewriter.title" @controller="states:CreateTypewriterController" icon-class="fv__icon-toolbar-typewriter" >toolbar.create.typewriter</xbutton>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"create-callout-button",fragment:{template:'<xbutton name="freetext-callout" @tooltip tooltip-title="toolbar.tooltip.callout.title" @controller="states:CreateCalloutController" icon-class="fv__icon-toolbar-callout" >toolbar.create.callout</xbutton>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"create-textbox-button",fragment:{template:'<xbutton name="freetext-textbox" @tooltip tooltip-title="toolbar.tooltip.textbox.title" @controller="states:CreateTextboxController" icon-class="fv__icon-toolbar-textbox" >toolbar.create.textbox</xbutton>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(311);(o=r)&&o.__esModule;t.default={name:"create-text-highlight-button",fragment:{template:'<xbutton name="create-highlight" @tooltip tooltip-title="toolbar.tooltip.highlight.title" @controller="states:CreateHighlightController" icon-class="fv__icon-toolbar-text-highlight">toolbar.create.highlight</xbutton>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"create-image-button",fragment:{template:'<xbutton name="create-image" @tooltip tooltip-title="toolbar.tooltip.image.title" @controller="states:CreateImageController" icon-class="fv__icon-toolbar-image">toolbar.create.image</xbutton>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"create-link-button",fragment:{template:'<xbutton name="create-link" @tooltip tooltip-title="toolbar.tooltip.link.title" @controller="states:CreateLinkController" icon-class="fv__icon-toolbar-link" >toolbar.create.link</xbutton>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"create-pencil-button",fragment:{template:'<xbutton name="pencil-tool" @tooltip tooltip-title="toolbar.tooltip.pencil.title" @controller="states:CreatePencilController" icon-class="fv__icon-toolbar-pencil">toolbar.buttons.pencil</xbutton>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(312);(o=r)&&o.__esModule;t.default={name:"create-replace-button",fragment:{template:'<xbutton name="create-replace" @tooltip tooltip-title="toolbar.tooltip.replace.title" @controller="states:CreateReplaceController" icon-class="fv__icon-toolbar-replace">toolbar.create.replace</xbutton>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=g(n(1502)),i=g(n(313)),a=g(n(316)),s=g(n(317)),c=g(n(318)),u=g(n(322)),l=g(n(323)),f=g(n(319)),p=g(n(3)),d=g(n(176)),h=g(n(6));function g(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var b=function(){function e(){y(this,e)}return e.prototype.stateIn=function(){this.component.parent.select(this.component),this.component.parent.element.classList.add("selected")},e.prototype.stateOut=function(){this.component.parent.element.classList.remove("selected")},e}();h.default.module("drawings",[]).registerController(function(e){function t(){return y(this,t),m(this,e.apply(this,arguments))}return v(t,e),t.getName=function(){return"DrawingsDropdownController"},t.prototype.postlink=function(){this.component.select(this.component.childAt(0))},o(t,null,[{key:"permission",get:function(){return 32}}]),t}(p.default)),t.default={name:"create-drawings-dropdown",fragment:{template:(0,r.default)(),config:[{target:"create-line",callback:d.default.mixin(i.default,b)},{target:"create-arrow",callback:d.default.mixin(a.default,b)},{target:"create-circle",callback:d.default.mixin(s.default,b)},{target:"create-square",callback:d.default.mixin(c.default,b)},{target:"create-polyline",callback:d.default.mixin(f.default,b)},{target:"create-polygon",callback:d.default.mixin(u.default,b)},{target:"create-cloud",callback:d.default.mixin(l.default,b)}]}}},function(e,t,n){n(2);e.exports=function(e){"use strict";e=e||{};return'<dropdown @controller="drawings:DrawingsDropdownController" name="create-shape-dropdown" class="fv__ui-dropdown-hide-text">\r\n    <create-square-button></create-square-button>\r\n    <create-circle-button></create-circle-button>\r\n    <create-line-button></create-line-button>\r\n    <create-arrow-button></create-arrow-button>\r\n    <create-polygon-button></create-polygon-button>\r\n    <create-polyline-button></create-polyline-button>\r\n    <create-cloud-button></create-cloud-button>\r\n</dropdown>','<dropdown @controller="drawings:DrawingsDropdownController" name="create-shape-dropdown" class="fv__ui-dropdown-hide-text">\r\n    <create-square-button></create-square-button>\r\n    <create-circle-button></create-circle-button>\r\n    <create-line-button></create-line-button>\r\n    <create-arrow-button></create-arrow-button>\r\n    <create-polygon-button></create-polygon-button>\r\n    <create-polyline-button></create-polyline-button>\r\n    <create-cloud-button></create-cloud-button>\r\n</dropdown>'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"create-squiggly-button",fragment:{template:'<xbutton name="create-squiggly" @tooltip tooltip-title="toolbar.tooltip.squiggly.title" @controller="states:CreateSquigglyController" icon-class="fv__icon-toolbar-squiggly">toolbar.create.squiggly</xbutton>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"create-strikeout-button",fragment:{template:'<xbutton name="create-strikeout" @tooltip tooltip-title="toolbar.tooltip.strikeout.title" @controller="states:CreateStrikeoutController" icon-class="fv__icon-toolbar-strikeout">toolbar.create.strikeout</xbutton>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"create-note-button",fragment:{template:'<xbutton name="create-text" @tooltip tooltip-title="toolbar.tooltip.note.title" @controller="states:CreateTextController" icon-class="fv__icon-toolbar-note">toolbar.create.note</xbutton>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"create-underline-button",fragment:{template:'<xbutton name="create-underline" @tooltip tooltip-title="toolbar.tooltip.underline.title" @controller="states:CreateUnderlineController" icon-class="fv__icon-toolbar-underline">toolbar.create.underline</xbutton>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"selection-button",fragment:{template:'<xbutton @controller="states:SelectTextAnnotationController" name="selection-text-annotation" @tooltip icon-class="fv__icon-toolbar-select"></xbutton>',config:[{target:"selection-text-annotation",attrs:{"tooltip-title":"toolbar.tooltip.select.title"}}]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(n(1509)),r=u(n(3)),i=u(n(6)),a=u(n(525)),s=u(n(526)),c=u(n(10));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}i.default.module("selection",[]).registerController(function(e){function t(){return l(this,t),f(this,e.apply(this,arguments))}return p(t,e),t.getName=function(){return"SelectionDropdownController"},t.prototype.postlink=function(){var e=this,t=function(){e.component.select(e.component.childAt(0))};t(),this.addDestroyHook(this.getPDFUI().addViewerEventListener(c.default.openFileSuccess,(function(e){t()})))},t}(r.default)),t.default={name:"selection-dropdown",fragment:{template:(0,o.default)(),config:[{target:"select-text-image",callback:a.default},{target:"select-annotation",callback:s.default}]}}},function(e,t,n){n(2);e.exports=function(e){"use strict";e=e||{};return'<dropdown @tooltip @controller="selection:SelectionDropdownController" name="selection-dropdown" class="fv__ui-dropdown-hide-text">\r\n    <select-text-image-button tooltip-title="toolbar.tooltip.selectTextImage.title"></select-text-image-button>\r\n    <select-annotation-button tooltip-title="toolbar.tooltip.selectAnnotation.title"></select-annotation-button>\r\n</dropdown>','<dropdown @tooltip @controller="selection:SelectionDropdownController" name="selection-dropdown" class="fv__ui-dropdown-hide-text">\r\n    <select-text-image-button tooltip-title="toolbar.tooltip.selectTextImage.title"></select-text-image-button>\r\n    <select-annotation-button tooltip-title="toolbar.tooltip.selectAnnotation.title"></select-annotation-button>\r\n</dropdown>'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"select-text-image-button",fragment:{template:'<xbutton style="width: 220px;" @controller="states:SelectTextImageController" name="select-text-image" icon-class="fv__icon-toolbar-select-text-image">toolbar.buttons.selectTextImage</xbutton>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"select-annotation-button",fragment:{template:'<xbutton style="width: 220px;" @controller="states:SelectAnnotationController" name="select-annotation" icon-class="fv__icon-toolbar-select-annotation">toolbar.buttons.selectAnnotation</xbutton>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(549),i=(o=r)&&o.__esModule?o:{default:o};t.default={name:"edit-image-button",fragment:{template:'<xbutton name="edit-image-button" icon-class="fv__icon-edit-add-image"></xbutton>',config:{target:"edit-image-button",callback:i.default}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(336),i=(o=r)&&o.__esModule?o:{default:o};t.default={name:"add-image-button",fragment:{template:'<file-selector @tooltip name="image-tool" icon-class="fv__icon-edit-add-image" accept="image/*"></file-selector>',config:{target:"image-tool",isFileSelector:!0,callback:i.default,attrs:{"tooltip-title":"toolbar.tooltip.add-image.title"}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});o(n(540)),o(n(539));function o(e){return e&&e.__esModule?e:{default:e}}n(1515),t.default={name:"editable-zoom-dropdown",fragment:{template:'\n\n        <dropdown name="editable-zoom-dropdown" @controller="zoom:EditableZoomDropdownController" class="fv__ui-editable_zoom_dropdown" editable="true">\n            <dropdown-button icon-class="fv__icon-toolbar-fit-page" action="fitHeight" @controller="zoom:EditableZoomActionController" name="editable-zoom-dropdown-fitpage">toolbar.buttons.fitHeight</dropdown-button>\n            <dropdown-button icon-class="fv__icon-toolbar-fit-width" action="fitWidth" @controller="zoom:EditableZoomActionController" name="editable-zoom-dropdown-fitwidth">toolbar.buttons.fitWidth</dropdown-button>\n            <dropdown-button icon-class="fv__icon-toolbar-fit-visible" action="fitVisible" @controller="zoom:EditableZoomActionController" name="editable-zoom-dropdown-fitvisible">toolbar.buttons.fitVisible</dropdown-button>\n            <li class="fv__ui-dropdown-separator"></li>\n            <dropdown-button @foreach="scale in $pdfui.customScalingValues" @sync.text="scale * 100 + \'%\'" @controller="zoom:EditableZoomToScaleValueController"></dropdown-button>\n        </dropdown>\n    ',config:[{target:"editable-zoom-dropdown",editOptions:{type:"number",min:25,max:600,step:1,value:50,template:"${value}%"}}]}}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(225);(o=r)&&o.__esModule;t.default={name:"zoom-in-button",fragment:{template:'\n            <xbutton @tooltip tooltip-title="toolbar.buttons.zoomin" @controller="zoom:ZoomInAndOutController" action="zoomin" name="zoom-in" icon-class="fv__icon-toolbar-zoom-in">toolbar.buttons.zoomin</xbutton>\n        '}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(225);(o=r)&&o.__esModule;t.default={name:"zoom-out-button",fragment:{template:'\n            <xbutton @tooltip tooltip-title="toolbar.buttons.zoomout" @controller="zoom:ZoomInAndOutController" action="zoomout" name="zoom-out" icon-class="fv__icon-toolbar-zoom-out">toolbar.buttons.zoomout</xbutton>\n        '}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"single-page-button",fragment:{template:'\n            <xbutton @tooltip tooltip-title="toolbar.tools.single-page" @controller="pagemode:SinglePageModeController" name="single-page" icon-class="fv__icon-toolbar-single-page">toolbar.tools.single-page</xbutton>\n        '}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"continuous-page-button",fragment:{template:'\n            <xbutton @tooltip tooltip-title="toolbar.tools.continuous-page" @controller="pagemode:ContinuousPageModeController" name="continuous-page" icon-class="fv__icon-toolbar-continuous-page">toolbar.tools.continuous-page</xbutton>\n        '}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"facing-page-button",fragment:{template:'\n            <xbutton @tooltip tooltip-title="toolbar.tools.facing" @controller="pagemode:FacingPageModeController" name="facing-page" icon-class="fv__icon-toolbar-double-page">toolbar.tools.facing</xbutton>\n        '}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"continuous-facing-page-button",fragment:{template:'\n            <xbutton @tooltip tooltip-title="toolbar.tools.continuous-facing" @controller="pagemode:ContinuousFacingPageModeController" name="continuous-facing-page" icon-class="fv__icon-toolbar-facing-continuous-page">toolbar.tools.continuous-facing</xbutton>\n        '}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(561),i=(o=r)&&o.__esModule?o:{default:o};t.default={name:"snapshot-button",fragment:{template:'<xbutton @controller="states:SnapshotToolController" @tooltip name="'+i.default.SNAPSHOT_BUTTON+'" icon-class="fv__icon-toolbar-snapshot">toolbar.buttons.snapshot</xbutton>',config:{target:i.default.SNAPSHOT_BUTTON,attrs:{"tooltip-title":"toolbar.buttons.snapshot"}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(337);(o=r)&&o.__esModule;t.default={name:"loupe-tool-button",fragment:{template:'<xbutton \n                    name="loupe-button" \n                    icon-class="fv__icon-toolbar-magnifier"\n                    class="fv__ui-toolbar-show-text-button"\n                    @tooltip tooltip-title="toolbar.tooltip.loupe.title"\n                    @controller="loupe:LoupeController"\n                >toolbar.tools.loupe</xbutton>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(1525),i=(o=r)&&o.__esModule?o:{default:o};t.default={name:"loupe-tool-dialog",fragment:{template:(0,i.default)(),config:[{target:"loupe-tool-zoom-dropdown",editOptions:{step:1,template:"${value}%"}}]}}},function(e,t,n){n(2);e.exports=function(e){"use strict";e=e||{};return'<layer name="loupe-tool-dialog" class="fv__ui-loupe-tool-dialog right" @resizable>\r\n    <layer-header class="fv__ui-loupe-tool-header" title="loupe.title" @draggable="{type: \'parent\'}"></layer-header>\r\n    <layer-view class="fv__ui-loupe-body">\r\n    </layer-view>\r\n    <layer-toolbar class="loupe-tool-bottom-bar" visible="false">\r\n        <dropdown name="loupe-tool-zoom-dropdown" @controller="loupe:LoupeToolScaleListController" editable="true">\r\n            <dropdown-button @foreach="scaleItem in scaleList track by value" @controller="loupe:LoupeToolScaleController" @bind.text="scaleItem.text"></dropdown-button>\r\n        </dropdown>\r\n        <slider name="loupe-tool-zoom-slider" min="50" max="600" step="1"></slider>\r\n        <checkbox name="loupe-tool-lock">loupe.lockButton</checkbox>\r\n    </layer-toolbar>\r\n</layer>','<layer name="loupe-tool-dialog" class="fv__ui-loupe-tool-dialog right" @resizable>\r\n    <layer-header class="fv__ui-loupe-tool-header" title="loupe.title" @draggable="{type: \'parent\'}"></layer-header>\r\n    <layer-view class="fv__ui-loupe-body">\r\n    </layer-view>\r\n    <layer-toolbar class="loupe-tool-bottom-bar" visible="false">\r\n        <dropdown name="loupe-tool-zoom-dropdown" @controller="loupe:LoupeToolScaleListController" editable="true">\r\n            <dropdown-button @foreach="scaleItem in scaleList track by value" @controller="loupe:LoupeToolScaleController" @bind.text="scaleItem.text"></dropdown-button>\r\n        </dropdown>\r\n        <slider name="loupe-tool-zoom-slider" min="50" max="600" step="1"></slider>\r\n        <checkbox name="loupe-tool-lock">loupe.lockButton</checkbox>\r\n    </layer-toolbar>\r\n</layer>'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"marquee-tool-button",fragment:{template:'<xbutton \n                    name="marquee-button" \n                    icon-class="fv__icon-toolbar-marquee"\n                    class="fv__ui-toolbar-show-text-button"\n                    @tooltip\n                    tooltip-title="toolbar.tooltip.marquee.title"\n                    @controller="marquee:MarqueeToolController"\n                >toolbar.buttons.marquee</xbutton>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(1528)),r=s(n(550)),i=s(n(551)),a=s(n(3));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}t.default={name:"stamp-dropdown",fragment:{template:(0,o.default)(),config:[{target:"create-stamp-dropdown",callback:r.default},{target:"custom-stamps-list",callback:r.default},{target:"create-stamp-handle-ui",callback:r.default},{target:"add-custom-stamp",callback:i.default},{target:"stamp-drop-down-ui",callback:function(e){function t(){return c(this,t),u(this,e.apply(this,arguments))}return l(t,e),t.prototype.mounted=function(){var e=this;this.component.once("active",(function(t){var n=e.pdfUI;n.getComponentByName("create-stamp-handle-ui").then((function(e){var t=n.initDefaultStamps();t&&e.updateListData(t)}))}));var t=this.component.element.querySelector(".fv__ui-stamps-list"),n=function(e){t.clientWidth!==t.offsetWidth&&(e.clientX-t.getBoundingClientRect().left>=t.clientWidth&&e.stopPropagation())};t.addEventListener("mouseup",n),this.addDestroyHook((function(){t.removeEventListener("mouseup",n)}))},t}(a.default)}]}}},function(e,t,n){n(2);e.exports=function(e){"use strict";e=e||{};return'<dropdown @tooltip name="stamp-drop-down-ui" tooltip-title="toolbar.tooltip.stamp.title" icon-class="fv__icon-toolbar-stamp" popup-class="fv__ui-stamplist-dropdown" separate="false">\r\n    <div class="fv__ui-stamps-list">\r\n        <dropdown-item name="create-stamp-dropdown" class="fv__ui-template-stamps">\r\n            <listbox name="create-stamp-handle-ui" catalog=""></listbox>\r\n        </dropdown-item>\r\n        <dropdown-item name="create-custom-stamps" class="fv__ui-custom-stamps">\r\n            <listbox name="custom-stamps-list" catalog=""></listbox>\r\n        </dropdown-item>\r\n    </div>\r\n    <div @hide-on-sr>\r\n        <div handleon="click" class="fv__ui-custom-stamp-title" name="add-custom-stamp">\r\n            <xbutton icon-class="fv__icon-toolbar-stamp"></xbutton>\r\n            <div><text>toolbar.stamp.customStamps</text></div>\r\n        </div>\r\n    </div>\r\n</dropdown>','<dropdown @tooltip name="stamp-drop-down-ui" tooltip-title="toolbar.tooltip.stamp.title" icon-class="fv__icon-toolbar-stamp" popup-class="fv__ui-stamplist-dropdown" separate="false">\r\n    <div class="fv__ui-stamps-list">\r\n        <dropdown-item name="create-stamp-dropdown" class="fv__ui-template-stamps">\r\n            <listbox name="create-stamp-handle-ui" catalog=""></listbox>\r\n        </dropdown-item>\r\n        <dropdown-item name="create-custom-stamps" class="fv__ui-custom-stamps">\r\n            <listbox name="custom-stamps-list" catalog=""></listbox>\r\n        </dropdown-item>\r\n    </div>\r\n    <div @hide-on-sr>\r\n        <div handleon="click" class="fv__ui-custom-stamp-title" name="add-custom-stamp">\r\n            <xbutton icon-class="fv__icon-toolbar-stamp"></xbutton>\r\n            <div><text>toolbar.stamp.customStamps</text></div>\r\n        </div>\r\n    </div>\r\n</dropdown>'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(1530),i=(o=r)&&o.__esModule?o:{default:o};t.default={name:"create-stamp-dialog",fragment:{template:(0,i.default)()}}},function(e,t,n){n(2);e.exports=function(e){"use strict";e=e||{};return'<layer name="create-stamp-dialog" class="fv__popup-dialog center fv__ui-stamp-dialog" @resizable backdrop style="max-height: calc(100vh - 40px); overflow: auto;">\r\n    <layer-header title="stamp.dialog.title"></layer-header>\r\n    <div class="fv__popup-stamp-body">\r\n        <stamp:stamp-create name="create-stamp-body">\r\n        </stamp:stamp-create>\r\n    </div>\r\n    <layer-toolbar class="fv__ui-create-stamp-bottom-bar">\r\n        <xbutton data-action="Cancle" class="fv__ui-dialog-cancel-button" handleon="click"  @controller="stamp:CustomStampButtonController">dialog.cancel</xbutton>\r\n        <xbutton data-action="OK" class="fv__ui-dialog-ok-button" handleon="click"  @controller="stamp:CustomStampButtonController">dialog.ok</xbutton>\r\n    </layer-toolbar>\r\n</layer>','<layer name="create-stamp-dialog" class="fv__popup-dialog center fv__ui-stamp-dialog" @resizable backdrop style="max-height: calc(100vh - 40px); overflow: auto;">\r\n    <layer-header title="stamp.dialog.title"></layer-header>\r\n    <div class="fv__popup-stamp-body">\r\n        <stamp:stamp-create name="create-stamp-body">\r\n        </stamp:stamp-create>\r\n    </div>\r\n    <layer-toolbar class="fv__ui-create-stamp-bottom-bar">\r\n        <xbutton data-action="Cancle" class="fv__ui-dialog-cancel-button" handleon="click"  @controller="stamp:CustomStampButtonController">dialog.cancel</xbutton>\r\n        <xbutton data-action="OK" class="fv__ui-dialog-ok-button" handleon="click"  @controller="stamp:CustomStampButtonController">dialog.ok</xbutton>\r\n    </layer-toolbar>\r\n</layer>'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(1532);var o,r=n(1533),i=(o=r)&&o.__esModule?o:{default:o},a=n(553);t.default={name:"create-ink-sign-dialog",fragment:{template:(0,i.default)(),config:{target:"create-signature",callback:a.CreateInkSignDialogController}}}},function(e,t){},function(e,t,n){n(2);e.exports=function(e){"use strict";e=e||{};return'<layer name="create-signature" class="fv__ui-sign-layer center" append-to="body" @draggable modal backdrop>\r\n    <div class="fv__ui-sign-dialog" @stop-drag>\r\n        <layer-header title="dialog.signDialog.title"></layer-header>\r\n        \x3c!-- <div class="fv__ui-sign-dialog-header">\r\n            <div class="fv__ui-sign-dialog-title" data-i18n="dialog.signDialog.title"></div>\r\n            <i name="sign-dialog-close-icon">Ã</i>\r\n        </div> --\x3e\r\n        <div class="fv__ui-sign-dialog-body">\r\n            <div class="fv__ui-sign-dialog-tab-panel" name="sign-dialog-tab-panel">\r\n                <div class="fv__ui-sign-dialog-tabs">\r\n                    <div class="fv__ui-sign-dialog-tab">\r\n                        <i class="fv__icon-sign-draw-signature"></i>\r\n                        <span data-i18n="dialog.signDialog.drawSignature"></span>\r\n                        <div></div>\r\n                    </div>\r\n                    <div class="fv__ui-sign-dialog-tab">\r\n                        <i class="fv__icon-sign-image"></i>\r\n                        <span data-i18n="dialog.signDialog.image"></span>\r\n                        <div></div>\r\n                    </div>\r\n                </div>\r\n                <div class="fv__ui-sign-dialog-panel" name="sign-dialog-panel-draw">\r\n                    <div class="fv__ui-sign-dialog-tools">\r\n                        <div class="fv__ui-sign-dialog-color"  name="sign-dialog-select-color">\r\n                            <span class="circle color-wrapper" data-color="#000000"><i class="circle color-icon color-1"></i></span>\r\n                            <span class="circle color-wrapper" data-color="#000066"><i class="circle color-icon color-2"></i></span>\r\n                            <span class="circle color-wrapper" data-color="#330066"><i class="circle color-icon color-3"></i></span>\r\n                            <span class="circle color-wrapper" data-color="#0000cc"><i class="circle color-icon color-4"></i></span>\r\n                        </div>\r\n                        <div class="fv__ui-sign-dialog-size"  name="sign-dialog-select-size">\r\n                            <span class="circle color-wrapper ml-20" data-size="4"><i class="circle size-icon-1 color-5"></i></span>\r\n                            <span class="circle color-wrapper" data-size="6"><i class="circle size-icon-2 color-5"></i></span>\r\n                            <span class="circle color-wrapper" data-size="8"><i class="circle size-icon-3 color-5"></i></span>\r\n                            <span class="circle color-wrapper" data-size="10"><i class="circle size-icon-4 color-5"></i></span>\r\n                        </div>\r\n                        <div class="fv__ui-sign-dialog-eraser"><i class="fv__icon-toolbar-clear fv__ui-sign-dialog-icon ml-20" name="sign-dialog-select-eraser"></i></div>\r\n                    </div>\r\n                    <div class="fv__ui-sign-dialog-canvas">\r\n                        <canvas id="createSignature" name="sign-dialog-canvas"></canvas>\r\n                    </div>  \r\n                </div>\r\n                <div class="fv__ui-sign-dialog-panel" name="sign-dialog-panel-image">\r\n                    <div class="image-title">\r\n                        <div data-i18n="dialog.signDialog.preview"></div><i class="fv__icon-toolbar-clear"></i>\r\n                    </div>\r\n                    <div class="preview-wrapper">\r\n                        <div class="preview-img-wrapper"><img class="preview-img"/></div>\r\n                        <input type="file" accept="image/jpeg,image/jpg,image/png" class="preview-input"/>\r\n                        <div data-i18n="dialog.signDialog.selectImageFile"></div>\r\n                    </div>\r\n                    <div class="preview-file-error-message"></div>\r\n                    \x3c!--\r\n                    <div class="option-title" data-i18n="dialog.signDialog.option"></div>\r\n                    --\x3e\r\n                    <label class="option-item">\r\n                        <input type="checkbox" class="online-checkbox-input" name="sign-dialog-option-convert-to"/>\r\n                        <span class="online-checkbox-inner"></span>\r\n                        <div data-i18n="dialog.signDialog.optionConvertTo"></div>\r\n                    </label>\r\n                    <br>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="fv__ui-sign-dialog-footer">\r\n            <label class="fv__ui-sign-dialog-save">\r\n                <input type="checkbox" class="online-checkbox-input" name="sign-dialog-save" id="sign-dialog-save-checkbox" checked="checked"/>\r\n                <span class="online-checkbox-inner" style="margin-left: 0;"></span>\r\n                <div data-i18n="dialog.signDialog.save"></div>\r\n            </label>\r\n            <div class="fv__ui-sign-dialog-btns">\r\n                <button class="fv__ui-sign-btn fv__ui-sign-dialog-cancel fv__ui-dialog-cancel-button fv__button-cancle" data-i18n="dialog.signDialog.cancel" name="sign-dialog-close-btn"></button>\r\n                <button class="fv__ui-sign-btn fv__ui-sign-dialog-ok fv__ui-dialog-ok-button fv__button-ok" data-i18n="dialog.signDialog.ok" name="sign-dialog-ok-btn"></button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</layer>','<layer name="create-signature" class="fv__ui-sign-layer center" append-to="body" @draggable modal backdrop>\r\n    <div class="fv__ui-sign-dialog" @stop-drag>\r\n        <layer-header title="dialog.signDialog.title"></layer-header>\r\n        \x3c!-- <div class="fv__ui-sign-dialog-header">\r\n            <div class="fv__ui-sign-dialog-title" data-i18n="dialog.signDialog.title"></div>\r\n            <i name="sign-dialog-close-icon">Ã</i>\r\n        </div> --\x3e\r\n        <div class="fv__ui-sign-dialog-body">\r\n            <div class="fv__ui-sign-dialog-tab-panel" name="sign-dialog-tab-panel">\r\n                <div class="fv__ui-sign-dialog-tabs">\r\n                    <div class="fv__ui-sign-dialog-tab">\r\n                        <i class="fv__icon-sign-draw-signature"></i>\r\n                        <span data-i18n="dialog.signDialog.drawSignature"></span>\r\n                        <div></div>\r\n                    </div>\r\n                    <div class="fv__ui-sign-dialog-tab">\r\n                        <i class="fv__icon-sign-image"></i>\r\n                        <span data-i18n="dialog.signDialog.image"></span>\r\n                        <div></div>\r\n                    </div>\r\n                </div>\r\n                <div class="fv__ui-sign-dialog-panel" name="sign-dialog-panel-draw">\r\n                    <div class="fv__ui-sign-dialog-tools">\r\n                        <div class="fv__ui-sign-dialog-color"  name="sign-dialog-select-color">\r\n                            <span class="circle color-wrapper" data-color="#000000"><i class="circle color-icon color-1"></i></span>\r\n                            <span class="circle color-wrapper" data-color="#000066"><i class="circle color-icon color-2"></i></span>\r\n                            <span class="circle color-wrapper" data-color="#330066"><i class="circle color-icon color-3"></i></span>\r\n                            <span class="circle color-wrapper" data-color="#0000cc"><i class="circle color-icon color-4"></i></span>\r\n                        </div>\r\n                        <div class="fv__ui-sign-dialog-size"  name="sign-dialog-select-size">\r\n                            <span class="circle color-wrapper ml-20" data-size="4"><i class="circle size-icon-1 color-5"></i></span>\r\n                            <span class="circle color-wrapper" data-size="6"><i class="circle size-icon-2 color-5"></i></span>\r\n                            <span class="circle color-wrapper" data-size="8"><i class="circle size-icon-3 color-5"></i></span>\r\n                            <span class="circle color-wrapper" data-size="10"><i class="circle size-icon-4 color-5"></i></span>\r\n                        </div>\r\n                        <div class="fv__ui-sign-dialog-eraser"><i class="fv__icon-toolbar-clear fv__ui-sign-dialog-icon ml-20" name="sign-dialog-select-eraser"></i></div>\r\n                    </div>\r\n                    <div class="fv__ui-sign-dialog-canvas">\r\n                        <canvas id="createSignature" name="sign-dialog-canvas"></canvas>\r\n                    </div>  \r\n                </div>\r\n                <div class="fv__ui-sign-dialog-panel" name="sign-dialog-panel-image">\r\n                    <div class="image-title">\r\n                        <div data-i18n="dialog.signDialog.preview"></div><i class="fv__icon-toolbar-clear"></i>\r\n                    </div>\r\n                    <div class="preview-wrapper">\r\n                        <div class="preview-img-wrapper"><img class="preview-img"/></div>\r\n                        <input type="file" accept="image/jpeg,image/jpg,image/png" class="preview-input"/>\r\n                        <div data-i18n="dialog.signDialog.selectImageFile"></div>\r\n                    </div>\r\n                    <div class="preview-file-error-message"></div>\r\n                    \x3c!--\r\n                    <div class="option-title" data-i18n="dialog.signDialog.option"></div>\r\n                    --\x3e\r\n                    <label class="option-item">\r\n                        <input type="checkbox" class="online-checkbox-input" name="sign-dialog-option-convert-to"/>\r\n                        <span class="online-checkbox-inner"></span>\r\n                        <div data-i18n="dialog.signDialog.optionConvertTo"></div>\r\n                    </label>\r\n                    <br>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="fv__ui-sign-dialog-footer">\r\n            <label class="fv__ui-sign-dialog-save">\r\n                <input type="checkbox" class="online-checkbox-input" name="sign-dialog-save" id="sign-dialog-save-checkbox" checked="checked"/>\r\n                <span class="online-checkbox-inner" style="margin-left: 0;"></span>\r\n                <div data-i18n="dialog.signDialog.save"></div>\r\n            </label>\r\n            <div class="fv__ui-sign-dialog-btns">\r\n                <button class="fv__ui-sign-btn fv__ui-sign-dialog-cancel fv__ui-dialog-cancel-button fv__button-cancle" data-i18n="dialog.signDialog.cancel" name="sign-dialog-close-btn"></button>\r\n                <button class="fv__ui-sign-btn fv__ui-sign-dialog-ok fv__ui-dialog-ok-button fv__button-ok" data-i18n="dialog.signDialog.ok" name="sign-dialog-ok-btn"></button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</layer>'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(1535);var o=a(n(1536)),r=a(n(552)),i=a(n(554));function a(e){return e&&e.__esModule?e:{default:e}}t.default={name:"ink-sign-dropdown",fragment:{template:(0,o.default)(),config:[{target:"signature-list",callback:r.default},{target:"create-signature-btn",callback:i.default}]}}},function(e,t){},function(e,t,n){n(2);e.exports=function(e){"use strict";e=e||{};return'<dropdown @tooltip tooltip-title="toolbar.tooltip.sign.title" icon-class="fv__icon-toolbar-inksign" popup-class="fv__ui-sign-dropdown-list" class="fv__ui-sign-dropdown" text="toolbar.tooltip.sign.name" separate="false">\r\n    <div  class="fv__ui-sign-list">\r\n        <div  name="signature-list" class="pdf-sign-list">\r\n            <inksign:signItem class="fv__ui-sign-list-icon-item" @foreach="signature in signatures" @permission="8" @controller="inksign:InkSignItemController"></inksign:signItem>\r\n        </div>\r\n    </div>\r\n    <dropdown-button class="fv__ui-sign-item" name="create-signature-btn" icon-class="fv__icon-toolbar-add-sign" >\r\n        toolbar.create.sign\r\n    </dropdown-button>\r\n</dropdown>','<dropdown @tooltip tooltip-title="toolbar.tooltip.sign.title" icon-class="fv__icon-toolbar-inksign" popup-class="fv__ui-sign-dropdown-list" class="fv__ui-sign-dropdown" text="toolbar.tooltip.sign.name" separate="false">\r\n    <div  class="fv__ui-sign-list">\r\n        <div  name="signature-list" class="pdf-sign-list">\r\n            <inksign:signItem class="fv__ui-sign-list-icon-item" @foreach="signature in signatures" @permission="8" @controller="inksign:InkSignItemController"></inksign:signItem>\r\n        </div>\r\n    </div>\r\n    <dropdown-button class="fv__ui-sign-item" name="create-signature-btn" icon-class="fv__icon-toolbar-add-sign" >\r\n        toolbar.create.sign\r\n    </dropdown-button>\r\n</dropdown>'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"quick-search-tool",fragment:{template:'<quick-search:quick-search name="top-quick" @controller="quick-search:QuickSearchController"></quick-search:quick-search>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"attachment-sidebar-panel",fragment:{template:'\n            <sidebar-panel \n                name="sidebar-attachment" \n                title="sidebar.attachment.title" \n                icon-class="fv__icon-sidebar-attachment" \n                >\n                    <attachment:attachment-panel name="fv-attachment-sidebar-panel" @controller="attachment:AttachmentSidebarPanelController as attachment"></attachment:attachment-panel>\n            </sidebar-panel>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(1540),i=(o=r)&&o.__esModule?o:{default:o};t.default={name:"commentlist-sidebar-panel",fragment:{template:(0,i.default)()}}},function(e,t,n){n(2);e.exports=function(e){"use strict";e=e||{};return'<comment-list:sidebar-panel name="comment-list-sidebar-panel" title="sidebar.commentlist.title" class="fv__biz-sidebar-comment-list" icon-class="fv__icon-sidebar-comment-list">\r\n    <comment-list:search-comment name="fv--search-comment-component" @controller="comment-list:SearchCommentController"></comment-list:search-comment>\r\n    \x3c!-- <commentlist></commentlist> --\x3e\r\n    <commentlistEx></commentlistEx>\r\n    <comment-list:load-all\r\n        name="fv--commentlist-search-load-all"\r\n        search-component="fv--search-comment-component"\r\n        commentlist-component="commentlistEx"\r\n    ></comment-list:load-all>\r\n</comment-list:sidebar-panel>','<comment-list:sidebar-panel name="comment-list-sidebar-panel" title="sidebar.commentlist.title" class="fv__biz-sidebar-comment-list" icon-class="fv__icon-sidebar-comment-list">\r\n    <comment-list:search-comment name="fv--search-comment-component" @controller="comment-list:SearchCommentController"></comment-list:search-comment>\r\n    \x3c!-- <commentlist></commentlist> --\x3e\r\n    <commentlistEx></commentlistEx>\r\n    <comment-list:load-all\r\n        name="fv--commentlist-search-load-all"\r\n        search-component="fv--search-comment-component"\r\n        commentlist-component="commentlistEx"\r\n    ></comment-list:load-all>\r\n</comment-list:sidebar-panel>'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(1542),i=(o=r)&&o.__esModule?o:{default:o};t.default={name:"commentlist",fragment:{template:(0,i.default)()}}},function(e,t,n){n(2);e.exports=function(e){"use strict";e=e||{};return'<comment-list:comment-list \r\n    name="commentlist"\r\n    @controller="comment-list:CommentListController as commentList"\r\n    @comment-list:search-comment-list="fv--search-comment-component"\r\n    >\r\n    <comment-list:comment-group\r\n        @foreach="page in pages track by getId()"\r\n        @controller="comment-list:CommentGroupController as commentGroup"\r\n        @comment-list:search-comment-group="fv--search-comment-component"\r\n    >\r\n        <comment-list:comment\r\n            @foreach="annot in annots track by id"\r\n            @controller="comment-list:CommentItemController as comment"\r\n            @bind.annot="annot"\r\n            @on.click="onClick"\r\n            @on.dblclick="onDoubleClick"\r\n            @on.publish="onPublish"\r\n            @on.reply="onReply"\r\n            @comment-list:search-comment="fv--search-comment-component"\r\n        >\r\n            <comment-list:reply \r\n                @foreach="replyItem in replies track by id"\r\n                @controller="comment-list:CommentReplyController as reply"\r\n                @on.click="onClick"\r\n                @on.dblclick="onDoubleClick"\r\n                @on.reply="updateReplyMessage"\r\n                @comment-list:search-comment-reply="fv--search-comment-component"\r\n            ></comment-list:reply>\r\n        </comment-list:comment>\r\n    </comment-list:comment-group>\r\n</comment-list:comment-list>','<comment-list:comment-list \r\n    name="commentlist"\r\n    @controller="comment-list:CommentListController as commentList"\r\n    @comment-list:search-comment-list="fv--search-comment-component"\r\n    >\r\n    <comment-list:comment-group\r\n        @foreach="page in pages track by getId()"\r\n        @controller="comment-list:CommentGroupController as commentGroup"\r\n        @comment-list:search-comment-group="fv--search-comment-component"\r\n    >\r\n        <comment-list:comment\r\n            @foreach="annot in annots track by id"\r\n            @controller="comment-list:CommentItemController as comment"\r\n            @bind.annot="annot"\r\n            @on.click="onClick"\r\n            @on.dblclick="onDoubleClick"\r\n            @on.publish="onPublish"\r\n            @on.reply="onReply"\r\n            @comment-list:search-comment="fv--search-comment-component"\r\n        >\r\n            <comment-list:reply \r\n                @foreach="replyItem in replies track by id"\r\n                @controller="comment-list:CommentReplyController as reply"\r\n                @on.click="onClick"\r\n                @on.dblclick="onDoubleClick"\r\n                @on.reply="updateReplyMessage"\r\n                @comment-list:search-comment-reply="fv--search-comment-component"\r\n            ></comment-list:reply>\r\n        </comment-list:comment>\r\n    </comment-list:comment-group>\r\n</comment-list:comment-list>'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(1544),i=(o=r)&&o.__esModule?o:{default:o};t.default={name:"commentlistEx",fragment:{template:(0,i.default)()}}},function(e,t,n){n(2);e.exports=function(e){"use strict";e=e||{};return'<comment-list:comment-list \r\n    name="commentlistEx"\r\n    @controller="comment-list:CommentListExController as commentList"\r\n    @comment-list:search-comment-list="fv--search-comment-component"\r\n    >\r\n    <comment-list:comment-group-ex\r\n        @foreach="annotsItem in annotsGroup track by index"\r\n        @controller="comment-list:CommentGroupExController as commentGroup"\r\n        @comment-list:search-comment-group="fv--search-comment-component"\r\n    >\r\n        <comment-list:comment\r\n            @foreach="annot in annots track by id"\r\n            @controller="comment-list:CommentItemController as comment"\r\n            @bind.annot="annot"\r\n            @on.click="onClick"\r\n            @on.dblclick="onDoubleClick"\r\n            @on.publish="onPublish"\r\n            @on.reply="onReply"\r\n            @comment-list:search-comment="fv--search-comment-component"\r\n        >\r\n            <comment-list:reply \r\n                @foreach="replyItem in replies track by id"\r\n                @controller="comment-list:CommentReplyController as reply"\r\n                @on.click="onClick"\r\n                @on.dblclick="onDoubleClick"\r\n                @on.reply="updateReplyMessage"\r\n                @comment-list:search-comment-reply="fv--search-comment-component"\r\n            ></comment-list:reply>\r\n        </comment-list:comment>\r\n    </comment-list:comment-group>\r\n</comment-list:comment-list>','<comment-list:comment-list \r\n    name="commentlistEx"\r\n    @controller="comment-list:CommentListExController as commentList"\r\n    @comment-list:search-comment-list="fv--search-comment-component"\r\n    >\r\n    <comment-list:comment-group-ex\r\n        @foreach="annotsItem in annotsGroup track by index"\r\n        @controller="comment-list:CommentGroupExController as commentGroup"\r\n        @comment-list:search-comment-group="fv--search-comment-component"\r\n    >\r\n        <comment-list:comment\r\n            @foreach="annot in annots track by id"\r\n            @controller="comment-list:CommentItemController as comment"\r\n            @bind.annot="annot"\r\n            @on.click="onClick"\r\n            @on.dblclick="onDoubleClick"\r\n            @on.publish="onPublish"\r\n            @on.reply="onReply"\r\n            @comment-list:search-comment="fv--search-comment-component"\r\n        >\r\n            <comment-list:reply \r\n                @foreach="replyItem in replies track by id"\r\n                @controller="comment-list:CommentReplyController as reply"\r\n                @on.click="onClick"\r\n                @on.dblclick="onDoubleClick"\r\n                @on.reply="updateReplyMessage"\r\n                @comment-list:search-comment-reply="fv--search-comment-component"\r\n            ></comment-list:reply>\r\n        </comment-list:comment>\r\n    </comment-list:comment-group>\r\n</comment-list:comment-list>'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"bookmark",fragment:{template:'<bookmark-panel name="fv-bookmark-sidebar-panel" @controller="bookmark:BookmarkSidebarPanelController"></bookmark-panel>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"bookmark-sidebar-panel",fragment:{template:'\n        <sidebar-panel name="sidebar-bookmark" title="sidebar.bookmark.title" icon-class="fv__icon-sidebar-bookmark">\n            <bookmark></bookmark>\n        </sidebar-panel>\n        '}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"search-pane",fragment:{template:'<search:search-panel name="fv-search-sidebar-panel" @controller="search:SearchController"></search:search-panel>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"search-sidebar-panel",fragment:{template:'\n            <sidebar-panel name="sidebar-search" title="sidebar.search.title" icon-class="fv__icon-sidebar-search" @controller="search:SearchSidebarPanelController">\n                <search-pane></search-pane>\n            </sidebar-panel>\n        '}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"pdflayer-pane",fragment:{template:'<layer:pdflayers @controller="layer:LayerSidebarPanelController" name="fv-layer-sidebar-panel"></layer:pdflayers>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"layer-sidebar-panel",fragment:{template:'\n            <sidebar-panel name="sidebar-layers" title="sidebar.layers.title" icon-class="fv__icon-sidebar-page-manager">\n                <pdflayer-pane></pdflayer-pane>\n            </sidebar-panel>\n        '}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"create-arrow-button",fragment:{template:'<xbutton @controller="states:CreateArrowController" name="create-arrow" icon-class="fv__icon-toolbar-arrow">toolbar.buttons.arrow</xbutton>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"create-circle-button",fragment:{template:'<xbutton @controller="states:CreateCircleController" name="create-circle" icon-class="fv__icon-toolbar-circle">toolbar.buttons.circle</xbutton>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"create-cloud-button",fragment:{template:'<xbutton @controller="states:CreatePolygonCloudController" name="create-cloud" icon-class="fv__icon-toolbar-cloud">toolbar.buttons.cloud</xbutton>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"create-line-button",fragment:{template:'<xbutton @controller="states:CreateLineController" name="create-line" icon-class="fv__icon-toolbar-line">toolbar.buttons.line</xbutton>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"create-polygon-button",fragment:{template:'<xbutton @controller="states:CreatePolygonController" name="create-polygon" icon-class="fv__icon-toolbar-polygon">toolbar.buttons.polygon</xbutton>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"create-polyline-button",fragment:{template:'<xbutton @controller="states:CreatePolylineController" name="create-polyline" icon-class="fv__icon-toolbar-polyline">toolbar.buttons.polyline</xbutton>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"create-square-button",fragment:{template:'<xbutton @controller="states:CreateSquareController" name="create-square" icon-class="fv__icon-toolbar-square">toolbar.buttons.square</xbutton>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"action-annot-contextmenu",fragment:{template:'\n            <contextmenu name="fv--action-annot-contextmenu">\n                <contextmenu-item-delete-annot></contextmenu-item-delete-annot>\n                <contextmenu-separator></contextmenu-separator>\n                <contextmenu-item-annot-actions></contextmenu-item-annot-actions>\n                <contextmenu-separator></contextmenu-separator>\n                <contextmenu-item-properties></contextmenu-item-properties>\n                <contextmenu-separator></contextmenu-separator>\n                <form-designer:alignment-menu></form-designer:alignment-menu>\n            </contextmenu>\n        '}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"default-annot-contextmenu",fragment:{template:'\n        <contextmenu name="fv--default-annot-contextmenu">\n            <contextmenu-item-reply></contextmenu-item-reply>\n            <contextmenu-separator></contextmenu-separator>\n            <contextmenu-item-delete-annot></contextmenu-item-delete-annot>\n            <contextmenu-separator></contextmenu-separator>\n            <contextmenu-item-properties></contextmenu-item-properties>\n        </contextmenu>\n        '}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"fileattachment-contextmenu",fragment:{template:'\n            <contextmenu name="fv--fileattachment-contextmenu">\n                <contextmenu-item-reply></contextmenu-item-reply>\n                <contextmenu-separator></contextmenu-separator>\n                <contextmenu-item-delete-annot></contextmenu-item-delete-annot>\n                <contextmenu-separator></contextmenu-separator>\n                <contextmenu-item-properties></contextmenu-item-properties>\n                <contextmenu-separator></contextmenu-separator>\n                <form-designer:alignment-menu></form-designer:alignment-menu>\n            </contextmenu>\n        '}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"comment-card-contextmenu",fragment:{template:'\n            <contextmenu name="fv--comment-card-contextmenu">\n                <contextmenu-item>Reply</contextmenu-item>\n                <contextmenu-item>Copy</contextmenu-item>\n                <contextmenu-item>Delete</contextmenu-item>\n                <contextmenu-item>Properties</contextmenu-item>\n            </contextmenu>\n        '}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"markup-contextmenu",fragment:{template:"\n        <contextmenu name='fv--markup-contextmenu'>\n            <contextmenu-item-reply></contextmenu-item-reply>\n            <contextmenu-item-cut></contextmenu-item-cut>\n            <contextmenu-separator></contextmenu-separator>\n            <contextmenu-item-delete-annot></contextmenu-item-delete-annot>\n            <contextmenu-separator></contextmenu-separator>\n            <contextmenu-item-properties></contextmenu-item-properties>\n            <contextmenu-separator></contextmenu-separator>\n            <form-designer:alignment-menu></form-designer:alignment-menu>\n        </contextmenu>\n        "}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"freetext-contextmenu",fragment:{template:"\n            <contextmenu name='fv--freetext-contextmenu'>\n                <contextmenu-item-cut></contextmenu-item-cut>\n                <contextmenu-item-delete-annot></contextmenu-item-delete-annot>\n                <contextmenu-separator></contextmenu-separator>\n                <contextmenu-item-properties></contextmenu-item-properties>\n                <contextmenu-separator></contextmenu-separator>\n                <form-designer:alignment-menu></form-designer:alignment-menu>\n            </contextmenu>\n        "}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"caret-contextmenu",fragment:{template:"\n        <contextmenu name='fv--caret-contextmenu'>\n            <contextmenu-item-reply></contextmenu-item-reply>\n            <contextmenu-separator></contextmenu-separator>\n            <contextmenu-item-delete-annot></contextmenu-item-delete-annot>\n            <contextmenu-separator></contextmenu-separator>\n            <contextmenu-item-properties></contextmenu-item-properties>\n        </contextmenu>\n        "}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"media-contextmenu",fragment:{template:'\n            <contextmenu name="fv--media-contextmenu">\n                <contextmenu-item-media-download></contextmenu-item-media-download>\n                <contextmenu-separator></contextmenu-separator>\n                <contextmenu-item-delete-annot></contextmenu-item-delete-annot>\n                <contextmenu-separator></contextmenu-separator>\n                <contextmenu-item-properties></contextmenu-item-properties>\n                <contextmenu-separator></contextmenu-separator>\n                <contextmenu-item-media-play></contextmenu-item-media-play>\n                <contextmenu-separator></contextmenu-separator>\n                <form-designer:alignment-menu></form-designer:alignment-menu>\n            </contextmenu>\n        '}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"sound-contextmenu",fragment:{template:'\n            <contextmenu name="fv--sound-contextmenu">\n                <contextmenu-item-media-download></contextmenu-item-media-download>\n                <contextmenu-separator></contextmenu-separator>\n                <contextmenu-item-delete-annot></contextmenu-item-delete-annot>\n                <contextmenu-separator></contextmenu-separator>\n                <contextmenu-item-media-play></contextmenu-item-media-play>\n            </contextmenu>\n        '}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"page-contextmenu",fragment:{template:'\n        <contextmenu name="fv--page-contextmenu">\n            <full-screen:contextmenu-item-fullscreen></full-screen:contextmenu-item-fullscreen>\n            <contextmenu-separator @require-modules="full-screen" @hide-on-device="ios"></contextmenu-separator>\n            \x3c!--\n            <contextmenu-item-select-tool></contextmenu-item-select-tool>\n            --\x3e\n            <contextmenu-item-select-text-image></contextmenu-item-select-text-image>\n            <contextmenu-item-select-annotation></contextmenu-item-select-annotation>\n            <contextmenu-item-hand-tool></contextmenu-item-hand-tool>\n            <contextmenu-item-marquee-zoom></contextmenu-item-marquee-zoom>\n            <contextmenu-separator></contextmenu-separator>\n            \n            <contextmenu-item-zoom-actual-size></contextmenu-item-zoom-actual-size>\n            <contextmenu-item-zoom-fitpage></contextmenu-item-zoom-fitpage>\n            <contextmenu-item-zoom-fitwidth></contextmenu-item-zoom-fitwidth>\n            <contextmenu-item-zoom-fitvisible></contextmenu-item-zoom-fitvisible>\n            \n            <contextmenu-separator></contextmenu-separator>\n            <contextmenu-item-rotate-right></contextmenu-item-rotate-right>\n            <contextmenu-item-rotate-left></contextmenu-item-rotate-left>\n            <contextmenu-separator></contextmenu-separator>\n            <print:contextmenu-item-print></print:contextmenu-item-print>\n            <contextmenu-item-search></contextmenu-item-search>\n            <contextmenu-separator @require-modules="fpmodule"></contextmenu-separator>\n            <fpmodule:contextmenu-item-file-property></fpmodule:contextmenu-item-file-property>\n        </contextmenu>\n        '}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"textmarkup-contextmenu",fragment:{template:"\n            <contextmenu name='fv--textmarkup-contextmenu'>\n                <contextmenu-item-reply></contextmenu-item-reply>\n                <contextmenu-separator></contextmenu-separator>\n                <contextmenu-item-copy-text></contextmenu-item-copy-text>\n                <contextmenu-item-delete-annot></contextmenu-item-delete-annot>\n                <contextmenu-separator></contextmenu-separator>\n                <contextmenu-item-properties></contextmenu-item-properties>\n            </contextmenu>\n        "}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"field-signature-contextmenu",fragment:{template:'\n        <contextmenu>\n            <contextmenu-item name="fv--contextmenu-item-form-sign" @controller="annot-opr:SignController">certifySign.sign</contextmenu-item>\n            <contextmenu-separator></contextmenu-separator>\n            <contextmenu-item name="fv--contextmenu-item-form-showSignProperty" @controller="annot-opr:SignPropertyController">certifySign.showSignProperty</contextmenu-item>\n        </contextmenu>\n        '}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"contextmenu-item-zoomin",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-zoomin" action=\'zoomin\' @controller="zoom:ZoomInAndOutController">contextmenu.page.zoomin</contextmenu-item>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"contextmenu-item-zoomout",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-zoomout" action=\'zoomout\' @controller="zoom:ZoomInAndOutController">contextmenu.page.zoomout</contextmenu-item>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"contextmenu-item-zoom-fitpage",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-zoom-fitpage" action="fitHeight" @controller="zoom:ContextMenuZoomActionController">contextmenu.page.fitPage</contextmenu-item>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"contextmenu-item-zoom-fitwidth",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-zoom-fitwidth" action="fitWidth" @controller="zoom:ContextMenuZoomActionController">contextmenu.page.fitWidth</contextmenu-item>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"contextmenu-item-zoom-fitvisible",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-zoom-fitvisible" action="fitVisible" @controller="zoom:ContextMenuZoomActionController">contextmenu.page.fitVisible</contextmenu-item>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"contextmenu-item-nav-prevpage",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-nav-prevpage" @controller="gotoview:GotoPrevPageController">contextmenu.page.prevpage</contextmenu-item>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"contextmenu-item-nav-nextpage",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-nav-nextpage" @controller="gotoview:GotoNextPageController">contextmenu.page.nextpage</contextmenu-item>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"contextmenu-item-reply",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-reply" @controller="annot-opr:ShowAnnotReplyController">contextmenu.annot.reply</contextmenu-item>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"contextmenu-item-properties",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-properties" @controller="annot-opr:ShowAnnotPropertiesController">contextmenu.annot.properties</contextmenu-item>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"contextmenu-item-delete-annot",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-delete-annot" @controller="annot-opr:DeleteAnnotController">contextmenu.annot.delete</contextmenu-item>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"contextmenu-item-annot-actions",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-annot-actions" @controller="annot-opr:ShowActionsController">contextmenu.annot.actions</contextmenu-item>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"contextmenu-item-media-download",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-media-download" @controller="annot-opr:MediaDownloadController">contextmenu.annot.download</contextmenu-item>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"contextmenu-item-media-pause",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-media-pause" @controller="annot-opr:MediaDownloadController">contextmenu.annot.pause</contextmenu-item>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"contextmenu-item-media-play",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-media-play" @controller="annot-opr:MediaPlayController">contextmenu.annot.play</contextmenu-item>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"contextmenu-item-search",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-search" @controller="annot-opr:ShowSearchPanelController"  shortcut="Ctrl + F">contextmenu.page.search</contextmenu-item>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"contextmenu-item-copy-text",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-copy-text" @controller="annot-opr:CopyAnnotTextController">contextmenu.annot.copy</contextmenu-item>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"contextmenu-item-hand-tool",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-hand-tool" @controller="states:HandController">contextmenu.tools.handTool</contextmenu-item>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"contextmenu-item-select-tool",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-select-tool" @controller="states:SelectTextAnnotationController">contextmenu.tools.selectTool</contextmenu-item>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"contextmenu-item-select-text-image",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-select-text-image" @controller="states:SelectTextImageController">contextmenu.tools.selectTextImage</contextmenu-item>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"contextmenu-item-select-annotation",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-select-annotation" @controller="states:SelectAnnotationController">contextmenu.tools.selectAnnotation</contextmenu-item>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(339),i=(o=r)&&o.__esModule?o:{default:o};t.default={name:"contextmenu-item-marquee-zoom",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-marquee-zoom" @hide-on-sr>contextmenu.tools.marqueeZoom</contextmenu-item>',config:{target:"fv--contextmenu-item-marquee-zoom",callback:i.default}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"contextmenu-item-zoom-actual-size",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-zoom-actual-size" action=\'1\' @controller="zoom:ContextMenuZoomActionController">contextmenu.page.actual-size</contextmenu-item>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"contextmenu-item-apply",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-apply" @controller="annot-opr:ApplyRedactController">contextmenu.annot.apply</contextmenu-item>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"contextmenu-item-apply-all",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-apply-all" @controller="annot-opr:ApplyAllRedactController">contextmenu.annot.applyAll</contextmenu-item>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"contextmenu-item-place",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-redact-place" @controller="annot-opr:ShowRedactPlaceDialogController" @hide-on-sr>contextmenu.annot.place</contextmenu-item>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"redact-contextmenu",fragment:{template:'\n            <contextmenu name="fv--redact-contextmenu">\n                <contextmenu-item-reply></contextmenu-item-reply>\n                <contextmenu-separator functional-module="redaction" @license-validation></contextmenu-separator>\n                <contextmenu-item-delete-annot functional-module="redaction" @license-validation></contextmenu-item-delete-annot>\n                <contextmenu-separator functional-module="redaction" @license-validation></contextmenu-separator>\n                <contextmenu-item-apply functional-module="redaction" @license-validation></contextmenu-item-apply>\n                <contextmenu-item-apply-all functional-module="redaction" @license-validation></contextmenu-item-apply-all>\n                <contextmenu-item-place functional-module="redaction" @license-validation></contextmenu-item-place>\n                <contextmenu-separator functional-module="redaction" @license-validation></contextmenu-separator>\n                <contextmenu-item-properties functional-module="redaction" @license-validation></contextmenu-item-properties>\n                <contextmenu-separator functional-module="redaction" @license-validation></contextmenu-separator>\n                <form-designer:alignment-menu></form-designer:alignment-menu>\n            </contextmenu>\n        '}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"contextmenu-item-cancel-measurement",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-cancel-measurement" @controller="distance:CancelCreatingMeasurementController">measurement.contextMenu.cancel</contextmenu-item>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"contextmenu-item-complete-measurement",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-complete-measurement" @controller="distance:CompleteCreatingMeasurementController">measurement.contextMenu.complete</contextmenu-item>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"measurement-contextmenu",fragment:{template:'\n            <contextmenu name="fv--creating-measurement-contextmenu">\n                <contextmenu-item-complete-measurement></contextmenu-item-complete-measurement>\n                <contextmenu-item-cancel-measurement></contextmenu-item-cancel-measurement>\n            </contextmenu>\n        '}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"contextmenu-item-copy",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-copy" @controller="annot-opr:CopyAnnotController">contextmenu.annot.copyAnnot</contextmenu-item>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"contextmenu-item-paste",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-paste" @controller="annot-opr:PasteAnnotController">contextmenu.annot.paste</contextmenu-item>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"contextmenu-item-rotate-right",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-rotate-right" @controller="ui-rotation:RotateRightController" @hide-on-sr>contextmenu.page.rotateRight</contextmenu-item>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"contextmenu-item-rotate-left",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-rotate-left" @controller="ui-rotation:RotateLeftController" @hide-on-sr>contextmenu.page.rotateLeft</contextmenu-item>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(1604),i=(o=r)&&o.__esModule?o:{default:o};t.default={name:"change-color-dropdown",fragment:{template:(0,i.default)()}}},function(e,t,n){n(2);e.exports=function(e){"use strict";e=e||{};return'<dropdown name="change-color-dropdown" @controller="change-color:ChangeColorController" @tooltip tooltip-title="toolbar.tooltip.changeColor.title" icon-class="fv__icon-toolbar-change-color" \r\n          popup-class="fv__ui-change-color-dropdown-popup" class="fv__ui-change-color-dropdown" separate="false">\r\n    <div name="change-color-dropdown-list" class="fv__ui-change-color-dropdown-list">\r\n        <div @foreach="color in colors" \r\n            @sync.attr.class="\'fv__ui-change-color-dropdown-color-round \' + color.type" \r\n            @sync.attr.style="color.type === \'moon\' ? \'\' : (\'background-color:\' + color.background)"></div>\r\n    </div>\r\n</dropdown>','<dropdown name="change-color-dropdown" @controller="change-color:ChangeColorController" @tooltip tooltip-title="toolbar.tooltip.changeColor.title" icon-class="fv__icon-toolbar-change-color" \r\n          popup-class="fv__ui-change-color-dropdown-popup" class="fv__ui-change-color-dropdown" separate="false">\r\n    <div name="change-color-dropdown-list" class="fv__ui-change-color-dropdown-list">\r\n        <div @foreach="color in colors" \r\n            @sync.attr.class="\'fv__ui-change-color-dropdown-color-round \' + color.type" \r\n            @sync.attr.style="color.type === \'moon\' ? \'\' : (\'background-color:\' + color.background)"></div>\r\n    </div>\r\n</dropdown>'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"field",fragment:{template:'<field-panel name="fv-field-sidebar-panel" @controller="field:FieldSidebarPanelController"></field-panel>'}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"field-sidebar-panel",fragment:{template:'\n            <sidebar-panel class="fv__biz-sidebar-field" name="sidebar-field" title="sidebar.field.title" icon-class="fv__icon-sidebar-field">\n                <field></field>\n                <field-load-all data-i18n="sidebar.field.loadall"></field-load-all>\n                <slot for="header">\n                    <div class="fv__biz-sidebar-field-dropdown-container">\n                    <dropdown class="field-order-dropdown" icon-class="fv__icon-order" separate="false" @controller="field:FieldSidebarMenuController as fsmc">\n                        <option-group>\n                            <option-group-item @on.click="fsmc.setOrder(\'row\')">sidebar.field.order.row</option-group-item>\n                            <option-group-item @on.click="fsmc.setOrder(\'column\')">sidebar.field.order.column</option-group-item>\n                            <option-group-item @on.click="fsmc.setOrder(\'structure\')">sidebar.field.order.structure</option-group-item>\n                            <option-group multiple>\n                                <option-group-item name="fv--option-group-item-numbers" @on.click="fsmc.setOrder(\'numbers\',$args)">sidebar.field.order.numbers</option-group-item>\n                            </option-group>\n                        </option-group>\n                    </dropdown>\n                    <dropdown class="field-orderaz-dropdown" icon-class="fv__icon-orderaz" separate="false" @controller="field:FieldSidebarMenuController as fsmc">\n                        <option-group>\n                            <option-group-item @on.click="fsmc.setOrder(\'alphabetic\')">sidebar.field.order.alphabetic</option-group-item>\n                            <option-group-item selected @on.click="fsmc.setOrder(\'tab\')">sidebar.field.order.tab</option-group-item>\n                        </option-group>\n                    </dropdown>\n                    </div>\n                </slot>\n            </sidebar-panel>\n        '}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"field-contextmenu",fragment:{template:'\n            <contextmenu class="field-panel-contentmenu" name="fv--field-contextmenu" @controller="field:FieldSidebarMenuController">\n                <contextmenu-item name="fv--contextmenu-item-properties">contextmenu.fieldPanel.properties</contextmenu-item>\n                <contextmenu-item name="fv--contextmenu-item-rename">contextmenu.fieldPanel.rename</contextmenu-item>\n                <dropdown separate="false" align="out-right" valign="top" text="contextmenu.fieldPanel.addNewField.title">\n                    <contextmenu-item name="fv--contextmenu-item-create-push-button" icon-class="fv__push-button">contextmenu.fieldPanel.addNewField.pushButtton</contextmenu-item>\n                    <contextmenu-item name="fv--contextmenu-item-create-check-box" icon-class="fv__check-box">contextmenu.fieldPanel.addNewField.checkBox</contextmenu-item>\n                    <contextmenu-item name="fv--contextmenu-item-create-radio-button" icon-class="fv__radio-button">contextmenu.fieldPanel.addNewField.radioButtton</contextmenu-item>\n                    <contextmenu-item name="fv--contextmenu-item-create-combo-box" icon-class="fv__combo-box">contextmenu.fieldPanel.addNewField.comboButtton</contextmenu-item>\n                    <contextmenu-item name="fv--contextmenu-item-create-list-box" icon-class="fv__list-box">contextmenu.fieldPanel.addNewField.listButtton</contextmenu-item>\n                    <contextmenu-item name="fv--contextmenu-item-create-text" icon-class="fv__text">contextmenu.fieldPanel.addNewField.textField</contextmenu-item>\n                    <contextmenu-item name="fv--contextmenu-item-create-sign" icon-class="fv__sign">contextmenu.fieldPanel.addNewField.signatureField</contextmenu-item>\n                    <contextmenu-item name="fv--contextmenu-item-create-image" icon-class="fv__image">contextmenu.fieldPanel.addNewField.imageField</contextmenu-item>\n                    <contextmenu-item name="fv--contextmenu-item-create-date" icon-class="fv__date">contextmenu.fieldPanel.addNewField.dateField</contextmenu-item>\n                    </dropdown>\n                <contextmenu-item name="fv--contextmenu-item-delete">contextmenu.fieldPanel.delete</contextmenu-item>\n                <contextmenu-item name="fv--contextmenu-item-multiple">contextmenu.fieldPanel.multiple</contextmenu-item>\n                \x3c!-- <contextmenu-item name="fv--contextmenu-item-numbers">sidebar.field.order.numbers</contextmenu-item> --\x3e\n                <contextmenu-item name="fv--contextmenu-item-duplicate">contextmenu.fieldPanel.duplicate</contextmenu-item>\n            </contextmenu>\n        '}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"bookmark-contextmenu",fragment:{template:'\n            <contextmenu class="bookmark-panel-contentmenu" name="fv--bookmark-contextmenu" @controller="bookmark:BookmarkSidebarMenuController">\n                <contextmenu-item name="fv--contextmenu-item-add">contextmenu.bookmark.add</contextmenu-item>\n                <contextmenu-separator></contextmenu-separator>\n                <contextmenu-item name="fv--contextmenu-item-goTo">contextmenu.bookmark.goTo</contextmenu-item>\n                <contextmenu-separator></contextmenu-separator>\n                <contextmenu-item name="fv--contextmenu-item-cut">contextmenu.bookmark.cut</contextmenu-item>\n                <contextmenu-item name="fv--contextmenu-item-pasteUnder">contextmenu.bookmark.pasteUnder</contextmenu-item>\n                <contextmenu-item name="fv--contextmenu-item-pasteAfter">contextmenu.bookmark.pasteAfter</contextmenu-item>\n                <contextmenu-item name="fv--contextmenu-item-delete">contextmenu.bookmark.delete</contextmenu-item>\n                <contextmenu-item name="fv--contextmenu-item-destination">contextmenu.bookmark.destination</contextmenu-item>\n                <contextmenu-item name="fv--contextmenu-item-rename">contextmenu.bookmark.rename</contextmenu-item>\n            </contextmenu>\n        '}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(6)),r=i(n(418));function i(e){return e&&e.__esModule?e:{default:e}}var a=o.default.module("change-color",[]);a.registerController(r.default),t.default=a},function(e,t,n){"use strict";var o=u(n(6)),r=u(n(1611)),i=u(n(1612)),a=u(n(1613)),s=u(n(1614));n(1615);var c=u(n(1616));function u(e){return e&&e.__esModule?e:{default:e}}var l=o.default.root();l.registerComponent(r.default),l.registerComponent(i.default),l.registerComponent(a.default),l.registerComponent(s.default),l.getRegistry().registerDirective(c.default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(183),i=n(228);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=function(e){function t(){return a(this,t),s(this,e.apply(this,arguments))}return c(t,e),t.getName=function(){return"snap-end-point-btn"},t.getMetadata=function(){return{options:{"icon-class":{type:"string",defaultValue:"fv__icon-snap-endpoint",field:"iconCls"},"snap-mode":{type:"string",defaultValue:r.SNAP_MODE.EndPoint,field:"snapMode"}}}},t}(((o=i)&&o.__esModule?o:{default:o}).default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(183),i=n(228);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=function(e){function t(){return a(this,t),s(this,e.apply(this,arguments))}return c(t,e),t.getName=function(){return"snap-intersection-point-btn"},t.getMetadata=function(){return{options:{"icon-class":{type:"string",defaultValue:"fv__icon-snap-intersection",field:"iconCls"},"snap-mode":{type:"string",defaultValue:r.SNAP_MODE.IntersectionPoint,field:"snapMode"}}}},t}(((o=i)&&o.__esModule?o:{default:o}).default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(183),i=n(228);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=function(e){function t(){return a(this,t),s(this,e.apply(this,arguments))}return c(t,e),t.getName=function(){return"snap-mid-point-btn"},t.getMetadata=function(){return{options:{"icon-class":{type:"string",defaultValue:"fv__icon-snap-midpoint",field:"iconCls"},"snap-mode":{type:"string",defaultValue:r.SNAP_MODE.MidPoint,field:"snapMode"}}}},t}(((o=i)&&o.__esModule?o:{default:o}).default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(183),i=n(228);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=function(e){function t(){return a(this,t),s(this,e.apply(this,arguments))}return c(t,e),t.getName=function(){return"snap-nearest-point-btn"},t.getMetadata=function(){return{options:{"icon-class":{type:"string",defaultValue:"fv__icon-snap-nearest",field:"iconCls"},"snap-mode":{type:"string",defaultValue:r.SNAP_MODE.NearestPoint,field:"snapMode"}}}},t}(((o=i)&&o.__esModule?o:{default:o}).default);t.default=u},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(11)),r=i(n(582));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=function(e){function t(){return a(this,t),s(this,e.apply(this,arguments))}return c(t,e),t.getName=function(){return"display-snap"},t.services=function(){return{snapService:r.default}},t.prototype.init=function(t){e.prototype.init.call(this,t),this.addDestroyHook(this.snapService.onSupportedStateChange((function(e){e?t.show():t.hide()})))},t}(o.default);t.default=u},function(e,t,n){"use strict";var o=a(n(27)),r=a(n(6)),i=a(n(9));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(){return s(this,t),c(this,e.apply(this,arguments))}return u(t,e),t.isFake=function(){return!0},t.getName=function(){return"thumbnail-sidebar-panel"},t.handleParseError=function(e){i.default.getLogger("thumbnail").error("This component <"+e.nodeName+'> is not available until "thumbnail" addon is loaded! \n        To avoid this error, refer to "/docs/developer-guide/main/troubleshooting/thumbnail-sidebar-panel-not-available.html" in SDK package for a solution!')},t}(o.default);r.default.root().registerComponent(l)},function(e,t,n){"use strict";var o=c(n(6)),r=c(n(1619)),i=c(n(1620)),a=c(n(1621)),s=c(n(1622));function c(e){return e&&e.__esModule?e:{default:e}}n(1623);var u=o.default.module("field",[]);u.registerComponent(r.default),u.registerController(i.default),u.registerController(a.default),u.registerController(s.default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(n(17)),r=u(n(6)),i=u(n(583)),a=u(n(4)),s=n(153),c=n(24);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var d=function(e){function t(){return l(this,t),f(this,e.apply(this,arguments))}return p(t,e),t.getName=function(){return"field-panel"},t.prototype.createDOMElement=function(){return document.createElement("div")},t.prototype.render=function(){e.prototype.render.call(this),this.element.addClass("fv__ui-field-container"),this.$html=(0,a.default)(this.element),this.showFlags=[],this.events(),this.element.oncontextmenu=function(e){e.preventDefault()}},t.prototype.rending=function(){},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this),this.getPDFUI().getPDFViewer().then((function(e){t.pdfViewer=e,e.eventEmitter.addListener("all-editing-widget-ready",(function(){t.isShowTabNumber&&t.createTabNumber()}))})),this.pageDomOrders=[]},t.prototype.events=function(){var e=this;this.$html.on("click",".fv__tree-fold-btn",(function(e){e.preventDefault();var t=(0,a.default)(e.currentTarget).parent().next(),n=(0,a.default)(e.currentTarget).find(".fv__tree-icon"),o=n.attr("class");t.hasClass("fv__hide")?(n.attr("class",o.replace("fv__plug","fv__minus")),t.removeClass("fv__hide")):(n.attr("class",o.replace("fv__minus","fv__plug")),t.addClass("fv__hide"))})),this.$html.on("click",".fv__field-item",(function(t){t.preventDefault(),(0,a.default)(".fv__field-item").removeClass("fv__active").removeClass("fv__tab_active"),(0,a.default)(t.currentTarget).addClass("fv__active");var n=(0,a.default)(t.currentTarget).attr("data-page"),o=(0,a.default)(t.currentTarget).data("id"),r=(0,a.default)(t.currentTarget).data("top"),i=((0,a.default)(t.currentTarget).find("span").text(),e.getPDFUI());n<0||0!==n&&!n||(0==r&&i.goToPage(n,0,0,!1),e.hasPlugFormDesigner().then((function(e){e&&o&&i.callAddonAPI("FormDesignerUIXAddon","activeWidget",{id:o,pageIndex:n})})))})),(0,s.attachContextMenuEvent)(this.$html.get(0),(function(t){t.preventDefault(),e.checkPermissions().then((function(n){var o=(0,a.default)(t.target.parentElement);n&&o&&o.hasClass("fv__field-item")&&1==o.data("deep")&&(o.trigger("click"),e.getPDFUI().getComponentByName("fv--field-contextmenu").then((function(n){if(n){var r=e.pdfViewer.currentPDFDoc.getPageCount(),i=n.getComponentByName("fv--contextmenu-item-duplicate"),a=n.getComponentByName("fv--contextmenu-item-multiple"),s=o.data("page"),c=o.data("id");e.pdfViewer.getPDFPageRender(s).getPDFPage().then((function(e){return e.getAnnotsByIdArray([c])})).then((function(e){var t=e[0].getInfo().fieldType;r>1&&7!==t?i.enable():i.disable(),7!==t?a.enable():a.disable()}));var u=o.attr("data-flag"),l=n.getComponentByName("fv--contextmenu-item-rename"),f=n.getComponentByName("fv--contextmenu-item-delete");128&u?l.disable():l.enable(),128&u?f.disable():f.enable(),n.setCurrentTarget(o),n.showAt(t.pageX,t.pageY)}})))}))})),this.getPDFUI().addViewerEventListener("field-component",(function(t){var n=t.functionName,o=t.params;e[n](o)})),this.addDestroyHook((function(){e.$html.off("click",".fv__tree-fold-btn")}),(function(){e.$html.off("click",".fv__field-item")}))},t.prototype.updatePage=function(e){if(e&&e.children&&e.children.length){var t=(0,a.default)(this.element),n=e.page,o=(e.children,(0,i.default)([e])),r=this.pageDomOrders.indexOf(n);if("alphabetic"===this.sortType)return-1===r&&this.pageDomOrders.push(n),t.append(o),void this.alphabetic();if(r>-1){var s=t.find('[data-page="'+n+'"]').parent(),c=s.next(".fv__field-child");this.pageDomOrders.splice(r,1),s&&s.remove(),c&&c.remove()}if(this.pageDomOrders.push(n),this.pageDomOrders.sort((function(e,t){return e>t?1:-1})),0===(r=this.pageDomOrders.indexOf(n)))t.prepend(o);else{var u=this.pageDomOrders[r-1];t.find('[data-page="'+u+'"]').parent().next(".fv__field-child").after(o)}this.updatePageTitle(),this.updateFoldIcon(),this.orderBy&&this.tabsort({docId:this.pdfViewer.currentPDFDoc.id,orderBy:this.orderBy,pageIndex:n})}},t.prototype.clearHtml=function(){this.element.innerHTML="",this.pageDomOrders=[]},t.prototype.removeFieldById=function(e){var t=(0,a.default)(this.element).find('[data-id="'+e+'"]'),n=t.data("page"),o=t.parent(),r=o.parent(),i=r.prev(".fv__fields_list");if(0===o.siblings().length&&(r.remove(),i.remove(),this.pageDomOrders.splice(this.pageDomOrders.indexOf(n),1)),o.remove(),this.isShowTabNumber&&this.createTabNumber(),this.orgAnnotArr){var s=this.orgAnnotArr.indexOf(e);s>-1&&this.orgAnnotArr.splice(s,1)}},t.prototype.removePage=function(e){var t=this,n=(0,a.default)(this.element),o=this.pageDomOrders.indexOf(e),r=this.pageDomOrders.slice(o+1);n.find('[data-page="'+e+'"]').parent().remove(),n.find(".fv__field-child:empty").remove(),r.forEach((function(e){t.pageDomOrders.splice(t.pageDomOrders.indexOf(e),1,e-1),n.find('[data-page="'+e+'"]').each((function(){(0,a.default)(this).attr("data-page",e-1)}))})),this.pageDomOrders.splice(o,1),this.updatePageTitle(),this.updateFoldIcon()},t.prototype.addPage=function(e){var t=this,n=(0,a.default)(this.element),o=JSON.parse(JSON.stringify(this.pageDomOrders)),r=o.indexOf(e),i=o.slice(r);-1===r&&(o.push(e),o.sort((function(e,t){return e>t?1:-1})),r=o.indexOf(e),i=o.slice(r+1)),i.reverse().forEach((function(e){e=parseInt(e),t.pageDomOrders.splice(t.pageDomOrders.indexOf(e),1,e+1),n.find('[data-page="'+e+'"]').each((function(){0==(0,a.default)(this).data("deep")&&(0,a.default)(this).find("span").attr("i18n-options",JSON.stringify({pageNumber:e+2})),(0,a.default)(this).attr("data-page",e+1)}))})),this.updatePageTitle()},t.prototype.addField=function(e){var t=(0,a.default)(this.element),n=e.page,o=t.find('[data-deep="0"][data-page="'+n+'"]').parent();if(0===o.length)this.updatePage(e),o=t.find('[data-deep="0"][data-page="'+n+'"]').parent();else{var r=e.children[0],i=o.next(".fv__field-child").find(".fv__fields_list").last();t.find(".fv__active").removeClass("fv__active"),i.find(".fv__joinbottom_pc_ui").addClass("fv__join_pc_ui").removeClass("fv__joinbottom_pc_ui"),i.after('<div class="fv__fields_list">\n                    <div class="fv__tree-icon fv__line_pc_ui"></div>\n                    <div class="fv__tree-icon fv__joinbottom_pc_ui"></div>\n                    <a class="fv__field-item fv__active" data-deep="1" data-page="'+r.page+'" data-top="'+r.top+'" data-id="'+r.id+'" data-type="'+r.typeVal+'" data-flag="'+r.flag+'">\n                        <div class="fv__field_icon fv__'+r.type+'"></div>\n                        <span>'+r.title+'</span>\n                        <input type="text" spellcheck="false" value="'+r.title+'">\n                    </a>\n                </div>')}o.find(".fv__tree-fold-btn .fv__plugonly_pc").trigger("click")},t.prototype.pageMove=function(e,t){var n=(0,a.default)(this.element),o=n.find('[data-deep="0"][data-page="'+e+'"]').parent(),r=o.next(".fv__field-child"),i=t;if(-1===this.pageDomOrders.indexOf(t)){var s=this.pageDomOrders.concat([t]).sort((function(e,t){return parseInt(e)>parseInt(t)?1:-1})),c=s.indexOf(t);i=0===c?s[c+1]:s[c-1]}var u=n.find('[data-deep="0"][data-page="'+i+'"]').parent(),l=u.next(".fv__field-child"),f=[];if(e>t){o.insertBefore(u),r.insertAfter(o);for(var p=t;p<=e;p++)f.push(n.find('[data-page="'+p+'"]'))}else{o.insertAfter(l),r.insertAfter(o);for(var d=e;d<=t;d++)f.push(n.find('[data-page="'+d+'"]'))}var h=e>t?1:-1;f.forEach((function(n){n.each((function(){var n=(0,a.default)(this).attr("data-deep"),o=Number((0,a.default)(this).attr("data-page")),r=o===e?t:o+h;(0,a.default)(this).attr("data-page",r),"0"===n&&(0,a.default)(this).find("span").attr("i18n-options",JSON.stringify({pageNumber:r+1}))}))})),this.updateFoldIcon(),this.updatePageTitle(),this.updatePageDomOrders()},t.prototype.toggleTabOrder=function(e){var t=this.$html.parent().parent().find(".field-order-dropdown");e?t.hide():t.show()},t.prototype.tab=function(){this.sortType="tab",this.toggleTabOrder(!1);var e=(0,a.default)(this.element),t={};e.find(".fv__fields_list").each((function(){var e=(0,a.default)(this).find(".fv__field-item").attr("data-page");t[e]||(t[e]=[]),t[e].push(this)})),Object.keys(t).sort((function(e,t){return parseInt(e)>parseInt(t)?1:-1})).forEach((function(n){var o=parseInt(n);!function(e){setTimeout((function(){(0,a.default)(t[n]).appendTo(e).find(".fv__line_pc_ui").show(),(0,a.default)(t[n]).find(".fv__tree-fold-btn .fv__tree-icon").attr("class","fv__tree-icon fv__join_pc_ui")}),0)}((0,a.default)('\n                <div class="fv__fields_list">\n                    <a class="fv__tree-fold-btn"><div class="fv__tree-icon fv__plug_pc_ui"></div></a>\n                    <a class="fv__field-item" data-deep="0" data-page="'+o+'" data-top="" data-id="" data-type="">\n                        <div class="fv__field_icon fv__page"></div>\n                        <span data-i18n="sidebar.field.page-title" i18n-options=\'{"pageNumber":'+(o+1)+'}\'></span>\n                        <input type="text" spellcheck="false" value="">\n                    </a>\n                </div>\n                <div class="fv__field-child fv__hide"></div>\n            ').appendTo(e)[2])})),this.updatePageTitle(),this.updateFoldIcon(),this.isShowTabNumber&&this.createTabNumber()},t.prototype.alphabetic=function(){this.sortType="alphabetic",this.toggleTabOrder(!0);var e=(0,a.default)(this.element),t=e.find('[data-deep="1"]').parent(".fv__fields_list");t.find(".fv__line_pc_ui").hide(),t.sort((function(e,t){return(0,a.default)(e).find("span").text()>(0,a.default)(t).find("span").text()?1:-1})),t.find(".fv__tree-fold-btn .fv__tree-icon").attr("class","fv__tree-icon fv__join_pc_ui"),t.first().find(".fv__tree-fold-btn .fv__tree-icon").attr("class","fv__tree-icon fv__jointop_pc_ui"),e.empty().append(t)},t.prototype.tabsort=function(e){var t=this,n=e.docId,o=e.orderBy,r=e.pageIndex;this.orderBy=o,(void 0===r?this.pageDomOrders:[r]).forEach((function(e){t.pdfViewer.pdfEngine.then((function(t){return t.setTabOrder(n,e,o)})).then((function(n){t.pageSortByIds(e,n),t.isShowTabNumber&&t.createTabNumber(e),t.isStartResetNumber&&e===t.currentResetNumberPageIndex&&t.createTabNumber(e)}))}))},t.prototype.pageSortByIds=function(e,t){var n=(0,a.default)(this.element).find('[data-deep="0"][data-page="'+e+'"]').parent().next(".fv__field-child");t.forEach((function(e){n.find('[data-id="'+e+'"]').parent(".fv__fields_list").appendTo(n)}))},t.prototype.updateFoldIcon=function(){var e=(0,a.default)(this.element).find('[data-deep="0"]').prev(".fv__tree-fold-btn"),t=function(e,t){e.each((function(){var e=(0,a.default)(this).attr("class");e.indexOf("fv__plug")>-1?(0,a.default)(this).attr("class","fv__tree-icon fv__plug"+t):e.indexOf("fv__minus")>-1&&(0,a.default)(this).attr("class","fv__tree-icon fv__minus"+t)}))};t(e.find(".fv__tree-icon"),"_pc_ui"),1===e.length?t(e.find(".fv__tree-icon"),"only_pc"):e.length>1&&(t(e.first().find(".fv__tree-icon"),"top_pc"),t(e.last().find(".fv__tree-icon"),"bottom_pc"))},t.prototype.updateField=function(e){var t=e.info.id,n=e.info.field,o=e.info.flag,r=(0,a.default)(this.element).find('[data-id="'+t+'"]');r.find("span").text(n),r.find("input").val(n),r.attr("data-flag",o),"alphabetic"===this.sortType&&this.alphabetic()},t.prototype.updatePageTitle=function(){var e=this;(0,a.default)(this.element).find('[data-deep="0"]').each((function(t,n){var o=n.querySelector("span");e.localizer.localizeElement(o)}))},t.prototype.activeField=function(e){var t=e.id,n=e.page.getIndex(),o=(0,a.default)('.fv__field-item[data-page="'+n+'"][data-id="'+t+'"]'),r=o.parents(".fv__field-child"),i=r.prev(".fv__fields_list").find(".fv__tree-fold-btn");(0,a.default)(".fv__field-item").removeClass("fv__tab_active").removeClass("fv__active"),o.addClass("fv__active"),r.length>0&&r.is(":hidden")&&i.trigger("click")},t.prototype.tabActiveField=function(e){var t=e.id,n=(0,a.default)('.fv__field-item[data-id="'+t+'"]'),o=n.parents(".fv__field-child"),r=o.prev(".fv__fields_list").find(".fv__tree-fold-btn");(0,a.default)(".fv__field-item").removeClass("fv__active").removeClass("fv__tab_active"),n.addClass("fv__tab_active"),o.length>0&&o.is(":hidden")&&r.trigger("click")},t.prototype.hasPlugFormDesigner=function(){return this.getPDFUI().addonInstancePromise.then((function(e){return e.FormDesignerUIXAddon}))},t.prototype.checkPermissions=function(){var e=this.pdfViewer.getCurrentPDFDoc().getPermissions();return this.hasPlugFormDesigner().then((function(){return new Promise((function(t,n){8&e&&32&e&&t(!0)}))}))},t.prototype.updatePageDomOrders=function(){var e=(0,a.default)(this.element),t=[];e.find('[data-deep="0"]').each((function(){var e=Number((0,a.default)(this).attr("data-page"));t.push(e)})),this.pageDomOrders=t},t.prototype.toggleTabNumber=function(e){var t=this;this.isShowTabNumber=e,this.isStartResetNumber=!1,this.getPDFUI().getStateHandlerManager().then((function(n){n.switchTo(e?c.STATE_HANDLER_SELECT_ANNOTATION:c.STATE_HANDLER_HAND),setTimeout((function(){e&&t.createTabNumber()}),100)}))},t.prototype.createTabNumber=function(e){var t=this.getPDFUI(),n='.fv__field-item[data-deep="1"]'+(void 0===e?"":'[data-page="'+e+'"]'),o=(0,a.default)(this.element).find(n),r=t.editingMgr.annots||{};0!==Object.keys(r).length&&o.each((function(){var e=(0,a.default)(this).data("id"),t=(0,a.default)(this).parent().index(),n=r[e];n&&(n.$label.find(".tab-number").remove(),n.$label.append('<div class="tab-number">'+(t+1)+"</div>"))}))},t.prototype.removeTabNumber=function(){var e=this.getPDFUI(),t=Object.values(e.editingMgr.annots||{});0!==t.length&&t.forEach((function(e){e.$label.find(".tab-number").remove()}))},t.prototype.toggleResetNumber=function(e,t){if(this.isShowTabNumber=!1,this.isStartResetNumber=e,this.currentResetNumber=0,this.removeTabNumber(),e){this.currentResetNumberPageIndex=t,this.createTabNumber(t);var n=(0,a.default)(this.element).find('.fv__field-item[data-deep="1"][data-page="'+t+'"]'),o=[];n.each((function(){o.push((0,a.default)(this).attr("data-id"))})),this.orgAnnotArr=o}else this.savaTabNumber()},t.prototype.resetNumber=function(e){var t=this.getPDFUI(),n=e.$label.find(".tab-number"),o=e.widget.id,r=(e.widget.page.getIndex(),this.orgAnnotArr.indexOf(o));if(!(r<0)){var i=Number(n.text());i>this.currentResetNumber&&(this.currentResetNumber+=1);var a=this.currentResetNumber-1,s=this.orgAnnotArr[a],c=t.editingMgr.annots[s];c&&(c.$label.find(".tab-number").text(i),n.text(this.currentResetNumber),this.orgAnnotArr[r]=s,this.orgAnnotArr[a]=o)}},t.prototype.savaTabNumber=function(){var e=this;if(this.orgAnnotArr&&0!==this.orgAnnotArr.length)return this.pdfViewer.pdfEngine.then((function(t){return t.setStructureOrder(e.pdfViewer.currentPDFDoc.id,e.currentResetNumberPageIndex,e.orgAnnotArr)})).then((function(){e.pageSortByIds(e.currentResetNumberPageIndex,e.orgAnnotArr)}))},t}(o.default);t.default=d,r.default.root().getRegistry().registerComponent(d)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(3)),r=s(n(1)),i=(n(8),n(39)),a=s(n(110));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}function u(e){var t="";for(var n in i.FieldType)if(i.FieldType[n]===e){t=n;break}return t&&(t=(t=t.replace(/[A-Z]/g,(function(e,t){return(0===t?"":"-")+e}))).toLowerCase()),t}var l=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n))}return c(t,e),t.getName=function(){return"FieldSidebarPanelController"},t.prototype.mounted=function(){var e=this;this.currentPageIndex=1;var t=this.getPDFUI();this.getComponentByName("sidebar-field");this.addDestroyHook(t.addViewerEventListener(PDFViewCtrl.ViewerEvents.tapPage,(function(t,n,o,r){e.component.isStartResetNumber&&e.component.toggleResetNumber(!1)})),t.addViewerEventListener("set-tab-order",(function(t){var n=Promise.resolve();e.component.isStartResetNumber&&(n=e.component.savaTabNumber()),n&&n.then((function(){e.component.toggleResetNumber(!0,t.page.getIndex()),e.unSelectNumber()}))})),t.addViewerEventListener("switch-state-handler",(function(t){"select-annotation"!==t.getStateName()&&e.unSelectNumber(),setTimeout((function(){e.component.isStartResetNumber&&e.component.toggleResetNumber(!1)}),100)})),t.addViewerEventListener(r.default.openFileSuccess,(function(n){e.pageCount=n.getPageCount(),e.visitedPageIndexes=[],e.component.clearHtml(),t.getPDFViewer().then((function(t){t.eventEmitter.emit("toggle-load-all",!0),e.initTabOrderType(t,n.id)})),e.component.isStartResetNumber=!1})),t.addViewerEventListener(r.default.willCloseDocument,(function(n){e.pageCount=0,e.visitedPageIndexes=[],e.component.clearHtml(),t.getPDFViewer().then((function(e){e.eventEmitter.emit("toggle-load-all",!1)}))})),t.addViewerEventListener(r.default.pageAdded,(function(t){var n=t.info.index,o=JSON.parse(JSON.stringify(e.visitedPageIndexes));o.sort((function(e,t){return e>t?1:-1}));var r=o.indexOf(n),i=o.slice(r);-1===r&&(o.push(n),o.sort((function(e,t){return e>t?1:-1})),r=o.indexOf(n),i=o.slice(r+1)),i.forEach((function(t){t=parseInt(t),e.visitedPageIndexes.splice(e.visitedPageIndexes.indexOf(t),1,t+1)})),e.component.addPage(n)})),t.addViewerEventListener(r.default.insertPages,(function(t){t.forEach((function(t){var n=t.info.index,o=JSON.parse(JSON.stringify(e.visitedPageIndexes));o.sort((function(e,t){return e>t?1:-1}));var r=o.indexOf(n),i=o.slice(r);-1===r&&(o.push(n),o.sort((function(e,t){return e>t?1:-1})),r=o.indexOf(n),i=o.slice(r+1)),i.forEach((function(t){t=parseInt(t),e.visitedPageIndexes.splice(e.visitedPageIndexes.indexOf(t),1,t+1)})),e.component.addPage(n)}))})),t.addViewerEventListener(r.default.pageRemoved,(function(t){e.visitedPageIndexes.sort((function(e,t){return e>t?1:-1}));var n=e.visitedPageIndexes.indexOf(t);e.visitedPageIndexes.slice(n+1).forEach((function(t){e.visitedPageIndexes.splice(e.visitedPageIndexes.indexOf(t),1,t-1)})),e.visitedPageIndexes.splice(n,1),e.component.removePage(t)})),t.addViewerEventListener(r.default.pagesRemoved,(function(t){var n=(0,a.default)(t).sort((function(e,t){return t-e}));e.visitedPageIndexes.sort((function(e,t){return e>t?1:-1})),n.forEach((function(t){var n=e.visitedPageIndexes.indexOf(t);e.visitedPageIndexes.slice(n+1).forEach((function(t){e.visitedPageIndexes.splice(e.visitedPageIndexes.indexOf(t),1,t-1)})),e.visitedPageIndexes.splice(n,1),e.component.removePage(t)}))})),t.addViewerEventListener(r.default.pageMoved,(function(t,n){e.component.pageMove(t,n)})),t.addViewerEventListener(r.default.pagesMoved,(function(t,n){var o=(0,a.default)(t).sort((function(e,t){return e-t})),r=o.filter((function(e){return e<n})),i=o.filter((function(e){return e>n}));r.forEach((function(t){e.component.pageMove(t,n)})),i.reverse().forEach((function(t){e.component.pageMove(t,n)}))})),t.addViewerEventListener(r.default.annotationAdded,(function(t){t.forEach((function(t){var n=e.pageFieldsData(t.page.info.index,[t]);n&&e.component.addField(n)}))})),t.addViewerEventListener(r.default.annotationRemoved,(function(t){t.forEach((function(t){e.component.removeFieldById(t.id)}))})),t.addViewerEventListener(r.default.annotationUpdated,(function(t){t[0]&&e.component.updateField(t[0])})),t.addViewerEventListener(r.default.renderPageSuccess,(function(t){e.currentDocId!==t.doc.id&&(e.visitedPageIndexes=[],e.component.clearHtml()),e.currentDocId=t.doc.id,Promise.resolve(t.page).then((function(t){e.renderPageSuccess(t)})),e.visitedPageIndexes.length===e.pageCount&&pdfui.getPDFViewer().then((function(e){e.eventEmitter.emit("toggle-load-all",!1)}))})),t.addViewerEventListener("fieldActivated",(function(n){e.component.activeField(n),e.component.isStartResetNumber&&e.component.resetNumber(t.editingMgr.annots[n.id])})),t.addViewerEventListener("field-load-page",(function(t){e.renderPageSuccess(t)})),t.addViewerEventListener("tab-active",(function(t){e.component.tabActiveField(t)})))},t.prototype.updatefields=function(){var e=this,t="alphabetic"===this.orderType?[]:{};(this.currentDoc.getPDFForm().fields||[]).forEach((function(n){var o=n.form.fieldWidgets[n.info.name],r=o?o[0].id:"",i=n.getPage().index,a=n.getRect().top;if(void 0===i);else if("alphabetic"===e.orderType)t.push({deep:0,id:r,title:n.info.name,type:u(n.info.type),children:[],page:i,top:a||0}),t.sort((function(e,t){return e.title>t.title?1:-1}));else{var s=t[i]||{deep:0,title:"Page "+(i+1),type:"page",children:[],page:i,top:0};s.children.push({deep:1,id:r,title:n.info.name,type:u(n.info.type),children:[],page:i,top:a||0}),t[i]=s}})),this.component.update(Object.values(t))},t.prototype.pageFieldsData=function(e,t,n){var o={deep:0,title:"Page "+(e+1),type:"page",children:[],page:e};return t.forEach((function(t){var n=t.info,r=n.id,i=n.field,a=n.fieldType,s=n.rect,c=n.flag;void 0!==a&&o.children.push({deep:1,id:r,title:i,type:u(a),typeVal:a,children:[],page:e,top:s.top||0,flag:c})})),o.children.length?o:""},t.prototype.renderPageSuccess=function(e){var t=e.annots,n=e.info.index;if(!(this.visitedPageIndexes.indexOf(n)>-1)){var o=[];t.forEach((function(e){"widget"===e.info.type&&o.push(e)})),t&&t.length>0&&this.visitedPageIndexes.push(n);var r=this.pageFieldsData(n,o);this.component.updatePage(r)}},t.prototype.initTabOrderType=function(e,t){var n=this;e.pdfEngine.then((function(e){return e.getTabOrder(t,0)})).then((function(e){var t="";switch(e){case"e_Row":t=n.getPDFUI().getComponentByName("fv--option-group-item-row");break;case"e_Column":t=n.getPDFUI().getComponentByName("fv--option-group-item-column");break;case"e_Structure":t=n.getPDFUI().getComponentByName("fv--option-group-item-structure")}t&&t.then((function(e){e&&e.trigger("click")}))}))},t.prototype.unSelectNumber=function(){var e=this;this.getPDFUI().getComponentByName("fv--option-group-item-numbers").then((function(t){e.component.isShowTabNumber=!1,t&&t.unSelected()}))},t}(o.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(3)),r=a(n(1)),i=a(n(38));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.component=n,o}var n,o;return s(t,e),t.getName=function(){return"FieldSidebarMenuController"},t.prototype.mounted=function(){var e=this;this.pdfUI.getStateHandlerManager().then((function(t){e.stateHandleManager=t})),this.pdfUI.getPDFViewer().then((function(t){e.pdfViewer=t})),this.contextmenu=this.getComponentByName("fv--field-contextmenu")},t.prototype.handle=function(e){var t=this;this.contextmenu.hide(),this.component.parent.element.removeClass("fv__ui-hide");var n=this.contextmenu.getCurrentTarget();if(n){var o=n.data("id"),a=n.attr("data-page"),s=n.find("span").text(),c=n.data("type");switch(this.component.name){case"fv--contextmenu-item-properties":this.pdfUI.callAddonAPI("FormDesignerUIXAddon","showPropertiesDialog",{id:o,pageIndex:a});break;case"fv--contextmenu-item-rename":var u=n.find("input");n.addClass("editing"),u.off().focus().select().on("blur keyup",(function(e){var l=e.target.value;if(27===e.keyCode)n.removeClass("editing"),u.off();else if("blur"===e.type||13===e.keyCode)if(n.removeClass("editing"),u.off(),l){if(l!==s){var f=t.pdfViewer.currentPDFDoc.PDFForm;f.validateFieldName(l,c).then((function(e){e?t.pdfUI.getPDFPageRender(a).then((function(e){return e.page.getAnnotsByIdArray([o])})).then((function(e){f.moveControl(s,l,o).then((function(n){if(!n)throw u.val(s),new Error("Rename field error.");var o=e[0].page,a=i.default.titleUpdated;t.pdfUI.editingMgr.annots[e[0].getId()].$ui.find(".fv_form-editing-label div").html(l),t.pdfViewer.getEventEmitter().emit(r.default.annotationUpdated,e,o,a)}))})):(u.val(s),t.pdfUI.alert({message:"dialog.error.validateFieldNameError",level:"warning"}))}))}}else u.val(s)}));break;case"fv--contextmenu-item-delete":this.pdfUI.callAddonAPI("FormDesignerUIXAddon","removeWidget",{id:o,pageIndex:a}),this.pdfViewer.getEventEmitter().emit("field-component",{functionName:"removeFieldById",params:o});break;case"fv--contextmenu-item-create-push-button":this.stateHandleManager.switchTo("CreatePushButtonStateHandler");break;case"fv--contextmenu-item-create-check-box":this.stateHandleManager.switchTo("CreateCheckBoxStateHandler");break;case"fv--contextmenu-item-create-radio-button":this.stateHandleManager.switchTo("CreateRadioButtonStateHandler");break;case"fv--contextmenu-item-create-combo-box":this.stateHandleManager.switchTo("CreateComboBoxStateHandler");break;case"fv--contextmenu-item-create-list-box":this.stateHandleManager.switchTo("CreateListBoxStateHandler");break;case"fv--contextmenu-item-create-text":this.stateHandleManager.switchTo("CreateTextStateHandler");break;case"fv--contextmenu-item-create-sign":this.stateHandleManager.switchTo("CreateSignStateHandler");break;case"fv--contextmenu-item-create-image":this.stateHandleManager.switchTo("CreateImageStateHandler");break;case"fv--contextmenu-item-create-date":this.stateHandleManager.switchTo("CreateDateStateHandler");break;case"fv--contextmenu-item-create-barcode":console.log("=fv--contextmenu-item-create-barcode=");break;case"fv--contextmenu-item-multiple":this.pdfUI.callAddonAPI("FormDesignerUIXAddon","multipleCopy",{id:o,pageIndex:a});break;case"fv--contextmenu-item-numbers":console.log("=fv--contextmenu-item-numbers=");break;case"fv--contextmenu-item-duplicate":this.pdfUI.callAddonAPI("FormDesignerUIXAddon","duplicate",{id:o,pageIndex:a})}}},t.prototype.setOrder=(n=regeneratorRuntime.mark((function e(t,n){var o,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=this.pdfViewer.currentPDFDoc.id,this.pdfViewer.getPDFDocRender().getCurrentPageIndex(),e.t0=t,e.next="numbers"===e.t0?5:"alphabetic"===e.t0?10:"tab"===e.t0?12:14;break;case 5:if(n){e.next=7;break}return e.abrupt("return");case 7:return r=n[0].selected,this.pdfViewer.getEventEmitter().emit("field-component",{functionName:"toggleTabNumber",params:r}),e.abrupt("break",16);case 10:return this.pdfViewer.getEventEmitter().emit("field-component",{functionName:"alphabetic"}),e.abrupt("break",16);case 12:return this.pdfViewer.getEventEmitter().emit("field-component",{functionName:"tab"}),e.abrupt("break",16);case 14:return this.pdfViewer.getEventEmitter().emit("field-component",{functionName:"tabsort",params:{docId:o,orderBy:t}}),e.abrupt("break",16);case 16:case"end":return e.stop()}}),e,this)})),o=function(){var e=n.apply(this,arguments);return new Promise((function(t,n){return function o(r,i){try{var a=e[r](i),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then((function(e){o("next",e)}),(function(e){o("throw",e)}));t(s)}("next")}))},function(e,t){return o.apply(this,arguments)}),t}(o.default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(17)),r=s(n(6)),i=s(n(4)),a=s(n(1));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var f=function(e){function t(){return c(this,t),u(this,e.apply(this,arguments))}return l(t,e),t.getName=function(){return"field-load-all"},t.prototype.createDOMElement=function(){return document.createElement("div")},t.prototype.render=function(){e.prototype.render.call(this),this.element.addClass("fv__ui-field-load-all"),this.$html=(0,i.default)(this.element),this.events()},t.prototype.rending=function(){},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this),this.pdfUI=this.getPDFUI(),this.pdfUI.addViewerEventListener(a.default.openFileSuccess,(function(e){t.pdfDoc=e})),this.pdfUI.getEventEmitter().then((function(e){t.eventEmitter=e,t.eventEmitter.addListener("toggle-load-all",(function(e){e?t.showLoadAllButton():t.hideLoadAllButton()}))}))},t.prototype.events=function(){var e=this;this.$html.on("click",(function(t){t.preventDefault(),e.loadAllPage()})),this.addDestroyHook((function(){e.$html.off("click")}))},t.prototype.loadAllPage=function(){for(var e=this,t=this.pdfDoc.getPageCount(),n=[],o=0;o<t;o++)n.push(this.pdfDoc.getPageByIndex(o).then((function(t){t.getAnnots().then((function(n){e.eventEmitter.emit("field-load-page",{annots:n,info:t.info})}))})));Promise.all(n).then((function(){e.hideLoadAllButton()}))},t.prototype.hideLoadAllButton=function(){this.$html.hide()},t.prototype.showLoadAllButton=function(){this.$html.show()},t}(o.default);t.default=f,r.default.root().getRegistry().registerComponent(f)},function(e,t){},function(e,t,n){"use strict";var o=N(n(6));n(1625),n(1626),n(1627);var r=N(n(1628)),i=N(n(1629)),a=N(n(1630)),s=N(n(1631)),c=N(n(1632)),u=N(n(1633)),l=N(n(1634)),f=N(n(584)),p=N(n(1641)),d=N(n(1643)),h=N(n(1644)),g=N(n(1646)),m=N(n(1647)),v=N(n(1648)),y=N(n(1649)),b=N(n(1652)),w=N(n(1653)),_=N(n(1654)),P=N(n(1655)),O=N(n(1656)),E=N(n(1657)),x=N(n(1658)),C=N(n(1660)),A=N(n(1661)),S=N(n(1662));n(1663);var D=N(n(1664)),T=N(n(1665)),I=N(n(1666)),R=N(n(1667)),M=N(n(1668)),j=N(n(1669)),k=N(n(1671));function N(e){return e&&e.__esModule?e:{default:e}}var F=o.default.root();F.registry.registerDirective(r.default),F.registry.registerDirective(i.default),F.registry.registerDirective(b.default),F.registry.registerDirective(R.default),F.registerComponent(a.default),F.registerComponent(f.default),F.registerComponent(S.default),F.registerComponent(p.default),F.registerComponent(h.default),F.registerComponent(g.default),F.registerComponent(m.default),F.registerComponent(v.default),F.registerComponent(y.default),F.registerComponent(w.default),F.registerComponent(_.default),F.registerComponent(P.default),F.registerComponent(O.default),F.registerComponent(E.default),F.registerComponent(x.default),F.registerComponent(C.default),F.registerComponent(A.default),F.registerComponent(D.default),F.registerComponent(T.default),F.registerComponent(I.default),F.registerComponent(M.default),F.registerComponent(j.default),F.registerComponent(k.default),F.registerComponent(s.default),F.registerController(c.default),F.registerController(u.default),F.registerController(l.default),F.registerController(d.default)},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(11),i=(o=r)&&o.__esModule?o:{default:o},a=n(47);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(){return s(this,t),c(this,e.apply(this,arguments))}return u(t,e),t.getName=function(){return"portfolio-layout"},t.services=function(){return{layoutService:a.PortfolioLayoutService}},t.prototype.componentPostlink=function(){var e=this,t=this.attrValue.split(",");this.addDestroyHook(this.layoutService.onLayoutChange((function(n){t.indexOf(n)>-1?e.component.removeCSSClass("fv__ui-portfolio-layout-hidden"):e.component.addCSSClass("fv__ui-portfolio-layout-hidden")})))},t}(i.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(11),i=(o=r)&&o.__esModule?o:{default:o},a=n(55);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(){return s(this,t),c(this,e.apply(this,arguments))}return u(t,e),t.getName=function(){return"portfolio"},t.services=function(){return{portfolioService:a.PortfolioService}},t.prototype.init=function(t){var n=this;e.prototype.init.call(this,t),this.addDestroyHook(this.portfolioService.onDocumentTypeSwitch((function(e){if(e===a.DOCUMENT_TYPE.PORTFOLIO)switch(n.subName){case"show":n.component.removeCSSClass("fv__ui-portfolio-hidden");break;case"hide":n.component.addCSSClass("fv__ui-portfolio-hidden");break;case"deactive":n.component.deactive();break;case"active":n.component.active();break;case"unsupport":n.component.lock("portfolio");break;case"support":n.component.unlock("portfolio")}else switch(n.subName){case"show":n.component.addCSSClass("fv__ui-portfolio-hidden");break;case"hide":n.component.removeCSSClass("fv__ui-portfolio-hidden");break;case"deactive":n.component.active();break;case"active":n.component.deactive();break;case"unsupport":n.component.unlock("portfolio");break;case"support":n.component.lock("portfolio")}})))},t}(i.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(26),i=(o=r)&&o.__esModule?o:{default:o},a=n(47);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(){return s(this,t),c(this,e.apply(this,arguments))}return u(t,e),t.getName=function(){return"portfolio-container"},t.services=function(){return{portfolioLayoutService:a.PortfolioLayoutService}},t.prototype.getClassData=function(e){return{"fv__ui-portfolio-right-side-previewer":e===a.PortfolioPreviewerSide.RIGHT,"fv__ui-portfolio-bottom-side-previewer":e===a.PortfolioPreviewerSide.BOTTOM,"fv__ui-portfolio-off-previewer":e===a.PortfolioPreviewerSide.OFF}},t.prototype.postlink=function(){var t=this;e.prototype.postlink.call(this),this.addDestroyHook(this.portfolioLayoutService.onLayoutChange((function(e,n){t.controller.currentClass=t.getClassData(n),t.controller.digest()})))},t}(i.default.createSuperClass({template:'\n            <div class="fv__ui-portfolio-container" @controller.alias="ctrl" @class="ctrl.currentClass"></div>\n        '}));t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=(n(14),n(26)),a=(o=i)&&o.__esModule?o:{default:o},s=n(47);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var f=function(e){function t(){return c(this,t),u(this,e.apply(this,arguments))}return l(t,e),t.getName=function(){return"portfolio-sidebar"},t.services=function(){return{layoutService:s.PortfolioLayoutService}},t.getMetadata=function(){return{options:{direction:{type:"enum",enums:["horizontal","vertical"],defaultValue:"horizontal"},size:{type:"number",field:"sidebarSize",defaultValue:300},"min-size":{type:"number",defaultValue:.1},"max-size":{type:"number",defaultValue:1}}}},t.prototype.init=function(){e.prototype.init.call(this),this.fill=!1},t.prototype.getCurrentClass=function(){return{"fv__ui-portfolio-sidebar-horizontal":"horizontal"===this.direction,"fv__ui-portfolio-sidebar-vertical":"vertical"===this.direction,"fv__ui-portfolio-sidebar-fill":this.fill}},t.prototype.setDirection=function(e){this.direction=e,this.controller.currentClass=this.getCurrentClass(),this.controller.digest(),this.rerenderSidebar()},t.prototype.setSidebarSize=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.sidebarSize;if(void 0!==this.minSize&&void 0!==this.maxSize){var t=Math.max(this.minSize,Math.min(this.maxSize,e));this.sidebarSize=t,this.rerenderSidebar()}},t.prototype.setMinSidebarSize=function(e){if(e<=1){if(!this.element.parentElement)return;e=this.computeSizeRatio(e),isFinite(e)&&this.sidebarSize<e&&(this.sidebarSize=e,this.rerenderSidebar())}else this.sidebarSize<e&&(this.sidebarSize=e,this.rerenderSidebar());this.minSize=e},t.prototype.setMaxSidebarSize=function(e){if(e<=1){if(!this.element.parentElement)return;e=this.computeSizeRatio(e),isFinite(e)&&this.sidebarSize>e&&(this.sidebarSize=e,this.rerenderSidebar())}else this.sidebarSize>e&&(this.sidebarSize=e,this.rerenderSidebar());this.maxSize=e},t.prototype.computeSizeRatio=function(e){var t=this.element.parentElement.getBoundingClientRect();return"horizontal"===this.direction?t.width*e:t.height*e},t.prototype.rerenderSidebar=function(){if(this.fill)return this.element.style.cssText+="\n                width: 100%;\n                height: 100%;\n            ",void this.triggerResize();switch(this.direction){case"horizontal":this.element.style.cssText+="\n                    width: "+this.sidebarSize+"px;\n                    height: 100%;\n                ",this.triggerResize();break;case"vertical":this.element.style.cssText+="\n                    height: "+this.sidebarSize+"px;\n                    width: 100%;\n                ",this.triggerResize()}},t.prototype.triggerResize=function(){this.trigger("resize"),this.broadcast("resize")},t.prototype.postlink=function(){e.prototype.postlink.call(this),this.draggerElement=this.querySelector("dragger").element},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this);var n=!1,o=function(){n=!0,t.trigger("beforeresize")},r=function(){n&&(n=!1,t.trigger("afterresize"))};this.draggerElement.addEventListener("mousedown",o),this.draggerElement.addEventListener("touchstart",o),document.addEventListener("mouseup",r,{capture:!0}),document.addEventListener("touchend",r,{capture:!0}),this.addDestroyHook((function(){t.draggerElement.removeEventListener("mousedown",o),t.draggerElement.removeEventListener("touchstart",o),document.removeEventListener("mouseup",r,{capture:!0}),document.removeEventListener("touchend",r,{capture:!0})}));var i=new Hammer(this.draggerElement);i.add(new Hammer.Pan);var a=void 0,c=function(e){var n=t.getDeltaValue(e.deltaX,e.deltaY),o=n-a;a=n,t.determineContinueResize(e)&&(t.resize(o),t.trigger("resize"))};i.on("panstart",(function(e){a=0,c(e)})),i.on("panmove",(function(e){c(e)})),i.on("panend",(function(e){c(e),r(),t.layoutService.triggerRedraw()})),this.addDestroyHook((function(){i.destroy()})),this.addDestroyHook(this.layoutService.onLayoutChange((function(e,n){switch(t.fill=!1,n){case s.PortfolioPreviewerSide.BOTTOM:t.setDirection("vertical");break;case s.PortfolioPreviewerSide.RIGHT:t.setDirection("horizontal");break;case s.PortfolioPreviewerSide.OFF:t.fill=!0,t.controller.currentClass=t.getCurrentClass(),t.controller.digest()}e!==s.PortfolioLayoutMode.COVER&&(t.setMinSidebarSize(t["min-size"]),t.setMaxSidebarSize(t["max-size"]),t.setSidebarSize())})))},t.prototype.determineContinueResize=function(e){var t=e.direction,n=e.center,o=t&Hammer.DIRECTION_LEFT,r=t&Hammer.DIRECTION_RIGHT,i=t&Hammer.DIRECTION_UP,a=t&Hammer.DIRECTION_DOWN,s=this.draggerElement.getBoundingClientRect();switch(this.direction){case"horizontal":if(o&&n.x>s.right)return!1;if(r&&n.x<s.left)return!1;break;case"vertical":if(i&&n.y>s.bottom)return!1;if(a&&n.y<s.top)return!1}return!0},t.prototype.resize=function(e){this.setSidebarSize(this.sidebarSize+e)},t.prototype.getDeltaValue=function(e,t){switch(this.direction){case"horizontal":return e;case"vertical":return t}},t.prototype.getOffsetAccordingDirection=function(e,t){switch(this.direction){case"horizontal":return e;case"vertical":return t}},t.prototype.sync=function(t,n){switch(t){case"size":return this.setSidebarSize(n),!0;case"direction":return this.setDirection(n),!0;case"min-size":return this.setMinSidebarSize(n),!0;case"max-size":return this.setMaxSidebarSize(n),!0}return e.prototype.sync.call(this,t,n)},r(t,[{key:"sidebarSize",get:function(){return"vertical"===this.direction?this.verticalSidebarSize:this.horizontalSidebarSize},set:function(e){"vertical"===this.direction?(this.verticalSidebarSize=e,this.horizontalSidebarSize||(this.horizontalSidebarSize=e)):(this.horizontalSidebarSize=e,this.verticalSidebarSize||(this.verticalSidebarSize=e))}}]),t}(a.default.createSuperClass({template:'\n        <div class="fv__ui-portfolio-sidebar" @controller.alias="ctrl" @class="ctrl.currentClass">\n            <div class="fv__ui-portfolio-sidebar-body" name="body"></div>\n            <div class="fv__ui-portfolio-sidebar-dragger" name="dragger"></div>\n        </div>\n    ',body:"body"}));t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(9)),r=s(n(3)),i=n(47),a=s(n(48));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var f=function(e){function t(){return c(this,t),u(this,e.apply(this,arguments))}return l(t,e),t.getName=function(){return"PortfolioPreviewerSideController"},t.services=function(){return{layoutService:i.PortfolioLayoutService,nodeService:a.default}},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this);var n=this.component.getAttribute("side");this.addDestroyHook(this.layoutService.onLayoutChange((function(e,o){n===o?t.component.disable():t.component.enable()})),this.nodeService.onActiveNode((function(){Promise.resolve().then((function(){var e=t.layoutService.getPreviewerSide();n===e?t.component.disable():t.component.enable()}))})))},t.prototype.handle=function(){var e=this.component.getAttribute("side");switch(e){case i.PortfolioPreviewerSide.BOTTOM:case i.PortfolioPreviewerSide.RIGHT:case i.PortfolioPreviewerSide.OFF:this.layoutService.setPreviewerSide(e);break;default:o.default.getLogger("PortfolioPreviewerSideController").warn("Incorrect side value: ",this.component),this.layoutService.setPreviewerSide(i.PortfolioPreviewerSide.RIGHT)}},t}(r.default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(9)),r=a(n(3)),i=n(47);function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(){return s(this,t),c(this,e.apply(this,arguments))}return u(t,e),t.getName=function(){return"PortfolioLayoutController"},t.services=function(){return{layoutService:i.PortfolioLayoutService}},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this);var n=this.component.getAttribute("layout");this.addDestroyHook(this.layoutService.onLayoutChange((function(e){n===e?t.component.active():t.component.deactive()})))},t.prototype.handle=function(){var e=this.component.getAttribute("layout");switch(e){case i.PortfolioLayoutMode.COVER:case i.PortfolioLayoutMode.DEFAULT:case i.PortfolioLayoutMode.DETAIL:this.layoutService.setLayoutMode(e),this.getPDFUI().redraw();break;default:o.default.getLogger("PortfolioLayoutController").warn("Incorrect layout: "+e)}},t}(r.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(5),i=n(3),a=(o=i)&&o.__esModule?o:{default:o},s=n(47);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var f=function(e){function t(){return c(this,t),u(this,e.apply(this,arguments))}return l(t,e),t.getName=function(){return"PortfolioDefaultViewController"},t.services=function(){return{layoutService:s.PortfolioLayoutService}},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this);var n=function(e){var n=t.component;n.disabled||(t.getConfiguredLayout()===e?n.active():n.deactive())};this.addDestroyHook(this.getPDFUI().addViewerEventListener(r.Events.openFileSuccess,(function(){n(t.layoutService.getDefaultLayout())})),this.layoutService.onDefaultLayoutChange(n))},t.prototype.getConfiguredLayout=function(){return this.component.getAttribute("layout")},t.prototype.handle=function(){var e=this.getConfiguredLayout();this.layoutService.setDefaultLayoutMode(e)},t}(a.default);t.default=f},function(e,t,n){n(2);e.exports=function(e){"use strict";e=e||{};return'<div class="fv__ui-portfolio-node" @var.self="$component"\r\n@class="{\'fv__ui-portfolio-node-block\':self.display==\'block\',\'fv__ui-portfolio-node-details\':self.display==\'details\'}"\r\n@on.native.click="self.onclick($event)"\r\n@on.native.dblclick="self.ondblclick($event)"\r\n>\r\n    <div @show="self.display==\'block\'" class="fv__ui-portfolio-block-inner">\r\n        <div class="fv__ui-portfolio-block-thumb-container">\r\n            \x3c!-- <div class="fv__ui-portfolio-block-thumb" @class="self.thumbcssclass || \'\'">\r\n            </div> --\x3e\r\n            <portfolio-node-thumb @sync.data="self.data"></portfolio-node-thumb>\r\n        </div>\r\n        <div class="fv__ui-portfolio-block-info">\r\n            <span class="fv__ui-portfolio-block-info-filename">@{self.data.fileName}</span>\r\n        </div>\r\n    </div>\r\n    \x3c!-- details --\x3e\r\n    <div class="fv__ui-portfolio-details-inner" @portfolio-layout="details">\r\n        <div @foreach="column in self.columns track by key" class="fv__ui-portfolio-details-column align-@{column.align|default(\'center\')}" style="width:@{column.width}px">\r\n            @{$controller.eval(column.display)}\r\n        </div>\r\n    </div>\r\n</div>','<div class="fv__ui-portfolio-node" @var.self="$component"\r\n@class="{\'fv__ui-portfolio-node-block\':self.display==\'block\',\'fv__ui-portfolio-node-details\':self.display==\'details\'}"\r\n@on.native.click="self.onclick($event)"\r\n@on.native.dblclick="self.ondblclick($event)"\r\n>\r\n    <div @show="self.display==\'block\'" class="fv__ui-portfolio-block-inner">\r\n        <div class="fv__ui-portfolio-block-thumb-container">\r\n            \x3c!-- <div class="fv__ui-portfolio-block-thumb" @class="self.thumbcssclass || \'\'">\r\n            </div> --\x3e\r\n            <portfolio-node-thumb @sync.data="self.data"></portfolio-node-thumb>\r\n        </div>\r\n        <div class="fv__ui-portfolio-block-info">\r\n            <span class="fv__ui-portfolio-block-info-filename">@{self.data.fileName}</span>\r\n        </div>\r\n    </div>\r\n    \x3c!-- details --\x3e\r\n    <div class="fv__ui-portfolio-details-inner" @portfolio-layout="details">\r\n        <div @foreach="column in self.columns track by key" class="fv__ui-portfolio-details-column align-@{column.align|default(\'center\')}" style="width:@{column.width}px">\r\n            @{$controller.eval(column.display)}\r\n        </div>\r\n    </div>\r\n</div>'}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(44),r=n(36),i=n(104),a=u(n(26)),s=n(96),c=u(n(229));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}n(1640);var d=function(e){function t(){return l(this,t),f(this,e.apply(this,arguments))}return p(t,e),t.getName=function(){return"portfolio-node-thumb"},t.services=function(){return{previewerService:c.default,nodeDataService:s.PortfolioNodeDataService}},t.prototype.init=function(){e.prototype.init.call(this),this.lastPreviewedDataId=void 0,this.executor=new r.QueuedAsyncTaskExecutor},t.prototype.serviceInjected=function(){var e=this;this.addDestroyHook(this.previewerService.onGetPreviewer((function(t){e.previewerMap=t,e.updateThumb()})))},t.prototype.reset=function(){this.element.className="fv__ui-portfolio-thumb",this.element.style.cssText="";for(var e=this.element.childNodes,t=0;t<e.length;t++)this.element.removeChild(e[t])},t.prototype.updateThumb=function(){if(this.data)return this.data.type===i.PortfolioNodeType.folder?(this.reset(),void this.addCSSClass("fv__icon-portfolio-folder")):void this.showDefaultThumb(this.data)},t.prototype.showDefaultThumb=function(e){this.reset();var t=e.fileName;this.addCSSClass("fv__icon-portfolio-file");var n=t?t.match(/.*\.(.+$)/):void 0,o=n?n[1]:void 0;o&&this.addCSSClass("fv__icon-portfolio-ext-"+o)},t.prototype.showThumb=function(e,t){var n=this,r=t.handle;return this.nodeDataService.getFileBlob(r).then((function(i){return e.getThumb(i,t).then((function(e){if(e){switch(n.reset(),e.type){case o.PortfolioFileThumbType.ICON_CLASS:e.data.split(" ").forEach((function(e){n.addCSSClass(e)}));break;case o.PortfolioFileThumbType.CANVAS:n.element.appendChild(e.data);break;case o.PortfolioFileThumbType.IMAGE_URL:n.element.style="background-image: url("+e.data+");background-size: 100% auto;";break;case o.PortfolioFileThumbType.NONE:}n.lastPreviewedDataId=r}}))}))},t.prototype.sync=function(t,n){switch(t){case"data":return this.data=n,this.updateThumb(),!0}return e.prototype.sync.call(this,t,value)},t}(a.default.createSuperClass({template:'<div class="fv__ui-portfolio-thumb"></div>'}));t.default=d},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(6)),r=s(n(26)),i=n(47),a=n(96);function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}n(1642);var f=function(e){function t(){return c(this,t),u(this,e.apply(this,arguments))}return l(t,e),t.getName=function(){return"portfolio-details-column"},t.services=function(){return{}},t}(r.default.createSuperClass({template:'<div class="fv__ui-portfolio-details-header-column"></div>'}));o.default.root().registerComponent(f);var p=function(e){function t(n,o,r){c(this,t);var i=u(this,e.call(this,n,o,r));return i.columns=[],i}return l(t,e),t.getName=function(){return"portfolio-details-header"},t.services=function(){return{layoutService:i.PortfolioLayoutService,dataService:a.PortfolioNodeDataService}},t.prototype.sync=function(t,n){switch(t){case"columns":return this.columns=n,this.controller.digest(),!0}return e.prototype.sync.call(this,t,n)},t.prototype.postlink=function(){e.prototype.postlink.call(this),this.scrollbarColumn=this.getComponentByName("fv--scrollbar-column")},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this);var n=this.getClosestComponentByType("portfolio-sidebar");n&&this.addDestroyHook(n.on("resize",(function(){t.updateUI()})));var o=function(){t.updateUI()};window.addEventListener("resize",o,!0),this.addDestroyHook((function(){window.removeEventListener("resize",o,!0)}),this.dataService.onFileListChange((function(){t.updateUI()})),this.layoutService.onLayoutChange((function(){setTimeout((function(){t.updateUI()}),0)})))},t.prototype.updateUI=function(){if(this.layoutService.getLayoutMode()===i.PortfolioLayoutMode.DETAIL&&!this.isDestroyed){var e=this.parent.getAllComponentsByType("portfolio-node-list")[0];if(e){var t=e.element,n=t.offsetWidth,o=t.clientWidth;if(n>o){var r=n-o;this.scrollbarColumn.element.style.cssText+="width: "+r+"px",this.addCSSClass("fv__ui-portfolio-details-header-show-scrollbar")}else this.removeCSSClass("fv__ui-portfolio-details-header-show-scrollbar")}}},t}(r.default.createSuperClass({template:'\n        <div class="fv__ui-portfolio-details-header">\n            <portfolio-details-column @foreach="column in $component.columns track by key" @class="\'align-\'+(column.align||\'center\')">@{column.text}</portfolio-details-column>\n            <div class="fv__ui-portfolio-details-header-scrollbar-column" name="fv--scrollbar-column"></div>\n        </div>\n    '}));t.default=p},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(3)),r=s(n(48)),i=n(47),a=n(96);function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.fileNodes=[],o.display="block",o.columns=[{key:"fileName",text:"portfolio.properties.fields.filename",display:"self.data.fileName",align:"left"},{key:"description",text:"portfolio.properties.fields.description",display:"self.data.description|default('')"},{key:"modifiedDateTime",text:"portfolio.properties.fields.modification_date",display:"self.data.modifiedDateTime|timeformat('yyyy-MM-DD HH:mm:ss', '')"},{key:"fileSize",text:"portfolio.properties.fields.filesize",display:"self.data.fileSize|bytes(0.01)"},{key:"creationDateTime",text:"portfolio.properties.fields.creation_date",display:"self.data.creationDateTime|timeformat('yyyy-MM-DD HH:mm:ss')"}],o}return c(t,e),t.getName=function(){return"PortfolioNodeTreeController"},t.services=function(){return{layoutService:i.PortfolioLayoutService,nodeService:r.default,dataService:a.PortfolioNodeDataService}},t.prototype.postlink=function(){var t=this;e.prototype.postlink.call(this),this.addDestroyHook(this.component.on("click",(function(e){t.nodeService.deactiveNode()})),this.layoutService.onLayoutChange((function(e){switch(e){case i.PortfolioLayoutMode.DETAIL:t.display="details",t.component.addCSSClass("fv__ui-portfolio-details-tree"),t.component.removeCSSClass("fv__ui-portfolio-block-tree");break;default:t.display="block",t.component.removeCSSClass("fv__ui-portfolio-details-tree"),t.component.addCSSClass("fv__ui-portfolio-block-tree")}t.digest()})),this.dataService.onFileListChange((function(e,n){t.fileNodes=n,t.digest()})))},t}(o.default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(26),i=(o=r)&&o.__esModule?o:{default:o};function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}n(1645);var u=function(e){function t(){return a(this,t),s(this,e.apply(this,arguments))}return c(t,e),t.getName=function(){return"portfolio-sidebar-header"},t}(i.default.createSuperClass({template:'\n        <div class="fv__ui-portfolio-sidebar-header">\n            <div class="fv__ui-portfolio-sidebar-header-body"></div>\n        </div>\n    ',body:">@div"}));t.default=u},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(26),i=(o=r)&&o.__esModule?o:{default:o},a=n(96);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(){return s(this,t),c(this,e.apply(this,arguments))}return u(t,e),t.getName=function(){return"portfolio-toolbar"},t.services=function(){return{dataService:a.PortfolioNodeDataService}},t}(i.default.createSuperClass({template:'\n        <div class="fv__ui-portfolio-toolbar">\n        </div>\n    '}));t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(26),i=(o=r)&&o.__esModule?o:{default:o},a=n(96);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(){return s(this,t),c(this,e.apply(this,arguments))}return u(t,e),t.getName=function(){return"portfolio-path"},t.services=function(){return{dataService:a.PortfolioNodeDataService}},t.prototype.init=function(){e.prototype.init.call(this),this.path=[]},t.prototype.isContainer=function(){return!1},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this),this.dataService.onFileListChange((function(e){Array.isArray(e)||(e=[]),t.path=e.slice(0),e[0]&&(t.path[0]=Object.assign({},e[0],{fileName:"portfolio.path_home"})),t.controller.digest(),t.updateUI()}))},t.prototype.updateUI=function(){if(this.pathList){var e=this.pathList.element;e.offsetWidth>this.element.offsetWidth||e.offsetHeight>this.element.offsetHeight?this.addCSSClass("fv__ui-portfolio-path-overflow"):this.removeCSSClass("fv__ui-portfolio-path-overflow")}},t.prototype.receiveBroadcast=function(t,n){"resize"===t?this.updateUI():e.prototype.receiveBroadcast.call(this,t,n)},t.prototype.clickOnFolder=function(e){this.dataService.switchToFolder(e.handle)},t}(i.default.createSuperClass({template:'\n        <div class="fv__ui-portfolio-path" @var.comp="$component">\n            <div class="fv__ui-portfolio-path-list" @init="comp.pathList = $component">\n                <span @foreach="pathItem in comp.path track by handle" @on.click="comp.clickOnFolder(pathItem)" class="fv__ui-portfolio-path-item">\n                    <a href="javascript:;" class="fv__ui-portfolio-path-item-name">\n                        @{pathItem.fileName}\n                    </a>\n                    <i class="fv__ui-portfolio-path-item-separator"></i>\n                </span>\n            </div>\n        </div>\n    '}));t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(27);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.getName=function(){return"portfolio-previewer-group"},t.prototype.render=function(){e.prototype.render.call(this),this.element.classList.add("fv__ui-portfolio-previewer-group")},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(n(356)),r=u(n(585)),i=u(n(1650)),a=n(17),s=n(47),c=u(n(143));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var d=function(e){function t(){return l(this,t),f(this,e.apply(this,arguments))}return p(t,e),t.getName=function(){return"portfolio-pdf-previewer"},t.services=function(){var e=c.default.services();return Object.assign(e,{layoutService:s.PortfolioLayoutService})},t.prototype.render=function(){e.prototype.render.call(this),this.addCSSClass("fv__ui-portfolio-pdf-previewer")},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this),this.waitForComponentLifecycle("@portfolio-sidebar",a.ComponentLifecycle.mounted).then((function(e){var n=e[0];n.on("beforeresize",(function(){if(t.isRenderingPortfolio){var e=t.previewer;if(e instanceof o.default)e.getEmbedIFrame().style.cssText+="pointer-events:none"}})),n.on("afterresize",(function(){if(t.isRenderingPortfolio){var e=t.previewer;if(e instanceof o.default)e.getEmbedIFrame().style.cssText+="pointer-events:auto"}}))}))},t.prototype.supportsPreviewer=function(e){return e instanceof i.default||e instanceof r.default||e instanceof o.default},t.prototype.renderPortfolioFile=function(t,n){var o=this;return this.previewer=t,e.prototype.renderPortfolioFile.call(this,t,n).then((function(){if(o.isRenderingPortfolio){var e=o.layoutService.onRedraw((function(){o.isRenderingPortfolio&&t.redraw()})),n=o.stopRender;o.stopRender=function(){return e(),n()}}}))},t}(c.default);t.default=d},function(e,t,n){"use strict";n.r(t);var o,r=n(44),i=n(232),a=n.n(i),s=n(61),c=n(233),u=n.n(c),l=n(42),f=n(146),p=n.n(f),d=n(124),h=n.n(d),g=n(165),m=n.n(g),v=n(22),y=n(77),b=n(1),w=n.n(b),_=n(36),P=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),O=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a},E=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(O(arguments[t]));return e},x=function(e){function t(t){var n=e.call(this)||this;return n.pdfViewer=t,n.currentFileId=void 0,n.executor=new _.QueuedAsyncTaskExecutor,t.eventEmitter.on(w.a.renderFileSuccess,(function(){n.initPDFViewer()})),n}return P(t,e),t.prototype.accept=function(e,t){return new Promise((function(t,n){var o=new FileReader;o.onload=function(){t("%PDF"===o.result)},o.onerror=function(e){return n(e)},o.readAsText(e.slice(0,4))}))},t.prototype.initPDFViewer=function(){var e=this;if(this.previewerPDFViewer)return this.previewerPDFViewer;var t=this.pdfViewer;if("JR"!==t.config.engineMode)throw new Error("Unsupported engine mode!");var n=Object.assign({},t.$constructorOptions,{defaultAnnotConfig:null,eventEmitter:new s.EventEmitter,defaultKeyboardEventBinder:l.VIEWER_BINDER,collaboration:{enable:!1},enableJS:!1,enableShortcutKey:!1,customs:{ScrollWrap:u.a.create(this.element),getDocPermissions:function(){return 0},getAnnotPermissions:function(){return Promise.resolve([])}},viewerUI:new C(t.viewerUI)}),o=n.jr;o.readyWorker&&(o.readyWorker=o.readyWorker.clone());var r=new a.a(n),i=document.createElement("div");return i.className="fv__viewer-portfolio-pdf-previewer-container",r.init(i),this.element.appendChild(i),this.previewerPDFViewer=r,this.addDestroyHook((function(){e.element.removeChild(i),r.destroy()})),r},t.prototype.redraw=function(){var e=this;this.executor.exec((function(){var t=e.previewerPDFViewer;return t&&t.getCurrentPDFDoc()?t.redraw():Promise.resolve()}))},t.prototype.preview=function(e,t){var n=this,o=this.initPDFViewer();return this.currentFileId=t.handle,this.executor.exec((function(){return n.openFile(t,o,e)})),function(){return n.currentFileId=void 0,n.executor.exec((function(){return o.close()}))}},t.prototype.openFile=function(e,t,n){var o={fileName:e.fileName},r=this.pdfViewer.viewerUI;return t.openPDFByFile(n,o).catch((function(e){return i(e,o)}));function i(e,o){switch(e.error){case v.Error_Code.password:return function e(n,o,a){var s,c;o.password&&(s="error",c="retry.invalidPassword");return r.promptPassword("","retry.inputPassword","retry.Password","body",s,c).then((function(r){return r?(o.password=r,t.reopenPDFDoc(n,o,a).catch((function(e){i(e,o)}))):e(n,o,a)}),(function(e){if(e)throw e}))}(e.pdfDoc,o,{type:y.OPEN_FILE_TYPE.FROM_FILE,fileName:o.fileName,file:n,options:o});case v.Error_Code.format:r.alert("alert.formatError");break;case v.Error_Code.securityHandler:r.alert("alert.securityError");break;case v.Error_Code.certificate:r.alert("dialog.openFileFailed.errCertificate");break;default:return r.alert("alert.openFailed"),Promise.reject(e)}}},t.prototype.getThumb=function(t,n){if("number"!=typeof this.currentFileId&&this.currentFileId!==n.handle)return e.prototype.getThumb.call(this,t,n);if(!this.previewerPDFViewer)return e.prototype.getThumb.call(this,t,n);var o=this.previewerPDFViewer.getCurrentPDFDoc();return o?o.getPageByIndex(0).then((function(e){return e.getThumb(0).then((function(e){var t=document.createElement("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d");if(e.buffer){var o=new(Uint8ClampedArray||Uint8Array)(e.buffer),i=n.createImageData(e.width,e.height);return i.data.set(o),n.putImageData(i,0,0),{type:r.PortfolioFileThumbType.CANVAS,data:t}}if(e.image){var a=new Image;return a.onload=function(){URL.revokeObjectURL(a.src),n.drawImage(a,0,0)},a.src=URL.createObjectURL(e.image),{type:r.PortfolioFileThumbType.CANVAS,data:t}}}))})):e.prototype.getThumb.call(this,t,n)},t}(r.PortfolioFilePreviewer);t.default=x;var C=function(e){function t(t){var n=e.call(this)||this;return n.origin=t,n.contextMenu=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return P(t,e),t.prototype.showAt=function(){},t.prototype.destroy=function(){},t.prototype.disable=function(){},t.prototype.enable=function(){},t.prototype.onShown=function(){},t.prototype.onHidden=function(){},t}(h.a)),n}return P(t,e),t.prototype.createContextMenu=function(){return this.contextMenu},t.prototype.alert=function(e){return this.origin.alert(e)},t.prototype.confirm=function(e){return this.origin.confirm(e)},t.prototype.prompt=function(e,t,n){return this.origin.prompt(e,t,n)},t.prototype.promptPassword=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this.origin).promptPassword.apply(e,E(t))},t.prototype.createFreeTextTooltip=function(){},t.prototype.createAnnotTooltip=function(){},t.prototype.createTextSelectionTooltip=function(e){return new m.a(this.pdfViewer,e)},t.prototype.destroy=function(){},t}(p.a)},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(104);var o=s(n(11)),r=s(n(48)),i=(s(n(143)),n(47)),a=s(n(229));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var f=function(e){function t(){return c(this,t),u(this,e.apply(this,arguments))}return l(t,e),t.getName=function(){return"portfolio-cover-sheet"},t.services=function(){return{nodeService:r.default,layoutService:i.PortfolioLayoutService,previewerService:a.default}},t.prototype.init=function(t){var n=this;e.prototype.init.call(this,t),this.addDestroyHook(this.nodeService.onActiveNode((function(e){e?t.addCSSClass("fv__ui-portfolio-previewer-hidden"):(t.removeCSSClass("fv__ui-portfolio-previewer-hidden"),t.getPDFUI().redraw())})),this.layoutService.onRedraw((function(){n.nodeService.currentIsFile()||t.getPDFUI().redraw()})))},t}(o.default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(354));function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.getName=function(){return"portfolio-video-previewer"},t.prototype.render=function(){e.prototype.render.call(this),this.addCSSClass("fv__ui-portfolio-video-previewer")},t.prototype.supportsPreviewer=function(e){return e instanceof o.default},t}(r(n(143)).default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(351));function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.getName=function(){return"portfolio-audio-previewer"},t.prototype.render=function(){e.prototype.render.call(this),this.addCSSClass("fv__ui-portfolio-audio-previewer")},t.prototype.supportsPreviewer=function(e){return e instanceof o.default},t}(r(n(143)).default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(352));function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.getName=function(){return"portfolio-image-previewer"},t.prototype.render=function(){e.prototype.render.call(this),this.addCSSClass("fv__ui-portfolio-image-previewer")},t.prototype.supportsPreviewer=function(e){return e instanceof o.default},t}(r(n(143)).default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(355));function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.getName=function(){return"portfolio-plain-text-previewer"},t.prototype.render=function(){e.prototype.render.call(this),this.addCSSClass("fv__ui-portfolio-plain-text-previewer")},t.prototype.supportsPreviewer=function(e){return e instanceof o.default},t.prototype.createPreviewer=function(){var e=this,t=new o.default;return this.element.appendChild(t.element),this.addDestroyHook((function(){e.element.removeChild(t.element),t.destroy()})),t},t}(r(n(143)).default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(353),i=n(143);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=function(e){function t(){return a(this,t),s(this,e.apply(this,arguments))}return c(t,e),t.getName=function(){return"portfolio-unsupported-previewer"},t.prototype.render=function(){e.prototype.render.call(this),this.addCSSClass("fv__ui-portfolio-unsupported-previewer")},t.prototype.supportsPreviewer=function(e){return e instanceof r.UnsupportedPreviewer},t.prototype.renderPortfolioFile=function(e,t){var n=this;this.removeCSSClass("fv__ui-portfolio-previewer-hidden"),this.element.appendChild(e.element);var o=e.preview();return this.stopRender=function(){return n.element.removeChild(e.element),o()},this.localize(),Promise.resolve()},t}(((o=i)&&o.__esModule?o:{default:o}).default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(26)),r=a(n(48)),i=a(n(1659));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(){return s(this,t),c(this,e.apply(this,arguments))}return u(t,e),t.getName=function(){return"portfolio-node-properties-dialog"},t.services=function(){return{nodeService:r.default}},t.prototype.init=function(){this.nodeData={}},t.prototype.postlink=function(){var t=this;e.prototype.postlink.call(this),this.nodeService.onActiveNode((function(e){t.setCurrentNodeData(e)}))},t.prototype.setCurrentNodeData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.nodeData=e,this.controller.digest()},t}(o.default.createSuperClass({template:(0,i.default)()}));t.default=l},function(e,t,n){n(2);e.exports=function(e){"use strict";e=e||{};return'<layer \r\n    class="fv__ui-portfolio-node-properties-dialog center" \r\n    @draggable \r\n    @var.self="$component" \r\n    modal\r\n>\r\n    <layer-header title="portfolio.properties.title"></layer-header>\r\n    <layer-view>\r\n        <div class="fv__ui-portfolio-node-properties-fieldset">\r\n            <label class="fv__ui-portfolio-node-properties-field" field="file-name">\r\n                <span class="fv__ui-portfolio-node-properties-field-name" data-i18n="portfolio.properties.fields.filename"></span>\r\n                <span class="fv__ui-portfolio-node-properties-field-value">\r\n                    @{self.nodeData.fileName|default(\'\')}\r\n                </span>\r\n            </label>\r\n            <label class="fv__ui-portfolio-node-properties-field" field="file-size">\r\n                <span class="fv__ui-portfolio-node-properties-field-name" data-i18n="portfolio.properties.fields.filesize"></span>\r\n                <span class="fv__ui-portfolio-node-properties-field-value">\r\n                    @{self.nodeData.fileSize|bytes(0.01)}\r\n                </span>\r\n            </label>\r\n            <label class="fv__ui-portfolio-node-properties-field" field="creation-date">\r\n                <span class="fv__ui-portfolio-node-properties-field-name" data-i18n="portfolio.properties.fields.creation_date"></span>\r\n                <span class="fv__ui-portfolio-node-properties-field-value">\r\n                    @{self.nodeData.creationDateTime|timeformat(\'yyyy-MM-DD HH:mm:ss\')}\r\n                </span>\r\n            </label>\r\n            <label class="fv__ui-portfolio-node-properties-field" field="modified-date">\r\n                <span class="fv__ui-portfolio-node-properties-field-name" data-i18n="portfolio.properties.fields.modification_date"></span>\r\n                <span class="fv__ui-portfolio-node-properties-field-value">\r\n                    @{self.nodeData.modifiedDateTime|timeformat(\'yyyy-MM-DD HH:mm:ss\')}\r\n                </span>\r\n            </label>\r\n            <label class="fv__ui-portfolio-node-properties-field" field="description">\r\n                <span class="fv__ui-portfolio-node-properties-field-name" data-i18n="portfolio.properties.fields.description"></span>\r\n                <span class="fv__ui-portfolio-node-properties-field-value">\r\n                    @{self.nodeData.description|default(\'\')}\r\n                </span>\r\n            </label>\r\n        </div>\r\n    </layer-view>\r\n    <layer-toolbar>\r\n        <xbutton class="fv__ui-dialog-button fv__ui-dialog-ok-button" @on.click="self.hide()" text="portfolio.properties.ok"></xbutton>\r\n    </layer-toolbar>\r\n</layer>','<layer \r\n    class="fv__ui-portfolio-node-properties-dialog center" \r\n    @draggable \r\n    @var.self="$component" \r\n    modal\r\n>\r\n    <layer-header title="portfolio.properties.title"></layer-header>\r\n    <layer-view>\r\n        <div class="fv__ui-portfolio-node-properties-fieldset">\r\n            <label class="fv__ui-portfolio-node-properties-field" field="file-name">\r\n                <span class="fv__ui-portfolio-node-properties-field-name" data-i18n="portfolio.properties.fields.filename"></span>\r\n                <span class="fv__ui-portfolio-node-properties-field-value">\r\n                    @{self.nodeData.fileName|default(\'\')}\r\n                </span>\r\n            </label>\r\n            <label class="fv__ui-portfolio-node-properties-field" field="file-size">\r\n                <span class="fv__ui-portfolio-node-properties-field-name" data-i18n="portfolio.properties.fields.filesize"></span>\r\n                <span class="fv__ui-portfolio-node-properties-field-value">\r\n                    @{self.nodeData.fileSize|bytes(0.01)}\r\n                </span>\r\n            </label>\r\n            <label class="fv__ui-portfolio-node-properties-field" field="creation-date">\r\n                <span class="fv__ui-portfolio-node-properties-field-name" data-i18n="portfolio.properties.fields.creation_date"></span>\r\n                <span class="fv__ui-portfolio-node-properties-field-value">\r\n                    @{self.nodeData.creationDateTime|timeformat(\'yyyy-MM-DD HH:mm:ss\')}\r\n                </span>\r\n            </label>\r\n            <label class="fv__ui-portfolio-node-properties-field" field="modified-date">\r\n                <span class="fv__ui-portfolio-node-properties-field-name" data-i18n="portfolio.properties.fields.modification_date"></span>\r\n                <span class="fv__ui-portfolio-node-properties-field-value">\r\n                    @{self.nodeData.modifiedDateTime|timeformat(\'yyyy-MM-DD HH:mm:ss\')}\r\n                </span>\r\n            </label>\r\n            <label class="fv__ui-portfolio-node-properties-field" field="description">\r\n                <span class="fv__ui-portfolio-node-properties-field-name" data-i18n="portfolio.properties.fields.description"></span>\r\n                <span class="fv__ui-portfolio-node-properties-field-value">\r\n                    @{self.nodeData.description|default(\'\')}\r\n                </span>\r\n            </label>\r\n        </div>\r\n    </layer-view>\r\n    <layer-toolbar>\r\n        <xbutton class="fv__ui-dialog-button fv__ui-dialog-ok-button" @on.click="self.hide()" text="portfolio.properties.ok"></xbutton>\r\n    </layer-toolbar>\r\n</layer>'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(26)),r=i(n(48));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=function(e){function t(){return a(this,t),s(this,e.apply(this,arguments))}return c(t,e),t.getName=function(){return"portfolio-show-node-properties-button"},t.services=function(){return{nodeService:r.default}},t.prototype.postlink=function(){var t=this;e.prototype.postlink.call(this),this.nodeService.onActiveNode((function(e){e?t.enable():t.disable(),t.currentNode=e}))},t.prototype.showPropertiesDialog=function(){if(this.currentNode){var e=this.getRoot().querySelector("@portfolio-node-properties-dialog");e&&e.show()}},t}(o.default.createSuperClass({template:'<xbutton \n        @tooltip tooltip-title="portfolio.properties.button-tip"\n        icon-class="fv__icon-portfolio-node-properties" \n        class="fv__ui-portfolio-node-properties-btn" \n        @on.click="$component.showPropertiesDialog()"\n    ></xbutton>'}));t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(104),r=a(n(26)),i=a(n(48));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(){return s(this,t),c(this,e.apply(this,arguments))}return u(t,e),t.getName=function(){return"portfolio-extract-selected-item-button"},t.services=function(){return{nodeService:i.default}},t.prototype.postlink=function(){var t=this;e.prototype.postlink.call(this),this.nodeService.onActiveNode((function(e){e&&e.type===o.PortfolioNodeType.file?t.enable():t.disable(),t.currentNode=e}))},t.prototype.extractSelectedItem=function(){this.currentNode&&this.nodeService.downloadFile(this.currentNode)},t}(r.default.createSuperClass({template:'\n        <xbutton\n        @tooltip tooltip-title="portfolio.extract.button-tip"\n        icon-class="fv__icon-portfolio-node-extract"\n        @on.click="$component.extractSelectedItem()"\n        ></xbutton>\n    '}));t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(26);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.getName=function(){return"portfolio-node-list"},t}(((o=r)&&o.__esModule?o:{default:o}).default.createSuperClass({template:'\n        <div class="fv__ui-portfolio-node-list"></div>\n    '}));t.default=c},function(e,t,n){"use strict";var o,r=n(6);var i=((o=r)&&o.__esModule?o:{default:o}).default.root();i.registerPreConfiguredComponent("portfolio-block-layout-button",{template:'<xbutton name="fv--portfolio-block-layout-button" @controller="PortfolioLayoutController" layout="portfolio" icon-class="fv__icon-portfolio-layout-block" text="portfolio.toolbar.layout" @tooltip tooltip-title="portfolio.toolbar.layout" @portfolio-component></xbutton>'}),i.registerPreConfiguredComponent("portfolio-details-layout-button",{template:'<xbutton name="fv--portfolio-details-layout-button" @controller="PortfolioLayoutController" layout="details" icon-class="fv__icon-portfolio-layout-details" text="portfolio.toolbar.details" @tooltip tooltip-title="portfolio.toolbar.details" @portfolio-component></xbutton>'}),i.registerPreConfiguredComponent("portfolio-cover-sheet-layout-button",{template:'<xbutton name="fv--portfolio-cover-sheet-layout-button" @controller="PortfolioLayoutController" layout="cover" icon-class="fv__icon-portfolio-cover-sheet" text="portfolio.toolbar.cover-sheet" @tooltip tooltip-title="portfolio.toolbar.cover-sheet" @portfolio-component></xbutton>'}),i.registerPreConfiguredComponent("portfolio-preview-right-side-button",{template:'<xbutton name="fv--portfolio-preview-right-side-button" @controller="PortfolioPreviewerSideController" side="right" icon-class="fv__icon-portfolio-preview-side-right" text="portfolio.toolbar.preview-right" @tooltip tooltip-title="portfolio.toolbar.preview-right"></xbutton>'}),i.registerPreConfiguredComponent("portfolio-preview-bottom-side-button",{template:'<xbutton name="fv--portfolio-preview-bottom-side-button" @controller="PortfolioPreviewerSideController" side="bottom" icon-class="fv__icon-portfolio-preview-side-bottom" text="portfolio.toolbar.preview-bottom" @tooltip tooltip-title="portfolio.toolbar.preview-bottom"></xbutton>'}),i.registerPreConfiguredComponent("portfolio-preview-off-button",{template:'<xbutton name="fv--portfolio-preview-off-button" @controller="PortfolioPreviewerSideController" side="off" icon-class="fv__icon-portfolio-preview-side-off" text="portfolio.toolbar.preview-off" @tooltip tooltip-title="portfolio.toolbar.preview-off"></xbutton>'}),i.registerPreConfiguredComponent("portfolio-default-original-layout-button",{template:'<xbutton @controller="PortfolioDefaultViewController" layout="original" text="portfolio.toolbar.default-view-original"  @tooltip tooltip-title="portfolio.toolbar.default-view-original" @portfolio-component></xbutton>'}),i.registerPreConfiguredComponent("portfolio-default-block-layout-button",{template:'<xbutton name="fv--portfolio-default-block-layout-button" @controller="PortfolioDefaultViewController" layout="portfolio" text="portfolio.toolbar.layout" @tooltip tooltip-title="portfolio.toolbar.layout" @portfolio-component></xbutton>'}),i.registerPreConfiguredComponent("portfolio-default-details-layout-button",{template:'<xbutton name="fv--portfolio-default-details-layout-button" @controller="PortfolioDefaultViewController" layout="details" text="portfolio.toolbar.details" @tooltip tooltip-title="portfolio.toolbar.details" @portfolio-component></xbutton>'}),i.registerPreConfiguredComponent("portfolio-default-cover-sheet-layout-button",{template:'<xbutton name="fv--portfolio-default-cover-sheet-layout-button" @controller="PortfolioDefaultViewController" layout="cover" text="portfolio.toolbar.cover-sheet" @tooltip tooltip-title="portfolio.toolbar.cover-sheet" @portfolio-component></xbutton>'}),i.registerPreConfiguredComponent("portfolio-default-layout-dropdown",{template:'<dropdown name="fv--portfolio-default-layout-dropdown" separate="false" icon-class="fv__icon-portfolio-default-layout" @portfolio-component></dropdown>'})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(104),r=a(n(26)),i=a(n(48));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(){return s(this,t),c(this,e.apply(this,arguments))}return u(t,e),t.getName=function(){return"portfolio-extract-node-contextmenu-item"},t.services=function(){return{nodeService:i.default}},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this),this.addDestroyHook(this.parent.on("shown",(function(){var e=t.parent.getCurrentTarget();e&&e.type===o.PortfolioNodeType.file?t.enable():t.disable()})))},t.prototype.extract=function(){var e=this.parent.getCurrentTarget();e&&(e.type!==o.PortfolioNodeType.folder&&this.nodeService.downloadFile(e))},t}(r.default.createSuperClass({template:'<contextmenu-item @on.click="$component.extract()" text="portfolio.node_contextmenu.extract"></contextmenu-item>'}));t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(26);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.getName=function(){return"portfolio-show-selected-node-information-contextmenu-item"},t.prototype.showInfo=function(){var e=this.parent.getCurrentTarget();if(e){var t=this.getRoot().querySelector("@portfolio-node-properties-dialog");t&&(t.setCurrentNodeData(e),t.show())}},t}(((o=r)&&o.__esModule?o:{default:o}).default.createSuperClass({template:'<contextmenu-item @on.click="$component.showInfo()" text="portfolio.node_contextmenu.show_infomation"></contextmenu-item>'}));t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(75)),r=a(n(584)),i=a(n(48));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(){return s(this,t),c(this,e.apply(this,arguments))}return u(t,e),t.getName=function(){return"portfolio-node-contextmenu"},t.services=function(){return{nodeService:i.default}},t.prototype.getCurrentPortfolioNodeData=function(){var e=this.currentTarget;if(!e.getComponent)return null;var t=e.getComponent();return t instanceof r.default&&t.data.handle?t.data:null},t.prototype.getCurrentTarget=function(){return this.getCurrentPortfolioNodeData()},t}(o.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(11)),r=i(n(350));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=function(e){function t(){return a(this,t),s(this,e.apply(this,arguments))}return c(t,e),t.getName=function(){return"portfolio-component"},t.services=function(){return{componentsService:r.default}},t.prototype.componentPrelink=function(){this.componentsService.addComponent(this.component)},t}(o.default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(26),i=(o=r)&&o.__esModule?o:{default:o},a=n(47);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(){return s(this,t),c(this,e.apply(this,arguments))}return u(t,e),t.getName=function(){return"portfolio-preview-side-dropdown"},t.services=function(){return{layoutService:a.PortfolioLayoutService}},t.prototype.postlink=function(){var t=this;e.prototype.postlink.call(this),this.layoutService.onLayoutChange((function(e){e===a.PortfolioLayoutMode.COVER?t.disable():t.enable()}))},t}(i.default.createSuperClass({template:'<dropdown separate="false" icon-class="fv__icon-portfolio-preview-side" icon-class="fv__icon-portfolio-preview-side" @portfolio-component></dropdown>'}));t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(26)),r=n(47),i=a(n(48));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}n(1670);var l=function(e){function t(){return s(this,t),c(this,e.apply(this,arguments))}return u(t,e),t.getName=function(){return"portfolio-node-container"},t.services=function(){return{layoutService:r.PortfolioLayoutService,nodeService:i.default}},t.prototype.postlink=function(){var t=this;e.prototype.postlink.call(this),this.addDestroyHook(this.layoutService.onLayoutChange((function(e){var n=e===r.PortfolioLayoutMode.DETAIL;t.element.classList.toggle("fv__ui-portfolio-node-container-details",n)})))},t.prototype.deactiveCurrent=function(){this.nodeService.deactiveNode()},t}(o.default.createSuperClass({template:'<div class="fv__ui-portfolio-node-container" @on.click="$component.deactiveCurrent()"></div>'}));t.default=l},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(26)),r=a(n(48)),i=a(n(229));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}n(1672);var l=function(e){function t(){return s(this,t),c(this,e.apply(this,arguments))}return u(t,e),t.getName=function(){return"portfolio-loading-layer"},t.services=function(){return{previewerService:i.default,nodeService:r.default}},t.prototype.postlink=function(){var t=this;e.prototype.postlink.call(this);var n=this.getComponentByName("fv--portfolio-loading-layer-inner");this.layer=n;var o=0,r=function(){clearTimeout(o),t.hide()};this.addDestroyHook(this.previewerService.onPreviewerChange((function(e){r()})),this.nodeService.onActiveNode((function(e){e?(clearTimeout(o),o=setTimeout((function(){t.show()}),200)):r()})))},t.prototype.doShown=function(){e.prototype.doShown.call(this),this.layer&&this.layer.show(this.element,!1)},t.prototype.doHidden=function(){e.prototype.doHidden.call(this),this.layer&&this.layer.hide()},t}(o.default.createSuperClass({template:'\n        <div class="fv__ui-portfolio-loading-layer" visible="false">\n            <loading visible="false" name="fv--portfolio-loading-layer-inner" text=""></loading>\n        </div>\n    '}));t.default=l},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(1674));function r(e){return e&&e.__esModule?e:{default:e}}var i=r(n(6)).default.module("signature",[]);i.registerComponent(o.default),t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(1675));n(1676);var r=i(n(26));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u={0:"verifyUnknown",128:"verifyChange",256:"verifyIncredible",1024:"verifyNoChange",134217728:"changeLegal",268435456:"changeIllegal"},l={0:"issueUnknown",4096:"issueValid",8192:"issueUnknown",16384:"issueRevoke",32768:"issueExpire",65536:"issueUncheck",131072:"issueCurrent"},f={0:"timestampUnknown",262144:"timestampNone",524288:"timestampDoc",1048576:"timestampValid",2097152:"timestampInvalid",4194304:"timestampExpire",8388608:"timestampIssueUnknown",16777216:"timestampIssueValid",33554432:"timestampTimeBefore"},p={2147483648:"unknownMessage",4:"validMessage",1024:"validMessage",8:"invalidMessage"},d=function(e){function t(){return a(this,t),s(this,e.apply(this,arguments))}return c(t,e),t.getName=function(){return"signed-property-dialog"},t.prototype.mounted=function(){e.prototype.mounted.call(this),this.pdfui=this.getPDFUI(),this.pdfui.signedPropertyDialog=this},t.prototype.init=function(){this.nodeData={}},t.prototype.active=function(e){this.annot=e,this.updateDialog(e.getField()),this.show()},t.prototype.updateDialog=function(e){var t=e.info,n=t.signer,o=t.location,r=t.reason,i=t.signTime,a=t.contact,s=e.verifiedResult,c=u[402654592&s]||u[0],d=Object.keys(p).find((function(e){return(s&e)>0}))||8,h=l[258048&s]||l[0],g=f[66846720&s]||f[0],m=this.pdfui.i18n.t("dialog.signProperty.NotAvailable");this.nodeData={signer:n,location:o||m,reason:r||m,contact:a||m,message:"dialog.signProperty."+p[d],signTime:i,changedState:"verifySign."+c,issuerState:"verifySign."+h,timestampState:"verifySign."+g,defaultTime:"0/00/00 08:00:00 +08'00'",messageSigner:"validMessage"==p[d]?t.signer:""},this.localize(),this.controller.digest()},t.prototype.clickCloseBtn=function(){this.hide()},t}(r.default.createSuperClass({template:(0,o.default)()}));t.default=d},function(e,t,n){n(2);e.exports=function(e){"use strict";e=e||{};return'<layer \r\n    name="signed-property-dialog" \r\n    class="fv__ui-signedProperty-dialog center" \r\n    modal="true"\r\n    @draggable=""\r\n    @var.self="$component"\r\n>\r\n    <layer-header class="fv__ui-signProperty-header" title="dialog.signProperty.title" name="dialog.signProperty.title"></layer-header>\r\n    <div class="fv__ui-signedProperty-message fv__signedProperty-mb10">\r\n        <div class="fv__ui-signedProperty-icon-status unknownMessage"></div>\r\n        <div>@{self.nodeData.message}</div>\r\n        <div class="fv__ui-signedProperty-signer">@{self.nodeData.messageSigner}</div>\r\n    </div>\r\n    <div class="fv__ui-signedProperty_content_warp" @stop-drag>\r\n        <div class="fv__ui-signedProperty-content" >\r\n            <div class="fv__ui-signedProperty-label" date-i18n="dialog.signProperty.details.title"></div>\r\n            <div class="fv__signedProperty-input  fv__signedProperty-mb10">\r\n                <span data-i18n="dialog.signProperty.details.signedBy"></span>\r\n                <input  @sync.value="self.nodeData.signer" disabled type="text"/>\r\n                \x3c!--\r\n                <div class="fv__ui-dialog-button fv__ui-dialog-cancel-button" data-i18n="dialog.signProperty.details.showCert"></div>\r\n                --\x3e\r\n            </div>\r\n            <div class="fv__signedProperty-input fv__signedProperty-mb10">\r\n                <span data-i18n="dialog.signProperty.details.reason"></span>\r\n                <input type="text" @sync.value="self.nodeData.reason" disabled/>\r\n            </div>\r\n            <div class="fv__signedProperty-inputs fv__signedProperty-mb10">\r\n                <div class="fv__signedProperty-input">\r\n                    <span data-i18n="dialog.signProperty.details.date"></span>\r\n                    <input @sync.value="self.nodeData.signTime|timeformat(\'yyyy-MM-DD HH:mm:ss +08\\\'00\\\'\')" disabled type="text"/>\r\n                </div>\r\n                <div class="fv__signedProperty-input">\r\n                    <span data-i18n="dialog.signProperty.details.location"></span>\r\n                    <input type="text" @sync.value="self.nodeData.location" disabled/>\r\n                </div>\r\n            </div>\r\n            <div class="fv__ui-signedProperty-summary">\r\n                <div class="fv__ui-signedProperty-label fv__signedProperty-mb10" data-i18n="dialog.signProperty.details.summary.title"></div>\r\n                <div class="fv__ui-signedProperty-summaryCon">\r\n                    <div class="fv__ui-signedProperty-info" >@{self.nodeData.changedState}</div>\r\n                    <div class="fv__ui-signedProperty-info" >@{self.nodeData.issuerState}</div>\r\n                    <div class="fv__ui-signedProperty-info" >@{self.nodeData.timestampState}</div>\r\n                    <div class="fv__ui-signedProperty-info" data-i18n="dialog.signProperty.details.summary.timing"></div>\r\n                    <div class="fv__ui-signedProperty-info" data-i18n="dialog.signProperty.details.summary.time"></div>\r\n                    <div class="fv__ui-signedProperty-info" >\r\n                        @{self.nodeData.signTime|timeformat(\'yyyy-MM-DD HH:mm:ss +08\\\'00\\\'\')}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class="fv__signedProperty-input  fv__signedProperty-mb10">\r\n                <span class="contact" data-i18n="dialog.signProperty.details.contact"></span>\r\n                <input type="text" @sync.value="self.nodeData.contact" disabled />\r\n            </div>\r\n            \r\n        </div>\r\n    </div>\r\n    \r\n    <div class="fv__ui-dialog-footer">\r\n        <xbutton class="fv__ui-dialog-cancel-button" @on.click="self.clickCloseBtn()">\r\n        dialog.signProperty.close\r\n        </xbutton>\r\n    </div>\r\n</layer>','<layer \r\n    name="signed-property-dialog" \r\n    class="fv__ui-signedProperty-dialog center" \r\n    modal="true"\r\n    @draggable=""\r\n    @var.self="$component"\r\n>\r\n    <layer-header class="fv__ui-signProperty-header" title="dialog.signProperty.title" name="dialog.signProperty.title"></layer-header>\r\n    <div class="fv__ui-signedProperty-message fv__signedProperty-mb10">\r\n        <div class="fv__ui-signedProperty-icon-status unknownMessage"></div>\r\n        <div>@{self.nodeData.message}</div>\r\n        <div class="fv__ui-signedProperty-signer">@{self.nodeData.messageSigner}</div>\r\n    </div>\r\n    <div class="fv__ui-signedProperty_content_warp" @stop-drag>\r\n        <div class="fv__ui-signedProperty-content" >\r\n            <div class="fv__ui-signedProperty-label" date-i18n="dialog.signProperty.details.title"></div>\r\n            <div class="fv__signedProperty-input  fv__signedProperty-mb10">\r\n                <span data-i18n="dialog.signProperty.details.signedBy"></span>\r\n                <input  @sync.value="self.nodeData.signer" disabled type="text"/>\r\n                \x3c!--\r\n                <div class="fv__ui-dialog-button fv__ui-dialog-cancel-button" data-i18n="dialog.signProperty.details.showCert"></div>\r\n                --\x3e\r\n            </div>\r\n            <div class="fv__signedProperty-input fv__signedProperty-mb10">\r\n                <span data-i18n="dialog.signProperty.details.reason"></span>\r\n                <input type="text" @sync.value="self.nodeData.reason" disabled/>\r\n            </div>\r\n            <div class="fv__signedProperty-inputs fv__signedProperty-mb10">\r\n                <div class="fv__signedProperty-input">\r\n                    <span data-i18n="dialog.signProperty.details.date"></span>\r\n                    <input @sync.value="self.nodeData.signTime|timeformat(\'yyyy-MM-DD HH:mm:ss +08\\\'00\\\'\')" disabled type="text"/>\r\n                </div>\r\n                <div class="fv__signedProperty-input">\r\n                    <span data-i18n="dialog.signProperty.details.location"></span>\r\n                    <input type="text" @sync.value="self.nodeData.location" disabled/>\r\n                </div>\r\n            </div>\r\n            <div class="fv__ui-signedProperty-summary">\r\n                <div class="fv__ui-signedProperty-label fv__signedProperty-mb10" data-i18n="dialog.signProperty.details.summary.title"></div>\r\n                <div class="fv__ui-signedProperty-summaryCon">\r\n                    <div class="fv__ui-signedProperty-info" >@{self.nodeData.changedState}</div>\r\n                    <div class="fv__ui-signedProperty-info" >@{self.nodeData.issuerState}</div>\r\n                    <div class="fv__ui-signedProperty-info" >@{self.nodeData.timestampState}</div>\r\n                    <div class="fv__ui-signedProperty-info" data-i18n="dialog.signProperty.details.summary.timing"></div>\r\n                    <div class="fv__ui-signedProperty-info" data-i18n="dialog.signProperty.details.summary.time"></div>\r\n                    <div class="fv__ui-signedProperty-info" >\r\n                        @{self.nodeData.signTime|timeformat(\'yyyy-MM-DD HH:mm:ss +08\\\'00\\\'\')}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class="fv__signedProperty-input  fv__signedProperty-mb10">\r\n                <span class="contact" data-i18n="dialog.signProperty.details.contact"></span>\r\n                <input type="text" @sync.value="self.nodeData.contact" disabled />\r\n            </div>\r\n            \r\n        </div>\r\n    </div>\r\n    \r\n    <div class="fv__ui-dialog-footer">\r\n        <xbutton class="fv__ui-dialog-cancel-button" @on.click="self.clickCloseBtn()">\r\n        dialog.signProperty.close\r\n        </xbutton>\r\n    </div>\r\n</layer>'}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(76),r=n(588);var i=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.match(/^https?:\/\//))this.modulePath=t;else{var n=location.pathname.replace(/[^\/\\]+\.[^\/\\]+$/,"");this.modulePath=(0,o.resolvePath)(n,t)}}return e.prototype.loadAddonInfo=function(e){return(0,r.getFromRemote)((0,o.resolvePath)(e,"addon.info.json"),"json")},e.prototype.loadI18N=function(e){var t=this;if(!e.i18n)return Promise.resolve({sources:{}});var n=e.i18n.ns,i=e.i18n.sources||{},a=Object.keys(i),s=a.map((function(e){return i[e]}));return Promise.all(s.map((function(e){return(0,r.getFromRemote)((0,o.resolvePath)(t.modulePath,e),"json")}))).then((function(e){return{ns:n,sources:e.reduce((function(e,t,n){return e[a[n]]=t,e}),{})}}))},e}();t.default=i},function(e,t,n){n(2);e.exports=function(e){"use strict";e=e||{};return'<webpdf>\r\n    <viewer></viewer>\r\n    <template name="template-container">\r\n        <create-stamp-dialog></create-stamp-dialog>\r\n        <print:print-dialog></print:print-dialog>\r\n        <loupe-tool-dialog></loupe-tool-dialog>\r\n        <create-ink-sign-dialog></create-ink-sign-dialog>\r\n        <distance:measurement-popup></distance:measurement-popup>\r\n        <fpmodule:file-property-dialog></fpmodule:file-property-dialog>\r\n        <redaction:redaction-page-dialog @hide-on-sr></redaction:redaction-page-dialog>\r\n        \x3c!-- contextmenus --\x3e\r\n        <page-contextmenu></page-contextmenu>\r\n        <default-annot-contextmenu></default-annot-contextmenu>\r\n        <markup-contextmenu></markup-contextmenu>\r\n        <markup-contextmenu name="fv--line-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--linearrow-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--linedimension-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--polylinedimention-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--polygondimension-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--circle-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--square-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--polyline-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--polygon-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--polygoncloud-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--ink-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--stamp-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--text-contextmenu"></markup-contextmenu>\r\n        <caret-contextmenu name="fv--areahighlight-contextmenu"></caret-contextmenu>\r\n        <caret-contextmenu name="fv--replace-contextmenu"></caret-contextmenu>\r\n        <measurement-contextmenu></measurement-contextmenu>\r\n        <caret-contextmenu name="fv--caret-contextmenu"></caret-contextmenu>\r\n        <textmarkup-contextmenu name="fv--highlight-contextmenu"></textmarkup-contextmenu>\r\n        <textmarkup-contextmenu name="fv--strikeout-contextmenu"></textmarkup-contextmenu>\r\n        <textmarkup-contextmenu name="fv--underline-contextmenu"></textmarkup-contextmenu>\r\n        <textmarkup-contextmenu name="fv--squiggly-contextmenu"></textmarkup-contextmenu>\r\n        <freetext-contextmenu name="fv--typewriter-contextmenu"></freetext-contextmenu>\r\n        <freetext-contextmenu name="fv--callout-contextmenu"></freetext-contextmenu>\r\n        <freetext-contextmenu name="fv--textbox-contextmenu"></freetext-contextmenu>\r\n        <action-annot-contextmenu @hide-on-sr name="fv--image-contextmenu"></action-annot-contextmenu>\r\n        <action-annot-contextmenu @hide-on-sr name="fv--link-contextmenu"></action-annot-contextmenu>\r\n        <comment-card-contextmenu></comment-card-contextmenu>\r\n        <fileattachment-contextmenu></fileattachment-contextmenu>\r\n        <media-contextmenu @hide-on-sr></media-contextmenu>\r\n        <sound-contextmenu @hide-on-sr></sound-contextmenu>\r\n        <redact-contextmenu></redact-contextmenu>\r\n        <text-sel:text-selection-tooltip></text-sel:text-selection-tooltip>\r\n        <freetext:freetext-tooltip></freetext:freetext-tooltip>\r\n    </template>\r\n</webpdf>','<webpdf>\r\n    <viewer></viewer>\r\n    <template name="template-container">\r\n        <create-stamp-dialog></create-stamp-dialog>\r\n        <print:print-dialog></print:print-dialog>\r\n        <loupe-tool-dialog></loupe-tool-dialog>\r\n        <create-ink-sign-dialog></create-ink-sign-dialog>\r\n        <distance:measurement-popup></distance:measurement-popup>\r\n        <fpmodule:file-property-dialog></fpmodule:file-property-dialog>\r\n        <redaction:redaction-page-dialog @hide-on-sr></redaction:redaction-page-dialog>\r\n        \x3c!-- contextmenus --\x3e\r\n        <page-contextmenu></page-contextmenu>\r\n        <default-annot-contextmenu></default-annot-contextmenu>\r\n        <markup-contextmenu></markup-contextmenu>\r\n        <markup-contextmenu name="fv--line-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--linearrow-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--linedimension-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--polylinedimention-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--polygondimension-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--circle-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--square-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--polyline-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--polygon-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--polygoncloud-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--ink-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--stamp-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--text-contextmenu"></markup-contextmenu>\r\n        <caret-contextmenu name="fv--areahighlight-contextmenu"></caret-contextmenu>\r\n        <caret-contextmenu name="fv--replace-contextmenu"></caret-contextmenu>\r\n        <measurement-contextmenu></measurement-contextmenu>\r\n        <caret-contextmenu name="fv--caret-contextmenu"></caret-contextmenu>\r\n        <textmarkup-contextmenu name="fv--highlight-contextmenu"></textmarkup-contextmenu>\r\n        <textmarkup-contextmenu name="fv--strikeout-contextmenu"></textmarkup-contextmenu>\r\n        <textmarkup-contextmenu name="fv--underline-contextmenu"></textmarkup-contextmenu>\r\n        <textmarkup-contextmenu name="fv--squiggly-contextmenu"></textmarkup-contextmenu>\r\n        <freetext-contextmenu name="fv--typewriter-contextmenu"></freetext-contextmenu>\r\n        <freetext-contextmenu name="fv--callout-contextmenu"></freetext-contextmenu>\r\n        <freetext-contextmenu name="fv--textbox-contextmenu"></freetext-contextmenu>\r\n        <action-annot-contextmenu @hide-on-sr name="fv--image-contextmenu"></action-annot-contextmenu>\r\n        <action-annot-contextmenu @hide-on-sr name="fv--link-contextmenu"></action-annot-contextmenu>\r\n        <comment-card-contextmenu></comment-card-contextmenu>\r\n        <fileattachment-contextmenu></fileattachment-contextmenu>\r\n        <media-contextmenu @hide-on-sr></media-contextmenu>\r\n        <sound-contextmenu @hide-on-sr></sound-contextmenu>\r\n        <redact-contextmenu></redact-contextmenu>\r\n        <text-sel:text-selection-tooltip></text-sel:text-selection-tooltip>\r\n        <freetext:freetext-tooltip></freetext:freetext-tooltip>\r\n    </template>\r\n</webpdf>'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(13);(o=r)&&o.__esModule;function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(t){a(this,e),this.partialClass=t,this.partialInstance=null,this.depends=[],this.isLoaded=!1,this.isLinked=!1,this.isConstructed=!1,this.linkResult=void 0,this.constructResult=void 0}return e.prototype.load=function(e){this.isLoaded||(this.depends.forEach((function(t){t.load(e)})),this.partialClass.load(e),this.isLoaded=!0)},e.prototype.construct=function(e,t){var n;if(this.isConstructed)return this.constructResult;var o=this.depends.map((function(n){return n.construct(e,t)})),r=this.depends.map((function(e){return e.partialInstance}));return this.partialInstance=new this.partialClass(e,t,r),this.constructResult=(n=this.partialInstance).construct.apply(n,[e,t].concat(i(o))),this.isConstructed=!0,this.constructResult},e.prototype.link=function(){var e=this;return this.isLinked?this.linkResult:(this.isLinked=!0,this.linkResult=Promise.all(this.depends.map((function(e){return e.link(),e.linkResult}))).then((function(t){var n;return(n=e.partialInstance).link.apply(n,i(t))})))},e.prototype.findDependent=function(e){return this.depends.find((function(t){return t.origin===e}))},e.prototype.destroy=function(){this.partialInstance&&this.partialInstance.destroy(),this.partialInstance=null},e}(),c=function(){function e(t){var n=this;a(this,e),this.partialClasses=t,this.partialDelegators=t.map((function(e){return new s(e)})),this.partialDelegators.forEach((function(e){var o;(o=e.depends).push.apply(o,i(e.partialClass.depends().map((function(o,r){var i=t.indexOf(o);if(-1===i)throw new Error("Couldn't resolve dependency: "+o+", at pos: "+r+" of "+e.partialClass);return n.partialDelegators[i]}))))}))}return e.prototype.load=function(e){this.partialDelegators.forEach((function(t){return t.load(e)}))},e.prototype.construct=function(e,t){this.partialDelegators.forEach((function(n){n.construct(e,t)}))},e.prototype.linkAll=function(){return Promise.all(this.partialDelegators.map((function(e){return e.link()})))},e.prototype.link=function(e){var t=this.partialClasses.indexOf(e);return-1==t?Promise.reject(new Error(e+" not found in this manager.")):this.partialDelegators[t].link()},e.prototype.destroy=function(){this.partialDelegators.forEach((function(e){e.destroy()})),this.partialDelegators=[],this.partialClasses=[]},e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=v(n(186)),r=v(n(187)),i=v(n(340)),a=v(n(231)),s=v(n(123)),c=v(n(230)),u=v(n(1684)),l=v(n(1685)),f=v(n(590)),p=v(n(1686)),d=v(n(1687)),h=v(n(1688)),g=v(n(1697)),m=v(n(589));function v(e){return e&&e.__esModule?e:{default:e}}var y=[l.default,c.default,o.default,r.default,i.default,a.default,s.default,u.default,f.default,p.default,d.default,h.default,g.default,m.default];t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(n(342)),r=u(n(265)),i=u(n(266)),a=u(n(267)),s=u(n(1682)),c=n(163);function u(e){return e&&e.__esModule?e:{default:e}}function l(){return{prefix:"foxit_pdf_ui_i18next_",expirationTime:6048e6,versions:s.default}}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/locales",t=l();return t.loadPath=e+"/{{lng}}/{{ns}}.json?v="+s.default.hash,t.crossDomain=!0,t}t.default=function(e){var t=o.default.createInstance();return t.use(r.default).init(Object.assign({},{load:"currentOnly",fallbackLng:"en-US",backend:{backends:[i.default,c.UIXAddonI18nBackend,a.default],backendOptions:[l(),{},f(e.absolutePath)]},defaultNS:"ui_",ns:"ui_"},e)),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={hash:"d4d6a0f27df21b9bf4f5ced19bd54d13","en-US":"5f6861989b12a67ce03176677249f957","ja-JP":"c1d8b910f3866aadf15b8c192305000a","zh-CN":"4c250453ba35041cf0c9b6124850c4a0","zh-TW":"c0c8c6983f676027a9e9c3863f0fb1df"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=s(n(21)),i=n(76),a=n(588);s(n(163));function s(e){return e&&e.__esModule?e:{default:e}}var c={},u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.loadAddonsPromises=[],this.urlPromises=c}return e.prototype.resolveFilePath=function(e,t){return e.match(/^https?:\/\/.+/)?(0,i.resolvePath)(e,t):(0,i.mergePath)(e,t)},e.prototype.resolveAddonAbsPath=function(e){return this.resolveFilePath(e,"addon.info.json")},e.prototype.loadModule=function(e,t){var n=this;switch(void 0===e?"undefined":o(e)){case"string":var r=this.resolveAddonAbsPath(e);if(this.loadAddonsPromises[r])return this.loadAddonsPromises[r];var a=this.loadJSON(r).then((function(o){var r=o.depends,a=void 0;return a=r&&r.length>0?r.map((function(o){var r=/^((\.\.\/)+)(.*)/.exec(e),a="",s=e;r&&(a=r[1],s=r[3]);var c=a+(0,i.resolvePath)(s,o);return n.loadModule(c,t)})):[],Promise.all(a).then((function(t){return n.loadFromaddonInfo(e,o).then((function(e){return e.depends=t,e.$hasInited||(e.init(),e.$hasInited=!0),e}))}))}));return this.loadAddonsPromises[r]=a,a;case"function":var s=[];Array.isArray(e.depends)&&(s=s.concat(e.depends));var c=(0,i.resolvePath)(t,"uix-addons",e.getName());return this.loadAddonsPromises[c]=this.loadAddonsPromises[c]||Promise.all(s.map((function(e){return n.loadModule(e,t)}))).then((function(){return e.getLoader().loadAddonInfo(c).then((function(n){return e.load(t,n)})).then((function(t){return e.$hasInited||(e.init(),e.$hasInited=!0),e}))}));default:throw new Error("Incorrect UIExtension addon: "+e)}},e.prototype.loadFromaddonInfo=function(e,t){var n=this,o=t.css,r=(t.i18n,t.scripts),i=t.library;if("function"==typeof window[i])return Promise.resolve(window[i]);Array.isArray(o)&&o.forEach((function(t){n.loadCSS(n.resolveFilePath(e,t))}));var a=Promise.resolve();return Array.isArray(r)&&(a=r.reduce((function(e,t){return e.then((function(e){return n.loadScript(t)}))}),a)),(a=a.then((function(t){return n.loadScript(n.resolveFilePath(e,"index.js"))}))).then((function(n){var o=window[i];if("function"!=typeof o)throw new Error("Cannot access the global variable "+i+"! Please ensure that this add-on's module has been exported correct!");return o.load(e,t).then((function(e){return o}))}))},e.prototype.loadCSS=function(e){if(this.urlPromises[e])return this.urlPromises[e];this.urlPromises[e]=Promise.resolve();var t=document.createElement("link");t.rel="stylesheet",t.type="text/css",t.href=e,document.head.appendChild(t)},e.prototype.loadScript=function(e){if(this.urlPromises[e])return this.urlPromises[e];var t=(0,r.default)();this.urlPromises[e]=t.promise;var n=document.createElement("script");return n.type="application/javascript",n.onload=function(){return t.resolve()},n.onerror=function(e){return t.reject(e)},n.src=e,document.head.appendChild(n),t.promise},e.prototype.loadJSON=function(e){return this.loadText(e,"json")},e.prototype.loadText=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";if(this.urlPromises[e])return this.urlPromises[e];var n=(0,a.getFromRemote)(e,t);return this.urlPromises[e]=n,n},e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=f(n(66)),r=f(n(123)),i=f(n(534)),a=f(n(533)),s=f(n(155)),c=f(n(328)),u=f(n(586)),l=f(n(587));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var g=function(e){function t(){return p(this,t),d(this,e.apply(this,arguments))}return h(t,e),t.depends=function(){return[r.default]},t.prototype.construct=function(e,t,n){n.getViewModeManager().register(i.default),n.getViewModeManager().register(a.default),n.getViewModeManager().register(s.default),n.getViewModeManager().register(c.default),n.getViewModeManager().register(u.default),n.getViewModeManager().register(l.default)},t}(o.default);t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(66);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.prototype.construct=function(e,t){var n=t.customs;e.customShowReplyDialogHandler=n.annotationDoubleTipHandler,e.customDefaultExportCommentsFormat=n.defaultExportCommentsFormat,e.customScalingValues=n.scalingValues||[],e.customs=n},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(66)),r=s(n(123)),i=n(24),a=n(8);function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var f=function(e){function t(){return c(this,t),u(this,e.apply(this,arguments))}return l(t,e),t.depends=function(){return[r.default]},t.prototype.link=function(e){var t=this.pdfUI;this.addDestroyHook(t.addKeyboardShortcutEventListener(a.KEY_MAP_EXIT_TO_HAND_STATE,(function(t){e.getStateHandlerManager().switchTo(i.STATE_HANDLER_HAND)})))},t}(o.default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(66)),r=i(n(123));n(24),n(8);function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=function(e){function t(){return a(this,t),s(this,e.apply(this,arguments))}return c(t,e),t.depends=function(){return[r.default]},t.prototype.link=function(e){var t=this.pdfUI,n=t.colorSpectrum=t.parseTemplate("<color-spectrum name='foxit-color-spectrum'></color-spectrum>");n.localize(),n.mounted(),t.getRootComponent().then((function(e){return e.append(n)})),this.addDestroyHook((function(){n.destroy(),t.colorSpectrum=null}))},t}(o.default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=c(n(66)),r=c(n(1689)),i=n(5),a=c(n(123)),s=c(n(1695));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var p=function(e){function t(){return u(this,t),l(this,e.apply(this,arguments))}return f(t,e),t.depends=function(){return[a.default]},t.prototype.construct=function(e,t,n){var o=this;this.pdfui=e;var a=n.eventEmitter;e.signatureClick=function(n){var r=t&&t.customs&&t.customs.disableSignature?t.customs.disableSignature:void 0;if(r)"function"==typeof r&&r();else{o.annot=n;var i=n.getField();if(i.isSigned()){if(!e.verifyHandler)throw new Error("No signature verify Handler");o.verifySignature(e,i)}else{if(e.signatureHandlers.length<1)throw new Error("No signature sign Handler");e.signPropertyDialog.show(n,(function(t){e.getPDFDocRender().then((function(e){var t=n.getAdditionalAction(8);t&&e.formRender.execAction("Field",t,null,i,8)})),o.signDoc(t)}))}}},a.on(i.Events.signatureFieldMouseLButtonUp,e.signatureClick),a.on(i.Events.renderFileSuccess,(function(t){e.signPropertyDialog||(e.signPropertyDialog=new r.default(e),e.signVerifiedDialog=new s.default(e))})),a.on(i.Events.willCloseDocument,(function(t){e.signPropertyDialog.dialog.hide(),e.signVerifiedDialog.dialog.hide()})),e.signatureHandlers=[],this.addDestroyHook((function(){e.signPropertyDialog&&e.signPropertyDialog.destroy(),e.signVerifiedDialog&&e.signVerifiedDialog.destroy()}))},t.prototype.signDoc=function(e){var t="",n=this.pdfui;n.getCurrentPDFDoc().then((function(n){(t=n.getFileName()||"").length<1&&(t="untitled.pdf");var o=JSON.parse(JSON.stringify(e));return n.sign(o,e.sign)})).then((function(e){var o=n.customs,r=o.autoDownloadAfterSign,i=o.getSignedDocument;return(void 0===r||r)&&saveAs(e,t.replace(".pdf","_signed.pdf")),"function"==typeof i&&i(e),n.openPDFByFile(e,{fileName:t})}))},t.prototype.verifySignature=function(e,t){var n=this,o=t.verifiedResult,r=Promise.resolve(o);o||(r=e.getCurrentPDFDoc().then((function(n){return n.verifySignature(t,(function(t,n,o,r){return e.verifyHandler(t,n,o).then((function(e){return e=+e,r&&(1024&e?(e&=-1409,e|=134217728):(e&=-1409,e|=268435456)),e}))}))}))),r.then((function(o){t.verifiedResult=o,e.signVerifiedDialog.show(n.annot)}))},t}(o.default);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(1690)),r=n(592),i=s(n(1692));n(1694);var a=s(n(4));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));i.PDFUI=n;var s=(0,o.default)(),c=i.dialog=n.parseTemplate(s);c.localize(),c.mounted();var u=i.$preview=(0,a.default)(c.element).find(".fv__preview-img");return(0,r.generaterUI)(u),i.bindEvent(),n.addViewerEventListener("will-close-document",(function(e){c.hide()})),i}return c(t,e),t.prototype.show=function(e,t){var n=this,o=this.setting=Object.assign({},this.PDFUI.signatureHandlers[0]);o.signers=this.PDFUI.signatureHandlers.map((function(e){return e.signer})),o.fieldName=e.getField().getName(),o.hashAlgorithm=0,this.updateDialog(o,e.getField().form),delete o.signers,this.PDFUI.getRootComponent().then((function(e){n.dialog.open(e.element);var t=n.$preview;t.find(".fv_sig-image").attr("src",o.image||""),(0,r.updatePreviewUI)(t,o)})),this.callback=t},t.prototype.updateDialog=function(e,t){var n=(0,a.default)(this.dialog.element),o=e.signers.reduce((function(e,t,n){return e+='<option value="'+n+'">'+t+"</option>"}),"");n.find("#signers").html(o),["location","reason","distinguishName"].forEach((function(t){n.find("#"+t).val(e[t])}))},t.prototype.bindEvent=function(){var e=this,t=(0,a.default)(this.dialog.element),n=t.find(".fv__ap-edit");n.on("click",(function(t){(0,i.default)(e.PDFUI,e.$preview,e.setting)}));var o=t.find(".fv__button-ok");o.on("click",(function(t){e.callback(e.setting),e.dialog.hide()}));var s=t.find(".fv__property-container input");s.on("change",(function(t){var n=t.target,o=n.value,i=n.id;e.setting[i]=o,(0,r.updatePreviewUI)(e.$preview,i,o)}));var c=t.find(".fv__button-cancle");c.on("click",(function(t){e.dialog.hide()}));var u=t.find("#permissions");u.on("change",(function(t){e.setting.docPermission=t.target.value}));var l=t.find("#signers");l.on("change",(function(n){var o=Object.assign({},e.setting,e.PDFUI.signatureHandlers[n.target.value]);["location","reason","distinguishName"].forEach((function(e){t.find("#"+e).val(o[e])}));var i=e.$preview;i.find(".fv_sig-image").attr("src",o.image||""),(0,r.updatePreviewUI)(i,o),e.setting=o})),this.addDestroyHook((function(){n.off("click"),o.off("click"),s.off("change"),c.off("click"),u.off("change"),l.off("change")}))},t}(s(n(13)).default);t.default=u},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";var t="",n=(e=e||{}).dialogName,r=o.$escape,i=o.$each,a=e.signers,s=(e.value,e.index,e.location),c=e.reason,u=e.distinguishName;return t+="\r\n<layer name='",t+=r(n="signature-properties-dialog"),t+="' class=\"center fv__ui-",t+=r(n),t+='" >\r\n    <layer-header class="fv__ui-signature-properties-header" title="certifySign.title" @draggable="{type: \'parent\'}"></layer-header>\r\n    <div class="fv__ui-',t+=r(n),t+='-container">\r\n        <div class="fv__signature-input">\r\n            <span data-i18n="certifySign.sign-as"></span>\r\n            <select class="fv__signature-signers" id="signers">\r\n            ',i(a,(function(e,n){t+='\r\n            <option value="',t+=r(n),t+='">',t+=r(e),t+="</option>\r\n            "})),t+='\r\n            </select>\r\n        </div>\r\n\r\n        <div class="fv__property-container">\r\n            <div class="fv__property-title">certifySign.property-title</div>\r\n            <div class="fv__signature-input">\r\n                <span data-i18n="certifySign.location"></span>\r\n                <input type="text" id="location" value="',t+=r(s),t+='" />\r\n            </div>\r\n            <div class="fv__signature-input">\r\n                <span data-i18n="certifySign.reason"></span>\r\n                <input type="text" id="reason"  value="',t+=r(c),t+='" />\r\n            </div>\r\n            <div class="fv__signature-input">\r\n                <span data-i18n="certifySign.DN"></span>\r\n                <input type="text" id="distinguishName"  value="',t+=r(u),t+='" />\r\n            </div>\r\n        </div>\r\n        <div class="fv__signature-permission">\r\n            <div data-i18n="certifySign.permission"></div>\r\n            <select id="permissions">\r\n                <option value="0" data-i18n="certifySign.noSpecified"></option>\r\n                <option value="1" data-i18n="certifySign.permNone"></option>\r\n                <option value="2" data-i18n="certifySign.permFillin"></option>\r\n                <option value="3" data-i18n="certifySign.permAnnot"></option>\r\n            </select>\r\n        </div>\r\n\r\n        <div class="fv__signature-preview">\r\n            <div class="fv__ap-title">\r\n            <span>certifySign.appearance</span>\r\n            <span class="fv__ap-edit"></span>\r\n            </div>\r\n            <div class="fv__preview-img">\r\n            </div>\r\n        </div>\r\n\r\n        <div class="fv__signature-footer">\r\n            <div class="fv__ui-dialog-cancel-button fv__button-cancle" data-i18n="common-dialogs.cancel"></div>\r\n            <div class="fv__ui-dialog-ok-button fv__button-ok"  data-i18n="common-dialogs.ok"></div>\r\n        </div>\r\n    </div>\r\n</layer>'}},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";var t="",n=(e=e||{}).name,r=e.image,i=o.$escape,a=e.signer,s=e.distinguishName,c=e.reason,u=e.location,l=e.date,f=e.version;return n=r?"display:none":"",t+='\r\n<div class="fv_sig-preview-left fv_sig-preview-signer">\r\n    <img draggable="false" class="fv_sig-image" style="display:none" src="',t+=i(r),t+='"></img>\r\n    <div class="fv_sig-name-left changable" style="',t+=i(n),t+='">',t+=i(a),t+='</div>\r\n</div>\r\n<div class="fv_sig-preview-tag"></div>\r\n<div class="fv_sig-preview-right">\r\n    <div class="fv_sig-preview-signer">\r\n    <span class="fv_sig-preview-label" data-i18n="certifySign.signed-by"></span><span class="changable">',t+=i(a),t+='</span>\r\n    </div>\r\n    <div class="fv_sig-preview-distinguishName">\r\n    <span class="fv_sig-preview-label" data-i18n="certifySign.DN"></span><span class="changable">',t+=i(s),t+='</span>\r\n    </div>\r\n    <div class="fv_sig-preview-reason">\r\n    <span class="fv_sig-preview-label" data-i18n="certifySign.reason"></span><span class="changable">',t+=i(c),t+='</span>\r\n    </div>\r\n    <div class="fv_sig-preview-location">\r\n    <span class="fv_sig-preview-label" data-i18n="certifySign.location"></span><span class="changable">',t+=i(u),t+='</span>\r\n    </div>\r\n    <div class="fv_sig-preview-date">\r\n    <span class="fv_sig-preview-label" data-i18n="certifySign.date"></span><span class="changable">',t+=i(l),t+='</span>\r\n    </div>\r\n    \x3c!--\r\n    <div class="fv_sig-preview-version">\r\n    <span class="fv_sig-preview-label" data-i18n="certifySign.version"></span><span>',t+=i(f),t+="</span>\r\n    </div>\r\n    --\x3e\r\n</div>"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(1693)),r=n(592),i=s(n(4)),a=n(22);function s(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.PDFUI=t;var n=(0,o.default)(),r=this.dialog=t.parseTemplate(n);r.localize(),r.mounted(),t.addViewerEventListener("will-close-document",(function(e){r.hide()})),this.$preview=(0,i.default)(this.dialog.element).find(".fv__preview-img"),this.bindEvent()}return e.prototype.show=function(e){var t=this;this.setting=e,this.PDFUI.getRootComponent().then((function(n){t.dialog.open(n.element),(0,r.generaterUI)(t.$preview,e,!0),(0,r.updatePreviewUI)(t.$preview,e),t.dialog.localize(),t.updateDialog(e)}))},e.prototype.hide=function(){this.dialog.hide()},e.prototype.bindEvent=function(){var e=this,t=(0,i.default)(this.dialog.element);t.find(".fv__signature-labels").on("change","input",(function(t){var n=e.setting,o=t.target.id,i=".fv_sig-preview-right ";switch(o){case"fv-sign-signer":n.flag^=a.Signature_Ap_Flags.showSigner;break;case"fv-sign-location":n.flag^=a.Signature_Ap_Flags.showLocation;break;case"fv-sign-distinguishName":n.flag^=a.Signature_Ap_Flags.showDistinguishName;break;case"fv-sign-tag":n.flag^=a.Signature_Ap_Flags.showTagImage,i="";break;case"fv-sign-date":n.flag^=a.Signature_Ap_Flags.showDate;break;case"fv-sign-reason":n.flag^=a.Signature_Ap_Flags.showReason;break;case"fv-sign-version":break;case"fv-sign-label":n.flag^=a.Signature_Ap_Flags.showLabel}var s=i+o.replace("fv-sign",".fv_sig-preview");e.$preview.find(s).toggle(),e.$clonedPreview.find(s).toggle(),(0,r.toggleLeftRightPannel)(e.$preview,n.flag),(0,r.toggleLeftRightPannel)(e.$clonedPreview,n.flag)})),t.find(".fv__signature-image").on("change","input",(function(t){e.updatePreviewLeft(t.target.value);var n=e.setting.flag;(0,r.updatePreviewLeft)(e.$preview,n),(0,r.updatePreviewLeft)(e.$clonedPreview,n)})),t.find(".fv_sig-open-inksign").on("click",(function(n){t.find("#drawingSig").click(),e.PDFUI.getComponentByName("create-signature").then((function(n){n.controller.setOKCallback((function(o){o&&(e.setting.image=o,t.find(".fv_sig-image").attr("src",o).css("display","block"),e.$clonedPreview.find(".fv_sig-image").attr("src",o).css("display","block"),n.controller.setOKCallback()),(0,i.default)(n.element).find(".fv__ui-sign-dialog-save").show()})),(0,i.default)(n.element).find(".fv__ui-sign-dialog-save").hide(),n.open(document.body)}))})),t.find(".fv_ap-button").on("click",(function(t){e.hide()}))},e.prototype.setPreview=function(e){this.$clonedPreview=e},e.prototype.updatePreviewLeft=function(e){var t=this.setting.flag;switch(e){case"noImage":t&=127;break;case"drawingSig":t|=128,t&=255;break;case"sigName":t&=383,t|=256}this.setting.flag=t},e.prototype.updateDialog=function(e){var t=e.flag,n=(0,i.default)(this.dialog.element);n.find(".fv_sig-image").attr("src",e.image||"");var o=n.find("#fv-sign-tag");t&a.Signature_Ap_Flags.showTagImage?o[0].checked=!0:o[0].checked=!1;var r=!1;o=n.find("#drawingSig"),t&a.Signature_Ap_Flags.showBitmap?r=o[0].checked=!0:o[0].checked=!1,o=n.find("#sigName"),t&a.Signature_Ap_Flags.showText?r=o[0].checked=!0:o[0].checked=!1,(o=n.find("#noImage"))[0].checked=!r,["signer","distinguishName","reason","label","location","date"].forEach((function(e){var o="show"+e.replace(e[0],e[0].toUpperCase()),r=n.find("#fv-sign-"+e);t&a.Signature_Ap_Flags[o]?r[0].checked=!0:r[0].checked=!1}))},e}();t.default=function(e,t,n){var o=e.SigAPDialog;return o||(o=e.SigAPDialog=new c(e)),o.setPreview(t),o.show(n)}},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";var t="",n=((e=e||{}).dialogName,o.$escape);return t+="\r\n<layer name='",t+=n("signap-dialog"),t+="' class=\"center fv__ui-",t+=n("signap-dialog"),t+='">\r\n    <layer-header class="fv__ui-signature-properties-header" title="certifySign.ap-title" @draggable="{type: \'parent\'}"></layer-header>\r\n    <div class="fv__ui-',t+=n("signap-dialog"),t+='-container">\r\n        <div class="fv__signature-preview">\r\n            <span>dialog.signDialog.preview</span>\r\n            <div class="fv__preview-img"></div>\r\n        </div>\r\n\r\n        <div class="fv__signature-labels-title">certifySign.image-setting</div>\r\n        <div class="fv__signature-image">\r\n            <div class="fv__signature-input">\r\n                <input id="noImage" value="noImage" type="radio" name="image_type"/>\r\n                <label data-i18n="certifySign.no-left"  for="noImage"></label>\r\n            </div>\r\n            <div class="fv__signature-input">\r\n                <input id="drawingSig" value="drawingSig" type="radio" name="image_type"/>\r\n                <label data-i18n="certifySign.draw" for="drawingSig"></label>\r\n                <div class="fv__ui-dialog-cancel-button fv_sig-open-inksign" data-i18n="dialog.signDialog.drawSignature"></div>\r\n            </div>\r\n            <div class="fv__signature-input">\r\n                <input id="sigName" value="sigName" type="radio" checked="1" name="image_type"/>\r\n                <label data-i18n="certifySign.name" for="sigName"></label>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="fv__signature-labels-title">certifySign.text-setting</div>\r\n        <div class="fv__signature-labels">\r\n            <div class="fv__signature-input">\r\n                <input id="fv-sign-signer" type="checkbox" checked=\'1\'/>\r\n                <label data-i18n="certifySign.owner" for="fv-sign-signer"></label>\r\n            </div>\r\n            <div class="fv__signature-input">\r\n                <input id="fv-sign-location" type="checkbox" checked=\'1\'/>\r\n                <label data-i18n="certifySign.location" for="fv-sign-location"></label>\r\n            </div>\r\n            <div class="fv__signature-input">\r\n                <input id="fv-sign-distinguishName" type="checkbox" checked=\'1\'/>\r\n                <label data-i18n="certifySign.DN" for="fv-sign-distinguishName"></label>\r\n            </div>\r\n            <div class="fv__signature-input">\r\n                <input id="fv-sign-tag" type="checkbox" checked=\'1\'/>\r\n                <label data-i18n="certifySign.tag" for="fv-sign-tag"></label>\r\n            </div>\r\n            <div class="fv__signature-input">\r\n                <input id="fv-sign-date" type="checkbox" checked=\'1\'/>\r\n                <label data-i18n="certifySign.date" for="fv-sign-date"></label>\r\n            </div>\r\n            <div class="fv__signature-input">\r\n                <input id="fv-sign-reason" type="checkbox" checked=\'1\'/>\r\n                <label data-i18n="certifySign.reason" for="fv-sign-reason"></label>\r\n            </div>\r\n            \x3c!---\r\n            <div class="fv__signature-input">\r\n                <input id="fv-sign-version" type="checkbox" checked=\'1\'/>\r\n                <label data-i18n="certifySign.version" for="fv-sign-version"></label>\r\n            </div>\r\n            --\x3e\r\n            <div class="fv__signature-input">\r\n                <input id="fv-sign-label" type="checkbox" checked=\'1\'/>\r\n                <label data-i18n="certifySign.label" for="fv-sign-label"></label>\r\n            </div>\r\n        </div>\r\n        \r\n\r\n        <div class="fv__signature-footer">\r\n            <div class="fv__ui-dialog-cancel-button fv__button-cancle fv_ap-button" data-i18n="common-dialogs.cancel"></div>\r\n            <div class="fv__ui-dialog-ok-button fv__button-ok fv_ap-button"  data-i18n="common-dialogs.ok"></div>\r\n        </div>\r\n    </div>\r\n</layer>'}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(1696)),r=a(n(4)),i=a(n(13));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c={0:"verifyUnknown",128:"verifyChange",256:"verifyIncredible",1024:"verifyNoChange",134217728:"changeLegal",268435456:"changeIllegal"},u={0:"issueUnknown",4096:"issueValid",8192:"issueUnknown",16384:"issueRevoke",32768:"issueExpire",65536:"issueUncheck",131072:"issueCurrent"},l={0:"timestampUnknown",262144:"timestampNone",524288:"timestampDoc",1048576:"timestampValid",2097152:"timestampInvalid",4194304:"timestampExpire",8388608:"timestampIssueUnknown",16777216:"timestampIssueValid",33554432:"timestampTimeBefore"},f=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));i.PDFUI=n;var a=(0,o.default)(),s=i.dialog=n.parseTemplate(a);s.localize(),s.mounted();var c=(0,r.default)(i.dialog.element),u=c.find(".fv__button-showProperty");u.on("click",(function(e){i.dialog.hide(),i.PDFUI.showSignedPropertyDialog(i.annot)}));var l=c.find(".fv__button-cancle");return l.on("click",(function(e){i.dialog.hide()})),i.addDestroyHook((function(){u.off("click"),l.off("click")})),i}return s(t,e),t.prototype.show=function(e){var t=this;this.annot=e;var n=e.getField().verifiedResult;this.PDFUI.getRootComponent().then((function(e){t.dialog.open(e.element);var o=c[402654592&n]||c[0],i=u[258048&n]||c[0],a=l[66846720&n]||c[0],s=(0,r.default)(t.dialog.element);s.find("#changedState").attr("data-i18n","verifySign."+o),s.find("#issuerState").attr("data-i18n","verifySign."+i),s.find("#timestampState").attr("data-i18n","verifySign."+a),t.dialog.localize()}))},t}(i.default);t.default=f},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";var t="",n=((e=e||{}).dialogName,o.$escape);return t+="\r\n<layer name='",t+=n("signVerified-dialog"),t+="' class=\"center fv__ui-",t+=n("signVerified-dialog"),t+="\" @draggable=\"{type: 'closest', target:'",t+=n("signVerified-dialog"),t+='\', overflow: \'ignore\'}">\r\n    <layer-header class="fv__ui-signature-properties-header" title="verifySign.title" @draggable="{type: \'parent\'}"></layer-header>\r\n    <div class="fv__ui-verified-status-container">\r\n        <div id="changedState"></div>\r\n        <div id="issuerState"></div>\r\n        <div id="timestampState"></div>\r\n    </div>\r\n\r\n    <div class="fv__signature-footer">\r\n        <div class="fv__ui-dialog-cancel-button fv__button-showProperty"  data-i18n="certifySign.showSignProperty"></div>\r\n        <div class="fv__ui-dialog-cancel-button fv__button-cancle" data-i18n="common-dialogs.cancel"></div>\r\n    </div>\r\n</layer>'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(15),r=s(n(66)),i=s(n(10)),a=s(n(123));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var p=function(e){function t(){return u(this,t),l(this,e.apply(this,arguments))}return f(t,e),t.depends=function(){return[a.default]},t.prototype.link=function(e){var t=this;e.getCollaboration().then((function(n){var r;n&&t.pdfUI.addUIEventListener((c(r={},i.default.addReplySuccess,(function(t,n){e.collaborate(o.COLLABORATION_ACTION.ADD_REPLY,{pageIndex:n.page.getIndex(),annotId:t.getId(),reply:n.exportToJSON()})})),c(r,i.default.addReviewStateSuccess,(function(t,n){e.collaborate(o.COLLABORATION_ACTION.ADD_REVIEW_STATE,{pageIndex:t.page.getIndex(),annotId:t.getId(),stateAnnotJSON:n.exportToJSON()})})),c(r,i.default.addMarkedStateSuccess,(function(t,n){e.collaborate(o.COLLABORATION_ACTION.ADD_MARKED_STATE,{pageIndex:t.page.getIndex(),annotId:t.getId(),stateAnnotJSON:n.exportToJSON()})})),c(r,i.default.addContentSuccess,(function(t,n,r){e.collaborate(o.COLLABORATION_ACTION.UPDATE_ANNOT_CONTENT,{pageIndex:t.page.getIndex(),annotId:t.getId(),content:r})})),r))}))},t}(r.default);t.default=p},function(e,t,n){n(2);e.exports=function(e){"use strict";e=e||{};return'<webpdf>\r\n    <toolbar name="toolbar" class="fv__ui-toolbar-scrollable">\r\n        <div class="fv__ui-tab-nav" name="toolbar-tabs">\r\n            <gtab name="home-tab" group="toolbar-tab" body="fv--home-tab-paddle" text="toolbar.tabs.home.title" active @portfolio.deactive></gtab>\r\n            <gtab name="comment-tab" group="toolbar-tab" body="fv--comment-tab-paddle" text="toolbar.tabs.comment.title" @portfolio.unsupport></gtab>\r\n            <gtab name="view-tab" group="toolbar-tab" body="fv--view-tab-paddle" text="toolbar.tabs.view.title"></gtab>\r\n            <gtab name="edit-tab" group="toolbar-tab" body="fv--edit-tab-paddle" text="toolbar.tabs.edit.title" @hide-on-sr @device="desktop" @collab-unsupported @portfolio.unsupport></gtab>\r\n            <gtab name="form-tab" group="toolbar-tab" body="fv--form-tab-paddle" text="toolbar.tabs.form.title" @hide-on-sr @device="desktop" @collab-unsupported @portfolio.unsupport></gtab>\r\n            <gtab name="protect-tab" group="toolbar-tab" body="fv--protect-tab-paddle" text="toolbar.tabs.protect.title" @hide-on-sr @collab-unsupported @portfolio.unsupport></gtab>\r\n            <gtab name="portfolio-tab" group="toolbar-tab" body="fv--portfolio-tab-body" text="toolbar.tabs.portfolio.title" @collab-unsupported @hide-on-sr @portfolio.show @portfolio.active></gtab>\r\n        </div>\r\n        <div class="fv__ui-toolbar-tab-bodies" name="toolbar-tab-bodies">\r\n            <paddle name="fv--view-tab-paddle" @portfolio.unsupport>\r\n                <group-list name="view-toolbar-group-list">\r\n                    <group name="home-tab-group-hand" retain-count="3">\r\n                        <hand-button></hand-button>\r\n                        <selection-dropdown></selection-dropdown>\r\n                        <zoom-dropdown></zoom-dropdown>\r\n                    </group>\r\n                    <group name="view-tab-group-assistants" @hide-on-sr>\r\n                        <marquee-tool-button></marquee-tool-button>\r\n                        <loupe-tool-button></loupe-tool-button>\r\n                    </group>\r\n                    <group name="view-tab-group-read-aloud" @hide-on-sr @require-modules="read-aloud" retain-count="4">\r\n                        <read-aloud:read-aloud-dropdown></read-aloud:read-aloud-dropdown>\r\n                        <read-aloud:rate-regulator></read-aloud:rate-regulator>\r\n                        <read-aloud:volume-regulator></read-aloud:volume-regulator>\r\n                        <read-aloud:pause-resume-read-aloud></read-aloud:pause-resume-read-aloud>\r\n                    </group>\r\n                </group-list>\r\n            </paddle>\r\n            <paddle exclude-devices="tablet" name="fv--home-tab-paddle" @portfolio.unsupport>\r\n                <group-list name="home-toolbar-group-list">\r\n                    <group name="home-tab-group-hand" retain-count="3">\r\n                        <hand-button></hand-button>\r\n                        <selection-dropdown></selection-dropdown>\r\n                        <snapshot-button @hide-on-sr></snapshot-button>\r\n                    </group>\r\n                    <group name="home-tab-group-change-color" @hide-on-sr>\r\n                        <change-color-dropdown></change-color-dropdown>\r\n                    </group>\r\n                    <group name="home-tab-group-io" retain-count="1" shrink-title="toolbar.more.document.title">\r\n                        <open-file-dropdown></open-file-dropdown>\r\n                        <download-file-button></download-file-button>\r\n                        <print:print-button></print:print-button>\r\n                    </group>\r\n                    <group name="home-tab-group-nav" retain-count="3">\r\n                        <goto-first-page-button></goto-first-page-button>\r\n                        <goto-prev-page-button></goto-prev-page-button>\r\n                        <goto-page-input></goto-page-input>\r\n                        <goto-next-page-button></goto-next-page-button>\r\n                        <goto-last-page-button></goto-last-page-button>\r\n                    </group>\r\n                    <group name="home-tab-group-zoom">\r\n                        <zoom-out-button></zoom-out-button>\r\n                        <zoom-in-button></zoom-in-button>\r\n                        <editable-zoom-dropdown></editable-zoom-dropdown>\r\n                    </group>\r\n                    <group name="home-tab-group-page" retain-count="1">\r\n                        <single-page-button></single-page-button>\r\n                        <continuous-page-button></continuous-page-button>\r\n                        <facing-page-button></facing-page-button>\r\n                        <continuous-facing-page-button></continuous-facing-page-button>\r\n                        <h-continuous:h-continuous-button></h-continuous:h-continuous-button>\r\n                        \x3c!--<h-single:h-single-button></h-single:h-single-button>--\x3e\r\n                        \x3c!--<h-facing:h-facing-button></h-facing:h-facing-button>--\x3e\r\n                    </group>\r\n                    <group name="file-property" @require-modules="fpmodule">\r\n                        <fpmodule:file-property-button></fpmodule:file-property-button>\r\n                    </group>\r\n                </group-list>\r\n            </paddle>\r\n            <paddle exclude-devices="tablet" name="fv--comment-tab-paddle" @portfolio.unsupport>\r\n                <group-list name="comment-toolbar-group-list">\r\n                    <group name="comment-tab-group-hand" retain-count="3">\r\n                        <hand-button></hand-button>\r\n                        <selection-dropdown></selection-dropdown>\r\n                        <zoom-dropdown></zoom-dropdown>\r\n                    </group>\r\n                    <group name="comment-tab-group-note" retain-count="3">\r\n                        <create-note-button></create-note-button>                        \r\n                    </group>\r\n                    <group name="comment-tab-group-mark">\r\n                        <create-text-highlight-button></create-text-highlight-button>\r\n                        <create-strikeout-button></create-strikeout-button>\r\n                        <create-underline-button></create-underline-button>\r\n                        <create-squiggly-button></create-squiggly-button>\r\n                        <create-replace-button></create-replace-button>\r\n                        <create-caret-button></create-caret-button>\r\n                    </group>\r\n                    <group name="comment-tab-group-text">                      \r\n                        <create-typewriter-button></create-typewriter-button>\r\n                        <create-callout-button></create-callout-button>\r\n                        <create-textbox-button></create-textbox-button>\r\n                    </group>\r\n                    <group name="comment-tab-group-drawing" retain-count="2">\r\n                        <create-drawings-dropdown></create-drawings-dropdown>                       \r\n                        <create-area-highlight-button></create-area-highlight-button>\r\n                    </group>\r\n                    <group name="comment-tab-group-pencil" retain-count="2">\r\n                        <create-pencil-button></create-pencil-button>\r\n                        <eraser-button></eraser-button>\r\n                    </group>\r\n                    <group name="comment-tab-group-stamp">\r\n                        <stamp-dropdown></stamp-dropdown>\r\n                    </group>\r\n                    <group name="comment-tab-group-measurement">\r\n                        <create-measure-dropdown></create-measure-dropdown>\r\n                    </group>\r\n                    <group name="comment-tab-group-media" @grp-more-hide-on-sr>\r\n                        <create-attachment-button></create-attachment-button>\r\n                        <create-image-button @hide-on-sr  @collab-unsupported></create-image-button>\r\n                        <create-link-button @hide-on-sr  @collab-unsupported></create-link-button>\r\n                        <multi-media:multi-media-button @async @hide-on-sr  @collab-unsupported></multi-media:multi-media-button>\r\n                    </group>\r\n                    <group name="comment-tab-group-inksign" visible=\'false\'></group>                    \r\n                    <group name="comment-tab-group-snap" @display-snap>\r\n                        <snap-end-point-btn tooltip-title="toolbar.snap.end-point" name="fv--snap-end-point-btn">toolbar.snap.end-point</snap-end-point-btn>\r\n                        <snap-mid-point-btn tooltip-title="toolbar.snap.mid-point" name="fv--snap-mid-point-btn">toolbar.snap.mid-point</snap-mid-point-btn>\r\n                        <snap-nearest-point-btn tooltip-title="toolbar.snap.nearest-point" name="fv--snap-nearest-point-btn">toolbar.snap.nearest-point</snap-nearest-point-btn>\r\n                        <snap-intersection-point-btn tooltip-title="toolbar.snap.intersection-point" name="fv--snap-intersection-point-btn">toolbar.snap.intesection-point</snap-intersection-point-btn>\r\n                    </group>\r\n                    <group name="comment-tab-group-other" visible=\'false\'></group>\r\n                </group-list>\r\n            </paddle>\r\n            <paddle exclude-devices="tablet" name="fv--edit-tab-paddle" @device="desktop" @portfolio.unsupport>\r\n                <group-list name="edit-toolbar-group-list">\r\n                    <group name="edit-tab-group-hand" retain-count="3">\r\n                        <hand-button></hand-button>\r\n                        <selection-dropdown></selection-dropdown>\r\n                        <zoom-dropdown></zoom-dropdown>\r\n                    </group>\r\n                    <group name="edit-tab-group-mode" retain-count="3">\r\n                        <edit-pageobjects:edit-all-objects-button @async></edit-pageobjects:edit-all-objects-button>\r\n                        <add-image-button></add-image-button>\r\n                        <edit-pageobjects:path-objects-dropdown @async></edit-pageobjects:path-objects-dropdown>\r\n                        \x3c!--<edit-image-button></edit-image-button>--\x3e\r\n                        <edit-text-object:add-text-button  @async></edit-text-object:add-text-button>\r\n                    </group>\r\n                    <group name="edit-tab-group-font" retain-count="5" @require-modules="edit-text-object">\r\n                        <edit-text-object:text-bold-style-button></edit-text-object:text-bold-style-button>\r\n                        <edit-text-object:text-italic-style-button></edit-text-object:text-italic-style-button>\r\n                        <edit-text-object:font-color-picker></edit-text-object:font-color-picker>\r\n                        <edit-text-object:font-style-dropdown></edit-text-object:font-style-dropdown>\r\n                    </group>\r\n                    <group name="edit-tab-group-layer" visible="false"></group>\r\n                    <group name="edit-tab-group-redact" visible="false"></group>\r\n                </group-list>\r\n            </paddle>\r\n            <paddle exclude-devices="tablet" name="fv--form-tab-paddle" @device="desktop" @portfolio.unsupport>\r\n                <group-list name="form-toolbar-group-list">\r\n                    <group name="form-tab-group-hand" retain-count="3">\r\n                        <hand-button></hand-button>\r\n                        <selection-dropdown></selection-dropdown>\r\n                        <zoom-dropdown></zoom-dropdown>\r\n                    </group>\r\n                    <group name="form-tab-group-assistants" @require-modules.oneOf="recognition-form,form-designer">\r\n                        <recognition-form:recognition-form-button></recognition-form:recognition-form-button>\r\n                        <form-designer:assistant-button name="fv--form-designer-assistant"></form-designer:assistant-button>\r\n                    </group>\r\n                    <group name="form-tab-group-fields" retain-count="2" @require-modules="form-designer">\r\n                        <form-designer:create-push-button></form-designer:create-push-button>\r\n                        <form-designer:create-check-box></form-designer:create-check-box>\r\n                        <form-designer:create-radio-button></form-designer:create-radio-button>\r\n                        <form-designer:create-combo-box></form-designer:create-combo-box>\r\n                        <form-designer:create-list-box></form-designer:create-list-box>            \r\n                        <form-designer:create-text></form-designer:create-text>\r\n                        <form-designer:create-sign></form-designer:create-sign>\r\n                        <form-designer:create-image></form-designer:create-image>\r\n                        <form-designer:create-date></form-designer:create-date>\r\n                    </group>\r\n                    <group name="form-tab-group-fields" retain-count="2" @require-modules.oneOf="form-designer,xfa-form-module,page-template">\r\n                        <page-template:page-template-button @async></page-template:page-template-button>\r\n                        <xfa-form-module:xfa-form-button @async></xfa-form-module:xfa-form-button>\r\n                        <form-designer:showCO @async></form-designer:showCO>\r\n                        <form-designer:add-tooltip @async></form-designer:add-tooltip>\r\n                        <form-designer:highlight-fields-checkbox @async></form-designer:highlight-fields-checkbox>\r\n                    </group>\r\n                    <group name="form-tab-group-import-export" retain-count="3" @require-modules.oneOf="form-designer,import-form-module,export-form-module,form-to-sheet-module">\r\n                        <form-designer:reset-form @async></form-designer:reset-form>\r\n                        <form-to-sheet-module:form-to-sheet-dropdown name="form-to-sheet" @async></form-to-sheet-module:form-to-sheet-dropdown>\r\n                        <import-form-module:import-form-button @async></import-form-module:import-form-button>\r\n                        <export-form-module:export-form-dropdown @async name="fv--export-form-dropdown"></export-form-module:export-form-dropdown>\r\n                        <form-designer:keep-tool-selected-checkbox @async></form-designer:keep-tool-selected-checkbox>\r\n                    </group>\r\n                </group-list>\r\n            </paddle>\r\n            <paddle exclude-devices="tablet" name="fv--protect-tab-paddle" @portfolio.unsupport>\r\n                <group-list name="protect-toolbar-group-list">\r\n                    <group name="protect-tab-group-hand" retain-count="4">\r\n                        <hand-button></hand-button>\r\n                        <selection-dropdown></selection-dropdown>\r\n                        <zoom-dropdown></zoom-dropdown>\r\n                    </group>\r\n                    <group name="protect-tab-group-sign" retain-count="4">\r\n                        <ink-sign-dropdown name="fv--ink-sign-dropdown"></ink-sign-dropdown>\r\n                    </group>\r\n                    <group name="password-protect-group" retain-count="2" @require-modules="password-protect">\r\n                        <password-protect:password-protect-button></password-protect:password-protect-button>\r\n                        <password-protect:remove-protect-button></password-protect:remove-protect-button>\r\n                    </group>\r\n                    <group name="redaction" functional-module="redaction" @license-validation @require-modules="redaction">\r\n                        <redaction:create-redactions-dropdown></redaction:create-redactions-dropdown>\r\n                        <redaction:apply-redactions-button></redaction:apply-redactions-button>\r\n                        <redaction:redaction-search-button></redaction:redaction-search-button>\r\n                    </group>\r\n                </group-list>\r\n            </paddle>\r\n            <paddle name="fv--portfolio-tab-body" @portfolio.support>\r\n                <group-list name="portfolio-toolbar-group-list" >\r\n                    <group name="portfolio-tab-group-layout-buttons" retain-count="5">\r\n                        <portfolio-block-layout-button></portfolio-block-layout-button>\r\n                        <portfolio-details-layout-button></portfolio-details-layout-button>\r\n                        <portfolio-cover-sheet-layout-button></portfolio-cover-sheet-layout-button>\r\n                        <portfolio-preview-side-dropdown name="fv--portfolio-preview-side-dropdown" >\r\n                            <portfolio-preview-right-side-button></portfolio-preview-right-side-button>\r\n                            <portfolio-preview-bottom-side-button></portfolio-preview-bottom-side-button>\r\n                            <portfolio-preview-off-button></portfolio-preview-off-button>\r\n                        </portfolio-preview-side-dropdown>\r\n                        <portfolio-default-layout-dropdown>\r\n                            <portfolio-default-original-layout-button></portfolio-default-original-layout-button>\r\n                            <portfolio-default-block-layout-button></portfolio-default-block-layout-button>\r\n                            <portfolio-default-details-layout-button></portfolio-default-details-layout-button>\r\n                            <portfolio-default-cover-sheet-layout-button></portfolio-default-cover-sheet-layout-button>\r\n                        </portfolio-default-layout-dropdown>\r\n                    </group>\r\n                </group-list>\r\n            </paddle>\r\n        </div>\r\n    </toolbar>\r\n    <div class="fv__ui-body">\r\n        <sidebar name="sidebar" @controller="sidebar:SidebarController" @portfolio-layout="cover">\r\n            <bookmark-sidebar-panel></bookmark-sidebar-panel>\r\n            <commentlist-sidebar-panel>\r\n                <slot for="header">\r\n                    <comment-list:toggle-commentlist-group-button></comment-list:toggle-commentlist-group-button>\r\n                    <dropdown separate="false" class="comment-list-dropdown" icon-class="fv__icon-toolbar-more">\r\n                        \x3c!-- <comment-list:expand-pages-button></comment-list:expand-pages-button>\r\n                        <comment-list:collapse-pages-button></comment-list:collapse-pages-button> --\x3e\r\n                        <comment-list:show-comment-button></comment-list:show-comment-button>\r\n                        <comment-list:hide-comment-button></comment-list:hide-comment-button>\r\n                        <comment-list:import-comment-button></comment-list:import-comment-button>\r\n                        <dropdown-item class="fv__ui-dropdown-container-item">\r\n                            <comment-list:export-comment-dropdown></comment-list:export-comment-dropdown>\r\n                        </dropdown-item>\r\n                        <dropdown-item class="fv__ui-dropdown-container-item">\r\n                            <comment-list:sort-comments-dropdown></comment-list:sort-comments-dropdown>\r\n                        </dropdown-item>\r\n                    </dropdown>\r\n                </slot>\r\n            </commentlist-sidebar-panel>\r\n            <thumbnail-sidebar-panel></thumbnail-sidebar-panel>\r\n            <layer-sidebar-panel @hide-on-sr></layer-sidebar-panel>\r\n            <search-sidebar-panel></search-sidebar-panel>\r\n            <field-sidebar-panel @require-modules="form-designer" @display-on-device="desktop" @collab-unsupported></field-sidebar-panel>\r\n            <attachment-sidebar-panel></attachment-sidebar-panel>\r\n        </sidebar>\r\n        <portfolio-container>\r\n            <portfolio-sidebar @portfolio-layout="portfolio,details">\r\n                <portfolio-sidebar-header>\r\n                    <portfolio-path></portfolio-path>\r\n                    <portfolio-toolbar>\r\n                        <portfolio-extract-selected-item-button></portfolio-extract-selected-item-button>\r\n                        <portfolio-show-node-properties-button></portfolio-show-node-properties-button>\r\n                    </portfolio-toolbar>\r\n                </portfolio-sidebar-header>\r\n                <portfolio-node-container>\r\n                    <div class="fv__ui-portfolio-node-tree" @controller="PortfolioNodeTreeController as tree">\r\n                        <portfolio-details-header @portfolio-layout="details" @sync.columns="tree.columns"></portfolio-details-header>\r\n                        <portfolio-node-list>\r\n                            <portfolio-node \r\n                                @foreach.cached = "fileNode in tree.fileNodes track by handle"\r\n                                @sync.display = "tree.display"\r\n                                @sync.data = "fileNode"\r\n                                @sync.columns="tree.columns"\r\n                                @contextmenu="fv--portfolio-file-item-contextmenu"\r\n                            ></portfolio-node>\r\n                        </portfolio-node-list>\r\n                    </div>\r\n                </portfolio-node-container>\r\n            </portfolio-sidebar>\r\n            <div name="fv--portfolio-previewer-container" class="fv__ui-portfolio-previewer-container">\r\n                \x3c!-- previewers --\x3e\r\n                <distance:ruler-container name="pdf-viewer-container-with-ruler" @portfolio-cover-sheet>\r\n                    <slot>\r\n                        <viewer @zoom-on-pinch @zoom-on-doubletap @zoom-on-wheel @touch-to-scroll></viewer>\r\n                    </slot>\r\n                </distance:ruler-container>\r\n                <portfolio-previewer-group @portfolio-layout="portfolio,details">\r\n                    <portfolio-unsupported-previewer></portfolio-unsupported-previewer>\r\n                    <portfolio-pdf-previewer></portfolio-pdf-previewer>\r\n                    <portfolio-video-previewer></portfolio-video-previewer>\r\n                    <portfolio-audio-previewer></portfolio-audio-previewer>\r\n                    <portfolio-image-previewer></portfolio-image-previewer>\r\n                    <portfolio-plain-text-previewer></portfolio-plain-text-previewer>\r\n                </portfolio-previewer-group>\r\n                <portfolio-loading-layer></portfolio-loading-layer>\r\n            </div>\r\n        </portfolio-container>\r\n    </div>\r\n    <template name="template-container">\r\n        <create-stamp-dialog></create-stamp-dialog>\r\n        <print:print-dialog></print:print-dialog>\r\n        <page-template:page-template-dialog></page-template:page-template-dialog>\r\n        <loupe-tool-dialog></loupe-tool-dialog>\r\n        <create-ink-sign-dialog></create-ink-sign-dialog>\r\n        <distance:measurement-popup></distance:measurement-popup>\r\n        <fpmodule:file-property-dialog @async></fpmodule:file-property-dialog>\r\n        <redaction:redaction-page-dialog @hide-on-sr @async></redaction:redaction-page-dialog>\r\n        \x3c!-- contextmenus --\x3e\r\n        <page-contextmenu></page-contextmenu>\r\n        <default-annot-contextmenu></default-annot-contextmenu>\r\n        <markup-contextmenu></markup-contextmenu>\r\n        <markup-contextmenu name="fv--line-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--linearrow-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--linedimension-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--polylinedimention-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--polygondimension-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--circle-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--square-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--polyline-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--polygon-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--polygoncloud-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--ink-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--stamp-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--text-contextmenu"></markup-contextmenu>\r\n        <caret-contextmenu name="fv--areahighlight-contextmenu"></caret-contextmenu>\r\n        <caret-contextmenu name="fv--replace-contextmenu"></caret-contextmenu>\r\n        <measurement-contextmenu></measurement-contextmenu>\r\n        <caret-contextmenu name="fv--caret-contextmenu"></caret-contextmenu>\r\n        <textmarkup-contextmenu name="fv--highlight-contextmenu"></textmarkup-contextmenu>\r\n        <textmarkup-contextmenu name="fv--strikeout-contextmenu"></textmarkup-contextmenu>\r\n        <textmarkup-contextmenu name="fv--underline-contextmenu"></textmarkup-contextmenu>\r\n        <textmarkup-contextmenu name="fv--squiggly-contextmenu"></textmarkup-contextmenu>\r\n        <freetext-contextmenu name="fv--typewriter-contextmenu"></freetext-contextmenu>\r\n        <freetext-contextmenu name="fv--callout-contextmenu"></freetext-contextmenu>\r\n        <freetext-contextmenu name="fv--textbox-contextmenu"></freetext-contextmenu>\r\n        <action-annot-contextmenu name="fv--image-contextmenu"></action-annot-contextmenu>\r\n        <action-annot-contextmenu name="fv--link-contextmenu"></action-annot-contextmenu>\r\n        <comment-card-contextmenu></comment-card-contextmenu>\r\n        <fileattachment-contextmenu></fileattachment-contextmenu>\r\n        <media-contextmenu></media-contextmenu>\r\n        <sound-contextmenu></sound-contextmenu>\r\n        <redact-contextmenu></redact-contextmenu>\r\n        <edit-graphics:image-contextmenu @async></edit-graphics:image-contextmenu>\r\n        <edit-pageobjects:path-contextmenu @async></edit-pageobjects:path-contextmenu>\r\n        <field-signature-contextmenu name="fv--field-signature-contextmenu"></field-signature-contextmenu>\r\n        <text-sel:text-selection-tooltip></text-sel:text-selection-tooltip>\r\n        <freetext:freetext-tooltip></freetext:freetext-tooltip>\r\n        <annottext name="fv--annottext-tooltip"></annottext>\r\n        \x3c!-- Field panel contentmenu --\x3e\r\n        <field-contextmenu></field-contextmenu>\r\n        <comment-list:filter-dialog name="fv--commentlist-filter-comment-dialog"></comment-list:filter-dialog>\r\n        <portfolio-node-properties-dialog></portfolio-node-properties-dialog>\r\n        <portfolio-node-contextmenu name="fv--portfolio-file-item-contextmenu">\r\n            <portfolio-extract-node-contextmenu-item name="fv--portfolio-extract-node-contextmenu-item"></portfolio-extract-node-contextmenu-item>\r\n            <portfolio-show-selected-node-information-contextmenu-item name="fv--portfolio-show-selected-node-information-contextmenu-item"></portfolio-show-selected-node-information-contextmenu-item>\r\n        </portfolio-node-contextmenu>\r\n        <bookmark-contextmenu></bookmark-contextmenu>\r\n        <signature:signed-property-dialog></signature:signed-property-dialog>\r\n    </template>\r\n</webpdf>\r\n','<webpdf>\r\n    <toolbar name="toolbar" class="fv__ui-toolbar-scrollable">\r\n        <div class="fv__ui-tab-nav" name="toolbar-tabs">\r\n            <gtab name="home-tab" group="toolbar-tab" body="fv--home-tab-paddle" text="toolbar.tabs.home.title" active @portfolio.deactive></gtab>\r\n            <gtab name="comment-tab" group="toolbar-tab" body="fv--comment-tab-paddle" text="toolbar.tabs.comment.title" @portfolio.unsupport></gtab>\r\n            <gtab name="view-tab" group="toolbar-tab" body="fv--view-tab-paddle" text="toolbar.tabs.view.title"></gtab>\r\n            <gtab name="edit-tab" group="toolbar-tab" body="fv--edit-tab-paddle" text="toolbar.tabs.edit.title" @hide-on-sr @device="desktop" @collab-unsupported @portfolio.unsupport></gtab>\r\n            <gtab name="form-tab" group="toolbar-tab" body="fv--form-tab-paddle" text="toolbar.tabs.form.title" @hide-on-sr @device="desktop" @collab-unsupported @portfolio.unsupport></gtab>\r\n            <gtab name="protect-tab" group="toolbar-tab" body="fv--protect-tab-paddle" text="toolbar.tabs.protect.title" @hide-on-sr @collab-unsupported @portfolio.unsupport></gtab>\r\n            <gtab name="portfolio-tab" group="toolbar-tab" body="fv--portfolio-tab-body" text="toolbar.tabs.portfolio.title" @collab-unsupported @hide-on-sr @portfolio.show @portfolio.active></gtab>\r\n        </div>\r\n        <div class="fv__ui-toolbar-tab-bodies" name="toolbar-tab-bodies">\r\n            <paddle name="fv--view-tab-paddle" @portfolio.unsupport>\r\n                <group-list name="view-toolbar-group-list">\r\n                    <group name="home-tab-group-hand" retain-count="3">\r\n                        <hand-button></hand-button>\r\n                        <selection-dropdown></selection-dropdown>\r\n                        <zoom-dropdown></zoom-dropdown>\r\n                    </group>\r\n                    <group name="view-tab-group-assistants" @hide-on-sr>\r\n                        <marquee-tool-button></marquee-tool-button>\r\n                        <loupe-tool-button></loupe-tool-button>\r\n                    </group>\r\n                    <group name="view-tab-group-read-aloud" @hide-on-sr @require-modules="read-aloud" retain-count="4">\r\n                        <read-aloud:read-aloud-dropdown></read-aloud:read-aloud-dropdown>\r\n                        <read-aloud:rate-regulator></read-aloud:rate-regulator>\r\n                        <read-aloud:volume-regulator></read-aloud:volume-regulator>\r\n                        <read-aloud:pause-resume-read-aloud></read-aloud:pause-resume-read-aloud>\r\n                    </group>\r\n                </group-list>\r\n            </paddle>\r\n            <paddle exclude-devices="tablet" name="fv--home-tab-paddle" @portfolio.unsupport>\r\n                <group-list name="home-toolbar-group-list">\r\n                    <group name="home-tab-group-hand" retain-count="3">\r\n                        <hand-button></hand-button>\r\n                        <selection-dropdown></selection-dropdown>\r\n                        <snapshot-button @hide-on-sr></snapshot-button>\r\n                    </group>\r\n                    <group name="home-tab-group-change-color" @hide-on-sr>\r\n                        <change-color-dropdown></change-color-dropdown>\r\n                    </group>\r\n                    <group name="home-tab-group-io" retain-count="1" shrink-title="toolbar.more.document.title">\r\n                        <open-file-dropdown></open-file-dropdown>\r\n                        <download-file-button></download-file-button>\r\n                        <print:print-button></print:print-button>\r\n                    </group>\r\n                    <group name="home-tab-group-nav" retain-count="3">\r\n                        <goto-first-page-button></goto-first-page-button>\r\n                        <goto-prev-page-button></goto-prev-page-button>\r\n                        <goto-page-input></goto-page-input>\r\n                        <goto-next-page-button></goto-next-page-button>\r\n                        <goto-last-page-button></goto-last-page-button>\r\n                    </group>\r\n                    <group name="home-tab-group-zoom">\r\n                        <zoom-out-button></zoom-out-button>\r\n                        <zoom-in-button></zoom-in-button>\r\n                        <editable-zoom-dropdown></editable-zoom-dropdown>\r\n                    </group>\r\n                    <group name="home-tab-group-page" retain-count="1">\r\n                        <single-page-button></single-page-button>\r\n                        <continuous-page-button></continuous-page-button>\r\n                        <facing-page-button></facing-page-button>\r\n                        <continuous-facing-page-button></continuous-facing-page-button>\r\n                        <h-continuous:h-continuous-button></h-continuous:h-continuous-button>\r\n                        \x3c!--<h-single:h-single-button></h-single:h-single-button>--\x3e\r\n                        \x3c!--<h-facing:h-facing-button></h-facing:h-facing-button>--\x3e\r\n                    </group>\r\n                    <group name="file-property" @require-modules="fpmodule">\r\n                        <fpmodule:file-property-button></fpmodule:file-property-button>\r\n                    </group>\r\n                </group-list>\r\n            </paddle>\r\n            <paddle exclude-devices="tablet" name="fv--comment-tab-paddle" @portfolio.unsupport>\r\n                <group-list name="comment-toolbar-group-list">\r\n                    <group name="comment-tab-group-hand" retain-count="3">\r\n                        <hand-button></hand-button>\r\n                        <selection-dropdown></selection-dropdown>\r\n                        <zoom-dropdown></zoom-dropdown>\r\n                    </group>\r\n                    <group name="comment-tab-group-note" retain-count="3">\r\n                        <create-note-button></create-note-button>                        \r\n                    </group>\r\n                    <group name="comment-tab-group-mark">\r\n                        <create-text-highlight-button></create-text-highlight-button>\r\n                        <create-strikeout-button></create-strikeout-button>\r\n                        <create-underline-button></create-underline-button>\r\n                        <create-squiggly-button></create-squiggly-button>\r\n                        <create-replace-button></create-replace-button>\r\n                        <create-caret-button></create-caret-button>\r\n                    </group>\r\n                    <group name="comment-tab-group-text">                      \r\n                        <create-typewriter-button></create-typewriter-button>\r\n                        <create-callout-button></create-callout-button>\r\n                        <create-textbox-button></create-textbox-button>\r\n                    </group>\r\n                    <group name="comment-tab-group-drawing" retain-count="2">\r\n                        <create-drawings-dropdown></create-drawings-dropdown>                       \r\n                        <create-area-highlight-button></create-area-highlight-button>\r\n                    </group>\r\n                    <group name="comment-tab-group-pencil" retain-count="2">\r\n                        <create-pencil-button></create-pencil-button>\r\n                        <eraser-button></eraser-button>\r\n                    </group>\r\n                    <group name="comment-tab-group-stamp">\r\n                        <stamp-dropdown></stamp-dropdown>\r\n                    </group>\r\n                    <group name="comment-tab-group-measurement">\r\n                        <create-measure-dropdown></create-measure-dropdown>\r\n                    </group>\r\n                    <group name="comment-tab-group-media" @grp-more-hide-on-sr>\r\n                        <create-attachment-button></create-attachment-button>\r\n                        <create-image-button @hide-on-sr  @collab-unsupported></create-image-button>\r\n                        <create-link-button @hide-on-sr  @collab-unsupported></create-link-button>\r\n                        <multi-media:multi-media-button @async @hide-on-sr  @collab-unsupported></multi-media:multi-media-button>\r\n                    </group>\r\n                    <group name="comment-tab-group-inksign" visible=\'false\'></group>                    \r\n                    <group name="comment-tab-group-snap" @display-snap>\r\n                        <snap-end-point-btn tooltip-title="toolbar.snap.end-point" name="fv--snap-end-point-btn">toolbar.snap.end-point</snap-end-point-btn>\r\n                        <snap-mid-point-btn tooltip-title="toolbar.snap.mid-point" name="fv--snap-mid-point-btn">toolbar.snap.mid-point</snap-mid-point-btn>\r\n                        <snap-nearest-point-btn tooltip-title="toolbar.snap.nearest-point" name="fv--snap-nearest-point-btn">toolbar.snap.nearest-point</snap-nearest-point-btn>\r\n                        <snap-intersection-point-btn tooltip-title="toolbar.snap.intersection-point" name="fv--snap-intersection-point-btn">toolbar.snap.intesection-point</snap-intersection-point-btn>\r\n                    </group>\r\n                    <group name="comment-tab-group-other" visible=\'false\'></group>\r\n                </group-list>\r\n            </paddle>\r\n            <paddle exclude-devices="tablet" name="fv--edit-tab-paddle" @device="desktop" @portfolio.unsupport>\r\n                <group-list name="edit-toolbar-group-list">\r\n                    <group name="edit-tab-group-hand" retain-count="3">\r\n                        <hand-button></hand-button>\r\n                        <selection-dropdown></selection-dropdown>\r\n                        <zoom-dropdown></zoom-dropdown>\r\n                    </group>\r\n                    <group name="edit-tab-group-mode" retain-count="3">\r\n                        <edit-pageobjects:edit-all-objects-button @async></edit-pageobjects:edit-all-objects-button>\r\n                        <add-image-button></add-image-button>\r\n                        <edit-pageobjects:path-objects-dropdown @async></edit-pageobjects:path-objects-dropdown>\r\n                        \x3c!--<edit-image-button></edit-image-button>--\x3e\r\n                        <edit-text-object:add-text-button  @async></edit-text-object:add-text-button>\r\n                    </group>\r\n                    <group name="edit-tab-group-font" retain-count="5" @require-modules="edit-text-object">\r\n                        <edit-text-object:text-bold-style-button></edit-text-object:text-bold-style-button>\r\n                        <edit-text-object:text-italic-style-button></edit-text-object:text-italic-style-button>\r\n                        <edit-text-object:font-color-picker></edit-text-object:font-color-picker>\r\n                        <edit-text-object:font-style-dropdown></edit-text-object:font-style-dropdown>\r\n                    </group>\r\n                    <group name="edit-tab-group-layer" visible="false"></group>\r\n                    <group name="edit-tab-group-redact" visible="false"></group>\r\n                </group-list>\r\n            </paddle>\r\n            <paddle exclude-devices="tablet" name="fv--form-tab-paddle" @device="desktop" @portfolio.unsupport>\r\n                <group-list name="form-toolbar-group-list">\r\n                    <group name="form-tab-group-hand" retain-count="3">\r\n                        <hand-button></hand-button>\r\n                        <selection-dropdown></selection-dropdown>\r\n                        <zoom-dropdown></zoom-dropdown>\r\n                    </group>\r\n                    <group name="form-tab-group-assistants" @require-modules.oneOf="recognition-form,form-designer">\r\n                        <recognition-form:recognition-form-button></recognition-form:recognition-form-button>\r\n                        <form-designer:assistant-button name="fv--form-designer-assistant"></form-designer:assistant-button>\r\n                    </group>\r\n                    <group name="form-tab-group-fields" retain-count="2" @require-modules="form-designer">\r\n                        <form-designer:create-push-button></form-designer:create-push-button>\r\n                        <form-designer:create-check-box></form-designer:create-check-box>\r\n                        <form-designer:create-radio-button></form-designer:create-radio-button>\r\n                        <form-designer:create-combo-box></form-designer:create-combo-box>\r\n                        <form-designer:create-list-box></form-designer:create-list-box>            \r\n                        <form-designer:create-text></form-designer:create-text>\r\n                        <form-designer:create-sign></form-designer:create-sign>\r\n                        <form-designer:create-image></form-designer:create-image>\r\n                        <form-designer:create-date></form-designer:create-date>\r\n                    </group>\r\n                    <group name="form-tab-group-fields" retain-count="2" @require-modules.oneOf="form-designer,xfa-form-module,page-template">\r\n                        <page-template:page-template-button @async></page-template:page-template-button>\r\n                        <xfa-form-module:xfa-form-button @async></xfa-form-module:xfa-form-button>\r\n                        <form-designer:showCO @async></form-designer:showCO>\r\n                        <form-designer:add-tooltip @async></form-designer:add-tooltip>\r\n                        <form-designer:highlight-fields-checkbox @async></form-designer:highlight-fields-checkbox>\r\n                    </group>\r\n                    <group name="form-tab-group-import-export" retain-count="3" @require-modules.oneOf="form-designer,import-form-module,export-form-module,form-to-sheet-module">\r\n                        <form-designer:reset-form @async></form-designer:reset-form>\r\n                        <form-to-sheet-module:form-to-sheet-dropdown name="form-to-sheet" @async></form-to-sheet-module:form-to-sheet-dropdown>\r\n                        <import-form-module:import-form-button @async></import-form-module:import-form-button>\r\n                        <export-form-module:export-form-dropdown @async name="fv--export-form-dropdown"></export-form-module:export-form-dropdown>\r\n                        <form-designer:keep-tool-selected-checkbox @async></form-designer:keep-tool-selected-checkbox>\r\n                    </group>\r\n                </group-list>\r\n            </paddle>\r\n            <paddle exclude-devices="tablet" name="fv--protect-tab-paddle" @portfolio.unsupport>\r\n                <group-list name="protect-toolbar-group-list">\r\n                    <group name="protect-tab-group-hand" retain-count="4">\r\n                        <hand-button></hand-button>\r\n                        <selection-dropdown></selection-dropdown>\r\n                        <zoom-dropdown></zoom-dropdown>\r\n                    </group>\r\n                    <group name="protect-tab-group-sign" retain-count="4">\r\n                        <ink-sign-dropdown name="fv--ink-sign-dropdown"></ink-sign-dropdown>\r\n                    </group>\r\n                    <group name="password-protect-group" retain-count="2" @require-modules="password-protect">\r\n                        <password-protect:password-protect-button></password-protect:password-protect-button>\r\n                        <password-protect:remove-protect-button></password-protect:remove-protect-button>\r\n                    </group>\r\n                    <group name="redaction" functional-module="redaction" @license-validation @require-modules="redaction">\r\n                        <redaction:create-redactions-dropdown></redaction:create-redactions-dropdown>\r\n                        <redaction:apply-redactions-button></redaction:apply-redactions-button>\r\n                        <redaction:redaction-search-button></redaction:redaction-search-button>\r\n                    </group>\r\n                </group-list>\r\n            </paddle>\r\n            <paddle name="fv--portfolio-tab-body" @portfolio.support>\r\n                <group-list name="portfolio-toolbar-group-list" >\r\n                    <group name="portfolio-tab-group-layout-buttons" retain-count="5">\r\n                        <portfolio-block-layout-button></portfolio-block-layout-button>\r\n                        <portfolio-details-layout-button></portfolio-details-layout-button>\r\n                        <portfolio-cover-sheet-layout-button></portfolio-cover-sheet-layout-button>\r\n                        <portfolio-preview-side-dropdown name="fv--portfolio-preview-side-dropdown" >\r\n                            <portfolio-preview-right-side-button></portfolio-preview-right-side-button>\r\n                            <portfolio-preview-bottom-side-button></portfolio-preview-bottom-side-button>\r\n                            <portfolio-preview-off-button></portfolio-preview-off-button>\r\n                        </portfolio-preview-side-dropdown>\r\n                        <portfolio-default-layout-dropdown>\r\n                            <portfolio-default-original-layout-button></portfolio-default-original-layout-button>\r\n                            <portfolio-default-block-layout-button></portfolio-default-block-layout-button>\r\n                            <portfolio-default-details-layout-button></portfolio-default-details-layout-button>\r\n                            <portfolio-default-cover-sheet-layout-button></portfolio-default-cover-sheet-layout-button>\r\n                        </portfolio-default-layout-dropdown>\r\n                    </group>\r\n                </group-list>\r\n            </paddle>\r\n        </div>\r\n    </toolbar>\r\n    <div class="fv__ui-body">\r\n        <sidebar name="sidebar" @controller="sidebar:SidebarController" @portfolio-layout="cover">\r\n            <bookmark-sidebar-panel></bookmark-sidebar-panel>\r\n            <commentlist-sidebar-panel>\r\n                <slot for="header">\r\n                    <comment-list:toggle-commentlist-group-button></comment-list:toggle-commentlist-group-button>\r\n                    <dropdown separate="false" class="comment-list-dropdown" icon-class="fv__icon-toolbar-more">\r\n                        \x3c!-- <comment-list:expand-pages-button></comment-list:expand-pages-button>\r\n                        <comment-list:collapse-pages-button></comment-list:collapse-pages-button> --\x3e\r\n                        <comment-list:show-comment-button></comment-list:show-comment-button>\r\n                        <comment-list:hide-comment-button></comment-list:hide-comment-button>\r\n                        <comment-list:import-comment-button></comment-list:import-comment-button>\r\n                        <dropdown-item class="fv__ui-dropdown-container-item">\r\n                            <comment-list:export-comment-dropdown></comment-list:export-comment-dropdown>\r\n                        </dropdown-item>\r\n                        <dropdown-item class="fv__ui-dropdown-container-item">\r\n                            <comment-list:sort-comments-dropdown></comment-list:sort-comments-dropdown>\r\n                        </dropdown-item>\r\n                    </dropdown>\r\n                </slot>\r\n            </commentlist-sidebar-panel>\r\n            <thumbnail-sidebar-panel></thumbnail-sidebar-panel>\r\n            <layer-sidebar-panel @hide-on-sr></layer-sidebar-panel>\r\n            <search-sidebar-panel></search-sidebar-panel>\r\n            <field-sidebar-panel @require-modules="form-designer" @display-on-device="desktop" @collab-unsupported></field-sidebar-panel>\r\n            <attachment-sidebar-panel></attachment-sidebar-panel>\r\n        </sidebar>\r\n        <portfolio-container>\r\n            <portfolio-sidebar @portfolio-layout="portfolio,details">\r\n                <portfolio-sidebar-header>\r\n                    <portfolio-path></portfolio-path>\r\n                    <portfolio-toolbar>\r\n                        <portfolio-extract-selected-item-button></portfolio-extract-selected-item-button>\r\n                        <portfolio-show-node-properties-button></portfolio-show-node-properties-button>\r\n                    </portfolio-toolbar>\r\n                </portfolio-sidebar-header>\r\n                <portfolio-node-container>\r\n                    <div class="fv__ui-portfolio-node-tree" @controller="PortfolioNodeTreeController as tree">\r\n                        <portfolio-details-header @portfolio-layout="details" @sync.columns="tree.columns"></portfolio-details-header>\r\n                        <portfolio-node-list>\r\n                            <portfolio-node \r\n                                @foreach.cached = "fileNode in tree.fileNodes track by handle"\r\n                                @sync.display = "tree.display"\r\n                                @sync.data = "fileNode"\r\n                                @sync.columns="tree.columns"\r\n                                @contextmenu="fv--portfolio-file-item-contextmenu"\r\n                            ></portfolio-node>\r\n                        </portfolio-node-list>\r\n                    </div>\r\n                </portfolio-node-container>\r\n            </portfolio-sidebar>\r\n            <div name="fv--portfolio-previewer-container" class="fv__ui-portfolio-previewer-container">\r\n                \x3c!-- previewers --\x3e\r\n                <distance:ruler-container name="pdf-viewer-container-with-ruler" @portfolio-cover-sheet>\r\n                    <slot>\r\n                        <viewer @zoom-on-pinch @zoom-on-doubletap @zoom-on-wheel @touch-to-scroll></viewer>\r\n                    </slot>\r\n                </distance:ruler-container>\r\n                <portfolio-previewer-group @portfolio-layout="portfolio,details">\r\n                    <portfolio-unsupported-previewer></portfolio-unsupported-previewer>\r\n                    <portfolio-pdf-previewer></portfolio-pdf-previewer>\r\n                    <portfolio-video-previewer></portfolio-video-previewer>\r\n                    <portfolio-audio-previewer></portfolio-audio-previewer>\r\n                    <portfolio-image-previewer></portfolio-image-previewer>\r\n                    <portfolio-plain-text-previewer></portfolio-plain-text-previewer>\r\n                </portfolio-previewer-group>\r\n                <portfolio-loading-layer></portfolio-loading-layer>\r\n            </div>\r\n        </portfolio-container>\r\n    </div>\r\n    <template name="template-container">\r\n        <create-stamp-dialog></create-stamp-dialog>\r\n        <print:print-dialog></print:print-dialog>\r\n        <page-template:page-template-dialog></page-template:page-template-dialog>\r\n        <loupe-tool-dialog></loupe-tool-dialog>\r\n        <create-ink-sign-dialog></create-ink-sign-dialog>\r\n        <distance:measurement-popup></distance:measurement-popup>\r\n        <fpmodule:file-property-dialog @async></fpmodule:file-property-dialog>\r\n        <redaction:redaction-page-dialog @hide-on-sr @async></redaction:redaction-page-dialog>\r\n        \x3c!-- contextmenus --\x3e\r\n        <page-contextmenu></page-contextmenu>\r\n        <default-annot-contextmenu></default-annot-contextmenu>\r\n        <markup-contextmenu></markup-contextmenu>\r\n        <markup-contextmenu name="fv--line-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--linearrow-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--linedimension-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--polylinedimention-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--polygondimension-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--circle-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--square-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--polyline-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--polygon-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--polygoncloud-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--ink-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--stamp-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--text-contextmenu"></markup-contextmenu>\r\n        <caret-contextmenu name="fv--areahighlight-contextmenu"></caret-contextmenu>\r\n        <caret-contextmenu name="fv--replace-contextmenu"></caret-contextmenu>\r\n        <measurement-contextmenu></measurement-contextmenu>\r\n        <caret-contextmenu name="fv--caret-contextmenu"></caret-contextmenu>\r\n        <textmarkup-contextmenu name="fv--highlight-contextmenu"></textmarkup-contextmenu>\r\n        <textmarkup-contextmenu name="fv--strikeout-contextmenu"></textmarkup-contextmenu>\r\n        <textmarkup-contextmenu name="fv--underline-contextmenu"></textmarkup-contextmenu>\r\n        <textmarkup-contextmenu name="fv--squiggly-contextmenu"></textmarkup-contextmenu>\r\n        <freetext-contextmenu name="fv--typewriter-contextmenu"></freetext-contextmenu>\r\n        <freetext-contextmenu name="fv--callout-contextmenu"></freetext-contextmenu>\r\n        <freetext-contextmenu name="fv--textbox-contextmenu"></freetext-contextmenu>\r\n        <action-annot-contextmenu name="fv--image-contextmenu"></action-annot-contextmenu>\r\n        <action-annot-contextmenu name="fv--link-contextmenu"></action-annot-contextmenu>\r\n        <comment-card-contextmenu></comment-card-contextmenu>\r\n        <fileattachment-contextmenu></fileattachment-contextmenu>\r\n        <media-contextmenu></media-contextmenu>\r\n        <sound-contextmenu></sound-contextmenu>\r\n        <redact-contextmenu></redact-contextmenu>\r\n        <edit-graphics:image-contextmenu @async></edit-graphics:image-contextmenu>\r\n        <edit-pageobjects:path-contextmenu @async></edit-pageobjects:path-contextmenu>\r\n        <field-signature-contextmenu name="fv--field-signature-contextmenu"></field-signature-contextmenu>\r\n        <text-sel:text-selection-tooltip></text-sel:text-selection-tooltip>\r\n        <freetext:freetext-tooltip></freetext:freetext-tooltip>\r\n        <annottext name="fv--annottext-tooltip"></annottext>\r\n        \x3c!-- Field panel contentmenu --\x3e\r\n        <field-contextmenu></field-contextmenu>\r\n        <comment-list:filter-dialog name="fv--commentlist-filter-comment-dialog"></comment-list:filter-dialog>\r\n        <portfolio-node-properties-dialog></portfolio-node-properties-dialog>\r\n        <portfolio-node-contextmenu name="fv--portfolio-file-item-contextmenu">\r\n            <portfolio-extract-node-contextmenu-item name="fv--portfolio-extract-node-contextmenu-item"></portfolio-extract-node-contextmenu-item>\r\n            <portfolio-show-selected-node-information-contextmenu-item name="fv--portfolio-show-selected-node-information-contextmenu-item"></portfolio-show-selected-node-information-contextmenu-item>\r\n        </portfolio-node-contextmenu>\r\n        <bookmark-contextmenu></bookmark-contextmenu>\r\n        <signature:signed-property-dialog></signature:signed-property-dialog>\r\n    </template>\r\n</webpdf>\r\n'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=h(n(218)),r=h(n(1700)),i=h(n(1701)),a=h(n(1705)),s=h(n(1708)),c=h(n(595)),u=n(8),l=h(n(13)),f=n(5),p=(h(n(146)),n(42)),d=(h(n(460)),n(14),h(n(233)));function h(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var y=void 0,b=function(e){function t(){g(this,t);var n=m(this,e.call(this));return n.annotMap={},n.activePropertiesDialog=null,n.viewerComponents=[],n.wrapperElement=document.createElement("div"),n.wrapperElement.classList.add("fv__ui-pdfviewer"),n.element=document.createElement("div"),n}return v(t,e),t.prototype.create=function(e,t,n){var r=this;return this.wrapperElement.appendChild(this.element),this.pdfUIbinder=new o.default(document.body,u.PDFUI_BINDER,0),this.modalBinder=new o.default(document.body,u.MODAL_LAYER_BINDER,0),this.viewer=this.constructPDFViewer(e,t,n),this.addDestroyHook((function(){r.viewer.isDestroyed||r.viewer.destroy()})),this.viewer},t.prototype.getWrapperElement=function(){return this.wrapperElement},t.prototype.localize=function(){return Promise.all(this.viewerComponents.map((function(e){return e.localize()})))},t.prototype.constructPDFViewer=function(e,t,n){var o=e.customs||{};this.wrapperElement;return o.ScrollWrap||(o.ScrollWrap=d.default.create(this.wrapperElement)),e.customs=o,e.viewerUI||(e.viewerUI=new c.default),this.viewer=new f.PDFViewer(this.prepareViewerOptions(e,n)),this.viewer},t.prototype.postConstructPDFViewer=function(e){var t=this,n=this.viewer,o=n.keyboard;for(var c in this.pdfUIbinder.attach(o.getBinder(p.VIEWER_BINDER)),this.modalBinder.attach(o.getBinder(p.GLOBAL_BINDER)),o.addEventBinder(this.pdfUIbinder),o.addEventBinder(this.modalBinder),r.default){var l=r.default[c];o.registerKeybinding(l.binder,c,l.shortcut)}o.activeDefaultBinder();var f=n.getKeyboardEventBinder(p.ACTIVATION_ANNOTATION_BINDER);this.addDestroyHook(f.before(u.KEY_MAP_COPY_ANNOT,(function(){t.viewer.isShortcutKeyEnabled()&&t.viewer.copy()}),!1));var d=new i.default(e),h=e.activeActionsDialog=new a.default(e),g=new s.default(e);n.registerMatchRule(this.createAnnotMatcherRule(d,h,g,e));var m=function(n){if(!(!t.viewer.isShortcutKeyEnabled()||!n.clipboardData||!n.clipboardData.items||document.activeElement instanceof HTMLInputElement||document.activeElement instanceof HTMLTextAreaElement||document.activeElement instanceof HTMLInputElement||"true"==document.activeElement.contentEditable)){var o=[],r=n.clipboardData;if(r&&r.items){var i=r.items,a=r.types[0],s=0;if(r.types.length>1&&(a="Files",-1==(s=r.types.indexOf("Files"))&&(s=r.types.indexOf("text/plain"),a="text/plain"),-1==s))return;switch(a){case"text/plain":i[s].getAsString((function(n){var o=void 0;try{o=JSON.parse(n)}catch(e){o=[{type:"string",value:n}]}o.some((function(e){var t=e.value;return"string"===e.type&&"widget"===t.type&&7===t.fieldType}))?e.alert("form-designer:dialog.typeError"):t.viewer.paste(o)}));break;case"text/html":break;case"Files":o=[{type:"file",value:i[s].getAsFile()}],t.viewer.paste(o)}}}};document.addEventListener("paste",m),n.activePropertiesDialog=d,this.addDestroyHook((function(){d.destroy(),h.destroy(),g.destroy(),document.removeEventListener("paste",m)}))},t.prototype.prepareViewerOptions=function(e,t){e.i18n||(e.i18n=t);var n=e.i18nOptions;n||(n={});var o=n.initOption;return o||(n.initOption=o={}),o.fallbackLng||(o.fallbackLng=t.options.fallbackLng),n.fallbackLng="en-US",e.i18nOptions=n,e.defaultKeyboardEventBinder=this.pdfUIbinder,e},t.prototype.createAnnotMatcherRule=function(e,t,n,o){var r=this.annotMap;return function(i,a){var s=i.getType();if("popup"===s||"psink"===s)return a;var c=(i.getIntent&&i.getIntent()||"default")+"_"+((i.info||{}).fieldType||"default");if(r[s]&&r[s][c])return r[s][c];var u=function(r){function i(){return g(this,i),m(this,r.apply(this,arguments))}return v(i,r),i.prototype.active=function(t){e.isOpened()&&(clearTimeout(y),this.showPropertiesDialog()),r.prototype.active.call(this,t)},i.prototype.unActive=function(){var t=this;e.dialog.unSwitchBinder(),r.prototype.unActive.call(this),clearTimeout(y),e.isOpened()&&(y=setTimeout((function(){t.pdfViewer.getCurrentActivatable()instanceof f.AnnotComponent||e.hide()}),100))},i.prototype.showPropertiesDialog=function(t,n,o){e.show(o).setViewerComponent(this)},i.prototype.hidePropertiesDialog=function(){this.annot&&"freetext"===this.annot.getType()&&r.prototype.hidePropertiesDialog.call(this),e.hide()},i.prototype.showActionsDialog=function(){t.setAnnot(this).show()},i.prototype.hideActionsDialog=function(){t.hide()},i.prototype.showPlaceMarkDialog=function(e,t,o){n.setAnnot(this).show(o)},i.prototype.hidePlaceMarkDialog=function(){n.hide()},i.prototype.showReplyDialog=function(e){var t=this;"function"==typeof o.customShowReplyDialogHandler&&"freetext"!=this.annot.getType()?o.customShowReplyDialogHandler(this,e,(function(){r.prototype.showReplyDialog.call(t,e)})):r.prototype.showReplyDialog.call(this,e)},i.prototype.showContextMenu=function(e,t){return r.prototype.showContextMenu.call(this,e,t)},i}(a);return r[s]=r[s]||{},r[s][c]=u}},t}(l.default);t.default=b},function(e,t,n){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(42),a=n(14);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.default=(s(o={},r.KEY_MAP_OPEN_SIDEBAR,{binder:r.PDFUI_BINDER,shortcut:a.isMac?"Meta+Right":"Ctrl+Right"}),s(o,r.KEY_MAP_CLOSE_SIDEBAR,{binder:r.PDFUI_BINDER,shortcut:a.isMac?"Meta+Left":"Ctrl+Left"}),s(o,r.KEY_MAP_OPEN_QUICK_SEARCH,{binder:r.PDFUI_BINDER,shortcut:a.isMac?"Meta+F":"Ctrl+F"}),s(o,r.KEY_MAP_EXIT_TO_HAND_STATE,{binder:r.PDFUI_BINDER,shortcut:"Escape"}),s(o,r.KEY_MAP_EXIT_LAYER,{binder:r.MODAL_LAYER_BINDER,shortcut:"Escape"}),s(o,i.KEY_MAP_FIELD_TAB_NEXT,{binder:r.PDFUI_BINDER,shortcut:"Tab"}),s(o,i.KEY_MAP_FIELD_TAB_PREVIOUS,{binder:r.PDFUI_BINDER,shortcut:"Shift+Tab"}),s(o,r.KEY_MAP_COPY_ANNOT,{binder:i.ACTIVATION_ANNOTATION_BINDER,shortcut:a.isMac?"Meta+C":"Ctrl+C"}),s(o,r.KEY_MAP_ADD_BOOKMARK,{binder:r.PDFUI_BINDER,shortcut:a.isMac?"Meta+B":"Ctrl+B"}),s(o,i.KEY_MAP_FIELD_LEFT,{shortcut:"LeftArrow",binder:r.PDFUI_BINDER}),s(o,i.KEY_MAP_FIELD_RIGHT,{shortcut:"RightArrow",binder:r.PDFUI_BINDER}),s(o,i.KEY_MAP_FIELD_DOWN,{shortcut:"DownArrow",binder:r.PDFUI_BINDER}),s(o,i.KEY_MAP_FIELD_UP,{shortcut:"UpArrow",binder:r.PDFUI_BINDER}),s(o,i.KEY_MAP_FIELD_ENTER,{shortcut:"Enter",binder:r.PDFUI_BINDER}),o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=p(n(1702));n(1703);var r=n(14),i=n(1704),a=n(12),s=p(n(9)),c=n(8),u=n(36),l=n(7),f=p(n(10));function p(e){return e&&e.__esModule?e:{default:e}}var d={borderWidth:"borderWidth",borderStyle:"borderStyle",highlightingMode:"highlightingMode",rotation:"rotation",lineStartStyle:"lineStartStyle",lineEndStyle:"lineEndStyle",opacity:"opacity",color:"color",fillColor:"fillColor",applyFillColor:"applyFillColor",font:"font",hasCap:"hasCap",fontColor:"fontColor",fontSize:"fontSize",rotationFree:"rotationFree"},h=s.default.getLogger("pdf-ui.CustomDialog"),g=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.PDFUI=t,this.executor=new u.QueuedAsyncTaskExecutor,this.commitValuesExecutor=new u.QueuedAsyncTaskExecutor,this.currentActivatesPromise=Promise.resolve([]);var r=(0,o.default)(Object.assign({},d,{iconBorderWidth:"fv__ui-property-icon-border-width",iconOpacity:"fv__ui-property-icon-opacity",iconFontSize:"fv__ui-property-icon-font-size",iconRotate:"fv__ui-property-icon-rotate"}));this.dialog=t.parseTemplate(r,[{target:"annot-property-close",config:{callback:function(){Object.keys(d).map((function(e){var t=n._getComponnet(e);t?t.commit&&t.commit():h.info(e)})),n.dialog.lock(),n.dialog.hide(),n.viewerComponent.hidePropertiesDialog&&n.viewerComponent.hidePropertiesDialog()}}},{target:"annot-property-"+d.borderStyle,config:i.borderstyleConfig},{target:"annot-property-"+d.highlightingMode,config:i.hilightmodeConfig},{target:"annot-property-"+d.rotation,config:i.rotateConfig},{target:"annot-property-"+d.lineEndStyle,config:i.endstyleConfig},{target:"annot-property-"+d.lineStartStyle,config:i.startstyleConfig},{target:"annot-property-"+d.color,config:i.colorConfig},{target:"annot-property-"+d.fillColor,config:i.fillColorConfig},{target:"annot-property-"+d.applyFillColor,config:i.applyFillColorConfig},{target:"annot-property-"+d.hasCap,config:{text:"propertiesDialog.showCap",lableClass:"fv__ui-hasCap-lable",inputClass:"fv__ui-hasCap-input"}},{target:"annot-property-"+d.fontColor,config:i.fontColorConfig}]),this.dialog.localize(),this.dialog.mounted(),t.addViewerEventListener("will-close-document",(function(e){n.dialog.hide()})),this.tabsComponent=this.dialog.getComponentByName("annot-property-tabs"),this.dialog.on(c.COMPONENT_EVENTS.HIDDEN,(function(){n.dialog.querySelectorAll("@color").forEach((function(e){e.hide()}))})),this._bindEvent(),this.listenEvent()}return e.prototype.listenEvent=function(){var e=this,t=this.PDFUI;t.addDestroyHook(t.addViewerEventListener(f.default.updateActionAnnotation,(function(t){if(e.dialog.isVisible&&"stamp"==t.annot.getType()){var n=e._getComponnet(d.rotationFree).getValue();t.annot.getRotation()!=n&&e.setViewerComponent(e.viewerComponent)}})))},e.prototype.localize=function(){return this.dialog.localize()},e.prototype.setViewerComponent=function(e){var t=this,n=this.dialog.element.querySelector(":focus");return n&&n.blur(),this.commitValuesExecutor.exec((function(){return t.getAllActivatedElements().then((function(n){var o=void 0;return t.annotProperties="",n.forEach((function(e){o=e.getPropertyOptions(),""===t.annotProperties?(t.annotProperties=o,!1!==t.annotProperties.borderStyle&&(t.annotProperties.borderStyle=t.getBorderStyle(e))):(!1!==o.borderStyle&&(o.borderStyle=t.getBorderStyle(e)),t.combine(t.annotProperties,o))})),t.viewerComponent=e,t.synchronizeProperties(),t.currentActivatesPromise=t.getAllActivatedElements()}))})),this},e.prototype.getAllActivatedElements=function(){return this.PDFUI.getAllActivatedElements().then((function(e){var t=[];return e.forEach((function(e){var n=e.annot;if(n&&n.getGroupHeader){var o=n.getGroupHeader();-1===t.indexOf(o)&&t.push(o)}})),e.filter((function(e){var t=e.annot;return!(t&&t.getGroupHeader&&t.isGrouped())||t.getGroupHeader()===t}))}))},e.prototype.combine=function(e,t){void 0===e.color||void 0===t.color?e.color=void 0:e.color!==t.color&&(e.color=0),void 0===e.opacity||void 0===t.opacity?e.opacity=void 0:e.opacity!==t.opacity&&(e.opacity=""),void 0===e.borderWidth||void 0===t.borderWidth?e.borderWidth=void 0:e.borderWidth!==t.borderWidth&&(e.borderWidth=""),void 0===e.fillColor||void 0===t.fillColor?e.fillColor=void 0:e.fillColor!==t.fillColor&&(e.fillColor=0),void 0===e.font||void 0===t.font?e.font=void 0:e.font!==t.font&&(e.font=""),void 0===e.fontColor||void 0===t.fontColor?e.fontColor=void 0:e.fontColor!==t.fontColor&&(e.fontColor=0),void 0!==e.fontSize&&void 0!==t.fontSize&&e.fontSize===t.fontSize||(e.fontSize=void 0),!1===e.borderStyle||!1===t.borderStyle?e.borderStyle=!1:e.borderStyle!==t.borderStyle&&(e.borderStyle=0),void 0===e.lineStartStyle||void 0===t.lineStartStyle?e.lineStartStyle=void 0:e.lineStartStyle!==t.lineStartStyle&&(e.lineStartStyle=""),void 0===e.lineEndStyle||void 0===t.lineEndStyle?e.lineEndStyle=void 0:e.lineEndStyle!==t.lineEndStyle&&(e.lineEndStyle=""),void 0===e.hasCap||void 0===t.hasCap?e.hasCap=void 0:e.hasCap=e.hasCap&&t.hasCap,void 0===e.rotationFree||void 0===t.rotationFree?e.rotationFree=void 0:e.rotationFree!==t.rotationFree&&(e.rotationFree=""),void 0===e.rotation||void 0===t.rotation?e.rotation=void 0:e.rotation!==t.rotation&&(e.rotation=""),void 0===e.applyFillColor||void 0===t.applyFillColor?e.applyFillColor=void 0:e.applyFillColor!==t.applyFillColor&&(e.applyFillColor=""),e.disabled=e.disabled&&t.disabled,void 0===e.cloudy||void 0===t.cloudy?e.cloudy=void 0:e.cloudy=e.cloudy&&t.cloudy,void 0===e.highlightingMode||void 0===t.highlightingMode?e.highlightingMode=void 0:e.highlightingMode!==t.highlightingMode&&(e.highlightingMode="")},e.prototype.show=function(e){var t=this;return this.dialog.unlock(),this.PDFUI.getRootComponent().then((function(n){e&&!r.isMobile&&(e.pageX+260>n.element.offsetWidth?t.dialog.element.style.left=n.element.offsetWidth-260+"px":t.dialog.element.style.left=e.pageX+"px",e.pageY+410>n.element.offsetHeight?t.dialog.element.style.top=n.element.offsetHeight-410+"px":t.dialog.element.style.top=e.pageY+"px"),t.dialog.isVisible,t.dialog.open(n.element)})),this},e.prototype.hide=function(){return this._getComponnet("opacity").deactive(),this.dialog.hide(),this},e.prototype.toggle=function(e){[this._getComponnet(d.color),this._getComponnet(d.fillColor),this._getComponnet(d.fontColor),this._getComponnet(d.applyFillColor)].forEach((function(t){e?t.enable():t.disable()})),e?this.dialog.enable():this.dialog.disable()},e.prototype.isOpened=function(){return this.dialog.isVisible},e.prototype._bindEvent=function(){var e=this;this._getComponnet(d.font).hide(),Object.keys(d).map((function(t){var n=e._getComponnet(t);if(n){var o=function(o){var r=n.getValue();e.dataAccess("w",t,r),d.color===t&&(e.dialog.element.querySelector(".fv__ui-property-icon-border-width").style.borderColor=0===r?"transparent":r),d.borderWidth===t&&(e.dialog.element.querySelector(".fv__ui-property-icon-border-width").style.borderWidth=9*r/12+"px")};n.on("change",o);n.on("compositionupdate",o);n.on("active",(function(t){return function(t,n){e.focusComponent&&"annot-property-tabs"!=e.focusComponent.parent.name&&e.focusComponent.deactive(),e.focusComponent=n}(0,n)}))}else h.info(t)})),this._getComponnet("opacity").on("willCommit",(function(t){var n=t.oldValue,o=t.commitValue,r=e.currentActivatesPromise;e.commitValuesExecutor.exec((function(){return r.then((function(e){e.forEach((function(e){e.setOpacity(o/100,!0,{oldValue:n/100,commitValue:o/100})}))}))}))})),this._getComponnet("borderWidth").on("willCommit",(function(t){var n=t.oldValue,o=t.commitValue,r=e.currentActivatesPromise;e.commitValuesExecutor.exec((function(){return r.then((function(e){e.forEach((function(e){e.setBorderWidth(o,!0,{oldValue:n,commitValue:o})}))}))}))})),this._getComponnet("fontSize").on("willCommit",(function(e){e.oldValue,e.commitValue}))},e.prototype.synchronizeProperties=function(){var e=this,t=this.annotProperties;(this.toggle(!t.disabled),this._getComponnet(d.fillColor).showTransparentColor(!("redact"===this.viewerComponent.name)),void 0!==t.borderTransparent)&&this._getComponnet(d.color).showTransparentColor(t.borderTransparent);"boolean"==typeof t.borderStyle&&(!1===t.borderStyle?delete t.borderStyle:t.borderStyle=this.getBorderStyle()),Object.keys(d).map((function(n){e.updateComponent(t[d[n]],n)}));var n=this.dialog.element.querySelector(".fv__ui-property-icon-border-width").style;n.borderColor=t.borderTransparent?"transparent":t.color,n.borderWidth=3*t.borderWidth/4+"px";var o=this._countTabsNumber(t),r=this.tabsComponent.element.querySelectorAll(".fv__ui-annot-properties-dialog .fv__ui-tab-nav li");switch(o){case 0:this.tabsComponent.hide();break;default:this.tabsComponent.show();var i=!0,a=!1,s=void 0;try{for(var c,u=r[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var l=c.value;l.style.cssText+="width:"+100/o+"%",l.style.display=1==o?"none":"block"}}catch(e){a=!0,s=e}finally{try{!i&&u.return&&u.return()}finally{if(a)throw s}}}var f=function(t,n){var o=n?"block":"none";e.dialog.element.querySelector(t).parentElement.style.display=o};f.call(this,"div.fv__ui-line-style-7",t.cloudy),f.call(this,"div.fv__ui-line-style-8",t.cloudy)},e.prototype._countTabsNumber=function(e){var t=0;return void 0!==e.color&&t++,void 0!==e.fillColor&&t++,void 0!==e.applyFillColor&&t++,void 0!==e.font&&t++,void 0!==e.fontColor&&t++,t},e.prototype.updateComponent=function(e,t){var n=void 0;if(n=this._getComponnet(t))if(void 0!==e){switch(t){case d.opacity:e*=100;break;case d.fillColor:"0"!=e&&(e=(0,a.colorConvertor)(16777215&e,"#")),n.parent.show(),n.parent.active();break;case d.applyFillColor:"0"!=e&&(e=(0,a.colorConvertor)(16777215&e,"#")),n.parent.show();break;case d.color:e.length>7&&(e=e.replace(/#(\w\w)/,"#")),n.parent.show(),n.parent.active();break;case d.rotation:e=parseInt(e%360/90);break;case d.rotationFree:e=parseInt(e);break;case d.fontColor:e.length>7&&(e=e.replace(/#(\w\w)/,"#")),n.parent.show(),n.parent.active()}n.setValue&&n.setValue(e),n.show()}else switch(n.hide(),t){case d.color:case d.fillColor:case d.fontColor:case d.applyFillColor:n.parent.hide()}},e.prototype.dataAccess=function(e,t,n){var o=this,r=this.currentActivatesPromise;this.commitValuesExecutor.exec((function(){return r.then((function(r){r.forEach((function(r){o.executor.exec((function(){var i=o.updateComponentProperty(r,e,t,n);return i instanceof Promise?i:l.RESOLVED_PROMISE_VOID}))}))}))}))},e.prototype.updateComponentProperty=function(e,t,n,o){switch(n){case d.borderWidth:return"w"==t&&e.setBorderWidth&&e.setBorderWidth(o,!1);case d.opacity:return"w"==t&&e.setOpacity&&e.setOpacity(o/100,!1);case d.borderStyle:return"w"==t&&e.setBorderStyle&&this.setBorderStyle(e,o);case d.highlightingMode:return"w"==t&&e.setHighlightingMode&&e.setHighlightingMode(o);case d.rotation:return"w"==t&&e.setRotation&&e.setRotation(90*o);case d.rotationFree:return"w"==t&&e.setRotation&&e.setRotation(o);case d.lineEndStyle:return"w"==t&&e.setEndingStyle&&e.setEndingStyle(!1,o);case d.lineStartStyle:return"w"==t&&e.setEndingStyle&&e.setEndingStyle(!0,o);case d.color:if("w"==t&&e.setColor){var r=0===o?0:(0,a.colorConvertor)(o,"int",1);return e.setColor(r)}break;case d.fillColor:if("w"==t&&e.setFillColor)return e.setFillColor(0===o?0:(0,a.colorConvertor)(o,"int",1));break;case d.applyFillColor:if("w"==t&&e.setApplyFillColor)return e.setApplyFillColor(0===o?0:(0,a.colorConvertor)(o,"int",1));break;case d.hasCap:return"w"==t&&e.enableCaption&&e.enableCaption(o);case d.fontColor:case d.fontSize:return"w"==t&&e.setDefaultAppearance&&e.setDefaultAppearance(n.replace("font","text"),o)}},e.prototype.getBorderStyle=function(e){var t=void 0,n=(t=e?e.getModel():this.viewerComponent.getModel()).getBorderStyle(),o=0,r=t.getBorderDashes();if(1==n&&r.length>0){var i=Math.max.apply(Math,r),a=Math.min.apply(Math,r);o=a==i?a>3?3:a>2?2:a<2||2==a?1:3:i>8?6:i>4?5:4}else if(5==t.getBorderStyle()){o=t.getCloudIntensity()+6}return o},e.prototype.setBorderStyle=function(e,t){var n=void 0,o=1;switch(t+""){case"0":n=[],o=0;break;case"1":n=[2,2,2,2];break;case"2":n=[3,3,3,3];break;case"3":n=[4,4,4,4];break;case"4":n=[4,3,2,3];break;case"5":n=[8,4,4,4];break;case"6":n=[4,3,16,3];break;case"7":n=1,o=5;break;case"8":n=2,o=5}e.setBorderStyle(o,n)},e.prototype._getComponnet=function(e){return this.dialog.getComponentByName("annot-property-"+e)},e.prototype.destroy=function(){this.executor.cancel(),this.commitValuesExecutor.cancel(),this.dialog.destroy(),this.PDFUI=null},e}();t.default=g},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";var t="",n=(e=e||{}).dialogName,r=o.$escape,i=e.color,a=e.fillColor,s=e.fontColor,c=e.applyFillColor,u=e.font,l=e.borderWidth,f=e.iconBorderWidth,p=e.opacity,d=e.iconOpacity,h=e.rotationFree,g=e.iconRotate,m=e.borderStyle,v=e.highlightingMode,y=e.rotation,b=e.lineStartStyle,w=e.lineEndStyle,_=e.hasCap,P=e.fontSize,O=e.iconFontSize;return t+="\r\n",t+="\r\n<layer name='",t+=r(n="annot-properties-dialog"),t+="' class=\"fv__ui-",t+=r(n),t+="\" @draggable=\"{type: 'closest', target:'",t+=r(n),t+="', overflow: 'ignore'}\">\r\n<div class=\"fv__ui-",t+=r(n),t+='-container">\r\n    <div name="',t+=r(n),t+='-body" class="fv__properties-body">\r\n        <tabs name="annot-property-tabs" canBeDisabled=\'false\'>\r\n            <tab title="propertiesDialog.color" class="fv__ui-',t+=r(i),t+='">\r\n            <color name="annot-property-',t+=r(i),t+='"></color>\r\n            </tab>\r\n            <tab title="propertiesDialog.fillColor" class="fv__ui-',t+=r(a),t+='">\r\n            <color name="annot-property-',t+=r(a),t+='"></color>\r\n            </tab>\r\n            <tab title="propertiesDialog.fontColor" class="fv__ui-',t+=r(s),t+='">\r\n                <color name="annot-property-',t+=r(s),t+='"></color>\r\n            </tab>\r\n            <tab title="propertiesDialog.applyFillColor" functional-module="redaction" @license-validation class="fv__ui-',t+=r(c),t+='">\r\n            <color name="annot-property-',t+=r(c),t+='"></color>\r\n            </tab>\r\n            <tab name="annot-property-',t+=r(u),t+='" title="propertiesDialog.font" class="fv__ui-',t+=r(u),t+='">\r\n            </tab>\r\n        </tabs>\r\n        <slider class="fv__property-component" unit=\'pt\' max="12" min="0" step="1" value="0"\r\n            name="annot-property-',t+=r(l),t+='" iconclass="',t+=r(f),t+='" @stop-drag></slider>\r\n        <slider class="fv__property-component" unit=\'%\' max="100" min="0" step="1" value="100"\r\n            name="annot-property-',t+=r(p),t+='" iconclass="',t+=r(d),t+='" @stop-drag></slider>\r\n        <slider class="fv__property-component" unit=\'Â°\' max="360" min="0" step="1" value="0"\r\n            name="annot-property-',t+=r(h),t+='" iconclass="',t+=r(g),t+='" @stop-drag></slider>\r\n        <choice class="fv__property-component" name="annot-property-',t+=r(m),t+='"></choice>\r\n        <choice class="fv__property-component" name="annot-property-',t+=r(v),t+='"></choice>\r\n        <choice class="fv__property-component" name="annot-property-',t+=r(y),t+='"></choice>\r\n        <choice class="fv__property-component fv__property-line-ending-style" name="annot-property-',t+=r(b),t+='"></choice>\r\n        <choice class="fv__property-component fv__property-line-ending-style" name="annot-property-',t+=r(w),t+='"></choice>\r\n        <checkbox class="fv__property-component" name="annot-property-',t+=r(_),t+='"></checkbox>\r\n        <slider class="fv__property-component" unit=\'pt\' max="40" min="6" step="1" value="0"\r\n            name="annot-property-',t+=r(P),t+='" iconclass="',t+=r(O),t+='" @stop-drag></slider>\r\n        <div handleon="click" name="annot-property-close" class="fv__ui-dialog-button fv__ui-dialog-cancel-button fv__ui-annot-property-close" canBeDisabled=false style=\'margin-top: 12px;\'>dialog.close</div>\r\n    </div>\r\n</div>\r\n</layer>'}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fontColorConfig=t.applyFillColorConfig=t.fillColorConfig=t.colorConfig=t.startstyleConfig=t.endstyleConfig=t.rotateConfig=t.hilightmodeConfig=t.borderstyleConfig=void 0;var o=n(7),r={iconclass:"fv__ui-property-icon-hilightmode",options:[{value:o.HIGHLIGHTING_MODE.NONE,lable:"propertiesDialog.highlightingMode.none"},{value:o.HIGHLIGHTING_MODE.INVERT,lable:"propertiesDialog.highlightingMode.invert"},{value:o.HIGHLIGHTING_MODE.OUTLINE,lable:"propertiesDialog.highlightingMode.outline"},{value:o.HIGHLIGHTING_MODE.PUSH,lable:"propertiesDialog.highlightingMode.push"}]},i=[{value:0,lable:"propertiesDialog.endingStyle.none",class:"fv__ui-property-icon-end-style-0"},{value:1,lable:"propertiesDialog.endingStyle.square",class:"fv__ui-property-icon-end-style-1"},{value:2,lable:"propertiesDialog.endingStyle.circle",class:"fv__ui-property-icon-end-style-2"},{value:3,lable:"propertiesDialog.endingStyle.diamond",class:"fv__ui-property-icon-end-style-3"},{value:4,lable:"propertiesDialog.endingStyle.openArrow",class:"fv__ui-property-icon-end-style-4"},{value:5,lable:"propertiesDialog.endingStyle.closedArrow",class:"fv__ui-property-icon-end-style-5"},{value:6,lable:"propertiesDialog.endingStyle.butt",class:"fv__ui-property-icon-end-style-6"},{value:7,lable:"propertiesDialog.endingStyle.reverseOpenArrow",class:"fv__ui-property-icon-end-style-7"},{value:8,lable:"propertiesDialog.endingStyle.reverseClosedArrow",class:"fv__ui-property-icon-end-style-8"},{value:9,lable:"propertiesDialog.endingStyle.slash",class:"fv__ui-property-icon-end-style-9"}],a={iconclass:"fv__ui-property-icon-end-style",text:"propertiesDialog.endOfLine",layout:1,noOptionLable:!0,selectorClass:"fv__ui-end-style-selector",options:i},s={iconclass:"fv__ui-property-icon-start-style",text:"propertiesDialog.startOfLine",selectorClass:"fv__ui-start-style-selector",layout:1,noOptionLable:!0,options:i},c={colors:["#ff6633","#ff00ff","#ffcc00","#00ffff","#00ff00","#ffff00","#ff0000","#993399","#cc99ff","#ff99cc","#0000ff","#66cc33","#000000","#333333","#666666","#999999","#cccccc","#ffffff"],transparentclass:"fv__ui-property-icon-nocolor",addclass:"fv__ui-property-icon-add-color",removeclass:"fv__ui-property-icon-remove-color",deleteclass:"fv__ui-property-icon-delete-color-",selectedclass:"fv__ui-property-icon-selected-color-",lightpostname:"light",darkpostname:"dark"},u=Object.assign({transparent:!1},c),l=Object.assign({transparent:!0},c),f=Object.assign({transparent:!1},c),p=Object.assign({transparent:!1},c);t.borderstyleConfig={iconclass:"fv__ui-property-icon-border-style",noOptionLable:!0,selectorClass:"fv__ui-border-style-selector",options:[{value:0,class:"fv__ui-line-style-0"},{value:1,class:"fv__ui-line-style-1"},{value:2,class:"fv__ui-line-style-2"},{value:3,class:"fv__ui-line-style-3"},{value:4,class:"fv__ui-line-style-4"},{value:5,class:"fv__ui-line-style-5"},{value:6,class:"fv__ui-line-style-6"},{value:7,class:"fv__ui-line-style-7"},{value:8,class:"fv__ui-line-style-8"}]},t.hilightmodeConfig=r,t.rotateConfig={iconclass:"fv__ui-property-icon-rotate",options:[{value:0,lable:"propertiesDialog.rotate.degree0"},{value:1,lable:"propertiesDialog.rotate.degree1"},{value:2,lable:"propertiesDialog.rotate.degree2"},{value:3,lable:"propertiesDialog.rotate.degree3"}]},t.endstyleConfig=a,t.startstyleConfig=s,t.colorConfig=u,t.fillColorConfig=l,t.applyFillColorConfig=f,t.fontColorConfig=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=p(n(1706)),i=p(n(4)),a=p(n(10));n(1707);var s=p(n(272)),c=p(n(275)),u=p(n(274)),l=p(n(273)),f=p(n(137));function p(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.PDFUI=t;var o=(0,r.default)();this.dialog=t.parseTemplate(o,[{target:"annot-action-close",config:{callback:function(){n.hide()}}}]),this.dialog.localize(),this.dialog.mounted(),this.$gotoInput=(0,i.default)(this._getComponnet("goto-input").element),this.$urlInput=(0,i.default)(this._getComponnet("url-input").element),this.$selectAction=(0,i.default)(this._getComponnet("select-action").element),this.$gotoLeftValue=(0,i.default)(this._getComponnet("goto-left").element),this.$gotoTopValue=(0,i.default)(this._getComponnet("goto-top").element),this.$okButton=(0,i.default)(this._getComponnet("annot-action-ok").element),t.addViewerEventListener("will-close-document",(function(e){n.dialog&&n.dialog.hide()})),this._bindEvent(),this.hidden=!0,this.isDestroyed=!1}return e.prototype.localize=function(){return this.dialog.localize()},e.prototype.setAnnot=function(e){return this.annotRender=e,this.annot=e.annot,this},e.prototype.show=function(e){var t=this;return this.hidden=!1,this.annot.getActionPromise().then((function(n){return t.syncActionData(e,n)})),(0,i.default)(this.dialog.element).find(".formEditAction").appendTo((0,i.default)(this.dialog.element).find(".inFormAction")),this},e.prototype.hide=function(){return this.clear(),this.dialog.hide(),this.hidden=!0,this},e.prototype._getComponnet=function(e){return this.dialog.getComponentByName(e)},e.prototype.clear=function(){this.$gotoInput.val(1),this.$gotoLeftValue.html(0),this.$gotoTopValue.html(0),this.$urlInput.val("")},e.prototype._bindEvent=function(){var e=this,t=this;t.PDFUI.getPDFViewer().then((function(n){var r=t.$selectAction,p=(0,i.default)(t.dialog.element),d=t.$gotoInput,h=t.$urlInput,g=t.$gotoLeftValue,m=t.$gotoTopValue,v=t.$okButton,y=n.getPDFViewerRender().scrollWrap,b=void 0,w=function(){t.hidden||p.is(":hidden")||(clearTimeout(b),b=setTimeout((function(){var e=n.getDeviceCurrentPosition();d.val(e.pageIndex+1),g.html(e.left.toFixed(2)),m.html(e.top.toFixed(2))}),50))};n.eventEmitter.on(a.default.zoomToSuccess,(function(e,t){w()})),n.eventEmitter.on(a.default.pageNumberChange,(function(){w()}));var _=y.addScrollEventListener(w);t.dialog.on("destroy",(function(){return _()})),t.dialog.on("hidden",(function(){return t.callback&&t.callback()})),r.on("change",(function(e){var n=e.target.value;p.find(".fv__action-dialog-url").show(),p.find(".fv__action-dialog-goto").hide(),"TypeURI"==n&&t.$urlInput.val().length<1&&t.$okButton.addClass("disabled"),"TypeURI"!=n&&(p.find(".fv__action-dialog-url").hide(),p.find(".fv__action-dialog-goto").show(),t.$okButton.removeClass("disabled"))})),r.on("pointerdown",(function(e){e.stopPropagation(),e.stopImmediatePropagation()})),d.on("change",(function(e){var o=e.target,r=o.value;1>r?r=1:r>t.pageCount&&(r=t.pageCount),(o.value=r)&&n.getPDFDocRender().goToPage(r-1,{x:0,y:0})})),v.on("click",(function(i){var p=r.val();if(!t.$okButton.hasClass("disabled")){var v=void 0;switch(p){case"TypeImportData":v=new u.default;case"TypeLaunch":var y=h.val();v||(v=new l.default);var b=new f.default;return b.setFileName(y),v.setFileSpec(b),t.callback(y.length?v:""._),void t.hide();case"TypeURI":var w=h.val(),_=new s.default;if(t.callback)return _.setURI(w),t.callback(w.length?_:""._),e.hide();t.annot.setAction(_).then((function(){t.annot.getAction().setURI(w).then((function(){n.eventEmitter.emit(a.default.addActionSuccess,t.annot),t.hide()}))}));break;case"TypeGoto":var P=n.getPDFDocRender().getScale(),O=new c.default,E={};E.pageIndex=d.val()-1;var x=n.getPDFPageRender(E.pageIndex),C=x.page.reverseDevicePoint([Number(g.html()),Number(m.html())],x.getScale(),x.getRotation()),A=o(C,2),S=A[0],D=A[1];switch(E.left=S,E.top=D,P){case"fitWidth":E.zoomMode="ZoomFitHorz";break;case"fitHeight":E.zoomMode="ZoomFitPage";break;case"fitVisible":E.zoomMode="ZoomFitBHorz";break;default:E.zoomMode="ZoomXYZ",E.zoomFactor=n.getPDFPageRender(E.pageIndex).getScale()}if(t.callback)return O.setDestination(E),t.callback(O),t.hide();t.annot.setAction(O).then((function(){t.annot.getAction().setDestination(E).then((function(){n.eventEmitter.emit(a.default.addActionSuccess,t.annot),t.hide()}))}))}}}))})),t.$urlInput.on("keyup",(function(e){t.$urlInput.val().length>0?t.$okButton.removeClass("disabled"):t.$okButton.addClass("disabled")}))},e.prototype.formatAction=function(e){var t=(0,i.default)(this.dialog.element),n={};if(e)switch(n.type=e.getType(),n.type){case"TypeImportData":n.uri=e.getFileSpec().getFileName(),t.find(".fv__action-dialog-url-title").text(this.PDFUI.i18n.t("dialog.actionDialog.importTitle"));break;case"TypeLaunch":n.uri=e.getFileSpec().getFileName(),t.find(".fv__action-dialog-url-title").text(this.PDFUI.i18n.t("dialog.actionDialog.launchTitle"));break;case"TypeURI":n.uri=e.getURI();break;case"TypeGoto":n.destination=e.getDestination()}return n},e.prototype.destroy=function(){if(!this.isDestroyed){var e=this.$selectAction,t=this.$gotoInput,n=this.$urlInput,o=this.$okButton;e.off("change"),e.off("pointerdown"),t.off("change"),o.off("click"),n.off("keyup"),this.dialog.destroy(),this.dialog=null,this.$gotoInput=null,this.$urlInput=null,this.$selectAction=null,this.$gotoLeftValue=null,this.$gotoTopValue=null,this.$okButton=null,this.PDFUI=null,this.isDestroyed=!0}},e.prototype.setCallback=function(e){this.callback=e},e.prototype.reset=function(){},e.prototype.showFixedType=function(e,t,n){var o=this;return this.hidden=!1,this.syncActionData(e,n,t).then((function(e){(0,i.default)(o.dialog.element);switch(t){case"TypeImportData":case"TypeLaunch":(0,i.default)(o.dialog.element).find(".formEditAction").appendTo((0,i.default)(o.dialog.element).find("#select-action"))}o.$selectAction.val(t).attr("disabled","1"),"TypeURI"==t&&o.$urlInput.val().length<1&&o.$okButton.addClass("disabled"),"TypeURI"!=t&&o.$okButton.removeClass("disabled")})),this},e.prototype.syncActionData=function(e,t,n){var r=this;return this.PDFUI.getRootComponent().then((function(a){e&&(e.pageX+260>a.element.offsetWidth?r.dialog.element.style.left=a.element.offsetWidth-260+"px":r.dialog.element.style.left=e.pageX+"px",e.pageY+410>a.element.offsetHeight?r.dialog.element.style.top=a.element.offsetHeight-410+"px":r.dialog.element.style.top=e.pageY+"px"),r.dialog.open(a.element);var s=r.formatAction(t),c=(0,i.default)(r.dialog.element);return r.PDFUI.getPDFViewer().then((function(e){var t=r.pageCount=e.getPDFDocRender().getPDFDoc().getPageCount();if(r.$gotoInput.attr("max",t),s&&s.type)switch(c.find("#select-action [value="+s.type+"]").prop("selected",!0),s.type){case"TypeImportData":case"TypeLaunch":case"TypeURI":c.find(".fv__action-dialog-url").show(),c.find(".fv__action-dialog-goto").hide(),r.$urlInput.val(s.uri),s.uri,r.$okButton.addClass("disabled");break;case"TypeGoto":if(c.find(".fv__action-dialog-url").hide(),c.find(".fv__action-dialog-goto").show(),!s.destination)break;r.$okButton.removeClass("disabled"),r.$gotoInput.val(s.destination.pageIndex+1);var i=e.getPDFPageRender(s.destination.pageIndex);i.getPDFPage().then((function(e){var t=e.getDevicePoint([s.destination.left,s.destination.top],i.getScale(),i.getRotation()),n=o(t,2),a=n[0],c=n[1];r.$gotoLeftValue.html(a.toFixed(2)),r.$gotoTopValue.html(c.toFixed(2))}))}else{switch(n){case"TypeImportData":c.find(".fv__action-dialog-url-title").text(r.PDFUI.i18n.t("dialog.actionDialog.importTitle")),c.find(".fv__action-dialog-url").show(),c.find(".fv__action-dialog-goto").hide();break;case"TypeLaunch":c.find(".fv__action-dialog-url-title").text(r.PDFUI.i18n.t("dialog.actionDialog.launchTitle")),c.find(".fv__action-dialog-url").show(),c.find(".fv__action-dialog-goto").hide();break;case"TypeURI":c.find(".fv__action-dialog-url-title").text(r.PDFUI.i18n.t("dialog.actionDialog.URLAction.title")),c.find(".fv__action-dialog-url").show(),c.find(".fv__action-dialog-goto").hide();break;default:r.$selectAction.val("TypeGoto"),c.find(".fv__action-dialog-url").hide(),c.find(".fv__action-dialog-goto").show()}var a=e.getDeviceCurrentPosition();r.$gotoInput.val(a.pageIndex+1),r.$gotoLeftValue.html(a.left.toFixed(2)),r.$gotoTopValue.html(a.top.toFixed(2))}}))}))},e}();t.default=d},function(e,t,n){var o=n(2);e.exports=function(e){"use strict";var t="",n=((e=e||{}).dialogName,o.$escape);return t+="\r\n<layer name='",t+=n("annot-actions-dialog"),t+="' class=\"fv__ui-",t+=n("annot-actions-dialog"),t+=' center" @draggable="">\r\n    <layer-header title="dialog.actionDialog.title"></layer-header>\r\n    <div class="fv__action-dialog-container" @stop-drag>\r\n        <div class="fv__action-dialog-body">\r\n            <div class="fv__action-dialog-select">\r\n                <span class="fv__action-dialog-select-title"><span data-i18n="dialog.actionDialog.selectKey"></span><span>:</span></span>\r\n                <select id="select-action" name="select-action">\r\n                    <option value="TypeGoto" data-i18n="dialog.actionDialog.selectAction.goto"></option>\r\n                    <option value="TypeURI" data-i18n="dialog.actionDialog.selectAction.webLink"></option>\r\n                </select>\r\n                <span  class="inFormAction">\r\n                    <option value="TypeImportData" class="formEditAction" data-i18n="dialog.actionDialog.selectAction.import"></option>\r\n                    <option value="TypeLaunch" class="formEditAction" class="inFormAction" data-i18n="dialog.actionDialog.selectAction.file"></option>\r\n                </span>\r\n            </div>\r\n            <div class="fv__action-dialog-url fv__action-dialog-box">\r\n                <div class="fv__action-dialog-url-title fv__action-box-title" data-i18n="dialog.actionDialog.URLAction.title"></div>\r\n                <div class="fv__action-dialog-url-input">\r\n                    <input class="fv__action-dialog-input" id="url-input" name="url-input" />\r\n                </div>\r\n            </div>\r\n            <div class="fv__action-dialog-goto fv__action-dialog-box" style="display:block;">\r\n                <div class="fv__action-dialog-goto-container">\r\n                    <div class="fv__action-dialog-goto-center">\r\n                        <div class="fv__action-dialog-goto-left">\r\n                            <div class="fv__action-dialog-goto-target"><span data-i18n="dialog.actionDialog.GotoAction.target"></span><span>:</span></div>\r\n                        </div>\r\n                        <div class="fv__action-dialog-goto-right">\r\n                        <div class="fv__action-dialog-goto-right">\r\n                            <div class="fv__action-dialog-goto-input">\r\n                                <input type="number" min="1" class="fv__action-dialog-input" id="goto-input" name="goto-input" />\r\n                            </div>\r\n                            <div class="fv__action-dialog-goto-position">\r\n                                <span class="fv__action-dialog-goto-position-left" data-i18n="dialog.actionDialog.GotoAction.left"></span><span>:</span><span class="fv__action-dialog-goto-left-value" name="goto-left">0</span>\r\n                                <span class="fv__action-dialog-goto-position-top" data-i18n="dialog.actionDialog.GotoAction.top"></span><span>:</span><span class="fv__action-dialog-goto-top-value" name="goto-top">0</span>\r\n                            </div>\r\n                        </div>\r\n                        <div class="fv__action-dialog-goto-title fv__action-box-title" data-i18n="dialog.actionDialog.GotoAction.title"></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="fv__action-dialog-footer">\r\n            <div class="fv__action-dialog-btns">\r\n                <button type="button" class="fv__ui-dialog-cancel-button" data-i18n="dialog.actionDialog.Cancel" name="annot-action-close"></button>\r\n                <button type="button" class="fv__ui-dialog-ok-button" data-i18n="dialog.actionDialog.OK" name="annot-action-ok"></button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</layer>'}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(1709)),r=a(n(4));n(1710);a(n(10));var i=n(14);function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.PDFUI=t;var i=(0,o.default)();this.dialog=t.parseTemplate(i,[]),this.dialog.localize(),this.dialog.mounted(),t.addViewerEventListener("will-close-document",(function(e){n.dialog.hide()})),this.$dialog=(0,r.default)(this.dialog.element),this._bindEvent()}return e.prototype.localize=function(){return this.dialog.localize()},e.prototype.setAnnot=function(e){return this.annotRender=e,this.annot=e.annot,this},e.prototype.show=function(e){var t=this;return this.PDFUI.getPDFViewer().then((function(e){t.docPageCount=e.currentPDFDoc.info.pageCount,t.$dialog.find(".fv__redaction-page-range").val("").attr("placeholder","Max: "+t.docPageCount)})),this.PDFUI.getRootComponent().then((function(n){if(t.dialog.open(n.element),t.hideError(),(0,r.default)(".fv__redaction-page-range").attr("disabled",""),e){var o=t.dialog.element,a=o.offsetWidth,s=o.offsetHeight;i.isMobile?t.dialog.element.style.cssText="\n                        left: "+(n.element.offsetWidth/2-a/2)+"px;\n                        top: "+(n.element.offsetHeight/2-s/2)+"px;\n                    ":(e.pageX+260>n.element.offsetWidth?t.dialog.element.style.left=n.element.offsetWidth-260+"px":t.dialog.element.style.left=e.pageX+"px",e.pageY+410>n.element.offsetHeight?t.dialog.element.style.top=n.element.offsetHeight-410+"px":t.dialog.element.style.top=e.pageY+"px")}t.dialog.element.querySelector(".redaction-page-radio").checked=!0})),this},e.prototype.hide=function(){return this.dialog.hide(),this},e.prototype._getComponnet=function(e){return this.dialog.getComponentByName(e)},e.prototype._bindEvent=function(){var e=this;this.$dialog.on("click",".fv__redaction-cancel",(function(){e.hide()})).on("click",".fv__redaction-btn",(function(t){e.submit()})).on("change",".redaction-page-radio",(function(t){t.target.checked&&(e.hideError(),"1"==t.target.value?(0,r.default)(".fv__redaction-page-range").attr("disabled",""):(0,r.default)(".fv__redaction-page-range").removeAttr("disabled"))})).on("keydown",".fv__redaction-page-range",(function(t){e.hideError()}))},e.prototype.submit=function(){var e=this,t=this.docPageCount,n="1"==(0,r.default)(".redaction-page-radio:checked").val(),o=this.annot.getPDFPage().getIndex(),i=[];if(n)for(var a=0;a<t;a++)o!=a&&i.push(a);else{var s=(0,r.default)(".fv__redaction-page-range").val();if(new RegExp(/[^\d\-,]/).test(s))return void this.showError();for(var c=s.split(","),u=0;u<c.length;u++){var l=c[u];if(l.indexOf("-")>-1){var f=l.split("-");if(f.length>2)return void this.showError();if(f[0]<1||f[0]>t||f[1]<1||f[1]>t)return void this.showError();for(var p=Math.min(f[0],f[1]),d=Math.max(f[0],f[1]),h=p;h<=d;h++)o!=h&&i.push(h-1)}else{if(l<1||l>t)return void this.showError();-1===i.indexOf(i)&&i.push(l-1)}}}this.annotRender.placeRedact(i).then((function(t){e.hide()}))},e.prototype.hideError=function(){this.dialog.element.querySelector(".fv__redaction-page-range").classList.remove("fv__redaction-error")},e.prototype.showError=function(){this.dialog.element.querySelector(".fv__redaction-page-range").classList.add("fv__redaction-error")},e.prototype.destroy=function(){this.$dialog.off("click"),this.$dialog.off("change"),this.$dialog.off("keydown"),this.dialog.destroy(),this.annotRender=null,this.annot=null,this.$dialog=null,this.PDFUI=null},e}();t.default=s},function(e,t,n){n(2);e.exports=function(e){"use strict";e=e||{};return'<layer name=\'place-redact-dialog\' class="fv__ui-place-redact-dialog" @draggable="">\r\n   <layer-header title="dialog.placeRedactionDialog.title"></layer-header>\r\n   <div class="fv__place-redaction-dialog-body">\r\n        <div class="fv__redaction-container">\r\n        <label>\r\n            <input name="redaction-page-type" class="redaction-page-radio" type="radio" checked value="1" /><span data-i18n="dialog.placeRedactionDialog.allPage"></span>\r\n        </label>\r\n        </div>\r\n        <div class="fv__redaction-container">\r\n            <label>\r\n                <input name="redaction-page-type" class="redaction-page-radio" type="radio" value="2" /><span data-i18n="dialog.placeRedactionDialog.specificPage"></span>\r\n                <div class="fv__redaction-range"><span data-i18n=\'dialog.placeRedactionDialog.pageRange\'></span> <input type="text" class="fv__redaction-page-range" disabled /></div>\r\n                </label>\r\n        </div> \r\n   </div>\r\n   <div class="fv__place-redaction-dialog-footer">\r\n        <div class="fv__redaction-container" style="text-align:right">\r\n            <button type="button" class="fv__redaction-cancel fv__ui-dialog-cancel-button" name="place-redaction-dialog-close" data-i18n="dialog.cancel"></button>\r\n            <button type="button" class="fv__redaction-btn fv__ui-dialog-ok-button" data-i18n="dialog.ok"></button>\r\n        </div>\r\n   </div>\r\n</layer>\r\n\r\n\r\n','<layer name=\'place-redact-dialog\' class="fv__ui-place-redact-dialog" @draggable="">\r\n   <layer-header title="dialog.placeRedactionDialog.title"></layer-header>\r\n   <div class="fv__place-redaction-dialog-body">\r\n        <div class="fv__redaction-container">\r\n        <label>\r\n            <input name="redaction-page-type" class="redaction-page-radio" type="radio" checked value="1" /><span data-i18n="dialog.placeRedactionDialog.allPage"></span>\r\n        </label>\r\n        </div>\r\n        <div class="fv__redaction-container">\r\n            <label>\r\n                <input name="redaction-page-type" class="redaction-page-radio" type="radio" value="2" /><span data-i18n="dialog.placeRedactionDialog.specificPage"></span>\r\n                <div class="fv__redaction-range"><span data-i18n=\'dialog.placeRedactionDialog.pageRange\'></span> <input type="text" class="fv__redaction-page-range" disabled /></div>\r\n                </label>\r\n        </div> \r\n   </div>\r\n   <div class="fv__place-redaction-dialog-footer">\r\n        <div class="fv__redaction-container" style="text-align:right">\r\n            <button type="button" class="fv__redaction-cancel fv__ui-dialog-cancel-button" name="place-redaction-dialog-close" data-i18n="dialog.cancel"></button>\r\n            <button type="button" class="fv__redaction-btn fv__ui-dialog-ok-button" data-i18n="dialog.ok"></button>\r\n        </div>\r\n   </div>\r\n</layer>\r\n\r\n\r\n'}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(124),i=(o=r)&&o.__esModule?o:{default:o},a=n(5),s=n(153);function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=function(e){function t(n,o,r,i,c){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var u=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return u.target=o,u.anchor=i,u.pdfViewer=n,u.contextMenuComponent=r,u.contextmenuHandler=function(e){var t=u.findTarget(c.selector,e.target);if(t&&!u.isDisabled){if(u.currentAnchorElement=t,u.target instanceof a.AnnotComponent){if(!u.getAnnotTarget().showContextMenu(e.clientX,e.clientY))return}else if("function"==typeof u.target.getContextMenuComponentName){if(u.setCurrentTarget(u.target),!u.showAt(e.clientX,e.clientY))return}else{var n=+u.currentAnchorElement.closest("[data-index]").getAttribute("data-index"),o=u.pdfViewer.getPDFPageRender(n);if(u.setCurrentTarget(o.page),!u.showAt(e.clientX,e.clientY))return}e.stopPropagation(),e.preventDefault()}},r.on("hidden",(function(){u.hiddenCallbacks.forEach((function(e){return e.call(u)}))})),u.detachContextMenuEvent=(0,s.attachContextMenuEvent)(i,u.contextmenuHandler),u}return c(t,e),t.prototype.setCurrentTarget=function(t){e.prototype.setCurrentTarget.call(this,t),this.contextMenuComponent.setCurrentTarget(t)},t.prototype.findTarget=function(e,t){var n=t.querySelector(e);if(n)return n;for(var o=t;o;){if(o.matches(e))return o;o=o.parentElement}},t.prototype.getAnnotTarget=function(){var e=this.target,t=e.annot;if(t.isGrouped&&t.isGrouped()){var n=t.getGroupHeader(),o=n.getIntent();o&&"replace"===o.toLowerCase()&&(e=e.annotsRender.getAnnotRender(n.getId()).component)}return this.setCurrentTarget(e),e},t.prototype.showAt=function(t,n){if(this.contextMenuComponent.isDestroyed)return!1;e.prototype.showAt.call(this,t,n),this.contextMenuComponent.trigger("beforeshow");var o=this.contextMenuComponent.showAt(t,n);return this.contextMenuComponent.trigger("aftershow"),o},t.prototype.destroy=function(){this.contextMenuComponent.hide(),this.detachContextMenuEvent()},t}(i.default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(160);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=function(e){function t(n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o));return i.tooltipComponent=r,i}return i(t,e),t.prototype.onShow=function(e){this.callback=e},t.prototype.showAt=function(t,n,o,r,i){if(e.prototype.showAt.call(this,t,n),!this.callback||!this.callback()){o||(o=this.pageRender.$ui);var a=o[0];this.tooltipComponent.showAt(t,n,a),this.tooltipComponent.addCSSClass(r),this.tooltipComponent.removeCSSClass(i)}},t.prototype.hide=function(){e.prototype.hide.call(this),this.tooltipComponent.hide()},t.prototype.destroy=function(){this.tooltipComponent.hide()},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(160)),r=a(n(219)),i=n(8);function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(n,o,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o));s.textSelectionTool=new r.default(n,o),s.tooltipComponent=a;var c=function(e){var t=e.getPermissionsSync(),n=s.tooltipComponent.children();n&&0==n.length||(n.forEach((function(e){32&t?e.enable():e.disable()})),16&t?n[0].enable():n[0].disable())};return n.eventEmitter.on("permission-changed",c),s.addDestroyHook(a.on(i.COMPONENT_EVENTS.HIDDEN,(function(){e.prototype.hide.call(s)})),(function(e){return n.eventEmitter.off("permission-changed",c)})),n.currentPDFDoc&&c(n.currentPDFDoc),s}return s(t,e),t.prototype.showAt=function(t,n,o,r){e.prototype.showAt.call(this,t,n);var i=this.pageRender.$ui.get(0),a=this.tooltipComponent;a.setCurrentSelectionTool(this.textSelectionTool),a.showAt(t,n,i,(function(e){var o=e.offsetHeight,s=e.offsetWidth,c=t-.5*s,u=n-o-10,l=i.clientWidth-s;c=Math.max(0,Math.min(c,l));var f=Math.max.apply(Math,r.map((function(e){return e.bottom})));return u<0?(u=f+10,a.setAlignment("bottom")):a.setAlignment("top"),{left:c,top:u}}))},t.prototype.hide=function(){e.prototype.hide.call(this),this.tooltipComponent.hide()},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.tooltipComponent.hide(),this.textSelectionTool.destroy()},t}(o.default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(160);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=function(e){function t(n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o));return i.pageRender=o,i.tooltipComponent=r,i}return i(t,e),t.prototype.showAt=function(t,n){e.prototype.showAt.call(this,t,n);var o=document.getElementsByTagName("body")[0];this.tooltipComponent.showAt(t,n,o,(function(e){return{left:t,top:n}}))},t.prototype.hide=function(){e.prototype.hide.call(this),this.tooltipComponent.hide()},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.tooltipComponent.hide()},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=c(n(162)),r=c(n(341)),i=c(n(596)),a=c(n(1724)),s=c(n(1728));function c(e){return e&&e.__esModule?e:{default:e}}t.default={simple:o.default,adaptive:s.default,ribbon:r.default,nonRibbon:a.default,mobile:i.default,Appearance:o.default,AdaptiveAppearance:s.default,RibbonAppearance:r.default,NonRibbonAppearance:a.default,MobileAppearance:i.default}},function(e,t,n){n(2);e.exports=function(e){"use strict";e=e||{};return'<webpdf>\r\n    <div class="fv__ui-mobile-header" name="fv--mobile-header">\r\n        <div class="fv__ui-mobile-header-left" name="fv--mobile-header-left">\r\n            <mobile:sidebar-toggler-button name="fv--mobile-sidebar-tottler-button"></mobile:sidebar-toggler-button>\r\n        </div>\r\n        <div class="fv__ui-mobile-header-main" name="fv--mobile-header-main">\r\n            <dropdown name="tabs" class="fv__ui-mobile-tabs-dropdown" @controller="mobile:MobileDropdownTabController as mtab" @on.click="mtab.toggleTab()">\r\n                <li @on.click="mtab.switchTab($component)" name="comment-tab-li">\r\n                    <gtab name="comment-tab" active group="mobile-tab" body="comment-tab-body" text="toolbar.tabs.comment.title"></gtab>\r\n                </li>\r\n                <li @on.click="mtab.switchTab($component)" name="protect-tab-li" @hide-on-sr @collab-unsupported>\r\n                    <gtab name="protect-tab" group="mobile-tab" body="protect-tab-body" text="toolbar.tabs.protect.title"></gtab>\r\n                </li>\r\n            </dropdown>\r\n        </div>\r\n        <div class="fv__ui-mobile-header-right" name="fv--mobile-header-right">\r\n            <hand-button icon-class="fv__icon-mobile-topbar-hand"></hand-button>\r\n            <change-color-dropdown @hide-on-sr></change-color-dropdown>\r\n            <mobile:pageview-dropdown name="fv--mobile-pageview-dropdown" @selectable-dropdown="1">\r\n                <single-page-button></single-page-button>\r\n                <continuous-page-button></continuous-page-button>\r\n                \x3c!-- <facing-page-button></facing-page-button>\r\n                <continuous-facing-page-button></continuous-facing-page-button> --\x3e\r\n                <h-continuous:h-continuous-button></h-continuous:h-continuous-button>\r\n                \x3c!--<h-single:h-single-button></h-single:h-single-button>--\x3e\r\n                \x3c!--<h-facing:h-facing-button></h-facing:h-facing-button>--\x3e\r\n            </mobile:pageview-dropdown>\r\n            <xbutton name="fv--mobile-topbar-search-button" icon-class="fv__icon-mobile-topbar-search" @controller="mobile:SearchToggleButtonController"></xbutton>\r\n            <dropdown class="fv__ui-mobile-topbar-tools-dropdown fv__ui-dropdown-hide-text" name="fv--mobile-topbar-tools-dropdown" @cannotBeDisabled>\r\n                <open-localfile-button @cannotBeDisabled></open-localfile-button>\r\n                <open-fromurl-button @cannotBeDisabled></open-fromurl-button>\r\n                <print:print-button></print:print-button>\r\n                <download-file-button></download-file-button>\r\n                <full-screen:toggle-full-screen-button name="fv--toggle-full-screen-button" @hide-on-device="ios"></full-screen:toggle-full-screen-button>\r\n                <fpmodule:file-property-button name="fv--file-property-button"></fpmodule:file-property-button>\r\n            </dropdown>\r\n        </div>\r\n    </div>\r\n    <toolbar>\r\n        <div class="fv__ui-mobile-tab-bodies" name="fv--mobile-toolbar-tabs">\r\n            <div class="fv__ui-mobile-tab-body" name="comment-tab-body">\r\n                <group-list shrink-size="-1">\r\n                    <group>\r\n                        <dropdown @selectable-dropdown="first" class="fv__ui-dropdown-hide-text">\r\n                            <create-text-highlight-button></create-text-highlight-button>\r\n                            <create-area-highlight-button></create-area-highlight-button>\r\n                            <create-strikeout-button></create-strikeout-button>\r\n                            <create-underline-button></create-underline-button>\r\n                            <create-squiggly-button></create-squiggly-button>\r\n                            <create-replace-button></create-replace-button>\r\n                            <create-caret-button></create-caret-button>\r\n                        </dropdown>\r\n                        <dropdown @selectable-dropdown="first" class="fv__ui-dropdown-hide-text">\r\n                            <create-textbox-button></create-textbox-button>\r\n                            <create-typewriter-button></create-typewriter-button>\r\n                            <create-callout-button></create-callout-button>\r\n                        </dropdown>\r\n                        <create-drawings-dropdown></create-drawings-dropdown>\r\n                    </group>\r\n                    <group>\r\n                        <dropdown @selectable-dropdown="first" class="fv__ui-dropdown-hide-text">\r\n                            <create-pencil-button></create-pencil-button>\r\n                            <eraser-button></eraser-button>\r\n                        </dropdown>\r\n                        <stamp-dropdown align="client-center"></stamp-dropdown>\r\n                        <dropdown name="fv-mobile-attachment-dropdown" @selectable-dropdown="first" class="fv__ui-dropdown-hide-text">\r\n                            <create-note-button></create-note-button>\r\n                            <create-attachment-button></create-attachment-button>\r\n                            <create-image-button @hide-on-sr @collab-unsupported></create-image-button>\r\n                            <create-link-button @hide-on-sr @collab-unsupported></create-link-button>\r\n                        </dropdown>\r\n                    </group>\r\n                    <group name="fv--mobile-media-group" @hide-on-sr @collab-unsupported>\r\n                        <multi-media:multi-media-button></multi-media:multi-media-button>\r\n                    </group>\r\n                    <group name="home-tab-group-form" @hide-on-sr class="fv__ui-form-group" @collab-unsupported>\r\n                        <form-to-sheet-module:form-to-sheet-dropdown><form-to-sheet-module:form-to-sheet-dropdown/>\r\n                        <import-form-module:import-form-button></import-form-module:import-form-button>\r\n                        <export-form-module:export-form-dropdown></export-form-module:export-form-dropdown>\r\n                    </group>\r\n                </group-list>\r\n            </div>\r\n            <div class="fv__ui-mobile-tab-body" @hide-on-sr name="protect-tab-body">\r\n                <group-list shrink-size="-1" name="protect-toolbar-group-list">\r\n                    <group name="protect-tab-group-sign">\r\n                        <ink-sign-dropdown name="fv--ink-sign-dropdown"></ink-sign-dropdown>\r\n                    </group>\r\n                    <group name="password-protect-group">\r\n                        <password-protect:password-protect-button></password-protect:password-protect-button>\r\n                        <password-protect:remove-protect-button></password-protect:remove-protect-button>\r\n                    </group>\r\n                    <group name="redaction" functional-module="redaction" @license-validation>\r\n                        <redaction:create-redactions-dropdown></redaction:create-redactions-dropdown>\r\n                        <redaction:apply-redactions-button></redaction:apply-redactions-button>\r\n                        <redaction:redaction-search-button></redaction:redaction-search-button>\r\n                    </group>\r\n                </group-list>\r\n            </div>\r\n        </div>\r\n    </toolbar>\r\n    <div class="fv__ui-body">\r\n        <sidebar name="sidebar" @controller="sidebar:SidebarController" width="0.64" @mobile:sidebar-toggler>\r\n            <bookmark-sidebar-panel></bookmark-sidebar-panel>\r\n            <commentlist-sidebar-panel>\r\n                <slot for="header">\r\n                    <comment-list:toggle-commentlist-group-button></comment-list:toggle-commentlist-group-button>\r\n                    <dropdown separate="false" class="comment-list-dropdown" icon-class="fv__icon-toolbar-more">\r\n                        \x3c!-- <comment-list:expand-pages-button></comment-list:expand-pages-button>\r\n                        <comment-list:collapse-pages-button></comment-list:collapse-pages-button> --\x3e\r\n                        <comment-list:show-comment-button></comment-list:show-comment-button>\r\n                        <comment-list:hide-comment-button></comment-list:hide-comment-button>\r\n                        <comment-list:import-comment-button></comment-list:import-comment-button>\r\n                        <dropdown-item class="fv__ui-dropdown-container-item">\r\n                            <comment-list:export-comment-dropdown></comment-list:export-comment-dropdown>\r\n                        </dropdown-item>\r\n                        <dropdown-item class="fv__ui-dropdown-container-item">\r\n                            <comment-list:sort-comments-dropdown></comment-list:sort-comments-dropdown>\r\n                        </dropdown-item>\r\n                    </dropdown>\r\n                </slot>\r\n            </commentlist-sidebar-panel>\r\n            <thumbnail-sidebar-panel @require-modules="thumbnail"></thumbnail-sidebar-panel>\r\n            <layer-sidebar-panel @hide-on-sr></layer-sidebar-panel>\r\n            <search-sidebar-panel></search-sidebar-panel>\r\n            \x3c!-- <field-sidebar-panel>\r\n                <slot for="header">\r\n                    <dropdown class="field-order-dropdown" icon-class="fv__icon-order" separate="false" @controller="field:FieldSidebarMenuController as fsmc">\r\n                        <option-group>\r\n                            <option-group-item @on.click="fsmc.setOrder(\'row\')">sidebar.field.order.row</option-group-item>\r\n                            <option-group-item @on.click="fsmc.setOrder(\'column\')">sidebar.field.order.column</option-group-item>\r\n                            <option-group-item @on.click="fsmc.setOrder(\'structure\')">sidebar.field.order.structure</option-group-item>\r\n                        </option-group>\r\n                    </dropdown>\r\n                    <dropdown class="field-orderaz-dropdown" icon-class="fv__icon-orderaz" separate="false" @controller="field:FieldSidebarMenuController as fsmc">\r\n                        <option-group>\r\n                            <option-group-item @on.click="fsmc.setOrder(\'alphabetic\')">sidebar.field.order.alphabetic</option-group-item>\r\n                            <option-group-item selected @on.click="fsmc.setOrder(\'tab\')">sidebar.field.order.tab</option-group-item>\r\n                        </option-group>\r\n                    </dropdown>\r\n                </slot>\r\n            </field-sidebar-panel> --\x3e\r\n            <attachment-sidebar-panel></attachment-sidebar-panel>\r\n        </sidebar>\r\n        <viewer @zoom-on-pinch @zoom-on-doubletap @touch-to-scroll></viewer>\r\n        <page-nav-button></page-nav-button>\r\n    </div>\r\n    <template name="template-container">\r\n        <create-stamp-dialog></create-stamp-dialog>\r\n        <print:print-dialog></print:print-dialog>\r\n        <loupe-tool-dialog></loupe-tool-dialog>\r\n        <create-ink-sign-dialog></create-ink-sign-dialog>\r\n        <measurement-popup></measurement-popup>\r\n        <fpmodule:file-property-dialog></fpmodule:file-property-dialog>\r\n        <redaction:redaction-page-dialog @hide-on-sr></redaction:redaction-page-dialog>\r\n        \x3c!-- contextmenus --\x3e\r\n        <page-contextmenu></page-contextmenu>\r\n        <measurement-contextmenu></measurement-contextmenu>\r\n        <default-annot-contextmenu></default-annot-contextmenu>\r\n        <markup-contextmenu name="fv--line-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--linearrow-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--linedimension-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--polylinedimention-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--polygondimension-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--circle-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--square-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--polyline-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--polygon-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--polygoncloud-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--ink-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--stamp-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--text-contextmenu"></markup-contextmenu>\r\n        <caret-contextmenu name="fv--areahighlight-contextmenu"></caret-contextmenu>\r\n        <caret-contextmenu name="fv--replace-contextmenu"></caret-contextmenu>\r\n        <markup-contextmenu></markup-contextmenu>\r\n        <caret-contextmenu name="fv--caret-contextmenu"></caret-contextmenu>\r\n        <textmarkup-contextmenu name="fv--highlight-contextmenu"></textmarkup-contextmenu>\r\n        <textmarkup-contextmenu name="fv--strikeout-contextmenu"></textmarkup-contextmenu>\r\n        <textmarkup-contextmenu name="fv--underline-contextmenu"></textmarkup-contextmenu>\r\n        <textmarkup-contextmenu name="fv--squiggly-contextmenu"></textmarkup-contextmenu>\r\n        <freetext-contextmenu name="fv--typewriter-contextmenu"></freetext-contextmenu>\r\n        <freetext-contextmenu name="fv--callout-contextmenu"></freetext-contextmenu>\r\n        <freetext-contextmenu name="fv--textbox-contextmenu"></freetext-contextmenu>\r\n        <action-annot-contextmenu name="fv--image-contextmenu"></action-annot-contextmenu>\r\n        <action-annot-contextmenu name="fv--link-contextmenu"></action-annot-contextmenu>\r\n        <comment-card-contextmenu></comment-card-contextmenu>\r\n        <fileattachment-contextmenu></fileattachment-contextmenu>\r\n        <media-contextmenu @hide-on-sr></media-contextmenu>\r\n        <sound-contextmenu @hide-on-sr></sound-contextmenu>\r\n        <redact-contextmenu></redact-contextmenu>\r\n        <edit-graphics:image-contextmenu></edit-graphics:image-contextmenu>\r\n        <edit-pageobjects:path-contextmenu></edit-pageobjects:path-contextmenu>\r\n        <text-sel:text-selection-tooltip></text-sel:text-selection-tooltip>\r\n        <freetext:freetext-tooltip></freetext:freetext-tooltip>\r\n        <annottext name="fv--annottext-tooltip"></annottext>\r\n        \x3c!-- Field panel contentmenu --\x3e\r\n        <contextmenu name="fv--field-contextmenu" @controller="field:FieldSidebarMenuController">\r\n            <contextmenu-item name="fv--contextmenu-item-properties">contextmenu.fieldPanel.properties</contextmenu-item>\r\n            <contextmenu-item name="fv--contextmenu-item-rename">contextmenu.fieldPanel.rename</contextmenu-item>\r\n            <contextmenu-item name="fv--contextmenu-item-delete">contextmenu.fieldPanel.delete</contextmenu-item>\r\n        </contextmenu>\r\n        <comment-list:filter-dialog name="fv--commentlist-filter-comment-dialog"></comment-list:filter-dialog>\r\n        <signature:signed-property-dialog></signature:signed-property-dialog>\r\n    </template>\r\n</webpdf>','<webpdf>\r\n    <div class="fv__ui-mobile-header" name="fv--mobile-header">\r\n        <div class="fv__ui-mobile-header-left" name="fv--mobile-header-left">\r\n            <mobile:sidebar-toggler-button name="fv--mobile-sidebar-tottler-button"></mobile:sidebar-toggler-button>\r\n        </div>\r\n        <div class="fv__ui-mobile-header-main" name="fv--mobile-header-main">\r\n            <dropdown name="tabs" class="fv__ui-mobile-tabs-dropdown" @controller="mobile:MobileDropdownTabController as mtab" @on.click="mtab.toggleTab()">\r\n                <li @on.click="mtab.switchTab($component)" name="comment-tab-li">\r\n                    <gtab name="comment-tab" active group="mobile-tab" body="comment-tab-body" text="toolbar.tabs.comment.title"></gtab>\r\n                </li>\r\n                <li @on.click="mtab.switchTab($component)" name="protect-tab-li" @hide-on-sr @collab-unsupported>\r\n                    <gtab name="protect-tab" group="mobile-tab" body="protect-tab-body" text="toolbar.tabs.protect.title"></gtab>\r\n                </li>\r\n            </dropdown>\r\n        </div>\r\n        <div class="fv__ui-mobile-header-right" name="fv--mobile-header-right">\r\n            <hand-button icon-class="fv__icon-mobile-topbar-hand"></hand-button>\r\n            <change-color-dropdown @hide-on-sr></change-color-dropdown>\r\n            <mobile:pageview-dropdown name="fv--mobile-pageview-dropdown" @selectable-dropdown="1">\r\n                <single-page-button></single-page-button>\r\n                <continuous-page-button></continuous-page-button>\r\n                \x3c!-- <facing-page-button></facing-page-button>\r\n                <continuous-facing-page-button></continuous-facing-page-button> --\x3e\r\n                <h-continuous:h-continuous-button></h-continuous:h-continuous-button>\r\n                \x3c!--<h-single:h-single-button></h-single:h-single-button>--\x3e\r\n                \x3c!--<h-facing:h-facing-button></h-facing:h-facing-button>--\x3e\r\n            </mobile:pageview-dropdown>\r\n            <xbutton name="fv--mobile-topbar-search-button" icon-class="fv__icon-mobile-topbar-search" @controller="mobile:SearchToggleButtonController"></xbutton>\r\n            <dropdown class="fv__ui-mobile-topbar-tools-dropdown fv__ui-dropdown-hide-text" name="fv--mobile-topbar-tools-dropdown" @cannotBeDisabled>\r\n                <open-localfile-button @cannotBeDisabled></open-localfile-button>\r\n                <open-fromurl-button @cannotBeDisabled></open-fromurl-button>\r\n                <print:print-button></print:print-button>\r\n                <download-file-button></download-file-button>\r\n                <full-screen:toggle-full-screen-button name="fv--toggle-full-screen-button" @hide-on-device="ios"></full-screen:toggle-full-screen-button>\r\n                <fpmodule:file-property-button name="fv--file-property-button"></fpmodule:file-property-button>\r\n            </dropdown>\r\n        </div>\r\n    </div>\r\n    <toolbar>\r\n        <div class="fv__ui-mobile-tab-bodies" name="fv--mobile-toolbar-tabs">\r\n            <div class="fv__ui-mobile-tab-body" name="comment-tab-body">\r\n                <group-list shrink-size="-1">\r\n                    <group>\r\n                        <dropdown @selectable-dropdown="first" class="fv__ui-dropdown-hide-text">\r\n                            <create-text-highlight-button></create-text-highlight-button>\r\n                            <create-area-highlight-button></create-area-highlight-button>\r\n                            <create-strikeout-button></create-strikeout-button>\r\n                            <create-underline-button></create-underline-button>\r\n                            <create-squiggly-button></create-squiggly-button>\r\n                            <create-replace-button></create-replace-button>\r\n                            <create-caret-button></create-caret-button>\r\n                        </dropdown>\r\n                        <dropdown @selectable-dropdown="first" class="fv__ui-dropdown-hide-text">\r\n                            <create-textbox-button></create-textbox-button>\r\n                            <create-typewriter-button></create-typewriter-button>\r\n                            <create-callout-button></create-callout-button>\r\n                        </dropdown>\r\n                        <create-drawings-dropdown></create-drawings-dropdown>\r\n                    </group>\r\n                    <group>\r\n                        <dropdown @selectable-dropdown="first" class="fv__ui-dropdown-hide-text">\r\n                            <create-pencil-button></create-pencil-button>\r\n                            <eraser-button></eraser-button>\r\n                        </dropdown>\r\n                        <stamp-dropdown align="client-center"></stamp-dropdown>\r\n                        <dropdown name="fv-mobile-attachment-dropdown" @selectable-dropdown="first" class="fv__ui-dropdown-hide-text">\r\n                            <create-note-button></create-note-button>\r\n                            <create-attachment-button></create-attachment-button>\r\n                            <create-image-button @hide-on-sr @collab-unsupported></create-image-button>\r\n                            <create-link-button @hide-on-sr @collab-unsupported></create-link-button>\r\n                        </dropdown>\r\n                    </group>\r\n                    <group name="fv--mobile-media-group" @hide-on-sr @collab-unsupported>\r\n                        <multi-media:multi-media-button></multi-media:multi-media-button>\r\n                    </group>\r\n                    <group name="home-tab-group-form" @hide-on-sr class="fv__ui-form-group" @collab-unsupported>\r\n                        <form-to-sheet-module:form-to-sheet-dropdown><form-to-sheet-module:form-to-sheet-dropdown/>\r\n                        <import-form-module:import-form-button></import-form-module:import-form-button>\r\n                        <export-form-module:export-form-dropdown></export-form-module:export-form-dropdown>\r\n                    </group>\r\n                </group-list>\r\n            </div>\r\n            <div class="fv__ui-mobile-tab-body" @hide-on-sr name="protect-tab-body">\r\n                <group-list shrink-size="-1" name="protect-toolbar-group-list">\r\n                    <group name="protect-tab-group-sign">\r\n                        <ink-sign-dropdown name="fv--ink-sign-dropdown"></ink-sign-dropdown>\r\n                    </group>\r\n                    <group name="password-protect-group">\r\n                        <password-protect:password-protect-button></password-protect:password-protect-button>\r\n                        <password-protect:remove-protect-button></password-protect:remove-protect-button>\r\n                    </group>\r\n                    <group name="redaction" functional-module="redaction" @license-validation>\r\n                        <redaction:create-redactions-dropdown></redaction:create-redactions-dropdown>\r\n                        <redaction:apply-redactions-button></redaction:apply-redactions-button>\r\n                        <redaction:redaction-search-button></redaction:redaction-search-button>\r\n                    </group>\r\n                </group-list>\r\n            </div>\r\n        </div>\r\n    </toolbar>\r\n    <div class="fv__ui-body">\r\n        <sidebar name="sidebar" @controller="sidebar:SidebarController" width="0.64" @mobile:sidebar-toggler>\r\n            <bookmark-sidebar-panel></bookmark-sidebar-panel>\r\n            <commentlist-sidebar-panel>\r\n                <slot for="header">\r\n                    <comment-list:toggle-commentlist-group-button></comment-list:toggle-commentlist-group-button>\r\n                    <dropdown separate="false" class="comment-list-dropdown" icon-class="fv__icon-toolbar-more">\r\n                        \x3c!-- <comment-list:expand-pages-button></comment-list:expand-pages-button>\r\n                        <comment-list:collapse-pages-button></comment-list:collapse-pages-button> --\x3e\r\n                        <comment-list:show-comment-button></comment-list:show-comment-button>\r\n                        <comment-list:hide-comment-button></comment-list:hide-comment-button>\r\n                        <comment-list:import-comment-button></comment-list:import-comment-button>\r\n                        <dropdown-item class="fv__ui-dropdown-container-item">\r\n                            <comment-list:export-comment-dropdown></comment-list:export-comment-dropdown>\r\n                        </dropdown-item>\r\n                        <dropdown-item class="fv__ui-dropdown-container-item">\r\n                            <comment-list:sort-comments-dropdown></comment-list:sort-comments-dropdown>\r\n                        </dropdown-item>\r\n                    </dropdown>\r\n                </slot>\r\n            </commentlist-sidebar-panel>\r\n            <thumbnail-sidebar-panel @require-modules="thumbnail"></thumbnail-sidebar-panel>\r\n            <layer-sidebar-panel @hide-on-sr></layer-sidebar-panel>\r\n            <search-sidebar-panel></search-sidebar-panel>\r\n            \x3c!-- <field-sidebar-panel>\r\n                <slot for="header">\r\n                    <dropdown class="field-order-dropdown" icon-class="fv__icon-order" separate="false" @controller="field:FieldSidebarMenuController as fsmc">\r\n                        <option-group>\r\n                            <option-group-item @on.click="fsmc.setOrder(\'row\')">sidebar.field.order.row</option-group-item>\r\n                            <option-group-item @on.click="fsmc.setOrder(\'column\')">sidebar.field.order.column</option-group-item>\r\n                            <option-group-item @on.click="fsmc.setOrder(\'structure\')">sidebar.field.order.structure</option-group-item>\r\n                        </option-group>\r\n                    </dropdown>\r\n                    <dropdown class="field-orderaz-dropdown" icon-class="fv__icon-orderaz" separate="false" @controller="field:FieldSidebarMenuController as fsmc">\r\n                        <option-group>\r\n                            <option-group-item @on.click="fsmc.setOrder(\'alphabetic\')">sidebar.field.order.alphabetic</option-group-item>\r\n                            <option-group-item selected @on.click="fsmc.setOrder(\'tab\')">sidebar.field.order.tab</option-group-item>\r\n                        </option-group>\r\n                    </dropdown>\r\n                </slot>\r\n            </field-sidebar-panel> --\x3e\r\n            <attachment-sidebar-panel></attachment-sidebar-panel>\r\n        </sidebar>\r\n        <viewer @zoom-on-pinch @zoom-on-doubletap @touch-to-scroll></viewer>\r\n        <page-nav-button></page-nav-button>\r\n    </div>\r\n    <template name="template-container">\r\n        <create-stamp-dialog></create-stamp-dialog>\r\n        <print:print-dialog></print:print-dialog>\r\n        <loupe-tool-dialog></loupe-tool-dialog>\r\n        <create-ink-sign-dialog></create-ink-sign-dialog>\r\n        <measurement-popup></measurement-popup>\r\n        <fpmodule:file-property-dialog></fpmodule:file-property-dialog>\r\n        <redaction:redaction-page-dialog @hide-on-sr></redaction:redaction-page-dialog>\r\n        \x3c!-- contextmenus --\x3e\r\n        <page-contextmenu></page-contextmenu>\r\n        <measurement-contextmenu></measurement-contextmenu>\r\n        <default-annot-contextmenu></default-annot-contextmenu>\r\n        <markup-contextmenu name="fv--line-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--linearrow-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--linedimension-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--polylinedimention-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--polygondimension-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--circle-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--square-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--polyline-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--polygon-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--polygoncloud-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--ink-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--stamp-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--text-contextmenu"></markup-contextmenu>\r\n        <caret-contextmenu name="fv--areahighlight-contextmenu"></caret-contextmenu>\r\n        <caret-contextmenu name="fv--replace-contextmenu"></caret-contextmenu>\r\n        <markup-contextmenu></markup-contextmenu>\r\n        <caret-contextmenu name="fv--caret-contextmenu"></caret-contextmenu>\r\n        <textmarkup-contextmenu name="fv--highlight-contextmenu"></textmarkup-contextmenu>\r\n        <textmarkup-contextmenu name="fv--strikeout-contextmenu"></textmarkup-contextmenu>\r\n        <textmarkup-contextmenu name="fv--underline-contextmenu"></textmarkup-contextmenu>\r\n        <textmarkup-contextmenu name="fv--squiggly-contextmenu"></textmarkup-contextmenu>\r\n        <freetext-contextmenu name="fv--typewriter-contextmenu"></freetext-contextmenu>\r\n        <freetext-contextmenu name="fv--callout-contextmenu"></freetext-contextmenu>\r\n        <freetext-contextmenu name="fv--textbox-contextmenu"></freetext-contextmenu>\r\n        <action-annot-contextmenu name="fv--image-contextmenu"></action-annot-contextmenu>\r\n        <action-annot-contextmenu name="fv--link-contextmenu"></action-annot-contextmenu>\r\n        <comment-card-contextmenu></comment-card-contextmenu>\r\n        <fileattachment-contextmenu></fileattachment-contextmenu>\r\n        <media-contextmenu @hide-on-sr></media-contextmenu>\r\n        <sound-contextmenu @hide-on-sr></sound-contextmenu>\r\n        <redact-contextmenu></redact-contextmenu>\r\n        <edit-graphics:image-contextmenu></edit-graphics:image-contextmenu>\r\n        <edit-pageobjects:path-contextmenu></edit-pageobjects:path-contextmenu>\r\n        <text-sel:text-selection-tooltip></text-sel:text-selection-tooltip>\r\n        <freetext:freetext-tooltip></freetext:freetext-tooltip>\r\n        <annottext name="fv--annottext-tooltip"></annottext>\r\n        \x3c!-- Field panel contentmenu --\x3e\r\n        <contextmenu name="fv--field-contextmenu" @controller="field:FieldSidebarMenuController">\r\n            <contextmenu-item name="fv--contextmenu-item-properties">contextmenu.fieldPanel.properties</contextmenu-item>\r\n            <contextmenu-item name="fv--contextmenu-item-rename">contextmenu.fieldPanel.rename</contextmenu-item>\r\n            <contextmenu-item name="fv--contextmenu-item-delete">contextmenu.fieldPanel.delete</contextmenu-item>\r\n        </contextmenu>\r\n        <comment-list:filter-dialog name="fv--commentlist-filter-comment-dialog"></comment-list:filter-dialog>\r\n        <signature:signed-property-dialog></signature:signed-property-dialog>\r\n    </template>\r\n</webpdf>'}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(11)),r=s(n(181)),i=n(8),a=n(5);function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n))}return c(t,e),t.getName=function(){return"selectable-dropdown"},t.prototype.init=function(t){if(!(t instanceof r.default))throw new TypeError("@selectable-dropdown directive must be used for dropdown component");e.prototype.init.call(this,t)},t.prototype.componentPrelink=function(){var e=this;this.component.on(i.COMPONENT_EVENTS.CHILD_INSERTED,(function(t){var n=void 0;n=t.isFileSelector?"change":"click",t.on(n,(function(){e.component.select(t)}))}))},t.prototype.componentMounted=function(){var e=-1,t=this.component;switch(this.attrValue){case"none":case"":break;case"first":e=0;break;case"last":e=t.size()-1;break;default:isFinite(Number(this.attrValue))&&(e=Number(this.attrValue))}e>=0&&e<t.size()&&t.select(t.childAt(e));var n=t.children().map((function(e){return e.controller.stateName})).filter((function(e){return"string"==typeof e}));t.pdfUI.addViewerEventListener(a.Events.switchStateHandler,(function(e,o){var r=e.getStateName();n.indexOf(r)>-1?t.element.classList.add("selected"):t.element.classList.remove("selected")}))},t}(o.default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(3);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n))}return i(t,e),t.getName=function(){return"MobileDropdownTabController"},t.prototype.mounted=function(){var e=this.component.getAllComponentsByType("gtab");if(this.currentTab=e.find((function(e){return e.isActive})),!this.currentTab){if(0===e.length)return;e[0].active(),this.currentTab=e[0]}this.component.setText(this.currentTab.text)},t.prototype.toggleTab=function(){this.currentTab.getTabBodyComponent().then((function(e){e.isVisible?e.hide():e.show()}))},t.prototype.switchTab=function(e){this.currentTab=e.childAt(0),this.component.setText(this.currentTab.text)},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(26)),r=n(84);i(n(10));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=function(e){function t(){return a(this,t),s(this,e.apply(this,arguments))}return c(t,e),t.getName=function(){return"sidebar-toggler-button"},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this);var n=this.getRoot().getAllComponentsByType("sidebar");this.on("click",(function(){n.forEach((function(e){switch(e.status){case r.SidebarComponent.STATUS_COLLAPSED_TOTALLY:e.$lastStatus===r.SidebarComponent.STATUS_COLLAPSED?e.collapse():e.expand();break;case r.SidebarComponent.STATUS_COLLAPSED:case r.SidebarComponent.STATUS_EXPANDED:e.collapseTotally()}})),t.getPDFUI().redraw().catch((function(){}))}))},t}(o.default.createSuperClass({template:'\n        <xbutton icon-class="fv__icon-mobile-topbar-sidebar-toggler"></xbutton>\n    '}));t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(3);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.getName=function(){return"SearchToggleButtonController"},t.prototype.handle=function(){var e=this.getComponentByName("sidebar-search");e&&e.active(),this.getPDFUI().redraw().catch((function(){}))},t}(((o=r)&&o.__esModule?o:{default:o}).default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});r(n(396));var o=r(n(181));r(n(10));function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var a=function(e){function t(n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r));return i.align="center",i}return i(t,e),t.getName=function(){return"pageview-dropdown"},t.getMetadata=function(){return{options:{separate:{type:"boolean",defaultValue:!1}}}},t.prototype.render=function(){this.element.classList.add("fv__ui-mobile-pageview-dropdown","fv__ui-dropdown-direction-row","fv__ui-dropdown-hide-text"),e.prototype.render.call(this)},t.prototype.mounted=function(){e.prototype.mounted.call(this)},t}(o.default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(11)),r=a(n(10)),i=n(84);function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var l=function(e){function t(){return s(this,t),c(this,e.apply(this,arguments))}return u(t,e),t.getName=function(){return"sidebar-toggler"},t.prototype.componentMounted=function(){var e=this.component,t=this.component.getPDFUI();setTimeout((function(){e.collapseTotally()}));var n=e.status;this.addDestroyHook(t.addUIEventListener(r.default.fullscreenchange,(function(t){if(t)n=e.status,e.collapseTotally();else{if(n!==e.$lastStatus)return;switch(n){case i.SidebarComponent.STATUS_COLLAPSED:case i.SidebarComponent.STATUS_EXPANDED:e.expand()}}})))},t}(o.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1725)),i=n(162);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=function(e){function t(){return a(this,t),s(this,e.apply(this,arguments))}return c(t,e),t.prototype.getLayoutTemplate=function(){return r.template},t.prototype.getDefaultFragments=function(){return r.fragments},t}(((o=i)&&o.__esModule?o:{default:o}).default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.template=t.fragments=void 0;var o=n(593);Object.defineProperty(t,"fragments",{enumerable:!0,get:function(){return o.fragments}});var r,i=n(1726),a=(r=i)&&r.__esModule?r:{default:r};n(1727);t.template=(0,a.default)()},function(e,t,n){n(2);e.exports=function(e){"use strict";e=e||{};return'<webpdf>\r\n    <toolbar name="toolbar" class="fv__ui-non-ribbon-toolbar" @full-screen:fullscreen="hide">\r\n        <paddle name="fv--ui-non-ribbon-paddle">\r\n            <div class="fv__ui-flat-group-list-container">\r\n                <group-list name="home-toolbar-group-list">\r\n                    <group name="home-tab-group-hand" retain-count="3">\r\n                        <hand-button></hand-button>\r\n                        <selection-dropdown></selection-dropdown>\r\n                        <snapshot-button @hide-on-sr></snapshot-button>\r\n                    </group>\r\n                    <group name="home-tab-group-io" retain-count="1" shrink-title="toolbar.more.document.title">\r\n                        <open-file-dropdown></open-file-dropdown>\r\n                        <download-file-button></download-file-button>\r\n                        <print:print-button></print:print-button>\r\n                    </group>\r\n                    <group name="home-tab-group-nav" retain-count="3">\r\n                        <goto-first-page-button></goto-first-page-button>\r\n                        <goto-prev-page-button></goto-prev-page-button>\r\n                        <goto-page-input></goto-page-input>\r\n                        <goto-next-page-button></goto-next-page-button>\r\n                        <goto-last-page-button></goto-last-page-button>\r\n                    </group>\r\n                    <group name="home-tab-group-zoom">\r\n                        <zoom-out-button></zoom-out-button>\r\n                        <zoom-in-button></zoom-in-button>\r\n                        <editable-zoom-dropdown></editable-zoom-dropdown>\r\n                    </group>\r\n                    <group name="home-tab-group-page" retain-count="1">\r\n                        <single-page-button></single-page-button>\r\n                        <continuous-page-button></continuous-page-button>\r\n                        <facing-page-button></facing-page-button>\r\n                        <continuous-facing-page-button></continuous-facing-page-button>\r\n                        <h-continuous:h-continuous-button></h-continuous:h-continuous-button>\r\n                        \x3c!--<h-single:h-single-button></h-single:h-single-button>--\x3e\r\n                        \x3c!--<h-facing:h-facing-button></h-facing:h-facing-button>--\x3e\r\n                    </group>\r\n                    <group name="home-tab-group-magnifier" @hide-on-sr>\r\n                        <loupe-tool-button></loupe-tool-button>\r\n                    </group>\r\n                    <group name="home-tab-group-marquee" @hide-on-sr>\r\n                        <marquee-tool-button></marquee-tool-button>\r\n                    </group>\r\n                    <group name="home-tab-group-form" @hide-on-sr retain-count="2" @require-modules="import-form-module,export-form-module">\r\n                        <form-to-sheet-module:form-to-sheet-dropdown><form-to-sheet-module:form-to-sheet-dropdown/>\r\n                        <import-form-module:import-form-button></import-form-module:import-form-button>\r\n                        <export-form-module:export-form-dropdown></export-form-module:export-form-dropdown>\r\n                    </group>\r\n                    <group name="form-tab-group-fields" retain-count="2" @require-modules="form-designer">\r\n                        <form-designer:create-text></form-designer:create-text>\r\n                        <form-designer:create-sign></form-designer:create-sign>\r\n                    </group>\r\n                    <group name="file-property" @require-modules="fpmodule">\r\n                        <fpmodule:file-property-button></fpmodule:file-property-button>\r\n                    </group>\r\n                </group-list>\r\n                <group-list name="comment-toolbar-group-list">\r\n                    <group name="comment-tab-group-hand" retain-count="3">\r\n                        <hand-button></hand-button>\r\n                        <selection-dropdown></selection-dropdown>\r\n                        <zoom-dropdown></zoom-dropdown>\r\n                    </group>\r\n                    <group name="comment-tab-group-note" retain-count="3">\r\n                        <create-note-button></create-note-button>                        \r\n                    </group>\r\n                    <group name="comment-tab-group-mark">\r\n                        <create-text-highlight-button></create-text-highlight-button>\r\n                        <create-strikeout-button></create-strikeout-button>\r\n                        <create-underline-button></create-underline-button>\r\n                        <create-squiggly-button></create-squiggly-button>\r\n                        <create-replace-button></create-replace-button>\r\n                        <create-caret-button></create-caret-button>\r\n                    </group>\r\n                    <group name="comment-tab-group-text">                      \r\n                        <create-typewriter-button></create-typewriter-button>\r\n                        <create-callout-button></create-callout-button>\r\n                        <create-textbox-button></create-textbox-button>\r\n                    </group>\r\n                    <group name="comment-tab-group-drawing" retain-count="2">\r\n                        <create-drawings-dropdown></create-drawings-dropdown>                       \r\n                        <create-area-highlight-button></create-area-highlight-button>\r\n                    </group>\r\n                    <group name="comment-tab-group-pencil" retain-count="2">\r\n                        <create-pencil-button></create-pencil-button>\r\n                        <eraser-button></eraser-button>\r\n                    </group>\r\n                    <group name="comment-tab-group-stamp">\r\n                        <stamp-dropdown></stamp-dropdown>\r\n                    </group>\r\n                    <group name="comment-tab-group-measurement">\r\n                        <create-measure-dropdown></create-measure-dropdown>\r\n                    </group>\r\n                    <group name="comment-tab-group-media">\r\n                        <create-attachment-button></create-attachment-button>\r\n                        <create-image-button @hide-on-sr></create-image-button>\r\n                        <create-link-button @hide-on-sr></create-link-button>\r\n                        <multi-media:multi-media-button @hide-on-sr></multi-media:multi-media-button>\r\n                    </group>\r\n                    <group name="comment-tab-group-inksign" visible=\'false\'></group>                    \r\n                    <group name="comment-tab-group-other" visible=\'false\'></group>\r\n                </group-list>\r\n                <group-list name="edit-toolbar-group-list" @hide-on-sr>\r\n                    <group name="edit-tab-group-hand" retain-count="3">\r\n                        <hand-button></hand-button>\r\n                        <selection-dropdown></selection-dropdown>\r\n                        <zoom-dropdown></zoom-dropdown>\r\n                    </group>\r\n                    <group name="edit-tab-group-mode" retain-count="3">\r\n                        <edit-pageobjects:edit-all-objects-button></edit-pageobjects:edit-all-objects-button>\r\n                        <add-image-button></add-image-button>\r\n                        <edit-pageobjects:path-objects-dropdown></edit-pageobjects:path-objects-dropdown>\r\n                        \x3c!--<edit-image-button></edit-image-button>--\x3e\r\n                        <edit-text-object:add-text-button></edit-text-object:add-text-button>\r\n                    </group>\r\n                    <group name="edit-tab-group-font" retain-count="5" @require-modules="edit-text-object">\r\n                        <edit-text-object:text-bold-style-button></edit-text-object:text-bold-style-button>\r\n                        <edit-text-object:text-italic-style-button></edit-text-object:text-italic-style-button>\r\n                        <edit-text-object:font-color-picker></edit-text-object:font-color-picker>\r\n                        <edit-text-object:font-style-dropdown></edit-text-object:font-style-dropdown>\r\n                    </group>\r\n                    <group name="edit-tab-group-layer" visible="false"></group>\r\n                    <group name="edit-tab-group-redact" visible="false"></group>\r\n                </group-list>\r\n                <group-list name="protect-toolbar-group-list" @hide-on-sr>\r\n                    <group name="protect-tab-group-hand" retain-count="4">\r\n                        <hand-button></hand-button>\r\n                        <selection-dropdown></selection-dropdown>\r\n                        <zoom-dropdown></zoom-dropdown>\r\n                    </group>\r\n                    <group name="protect-tab-group-sign" retain-count="4">\r\n                        <ink-sign-dropdown></ink-sign-dropdown>\r\n                    </group>\r\n                    <group name="password-protect-group" @hide-on-sr retain-count="2" @require-modules="password-protect">\r\n                        <password-protect:password-protect-button></password-protect:password-protect-button>\r\n                        <password-protect:remove-protect-button></password-protect:remove-protect-button>\r\n                    </group>\r\n                    <group name="redaction" functional-module="redaction" @license-validation @require-modules="redaction">\r\n                        <redaction:create-redactions-dropdown></redaction:create-redactions-dropdown>\r\n                        <redaction:apply-redactions-button></redaction:apply-redactions-button>\r\n                        <redaction:redaction-search-button></redaction:redaction-search-button>\r\n                    </group>\r\n                </group-list>\r\n            </div>\r\n        </paddle>\r\n    </toolbar>\r\n    <div class="fv__ui-body">\r\n        <sidebar name="sidebar" @controller="sidebar:SidebarController">\r\n            <bookmark-sidebar-panel></bookmark-sidebar-panel>\r\n            <commentlist-sidebar-panel>\r\n                <slot for="header">\r\n                    <comment-list:toggle-commentlist-group-button></comment-list:toggle-commentlist-group-button>\r\n                    <dropdown separate="false" class="comment-list-dropdown" icon-class="fv__icon-toolbar-more">\r\n                        \x3c!-- <comment-list:expand-pages-button></comment-list:expand-pages-button>\r\n                        <comment-list:collapse-pages-button></comment-list:collapse-pages-button> --\x3e\r\n                        <comment-list:show-comment-button></comment-list:show-comment-button>\r\n                        <comment-list:hide-comment-button></comment-list:hide-comment-button>\r\n                        <comment-list:import-comment-button></comment-list:import-comment-button>\r\n                        <dropdown-item class="fv__ui-dropdown-container-item">\r\n                            <comment-list:export-comment-dropdown></comment-list:export-comment-dropdown>\r\n                        </dropdown-item>\r\n                    </dropdown>\r\n                </slot>\r\n            </commentlist-sidebar-panel>\r\n            <layer-sidebar-panel @hide-on-sr></layer-sidebar-panel>\r\n            <search-sidebar-panel></search-sidebar-panel>\r\n            <attachment-sidebar-panel></attachment-sidebar-panel>\r\n        </sidebar>\r\n        <distance:ruler-container name="pdf-viewer-container-with-ruler">\r\n            <slot>\r\n                <viewer @zoom-on-pinch @zoom-on-doubletap @zoom-on-wheel @touch-to-scroll></viewer>\r\n            </slot>\r\n        </distance:ruler-container>\r\n    </div>\r\n    <template name="template-container">\r\n        <create-stamp-dialog></create-stamp-dialog>\r\n        <print:print-dialog></print:print-dialog>\r\n        <loupe-tool-dialog @hide-on-sr></loupe-tool-dialog>\r\n        <create-ink-sign-dialog></create-ink-sign-dialog>\r\n        <distance:measurement-popup></distance:measurement-popup>\r\n        <fpmodule:file-property-dialog></fpmodule:file-property-dialog>\r\n        <redaction:redaction-page-dialog @hide-on-sr></redaction:redaction-page-dialog>\r\n        \x3c!-- contextmenus --\x3e\r\n        <page-contextmenu></page-contextmenu>\r\n        <default-annot-contextmenu></default-annot-contextmenu>\r\n        <markup-contextmenu></markup-contextmenu>\r\n        <markup-contextmenu name="fv--line-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--linearrow-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--linedimension-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--polylinedimention-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--polygondimension-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--circle-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--square-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--polyline-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--polygon-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--polygoncloud-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--ink-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--stamp-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--text-contextmenu"></markup-contextmenu>\r\n        <caret-contextmenu name="fv--areahighlight-contextmenu"></caret-contextmenu>\r\n        <caret-contextmenu name="fv--replace-contextmenu"></caret-contextmenu>\r\n        <measurement-contextmenu></measurement-contextmenu>\r\n        <caret-contextmenu name="fv--caret-contextmenu"></caret-contextmenu>\r\n        <textmarkup-contextmenu name="fv--highlight-contextmenu"></textmarkup-contextmenu>\r\n        <textmarkup-contextmenu name="fv--strikeout-contextmenu"></textmarkup-contextmenu>\r\n        <textmarkup-contextmenu name="fv--underline-contextmenu"></textmarkup-contextmenu>\r\n        <textmarkup-contextmenu name="fv--squiggly-contextmenu"></textmarkup-contextmenu>\r\n        <freetext-contextmenu name="fv--typewriter-contextmenu"></freetext-contextmenu>\r\n        <freetext-contextmenu name="fv--callout-contextmenu"></freetext-contextmenu>\r\n        <freetext-contextmenu name="fv--textbox-contextmenu"></freetext-contextmenu>\r\n        <action-annot-contextmenu name="fv--image-contextmenu"></action-annot-contextmenu>\r\n        <action-annot-contextmenu name="fv--link-contextmenu"></action-annot-contextmenu>\r\n        <comment-card-contextmenu></comment-card-contextmenu>\r\n        <fileattachment-contextmenu></fileattachment-contextmenu>\r\n        <media-contextmenu @hide-on-sr></media-contextmenu>\r\n        <sound-contextmenu @hide-on-sr></sound-contextmenu>\r\n        <redact-contextmenu @hide-on-sr></redact-contextmenu>\r\n        <edit-graphics:image-contextmenu></edit-graphics:image-contextmenu>\r\n        <edit-pageobjects:path-contextmenu></edit-pageobjects:path-contextmenu>\r\n        <text-sel:text-selection-tooltip></text-sel:text-selection-tooltip>\r\n        <freetext:freetext-tooltip></freetext:freetext-tooltip>\r\n    </template>\r\n</webpdf>','<webpdf>\r\n    <toolbar name="toolbar" class="fv__ui-non-ribbon-toolbar" @full-screen:fullscreen="hide">\r\n        <paddle name="fv--ui-non-ribbon-paddle">\r\n            <div class="fv__ui-flat-group-list-container">\r\n                <group-list name="home-toolbar-group-list">\r\n                    <group name="home-tab-group-hand" retain-count="3">\r\n                        <hand-button></hand-button>\r\n                        <selection-dropdown></selection-dropdown>\r\n                        <snapshot-button @hide-on-sr></snapshot-button>\r\n                    </group>\r\n                    <group name="home-tab-group-io" retain-count="1" shrink-title="toolbar.more.document.title">\r\n                        <open-file-dropdown></open-file-dropdown>\r\n                        <download-file-button></download-file-button>\r\n                        <print:print-button></print:print-button>\r\n                    </group>\r\n                    <group name="home-tab-group-nav" retain-count="3">\r\n                        <goto-first-page-button></goto-first-page-button>\r\n                        <goto-prev-page-button></goto-prev-page-button>\r\n                        <goto-page-input></goto-page-input>\r\n                        <goto-next-page-button></goto-next-page-button>\r\n                        <goto-last-page-button></goto-last-page-button>\r\n                    </group>\r\n                    <group name="home-tab-group-zoom">\r\n                        <zoom-out-button></zoom-out-button>\r\n                        <zoom-in-button></zoom-in-button>\r\n                        <editable-zoom-dropdown></editable-zoom-dropdown>\r\n                    </group>\r\n                    <group name="home-tab-group-page" retain-count="1">\r\n                        <single-page-button></single-page-button>\r\n                        <continuous-page-button></continuous-page-button>\r\n                        <facing-page-button></facing-page-button>\r\n                        <continuous-facing-page-button></continuous-facing-page-button>\r\n                        <h-continuous:h-continuous-button></h-continuous:h-continuous-button>\r\n                        \x3c!--<h-single:h-single-button></h-single:h-single-button>--\x3e\r\n                        \x3c!--<h-facing:h-facing-button></h-facing:h-facing-button>--\x3e\r\n                    </group>\r\n                    <group name="home-tab-group-magnifier" @hide-on-sr>\r\n                        <loupe-tool-button></loupe-tool-button>\r\n                    </group>\r\n                    <group name="home-tab-group-marquee" @hide-on-sr>\r\n                        <marquee-tool-button></marquee-tool-button>\r\n                    </group>\r\n                    <group name="home-tab-group-form" @hide-on-sr retain-count="2" @require-modules="import-form-module,export-form-module">\r\n                        <form-to-sheet-module:form-to-sheet-dropdown><form-to-sheet-module:form-to-sheet-dropdown/>\r\n                        <import-form-module:import-form-button></import-form-module:import-form-button>\r\n                        <export-form-module:export-form-dropdown></export-form-module:export-form-dropdown>\r\n                    </group>\r\n                    <group name="form-tab-group-fields" retain-count="2" @require-modules="form-designer">\r\n                        <form-designer:create-text></form-designer:create-text>\r\n                        <form-designer:create-sign></form-designer:create-sign>\r\n                    </group>\r\n                    <group name="file-property" @require-modules="fpmodule">\r\n                        <fpmodule:file-property-button></fpmodule:file-property-button>\r\n                    </group>\r\n                </group-list>\r\n                <group-list name="comment-toolbar-group-list">\r\n                    <group name="comment-tab-group-hand" retain-count="3">\r\n                        <hand-button></hand-button>\r\n                        <selection-dropdown></selection-dropdown>\r\n                        <zoom-dropdown></zoom-dropdown>\r\n                    </group>\r\n                    <group name="comment-tab-group-note" retain-count="3">\r\n                        <create-note-button></create-note-button>                        \r\n                    </group>\r\n                    <group name="comment-tab-group-mark">\r\n                        <create-text-highlight-button></create-text-highlight-button>\r\n                        <create-strikeout-button></create-strikeout-button>\r\n                        <create-underline-button></create-underline-button>\r\n                        <create-squiggly-button></create-squiggly-button>\r\n                        <create-replace-button></create-replace-button>\r\n                        <create-caret-button></create-caret-button>\r\n                    </group>\r\n                    <group name="comment-tab-group-text">                      \r\n                        <create-typewriter-button></create-typewriter-button>\r\n                        <create-callout-button></create-callout-button>\r\n                        <create-textbox-button></create-textbox-button>\r\n                    </group>\r\n                    <group name="comment-tab-group-drawing" retain-count="2">\r\n                        <create-drawings-dropdown></create-drawings-dropdown>                       \r\n                        <create-area-highlight-button></create-area-highlight-button>\r\n                    </group>\r\n                    <group name="comment-tab-group-pencil" retain-count="2">\r\n                        <create-pencil-button></create-pencil-button>\r\n                        <eraser-button></eraser-button>\r\n                    </group>\r\n                    <group name="comment-tab-group-stamp">\r\n                        <stamp-dropdown></stamp-dropdown>\r\n                    </group>\r\n                    <group name="comment-tab-group-measurement">\r\n                        <create-measure-dropdown></create-measure-dropdown>\r\n                    </group>\r\n                    <group name="comment-tab-group-media">\r\n                        <create-attachment-button></create-attachment-button>\r\n                        <create-image-button @hide-on-sr></create-image-button>\r\n                        <create-link-button @hide-on-sr></create-link-button>\r\n                        <multi-media:multi-media-button @hide-on-sr></multi-media:multi-media-button>\r\n                    </group>\r\n                    <group name="comment-tab-group-inksign" visible=\'false\'></group>                    \r\n                    <group name="comment-tab-group-other" visible=\'false\'></group>\r\n                </group-list>\r\n                <group-list name="edit-toolbar-group-list" @hide-on-sr>\r\n                    <group name="edit-tab-group-hand" retain-count="3">\r\n                        <hand-button></hand-button>\r\n                        <selection-dropdown></selection-dropdown>\r\n                        <zoom-dropdown></zoom-dropdown>\r\n                    </group>\r\n                    <group name="edit-tab-group-mode" retain-count="3">\r\n                        <edit-pageobjects:edit-all-objects-button></edit-pageobjects:edit-all-objects-button>\r\n                        <add-image-button></add-image-button>\r\n                        <edit-pageobjects:path-objects-dropdown></edit-pageobjects:path-objects-dropdown>\r\n                        \x3c!--<edit-image-button></edit-image-button>--\x3e\r\n                        <edit-text-object:add-text-button></edit-text-object:add-text-button>\r\n                    </group>\r\n                    <group name="edit-tab-group-font" retain-count="5" @require-modules="edit-text-object">\r\n                        <edit-text-object:text-bold-style-button></edit-text-object:text-bold-style-button>\r\n                        <edit-text-object:text-italic-style-button></edit-text-object:text-italic-style-button>\r\n                        <edit-text-object:font-color-picker></edit-text-object:font-color-picker>\r\n                        <edit-text-object:font-style-dropdown></edit-text-object:font-style-dropdown>\r\n                    </group>\r\n                    <group name="edit-tab-group-layer" visible="false"></group>\r\n                    <group name="edit-tab-group-redact" visible="false"></group>\r\n                </group-list>\r\n                <group-list name="protect-toolbar-group-list" @hide-on-sr>\r\n                    <group name="protect-tab-group-hand" retain-count="4">\r\n                        <hand-button></hand-button>\r\n                        <selection-dropdown></selection-dropdown>\r\n                        <zoom-dropdown></zoom-dropdown>\r\n                    </group>\r\n                    <group name="protect-tab-group-sign" retain-count="4">\r\n                        <ink-sign-dropdown></ink-sign-dropdown>\r\n                    </group>\r\n                    <group name="password-protect-group" @hide-on-sr retain-count="2" @require-modules="password-protect">\r\n                        <password-protect:password-protect-button></password-protect:password-protect-button>\r\n                        <password-protect:remove-protect-button></password-protect:remove-protect-button>\r\n                    </group>\r\n                    <group name="redaction" functional-module="redaction" @license-validation @require-modules="redaction">\r\n                        <redaction:create-redactions-dropdown></redaction:create-redactions-dropdown>\r\n                        <redaction:apply-redactions-button></redaction:apply-redactions-button>\r\n                        <redaction:redaction-search-button></redaction:redaction-search-button>\r\n                    </group>\r\n                </group-list>\r\n            </div>\r\n        </paddle>\r\n    </toolbar>\r\n    <div class="fv__ui-body">\r\n        <sidebar name="sidebar" @controller="sidebar:SidebarController">\r\n            <bookmark-sidebar-panel></bookmark-sidebar-panel>\r\n            <commentlist-sidebar-panel>\r\n                <slot for="header">\r\n                    <comment-list:toggle-commentlist-group-button></comment-list:toggle-commentlist-group-button>\r\n                    <dropdown separate="false" class="comment-list-dropdown" icon-class="fv__icon-toolbar-more">\r\n                        \x3c!-- <comment-list:expand-pages-button></comment-list:expand-pages-button>\r\n                        <comment-list:collapse-pages-button></comment-list:collapse-pages-button> --\x3e\r\n                        <comment-list:show-comment-button></comment-list:show-comment-button>\r\n                        <comment-list:hide-comment-button></comment-list:hide-comment-button>\r\n                        <comment-list:import-comment-button></comment-list:import-comment-button>\r\n                        <dropdown-item class="fv__ui-dropdown-container-item">\r\n                            <comment-list:export-comment-dropdown></comment-list:export-comment-dropdown>\r\n                        </dropdown-item>\r\n                    </dropdown>\r\n                </slot>\r\n            </commentlist-sidebar-panel>\r\n            <layer-sidebar-panel @hide-on-sr></layer-sidebar-panel>\r\n            <search-sidebar-panel></search-sidebar-panel>\r\n            <attachment-sidebar-panel></attachment-sidebar-panel>\r\n        </sidebar>\r\n        <distance:ruler-container name="pdf-viewer-container-with-ruler">\r\n            <slot>\r\n                <viewer @zoom-on-pinch @zoom-on-doubletap @zoom-on-wheel @touch-to-scroll></viewer>\r\n            </slot>\r\n        </distance:ruler-container>\r\n    </div>\r\n    <template name="template-container">\r\n        <create-stamp-dialog></create-stamp-dialog>\r\n        <print:print-dialog></print:print-dialog>\r\n        <loupe-tool-dialog @hide-on-sr></loupe-tool-dialog>\r\n        <create-ink-sign-dialog></create-ink-sign-dialog>\r\n        <distance:measurement-popup></distance:measurement-popup>\r\n        <fpmodule:file-property-dialog></fpmodule:file-property-dialog>\r\n        <redaction:redaction-page-dialog @hide-on-sr></redaction:redaction-page-dialog>\r\n        \x3c!-- contextmenus --\x3e\r\n        <page-contextmenu></page-contextmenu>\r\n        <default-annot-contextmenu></default-annot-contextmenu>\r\n        <markup-contextmenu></markup-contextmenu>\r\n        <markup-contextmenu name="fv--line-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--linearrow-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--linedimension-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--polylinedimention-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--polygondimension-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--circle-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--square-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--polyline-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--polygon-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--polygoncloud-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--ink-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--stamp-contextmenu"></markup-contextmenu>\r\n        <markup-contextmenu name="fv--text-contextmenu"></markup-contextmenu>\r\n        <caret-contextmenu name="fv--areahighlight-contextmenu"></caret-contextmenu>\r\n        <caret-contextmenu name="fv--replace-contextmenu"></caret-contextmenu>\r\n        <measurement-contextmenu></measurement-contextmenu>\r\n        <caret-contextmenu name="fv--caret-contextmenu"></caret-contextmenu>\r\n        <textmarkup-contextmenu name="fv--highlight-contextmenu"></textmarkup-contextmenu>\r\n        <textmarkup-contextmenu name="fv--strikeout-contextmenu"></textmarkup-contextmenu>\r\n        <textmarkup-contextmenu name="fv--underline-contextmenu"></textmarkup-contextmenu>\r\n        <textmarkup-contextmenu name="fv--squiggly-contextmenu"></textmarkup-contextmenu>\r\n        <freetext-contextmenu name="fv--typewriter-contextmenu"></freetext-contextmenu>\r\n        <freetext-contextmenu name="fv--callout-contextmenu"></freetext-contextmenu>\r\n        <freetext-contextmenu name="fv--textbox-contextmenu"></freetext-contextmenu>\r\n        <action-annot-contextmenu name="fv--image-contextmenu"></action-annot-contextmenu>\r\n        <action-annot-contextmenu name="fv--link-contextmenu"></action-annot-contextmenu>\r\n        <comment-card-contextmenu></comment-card-contextmenu>\r\n        <fileattachment-contextmenu></fileattachment-contextmenu>\r\n        <media-contextmenu @hide-on-sr></media-contextmenu>\r\n        <sound-contextmenu @hide-on-sr></sound-contextmenu>\r\n        <redact-contextmenu @hide-on-sr></redact-contextmenu>\r\n        <edit-graphics:image-contextmenu></edit-graphics:image-contextmenu>\r\n        <edit-pageobjects:path-contextmenu></edit-pageobjects:path-contextmenu>\r\n        <text-sel:text-selection-tooltip></text-sel:text-selection-tooltip>\r\n        <freetext:freetext-tooltip></freetext:freetext-tooltip>\r\n    </template>\r\n</webpdf>'}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(597);var o=s(n(162)),r=(s(n(163)),n(14)),i=s(n(596)),a=s(n(341));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var u=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.origin=r.isMobile?new i.default(n):new a.default(n),o.addDestroyHook((function(){o.origin.destroy()})),o}return c(t,e),t.prototype.getLayoutTemplate=function(){return this.origin.getLayoutTemplate()},t.prototype.getDefaultFragments=function(){return[]},t.prototype.beforeMounted=function(e){this.origin.beforeMounted(e)},t.prototype.afterMounted=function(e){this.origin.afterMounted(e)},t.prototype.processAddon=function(e){this.origin.processAddon(e)},t.prototype.disableAll=function(){this.origin.disableAll()},t.prototype.enableAll=function(){this.origin.enableAll()},t}(o.default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=l(n(139)),i=l(n(43)),a=n(18),s=n(182);n(310);var c=l(n(112)),u=l(n(1));function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var p=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.cursorStyle="",o}return f(t,e),t.prototype.pageHandler=function(e){var t=this;this.pageRender=e;var n=e.$handler;n.addClass(this.cursorStyle);var r=n[0],s=this.hammer=new i.default.Manager(r,{recognizers:[[i.default.Pan,{direction:i.default.DIRECTION_ALL}]]}),u=void 0,l=-1,f=-1,p=void 0;s.on("panstart",(function(e){if(!1!==t.panStart(e,t)){l=-1,f=-1;var n=(0,c.default)(r,e);u=[n.x,n.y],t.hideSelectMark(),p=new a.DebouncePromiseQueue}})),s.on("panmove",(function(e){!1!==t.panMove(e,t)&&p.push((function(){var n=t.pageRender,r=[u[0]+e.deltaX,u[1]+e.deltaY];return t.getTextRect(u,r,l,f).then((function(e){var t;return(t=e[0])&&"string"==typeof t.text&&(l=t.start,f=t.end),Promise.all([n.getPDFPage(),e])})).then((function(e){var t=o(e,2),r=t[0],i=t[1];return n.transformRectArray(r,i)})).then((function(e){t.showSelectMark(e)}))}))})),s.on("panend",(function(n){if(!1!==t.panEnd(n,t)){p.end(),p=null;var r=[u[0]+n.deltaX,u[1]+n.deltaY];t.getTextRect(u,r,l,f).then((function(n){var o;return(o=n[0])&&"string"==typeof o.text&&(l=o.start,f=o.end),t.hideSelectMark(),Promise.all([e.getPDFPage(),n])})).then((function(e){var n=o(e,2),r=n[0],i=n[1];return i.length<1?Promise.resolve():t.addAnnot(r,i).then((function(e){var n=e[0],o=t.pageRender.annotsRender.getAnnotRender(n.getId()).component;t.afterAddAnnot(o),t.pageRender.annotsRender.activeAnnot(n.getId())})).then((function(){t.pdfViewer.config.showCommentList&&t.pageRender.getAnnots().then((function(e){var n=e[e.length-2];t.pageRender.annotsRender.getAnnotRender(n.getId()).component.showReplyDialog()}))})).catch((function(e){}))}))}}))},t.prototype.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle),this.hideSelectMark()},t.prototype.out=function(){this.destroyPageHandler()},t.prototype.panStart=function(){},t.prototype.panMove=function(){},t.prototype.panEnd=function(){},t.prototype.showSelectMark=function(e){(0,s.appendSelectMark)(this.pageRender.$handler,e)},t.prototype.hideSelectMark=function(){(0,s.removeSelectMark)(this.pageRender.$handler)},t.prototype.getTextRect=function(e,t,n,o){return this.pageRender.getTextContinueRectAtDevicePoints(e,t,n,o)},t.prototype.addAnnot=function(e,t){},t.prototype.afterAddAnnot=function(e){this.pdfViewer.eventEmitter.emit(u.default.addAnnotSuccess,e.annot)},t}(r.default);t.default=p},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return i(t,e),t.getName=function(){return"mobile-webpdf"},t.prototype.render=function(){e.prototype.render.call(this),this.element.classList.add("webpdf-mobile")},t}(n(84).WebPDFComponent);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(26)),r=i(n(1732));i(n(1));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}n(1733);var u=function(e){function t(){return a(this,t),s(this,e.apply(this,arguments))}return c(t,e),t.getName=function(){return"page-nav-layer"},t.prototype.postlink=function(){e.prototype.postlink.call(this),this.pageNumberInput=this.getComponentByName("page-number-input")},t.prototype.doShown=function(){var t=this;e.prototype.doShown.call(this),this.pageNumberInput.select(),setTimeout((function(){t.pageNumberInput.select()}))},t.prototype.getPageNumber=function(){return this.pageNumberInput.getValue()},t}(o.default.createSuperClass({template:(0,r.default)()}));t.default=u},function(e,t,n){n(2);e.exports=function(e){"use strict";e=e||{};return'<layer modal @controller="PageNavigationLayerController as navLayer" class="center fv__ui-page-nav-layer">\r\n    <layer-header title="mobile.nav-layer.title"></layer-header>\r\n    <layer-view>\r\n        <label>\r\n            <div class="fv__ui-page-nav-label">\r\n                <text>mobile.nav-layer.label</text>(1-<text @sync.text="navLayer.currentPageCount"></text>):\r\n            </div>\r\n            <number class="fv__ui-page-nav-page-number" name="page-number-input" min="1" step="1" @sync.value="navLayer.currentPageNumber" @sync.max="navLayer.currentPageCount"></number>\r\n        </label>\r\n    </layer-view>\r\n    <layer-toolbar>\r\n        <xbutton class="fv__ui-page-nav-button" @on.click="navLayer.component.hide()">mobile.nav-layer.cancel</xbutton>\r\n        <xbutton class="fv__ui-page-nav-button" @on.click="navLayer.confirm()">mobile.nav-layer.ok</xbutton>\r\n    </layer-toolbar>\r\n</layer>','<layer modal @controller="PageNavigationLayerController as navLayer" class="center fv__ui-page-nav-layer">\r\n    <layer-header title="mobile.nav-layer.title"></layer-header>\r\n    <layer-view>\r\n        <label>\r\n            <div class="fv__ui-page-nav-label">\r\n                <text>mobile.nav-layer.label</text>(1-<text @sync.text="navLayer.currentPageCount"></text>):\r\n            </div>\r\n            <number class="fv__ui-page-nav-page-number" name="page-number-input" min="1" step="1" @sync.value="navLayer.currentPageNumber" @sync.max="navLayer.currentPageCount"></number>\r\n        </label>\r\n    </layer-view>\r\n    <layer-toolbar>\r\n        <xbutton class="fv__ui-page-nav-button" @on.click="navLayer.component.hide()">mobile.nav-layer.cancel</xbutton>\r\n        <xbutton class="fv__ui-page-nav-button" @on.click="navLayer.confirm()">mobile.nav-layer.ok</xbutton>\r\n    </layer-toolbar>\r\n</layer>'}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(26)),r=a(n(1735)),i=a(n(43));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}n(1736);var c=function(e){function t(n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,r));return i.checkValues(i.orientation,i.placement),i.position=0,i.totalLength=0,i}return s(t,e),t.getName=function(){return"page-nav-button"},t.getMetadata=function(){return{options:{orientation:{type:"enum",enums:["vertical","horizontal"],defaultValue:"vertical"},placement:{type:"enum",enums:["left","top","right","bottom"],defaultValue:"right"}}}},t.prototype.render=function(){e.prototype.render.call(this),this.element.classList.add(this.orientation,this.placement)},t.prototype.postlink=function(){e.prototype.postlink.call(this),this.button=this.childAt(0),this.showPageLayer=this.getComponentByName("nav-btn-show-page")},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this),this.updatePlace();var n=new i.default.Manager(this.button.element);n.add(new i.default.Pan({direction:i.default.DIRECTION_ALL})),n.add(new i.default.Press({time:0}));var o=function(e,n){switch(t.orientation){case"vertical":return n;case"horizontal":return e}},r=0;n.on("panstart",(function(e){if(!t.disabled){var n=r=o(e.deltaX,e.deltaY);t.showPageLayer.show(),t.trigger("movestart"),t._move(n)}}));var a,s,c,u=function(e){if(!t.disabled){var n=o(e.deltaX,e.deltaY),a=n-r,s=t.button.element.getBoundingClientRect();switch(t.orientation){case"vertical":var c=s.top+s.height/2;e.center.y<c&&e.direction&i.default.DIRECTION_DOWN&&(a=0),e.center.y>c&&e.direction&i.default.DIRECTION_UP&&(a=0);break;case"horizontal":var u=s.left+s.width/2;e.center.x<u&&e.direction&i.default.DIRECTION_RIGHT&&(offsetX=0),e.center.x>u&&e.direction&i.default.DIRECTION_LEFT&&(offsetX=0)}if(0!=a){t._move(a);var l=0===t.totalLength?0:t.position/t.totalLength;t.trigger("move",l)}r=n}};n.on("panmove",u),n.on("panend",(function(e){t.disabled||(u(e),t.trigger("moveend"),t.showPageLayer.hide())})),n.on("pressup",(function(){t.disabled||t.querySelector("@page-nav-layer").show()})),this.addDestroyHook((function(){return n.destroy()})),this.addDestroyHook((a=0,s=0,c=requestAnimationFrame((function e(){var n,o,r;c=requestAnimationFrame(e),n=t.element.parentElement,o=n.offsetHeight,(r=n.offsetHeight)===s&&o===a||t.updatePlace(),a=o,s=r})),function(){cancelAnimationFrame(c)}))},t.prototype.setPlace=function(e,t){this.checkValues(e,t),this.orientation=e,this.placement=t,this.updatePlace()},t.prototype.setPositionRatio=function(e){this.position=this.totalLength*e;var t=this.button.element;switch(this.orientation){case"vertical":t.style.cssText+="\n                    left: 0;\n                    top: "+this.position+"px;\n                ";break;case"horizontal":t.style.cssText+="\n                    top: 0;\n                    left: "+this.position+"px;\n                "}},t.prototype.checkValues=function(e,t){if("vertical"===e&&"left"!==t&&"right"!==t||"horizontal"===e&&"top"!==t&&"bottom"!==t)throw new Error("Illegal combination of origentation and placement: "+e+", "+t+" ")},t.prototype.updatePlace=function(){var e=0===this.totalLength?0:this.position/this.totalLength,t=this.element.parentElement,n=screen.width*(20/750)*2;switch(this.orientation){case"vertical":this.totalLength=t.offsetHeight-n-this.button.element.offsetHeight;break;case"horizontal":this.totalLength=t.offsetWidth-n-this.button.element.offsetWidth}this.setPositionRatio(e)},t.prototype._move=function(e){var t=this.button.element,n=this.position+e;if(!(n<0||n>this.totalLength))switch(this.position=n,this.orientation){case"vertical":t.style.top=this.position+"px";break;case"horizontal":t.style.left=this.position+"px"}},t}(o.default.createSuperClass({template:(0,r.default)()}));t.default=c},function(e,t,n){n(2);e.exports=function(e){"use strict";e=e||{};return'<div class="fv__ui-page-nav-container" @controller="PageNavigationController as ctrl">\r\n    <div class="fv__ui-page-scroll-button">\r\n        <span>\r\n            <text @sync.text="ctrl.currentPageNumber"></text>\r\n        </span>\r\n        <template>\r\n            <layer name="nav-btn-show-page" append-to="body" class="fv__ui-page-nav-info-layer center">\r\n                <layer-view>\r\n                    <div class="fv__ui-page-nav-info">\r\n                        <div class="fv__ui-page-nav-info-current">\r\n                            <text @sync.text="ctrl.currentPageNumber"></text>\r\n                        </div>\r\n                        <span class="fv__ui-page-nav-info-sep"></span>\r\n                        <div class="fv__ui-page-nav-info-total">\r\n                            <text @sync.text="ctrl.currentPageCount"></text>\r\n                        </div>\r\n                    </div>\r\n                </layer-view>\r\n            </layer>\r\n            <page-nav-layer></page-nav-layer>\r\n        </template>\r\n    </div>\r\n</div>','<div class="fv__ui-page-nav-container" @controller="PageNavigationController as ctrl">\r\n    <div class="fv__ui-page-scroll-button">\r\n        <span>\r\n            <text @sync.text="ctrl.currentPageNumber"></text>\r\n        </span>\r\n        <template>\r\n            <layer name="nav-btn-show-page" append-to="body" class="fv__ui-page-nav-info-layer center">\r\n                <layer-view>\r\n                    <div class="fv__ui-page-nav-info">\r\n                        <div class="fv__ui-page-nav-info-current">\r\n                            <text @sync.text="ctrl.currentPageNumber"></text>\r\n                        </div>\r\n                        <span class="fv__ui-page-nav-info-sep"></span>\r\n                        <div class="fv__ui-page-nav-info-total">\r\n                            <text @sync.text="ctrl.currentPageCount"></text>\r\n                        </div>\r\n                    </div>\r\n                </layer-view>\r\n            </layer>\r\n            <page-nav-layer></page-nav-layer>\r\n        </template>\r\n    </div>\r\n</div>'}},function(e,t){},function(e,t,n){"use strict";var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(598)),r=s(n(6)),i=s(n(1738)),a=s(n(1739));function s(e){return e&&e.__esModule?e:{default:e}}Object.values(o).forEach((function(e){r.default.root().registerComponent(e)})),r.default.root().registerController(i.default),r.default.root().registerController(a.default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(3)),r=a(n(1)),i=n(8);function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var c=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.currentPageCount=0,o.currentPageNumber=1,o}return s(t,e),t.getName=function(){return"PageNavigationLayerController"},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this),this.addDestroyHook(this.getPDFUI().addViewerEventListener(r.default.openFileSuccess,(function(e){t.currentPageCount=e.getPageCount(),t.digest()})),this.component.on(i.COMPONENT_EVENTS.SHOWN,(function(){t._updatePageNumber()})))},t.prototype._updatePageNumber=function(){var e=this;return this.getPDFUI().getPDFDocRender().then((function(t){if(t){var n=t.getCurrentPageIndex();e.currentPageNumber=n+1,e.digest()}}))},t.prototype.confirm=function(){var e=this,t=this.getPDFUI().goToPage(this.component.getPageNumber()-1,0,0,!1);t?t.then((function(){e._updatePageNumber(),e.component.hide()})):this.component.hide()},t}(o.default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(3)),r=i(n(10));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var s=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.currentPageNumber=1,o.currentPageCount=0,o}return a(t,e),t.getName=function(){return"PageNavigationController"},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this),this.addDestroyHook(this.getPDFUI().addViewerEventListener(r.default.pageNumberChange,(function(e){t.currentPageNumber=e,t.digest()})),this.getPDFUI().addViewerEventListener(r.default.willCloseDocument,(function(e){t.component.disable()})),this.getPDFUI().addViewerEventListener(r.default.openFileSuccess,(function(e){t.component.enable(),t.currentPageCount=e.getPageCount(),t.currentPageNumber=1,t.digest()}))),this.getPDFUI().getPDFViewer().then((function(e){var n=e.getPDFViewerRender(),o=n.scrollWrap;t.addDestroyHook(o.addScrollEventListener((function(){var e=o.getScrollHost(),n=o.getScrollTop(),r=e.scrollHeight,i=o.getHeight(),a=void 0;a=r<=i?0:n/(r-i),t.component.setPositionRatio(a)}))),t.component.on("movestart",(function(){t.getPDFUI().getPDFDocRender().then((function(e){e.getViewMode().isMouseDownOnScrollbar=!0}))})),t.component.on("moveend",(function(){t.getPDFUI().getPDFDocRender().then((function(e){e.getViewMode().isMouseDownOnScrollbar=!1}))})),t.component.on("move",(function(e){var t=n.scrollWrap,o=e*(t.getScrollHost().scrollHeight-t.getHeight());t.scrollTo(t.getScrollLeft(),o)}))}))},t}(o.default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(501);Object.defineProperty(t,"HandController",{enumerable:!0,get:function(){return se(o).default}});var r=n(502);Object.defineProperty(t,"CreateAreaHighlightController",{enumerable:!0,get:function(){return se(r).default}});var i=n(503);Object.defineProperty(t,"CreateCaretController",{enumerable:!0,get:function(){return se(i).default}});var a=n(504);Object.defineProperty(t,"CreateFileAttachmentController",{enumerable:!0,get:function(){return se(a).default}});var s=n(311);Object.defineProperty(t,"CreateHighlightController",{enumerable:!0,get:function(){return se(s).default}});var c=n(505);Object.defineProperty(t,"CreateImageController",{enumerable:!0,get:function(){return se(c).default}});var u=n(506);Object.defineProperty(t,"CreateLinkController",{enumerable:!0,get:function(){return se(u).default}});var l=n(507);Object.defineProperty(t,"CreatePencilController",{enumerable:!0,get:function(){return se(l).default}});var f=n(312);Object.defineProperty(t,"CreateReplaceController",{enumerable:!0,get:function(){return se(f).default}});var p=n(508);Object.defineProperty(t,"CreateSquigglyController",{enumerable:!0,get:function(){return se(p).default}});var d=n(509);Object.defineProperty(t,"CreateStrikeoutController",{enumerable:!0,get:function(){return se(d).default}});var h=n(510);Object.defineProperty(t,"CreateTextController",{enumerable:!0,get:function(){return se(h).default}});var g=n(511);Object.defineProperty(t,"CreateUnderlineController",{enumerable:!0,get:function(){return se(g).default}});var m=n(512);Object.defineProperty(t,"EraserController",{enumerable:!0,get:function(){return se(m).default}});var v=n(313);Object.defineProperty(t,"CreateLineController",{enumerable:!0,get:function(){return se(v).default}});var y=n(316);Object.defineProperty(t,"CreateArrowController",{enumerable:!0,get:function(){return se(y).default}});var b=n(317);Object.defineProperty(t,"CreateCircleController",{enumerable:!0,get:function(){return se(b).default}});var w=n(318);Object.defineProperty(t,"CreateSquareController",{enumerable:!0,get:function(){return se(w).default}});var _=n(319);Object.defineProperty(t,"CreatePolylineController",{enumerable:!0,get:function(){return se(_).default}});var P=n(322);Object.defineProperty(t,"CreatePolygonController",{enumerable:!0,get:function(){return se(P).default}});var O=n(323);Object.defineProperty(t,"CreatePolygonCloudController",{enumerable:!0,get:function(){return se(O).default}});var E=n(523);Object.defineProperty(t,"SelectTextAnnotationController",{enumerable:!0,get:function(){return se(E).default}});var x=n(527);Object.defineProperty(t,"CreateTextboxController",{enumerable:!0,get:function(){return se(x).default}});var C=n(528);Object.defineProperty(t,"CreateCalloutController",{enumerable:!0,get:function(){return se(C).default}});var A=n(325);Object.defineProperty(t,"CreateTypewriterController",{enumerable:!0,get:function(){return se(A).default}});var S=n(337);Object.defineProperty(t,"LoupeController",{enumerable:!0,get:function(){return se(S).default}});var D=n(339);Object.defineProperty(t,"MarqueeToolController",{enumerable:!0,get:function(){return se(D).default}});var T=n(535);Object.defineProperty(t,"ContinuousPageModeController",{enumerable:!0,get:function(){return se(T).default}});var I=n(532);Object.defineProperty(t,"ContinuousFacingPageModeController",{enumerable:!0,get:function(){return se(I).default}});var R=n(185);Object.defineProperty(t,"ViewModeController",{enumerable:!0,get:function(){return se(R).default}});var M=n(537);Object.defineProperty(t,"SinglePageModeController",{enumerable:!0,get:function(){return se(M).default}});var j=n(536);Object.defineProperty(t,"FacingPageModeController",{enumerable:!0,get:function(){return se(j).default}});var k=n(327);Object.defineProperty(t,"GotoPageController",{enumerable:!0,get:function(){return se(k).default}});var N=n(531);Object.defineProperty(t,"GotoNextPageController",{enumerable:!0,get:function(){return se(N).default}});var F=n(530);Object.defineProperty(t,"GotoPrevPageController",{enumerable:!0,get:function(){return se(F).default}});var L=n(326);Object.defineProperty(t,"TotalPageTextController",{enumerable:!0,get:function(){return se(L).default}});var V=n(94);Object.defineProperty(t,"AnnotOperationController",{enumerable:!0,get:function(){return se(V).default}});var B=n(547);Object.defineProperty(t,"CancelCreatingMeasurementController",{enumerable:!0,get:function(){return se(B).default}});var U=n(548);Object.defineProperty(t,"CompleteCreatingMeasurementController",{enumerable:!0,get:function(){return se(U).default}});var H=n(543);Object.defineProperty(t,"CreateDistanceController",{enumerable:!0,get:function(){return se(H).default}});var $=n(544);Object.defineProperty(t,"CreatePerimeterController",{enumerable:!0,get:function(){return se($).default}});var W=n(336);Object.defineProperty(t,"AddImageController",{enumerable:!0,get:function(){return se(W).default}});var q=n(542);Object.defineProperty(t,"DownloadFileController",{enumerable:!0,get:function(){return se(q).default}});var z=n(330);Object.defineProperty(t,"OpenLocalFileController",{enumerable:!0,get:function(){return se(z).default}});var G=n(329);Object.defineProperty(t,"OpenRemoteFileController",{enumerable:!0,get:function(){return se(G).default}});var Y=n(577);Object.defineProperty(t,"ApplyAllRedactController",{enumerable:!0,get:function(){return se(Y).default}});var K=n(576);Object.defineProperty(t,"ApplyRedactController",{enumerable:!0,get:function(){return se(K).default}});var X=n(574);Object.defineProperty(t,"CopyAnnotTextController",{enumerable:!0,get:function(){return se(X).default}});var J=n(571);Object.defineProperty(t,"DeleteAnnotController",{enumerable:!0,get:function(){return se(J).default}});var Z=n(573);Object.defineProperty(t,"MediaDownloadController",{enumerable:!0,get:function(){return se(Z).default}});var Q=n(580);Object.defineProperty(t,"MediaPauseController",{enumerable:!0,get:function(){return se(Q).default}});var ee=n(579);Object.defineProperty(t,"MediaPlayController",{enumerable:!0,get:function(){return se(ee).default}});var te=n(572);Object.defineProperty(t,"ShowActionsController",{enumerable:!0,get:function(){return se(te).default}});var ne=n(570);Object.defineProperty(t,"ShowAnnotPropertiesController",{enumerable:!0,get:function(){return se(ne).default}});var oe=n(569);Object.defineProperty(t,"ShowAnnotReplyController",{enumerable:!0,get:function(){return se(oe).default}});var re=n(578);Object.defineProperty(t,"ShowRedactPlaceDialogController",{enumerable:!0,get:function(){return se(re).default}});var ie=n(575);Object.defineProperty(t,"ShowSearchPanelController",{enumerable:!0,get:function(){return se(ie).default}});var ae=n(20);function se(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"StatefulController",{enumerable:!0,get:function(){return se(ae).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1742);Object.defineProperty(t,"TypingInkSignImageGenerator",{enumerable:!0,get:function(){return i(o).default}});var r=n(1743);function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"InkSignImageDataTool",{enumerable:!0,get:function(){return i(r).default}})},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";o(this,e),this.fontFamily="Microsoft YaHei",this.fontSize=50,this.content=t}return e.prototype.setFontFamily=function(e){this.fontFamily=e},e.prototype.getFontFamily=function(){return this.fontFamily},e.prototype.setFontSize=function(e){this.fontSize=e},e.prototype.getFontSize=function(){return this.fontSize},e.prototype.setContent=function(e){this.content=e},e.prototype.generateImage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:114,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:57;if(!this.content)return null;var n=document.createElement("canvas");n.width=e,n.height=t;var o=n.getContext("2d");return o.font=this.fontSize+"px "+this.fontFamily,o.strokeStyle="#000000",o.textAlign="center",o.textBaseline="middle",o.fillText(this.content,n.width/2,n.height/2),o.stroke(),n.toDataURL("image/png",1)},e.prototype.importFontFamily=function(e,t){var n=document.createElement("style"),o=document.createElement("div");n.innerHTML="@font-face{font-family:"+e+";src:url("+t+")}",o.style.fontFamily=e,document.body.appendChild(n),document.body.appendChild(o),setTimeout((function(){document.body.removeChild(o)}),100)},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(21),i=(o=r)&&o.__esModule?o:{default:o};var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.transformImageToBase64FromURL=function(t){return e.getDataUrlFromImageUrlSrc(t).then(s)},e.transformImageToBase64FromBlob=function(t){if(t){var n=URL.createObjectURL(t);return e.getDataUrlFromImageUrlSrc(n).then(s).finally((function(e){URL.revokeObjectURL(n)}))}},e.getDataUrlFromImageUrlSrc=function(e){var t=new Image,n=(0,i.default)();return t.onload=function(){var e=document.createElement("canvas");e.width=t.width,e.height=t.height,e.getContext("2d").drawImage(t,0,0),n.resolve(e.toDataURL())},t.onerror=function(t){var o=new Error("Failed to load image from "+e);o.originEvent=t,n.reject(o)},t.oncancel=function(t){var o=new Error("Load image from "+e+" has been cancelled");o.originEvent=t,n.reject(o)},t.crossOrigin="anonymous",t.src=e,n.promise},e}();function s(e){var t=e.indexOf("base64,");return e.slice(t+"base64,".length)}t.default=a},function(e,t,n){var o=n(1745);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(1747)(o,r);o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(1746)(!1)).push([e.i,"",""])},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",o=e[3];if(!o)return n;if(t&&"function"==typeof btoa){var r=(a=o,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),i=o.sources.map((function(e){return"/*# sourceURL="+o.sourceRoot+e+" */"}));return[n].concat(i).concat([r]).join("\n")}var a;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var o={},r=0;r<this.length;r++){var i=this[r][0];"number"==typeof i&&(o[i]=!0)}for(r=0;r<e.length;r++){var a=e[r];"number"==typeof a[0]&&o[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){var o,r,i={},a=(o=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=o.apply(this,arguments)),r}),s=function(e){return document.querySelector(e)},c=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var n=s.call(this,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),u=null,l=0,f=[],p=n(1748);function d(e,t){for(var n=0;n<e.length;n++){var o=e[n],r=i[o.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](o.parts[a]);for(;a<o.parts.length;a++)r.parts.push(b(o.parts[a],t))}else{var s=[];for(a=0;a<o.parts.length;a++)s.push(b(o.parts[a],t));i[o.id]={id:o.id,refs:1,parts:s}}}}function h(e,t){for(var n=[],o={},r=0;r<e.length;r++){var i=e[r],a=t.base?i[0]+t.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};o[a]?o[a].parts.push(s):n.push(o[a]={id:a,parts:[s]})}return n}function g(e,t){var n=c(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=f[f.length-1];if("top"===e.insertAt)o?o.nextSibling?n.insertBefore(t,o.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),f.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=c(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,r)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=f.indexOf(e);t>=0&&f.splice(t,1)}function v(e){var t=document.createElement("style");return void 0===e.attrs.type&&(e.attrs.type="text/css"),y(t,e.attrs),g(e,t),t}function y(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function b(e,t){var n,o,r,i;if(t.transform&&e.css){if(!(i=t.transform(e.css)))return function(){};e.css=i}if(t.singleton){var a=l++;n=u||(u=v(t)),o=P.bind(null,n,a,!1),r=P.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",y(t,e.attrs),g(e,t),t}(t),o=E.bind(null,n,t),r=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=v(t),o=O.bind(null,n),r=function(){m(n)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=h(e,t);return d(n,t),function(e){for(var o=[],r=0;r<n.length;r++){var a=n[r];(s=i[a.id]).refs--,o.push(s)}e&&d(h(e,t),t);for(r=0;r<o.length;r++){var s;if(0===(s=o[r]).refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete i[s.id]}}}};var w,_=(w=[],function(e,t){return w[e]=t,w.filter(Boolean).join("\n")});function P(e,t,n,o){var r=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=_(t,r);else{var i=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function O(e,t){var n=t.css,o=t.media;if(o&&e.setAttribute("media",o),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function E(e,t,n){var o=n.css,r=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||i)&&(o=p(o)),r&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([o],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,o=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var r,i=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(r=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:o+i.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")}))}},function(e,t,n){"use strict";n.r(t);var o=n(7),r=n(21),i=n.n(r),a=n(13),s=n.n(a),c=n(36),u=n(9),l=n.n(u),f=n(1),p=n.n(f),d=n(15),h=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a},g=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e};function m(e,t){var n=g(e.data.annots);if(t.action===d.COLLABORATION_ACTION.REMOVE_ANNOT){for(var o=t.data.slice(0),r=0;r<o.length;){for(var i=o[r],a=i.annotId,s=i.pageIndex,c=!1,u=0;u<n.length;){var l=n[u];l.name===a&&l.page===s?(n.splice(u,1),c=!0):u++}c?o.splice(r,1):r++}var f=[];return n.length>0&&f.push({version:Math.min(e.version,t.version),fileId:e.fileId,action:d.COLLABORATION_ACTION.UPDATE_ANNOT,data:{annots:n}}),o.length>0&&f.push({version:Math.max(e.version,t.version),fileId:e.fileId,action:t.action,data:o}),f}return n.push.apply(n,g(t.data.annots)),[{version:Math.max(e.version,t.version),fileId:e.fileId,action:d.COLLABORATION_ACTION.UPDATE_ANNOT,data:{annots:n}}]}var v,y=(v=function(e,t){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}v(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),b=function(e){function t(t){var n=e.call(this,t)||this;return n.name="CollaborationDataError",n}return y(t,e),t}(Error),w=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),_=function(e){function t(t){var n=e.call(this,'No handler found for collaboration action: "'+t.action+'", that will be ignored!')||this;return n.name="NoHandlerFoundForCollaborationDataError",n}return w(t,e),t}(Error),P=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),O=function(e){function t(){var t=e.call(this,"No files area currently open, cannot handling the received collaboration data")||this;return t.name="PDFDocumentNotOpeningError",t}return P(t,e),t}(Error),E=function(){function e(e){this.handler=e.reduce((function(e,t){return new x(t,e)}))}return e.prototype.accept=function(e){return Promise.resolve(!0)},e.prototype.receive=function(e,t){return this.handler.receive(e,t)},e}(),x=function(){function e(e,t){this.handler=e,this.prevHandler=t}return e.prototype.accept=function(e){return Promise.resolve(!0)},e.prototype.receive=function(e,t){return this.handler.receive(e,this.prevHandler||t)},e}(),C=n(77),A=n(22),S=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),D=function(){return(D=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},T=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a},I=l.a.getLogger("Collaboration");function R(e,t){return e<15}var M=function(e){function t(t,n,o){void 0===o&&(o=R);var r=e.call(this)||this;return r.pdfViewer=t,r.communicator=n,r.continueToConnect=o,r.builtInHandlerInstances=[],r.userHandlerInstances=[],r.version=0,r.queuedExecutor=new c.QueuedAsyncTaskExecutor,r.sessionDefer=i()(),r.isOpenedFromOtherClient=!1,r.localDataOnDisconnected=[],r}return S(t,e),t.prototype.registerBuiltInHandler=function(e){this.builtInHandlerInstances.push(new e(this.pdfViewer))},t.prototype.registerUserHandler=function(e){this.userHandlerInstances.push(new e(this.pdfViewer))},t.prototype.registerCollabDataHandler=function(e,t){if("function"==typeof e){if(!e.prototype.accept||!e.prototype.receive)throw new Error("Illegal collaboration data handler: "+e);this.registerUserHandler(e)}else"string"==typeof e&&"function"==typeof t&&this.registerUserHandler(function(){function n(){}return n.prototype.accept=function(t){return Promise.resolve(t.action===e)},n.prototype.receive=function(e,n){return t.call(this,e,(function(e){return n?n.receive(e):Promise.resolve()}))},n}())},t.prototype.prepare=function(){var e=this;this.communicator.registerMessageReceiver((function(t){e.queuedExecutor.exec((function(){return e.handleServerMessage(t)}))}));var t,n=function(t){var n;(n=(n="function"==typeof t.isGrouped&&t.isGrouped()?t.getGroupElements():[t]).filter((function(e){return"screen"!==e.info.type&&"link"!==e.info.type}))).length>0&&t.page.doc.exportAnnotsToJSON(n).then((function(t){e.send({action:d.COLLABORATION_ACTION.CREATE_ANNOT,data:{annots:t}})}))},o=function(e){var n,o=e.annot;"link"!==o.info.type&&"screen"!==o.info.type&&(n=o.isGrouped&&o.isGrouped()?o.getGroupElements():[o],t={action:d.COLLABORATION_ACTION.REMOVE_ANNOT,data:n.map((function(e){return{annotId:e.getId(),pageIndex:e.getPDFPage().getIndex()}}))})},r=function(){t&&e.send(t),t=void 0},a=function(t){var n,o=t.annot;(n=(n=o.isGrouped&&o.isGrouped()?o.getGroupElements():[o]).filter((function(e){return"screen"!==e.info.type&&"link"!==e.info.type}))).length>0&&o.page.doc.exportAnnotsToJSON(n).then((function(t){e.send({action:d.COLLABORATION_ACTION.UPDATE_ANNOT,data:{annots:t}})}))},s=function(t,n){if(e.isOpenedFromOtherClient)return e.sessionDefer.promise.then((function(n){return e.sync().then((function(){return e.communicator.connect(n.shareId),t}))}));delete n.options.password,e.communicator.createSession(t,n).then((function(t){return e.sessionDefer.resolve({shareId:t,openFileParams:n}),e.communicator.connect(t)})).then((function(){return e.sync()}))},c=function(){e.isOpenedFromOtherClient=!1,e.communicator.disconnect(),e.sessionDefer=i()()},u=this.pdfViewer.eventEmitter;u.on(p.a.addAnnotSuccess,n),u.on(p.a.removeActionAnnotationBefore,o),u.on(p.a.removeActiveAnnotationSuccess,r),u.on(p.a.updateActiveAnnotation,a),u.on(p.a.openFileSuccess,s),u.on(p.a.willCloseDocument,c),this.addDestroyHook((function(){u.off(p.a.addAnnotSuccess,n),u.off(p.a.removeActionAnnotationBefore,o),u.off(p.a.removeActiveAnnotationSuccess,r),u.off(p.a.updateActiveAnnotation,a),u.off(p.a.openFileSuccess,s),u.off(p.a.willCloseDocument,c)}))},t.prototype.getSessionInfo=function(){return this.sessionDefer.promise},t.prototype.getShareId=function(){return this.sessionDefer.promise.then((function(e){return e.shareId}))},t.prototype.send=function(e){var t=this;return this.communicator?this.queuedExecutor.exec((function(){return t.reconnectIfNecessary().then((function(){return t.sessionDefer.promise})).then((function(e){return t.localDataOnDisconnected.length>0?t.sync().then((function(){return e})):e})).then((function(n){var o=t.localDataOnDisconnected.concat(e).map((function(e){var o=t.pdfViewer.getCurrentPDFDoc(),r=D(D({},e),{version:++t.version,fileId:o.info.fileID});return t.communicator.send(n,JSON.stringify(r))}));return t.localDataOnDisconnected.length=0,Promise.all(o)}),(function(n){return t.localDataOnDisconnected.push(e),Promise.reject(n)}))})):o.RESOLVED_PROMISE_VOID},t.prototype.openFileByShareId=function(e){var t=this;return this.communicator.getSessionInfo(e).then((function(e){if(!e)throw(o=new Error("Unexpected session info for opening file: "+JSON.stringify(e))).error=A.Error_Code.collaborationSession,o;t.sessionDefer.resolve(e);var n=e.openFileParams;switch(n.type){case C.OPEN_FILE_TYPE.FROM_FILE:return t.isOpenedFromOtherClient=!0,t.pdfViewer.openPDFByFile(n.file,n.options||{});case C.OPEN_FILE_TYPE.FROM_URL:return t.isOpenedFromOtherClient=!0,t.pdfViewer.openPDFByHttpRangeRequest({range:n.range,size:n.size},n.options);default:var o;throw(o=new Error("Unexpected session info for opening file:"+JSON.stringify(n))).error=A.Error_Code.collaborationSession,o}}))},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.communicator.destroy()},t.prototype.reconnectIfNecessary=function(e){var t=this;void 0===e&&(e=0);var n=function(n){if(!t.continueToConnect(e,n))throw new Error("Failed to reconnect to the collaboration server");return t.reconnectIfNecessary(e+1)};return this.communicator.isConnected().then((function(e){return!!e||t.sessionDefer.promise.then((function(e){var o=e.shareId;return t.communicator.connect(o).then((function(){return t.communicator.isConnected()})).then((function(e){if(!e)return n(o)}),(function(e){return l.a.getLogger("COLLABORATION").error("An error occurred while connect to the collaboration server",e),n(o)}))}))}))},t.prototype.sync=function(){var e=this;return this.sessionDefer.promise.then((function(t){var n=t.shareId;return e.communicator.getLostData(n,e.version)})).then((function(t){if(t&&0!==t.length)return e.version=t[t.length-1].version,function(e){if(e.length<1)return e;for(var t=[e[0]],n=1,o=e.length;n<o;n++){var r=t[t.length-1],i=e[n];r.action!==d.COLLABORATION_ACTION.UPDATE_ANNOT&&r.action!==d.COLLABORATION_ACTION.CREATE_ANNOT||i.action!==d.COLLABORATION_ACTION.UPDATE_ANNOT&&i.action!==d.COLLABORATION_ACTION.CREATE_ANNOT&&i.action!==d.COLLABORATION_ACTION.REMOVE_ANNOT?t.push(i):(t.splice.apply(t,g([t.length-1,1],m(r,i))),0===t.length&&(n<o-1&&t.push(e[n+1]),n++))}return t.forEach((function(e){e.action===d.COLLABORATION_ACTION.UPDATE_ANNOT&&(e.data.annots=e.data.annots.reduceRight((function(e,t){return-1===e.findIndex((function(e){return e.name===t.name}))&&e.push(t),e}),[]))})),t}(t).reduce((function(t,n){return e.findHandler(n).then((function(e){var o=T(e,2),r=o[0],i=o[1];return r?t.finally((function(){return r.receive(n,i)})):(I.warn(new _(n)),t)}))}),o.RESOLVED_PROMISE_VOID)}))},t.prototype.findHandlerAsync=function(e,t,n){var o=function(e,t,r){return r>=e.length?Promise.resolve(void 0):e[r].accept(t).then((function(i){if(i&&n(e[r]))return;return o(e,t,r+1)}))};return o(e,t,0)},t.prototype.findFirstHandlerAsync=function(e,t){var n=i()();return this.findHandlerAsync(e,t,(function(e){return n.resolve(e),!0})),n.promise},t.prototype.findAllMatchHandlersAsync=function(e,t){var n=[];return this.findHandlerAsync(e,t,(function(e){return n.push(e),!1})).then((function(){return n}))},t.prototype.findHandler=function(e){var t=this;return this.findAllMatchHandlersAsync(this.userHandlerInstances,e).then((function(n){return t.findFirstHandlerAsync(t.builtInHandlerInstances,e).then((function(e){switch(n.length){case 0:return[e,e];case 1:return[n[0],e]}return[new E(n),e]}))}))},t.prototype.handleServerMessage=function(e){var t=this,n=this.pdfViewer.getCurrentPDFDoc();if(!n)throw new O;var o=n.info.fileID,r=JSON.parse(e);if(!this.isSameFileID(r.fileId,o))throw new b("File id not match! remote: "+r.fileId+", local: "+o);return this.findHandler(r).then((function(n){var o=T(n,2),i=o[0],a=o[1];if(i)return r.version-t.version!=1?t.sync():(t.version=r.version,i.receive(r,a));throw new b("No handler found for the collaboration data: "+e)}))},t.prototype.isSameFileID=function(e,t){return e.length===t.length&&!e.some((function(e){return-1===t.indexOf(e)}))},t}(s.a);t.default=M},function(e,t,n){"use strict";function o(){var e,t=document.createElement("div");t.style.color="rgb(31,41,59)",document.body.appendChild(t);try{return"rgb(31,41,59)"!==(e=t,document.defaultView?document.defaultView.getComputedStyle(e):e.currentStyle).color.replace(/ /g,"")}finally{document.body.removeChild(t)}}n.r(t);var r,i=n(13),a=n.n(i),s=n(28),c=n(49),u=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(e){function t(){var t=e.call(this)||this;t.isHighContrast=!1,t.store=new s.Store;var n=function(){t.detectAndTriggerHighContrast()};return window.addEventListener("focus",n),t.addDestroyHook((function(){t.store.destroy(),window.removeEventListener("focus",n)})),t.detectAndTriggerHighContrast(),t}return u(t,e),t.scope=function(){return c.ServiceScope.SHARED_SINGLETON},t.prototype.detectAndTriggerHighContrast=function(){var e=o();this.isHighContrast!==e&&(this.store.dispatch("fv-high-contrast-mode",e),this.isHighContrast=e)},t.prototype.onHighContrastChange=function(e){return this.store.subscribe("fv-high-contrast-mode",e)},t}(a.a);t.default=l},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var o={aac:"audio/aac",abw:"application/x-abiword",arc:"application/x-freearc",avi:"video/x-msvideo",azw:"application/vnd.amazon.ebook",bin:"application/octet-stream",bmp:"image/bmp",bz:"application/x-bzip",bz2:"application/x-bzip2",csh:"application/x-csh",css:"text/css",csv:"text/csv",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",eot:"application/vnd.ms-fontobject",epub:"application/epub+zip",gz:"application/gzip",gif:"image/gif",html:"text/html",ico:"image/vnd.microsoft.icon",ics:"text/calendar",jar:"application/java-archive",jpg:"image/jpeg",jpeg:"image/jpeg",js:"text/javascript",json:"application/json",jsonld:"application/ld+json",mid:"audio/midi",midi:"audio/x-midi",mjs:"text/javascript",mp3:"audio/mpeg",cda:"application/x-cdf",mp4:"video/mp4",mpeg:"video/mpeg",mpkg:"application/vnd.apple.installer+xml",odp:"application/vnd.oasis.opendocument.presentation",ods:"application/vnd.oasis.opendocument.spreadsheet",odt:"application/vnd.oasis.opendocument.text",oga:"audio/ogg",ogv:"video/ogg",ogx:"application/ogg",opus:"audio/opus",otf:"font/otf",png:"image/png",pdf:"application/pdf",fdf:"application/vnd.fdf",xfdf:"application/vnd.adobe.fdf",php:"application/x-httpd-php",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",rar:"application/vnd.rar",rtf:"application/rtf",sh:"application/x-sh",svg:"image/svg+xml",swf:"application/x-shockwave-flash",tar:"application/x-tar",tif:"image/tiff",".tiff":"image/tiff",ts:"video/mp2t",ttf:"font/ttf",txt:"text/plain",vsd:"application/vnd.visio",wav:"audio/wav",weba:"audio/webm",webm:"video/webm",webp:"image/webp",woff:"font/woff",woff2:"font/woff2",xhtml:"application/xhtml+xml",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xml:"application/xml",xul:"application/vnd.mozilla.xul+xml",zip:"application/zip","3gp":"video/3gpp","3g2":"video/3gpp2","7z":"application/x-7z-compressed"};function r(e,t){return void 0===t&&(t="application/octet-stream"),o[e]||t}},function(e,t,n){"use strict";n.r(t);var o=n(85);var r=function(){function e(e){Object(o.assertThat)(Array.isArray(e),"Illegal Matrix values, it should be an array! But actual: "+e),Object(o.assertThat)(16===e.length,"Incorrect matrix values size, it must be 16!"),this.values=e,this.cols=Math.sqrt(e.length)}return e.prototype.multiVec4=function(e,t,n,o){return void 0===o&&(o=1),[this.getAt(0,0)*e+this.getAt(0,1)*t+this.getAt(0,2)*n+this.getAt(0,3)*o,this.getAt(1,0)*e+this.getAt(1,1)*t+this.getAt(1,2)*n+this.getAt(1,3)*o,this.getAt(2,0)*e+this.getAt(2,1)*t+this.getAt(2,2)*n+this.getAt(2,3)*o,this.getAt(3,0)*e+this.getAt(3,1)*t+this.getAt(3,2)*n+this.getAt(3,3)*o]},e.prototype.getAt=function(e,t){var n=e*this.cols+t;return Object(o.assertThat)(n<this.values.length,"Cannot access value at ("+e+","+t+"), it out bound of this matrix!"),this.values[n]},e}(),i=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a},a=function(){function e(e,t,n,o){void 0===n&&(n=0),void 0===o&&(o=1),this.a=e,this.b=t,this.c=n,this.d=o}return e.prototype.transform=function(t){var n=i(t.multiVec4(this.a,this.b,this.c,this.d),4);return new e(n[0],n[1],n[2],n[3])},e.prototype.scale=function(e,t,n){return void 0===t&&(t=e),void 0===n&&(n=t),this.transform(function(e,t,n){return void 0===t&&(t=e),void 0===n&&(n=t),new r([e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1])}(e,t,n))},e.prototype.rotateZ=function(e){return this.transform(function(e){void 0===e&&(e=0);var t=e/180*Math.PI,n=Math.cos(t),o=Math.sin(t);return new r([n,o,0,0,-o,n,0,0,0,0,1,0,0,0,0,1])}(e))},e.prototype.translate=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=0),this.transform(function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=0),new r([1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1])}(e,t,n))},e}();t.default=a}])}));